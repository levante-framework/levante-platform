import{d as h,e as g,bG as f,a as k,cq as D,cr as _,k as R,L as A}from"./index-kdKfEdeI.js";import{A as $,g as x}from"./survey-CRadXOqO.js";import{o as I,R as o,O as r,N as a,M as w,z as e,k as v,W as C,F as d,a0 as S}from"./tanstack-CsBZeLmk.js";import"./phoneme-MNW3QAs-.js";import"./sentry-CX5z418I.js";import"./lodash-DAY8-RAI.js";import"./bucket-D8HfKr8u.js";(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},u=new i.Error().stack;u&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[u]="a8723b18-6d11-4216-9e60-9569fdd13682",i._sentryDebugIdIdentifier="sentry-dbid-a8723b18-6d11-4216-9e60-9569fdd13682")}catch{}})();const L={key:0},B={key:0,class:"text-2xl font-bold text-black text-center"},T={key:1},z={__name:"UserSurvey",setup(i){const u=h(),l=g(),t=f(),{locale:m}=k(),y=new $;I(()=>{t.survey||l.push({name:"Home"})}),D(()=>{const s=f();s.currentSurveyAudioSource&&s.currentSurveyAudioSource.stop()});async function b(s){const p=x(m.value);t.currentSurveyAudioSource&&await t.currentSurveyAudioSource.stop();const n=y.createBufferSource();t.currentSurveyAudioSource=n,n.buffer=t.surveyAudioPlayerBuffers[p][s],n.connect(y.destination),n.start(0)}return(s,p)=>(r(),o(d,null,[e(t).survey&&!e(t).isSavingSurveyResponses&&(!e(t).surveyAudioLoading||e(u).userData.userType==="student")?(r(),o("div",L,[e(u).userData.userType!=="student"&&e(t).isGeneralSurveyComplete?(r(),o("h1",B,C(e(u).userData.userType==="parent"?`${s.$t("userSurvey.specificRelationDescriptionChildA")} ${e(t).specificSurveyRelationData[e(t).specificSurveyRelationIndex].birthMonth} ${s.$t("userSurvey.specificRelationDescriptionChildB")} ${e(t).specificSurveyRelationData[e(t).specificSurveyRelationIndex].birthYear}`:`${s.$t("userSurvey.specificRelationDescriptionClass")} ${e(t).specificSurveyRelationData[e(t).specificSurveyRelationIndex].name}`),1)):a("",!0),v(e(_),{model:e(t).survey},null,8,["model"]),e(u).userData.userType==="student"?(r(),o("div",T,[(r(!0),o(d,null,S(e(t).survey.pages,n=>(r(),o("div",{key:n.name},[(r(!0),o(d,null,S(n.elements[0].elements||n.elements,c=>(r(),o("div",{key:c.name},[v(e(R),{id:"audio-button-"+c.name,icon:"pi pi-volume-up text-white",style:{display:"none"},onClick:M=>b(c.name)},null,8,["id","onClick"])]))),128))]))),128))])):a("",!0)])):a("",!0),!e(t).survey||e(t).isSavingSurveyResponses||e(t).surveyAudioLoading?(r(),w(A,{key:1,fullscreen:""})):a("",!0)],64))}};export{z as default};
//# sourceMappingURL=UserSurvey-BKzeIYGE.js.map
