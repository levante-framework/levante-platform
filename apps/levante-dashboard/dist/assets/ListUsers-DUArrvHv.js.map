{"version":3,"file":"ListUsers-DUArrvHv.js","sources":["../../src/composables/queries/useOrgUsersQuery.ts","../../src/components/EditUsersForm.vue","../../src/pages/users/ListUsers.vue"],"sourcesContent":["import { type MaybeRefOrGetter } from 'vue';\nimport { useQuery, type UseQueryReturnType, type UseQueryOptions } from '@tanstack/vue-query';\nimport { fetchUsersByOrg } from '@/helpers/query/users';\nimport { ORG_USERS_QUERY_KEY } from '@/constants/queryKeys';\n/**\n * Organisation Users query.\n *\n * @param {QueryOptions|undefined} queryOptions â€“ Optional TanStack query options.\n * @returns {UseQueryResult} The TanStack query result.\n */\nconst useOrgUsersQuery = (orgType, orgId, page, orderBy, queryOptions?: UseQueryOptions): UseQueryReturnType => {\n  const itemsPerPage = 1000000; // @TODO: Replace with a more reasonable value.\n\n  return useQuery({\n    queryKey: [ORG_USERS_QUERY_KEY, orgType, orgId, page, orderBy],\n    queryFn: () => fetchUsersByOrg(orgType, orgId, itemsPerPage, page, orderBy),\n    ...queryOptions,\n  });\n};\n\nexport default useOrgUsersQuery;\n","<template>\n  <div v-if=\"localUserType === 'student'\" class=\"form-container\">\n    <div class=\"form-column\">\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\"\n          >Date of Birth\n          <span v-if=\"localUserType === 'student'\" v-tooltip.top=\"'Required'\" class=\"required\">*</span></label\n        >\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userDobString }}\n        </div>\n        <PvDatePicker\n          v-else\n          v-model=\"localUserData.studentData.dob\"\n          :class=\"{ 'p-invalid': errorMessage.includes('Date of birth') }\"\n        />\n        <small v-if=\"errorMessage.includes('Date of birth')\" class=\"p-error\"\n          >Date of Birth can not be in the future.</small\n        >\n      </div>\n\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\"\n          >Grade <span v-if=\"localUserType === 'student'\" v-tooltip.top=\"'Required'\" class=\"required\">*</span></label\n        >\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.studentData?.grade ?? 'None' }}\n        </div>\n        <PvInputText\n          v-else\n          v-model=\"localUserData.studentData.grade\"\n          :class=\"{ 'p-invalid': errorMessage.includes('Grade') }\"\n        />\n        <small v-if=\"errorMessage.includes('Grade')\" class=\"p-error\">Grade must be a number 1-13, or K/PK/TK</small>\n      </div>\n      <div v-if=\"isSuperAdmin\">\n        <div>\n          <PvCheckbox v-model=\"localUserData.testData\" binary />\n          <label class=\"ml-2\">Test Data? <span v-tooltip.top=\"'Super Admin Only'\" class=\"admin-only\">*</span></label>\n        </div>\n        <div>\n          <PvCheckbox v-model=\"localUserData.demoData\" binary />\n          <label class=\"ml-2\">Demo Data? <span v-tooltip.top=\"'Super Admin Only'\" class=\"admin-only\">*</span></label>\n        </div>\n      </div>\n    </div>\n    <div class=\"form-column\">\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\">Gender</label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.studentData?.gender ?? 'None' }}\n        </div>\n        <PvInputText v-else v-model=\"localUserData.studentData.gender\" />\n      </div>\n\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\">English as a Second Language</label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.studentData?.ell_status ?? false }}\n        </div>\n        <PvSelect\n          v-else\n          v-model=\"localUserData.studentData.ell_status\"\n          option-label=\"label\"\n          option-value=\"value\"\n          :options=\"binaryDropdownOptions\"\n        />\n      </div>\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\">IEP Status</label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.studentData?.iep_status ?? false }}\n        </div>\n        <PvSelect\n          v-else\n          v-model=\"localUserData.studentData.iep_status\"\n          option-label=\"label\"\n          option-value=\"value\"\n          :options=\"binaryDropdownOptions\"\n        />\n      </div>\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\">Free-Reduced Lunch</label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.studentData?.frl_status ?? false }}\n        </div>\n        <PvSelect\n          v-else\n          v-model=\"localUserData.studentData.frl_status\"\n          option-label=\"label\"\n          option-value=\"value\"\n          :options=\"binaryDropdownOptions\"\n        />\n      </div>\n\n      <div class=\"form-field\">\n        <label for=\"race\" :class=\"{ 'font-light uppercase text-sm': !editMode }\">Race </label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.studentData?.race?.join(', ') ?? 'None' }}\n        </div>\n        <PvAutoComplete\n          v-else\n          v-model=\"localUserData.studentData.race\"\n          multiple\n          :suggestions=\"raceOptions\"\n          name=\"race\"\n          @complete=\"searchRaces\"\n        />\n      </div>\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\">Hispanic or Latino Ethnicity</label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.studentData?.hispanic_ethnicity ?? false }}\n        </div>\n        <PvSelect\n          v-else\n          v-model=\"localUserData.studentData.hispanic_ethnicity\"\n          option-label=\"label\"\n          option-value=\"value\"\n          :options=\"binaryDropdownOptions\"\n        />\n      </div>\n    </div>\n  </div>\n  <div v-else-if=\"localUserType === 'admin'\" class=\"form-container\">\n    <div class=\"form-column\">\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\">First Name</label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.name?.first ?? 'None' }}\n        </div>\n        <PvInputText v-else v-model=\"localUserData.name.first\" />\n      </div>\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\">Middle Name</label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.name?.middle ?? 'None' }}\n        </div>\n        <PvInputText v-else v-model=\"localUserData.name.middle\" />\n      </div>\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\">Last Name</label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.name?.last ?? 'None' }}\n        </div>\n        <PvInputText v-else v-model=\"localUserData.name.last\" />\n      </div>\n\n      <div v-if=\"isSuperAdmin\">\n        <div>\n          <PvCheckbox v-if=\"editMode\" v-model=\"localUserData.testData\" binary class=\"mr-2\" />\n          <label :class=\"{ 'font-light uppercase text-sm': !editMode }\"\n            >Test Data? <span v-tooltip.top=\"'Super Admin Only'\" class=\"admin-only\">*</span></label\n          >\n          <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n            {{ localUserData.testData ? 'Yes' : 'No' }}\n          </div>\n        </div>\n        <div>\n          <PvCheckbox v-if=\"editMode\" v-model=\"localUserData.demoData\" binary class=\"mr-2\" />\n          <label :class=\"{ 'font-light uppercase text-sm': !editMode }\"\n            >Demo Data? <span v-tooltip.top=\"'Super Admin Only'\" class=\"admin-only\">*</span></label\n          >\n          <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n            {{ localUserData.demoData ? 'Yes' : 'No' }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"form-column\">\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\"\n          >Date of Birth\n          <span v-if=\"editMode\" class=\"optional\">(optional)</span>\n        </label>\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userDobString }}\n        </div>\n        <PvDatePicker\n          v-else\n          v-model=\"localUserData.studentData.dob\"\n          :class=\"{ 'p-invalid': errorMessage.includes('Date of birth') }\"\n        />\n        <small v-if=\"errorMessage.includes('Date of birth')\" class=\"p-error\"\n          >Date of Birth can not be in the future.</small\n        >\n      </div>\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\"\n          >Gender <span v-if=\"editMode\" class=\"optional\">(optional)</span></label\n        >\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.studentData?.gender ?? 'None' }}\n        </div>\n        <PvInputText v-else v-model=\"localUserData.studentData.gender\" />\n      </div>\n\n      <div class=\"form-field\">\n        <label :class=\"{ 'font-light uppercase text-sm': !editMode }\"\n          >English as a Second Language <span v-if=\"editMode\" class=\"optional\">(optional)</span></label\n        >\n        <div v-if=\"!editMode\" :class=\"{ 'text-xl': !editMode }\">\n          {{ userData?.studentData?.ell_status ?? false }}\n        </div>\n        <PvSelect\n          v-else\n          v-model=\"localUserData.studentData.ell_status\"\n          option-label=\"label\"\n          option-value=\"value\"\n          :options=\"binaryDropdownOptions\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { watch, ref, onMounted, computed } from 'vue';\nimport { useAuthStore } from '@/store/auth';\nimport { storeToRefs } from 'pinia';\nimport _isEmpty from 'lodash/isEmpty';\nimport _get from 'lodash/get';\nimport PvAutoComplete from 'primevue/autocomplete';\nimport PvDatePicker from 'primevue/datepicker';\nimport PvCheckbox from 'primevue/checkbox';\nimport PvSelect from 'primevue/select';\nimport PvInputText from 'primevue/inputtext';\nimport useUserClaimsQuery from '@/composables/queries/useUserClaimsQuery';\n\ninterface Name {\n  first?: string | null;\n  middle?: string | null;\n  last?: string | null;\n}\n\ninterface StudentData {\n  dob?: Date | string | null;\n  grade?: string;\n  gender?: string;\n  race?: string[];\n  hispanic_ethnicity?: boolean;\n  ell_status?: boolean;\n  frl_status?: boolean;\n  iep_status?: boolean;\n}\n\ninterface UserData {\n  name?: Name;\n  studentData?: StudentData;\n  testData?: boolean;\n  demoData?: boolean;\n  userType?: string;\n}\n\ninterface LocalUserData {\n  name: {\n    first: string | null;\n    middle: string | null;\n    last: string | null;\n  };\n  studentData: {\n    dob: Date | null;\n    grade: string;\n    gender: string;\n    race: string[];\n    hispanic_ethnicity: boolean;\n    ell_status: boolean;\n    frl_status: boolean;\n    iep_status: boolean;\n  };\n  testData: boolean;\n  demoData: boolean;\n  userType?: string;\n  dataInitialized: boolean;\n}\n\ninterface Props {\n  userData: UserData;\n  userType?: string;\n  editMode?: boolean;\n}\n\ninterface BinaryOption {\n  label: string;\n  value: boolean;\n}\n\ninterface AutoCompleteEvent {\n  query: string;\n}\n\ninterface Emits {\n  modalClosed: [];\n  'update:userData': [userData: LocalUserData];\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  userType: 'student',\n  editMode: false,\n});\n\n// Handle modal opening / closing\nconst emit = defineEmits<Emits>();\n\nconst authStore = useAuthStore();\nconst { roarfirekit } = storeToRefs(authStore);\nconst initialized = ref<boolean>(false);\n\nwatch(\n  () => props.userData,\n  (userData) => {\n    // Set up localUserData object if it has not been initialized\n    if (!_isEmpty(userData) && _get(localUserData, 'dataInitialized', false) === false) {\n      setupUserData();\n    }\n  },\n);\n\n// Utility functions\nconst localUserData = ref<LocalUserData>({\n  name: {\n    first: null,\n    middle: null,\n    last: null,\n  },\n  studentData: {\n    dob: null,\n    grade: '',\n    gender: '',\n    race: [],\n    hispanic_ethnicity: false,\n    ell_status: false,\n    frl_status: false,\n    iep_status: false,\n  },\n  testData: false,\n  demoData: false,\n  dataInitialized: false,\n});\nconst errorMessage = ref<string>('');\n\n// Create a local version of the userData to perform updates on\nconst setupUserData = (): void => {\n  let user: LocalUserData = {\n    name: {\n      first: props.userData?.name?.first || null,\n      middle: props.userData?.name?.middle || null,\n      last: props.userData?.name?.last || null,\n    },\n    studentData: {\n      dob: !isNaN(new Date(props.userData?.studentData?.dob as string).getTime())\n        ? new Date(props.userData?.studentData?.dob as string)\n        : null,\n      grade: props.userData?.studentData?.grade || '',\n      gender: props.userData?.studentData?.gender || '',\n      race: props.userData?.studentData?.race || [],\n      hispanic_ethnicity: props.userData?.studentData?.hispanic_ethnicity || false,\n      ell_status: props.userData?.studentData?.ell_status || false,\n      frl_status: props.userData?.studentData?.frl_status || false,\n      iep_status: props.userData?.studentData?.iep_status || false,\n    },\n    testData: props.userData?.testData || false,\n    demoData: props.userData?.demoData || false,\n    userType: localUserType.value || undefined,\n    dataInitialized: true,\n  };\n  localUserData.value = user;\n};\n\n// Keep track of the user's type\nconst localUserType = computed((): string | null => {\n  if (props.userData?.userType) return props.userData.userType;\n  if (props.userType) return props.userType;\n  return null;\n});\n\nconst userDobString = computed((): string => {\n  if (localUserData.value?.studentData?.dob instanceof Date) {\n    return localUserData.value?.studentData?.dob.toDateString();\n  } else return 'None';\n});\n\nconst races: string[] = [\n  'american Indian or alaska Native',\n  'asian',\n  'black or african American',\n  'native hawaiian or other pacific islander',\n  'white',\n];\n\nconst raceOptions = ref<string[]>([...races]);\nconst binaryDropdownOptions: BinaryOption[] = [\n  { label: 'Yes', value: true },\n  { label: 'No', value: false },\n];\n\nconst searchRaces = (event: AutoCompleteEvent): void => {\n  const query = event.query.toLowerCase();\n\n  let filteredOptions = races.filter((opt) => opt.toLowerCase().includes(query));\n\n  if (filteredOptions.length === 0 && query) {\n    filteredOptions.push(query);\n  } else {\n    filteredOptions = filteredOptions.map((opt) => opt);\n  }\n\n  raceOptions.value = filteredOptions;\n};\n\nlet unsubscribe: (() => void) | undefined;\nconst init = (): void => {\n  if (unsubscribe) unsubscribe();\n  initialized.value = true;\n};\n\nunsubscribe = authStore.$subscribe(async (mutation, state) => {\n  if ((state.roarfirekit as any)?.restConfig) init();\n});\n\nonMounted((): void => {\n  console.log('onMounted hook called');\n  if ((roarfirekit.value as any)?.restConfig) init();\n  if (props.userData) setupUserData();\n});\n\n// Automatically emit events when the local userData changes\n// TODO: This functionality is a substitute for the v-model directive in Vue.js\n//   this can be replaced when we update to Vue 3.3+\nwatch(\n  () => localUserData.value,\n  (userData) => {\n    emit('update:userData', userData);\n  },\n  { deep: true, immediate: false },\n);\n\n// Determine if the user is an admin\nconst { data: userClaims } = useUserClaimsQuery({\n  enabled: initialized,\n});\n\nconst isSuperAdmin = computed((): boolean => {\n  if ((userClaims.value as any)?.claims?.super_admin) return true;\n  return false;\n});\n</script>\n<style lang=\"scss\">\n.form-container {\n  display: flex;\n  flex-direction: row;\n  gap: 1rem;\n  width: 100%;\n}\n.form-column {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  width: 100%;\n}\n.form-field {\n  display: flex;\n  flex-direction: column;\n}\n.modal-header {\n  margin-right: auto;\n  display: flex;\n  flex-direction: row;\n}\n.modal-icon {\n  font-size: 1.6rem;\n  margin-top: 6px;\n}\n.modal-title {\n  margin-top: 0;\n  margin-bottom: 0.5rem;\n}\n.required {\n  color: var(--bright-red);\n}\n.admin-only {\n  color: var(--blue-600);\n}\n.optional {\n  color: var(--gray-500);\n  font-style: italic;\n  user-select: none;\n}\n.modal-footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 100%;\n  gap: 1rem;\n  padding: 1.5rem;\n  background-color: #e6e7eb;\n  border-radius: 0 0 var(--border-radius) var(--border-radius);\n}\n.p-dialog .p-dialog-footer {\n  padding: 0;\n}\n</style>\n","<template>\n  <main class=\"container main\">\n    <section class=\"main-body\">\n      <div v-if=\"!isLoading\">\n        <div class=\"flex flex-column mb-5\">\n          <div class=\"flex justify-content-between\">\n            <div class=\"flex align-items-center gap-3\">\n              <i class=\"pi pi-users text-gray-400 rounded\" style=\"font-size: 1.6rem\"></i>\n              <div class=\"admin-page-header\">List Users</div>\n            </div>\n            <div class=\"bg-gray-100 px-5 py-2 rounded flex flex-column gap-3\">\n              <div class=\"flex flex-wrap align-items-center gap-2 justify-content-between\">\n                <div class=\"uppercase font-light font-sm text-gray-400 mr-2\">\n                  {{ displayOrgType }}\n                </div>\n                <div class=\"text-xl text-gray-600\">\n                  <b> {{ orgName }} </b>\n                </div>\n              </div>\n              <div class=\"flex flex-wrap gap-2 justify-content-between\">\n                <div class=\"uppercase font-light font-sm text-gray-400 mb-1\">Student Count</div>\n                <div class=\"text-xl text-gray-600\">\n                  <b> {{ users?.length }} </b>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"text-md text-gray-500 ml-6\">View users for the selected Group.</div>\n        </div>\n\n        <RoarDataTable\n          v-if=\"users\"\n          :columns=\"columns\"\n          :data=\"users\"\n          :loading=\"isLoading || isFetching\"\n          :allow-export=\"false\"\n          :allow-filtering=\"false\"\n          @sort=\"onSort($event)\"\n          @edit-button=\"onEditButtonClick($event)\"\n        />\n      </div>\n      <AppSpinner v-else />\n      <RoarModal\n        title=\"Edit User Information\"\n        subtitle=\"Modify, add, or remove user information\"\n        :is-enabled=\"isModalEnabled\"\n        @modal-closed=\"isModalEnabled = false\"\n      >\n        <EditUsersForm\n          v-if=\"!showPassword\"\n          :user-data=\"currentEditUser\"\n          :edit-mode=\"true\"\n          @update:user-data=\"localUserData = $event\"\n        />\n        <div v-if=\"showPassword\">\n          <div class=\"flex\" style=\"gap: 1rem\">\n            <div class=\"form-field\" style=\"width: 100%\">\n              <label>New Password</label>\n              <PvInputText v-model=\"v$.password.$model\" :class=\"{ 'p-invalid': v$.password.$invalid && submitted }\" />\n              <small v-if=\"v$.password.$invalid && submitted\" class=\"p-error\"\n                >Password must be at least 6 characters long.</small\n              >\n            </div>\n            <div class=\"form-field\" style=\"width: 100%\">\n              <label>Confirm New Password</label>\n              <PvInputText\n                v-model=\"v$.confirmPassword.$model\"\n                :class=\"{\n                  'p-invalid': v$.confirmPassword.$invalid && submitted,\n                }\"\n              />\n              <small v-if=\"v$.confirmPassword.$invalid && submitted\" class=\"p-error\">Passwords do not match.</small>\n            </div>\n          </div>\n        </div>\n        <div class=\"flex justify-content-center mt-3 w-full\">\n          <PvButton\n            v-if=\"!showPassword\"\n            class=\"border-none border-round bg-primary text-white p-2 hover:surface-400 mr-auto ml-auto\"\n            @click=\"showPassword = true\"\n            >Change Password</PvButton\n          >\n        </div>\n\n        <template #footer>\n          <div>\n            <div v-if=\"!showPassword\" class=\"flex gap-2\">\n              <PvButton\n                tabindex=\"0\"\n                class=\"border-none border-round bg-white text-primary p-2 hover:surface-200\"\n                text\n                label=\"Cancel\"\n                outlined\n                @click=\"closeModal\"\n              ></PvButton>\n              <PvButton\n                tabindex=\"0\"\n                class=\"border-none border-round bg-primary text-white p-2 hover:surface-400\"\n                label=\"Save\"\n                @click=\"updateUserData\"\n                ><i v-if=\"isSubmitting\" class=\"pi pi-spinner pi-spin\"></i\n              ></PvButton>\n            </div>\n            <div v-else-if=\"showPassword\" class=\"flex gap-2\">\n              <PvButton\n                tabindex=\"0\"\n                class=\"border-none border-round bg-white text-primary p-2 hover:surface-200\"\n                text\n                label=\"Back to User Information\"\n                outlined\n                @click=\"showPassword = false\"\n              ></PvButton>\n              <PvButton\n                tabindex=\"0\"\n                class=\"border-none border-round bg-primary text-white p-2 hover:surface-400\"\n                label=\"Save Password\"\n                @click=\"updatePassword\"\n                ><i v-if=\"isSubmitting\" class=\"pi pi-spinner pi-spin\"></i\n              ></PvButton>\n            </div>\n          </div>\n        </template>\n      </RoarModal>\n    </section>\n  </main>\n</template>\n<script setup>\nimport { ref, reactive, onMounted, computed } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, sameAs, minLength } from '@vuelidate/validators';\nimport { useToast } from 'primevue/usetoast';\nimport PvButton from 'primevue/button';\nimport PvInputText from 'primevue/inputtext';\nimport _isEmpty from 'lodash/isEmpty';\nimport { singularizeFirestoreCollection } from '@/helpers';\nimport { useAuthStore } from '@/store/auth';\nimport useOrgUsersQuery from '@/composables/queries/useOrgUsersQuery';\nimport AppSpinner from '@/components/AppSpinner.vue';\nimport EditUsersForm from '@/components/EditUsersForm.vue';\nimport RoarModal from '@/components/modals/RoarModal.vue';\nimport RoarDataTable from '@/components/RoarDataTable.vue';\n\nconst props = defineProps({\n  orgType: {\n    type: String,\n    required: true,\n  },\n  orgId: {\n    type: String,\n    required: true,\n  },\n  orgName: {\n    type: String,\n    required: true,\n  },\n});\n\nconst authStore = useAuthStore();\nconst { roarfirekit } = storeToRefs(authStore);\nconst initialized = ref(false);\n\nlet unsubscribe;\nconst init = () => {\n  if (unsubscribe) unsubscribe();\n  initialized.value = true;\n};\n\nunsubscribe = authStore.$subscribe(async (mutation, state) => {\n  if (state.roarfirekit.restConfig) init();\n});\n\nonMounted(() => {\n  if (roarfirekit.value.restConfig) init();\n  isModalEnabled.value = false;\n});\n\nconst toast = useToast();\n\nconst page = ref(0);\nconst orderBy = ref(null);\n\nconst {\n  isLoading,\n  isFetching,\n  data: users,\n} = useOrgUsersQuery(props.orgType, props.orgId, page, orderBy, {\n  enabled: initialized,\n});\n\nconst columns = ref([\n  {\n    field: 'id',\n    header: 'UID',\n    dataType: 'string',\n    sort: false,\n  },\n  {\n    field: 'username',\n    header: 'Username',\n    dataType: 'string',\n    sort: false,\n  },\n  // {\n  //   field: 'studentData.grade',\n  //   header: 'Grade',\n  //   dataType: 'string',\n  //   sort: false,\n  // },\n  // {\n  //   field: 'studentData.dob',\n  //   header: 'Date of Birth',\n  //   dataType: 'date',\n  //   sort: false,\n  // },\n  {\n    field: 'userType',\n    header: 'User Type',\n    dataType: 'string',\n    sort: false,\n  },\n  // {\n  //   header: 'Edit',\n  //   button: true,\n  //   eventName: 'edit-button',\n  //   buttonIcon: 'pi pi-user-edit',\n  //   sort: false,\n  // },\n]);\n\nconst displayOrgType = computed(() => {\n  if (props.orgType === 'districts') {\n    return 'Site';\n  } else if (props.orgType === 'groups') {\n    return 'Cohort';\n  } else {\n    return singularizeFirestoreCollection(props.orgType);\n  }\n});\n\nconst currentEditUser = ref(null);\nconst isModalEnabled = ref(false);\n\n// +-----------------+\n// | Edit User Modal |\n// +-----------------+\nconst localUserData = ref(null);\n\nconst onEditButtonClick = (event) => {\n  currentEditUser.value = event;\n  isModalEnabled.value = true;\n  console.log(event);\n};\n\nconst isSubmitting = ref(false);\n\n// Hidden until we refactor to update users how we want\nconst updateUserData = async () => {\n  if (!localUserData.value) return;\n  isSubmitting.value = true;\n\n  await roarfirekit.value\n    .updateUserData(currentEditUser.value.id, localUserData.value)\n    .then(() => {\n      isSubmitting.value = false;\n      closeModal();\n      toast.add({\n        severity: 'success',\n        summary: 'Updated',\n        detail: 'User has been updated',\n        life: 3000,\n      });\n    })\n    .catch((error) => {\n      console.log('Error occurred during submission:', error);\n      isSubmitting.value = false;\n    });\n};\n\nconst closeModal = () => {\n  isModalEnabled.value = false;\n  localUserData.value = null;\n};\n\nconst onSort = (event) => {\n  const _orderBy = (event.multiSortMeta ?? []).map((item) => ({\n    field: { fieldPath: item.field },\n    direction: item.order === 1 ? 'ASCENDING' : 'DESCENDING',\n  }));\n  orderBy.value = !_isEmpty(_orderBy) ? _orderBy : null;\n};\n\n// +-----------------+\n// | Update Password |\n// +-----------------+\nconst submitted = ref(false);\nconst showPassword = ref(false);\nconst passwordRef = computed(() => state.password);\nconst rules = {\n  password: {\n    required,\n    minLength: minLength(6),\n  },\n  confirmPassword: {\n    required,\n    minLength: minLength(6),\n    sameAsPassword: sameAs(passwordRef),\n  },\n};\nconst state = reactive({\n  password: '',\n  confirmPassword: '',\n});\nconst v$ = useVuelidate(rules, state);\n\nasync function updatePassword() {\n  submitted.value = true;\n  if (!v$.value.$invalid) {\n    isSubmitting.value = true;\n    await roarfirekit.value\n      .updateUserData(currentEditUser.value.id, { password: state.password })\n      .then(() => {\n        submitted.value = false;\n        isSubmitting.value = false;\n        state.password = '';\n        state.confirmPassword = '';\n        showPassword.value = false;\n        toast.add({\n          severity: 'success',\n          summary: 'Updated',\n          detail: 'Password Updated!',\n          life: 3000,\n        });\n      })\n      .catch(() => {\n        toast.add({\n          severity: 'error',\n          summary: 'Error',\n          detail: 'Unable to update password',\n        });\n      });\n  }\n}\n</script>\n"],"names":["useOrgUsersQuery","orgType","orgId","page","orderBy","queryOptions","useQuery","ORG_USERS_QUERY_KEY","fetchUsersByOrg","props","__props","emit","__emit","authStore","useAuthStore","roarfirekit","storeToRefs","initialized","ref","watch","userData","_isEmpty","_get","localUserData","setupUserData","errorMessage","user","_b","_a","_d","_c","_f","_e","_h","_g","_j","_i","_l","_k","_n","_m","_p","_o","_r","_q","_t","_s","_v","_u","_x","_w","_y","_z","localUserType","computed","userDobString","races","raceOptions","binaryDropdownOptions","searchRaces","event","query","filteredOptions","opt","unsubscribe","init","mutation","state","onMounted","userClaims","useUserClaimsQuery","isSuperAdmin","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","editMode","_withDirectives","_hoisted_4","_cache","_createBlock","_unref","PvDatePicker","$event","_normalizeClass","_hoisted_5","_hoisted_6","_hoisted_7","PvInputText","_hoisted_8","_hoisted_9","_createVNode","PvCheckbox","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","PvSelect","_hoisted_17","_hoisted_18","_hoisted_19","PvAutoComplete","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_toDisplayString","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","isModalEnabled","toast","useToast","isLoading","isFetching","users","columns","displayOrgType","singularizeFirestoreCollection","currentEditUser","onEditButtonClick","isSubmitting","updateUserData","closeModal","error","onSort","_orderBy","item","submitted","showPassword","passwordRef","rules","required","minLength","sameAs","reactive","v$","useVuelidate","updatePassword","AppSpinner","RoarDataTable","RoarModal","PvButton","EditUsersForm"],"mappings":"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"}