{"version":3,"file":"RoarModal.vue_vue_type_style_index_0_lang-bpGWtgjv.js","sources":["../../src/components/modals/RoarModal.vue"],"sourcesContent":["<template>\n  <PvDialog :visible=\"isOpen\" modal style=\"width: 66vw\" @update:visible=\"emit('modalClosed')\">\n    <template #header>\n      <div v-if=\"!small\" class=\"modal-header gap-2\">\n        <i class=\"pi text-gray-400 modal-icon\" :class=\"icon\"></i>\n        <div class=\"flex flex-column\">\n          <h1 class=\"modal-title admin-page-header\">{{ title }}</h1>\n          <span class=\"text-md text-gray-500\">{{ subtitle }}</span>\n        </div>\n      </div>\n      <div v-else-if=\"small\">\n        <div class=\"modal-header\">\n          <i class=\"pi text-gray-400 modal-icon-small\" :class=\"icon\"></i>\n          <div class=\"flex flex-column\">\n            <span class=\"text-lg font-bold text-gray-500\">{{ title }}</span>\n            <span class=\"text-sm text-gray-500\">{{ subtitle }}</span>\n          </div>\n        </div>\n      </div>\n    </template>\n    <slot></slot>\n    <template #footer>\n      <div class=\"modal-footer\">\n        <slot name=\"footer\"></slot>\n      </div>\n    </template>\n    <!-- </template> -->\n  </PvDialog>\n</template>\n<script setup lang=\"ts\">\nimport { watch, ref, onMounted } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport PvDialog from 'primevue/dialog';\nimport { useAuthStore } from '@/store/auth';\n\ninterface Props {\n  isEnabled: boolean;\n  title: string;\n  subtitle: string;\n  icon?: string;\n  small?: boolean;\n}\n\ninterface Emits {\n  (e: 'modalClosed'): void;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  isEnabled: false,\n  title: '',\n  subtitle: '',\n  icon: 'pi-pencil',\n  small: false,\n});\n\n// Handle modal opening / closing\nconst emit = defineEmits<Emits>();\n\nconst authStore = useAuthStore();\nconst { roarfirekit } = storeToRefs(authStore);\nconst initialized = ref<boolean>(false);\n\nwatch(\n  () => props.isEnabled,\n  (isEnabled: boolean) => {\n    console.log('isEnabled from watcher', isEnabled);\n    if (isEnabled) {\n      isOpen.value = true;\n    } else if (!isEnabled) {\n      isOpen.value = false;\n    }\n  },\n);\n\nconst isOpen = ref<boolean>(false);\n\nlet unsubscribe: (() => void) | undefined;\nconst init = (): void => {\n  if (unsubscribe) unsubscribe();\n  initialized.value = true;\n};\n\nunsubscribe = authStore.$subscribe(async (mutation: any, state: any) => {\n  if (state.roarfirekit?.restConfig) init();\n});\n\nonMounted(() => {\n  if (roarfirekit.value?.restConfig) init();\n});\n</script>\n<style lang=\"scss\">\n.modal-header {\n  margin-right: auto;\n  display: flex;\n  flex-direction: row;\n}\n.modal-icon {\n  font-size: 1.6rem;\n  margin-top: 6px;\n}\n.modal-icon-small {\n  font-size: 1rem;\n  margin-top: 4px;\n  margin-right: 0.5rem;\n}\n.modal-title {\n  margin-top: 0;\n  margin-bottom: 0.5rem;\n}\n.modal-footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 100%;\n  gap: 1rem;\n  padding: 1.5rem;\n  background-color: #e6e7eb;\n  border-radius: 0 0 var(--border-radius) var(--border-radius);\n}\n.p-dialog .p-dialog-footer {\n  padding: 0;\n}\n</style>\n"],"names":["props","__props","emit","__emit","authStore","useAuthStore","roarfirekit","storeToRefs","initialized","ref","watch","isEnabled","isOpen","unsubscribe","init","mutation","state","_a","onMounted","_createBlock","_unref","PvDialog","small","_createElementBlock","_hoisted_5","_createElementVNode","_hoisted_6","_normalizeClass","icon","_hoisted_7","_hoisted_8","_toDisplayString","title","_hoisted_9","subtitle","_openBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_10","_renderSlot","_ctx"],"mappings":"mkCA+CA,MAAMA,EAAQC,EASRC,EAAOC,EAEPC,EAAYC,EAAA,EACZ,CAAE,YAAAC,CAAA,EAAgBC,EAAYH,CAAS,EACvCI,EAAcC,EAAa,EAAK,EAEtCC,EACE,IAAMV,EAAM,UACXW,GAAuB,CACtB,QAAQ,IAAI,yBAA0BA,CAAS,EAC3CA,EACFC,EAAO,MAAQ,GACLD,IACVC,EAAO,MAAQ,GAEnB,CAAA,EAGF,MAAMA,EAASH,EAAa,EAAK,EAEjC,IAAII,EACJ,MAAMC,EAAO,IAAY,CACnBD,GAAaA,EAAA,EACjBL,EAAY,MAAQ,EACtB,EAEA,OAAAK,EAAcT,EAAU,WAAW,MAAOW,EAAeC,IAAe,QAClEC,EAAAD,EAAM,cAAN,MAAAC,EAAmB,YAAYH,EAAA,CACrC,CAAC,EAEDI,EAAU,IAAM,QACVD,EAAAX,EAAY,QAAZ,MAAAW,EAAmB,YAAYH,EAAA,CACrC,CAAC,cAvFCK,EA0BWC,EAAAC,CAAA,EAAA,CA1BA,QAAST,EAAA,MAAQ,MAAA,GAAM,MAAA,CAAA,MAAA,MAAA,EAAqB,kCAAgBV,EAAI,aAAA,EAAA,GAC9D,SACT,IAMM,CANMoB,EAAAA,MAOIA,EAAAA,WAAhBC,EAQM,MAAAC,EAAA,CAPJC,EAMM,MANNC,EAMM,CALJD,EAA+D,IAAA,CAA5D,MAAKE,EAAA,CAAC,oCAA4CC,EAAAA,IAAI,CAAA,CAAA,UACzDH,EAGM,MAHNI,EAGM,CAFJJ,EAAgE,OAAhEK,EAAgEC,EAAfC,EAAAA,KAAK,EAAA,CAAA,EACtDP,EAAyD,OAAzDQ,EAAyDF,EAAlBG,EAAAA,QAAQ,EAAA,CAAA,CAAA,kBAZrDC,IAAAZ,EAMM,MANNa,EAMM,CALJX,EAAyD,IAAA,CAAtD,MAAKE,EAAA,CAAC,8BAAsCC,EAAAA,IAAI,CAAA,CAAA,UACnDH,EAGM,MAHNY,EAGM,CAFJZ,EAA0D,KAA1Da,EAA0DP,EAAbC,EAAAA,KAAK,EAAA,CAAA,EAClDP,EAAyD,OAAzDc,EAAyDR,EAAlBG,EAAAA,QAAQ,EAAA,CAAA,CAAA,QAc1C,SACT,IAEM,CAFNT,EAEM,MAFNe,EAEM,CADJC,EAA2BC,EAAA,OAAA,QAAA,CAAA,eAH/B,IAAa,CAAbD,EAAaC,EAAA,OAAA,SAAA,CAAA"}