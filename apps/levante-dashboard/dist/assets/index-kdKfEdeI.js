const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SessionTimer-C_wkNlb8.js","assets/index-BfBVVvAI.js","assets/index-CvlP-Xmk.js","assets/tanstack-CsBZeLmk.js","assets/index-MdIIu1lP.js","assets/phoneme-MNW3QAs-.js","assets/sentry-CX5z418I.js","assets/lodash-DAY8-RAI.js","assets/SessionTimer-CyMCLI_A.css","assets/HomeSelector-d44zKX5b.js","assets/useUserDataQuery-kceEoCbw.js","assets/Debug-C9YktZgW.js","assets/Debug-DwGhDDPN.css","assets/TaskSWR-3wC1NSXN.js","assets/package-lock-D8MlMi_s.js","assets/TaskSWR-UGKVjWDj.css","assets/TaskPA-DjPoHwOt.js","assets/TaskPA-EGKnbB7E.css","assets/TaskSRE-Cvg1fTwl.js","assets/TaskSRE-CgvNSE_i.css","assets/TaskLevante-JMOTknX_.js","assets/TaskLevante-DnQiLr9Q.css","assets/ManageTasksVariants-Be7JgfNz.js","assets/index-BktsoGN8.js","assets/index-DB9mnE3k.js","assets/index-BOUM9DJf.js","assets/index-DBlP99Qc.js","assets/index-BKPVmv-6.js","assets/index-d6wokVQG.js","assets/index-DXN1oPWm.js","assets/index-Cl6pdWAz.js","assets/useTasksQuery-DLa8TwAo.js","assets/tasks-DtSsBL6W.js","assets/useTaskVariantsQuery-DJR-0uxB.js","assets/ManageTasksVariants-MZrYYhCg.css","assets/SignIn-B1F_smuR.js","assets/provider-google-logo-HyXl6t-r.js","assets/RoarModal.vue_vue_type_style_index_0_lang-bpGWtgjv.js","assets/RoarModal-C7v6cUOs.css","assets/debounce-Aau0xGE_.js","assets/toNumber-iH9M7_fM.js","assets/index-BEZzqj1Q.js","assets/index-WdjxwDDE.js","assets/LanguageSelector.vue_vue_type_style_index_0_lang-D5OOIf6j.js","assets/surveyInitialization-566f37hA.js","assets/survey-CRadXOqO.js","assets/bucket-D8HfKr8u.js","assets/LanguageSelector-BUpk5WTM.css","assets/SignIn-C1g9dddX.css","assets/AuthEmailLink-Dz42O4jl.js","assets/AuthEmailLink-DBJkU5Dt.css","assets/AuthEmailSent-CZ2-JTbO.js","assets/HomeAdministrator-Cpnkq2hP.js","assets/index-tWo9sWbs.js","assets/index-D4pzgRTJ.js","assets/index-SnZVGOaT.js","assets/index-CmbHKKL9.js","assets/useAdministrationsListQuery-C2mhJMoz.js","assets/administrations-BtjuibWP.js","assets/chunk-C6jcZpD8.js","assets/toInteger-CM0MbwkG.js","assets/orgs-C8TAQ0-m.js","assets/index-BrLDugnL.js","assets/index-BbFXSlD1.js","assets/reports-DZCyTjfn.js","assets/utils-DSob1QZ1.js","assets/useTasksDictionaryQuery-DDq5c2TB.js","assets/toasts-BqURhU4z.js","assets/HomeAdministrator-ByESWCW2.css","assets/CreateAssignment-CINJrQnd.js","assets/index-D6IoMtKH.js","assets/index-ai9ELtVp.js","assets/index-CNfLgq8b.js","assets/_baseEach-Ab1i50PF.js","assets/forEach-Bss9sJkU.js","assets/_arrayEach-FC5DT91E.js","assets/index-Ca817Vow.js","assets/useDistrictsQuery-CeEXa47D.js","assets/useGroupsQuery-nr4_Vz4U.js","assets/index-DgqMGbNZ.js","assets/GroupPicker.vue_vue_type_style_index_0_lang-CQJrHQRv.js","assets/capitalize-DtoFwN2t.js","assets/upperFirst-CKgMld1W.js","assets/useDistrictsListQuery-XZoLl8le.js","assets/GroupPicker-D1D_Tav9.css","assets/cloneDeep-Y1f-YOpN.js","assets/marked.esm-C9B6iGib.js","assets/CreateAssignment-B2X4sfAL.css","assets/CreateAdministrator-DM1IuFni.js","assets/CreateAdministrator-CXbIU-_r.css","assets/ListGroups-BbIqIdIp.js","assets/useDistrictSchoolsQuery-CjmrtD9R.js","assets/_createCompounder-BtP0Easx.js","assets/users-BXvhwqjC.js","assets/RoarDataTable-3RAt9d4s.js","assets/startCase-CKAWOUbs.js","assets/lowerCase-Cjz_C50J.js","assets/RoarDataTable-JSx7QWHx.css","assets/ListGroups--oS88Fkp.css","assets/ListUsers-DUArrvHv.js","assets/ListUsers-_X4rhvCZ.css","assets/ProgressReport-DkkXbFCv.js","assets/assignments-orZosl8K.js","assets/ProgressReport-B5sHQdiF.css","assets/AdminProfile-CCQMFQ_u.js","assets/AdminProfile-DJ2rthOH.css","assets/LinkAccountsView-DIT8UHG_.js","assets/LinkAccountsView-DxLVPbGp.css","assets/Settings-Cl47D9Ik.js","assets/EnableCookies-C87lpJHZ.js","assets/index-BqleXkYD.js","assets/NotFound-I2ogaewK.js","assets/AddUsers-aFobcBMP.js","assets/index-C9Tcp7BM.js","assets/index-CsSDOoHL.js","assets/AddUsers-BMjVofdw.css","assets/LinkUsers-Dghj31u6.js","assets/LinkUsers-BvQv8oSH.css","assets/UserSurvey-BKzeIYGE.js","assets/UserSurvey-CyQI3loF.css","assets/MaintenancePage-CHyDw8ww.js"])))=>i.map(i=>d[i]);
import{g as Ao,e as mE,r as Qe,s as Pl,c as Ze,w as Ji,i as Lc,d as Pe,h as ob,F as xt,a as Cu,b as Vo,o as Zn,f as ns,j as u7,k as he,T as wB,m as vE,t as ab,l as yE,n as _B,p as IB,q as fv,u as EB,v as SB,x as Oc,y as c7,z as Xe,A as d7,B as cw,C as TB,D as xB,E as PB,G as RB,H as Ae,I as kB,J as vh,K as h7,L as on,M as ge,N as Y,O as I,P as f7,Q as AB,R as D,S as te,U as pv,V as no,W as kt,X as xa,Y as ri,Z as Ri,_ as Hn,$ as VB,a0 as en,a1 as Ng,a2 as $,a3 as fc,a4 as p7,a5 as Ft,a6 as $d,a7 as LB,a8 as OB,a9 as DB,aa as g7,ab as NB,ac as m7,ad as W5,ae as Lo,af as bE,ag as v7,ah as MB,ai as ep,aj as FB,ak as $B,al as BB,am as R2,an as qB,ao as UB}from"./tanstack-CsBZeLmk.js";import{B as HB,a as zB}from"./phoneme-MNW3QAs-.js";import{p as lm,s as k2,c as y7,i as jB,r as QB,b as WB,a as GB,f as KB,d as JB,e as YB,g as G5}from"./sentry-CX5z418I.js";import{g as Mo,c as Zi,a as lb}from"./lodash-DAY8-RAI.js";(function(){try{var i=typeof window<"u"?window:typeof Ao<"u"?Ao:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new i.Error().stack;e&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[e]="24b79b5b-4876-4126-a109-ce84719964ea",i._sentryDebugIdIdentifier="sentry-dbid-24b79b5b-4876-4126-a109-ce84719964ea")}catch{}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function ZB(i,e){typeof console<"u"&&(console.warn("[intlify] "+i),e&&console.warn(e.stack))}const U1=typeof window<"u",Jc=(i,e=!1)=>e?Symbol.for(i):Symbol(i),XB=(i,e,t)=>eq({l:i,k:e,s:t}),eq=i=>JSON.stringify(i).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ar=i=>typeof i=="number"&&isFinite(i),tq=i=>C7(i)==="[object Date]",Dc=i=>C7(i)==="[object RegExp]",ub=i=>an(i)&&Object.keys(i).length===0,ts=Object.assign,nq=Object.create,mi=(i=null)=>nq(i);let K5;const du=()=>K5||(K5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof Ao<"u"?Ao:mi());function J5(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Y5(i){return i.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function iq(i){return i=i.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,r,s)=>`${r}="${Y5(s)}"`),i=i.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,r,s)=>`${r}='${Y5(s)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(i)&&(i=i.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{i=i.replace(n,"$1javascript&#58;")}),i}const rq=Object.prototype.hasOwnProperty;function Aa(i,e){return rq.call(i,e)}const Vi=Array.isArray,Ei=i=>typeof i=="function",wt=i=>typeof i=="string",En=i=>typeof i=="boolean",Wn=i=>i!==null&&typeof i=="object",sq=i=>Wn(i)&&Ei(i.then)&&Ei(i.catch),b7=Object.prototype.toString,C7=i=>b7.call(i),an=i=>{if(!Wn(i))return!1;const e=Object.getPrototypeOf(i);return e===null||e.constructor===Object},oq=i=>i==null?"":Vi(i)||an(i)&&i.toString===b7?JSON.stringify(i,null,2):String(i);function aq(i,e=""){return i.reduce((t,n,r)=>r===0?t+n:t+e+n,"")}function cb(i){let e=i;return()=>++e}const by=i=>!Wn(i)||Vi(i);function s1(i,e){if(by(i)||by(e))throw new Error("Invalid value");const t=[{src:i,des:e}];for(;t.length;){const{src:n,des:r}=t.pop();Object.keys(n).forEach(s=>{s!=="__proto__"&&(Wn(n[s])&&!Wn(r[s])&&(r[s]=Array.isArray(n[s])?[]:mi()),by(r[s])||by(n[s])?r[s]=n[s]:t.push({src:n[s],des:r[s]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function lq(i,e,t){return{line:i,column:e,offset:t}}function H1(i,e,t){return{start:i,end:e}}const uq=/\{([0-9a-zA-Z]+)\}/g;function w7(i,...e){return e.length===1&&cq(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),i.replace(uq,(t,n)=>e.hasOwnProperty(n)?e[n]:"")}const _7=Object.assign,Z5=i=>typeof i=="string",cq=i=>i!==null&&typeof i=="object";function I7(i,e=""){return i.reduce((t,n,r)=>r===0?t+n:t+e+n,"")}const CE={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},dq={[CE.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function hq(i,e,...t){const n=w7(dq[i],...t||[]),r={message:String(n),code:i};return e&&(r.location=e),r}const tn={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},fq={[tn.EXPECTED_TOKEN]:"Expected token: '{0}'",[tn.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[tn.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[tn.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[tn.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[tn.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[tn.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[tn.EMPTY_PLACEHOLDER]:"Empty placeholder",[tn.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[tn.INVALID_LINKED_FORMAT]:"Invalid linked format",[tn.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[tn.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[tn.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[tn.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[tn.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[tn.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function tp(i,e,t={}){const{domain:n,messages:r,args:s}=t,o=w7((r||fq)[i]||"",...s||[]),a=new SyntaxError(String(o));return a.code=i,e&&(a.location=e),a.domain=n,a}function pq(i){throw i}const Jl=" ",gq="\r",Os=`
`,mq="\u2028",vq="\u2029";function yq(i){const e=i;let t=0,n=1,r=1,s=0;const o=L=>e[L]===gq&&e[L+1]===Os,a=L=>e[L]===Os,l=L=>e[L]===vq,u=L=>e[L]===mq,c=L=>o(L)||a(L)||l(L)||u(L),h=()=>t,f=()=>n,m=()=>r,b=()=>s,_=L=>o(L)||l(L)||u(L)?Os:e[L],E=()=>_(t),k=()=>_(t+s);function j(){return s=0,c(t)&&(n++,r=0),o(t)&&t++,t++,r++,e[t]}function M(){return o(t+s)&&s++,s++,e[t+s]}function q(){t=0,n=1,r=1,s=0}function J(L=0){s=L}function Z(){const L=t+s;for(;L!==t;)j();s=0}return{index:h,line:f,column:m,peekOffset:b,charAt:_,currentChar:E,currentPeek:k,next:j,peek:M,reset:q,resetPeek:J,skipToPeek:Z}}const Qu=void 0,bq=".",X5="'",Cq="tokenizer";function wq(i,e={}){const t=e.location!==!1,n=yq(i),r=()=>n.index(),s=()=>lq(n.line(),n.column(),n.index()),o=s(),a=r(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=e;function h(ne,re,ke,...pt){const Wt=u();if(re.column+=ke,re.offset+=ke,c){const Tt=t?H1(Wt.startLoc,re):null,le=tp(ne,Tt,{domain:Cq,args:pt});c(le)}}function f(ne,re,ke){ne.endLoc=s(),ne.currentType=re;const pt={type:re};return t&&(pt.loc=H1(ne.startLoc,ne.endLoc)),ke!=null&&(pt.value=ke),pt}const m=ne=>f(ne,14);function b(ne,re){return ne.currentChar()===re?(ne.next(),re):(h(tn.EXPECTED_TOKEN,s(),0,re),"")}function _(ne){let re="";for(;ne.currentPeek()===Jl||ne.currentPeek()===Os;)re+=ne.currentPeek(),ne.peek();return re}function E(ne){const re=_(ne);return ne.skipToPeek(),re}function k(ne){if(ne===Qu)return!1;const re=ne.charCodeAt(0);return re>=97&&re<=122||re>=65&&re<=90||re===95}function j(ne){if(ne===Qu)return!1;const re=ne.charCodeAt(0);return re>=48&&re<=57}function M(ne,re){const{currentType:ke}=re;if(ke!==2)return!1;_(ne);const pt=k(ne.currentPeek());return ne.resetPeek(),pt}function q(ne,re){const{currentType:ke}=re;if(ke!==2)return!1;_(ne);const pt=ne.currentPeek()==="-"?ne.peek():ne.currentPeek(),Wt=j(pt);return ne.resetPeek(),Wt}function J(ne,re){const{currentType:ke}=re;if(ke!==2)return!1;_(ne);const pt=ne.currentPeek()===X5;return ne.resetPeek(),pt}function Z(ne,re){const{currentType:ke}=re;if(ke!==8)return!1;_(ne);const pt=ne.currentPeek()===".";return ne.resetPeek(),pt}function L(ne,re){const{currentType:ke}=re;if(ke!==9)return!1;_(ne);const pt=k(ne.currentPeek());return ne.resetPeek(),pt}function y(ne,re){const{currentType:ke}=re;if(!(ke===8||ke===12))return!1;_(ne);const pt=ne.currentPeek()===":";return ne.resetPeek(),pt}function w(ne,re){const{currentType:ke}=re;if(ke!==10)return!1;const pt=()=>{const Tt=ne.currentPeek();return Tt==="{"?k(ne.peek()):Tt==="@"||Tt==="%"||Tt==="|"||Tt===":"||Tt==="."||Tt===Jl||!Tt?!1:Tt===Os?(ne.peek(),pt()):H(ne,!1)},Wt=pt();return ne.resetPeek(),Wt}function R(ne){_(ne);const re=ne.currentPeek()==="|";return ne.resetPeek(),re}function U(ne){const re=_(ne),ke=ne.currentPeek()==="%"&&ne.peek()==="{";return ne.resetPeek(),{isModulo:ke,hasSpace:re.length>0}}function H(ne,re=!0){const ke=(Wt=!1,Tt="",le=!1)=>{const Se=ne.currentPeek();return Se==="{"?Tt==="%"?!1:Wt:Se==="@"||!Se?Tt==="%"?!0:Wt:Se==="%"?(ne.peek(),ke(Wt,"%",!0)):Se==="|"?Tt==="%"||le?!0:!(Tt===Jl||Tt===Os):Se===Jl?(ne.peek(),ke(!0,Jl,le)):Se===Os?(ne.peek(),ke(!0,Os,le)):!0},pt=ke();return re&&ne.resetPeek(),pt}function B(ne,re){const ke=ne.currentChar();return ke===Qu?Qu:re(ke)?(ne.next(),ke):null}function Oe(ne){const re=ne.charCodeAt(0);return re>=97&&re<=122||re>=65&&re<=90||re>=48&&re<=57||re===95||re===36}function De(ne){return B(ne,Oe)}function tt(ne){const re=ne.charCodeAt(0);return re>=97&&re<=122||re>=65&&re<=90||re>=48&&re<=57||re===95||re===36||re===45}function Ne(ne){return B(ne,tt)}function Me(ne){const re=ne.charCodeAt(0);return re>=48&&re<=57}function qe(ne){return B(ne,Me)}function Ue(ne){const re=ne.charCodeAt(0);return re>=48&&re<=57||re>=65&&re<=70||re>=97&&re<=102}function We(ne){return B(ne,Ue)}function Re(ne){let re="",ke="";for(;re=qe(ne);)ke+=re;return ke}function Le(ne){E(ne);const re=ne.currentChar();return re!=="%"&&h(tn.EXPECTED_TOKEN,s(),0,re),ne.next(),"%"}function Ct(ne){let re="";for(;;){const ke=ne.currentChar();if(ke==="{"||ke==="}"||ke==="@"||ke==="|"||!ke)break;if(ke==="%")if(H(ne))re+=ke,ne.next();else break;else if(ke===Jl||ke===Os)if(H(ne))re+=ke,ne.next();else{if(R(ne))break;re+=ke,ne.next()}else re+=ke,ne.next()}return re}function It(ne){E(ne);let re="",ke="";for(;re=Ne(ne);)ke+=re;return ne.currentChar()===Qu&&h(tn.UNTERMINATED_CLOSING_BRACE,s(),0),ke}function Dt(ne){E(ne);let re="";return ne.currentChar()==="-"?(ne.next(),re+=`-${Re(ne)}`):re+=Re(ne),ne.currentChar()===Qu&&h(tn.UNTERMINATED_CLOSING_BRACE,s(),0),re}function fe(ne){return ne!==X5&&ne!==Os}function ve(ne){E(ne),b(ne,"'");let re="",ke="";for(;re=B(ne,fe);)re==="\\"?ke+=Ee(ne):ke+=re;const pt=ne.currentChar();return pt===Os||pt===Qu?(h(tn.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),pt===Os&&(ne.next(),b(ne,"'")),ke):(b(ne,"'"),ke)}function Ee(ne){const re=ne.currentChar();switch(re){case"\\":case"'":return ne.next(),`\\${re}`;case"u":return $e(ne,re,4);case"U":return $e(ne,re,6);default:return h(tn.UNKNOWN_ESCAPE_SEQUENCE,s(),0,re),""}}function $e(ne,re,ke){b(ne,re);let pt="";for(let Wt=0;Wt<ke;Wt++){const Tt=We(ne);if(!Tt){h(tn.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${re}${pt}${ne.currentChar()}`);break}pt+=Tt}return`\\${re}${pt}`}function Fe(ne){return ne!=="{"&&ne!=="}"&&ne!==Jl&&ne!==Os}function Vt(ne){E(ne);let re="",ke="";for(;re=B(ne,Fe);)ke+=re;return ke}function at(ne){let re="",ke="";for(;re=De(ne);)ke+=re;return ke}function de(ne){const re=ke=>{const pt=ne.currentChar();return pt==="{"||pt==="%"||pt==="@"||pt==="|"||pt==="("||pt===")"||!pt||pt===Jl?ke:(ke+=pt,ne.next(),re(ke))};return re("")}function Ke(ne){E(ne);const re=b(ne,"|");return E(ne),re}function $t(ne,re){let ke=null;switch(ne.currentChar()){case"{":return re.braceNest>=1&&h(tn.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),ne.next(),ke=f(re,2,"{"),E(ne),re.braceNest++,ke;case"}":return re.braceNest>0&&re.currentType===2&&h(tn.EMPTY_PLACEHOLDER,s(),0),ne.next(),ke=f(re,3,"}"),re.braceNest--,re.braceNest>0&&E(ne),re.inLinked&&re.braceNest===0&&(re.inLinked=!1),ke;case"@":return re.braceNest>0&&h(tn.UNTERMINATED_CLOSING_BRACE,s(),0),ke=Jt(ne,re)||m(re),re.braceNest=0,ke;default:{let Wt=!0,Tt=!0,le=!0;if(R(ne))return re.braceNest>0&&h(tn.UNTERMINATED_CLOSING_BRACE,s(),0),ke=f(re,1,Ke(ne)),re.braceNest=0,re.inLinked=!1,ke;if(re.braceNest>0&&(re.currentType===5||re.currentType===6||re.currentType===7))return h(tn.UNTERMINATED_CLOSING_BRACE,s(),0),re.braceNest=0,jt(ne,re);if(Wt=M(ne,re))return ke=f(re,5,It(ne)),E(ne),ke;if(Tt=q(ne,re))return ke=f(re,6,Dt(ne)),E(ne),ke;if(le=J(ne,re))return ke=f(re,7,ve(ne)),E(ne),ke;if(!Wt&&!Tt&&!le)return ke=f(re,13,Vt(ne)),h(tn.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,ke.value),E(ne),ke;break}}return ke}function Jt(ne,re){const{currentType:ke}=re;let pt=null;const Wt=ne.currentChar();switch((ke===8||ke===9||ke===12||ke===10)&&(Wt===Os||Wt===Jl)&&h(tn.INVALID_LINKED_FORMAT,s(),0),Wt){case"@":return ne.next(),pt=f(re,8,"@"),re.inLinked=!0,pt;case".":return E(ne),ne.next(),f(re,9,".");case":":return E(ne),ne.next(),f(re,10,":");default:return R(ne)?(pt=f(re,1,Ke(ne)),re.braceNest=0,re.inLinked=!1,pt):Z(ne,re)||y(ne,re)?(E(ne),Jt(ne,re)):L(ne,re)?(E(ne),f(re,12,at(ne))):w(ne,re)?(E(ne),Wt==="{"?$t(ne,re)||pt:f(re,11,de(ne))):(ke===8&&h(tn.INVALID_LINKED_FORMAT,s(),0),re.braceNest=0,re.inLinked=!1,jt(ne,re))}}function jt(ne,re){let ke={type:14};if(re.braceNest>0)return $t(ne,re)||m(re);if(re.inLinked)return Jt(ne,re)||m(re);switch(ne.currentChar()){case"{":return $t(ne,re)||m(re);case"}":return h(tn.UNBALANCED_CLOSING_BRACE,s(),0),ne.next(),f(re,3,"}");case"@":return Jt(ne,re)||m(re);default:{if(R(ne))return ke=f(re,1,Ke(ne)),re.braceNest=0,re.inLinked=!1,ke;const{isModulo:Wt,hasSpace:Tt}=U(ne);if(Wt)return Tt?f(re,0,Ct(ne)):f(re,4,Le(ne));if(H(ne))return f(re,0,Ct(ne));break}}return ke}function yn(){const{currentType:ne,offset:re,startLoc:ke,endLoc:pt}=l;return l.lastType=ne,l.lastOffset=re,l.lastStartLoc=ke,l.lastEndLoc=pt,l.offset=r(),l.startLoc=s(),n.currentChar()===Qu?f(l,14):jt(n,l)}return{nextToken:yn,currentOffset:r,currentPosition:s,context:u}}const _q="parser",Iq=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Eq(i,e,t){switch(i){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||t,16);return n<=55295||n>=57344?String.fromCodePoint(n):"�"}}}function Sq(i={}){const e=i.location!==!1,{onError:t,onWarn:n}=i;function r(M,q,J,Z,...L){const y=M.currentPosition();if(y.offset+=Z,y.column+=Z,t){const w=e?H1(J,y):null,R=tp(q,w,{domain:_q,args:L});t(R)}}function s(M,q,J,Z,...L){const y=M.currentPosition();if(y.offset+=Z,y.column+=Z,n){const w=e?H1(J,y):null;n(hq(q,w,L))}}function o(M,q,J){const Z={type:M};return e&&(Z.start=q,Z.end=q,Z.loc={start:J,end:J}),Z}function a(M,q,J,Z){e&&(M.end=q,M.loc&&(M.loc.end=J))}function l(M,q){const J=M.context(),Z=o(3,J.offset,J.startLoc);return Z.value=q,a(Z,M.currentOffset(),M.currentPosition()),Z}function u(M,q){const J=M.context(),{lastOffset:Z,lastStartLoc:L}=J,y=o(5,Z,L);return y.index=parseInt(q,10),M.nextToken(),a(y,M.currentOffset(),M.currentPosition()),y}function c(M,q,J){const Z=M.context(),{lastOffset:L,lastStartLoc:y}=Z,w=o(4,L,y);return w.key=q,J===!0&&(w.modulo=!0),M.nextToken(),a(w,M.currentOffset(),M.currentPosition()),w}function h(M,q){const J=M.context(),{lastOffset:Z,lastStartLoc:L}=J,y=o(9,Z,L);return y.value=q.replace(Iq,Eq),M.nextToken(),a(y,M.currentOffset(),M.currentPosition()),y}function f(M){const q=M.nextToken(),J=M.context(),{lastOffset:Z,lastStartLoc:L}=J,y=o(8,Z,L);return q.type!==12?(r(M,tn.UNEXPECTED_EMPTY_LINKED_MODIFIER,J.lastStartLoc,0),y.value="",a(y,Z,L),{nextConsumeToken:q,node:y}):(q.value==null&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,J.lastStartLoc,0,wa(q)),y.value=q.value||"",a(y,M.currentOffset(),M.currentPosition()),{node:y})}function m(M,q){const J=M.context(),Z=o(7,J.offset,J.startLoc);return Z.value=q,a(Z,M.currentOffset(),M.currentPosition()),Z}function b(M){const q=M.context(),J=o(6,q.offset,q.startLoc);let Z=M.nextToken();if(Z.type===9){const L=f(M);J.modifier=L.node,Z=L.nextConsumeToken||M.nextToken()}switch(Z.type!==10&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,wa(Z)),Z=M.nextToken(),Z.type===2&&(Z=M.nextToken()),Z.type){case 11:Z.value==null&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,wa(Z)),J.key=m(M,Z.value||"");break;case 5:Z.value==null&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,wa(Z)),J.key=c(M,Z.value||"");break;case 6:Z.value==null&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,wa(Z)),J.key=u(M,Z.value||"");break;case 7:Z.value==null&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,wa(Z)),J.key=h(M,Z.value||"");break;default:{r(M,tn.UNEXPECTED_EMPTY_LINKED_KEY,q.lastStartLoc,0);const L=M.context(),y=o(7,L.offset,L.startLoc);return y.value="",a(y,L.offset,L.startLoc),J.key=y,a(J,L.offset,L.startLoc),{nextConsumeToken:Z,node:J}}}return a(J,M.currentOffset(),M.currentPosition()),{node:J}}function _(M){const q=M.context(),J=q.currentType===1?M.currentOffset():q.offset,Z=q.currentType===1?q.endLoc:q.startLoc,L=o(2,J,Z);L.items=[];let y=null,w=null;do{const H=y||M.nextToken();switch(y=null,H.type){case 0:H.value==null&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,wa(H)),L.items.push(l(M,H.value||""));break;case 6:H.value==null&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,wa(H)),L.items.push(u(M,H.value||""));break;case 4:w=!0;break;case 5:H.value==null&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,wa(H)),L.items.push(c(M,H.value||"",!!w)),w&&(s(M,CE.USE_MODULO_SYNTAX,q.lastStartLoc,0,wa(H)),w=null);break;case 7:H.value==null&&r(M,tn.UNEXPECTED_LEXICAL_ANALYSIS,q.lastStartLoc,0,wa(H)),L.items.push(h(M,H.value||""));break;case 8:{const B=b(M);L.items.push(B.node),y=B.nextConsumeToken||null;break}}}while(q.currentType!==14&&q.currentType!==1);const R=q.currentType===1?q.lastOffset:M.currentOffset(),U=q.currentType===1?q.lastEndLoc:M.currentPosition();return a(L,R,U),L}function E(M,q,J,Z){const L=M.context();let y=Z.items.length===0;const w=o(1,q,J);w.cases=[],w.cases.push(Z);do{const R=_(M);y||(y=R.items.length===0),w.cases.push(R)}while(L.currentType!==14);return y&&r(M,tn.MUST_HAVE_MESSAGES_IN_PLURAL,J,0),a(w,M.currentOffset(),M.currentPosition()),w}function k(M){const q=M.context(),{offset:J,startLoc:Z}=q,L=_(M);return q.currentType===14?L:E(M,J,Z,L)}function j(M){const q=wq(M,_7({},i)),J=q.context(),Z=o(0,J.offset,J.startLoc);return e&&Z.loc&&(Z.loc.source=M),Z.body=k(q),i.onCacheKey&&(Z.cacheKey=i.onCacheKey(M)),J.currentType!==14&&r(q,tn.UNEXPECTED_LEXICAL_ANALYSIS,J.lastStartLoc,0,M[J.offset]||""),a(Z,q.currentOffset(),q.currentPosition()),Z}return{parse:j}}function wa(i){if(i.type===14)return"EOF";const e=(i.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function Tq(i,e={}){const t={ast:i,helpers:new Set};return{context:()=>t,helper:s=>(t.helpers.add(s),s)}}function ex(i,e){for(let t=0;t<i.length;t++)wE(i[t],e)}function wE(i,e){switch(i.type){case 1:ex(i.cases,e),e.helper("plural");break;case 2:ex(i.items,e);break;case 6:{wE(i.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function xq(i,e={}){const t=Tq(i);t.helper("normalize"),i.body&&wE(i.body,t);const n=t.context();i.helpers=Array.from(n.helpers)}function Pq(i){const e=i.body;return e.type===2?tx(e):e.cases.forEach(t=>tx(t)),i}function tx(i){if(i.items.length===1){const e=i.items[0];(e.type===3||e.type===9)&&(i.static=e.value,delete e.value)}else{const e=[];for(let t=0;t<i.items.length;t++){const n=i.items[t];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===i.items.length){i.static=I7(e);for(let t=0;t<i.items.length;t++){const n=i.items[t];(n.type===3||n.type===9)&&delete n.value}}}}const Rq="minifier";function Hh(i){switch(i.t=i.type,i.type){case 0:{const e=i;Hh(e.body),e.b=e.body,delete e.body;break}case 1:{const e=i,t=e.cases;for(let n=0;n<t.length;n++)Hh(t[n]);e.c=t,delete e.cases;break}case 2:{const e=i,t=e.items;for(let n=0;n<t.length;n++)Hh(t[n]);e.i=t,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=i;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=i;Hh(e.key),e.k=e.key,delete e.key,e.modifier&&(Hh(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=i;e.i=e.index,delete e.index;break}case 4:{const e=i;e.k=e.key,delete e.key;break}default:throw tp(tn.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Rq,args:[i.type]})}delete i.type}const kq="parser";function Aq(i,e){const{filename:t,breakLineCode:n,needIndent:r}=e,s=e.location!==!1,o={filename:t,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:r,indentLevel:0};s&&i.loc&&(o.source=i.loc.source);const a=()=>o;function l(_,E){o.code+=_}function u(_,E=!0){const k=E?n:"";l(r?k+"  ".repeat(_):k)}function c(_=!0){const E=++o.indentLevel;_&&u(E)}function h(_=!0){const E=--o.indentLevel;_&&u(E)}function f(){u(o.indentLevel)}return{context:a,push:l,indent:c,deindent:h,newline:f,helper:_=>`_${_}`,needIndent:()=>o.needIndent}}function Vq(i,e){const{helper:t}=i;i.push(`${t("linked")}(`),yf(i,e.key),e.modifier?(i.push(", "),yf(i,e.modifier),i.push(", _type")):i.push(", undefined, _type"),i.push(")")}function Lq(i,e){const{helper:t,needIndent:n}=i;i.push(`${t("normalize")}([`),i.indent(n());const r=e.items.length;for(let s=0;s<r&&(yf(i,e.items[s]),s!==r-1);s++)i.push(", ");i.deindent(n()),i.push("])")}function Oq(i,e){const{helper:t,needIndent:n}=i;if(e.cases.length>1){i.push(`${t("plural")}([`),i.indent(n());const r=e.cases.length;for(let s=0;s<r&&(yf(i,e.cases[s]),s!==r-1);s++)i.push(", ");i.deindent(n()),i.push("])")}}function Dq(i,e){e.body?yf(i,e.body):i.push("null")}function yf(i,e){const{helper:t}=i;switch(e.type){case 0:Dq(i,e);break;case 1:Oq(i,e);break;case 2:Lq(i,e);break;case 6:Vq(i,e);break;case 8:i.push(JSON.stringify(e.value),e);break;case 7:i.push(JSON.stringify(e.value),e);break;case 5:i.push(`${t("interpolate")}(${t("list")}(${e.index}))`,e);break;case 4:i.push(`${t("interpolate")}(${t("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:i.push(JSON.stringify(e.value),e);break;case 3:i.push(JSON.stringify(e.value),e);break;default:throw tp(tn.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:kq,args:[e.type]})}}const Nq=(i,e={})=>{const t=Z5(e.mode)?e.mode:"normal",n=Z5(e.filename)?e.filename:"message.intl";e.sourceMap;const r=e.breakLineCode!=null?e.breakLineCode:t==="arrow"?";":`
`,s=e.needIndent?e.needIndent:t!=="arrow",o=i.helpers||[],a=Aq(i,{filename:n,breakLineCode:r,needIndent:s});a.push(t==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(s),o.length>0&&(a.push(`const { ${I7(o.map(c=>`${c}: _${c}`),", ")} } = ctx`),a.newline()),a.push("return "),yf(a,i),a.deindent(s),a.push("}"),delete i.helpers;const{code:l,map:u}=a.context();return{ast:i,code:l,map:u?u.toJSON():void 0}};function Mq(i,e={}){const t=_7({},e),n=!!t.jit,r=!!t.minify,s=t.optimize==null?!0:t.optimize,a=Sq(t).parse(i);return n?(s&&Pq(a),r&&Hh(a),{ast:a,code:""}):(xq(a,t),Nq(a,t))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Fq(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(du().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(du().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(du().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function bl(i){return Wn(i)&&_E(i)===0&&(Aa(i,"b")||Aa(i,"body"))}const E7=["b","body"];function $q(i){return Yc(i,E7)}const S7=["c","cases"];function Bq(i){return Yc(i,S7,[])}const T7=["s","static"];function qq(i){return Yc(i,T7)}const x7=["i","items"];function Uq(i){return Yc(i,x7,[])}const P7=["t","type"];function _E(i){return Yc(i,P7)}const R7=["v","value"];function Cy(i,e){const t=Yc(i,R7);if(t!=null)return t;throw um(e)}const k7=["m","modifier"];function Hq(i){return Yc(i,k7)}const A7=["k","key"];function zq(i){const e=Yc(i,A7);if(e)return e;throw um(6)}function Yc(i,e,t){for(let n=0;n<e.length;n++){const r=e[n];if(Aa(i,r)&&i[r]!=null)return i[r]}return t}const V7=[...E7,...S7,...T7,...x7,...A7,...k7,...R7,...P7];function um(i){return new Error(`unhandled node type: ${i}`)}const Zc=[];Zc[0]={w:[0],i:[3,0],"[":[4],o:[7]};Zc[1]={w:[1],".":[2],"[":[4],o:[7]};Zc[2]={w:[2],i:[3,0],0:[3,0]};Zc[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Zc[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Zc[5]={"'":[4,0],o:8,l:[5,0]};Zc[6]={'"':[4,0],o:8,l:[6,0]};const jq=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Qq(i){return jq.test(i)}function Wq(i){const e=i.charCodeAt(0),t=i.charCodeAt(i.length-1);return e===t&&(e===34||e===39)?i.slice(1,-1):i}function Gq(i){if(i==null)return"o";switch(i.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return i;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Kq(i){const e=i.trim();return i.charAt(0)==="0"&&isNaN(parseInt(i))?!1:Qq(e)?Wq(e):"*"+e}function Jq(i){const e=[];let t=-1,n=0,r=0,s,o,a,l,u,c,h;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),r++},f[3]=()=>{if(r>0)r--,n=4,f[0]();else{if(r=0,o===void 0||(o=Kq(o),o===!1))return!1;f[1]()}};function m(){const b=i[t+1];if(n===5&&b==="'"||n===6&&b==='"')return t++,a="\\"+b,f[0](),!0}for(;n!==null;)if(t++,s=i[t],!(s==="\\"&&m())){if(l=Gq(s),h=Zc[n],u=h[l]||h.l||8,u===8||(n=u[0],u[1]!==void 0&&(c=f[u[1]],c&&(a=s,c()===!1))))return;if(n===7)return e}}const nx=new Map;function Yq(i,e){return Wn(i)?i[e]:null}function Zq(i,e){if(!Wn(i))return null;let t=nx.get(e);if(t||(t=Jq(e),t&&nx.set(e,t)),!t)return null;const n=t.length;let r=i,s=0;for(;s<n;){const o=t[s];if(V7.includes(o)&&bl(r))return null;const a=r[o];if(a===void 0||Ei(r))return null;r=a,s++}return r}const Xq=i=>i,eU=i=>"",tU="text",nU=i=>i.length===0?"":aq(i),iU=oq;function ix(i,e){return i=Math.abs(i),e===2?i?i>1?1:0:1:i?Math.min(i,2):0}function rU(i){const e=ar(i.pluralIndex)?i.pluralIndex:-1;return i.named&&(ar(i.named.count)||ar(i.named.n))?ar(i.named.count)?i.named.count:ar(i.named.n)?i.named.n:e:e}function sU(i,e){e.count||(e.count=i),e.n||(e.n=i)}function oU(i={}){const e=i.locale,t=rU(i),n=Wn(i.pluralRules)&&wt(e)&&Ei(i.pluralRules[e])?i.pluralRules[e]:ix,r=Wn(i.pluralRules)&&wt(e)&&Ei(i.pluralRules[e])?ix:void 0,s=k=>k[n(t,k.length,r)],o=i.list||[],a=k=>o[k],l=i.named||mi();ar(i.pluralIndex)&&sU(t,l);const u=k=>l[k];function c(k){const j=Ei(i.messages)?i.messages(k):Wn(i.messages)?i.messages[k]:!1;return j||(i.parent?i.parent.message(k):eU)}const h=k=>i.modifiers?i.modifiers[k]:Xq,f=an(i.processor)&&Ei(i.processor.normalize)?i.processor.normalize:nU,m=an(i.processor)&&Ei(i.processor.interpolate)?i.processor.interpolate:iU,b=an(i.processor)&&wt(i.processor.type)?i.processor.type:tU,E={list:a,named:u,plural:s,linked:(k,...j)=>{const[M,q]=j;let J="text",Z="";j.length===1?Wn(M)?(Z=M.modifier||Z,J=M.type||J):wt(M)&&(Z=M||Z):j.length===2&&(wt(M)&&(Z=M||Z),wt(q)&&(J=q||J));const L=c(k)(E),y=J==="vnode"&&Vi(L)&&Z?L[0]:L;return Z?h(Z)(y,J):y},message:c,type:b,interpolate:m,normalize:f,values:ts(mi(),o,l)};return E}let cm=null;function aU(i){cm=i}function lU(i,e,t){cm&&cm.emit("i18n:init",{timestamp:Date.now(),i18n:i,version:e,meta:t})}const uU=cU("function:translate");function cU(i){return e=>cm&&cm.emit(i,e)}const dU=CE.__EXTEND_POINT__,yd=cb(dU),hU={FALLBACK_TO_TRANSLATE:yd(),CANNOT_FORMAT_NUMBER:yd(),FALLBACK_TO_NUMBER_FORMAT:yd(),CANNOT_FORMAT_DATE:yd(),FALLBACK_TO_DATE_FORMAT:yd(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:yd(),__EXTEND_POINT__:yd()},L7=tn.__EXTEND_POINT__,bd=cb(L7),Va={INVALID_ARGUMENT:L7,INVALID_DATE_ARGUMENT:bd(),INVALID_ISO_DATE_ARGUMENT:bd(),NOT_SUPPORT_NON_STRING_MESSAGE:bd(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:bd(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:bd(),NOT_SUPPORT_LOCALE_TYPE:bd(),__EXTEND_POINT__:bd()};function dl(i){return tp(i,null,void 0)}function IE(i,e){return e.locale!=null?rx(e.locale):rx(i.locale)}let dw;function rx(i){if(wt(i))return i;if(Ei(i)){if(i.resolvedOnce&&dw!=null)return dw;if(i.constructor.name==="Function"){const e=i();if(sq(e))throw dl(Va.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return dw=e}else throw dl(Va.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw dl(Va.NOT_SUPPORT_LOCALE_TYPE)}function fU(i,e,t){return[...new Set([t,...Vi(e)?e:Wn(e)?Object.keys(e):wt(e)?[e]:[t]])]}function O7(i,e,t){const n=wt(t)?t:bf,r=i;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(n);if(!s){s=[];let o=[t];for(;Vi(o);)o=sx(s,o,e);const a=Vi(e)||!an(e)?e:e.default?e.default:null;o=wt(a)?[a]:a,Vi(o)&&sx(s,o,!1),r.__localeChainCache.set(n,s)}return s}function sx(i,e,t){let n=!0;for(let r=0;r<e.length&&En(n);r++){const s=e[r];wt(s)&&(n=pU(i,e[r],t))}return n}function pU(i,e,t){let n;const r=e.split("-");do{const s=r.join("-");n=gU(i,s,t),r.splice(-1,1)}while(r.length&&n===!0);return n}function gU(i,e,t){let n=!1;if(!i.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const r=e.replace(/!/g,"");i.push(r),(Vi(t)||an(t))&&t[r]&&(n=t[r])}return n}const mU="9.14.5",db=-1,bf="en-US",ox="",ax=i=>`${i.charAt(0).toLocaleUpperCase()}${i.substr(1)}`;function vU(){return{upper:(i,e)=>e==="text"&&wt(i)?i.toUpperCase():e==="vnode"&&Wn(i)&&"__v_isVNode"in i?i.children.toUpperCase():i,lower:(i,e)=>e==="text"&&wt(i)?i.toLowerCase():e==="vnode"&&Wn(i)&&"__v_isVNode"in i?i.children.toLowerCase():i,capitalize:(i,e)=>e==="text"&&wt(i)?ax(i):e==="vnode"&&Wn(i)&&"__v_isVNode"in i?ax(i.children):i}}let D7;function lx(i){D7=i}let N7;function yU(i){N7=i}let M7;function bU(i){M7=i}let F7=null;const CU=i=>{F7=i},wU=()=>F7;let $7=null;const ux=i=>{$7=i},_U=()=>$7;let cx=0;function IU(i={}){const e=Ei(i.onWarn)?i.onWarn:ZB,t=wt(i.version)?i.version:mU,n=wt(i.locale)||Ei(i.locale)?i.locale:bf,r=Ei(n)?bf:n,s=Vi(i.fallbackLocale)||an(i.fallbackLocale)||wt(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:r,o=an(i.messages)?i.messages:hw(r),a=an(i.datetimeFormats)?i.datetimeFormats:hw(r),l=an(i.numberFormats)?i.numberFormats:hw(r),u=ts(mi(),i.modifiers,vU()),c=i.pluralRules||mi(),h=Ei(i.missing)?i.missing:null,f=En(i.missingWarn)||Dc(i.missingWarn)?i.missingWarn:!0,m=En(i.fallbackWarn)||Dc(i.fallbackWarn)?i.fallbackWarn:!0,b=!!i.fallbackFormat,_=!!i.unresolving,E=Ei(i.postTranslation)?i.postTranslation:null,k=an(i.processor)?i.processor:null,j=En(i.warnHtmlMessage)?i.warnHtmlMessage:!0,M=!!i.escapeParameter,q=Ei(i.messageCompiler)?i.messageCompiler:D7,J=Ei(i.messageResolver)?i.messageResolver:N7||Yq,Z=Ei(i.localeFallbacker)?i.localeFallbacker:M7||fU,L=Wn(i.fallbackContext)?i.fallbackContext:void 0,y=i,w=Wn(y.__datetimeFormatters)?y.__datetimeFormatters:new Map,R=Wn(y.__numberFormatters)?y.__numberFormatters:new Map,U=Wn(y.__meta)?y.__meta:{};cx++;const H={version:t,cid:cx,locale:n,fallbackLocale:s,messages:o,modifiers:u,pluralRules:c,missing:h,missingWarn:f,fallbackWarn:m,fallbackFormat:b,unresolving:_,postTranslation:E,processor:k,warnHtmlMessage:j,escapeParameter:M,messageCompiler:q,messageResolver:J,localeFallbacker:Z,fallbackContext:L,onWarn:e,__meta:U};return H.datetimeFormats=a,H.numberFormats=l,H.__datetimeFormatters=w,H.__numberFormatters=R,__INTLIFY_PROD_DEVTOOLS__&&lU(H,t,U),H}const hw=i=>({[i]:mi()});function EE(i,e,t,n,r){const{missing:s,onWarn:o}=i;if(s!==null){const a=s(i,t,e,r);return wt(a)?a:e}else return e}function Gp(i,e,t){const n=i;n.__localeChainCache=new Map,i.localeFallbacker(i,t,e)}function EU(i,e){return i===e?!1:i.split("-")[0]===e.split("-")[0]}function SU(i,e){const t=e.indexOf(i);if(t===-1)return!1;for(let n=t+1;n<e.length;n++)if(EU(i,e[n]))return!0;return!1}function fw(i){return t=>TU(t,i)}function TU(i,e){const t=$q(e);if(t==null)throw um(0);if(_E(t)===1){const s=Bq(t);return i.plural(s.reduce((o,a)=>[...o,dx(i,a)],[]))}else return dx(i,t)}function dx(i,e){const t=qq(e);if(t!=null)return i.type==="text"?t:i.normalize([t]);{const n=Uq(e).reduce((r,s)=>[...r,A2(i,s)],[]);return i.normalize(n)}}function A2(i,e){const t=_E(e);switch(t){case 3:return Cy(e,t);case 9:return Cy(e,t);case 4:{const n=e;if(Aa(n,"k")&&n.k)return i.interpolate(i.named(n.k));if(Aa(n,"key")&&n.key)return i.interpolate(i.named(n.key));throw um(t)}case 5:{const n=e;if(Aa(n,"i")&&ar(n.i))return i.interpolate(i.list(n.i));if(Aa(n,"index")&&ar(n.index))return i.interpolate(i.list(n.index));throw um(t)}case 6:{const n=e,r=Hq(n),s=zq(n);return i.linked(A2(i,s),r?A2(i,r):void 0,i.type)}case 7:return Cy(e,t);case 8:return Cy(e,t);default:throw new Error(`unhandled node on format message part: ${t}`)}}const B7=i=>i;let Xh=mi();function q7(i,e={}){let t=!1;const n=e.onError||pq;return e.onError=r=>{t=!0,n(r)},{...Mq(i,e),detectError:t}}const xU=(i,e)=>{if(!wt(i))throw dl(Va.NOT_SUPPORT_NON_STRING_MESSAGE);{En(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||B7)(i),r=Xh[n];if(r)return r;const{code:s,detectError:o}=q7(i,e),a=new Function(`return ${s}`)();return o?a:Xh[n]=a}};function PU(i,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&wt(i)){En(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||B7)(i),r=Xh[n];if(r)return r;const{ast:s,detectError:o}=q7(i,{...e,location:!1,jit:!0}),a=fw(s);return o?a:Xh[n]=a}else{const t=i.cacheKey;if(t){const n=Xh[t];return n||(Xh[t]=fw(i))}else return fw(i)}}const hx=()=>"",ia=i=>Ei(i);function fx(i,...e){const{fallbackFormat:t,postTranslation:n,unresolving:r,messageCompiler:s,fallbackLocale:o,messages:a}=i,[l,u]=V2(...e),c=En(u.missingWarn)?u.missingWarn:i.missingWarn,h=En(u.fallbackWarn)?u.fallbackWarn:i.fallbackWarn,f=En(u.escapeParameter)?u.escapeParameter:i.escapeParameter,m=!!u.resolvedMessage,b=wt(u.default)||En(u.default)?En(u.default)?s?l:()=>l:u.default:t?s?l:()=>l:"",_=t||b!=="",E=IE(i,u);f&&RU(u);let[k,j,M]=m?[l,E,a[E]||mi()]:U7(i,l,E,o,h,c),q=k,J=l;if(!m&&!(wt(q)||bl(q)||ia(q))&&_&&(q=b,J=q),!m&&(!(wt(q)||bl(q)||ia(q))||!wt(j)))return r?db:l;let Z=!1;const L=()=>{Z=!0},y=ia(q)?q:H7(i,l,j,q,J,L);if(Z)return q;const w=VU(i,j,M,u),R=oU(w),U=kU(i,y,R);let H=n?n(U,l):U;if(f&&wt(H)&&(H=iq(H)),__INTLIFY_PROD_DEVTOOLS__){const B={timestamp:Date.now(),key:wt(l)?l:ia(q)?q.key:"",locale:j||(ia(q)?q.locale:""),format:wt(q)?q:ia(q)?q.source:"",message:H};B.meta=ts({},i.__meta,wU()||{}),uU(B)}return H}function RU(i){Vi(i.list)?i.list=i.list.map(e=>wt(e)?J5(e):e):Wn(i.named)&&Object.keys(i.named).forEach(e=>{wt(i.named[e])&&(i.named[e]=J5(i.named[e]))})}function U7(i,e,t,n,r,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:u}=i,c=u(i,n,t);let h=mi(),f,m=null;const b="translate";for(let _=0;_<c.length&&(f=c[_],h=o[f]||mi(),(m=l(h,e))===null&&(m=h[e]),!(wt(m)||bl(m)||ia(m)));_++)if(!SU(f,c)){const E=EE(i,e,f,s,b);E!==e&&(m=E)}return[m,f,h]}function H7(i,e,t,n,r,s){const{messageCompiler:o,warnHtmlMessage:a}=i;if(ia(n)){const u=n;return u.locale=u.locale||t,u.key=u.key||e,u}if(o==null){const u=()=>n;return u.locale=t,u.key=e,u}const l=o(n,AU(i,t,r,n,a,s));return l.locale=t,l.key=e,l.source=n,l}function kU(i,e,t){return e(t)}function V2(...i){const[e,t,n]=i,r=mi();if(!wt(e)&&!ar(e)&&!ia(e)&&!bl(e))throw dl(Va.INVALID_ARGUMENT);const s=ar(e)?String(e):(ia(e),e);return ar(t)?r.plural=t:wt(t)?r.default=t:an(t)&&!ub(t)?r.named=t:Vi(t)&&(r.list=t),ar(n)?r.plural=n:wt(n)?r.default=n:an(n)&&ts(r,n),[s,r]}function AU(i,e,t,n,r,s){return{locale:e,key:t,warnHtmlMessage:r,onError:o=>{throw s&&s(o),o},onCacheKey:o=>XB(e,t,o)}}function VU(i,e,t,n){const{modifiers:r,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:u,fallbackContext:c}=i,f={locale:e,modifiers:r,pluralRules:s,messages:m=>{let b=o(t,m);if(b==null&&c){const[,,_]=U7(c,m,e,a,l,u);b=o(_,m)}if(wt(b)||bl(b)){let _=!1;const k=H7(i,m,e,b,m,()=>{_=!0});return _?hx:k}else return ia(b)?b:hx}};return i.processor&&(f.processor=i.processor),n.list&&(f.list=n.list),n.named&&(f.named=n.named),ar(n.plural)&&(f.pluralIndex=n.plural),f}function px(i,...e){const{datetimeFormats:t,unresolving:n,fallbackLocale:r,onWarn:s,localeFallbacker:o}=i,{__datetimeFormatters:a}=i,[l,u,c,h]=L2(...e),f=En(c.missingWarn)?c.missingWarn:i.missingWarn;En(c.fallbackWarn)?c.fallbackWarn:i.fallbackWarn;const m=!!c.part,b=IE(i,c),_=o(i,r,b);if(!wt(l)||l==="")return new Intl.DateTimeFormat(b,h).format(u);let E={},k,j=null;const M="datetime format";for(let Z=0;Z<_.length&&(k=_[Z],E=t[k]||{},j=E[l],!an(j));Z++)EE(i,l,k,f,M);if(!an(j)||!wt(k))return n?db:l;let q=`${k}__${l}`;ub(h)||(q=`${q}__${JSON.stringify(h)}`);let J=a.get(q);return J||(J=new Intl.DateTimeFormat(k,ts({},j,h)),a.set(q,J)),m?J.formatToParts(u):J.format(u)}const z7=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function L2(...i){const[e,t,n,r]=i,s=mi();let o=mi(),a;if(wt(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw dl(Va.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(u);try{a.toISOString()}catch{throw dl(Va.INVALID_ISO_DATE_ARGUMENT)}}else if(tq(e)){if(isNaN(e.getTime()))throw dl(Va.INVALID_DATE_ARGUMENT);a=e}else if(ar(e))a=e;else throw dl(Va.INVALID_ARGUMENT);return wt(t)?s.key=t:an(t)&&Object.keys(t).forEach(l=>{z7.includes(l)?o[l]=t[l]:s[l]=t[l]}),wt(n)?s.locale=n:an(n)&&(o=n),an(r)&&(o=r),[s.key||"",a,s,o]}function gx(i,e,t){const n=i;for(const r in t){const s=`${e}__${r}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function mx(i,...e){const{numberFormats:t,unresolving:n,fallbackLocale:r,onWarn:s,localeFallbacker:o}=i,{__numberFormatters:a}=i,[l,u,c,h]=O2(...e),f=En(c.missingWarn)?c.missingWarn:i.missingWarn;En(c.fallbackWarn)?c.fallbackWarn:i.fallbackWarn;const m=!!c.part,b=IE(i,c),_=o(i,r,b);if(!wt(l)||l==="")return new Intl.NumberFormat(b,h).format(u);let E={},k,j=null;const M="number format";for(let Z=0;Z<_.length&&(k=_[Z],E=t[k]||{},j=E[l],!an(j));Z++)EE(i,l,k,f,M);if(!an(j)||!wt(k))return n?db:l;let q=`${k}__${l}`;ub(h)||(q=`${q}__${JSON.stringify(h)}`);let J=a.get(q);return J||(J=new Intl.NumberFormat(k,ts({},j,h)),a.set(q,J)),m?J.formatToParts(u):J.format(u)}const j7=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function O2(...i){const[e,t,n,r]=i,s=mi();let o=mi();if(!ar(e))throw dl(Va.INVALID_ARGUMENT);const a=e;return wt(t)?s.key=t:an(t)&&Object.keys(t).forEach(l=>{j7.includes(l)?o[l]=t[l]:s[l]=t[l]}),wt(n)?s.locale=n:an(n)&&(o=n),an(r)&&(o=r),[s.key||"",a,s,o]}function vx(i,e,t){const n=i;for(const r in t){const s=`${e}__${r}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}Fq();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const LU="9.14.5";function OU(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(du().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(du().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(du().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(du().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(du().__INTLIFY_PROD_DEVTOOLS__=!1)}const DU=hU.__EXTEND_POINT__,Yl=cb(DU);Yl(),Yl(),Yl(),Yl(),Yl(),Yl(),Yl(),Yl(),Yl();const Q7=Va.__EXTEND_POINT__,Ks=cb(Q7),Rr={UNEXPECTED_RETURN_TYPE:Q7,INVALID_ARGUMENT:Ks(),MUST_BE_CALL_SETUP_TOP:Ks(),NOT_INSTALLED:Ks(),NOT_AVAILABLE_IN_LEGACY_MODE:Ks(),REQUIRED_VALUE:Ks(),INVALID_VALUE:Ks(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ks(),NOT_INSTALLED_WITH_PROVIDE:Ks(),UNEXPECTED_ERROR:Ks(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ks(),BRIDGE_SUPPORT_VUE_2_ONLY:Ks(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ks(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ks(),__EXTEND_POINT__:Ks()};function Br(i,...e){return tp(i,null,void 0)}const D2=Jc("__translateVNode"),N2=Jc("__datetimeParts"),M2=Jc("__numberParts"),W7=Jc("__setPluralRules"),G7=Jc("__injectWithOption"),F2=Jc("__dispose");function dm(i){if(!Wn(i)||bl(i))return i;for(const e in i)if(Aa(i,e))if(!e.includes("."))Wn(i[e])&&dm(i[e]);else{const t=e.split("."),n=t.length-1;let r=i,s=!1;for(let o=0;o<n;o++){if(t[o]==="__proto__")throw new Error(`unsafe key: ${t[o]}`);if(t[o]in r||(r[t[o]]=mi()),!Wn(r[t[o]])){s=!0;break}r=r[t[o]]}if(s||(bl(r)?V7.includes(t[n])||delete i[e]:(r[t[n]]=i[e],delete i[e])),!bl(r)){const o=r[t[n]];Wn(o)&&dm(o)}}return i}function hb(i,e){const{messages:t,__i18n:n,messageResolver:r,flatJson:s}=e,o=an(t)?t:Vi(n)?mi():{[i]:mi()};if(Vi(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:u}=a;l?(o[l]=o[l]||mi(),s1(u,o[l])):s1(u,o)}else wt(a)&&s1(JSON.parse(a),o)}),r==null&&s)for(const a in o)Aa(o,a)&&dm(o[a]);return o}function K7(i){return i.type}function J7(i,e,t){let n=Wn(e.messages)?e.messages:mi();"__i18nGlobal"in t&&(n=hb(i.locale.value,{messages:n,__i18n:t.__i18nGlobal}));const r=Object.keys(n);r.length&&r.forEach(s=>{i.mergeLocaleMessage(s,n[s])});{if(Wn(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{i.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Wn(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{i.mergeNumberFormat(o,e.numberFormats[o])})}}}function yx(i){return he(wB,null,i,0)}const bx="__INTLIFY_META__",Cx=()=>[],NU=()=>!1;let wx=0;function _x(i){return(e,t,n,r)=>i(t,n,Cu()||void 0,r)}const MU=()=>{const i=Cu();let e=null;return i&&(e=K7(i)[bx])?{[bx]:e}:null};function SE(i={},e){const{__root:t,__injectWithOption:n}=i,r=t===void 0,s=i.flatJson,o=U1?Qe:Pl,a=!!i.translateExistCompatible;let l=En(i.inheritLocale)?i.inheritLocale:!0;const u=o(t&&l?t.locale.value:wt(i.locale)?i.locale:bf),c=o(t&&l?t.fallbackLocale.value:wt(i.fallbackLocale)||Vi(i.fallbackLocale)||an(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:u.value),h=o(hb(u.value,i)),f=o(an(i.datetimeFormats)?i.datetimeFormats:{[u.value]:{}}),m=o(an(i.numberFormats)?i.numberFormats:{[u.value]:{}});let b=t?t.missingWarn:En(i.missingWarn)||Dc(i.missingWarn)?i.missingWarn:!0,_=t?t.fallbackWarn:En(i.fallbackWarn)||Dc(i.fallbackWarn)?i.fallbackWarn:!0,E=t?t.fallbackRoot:En(i.fallbackRoot)?i.fallbackRoot:!0,k=!!i.fallbackFormat,j=Ei(i.missing)?i.missing:null,M=Ei(i.missing)?_x(i.missing):null,q=Ei(i.postTranslation)?i.postTranslation:null,J=t?t.warnHtmlMessage:En(i.warnHtmlMessage)?i.warnHtmlMessage:!0,Z=!!i.escapeParameter;const L=t?t.modifiers:an(i.modifiers)?i.modifiers:{};let y=i.pluralRules||t&&t.pluralRules,w;w=(()=>{r&&ux(null);const le={version:LU,locale:u.value,fallbackLocale:c.value,messages:h.value,modifiers:L,pluralRules:y,missing:M===null?void 0:M,missingWarn:b,fallbackWarn:_,fallbackFormat:k,unresolving:!0,postTranslation:q===null?void 0:q,warnHtmlMessage:J,escapeParameter:Z,messageResolver:i.messageResolver,messageCompiler:i.messageCompiler,__meta:{framework:"vue"}};le.datetimeFormats=f.value,le.numberFormats=m.value,le.__datetimeFormatters=an(w)?w.__datetimeFormatters:void 0,le.__numberFormatters=an(w)?w.__numberFormatters:void 0;const Se=IU(le);return r&&ux(Se),Se})(),Gp(w,u.value,c.value);function U(){return[u.value,c.value,h.value,f.value,m.value]}const H=Ze({get:()=>u.value,set:le=>{u.value=le,w.locale=u.value}}),B=Ze({get:()=>c.value,set:le=>{c.value=le,w.fallbackLocale=c.value,Gp(w,u.value,le)}}),Oe=Ze(()=>h.value),De=Ze(()=>f.value),tt=Ze(()=>m.value);function Ne(){return Ei(q)?q:null}function Me(le){q=le,w.postTranslation=le}function qe(){return j}function Ue(le){le!==null&&(M=_x(le)),j=le,w.missing=M}const We=(le,Se,Yt,Cn,xi,Gn)=>{U();let Bn;try{__INTLIFY_PROD_DEVTOOLS__,r||(w.fallbackContext=t?_U():void 0),Bn=le(w)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(w.fallbackContext=void 0)}if(Yt!=="translate exists"&&ar(Bn)&&Bn===db||Yt==="translate exists"&&!Bn){const[Ir,os]=Se();return t&&E?Cn(t):xi(Ir)}else{if(Gn(Bn))return Bn;throw Br(Rr.UNEXPECTED_RETURN_TYPE)}};function Re(...le){return We(Se=>Reflect.apply(fx,null,[Se,...le]),()=>V2(...le),"translate",Se=>Reflect.apply(Se.t,Se,[...le]),Se=>Se,Se=>wt(Se))}function Le(...le){const[Se,Yt,Cn]=le;if(Cn&&!Wn(Cn))throw Br(Rr.INVALID_ARGUMENT);return Re(Se,Yt,ts({resolvedMessage:!0},Cn||{}))}function Ct(...le){return We(Se=>Reflect.apply(px,null,[Se,...le]),()=>L2(...le),"datetime format",Se=>Reflect.apply(Se.d,Se,[...le]),()=>ox,Se=>wt(Se))}function It(...le){return We(Se=>Reflect.apply(mx,null,[Se,...le]),()=>O2(...le),"number format",Se=>Reflect.apply(Se.n,Se,[...le]),()=>ox,Se=>wt(Se))}function Dt(le){return le.map(Se=>wt(Se)||ar(Se)||En(Se)?yx(String(Se)):Se)}const ve={normalize:Dt,interpolate:le=>le,type:"vnode"};function Ee(...le){return We(Se=>{let Yt;const Cn=Se;try{Cn.processor=ve,Yt=Reflect.apply(fx,null,[Cn,...le])}finally{Cn.processor=null}return Yt},()=>V2(...le),"translate",Se=>Se[D2](...le),Se=>[yx(Se)],Se=>Vi(Se))}function $e(...le){return We(Se=>Reflect.apply(mx,null,[Se,...le]),()=>O2(...le),"number format",Se=>Se[M2](...le),Cx,Se=>wt(Se)||Vi(Se))}function Fe(...le){return We(Se=>Reflect.apply(px,null,[Se,...le]),()=>L2(...le),"datetime format",Se=>Se[N2](...le),Cx,Se=>wt(Se)||Vi(Se))}function Vt(le){y=le,w.pluralRules=y}function at(le,Se){return We(()=>{if(!le)return!1;const Yt=wt(Se)?Se:u.value,Cn=$t(Yt),xi=w.messageResolver(Cn,le);return a?xi!=null:bl(xi)||ia(xi)||wt(xi)},()=>[le],"translate exists",Yt=>Reflect.apply(Yt.te,Yt,[le,Se]),NU,Yt=>En(Yt))}function de(le){let Se=null;const Yt=O7(w,c.value,u.value);for(let Cn=0;Cn<Yt.length;Cn++){const xi=h.value[Yt[Cn]]||{},Gn=w.messageResolver(xi,le);if(Gn!=null){Se=Gn;break}}return Se}function Ke(le){const Se=de(le);return Se??(t?t.tm(le)||{}:{})}function $t(le){return h.value[le]||{}}function Jt(le,Se){if(s){const Yt={[le]:Se};for(const Cn in Yt)Aa(Yt,Cn)&&dm(Yt[Cn]);Se=Yt[le]}h.value[le]=Se,w.messages=h.value}function jt(le,Se){h.value[le]=h.value[le]||{};const Yt={[le]:Se};if(s)for(const Cn in Yt)Aa(Yt,Cn)&&dm(Yt[Cn]);Se=Yt[le],s1(Se,h.value[le]),w.messages=h.value}function yn(le){return f.value[le]||{}}function ne(le,Se){f.value[le]=Se,w.datetimeFormats=f.value,gx(w,le,Se)}function re(le,Se){f.value[le]=ts(f.value[le]||{},Se),w.datetimeFormats=f.value,gx(w,le,Se)}function ke(le){return m.value[le]||{}}function pt(le,Se){m.value[le]=Se,w.numberFormats=m.value,vx(w,le,Se)}function Wt(le,Se){m.value[le]=ts(m.value[le]||{},Se),w.numberFormats=m.value,vx(w,le,Se)}wx++,t&&U1&&(Ji(t.locale,le=>{l&&(u.value=le,w.locale=le,Gp(w,u.value,c.value))}),Ji(t.fallbackLocale,le=>{l&&(c.value=le,w.fallbackLocale=le,Gp(w,u.value,c.value))}));const Tt={id:wx,locale:H,fallbackLocale:B,get inheritLocale(){return l},set inheritLocale(le){l=le,le&&t&&(u.value=t.locale.value,c.value=t.fallbackLocale.value,Gp(w,u.value,c.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:Oe,get modifiers(){return L},get pluralRules(){return y||{}},get isGlobal(){return r},get missingWarn(){return b},set missingWarn(le){b=le,w.missingWarn=b},get fallbackWarn(){return _},set fallbackWarn(le){_=le,w.fallbackWarn=_},get fallbackRoot(){return E},set fallbackRoot(le){E=le},get fallbackFormat(){return k},set fallbackFormat(le){k=le,w.fallbackFormat=k},get warnHtmlMessage(){return J},set warnHtmlMessage(le){J=le,w.warnHtmlMessage=le},get escapeParameter(){return Z},set escapeParameter(le){Z=le,w.escapeParameter=le},t:Re,getLocaleMessage:$t,setLocaleMessage:Jt,mergeLocaleMessage:jt,getPostTranslationHandler:Ne,setPostTranslationHandler:Me,getMissingHandler:qe,setMissingHandler:Ue,[W7]:Vt};return Tt.datetimeFormats=De,Tt.numberFormats=tt,Tt.rt=Le,Tt.te=at,Tt.tm=Ke,Tt.d=Ct,Tt.n=It,Tt.getDateTimeFormat=yn,Tt.setDateTimeFormat=ne,Tt.mergeDateTimeFormat=re,Tt.getNumberFormat=ke,Tt.setNumberFormat=pt,Tt.mergeNumberFormat=Wt,Tt[G7]=n,Tt[D2]=Ee,Tt[N2]=Fe,Tt[M2]=$e,Tt}function FU(i){const e=wt(i.locale)?i.locale:bf,t=wt(i.fallbackLocale)||Vi(i.fallbackLocale)||an(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:e,n=Ei(i.missing)?i.missing:void 0,r=En(i.silentTranslationWarn)||Dc(i.silentTranslationWarn)?!i.silentTranslationWarn:!0,s=En(i.silentFallbackWarn)||Dc(i.silentFallbackWarn)?!i.silentFallbackWarn:!0,o=En(i.fallbackRoot)?i.fallbackRoot:!0,a=!!i.formatFallbackMessages,l=an(i.modifiers)?i.modifiers:{},u=i.pluralizationRules,c=Ei(i.postTranslation)?i.postTranslation:void 0,h=wt(i.warnHtmlInMessage)?i.warnHtmlInMessage!=="off":!0,f=!!i.escapeParameterHtml,m=En(i.sync)?i.sync:!0;let b=i.messages;if(an(i.sharedMessages)){const Z=i.sharedMessages;b=Object.keys(Z).reduce((y,w)=>{const R=y[w]||(y[w]={});return ts(R,Z[w]),y},b||{})}const{__i18n:_,__root:E,__injectWithOption:k}=i,j=i.datetimeFormats,M=i.numberFormats,q=i.flatJson,J=i.translateExistCompatible;return{locale:e,fallbackLocale:t,messages:b,flatJson:q,datetimeFormats:j,numberFormats:M,missing:n,missingWarn:r,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:h,escapeParameter:f,messageResolver:i.messageResolver,inheritLocale:m,translateExistCompatible:J,__i18n:_,__root:E,__injectWithOption:k}}function $2(i={},e){{const t=SE(FU(i)),{__extender:n}=i,r={id:t.id,get locale(){return t.locale.value},set locale(s){t.locale.value=s},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(s){t.fallbackLocale.value=s},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return t.getMissingHandler()},set missing(s){t.setMissingHandler(s)},get silentTranslationWarn(){return En(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(s){t.missingWarn=En(s)?!s:s},get silentFallbackWarn(){return En(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(s){t.fallbackWarn=En(s)?!s:s},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(s){t.fallbackFormat=s},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(s){t.setPostTranslationHandler(s)},get sync(){return t.inheritLocale},set sync(s){t.inheritLocale=s},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){t.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(s){t.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...s){const[o,a,l]=s,u={};let c=null,h=null;if(!wt(o))throw Br(Rr.INVALID_ARGUMENT);const f=o;return wt(a)?u.locale=a:Vi(a)?c=a:an(a)&&(h=a),Vi(l)?c=l:an(l)&&(h=l),Reflect.apply(t.t,t,[f,c||h||{},u])},rt(...s){return Reflect.apply(t.rt,t,[...s])},tc(...s){const[o,a,l]=s,u={plural:1};let c=null,h=null;if(!wt(o))throw Br(Rr.INVALID_ARGUMENT);const f=o;return wt(a)?u.locale=a:ar(a)?u.plural=a:Vi(a)?c=a:an(a)&&(h=a),wt(l)?u.locale=l:Vi(l)?c=l:an(l)&&(h=l),Reflect.apply(t.t,t,[f,c||h||{},u])},te(s,o){return t.te(s,o)},tm(s){return t.tm(s)},getLocaleMessage(s){return t.getLocaleMessage(s)},setLocaleMessage(s,o){t.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){t.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(t.d,t,[...s])},getDateTimeFormat(s){return t.getDateTimeFormat(s)},setDateTimeFormat(s,o){t.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){t.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(t.n,t,[...s])},getNumberFormat(s){return t.getNumberFormat(s)},setNumberFormat(s,o){t.setNumberFormat(s,o)},mergeNumberFormat(s,o){t.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return r.__extender=n,r}}const TE={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:i=>i==="parent"||i==="global",default:"parent"},i18n:{type:Object}};function $U({slots:i},e){return e.length===1&&e[0]==="default"?(i.default?i.default():[]).reduce((n,r)=>[...n,...r.type===xt?r.children:[r]],[]):e.reduce((t,n)=>{const r=i[n];return r&&(t[n]=r()),t},mi())}function Y7(i){return xt}const BU=Pe({name:"i18n-t",props:ts({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:i=>ar(i)||!isNaN(i)}},TE),setup(i,e){const{slots:t,attrs:n}=e,r=i.i18n||fb({useScope:i.scope,__useComponent:!0});return()=>{const s=Object.keys(t).filter(h=>h!=="_"),o=mi();i.locale&&(o.locale=i.locale),i.plural!==void 0&&(o.plural=wt(i.plural)?+i.plural:i.plural);const a=$U(e,s),l=r[D2](i.keypath,a,o),u=ts(mi(),n),c=wt(i.tag)||Wn(i.tag)?i.tag:Y7();return ob(c,u,l)}}}),Ix=BU;function qU(i){return Vi(i)&&!wt(i[0])}function Z7(i,e,t,n){const{slots:r,attrs:s}=e;return()=>{const o={part:!0};let a=mi();i.locale&&(o.locale=i.locale),wt(i.format)?o.key=i.format:Wn(i.format)&&(wt(i.format.key)&&(o.key=i.format.key),a=Object.keys(i.format).reduce((f,m)=>t.includes(m)?ts(mi(),f,{[m]:i.format[m]}):f,mi()));const l=n(i.value,o,a);let u=[o.key];Vi(l)?u=l.map((f,m)=>{const b=r[f.type],_=b?b({[f.type]:f.value,index:m,parts:l}):[f.value];return qU(_)&&(_[0].key=`${f.type}-${m}`),_}):wt(l)&&(u=[l]);const c=ts(mi(),s),h=wt(i.tag)||Wn(i.tag)?i.tag:Y7();return ob(h,c,u)}}const UU=Pe({name:"i18n-n",props:ts({value:{type:Number,required:!0},format:{type:[String,Object]}},TE),setup(i,e){const t=i.i18n||fb({useScope:i.scope,__useComponent:!0});return Z7(i,e,j7,(...n)=>t[M2](...n))}}),Ex=UU,HU=Pe({name:"i18n-d",props:ts({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},TE),setup(i,e){const t=i.i18n||fb({useScope:i.scope,__useComponent:!0});return Z7(i,e,z7,(...n)=>t[N2](...n))}}),Sx=HU;function zU(i,e){const t=i;if(i.mode==="composition")return t.__getInstance(e)||i.global;{const n=t.__getInstance(e);return n!=null?n.__composer:i.global.__composer}}function jU(i){const e=o=>{const{instance:a,modifiers:l,value:u}=o;if(!a||!a.$)throw Br(Rr.UNEXPECTED_ERROR);const c=zU(i,a.$),h=Tx(u);return[Reflect.apply(c.t,c,[...xx(h)]),c]};return{created:(o,a)=>{const[l,u]=e(a);U1&&i.global===u&&(o.__i18nWatcher=Ji(u.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=u,o.textContent=l},unmounted:o=>{U1&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,u=Tx(a);o.textContent=Reflect.apply(l.t,l,[...xx(u)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function Tx(i){if(wt(i))return{path:i};if(an(i)){if(!("path"in i))throw Br(Rr.REQUIRED_VALUE,"path");return i}else throw Br(Rr.INVALID_VALUE)}function xx(i){const{path:e,locale:t,args:n,choice:r,plural:s}=i,o={},a=n||{};return wt(t)&&(o.locale=t),ar(r)&&(o.plural=r),ar(s)&&(o.plural=s),[e,a,o]}function QU(i,e,...t){const n=an(t[0])?t[0]:{},r=!!n.useI18nComponentName;(En(n.globalInstall)?n.globalInstall:!0)&&([r?"i18n":Ix.name,"I18nT"].forEach(o=>i.component(o,Ix)),[Ex.name,"I18nN"].forEach(o=>i.component(o,Ex)),[Sx.name,"I18nD"].forEach(o=>i.component(o,Sx))),i.directive("t",jU(e))}function WU(i,e,t){return{beforeCreate(){const n=Cu();if(!n)throw Br(Rr.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const s=r.i18n;if(r.__i18n&&(s.__i18n=r.__i18n),s.__root=e,this===this.$root)this.$i18n=Px(i,s);else{s.__injectWithOption=!0,s.__extender=t.__vueI18nExtend,this.$i18n=$2(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=Px(i,r);else{this.$i18n=$2({__i18n:r.__i18n,__injectWithOption:!0,__extender:t.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=i;r.__i18nGlobal&&J7(e,r,r),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),t.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=Cu();if(!n)throw Br(Rr.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),t.__deleteInstance(n),delete this.$i18n}}}function Px(i,e){i.locale=e.locale||i.locale,i.fallbackLocale=e.fallbackLocale||i.fallbackLocale,i.missing=e.missing||i.missing,i.silentTranslationWarn=e.silentTranslationWarn||i.silentFallbackWarn,i.silentFallbackWarn=e.silentFallbackWarn||i.silentFallbackWarn,i.formatFallbackMessages=e.formatFallbackMessages||i.formatFallbackMessages,i.postTranslation=e.postTranslation||i.postTranslation,i.warnHtmlInMessage=e.warnHtmlInMessage||i.warnHtmlInMessage,i.escapeParameterHtml=e.escapeParameterHtml||i.escapeParameterHtml,i.sync=e.sync||i.sync,i.__composer[W7](e.pluralizationRules||i.pluralizationRules);const t=hb(i.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(t).forEach(n=>i.mergeLocaleMessage(n,t[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>i.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>i.mergeNumberFormat(n,e.numberFormats[n])),i}const GU=Jc("global-vue-i18n");function KU(i={},e){const t=__VUE_I18N_LEGACY_API__&&En(i.legacy)?i.legacy:__VUE_I18N_LEGACY_API__,n=En(i.globalInjection)?i.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&t?!!i.allowComposition:!0,s=new Map,[o,a]=JU(i,t),l=Jc("");function u(f){return s.get(f)||null}function c(f,m){s.set(f,m)}function h(f){s.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},get allowComposition(){return r},async install(m,...b){if(m.__VUE_I18N_SYMBOL__=l,m.provide(m.__VUE_I18N_SYMBOL__,f),an(b[0])){const k=b[0];f.__composerExtend=k.__composerExtend,f.__vueI18nExtend=k.__vueI18nExtend}let _=null;!t&&n&&(_=sH(m,f.global)),__VUE_I18N_FULL_INSTALL__&&QU(m,f,...b),__VUE_I18N_LEGACY_API__&&t&&m.mixin(WU(a,a.__composer,f));const E=m.unmount;m.unmount=()=>{_&&_(),f.dispose(),E()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:u,__setInstance:c,__deleteInstance:h};return f}}function fb(i={}){const e=Cu();if(e==null)throw Br(Rr.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Br(Rr.NOT_INSTALLED);const t=YU(e),n=XU(t),r=K7(e),s=ZU(i,r);if(__VUE_I18N_LEGACY_API__&&t.mode==="legacy"&&!i.__useComponent){if(!t.allowComposition)throw Br(Rr.NOT_AVAILABLE_IN_LEGACY_MODE);return iH(e,s,n,i)}if(s==="global")return J7(n,i,r),n;if(s==="parent"){let l=eH(t,e,i.__useComponent);return l==null&&(l=n),l}const o=t;let a=o.__getInstance(e);if(a==null){const l=ts({},i);"__i18n"in r&&(l.__i18n=r.__i18n),n&&(l.__root=n),a=SE(l),o.__composerExtend&&(a[F2]=o.__composerExtend(a)),nH(o,e,a),o.__setInstance(e,a)}return a}function JU(i,e,t){const n=mE();{const r=__VUE_I18N_LEGACY_API__&&e?n.run(()=>$2(i)):n.run(()=>SE(i));if(r==null)throw Br(Rr.UNEXPECTED_ERROR);return[n,r]}}function YU(i){{const e=Vo(i.isCE?GU:i.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Br(i.isCE?Rr.NOT_INSTALLED_WITH_PROVIDE:Rr.UNEXPECTED_ERROR);return e}}function ZU(i,e){return ub(i)?"__i18n"in e?"local":"global":i.useScope?i.useScope:"local"}function XU(i){return i.mode==="composition"?i.global:i.global.__composer}function eH(i,e,t=!1){let n=null;const r=e.root;let s=tH(e,t);for(;s!=null;){const o=i;if(i.mode==="composition")n=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(n=a.__composer,t&&n&&!n[G7]&&(n=null))}if(n!=null||r===s)break;s=s.parent}return n}function tH(i,e=!1){return i==null?null:e&&i.vnode.ctx||i.parent}function nH(i,e,t){Zn(()=>{},e),ns(()=>{const n=t;i.__deleteInstance(e);const r=n[F2];r&&(r(),delete n[F2])},e)}function iH(i,e,t,n={}){const r=e==="local",s=Pl(null);if(r&&i.proxy&&!(i.proxy.$options.i18n||i.proxy.$options.__i18n))throw Br(Rr.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=En(n.inheritLocale)?n.inheritLocale:!wt(n.locale),a=Qe(!r||o?t.locale.value:wt(n.locale)?n.locale:bf),l=Qe(!r||o?t.fallbackLocale.value:wt(n.fallbackLocale)||Vi(n.fallbackLocale)||an(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),u=Qe(hb(a.value,n)),c=Qe(an(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),h=Qe(an(n.numberFormats)?n.numberFormats:{[a.value]:{}}),f=r?t.missingWarn:En(n.missingWarn)||Dc(n.missingWarn)?n.missingWarn:!0,m=r?t.fallbackWarn:En(n.fallbackWarn)||Dc(n.fallbackWarn)?n.fallbackWarn:!0,b=r?t.fallbackRoot:En(n.fallbackRoot)?n.fallbackRoot:!0,_=!!n.fallbackFormat,E=Ei(n.missing)?n.missing:null,k=Ei(n.postTranslation)?n.postTranslation:null,j=r?t.warnHtmlMessage:En(n.warnHtmlMessage)?n.warnHtmlMessage:!0,M=!!n.escapeParameter,q=r?t.modifiers:an(n.modifiers)?n.modifiers:{},J=n.pluralRules||r&&t.pluralRules;function Z(){return[a.value,l.value,u.value,c.value,h.value]}const L=Ze({get:()=>s.value?s.value.locale.value:a.value,set:de=>{s.value&&(s.value.locale.value=de),a.value=de}}),y=Ze({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:de=>{s.value&&(s.value.fallbackLocale.value=de),l.value=de}}),w=Ze(()=>s.value?s.value.messages.value:u.value),R=Ze(()=>c.value),U=Ze(()=>h.value);function H(){return s.value?s.value.getPostTranslationHandler():k}function B(de){s.value&&s.value.setPostTranslationHandler(de)}function Oe(){return s.value?s.value.getMissingHandler():E}function De(de){s.value&&s.value.setMissingHandler(de)}function tt(de){return Z(),de()}function Ne(...de){return s.value?tt(()=>Reflect.apply(s.value.t,null,[...de])):tt(()=>"")}function Me(...de){return s.value?Reflect.apply(s.value.rt,null,[...de]):""}function qe(...de){return s.value?tt(()=>Reflect.apply(s.value.d,null,[...de])):tt(()=>"")}function Ue(...de){return s.value?tt(()=>Reflect.apply(s.value.n,null,[...de])):tt(()=>"")}function We(de){return s.value?s.value.tm(de):{}}function Re(de,Ke){return s.value?s.value.te(de,Ke):!1}function Le(de){return s.value?s.value.getLocaleMessage(de):{}}function Ct(de,Ke){s.value&&(s.value.setLocaleMessage(de,Ke),u.value[de]=Ke)}function It(de,Ke){s.value&&s.value.mergeLocaleMessage(de,Ke)}function Dt(de){return s.value?s.value.getDateTimeFormat(de):{}}function fe(de,Ke){s.value&&(s.value.setDateTimeFormat(de,Ke),c.value[de]=Ke)}function ve(de,Ke){s.value&&s.value.mergeDateTimeFormat(de,Ke)}function Ee(de){return s.value?s.value.getNumberFormat(de):{}}function $e(de,Ke){s.value&&(s.value.setNumberFormat(de,Ke),h.value[de]=Ke)}function Fe(de,Ke){s.value&&s.value.mergeNumberFormat(de,Ke)}const Vt={get id(){return s.value?s.value.id:-1},locale:L,fallbackLocale:y,messages:w,datetimeFormats:R,numberFormats:U,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(de){s.value&&(s.value.inheritLocale=de)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(u.value)},get modifiers(){return s.value?s.value.modifiers:q},get pluralRules(){return s.value?s.value.pluralRules:J},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn(de){s.value&&(s.value.missingWarn=de)},get fallbackWarn(){return s.value?s.value.fallbackWarn:m},set fallbackWarn(de){s.value&&(s.value.missingWarn=de)},get fallbackRoot(){return s.value?s.value.fallbackRoot:b},set fallbackRoot(de){s.value&&(s.value.fallbackRoot=de)},get fallbackFormat(){return s.value?s.value.fallbackFormat:_},set fallbackFormat(de){s.value&&(s.value.fallbackFormat=de)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:j},set warnHtmlMessage(de){s.value&&(s.value.warnHtmlMessage=de)},get escapeParameter(){return s.value?s.value.escapeParameter:M},set escapeParameter(de){s.value&&(s.value.escapeParameter=de)},t:Ne,getPostTranslationHandler:H,setPostTranslationHandler:B,getMissingHandler:Oe,setMissingHandler:De,rt:Me,d:qe,n:Ue,tm:We,te:Re,getLocaleMessage:Le,setLocaleMessage:Ct,mergeLocaleMessage:It,getDateTimeFormat:Dt,setDateTimeFormat:fe,mergeDateTimeFormat:ve,getNumberFormat:Ee,setNumberFormat:$e,mergeNumberFormat:Fe};function at(de){de.locale.value=a.value,de.fallbackLocale.value=l.value,Object.keys(u.value).forEach(Ke=>{de.mergeLocaleMessage(Ke,u.value[Ke])}),Object.keys(c.value).forEach(Ke=>{de.mergeDateTimeFormat(Ke,c.value[Ke])}),Object.keys(h.value).forEach(Ke=>{de.mergeNumberFormat(Ke,h.value[Ke])}),de.escapeParameter=M,de.fallbackFormat=_,de.fallbackRoot=b,de.fallbackWarn=m,de.missingWarn=f,de.warnHtmlMessage=j}return u7(()=>{if(i.proxy==null||i.proxy.$i18n==null)throw Br(Rr.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const de=s.value=i.proxy.$i18n.__composer;e==="global"?(a.value=de.locale.value,l.value=de.fallbackLocale.value,u.value=de.messages.value,c.value=de.datetimeFormats.value,h.value=de.numberFormats.value):r&&at(de)}),Vt}const rH=["locale","fallbackLocale","availableLocales"],Rx=["t","rt","d","n","tm","te"];function sH(i,e){const t=Object.create(null);return rH.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s)throw Br(Rr.UNEXPECTED_ERROR);const o=Lc(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(t,r,o)}),i.config.globalProperties.$i18n=t,Rx.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s||!s.value)throw Br(Rr.UNEXPECTED_ERROR);Object.defineProperty(i.config.globalProperties,`$${r}`,s)}),()=>{delete i.config.globalProperties.$i18n,Rx.forEach(r=>{delete i.config.globalProperties[`$${r}`]})}}OU();__INTLIFY_JIT_COMPILATION__?lx(PU):lx(xU);yU(Zq);bU(O7);if(__INTLIFY_PROD_DEVTOOLS__){const i=du();i.__INTLIFY__=!0,aU(i.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const oH={atLeastOneLowercase:"At least one lowercase",atLeastOneNumber:"At least one number",atLeastOneNumeric:"At least one numeric",atLeastOneUpperCase:"At least one uppercase",buttonLabel:"Go!",continueWithGoogle:"Continue with Google",emailId:"email",emailPlaceholder:"Username or email",forgotPassword:"Forgot Password?",incorrectEmailOrPassword:"Incorrect username/email or password",invalidEmailPlaceholder:"Error: invalid email",minimumCharacters:"Minimum 8 characters",passwordId:"password",passwordPlaceholder:"Password",pickPassword:"Pick a password",selectLanguage:"Select Language",selectLanguageLabel:"Language",signInWithEmailLinkInstead:"Sign-in using email link",signInWithEmailLinkPlaceHolder:"Press Go to sign-in with an email link.",signInWithPasswordInstead:"Sign-in using password",suggestions:"Suggestions"},aH={header:"Consent",consentTitle:"Consent",assentTitle:"Assent",acceptButton:"Accept",rejectButton:"No, sign me out",toastHeader:"Confirmed",consentUpdatedStatus:"Consent status updated"},lH={showOptionalAssignments:"Show optional assignments",loadingAssignments:"Loading Assignments",selectAssignment:"Select an assignment",noAssignments:"You have no assignments!",contactAdministrator:"Please contact your administrator to get added to an assignment."},uH={loading:"Loading...",inactivityLogout:`You will soon be logged out for security purposes. Please click "Continue" if you wish to continue your session.
 Otherwise, you will be automatically logged out in { timeLeft } seconds.`,inactivityLogoutAcceptLabel:"Continue"},cH={clickToStart:"Click to start",taskCompleted:"Task Completed!","LEVANTE TRANSLATIONS--------------------------":"",introName:"Introduction",introDescription:"Learn how to play our games. ",heartsAndFlowersDescription:"Match the correct side to the hearts and flowers.",heartsAndFlowersName:"Hearts and Flowers",egmaMathDescription:"Solve the math problems.",egmaMathName:"Math",matrixReasoningDescription:"Find the missing piece to complete the puzzle.",matrixReasoningName:"Pattern matching",memoryGameDescription:"Watch the squares light up. Remember the order and make the same pattern.",memoryGameName:"Memory",mentalRotationDescription:"Match the pictures.",mentalRotationName:"Shape Rotation",sameDifferentSelectionDescription:"Find things that are the same about the shapes.",sameDifferentSelectionName:"Same & Different",theoryOfMindDescription:"Listen to the stories and answer the questions.",theoryOfMindName:"Stories",trogDescription:"Listen to the words and choose the matching picture.",trogName:"Sentence Undersanding",surveyNameChild:"Thoughts and Feelings",surveyDescriptionChild:"Answer questions about your time at school.",surveyNameParentPart1:"Survey - Caregiver",surveyDescriptionParentPart1:"This survey will take approximately 20-30 minutes to complete and will ask questions about your child.",surveyNameParentPart2:"Survey - Family",surveyDescriptionParentPart2:"This survey will take approximately 20-30 minutes to complete and will ask questions about your home and yourself.",surveyNameTeacherPart1:"Survey - General",surveyDescriptionTeacherPart1:"This survey will take approximately 5-10 minutes to complete and asks about your background and beliefs about teaching.",surveyNameTeacherPart2:"Survey - Classroom",surveyDescriptionTeacherPart2:"This survey will take approximately 5-10 minutes to complete and asks questions about the classroom(s) you teach.",surveyProgressGeneral:"General",surveyProgressGeneralParent:"Home/Caregiver",surveyProgressSpecificParent:"Child",surveyProgressSpecificParentMonth:"Month",surveyProgressSpecificParentYear:"Year",surveyProgressGeneralTeacher:"Teacher",surveyProgressSpecificTeacher:"Classroom",mefsName:"Lion and Monkey",mefsDescription:"Match the shapes and colors.",vocabName:"Vocabulary",vocabDescription:"Listen to the word and choose the matching picture.",roarInferenceName:"Roar - Inference",roarInferenceDescription:"Read the stories and answer the questions."},dH={greeting:"Hi",signOut:"Sign Out"},hH={label:"Return to Home",pageNotFound:"Page not found",sorry:"Sorry, we could not find that page!"},fH={grade:"Grade",studentInfo:"Participant Info",tasksCompleted:"tasks completed!"},pH={havingTrouble:"Having trouble?",login:"Log in to access your dashboard",loginWith:"Log in with",welcome:"Welcome to ROAR!",adminPrompt:"Are you an Admin? Click {action} to Sign in.",adminAction:"here",adminInfoPrompt:"If you registered with a Google email or your email provider uses Google SSO."},gH={preparing:"Preparing your game!",loading:"loading"},mH={formTitle:"Report an Issue to LEVANTE",buttonLabel:"Report an Issue",submitButtonLabel:"Submit Issue Report",cancelButtonLabel:"Cancel",namePlaceholder:"Your Name (optional)",emailPlaceholder:"your.email@example.org (optional)",messageLabel:"Description",messagePlaceholder:"What is the issue? What did you want to experience instead? Thank you for sharing."},vH={specificRelationDescriptionChildA:"For child with Birth Month",specificRelationDescriptionChildB:"and Birth Year",specificRelationDescriptionClass:"For class"},yH={settings:{settings:"Settings",language:"Language",languageDescription:"Select the language you want to use in the dashboard. This will ONLY change the language of the dashboard and surveys, not the tasks."}},bH={authSignIn:oH,consentModal:aH,homeParticipant:lH,homeSelector:uH,gameTabs:cH,navBar:dH,notFound:hH,participantSidebar:fH,pageSignIn:pH,tasks:gH,sentryForm:mH,userSurvey:vH,profile:yH},CH={atLeastOneLowercase:"Al menos una minúscula",atLeastOneNumber:"Al menos un número",atLeastOneNumeric:"Al menos un numérico",atLeastOneUpperCase:"Al menos una mayúscula",buttonLabel:"¡Vamos!",continueWithGoogle:"Sigue adelante con Google",emailId:"correo electrónico",emailPlaceholder:"Nombre de usuario o correo electrónico",forgotPassword:"¿Olvidaste tu contraseña?",incorrectEmailOrPassword:"Nombre de usuario/correo electrónico o contraseña incorrectos",invalidEmailPlaceholder:"Error: correo electrónico no válido",minimumCharacters:"Mínimo 8 caracteres",pageTitle:"Iniciar sesión",passwordId:"contraseña",passwordPlaceholder:"Contraseña",pickPassword:"Elige una contraseña",selectLanguage:"Seleccionar idioma",selectLanguageLabel:"Idioma",signInWithEmailLinkInstead:"Iniciar sesión con enlace de correo electrónico",signInWithEmailLinkPlaceHolder:"Presiona Go para iniciar sesión con un enlace de correo electrónico.",signInWithPasswordInstead:"Iniciar sesión con contraseña",suggestions:"Sugerencias"},wH={header:"Consentimiento",consentTitle:"Consentimiento",assentTitle:"Asentimiento",acceptButton:"Aceptar",rejectButton:"No, cerrar sesión",toastHeader:"Confirmado",consentUpdatedStatus:"Estado de consentimiento actualizado"},_H={showOptionalAssignments:"Mostrar actividades opcionales",loadingAssignments:"Cargando actividades",selectAssignment:"Selecciona una actividad",noAssignments:"¡No tienes actividades!",contactAdministrator:"Por favor, contacta a tu administrador para que te agregue a una actividad."},IH={loading:"Cargando...",inactivityLogout:'Pronto será desconectado por motivos de seguridad. Haz clic en "Continuar" si desea continuar con su sesión. De lo contrario, se cerrará la sesión automáticamente en {timeLeft} segundos.',inactivityLogoutAcceptLabel:"Continuar"},EH={clickToStart:"Haz clic para empezar",taskCompleted:"¡Tarea completada!",introName:"Introducción",introDescription:"Aprende a jugar a nuestros juegos.",heartsAndFlowersDescription:"Haz coincidir el lado correcto con los corazones y las flores.",heartsAndFlowersName:"Corazones y Flores",egmaMathDescription:"Resuelve los problemas matemáticos.",egmaMathName:"Matemáticas",matrixReasoningDescription:"Encuentra la pieza que falta para completar el rompecabeza.",matrixReasoningName:"Razonamiento Matricial",memoryGameDescription:"Observa cómo se iluminan los cuadrados. Recuerda el orden y haz el mismo patrón.",memoryGameName:"Memoria",mentalRotationDescription:"Empareja las imágenes.",mentalRotationName:"Rotación Mental",sameDifferentSelectionDescription:"Encuentra cosas iguales en las formas.",sameDifferentSelectionName:"Iguales y Diferentes",theoryOfMindDescription:"Escucha las historias y responde a las preguntas.",theoryOfMindName:"Historias",trogDescription:"Escucha las palabras y elige la imagen correspondiente.",trogName:"Comprensión de Frases",surveyNameChild:"Pensamientos y Sentimientos",surveyDescriptionChild:"Responde a las preguntas sobre tu estancia en el colegio.",surveyNameParentPart1:"Encuesta para cuidadores",surveyDescriptionParentPart1:"Estimamos que diligenciar la siguiente encuesta le tomará aproximadamente 20-30 minutos y se le harán preguntas sobre su niño(a).",surveyNameParentPart2:"Encuesta para cuidadores",surveyDescriptionParentPart2:"Estimamos que diligenciar la siguiente encuesta le tomará aproximadamente 20-30 minutos y se le harán preguntas sobre su hogar y usted mismo(a).",surveyNameTeacherPart1:"Encuesta de profesores - General",surveyDescriptionTeacherPart1:"Estimamos que diligenciar la siguiente encuesta le tomará aproximadamente 5-10 minutos. Las preguntas indagan por sus antecedentes y creencias sobre la enseñanza.",surveyNameTeacherPart2:"Encuesta de profesores - Salón",surveyDescriptionTeacherPart2:"Estimamos que diligenciar la siguiente encuesta le tomará aproximadamente 5-10 minutos y se le hará preguntas sobre el salón o los salones en los que imparte.",surveyProgressGeneral:"General",surveyProgressGeneralParent:"Familia",surveyProgressSpecificParent:"Niño",surveyProgressSpecificParentMonth:"Mes",surveyProgressSpecificParentYear:"Año",surveyProgressGeneralTeacher:"Profesor",surveyProgressSpecificTeacher:"Aula",mefsName:"El León y El Mono",mefsDescription:"Empareja las formas y los colores.",vocabName:"Vocabulario",vocabDescription:"Escucha la palabra y elige la imagen correspondiente.",roarInferenceName:"Roar - Inferencia",roarInferenceDescription:"Lee las historias y responde a las preguntas."},SH={greeting:"¡Hola",signOut:"Salir"},TH={label:"Ir a la página de inicio.",pageNotFound:"Página no encontrada",sorry:"¡Lo siento, no pudimos encontrar esa página!"},xH={grade:"Calificación",studentInfo:"Información del nina",tasksCompleted:"¡tareas completadas!"},PH={havingTrouble:"¿Tienes problemas?",login:"Inicia sesión para acceder a tu panel de control",loginWith:"Inicia sesión con",welcome:"¡Bienvenido a ROAR!",adminPrompt:"¿Eres administrador? Haz clic {action} para iniciar sesión.",adminAction:"aquí",adminInfoPrompt:"Si te registraste con un correo de Google o tu proveedor de correo utiliza Google SSO."},RH={preparing:"¡Preparando tu juego!",loading:"cargando"},kH={formTitle:"Reportar un problema a LEVANTE",buttonLabel:"Reportar un problema",submitButtonLabel:"Enviar informe de problema",cancelButtonLabel:"Cancelar",namePlaceholder:"Tu nombre (opcional)",emailPlaceholder:"tu.email@example.org (opcional)",messageLabel:"Descripción",messagePlaceholder:"¿Cuál es el problema? ¿Qué querías experimentar en su lugar? Gracias por compartir."},AH={specificRelationDescriptionChildA:"Para niño(a) con mes de nacimiento",specificRelationDescriptionChildB:"y año de nacimiento",specificRelationDescriptionClass:"Para la clase"},VH={settings:{settings:"Configuraciones",language:"Idioma",languageDescription:"Selecciona el idioma que deseas usar en el panel. Esto SOLO cambiará el idioma del panel y las encuestas, no las tareas."}},X7={authSignIn:CH,consentModal:wH,homeParticipant:_H,homeSelector:IH,gameTabs:EH,navBar:SH,notFound:TH,participantSidebar:xH,pageSignIn:PH,tasks:RH,sentryForm:kH,userSurvey:AH,profile:VH},LH={atLeastOneLowercase:"Al menos una letra minúscula",atLeastOneNumber:"Al menos un número",atLeastOneNumeric:"Al menos un numéro",atLeastOneUpperCase:"Al menos una letra mayúscula",buttonLabel:"¡Vamos!",continueWithGoogle:"Sigue adelante con Google",emailId:"correo electrónico",emailPlaceholder:"Nombre de usuario o correo electrónico",forgotPassword:"¿Olvidaste tu contraseña?",incorrectEmailOrPassword:"Nombre de usuario/correo electrónico o contraseña incorrectos",invalidEmailPlaceholder:"Error: el correo electrónico no es válido",minimumCharacters:"Mínimo 8 caracteres",pageTitle:"Iniciar sesión",passwordId:"contraseña",passwordPlaceholder:"Contraseña",pickPassword:"Elige una contraseña",selectLanguage:"Seleccionar idioma",selectLanguageLabel:"Idioma",signInWithEmailLinkInstead:"Iniciar sesión con enlace de correo electrónico",signInWithEmailLinkPlaceHolder:"Presiona Vamos para iniciar sesión con un enlace de correo electrónico.",signInWithPasswordInstead:"Iniciar sesión con contraseña",suggestions:"Sugerencias"},OH={header:"Consentimiento",consentTitle:"Consentimiento",assentTitle:"Asentimiento",acceptButton:"Aceptar",rejectButton:"No, cerrar sesión",toastHeader:"Confirmado"},DH={showOptionalAssignments:"Mostrar actividades opcionales",loadingAssignments:"Cargando actividades",selectAssignment:"Selecciona una actividad",noAssignments:"¡No tienes actividades!",contactAdministrator:"Por favor, contacta a tu administrador para que agregue a una actividad.",consentUpdatedStatus:"Estado de consentimiento actualizado"},NH={loading:"Cargando...",inactivityLogout:'Pronto serás desconectado por motivos de seguridad. Haz clic en "Continuar" si deseas continuar. De lo contrario, la sesión se cerrará en {timeLeft} segundos automáticamente .',inactivityLogoutAcceptLabel:"Continuar"},MH={clickToStart:"Haz clic para empezar",taskCompleted:"¡Tarea completa!",introName:"Introducción",introDescription:"Aprende a jugar a nuestros juegos.",heartsAndFlowersDescription:"Haz coincidir el lado correcto con los corazones y las flores.",heartsAndFlowersName:"Corazones y Flores",egmaMathDescription:"Resuelve los problemas matemáticos.",egmaMathName:"Matemáticas",matrixReasoningDescription:"Encuentra la pieza que falta para completar el rompecabeza.",matrixReasoningName:"Razonamiento Matricial",memoryGameDescription:"Observa cómo se iluminan los cuadrados. Recuerda el orden y haz el mismo patrón.",memoryGameName:"Memoria",mentalRotationDescription:"Empareja las imágenes.",mentalRotationName:"Rotación Mental",sameDifferentSelectionDescription:"Encuentra cosas iguales en las formas.",sameDifferentSelectionName:"Iguales y Diferentes",theoryOfMindDescription:"Escucha las historias y responde a las preguntas.",theoryOfMindName:"Historias",trogDescription:"Escucha las palabras y elige la imagen correspondiente.",trogName:"Comprensión de Frases",surveyNameChild:"Pensamientos y Sentimientos",surveyDescriptionChild:"Responde a las preguntas sobre tu estancia en el colegio.",surveyNameParentPart1:"Encuesta para cuidadores",surveyDescriptionParentPart1:"Estimamos que diligenciar la siguiente encuesta le tomará aproximadamente 20-30 minutos y se le harán preguntas sobre su niño(a).",surveyNameParentPart2:"Encuesta para cuidadores",surveyDescriptionParentPart2:"Estimamos que diligenciar la siguiente encuesta le tomará aproximadamente 20-30 minutos y se le harán preguntas sobre su hogar y usted mismo(a).",surveyNameTeacherPart1:"Encuesta de profesores - General",surveyDescriptionTeacherPart1:"Estimamos que diligenciar la siguiente encuesta le tomará aproximadamente 5-10 minutos. Las preguntas indagan por sus antecedentes y creencias sobre la enseñanza.",surveyNameTeacherPart2:"Encuesta de profesores - Salón",surveyDescriptionTeacherPart2:"Estimamos que diligenciar la siguiente encuesta le tomará aproximadamente 5-10 minutos y se le hará preguntas sobre el salón o los salones en los que imparte.",surveyProgressGeneral:"General",surveyProgressGeneralParent:"Familia",surveyProgressSpecificParent:"Niño",surveyProgressSpecificParentMonth:"Mes",surveyProgressSpecificParentYear:"Año",surveyProgressGeneralTeacher:"Profesor",surveyProgressSpecificTeacher:"Aula",mefsName:"El León y El Mono",mefsDescription:"Empareja las formas y los colores.",vocabName:"Vocabulario",vocabDescription:"Escucha la palabra y elige la imagen correspondiente.",roarInferenceName:"Roar - Inferencia",roarInferenceDescription:"Lee las historias y responde a las preguntas."},FH={greeting:"¡Hola",signOut:"Salir"},$H={label:"Ir a la página de inicio.",pageNotFound:"Página no encontrada",sorry:"¡Lo siento, no pudimos encontrar esa página!"},BH={grade:"Grado",studentInfo:"Información del estudiante",tasksCompleted:"¡tareas completadas!"},qH={havingTrouble:"¿Tienes problemas?",login:"Inicia sesión para acceder a tus actividades",loginWith:"Inicia sesión con",welcome:"¡Bienvenido a ROAR!",adminPrompt:"¿Eres administrador? Haz clic {action} para iniciar sesión.",adminAction:"aquí",adminInfoPrompt:"Si te registraste con un correo de Google o tu proveedor de correo utiliza Google SSO."},UH={preparing:"¡Preparando tu juego!",loading:"cargando"},HH={formTitle:"Reportar un problema a LEVANTE",buttonLabel:"Reportar un problema",submitButtonLabel:"Enviar informe de problema",cancelButtonLabel:"Cancelar",namePlaceholder:"Tu nombre (opcional)",emailPlaceholder:"tu.email@example.org (opcional)",messageLabel:"Descripción",messagePlaceholder:"¿Cuál es el problema? ¿Qué querías experimentar en su lugar? Gracias por compartir."},zH={specificRelationDescriptionChildA:"Para niño(a) con mes de nacimiento",specificRelationDescriptionChildB:"y año de nacimiento",specificRelationDescriptionClass:"Para la clase"},e9={authSignIn:LH,consentModal:OH,homeParticipant:DH,homeSelector:NH,gameTabs:MH,navBar:FH,notFound:$H,participantSidebar:BH,pageSignIn:qH,tasks:UH,sentryForm:HH,userSurvey:zH},jH={atLeastOneLowercase:"At least one lowercase",atLeastOneNumber:"At least one number",atLeastOneNumeric:"At least one numeric",atLeastOneUpperCase:"At least one uppercase",buttonLabel:"Go!",continueWithGoogle:"Continue with Google",emailId:"email",emailPlaceholder:"Username or email",forgotPassword:"Forgot Password?",incorrectEmailOrPassword:"Incorrect username/email or password",invalidEmailPlaceholder:"Error: invalid email",minimumCharacters:"Minimum 8 characters",passwordId:"password",passwordPlaceholder:"Password",pickPassword:"Pick a password",selectLanguage:"Select Language",selectLanguageLabel:"Language",signInWithEmailLinkInstead:"Sign-in using email link",signInWithEmailLinkPlaceHolder:"Press Go to sign-in with an email link.",signInWithPasswordInstead:"Sign-in using password",suggestions:"Suggestions"},QH={header:"Consent",consentTitle:"Consent",assentTitle:"Assent",acceptButton:"Accept",rejectButton:"No, sign me out",toastHeader:"Confirmed",consentUpdatedStatus:"Consent status updated"},WH={showOptionalAssignments:"Show optional assignments",loadingAssignments:"Loading Assignments",selectAssignment:"Select an assignment",noAssignments:"You have no assignments!",contactAdministrator:"Please contact your administrator to get added to an assignment."},GH={loading:"Loading...",inactivityLogout:`You will soon be logged out for security purposes. Please click "Continue" if you wish to continue your session.
 Otherwise, you will be automatically logged out in { timeLeft } seconds.`,inactivityLogoutAcceptLabel:"Continue"},KH={clickToStart:"Click to start",taskCompleted:"Task Completed!","LEVANTE TRANSLATIONS--------------------------":"",introName:"Introduction",introDescription:"Learn how to play our games. ",heartsAndFlowersDescription:"Match the correct side to the hearts and flowers.",heartsAndFlowersName:"Hearts and Flowers",egmaMathDescription:"Solve the math problems.",egmaMathName:"Math",matrixReasoningDescription:"Find the missing piece to complete the puzzle.",matrixReasoningName:"Pattern matching",memoryGameDescription:"Watch the squares light up. Remember the order and make the same pattern.",memoryGameName:"Memory",mentalRotationDescription:"Match the pictures.",mentalRotationName:"Shape Rotation",sameDifferentSelectionDescription:"Find things that are the same about the shapes.",sameDifferentSelectionName:"Same & Different",theoryOfMindDescription:"Listen to the stories and answer the questions.",theoryOfMindName:"Stories",trogDescription:"Listen to the words and choose the matching picture.",trogName:"Sentence Undersanding",surveyNameChild:"Thoughts and Feelings",surveyDescriptionChild:"Answer questions about your time at school.",surveyNameParentPart1:"Survey - Caregiver",surveyDescriptionParentPart1:"This survey will take approximately 20-30 minutes to complete and will ask questions about your child.",surveyNameParentPart2:"Survey - Family",surveyDescriptionParentPart2:"This survey will take approximately 20-30 minutes to complete and will ask questions about your home and yourself.",surveyNameTeacherPart1:"Survey - General",surveyDescriptionTeacherPart1:"This survey will take approximately 5-10 minutes to complete and asks about your background and beliefs about teaching.",surveyNameTeacherPart2:"Survey - Classroom",surveyDescriptionTeacherPart2:"This survey will take approximately 5-10 minutes to complete and asks questions about the classroom(s) you teach.",surveyProgressGeneral:"General",surveyProgressGeneralParent:"Home/Caregiver",surveyProgressSpecificParent:"Child",surveyProgressSpecificParentMonth:"Month",surveyProgressSpecificParentYear:"Year",surveyProgressGeneralTeacher:"Teacher",surveyProgressSpecificTeacher:"Classroom",mefsName:"Lion and Monkey",mefsDescription:"Match the shapes and colors.",vocabName:"Vocabulary",vocabDescription:"Listen to the word and choose the matching picture.",roarInferenceName:"Roar - Inference",roarInferenceDescription:"Read the stories and answer the questions."},JH={greeting:"Hi",signOut:"Sign Out"},YH={label:"Return to Home.",pageNotFound:"Page not found",sorry:"Sorry, we could not find that page!"},ZH={grade:"Grade",studentInfo:"Participant Info",tasksCompleted:"tasks completed!"},XH={havingTrouble:"Having trouble?",login:"Log in to access your dashboard",loginWith:"Log in with",welcome:"Welcome to ROAR!",adminPrompt:"Are you an Admin? Click {action} to Sign in.",adminAction:"here",adminInfoPrompt:"If you registered with a Google email or your email provider uses Google SSO."},ez={preparing:"Preparing your game!",loading:"loading"},tz={formTitle:"Report an Issue to LEVANTE",buttonLabel:"Report an Issue",submitButtonLabel:"Submit Issue Report",cancelButtonLabel:"Cancel",namePlaceholder:"Your Name (optional)",emailPlaceholder:"your.email@example.org (optional)",messageLabel:"Description",messagePlaceholder:"What is the issue? What did you want to experience instead? Thank you for sharing."},nz={specificRelationDescriptionChildA:"For child with Birth Month",specificRelationDescriptionChildB:"and Birth Year",specificRelationDescriptionClass:"For class"},iz={settings:{settings:"Settings",language:"Language",languageDescription:"Select the language you want to use in the dashboard. This will ONLY change the language of the dashboard and surveys, not the tasks."}},B2={authSignIn:jH,consentModal:QH,homeParticipant:WH,homeSelector:GH,gameTabs:KH,navBar:JH,notFound:YH,participantSidebar:ZH,pageSignIn:XH,tasks:ez,sentryForm:tz,userSurvey:nz,profile:iz},rz={pageTitle:"Individual Score Report",welcome:"Welcome to your ROAR Score Report",loading:"Loading Your Individual Roar Score Report...",grade:"Grade",class:"Class",administration:"Administration",expandSections:"Expand All Sections",collapseSections:"Collapse All Sections",exportPDF:"Export to PDF",stillWorking:"It looks like {firstName} is still working on completing their assigned games!",needOneComplete:"{firstName}'s individual score report will be built when the child has completed at least one assessment.",completedTasks:"{firstName} completed the following games:",roarSummery:"The Rapid Online Assessment of Reading (ROAR) assesses children across a range of foundational reading skills.",summery:"In this report, you will find {firstName}’s scoring at the time of testing, as well as ways you can support {firstName} in their path to reading fluency and comprehension!",taskTabHeader:"Understanding the Scores",taskIntro:"The ROAR assessments return these kinds of scores:",standardScore:"standard score",percentileScore:"percentile",rawScore:"raw score",standardScoreDescription:"{taskTitle} is a way of showing how your child's test performance compares to other kids of the same age or grade. Standard Scores have a range of 0-180. The standard score is comparable within a grade level, but not across grade levels or over time.",percentileScoreDescription:"{taskTitle} refers to a child's rank within their grade level on the given skill. The percentile is the number of children out of 100 who have lower scores for that skill. For example, children in the 50th percentile would score higher than 50 out of 100 children in the same grade.",rawScoreDescription:"{taskTitle} is the basic measure of a child's performance on the test. Depending on the test, the raw score is based on a number of factors. These may include the number of items a child answered correctly or incorrectly, and the difficulty of the items. The raw score is comparable across grade levels and over time.",roarDescription:"{roar} assesses foundational reading skills that are ideally in place before 5th grade.",extraSupportDescription:"In Grades 6–12, skills that {supportCategory} are at or below a 3rd-grade level. Children with this support level likely need additional systematic, intensive instruction on this skill in order to access grade-level reading.",developingDescription:"Skills that are {supportCategory} are between a 3rd- and 5th-grade level. Children with this support level may need additional instruction on this skill in order to access grade-level reading.",achievedDescription:"Skills that have been {supportCategory} are above a 5th-grade level. Children who have achieved this skill likely do not require intervention on this skill to access grade-level reading.",extraSupport:"need extra support (pink)",developing:"developing (yellow)",achieved:"achieved (green)",extraSupportText:"need extra support in",developingText:"are developing the skill of",achievedText:"have achieved the skill of",skillsDescription:"If a reader has achieved all of these skills, it is likely that foundational reading skills are sufficient. If they are still struggling with reading comprehension, other skills such as vocabulary, syntax, or comprehension strategies may be holding them back.",nextStepsTabHeader:"Next Steps",nextSteps:"This score report provides a broad overview of your child's reading development. Understand that a child's progress may not be linear, and their scores are not fixed- everyone has room to grow and learn. To learn more about any given test or subskill, and to find more resources for supporting your child {link}",rawTaskDescription:"{firstName} achieved a composite score of {rawScore} in {taskName}. {taskDescription}",standardTaskDescription:"{firstName} scored a standard score of {standardScore}, which indicates they {supportCategory} {taskName}. {taskDescription}",percentileTaskDescription:"{firstName} scored in the {percentile}, which indicates they {supportCategory} {taskName}. {taskDescription}",scoreBreakdown:"Score Breakdown",firstSoundMatching:"First Sound Matching (FSM)",lastSoundMatching:"Last Sound Matching (LSM)",deletion:"Deletion (DEL)",skillsToWorkOn:"Skills to work on",upperCase:"Upper Case",lowerCase:"Lower Case",letterSounds:"Letter Sounds",lettersToWorkOn:"Letters to work on",letterSoundsToWorkOn:"Letter Sounds to work on",optional:"Optional",required:"Required",optionalTagText:"This task was a optional assignment.",requiredTagText:"This task was a required assignment.",reliable:"Reliable",unreliable:"Unreliable",reliableTagText:"The child's behavior did not trigger any flags and the run can be considered reliable",unreliableTagText:"The run was marked as unreliable.",unreliableTagTextFlags:"The run was marked unreliable because of the following flags",rawScoreLabel:"Raw Score",reliability:"Data Reliability",percentileGrading:"Percents are scored in relation to other children in this grade level.",reliabilityMessage:"For all scores, some caution should be exercised when interpreting scores.  {firstName}'s current behaviors during the last administration of the tests are noted below.",reliability_flags:"Data Reliability Flags"},sz={scoreReports:rz},oz={pageTitle:"Individual Score Report",welcome:"Welcome to your ROAR Score Report",loading:"Loading Your Individual Roar Score Report...",grade:"Grade",class:"Class",administration:"Administration",expandSections:"Expand All Sections",collapseSections:"Collapse All Sections",exportPDF:"Export to PDF",stillWorking:"It looks like {firstName} is still working on completing their assigned games!",needOneComplete:"{firstName}'s individual score report will be built when the child has completed at least one assessment.",completedTasks:"{firstName} completed the following games:",roarSummery:"The Rapid Online Assessment of Reading (ROAR) assesses children across a range of foundational reading skills.",summery:"In this report, you will find {firstName}’s scoring at the time of testing, as well as ways you can support {firstName} in their path to reading fluency and comprehension!",taskTabHeader:"Understanding the Scores",taskIntro:"The ROAR assessments return these kinds of scores:",standardScore:"standard score",percentileScore:"percentile",rawScore:"raw score",standardScoreDescription:"{taskTitle} is a way of showing how your child's test performance compares to other kids of the same age or grade. Standard Scores have a range of 0-180. The standard score is comparable within a grade level, but not across grade levels or over time.",percentileScoreDescription:"{taskTitle} refers to a child's rank within their grade level on the given skill. The percentile is the number of children out of 100 who have lower scores for that skill. For example, children in the 50th percentile would score higher than 50 out of 100 children in the same grade.",rawScoreDescription:"{taskTitle} is the basic measure of a child's performance on the test. Depending on the test, the raw score is based on a number of factors. These may include the number of items a child answered correctly or incorrectly, and the difficulty of the items. The raw score is comparable across grade levels and over time.",roarDescription:"{roar} assesses foundational reading skills that are ideally in place before 5th grade.",extraSupportDescription:"In Grades 6–12, skills that {supportCategory} are at or below a 3rd-grade level. Children with this support level likely need additional systematic, intensive instruction on this skill in order to access grade-level reading.",developingDescription:"Skills that are {supportCategory} are between a 3rd- and 5th-grade level. Children with this support level may need additional instruction on this skill in order to access grade-level reading.",achievedDescription:"Skills that have been {supportCategory} are above a 5th-grade level. Children who have achieved this skill likely do not require intervention on this skill to access grade-level reading.",extraSupport:"need extra support (pink)",developing:"developing (yellow)",achieved:"achieved (green)",extraSupportText:"need extra support in",developingText:"are developing the skill of",achievedText:"have achieved the skill of",skillsDescription:"If a reader has achieved all of these skills, it is likely that foundational reading skills are sufficient. If they are still struggling with reading comprehension, other skills such as vocabulary, syntax, or comprehension strategies may be holding them back.",nextStepsTabHeader:"Next Steps",nextSteps:"This score report provides a broad overview of your child's reading development. Understand that a child's progress may not be linear, and their scores are not fixed- everyone has room to grow and learn. To learn more about any given test or subskill, and to find more resources for supporting your child {link}",rawTaskDescription:"{firstName} achieved a composite score of {rawScore} in {taskName}. {taskDescription}",standardTaskDescription:"{firstName} scored a standard score of {standardScore}, which indicates they {supportCategory} {taskName}. {taskDescription}",percentileTaskDescription:"{firstName} scored in the {percentile}, which indicates they {supportCategory} {taskName}. {taskDescription}",scoreBreakdown:"Score Breakdown",firstSoundMatching:"First Sound Matching (FSM)",lastSoundMatching:"Last Sound Matching (LSM)",deletion:"Deletion (DEL)",skillsToWorkOn:"Skills to work on",upperCase:"Upper Case",lowerCase:"Lower Case",letterSounds:"Letter Sounds",lettersToWorkOn:"Letters to work on",letterSoundsToWorkOn:"Letter Sounds to work on",optional:"Optional",required:"Required",optionalTagText:"This task was a optional assignment.",requiredTagText:"This task was a required assignment.",reliable:"Reliable",unreliable:"Unreliable",reliableTagText:"The child's behavior did not trigger any flags and the run can be considered reliable",unreliableTagText:"The run was marked as unreliable.",unreliableTagTextFlags:"The run was marked unreliable because of the following flags"},az={scoreReports:oz},lz={pageTitle:"Informe individual de notas",welcome:"Bienvenido a su informe de notas de ROAR",loading:"Cargando su informe individual de notas de ROAR...",grade:"Grado",class:"Clase",administration:"Administración",expandSections:"Expandir todas las secciones",collapseSections:"Contraer todas las secciones",exportPDF:"Exportar a PDF",stillWorking:"¡Parece que {firstName} todavía está trabajando para completar los juegos asignados!",needOneComplete:"El informe individual de notas de {firstName} se creará cuando el/la estudiante haya completado al menos una actividad.",completedTasks:"{firstName} completó los siguientes juegos:",roarSummery:"La Evaluación Rápida de Lectura en Línea (ROAR) evalúa a los estudiantes en una variedad de habilidades fundamentales de lectura.",summery:"En este informe, encontrará la puntuación de {firstName} en el momento de la prueba, así como formas en que puede apoyar a {firstName} en su camino hacia la fluidez y comprensión lectora.",taskTabHeader:"Comprender las puntuaciones",taskIntro:"Las evaluaciones ROAR arrojan este tipo de puntuaciones:",standardScore:"puntuación estándar",percentileScore:"percentil",rawScore:"puntuación bruta (puntuación sin procesar)",standardScoreDescription:"{taskTitle} es una forma de mostrar cómo se compara el desempeño de su hijo/hija en las pruebas con el de otros niños de la misma edad o grado. Las puntuaciones estándar tienen un rango de 0 a 180. La puntuación estándar es comparable dentro de un mismo nivel de grado, pero no entre niveles de grado ni a lo largo del tiempo.",percentileScoreDescription:"{taskTitle} se refiere al rango de un estudiante dentro de su nivel de grado en la habilidad dada. El percentil es el número de estudiantes, de cada 100, que tienen puntuaciones más bajas en esa habilidad. Por ejemplo, los estudiantes en el percentil 50 obtendrían una puntuación más alta que 50 de cada 100 estudiantes en el mismo grado.",rawScoreDescription:"{taskTitle} es la medida básica del desempeño de un estudiante en la prueba. Dependiendo de la prueba, la puntuación bruta se basa en varios factores. Estos pueden incluir la cantidad de elementos que un estudiante respondió correcta o incorrectamente y la dificultad de los elementos. La puntuación bruta es comparable entre niveles de grado y a lo largo del tiempo.",roarDescription:"{roar} evalúa las habilidades fundamentales de lectura que idealmente están vigentes antes del quinto grado.",extraSupportDescription:"En los grados 6 a 12, habilidades que {supportCategory} están en el nivel de tercer grado o por debajo de él. Los estudiantes con este nivel de apoyo probablemente necesiten instrucción adicional sistemática e intensiva sobre esta habilidad para poder acceder a la lectura de su grado.",developingDescription:"Las habilidades que son {supportCategory} están entre el nivel de 3ro- y 5to- grado. Los estudiantes con este nivel de apoyo pueden necesitar instrucción adicional sobre esta habilidad para poder acceder a la lectura de su nivel de grado.",achievedDescription:"Las habilidades que han sido {supportCategory} están por encima del nivel de quinto grado. Los estudiantes que han logrado esta habilidad probablemente no requieran intervención para acceder a la lectura de nivel de grado.",extraSupport:"necesita apoyo adicional (rosa)",developing:"En desarrollo (amarillo)",achieved:"logrado (verde)",extraSupportText:"necesita apoyo adicional en",developingText:"están desarrollando la habilidad de",achievedText:"haber alcanzado la habilidad de",skillsDescription:"Si un lector ha logrado todas estas habilidades, es probable que las habilidades básicas de lectura sean suficientes. Si todavía tienen dificultades con la comprensión lectora, otras habilidades como el vocabulario, la sintaxis o las estrategias de comprensión pueden estar frenándolos.",nextStepsTabHeader:"Próximos pasos",nextSteps:"Este informe de calificaciones proporciona una descripción general amplia del desarrollo de lectura de su estudiante. Comprenda que el progreso de un estudiante puede no ser lineal y que sus calificaciones no son fijas: todos tienen espacio para crecer y aprender. Para obtener más información sobre cualquier prueba o subhabilidad determinada y encontrar más recursos para apoyar a su estudiante {link}",rawTaskDescription:"{firstName} logró una puntuación compuesta de {rawScore} en {taskName}. {taskDescription}",standardTaskDescription:"{firstName} obtuvo una puntuación estándar de {standardScore}, lo que indica que {supportCategory} {taskName}. {taskDescription}",percentileTaskDescription:"{firstName} obtuvo una puntuación en el {percentile}, lo que indica que {supportCategory} {taskName}. {taskDescription}",scoreBreakdown:"Desglose de puntuación",firstSoundMatching:"Primera coincidencia de sonido (FSM)",lastSoundMatching:"Última coincidencia de sonido (LSM)",deletion:"Eliminación (DEL)",skillsToWorkOn:"Habilidades para trabajar",upperCase:"Mayúsculas",lowerCase:"Minúsculas",letterSounds:"Sonidos de letras",lettersToWorkOn:"Letras para trabajar",letterSoundsToWorkOn:"Sonidos de letras para trabajar",optional:"Opcional",required:"Requerido",optionalTagText:"Esta tarea era una tarea opcional.",requiredTagText:"Esta tarea era una tarea requerida.",reliable:"Confiable",unreliable:"No confiable",reliableTagText:"El comportamiento del estudiante no generó ninguna señal y la puntuación puede considerarse confiable.",unreliableTagText:"La puntuación fue marcada como poco confiable.",unreliableTagTextFlags:"La puntuación se marcó como no confiable debido a los siguientes factores"},uz={scoreReports:lz},cz={pageTitle:"Informe individual de notas",welcome:"Bienvenido a su informe de notas de ROAR",loading:"Cargando su informe individual de notas de ROAR...",grade:"Grado",class:"Clase",administration:"Administración",expandSections:"Expandir todas las secciones",collapseSections:"Contraer todas las secciones",exportPDF:"Exportar a PDF",stillWorking:"¡Parece que {firstName} todavía está trabajando para completar los juegos asignados!",needOneComplete:"El informe individual de notas de {firstName} se creará cuando el/la estudiante haya completado al menos una actividad.",completedTasks:"{firstName} completó los siguientes juegos:",roarSummery:"La Evaluación Rápida de Lectura en Línea (ROAR) evalúa a los estudiantes en una variedad de habilidades fundamentales de lectura.",summery:"En este informe, encontrará la puntuación de {firstName} en el momento de la prueba, así como formas en que puede apoyar a {firstName} en su camino hacia la fluidez y comprensión lectora.",taskTabHeader:"Comprender las puntuaciones",taskIntro:"Las evaluaciones ROAR arrojan este tipo de puntuaciones:",standardScore:"puntuación estándar",percentileScore:"percentil",rawScore:"puntuación bruta (puntuación sin procesar)",standardScoreDescription:"{taskTitle} es una forma de mostrar cómo se compara el desempeño de su hijo/hija en las pruebas con el de otros niños de la misma edad o grado. Las puntuaciones estándar tienen un rango de 0 a 180. La puntuación estándar es comparable dentro de un mismo nivel de grado, pero no entre niveles de grado ni a lo largo del tiempo.",percentileScoreDescription:"{taskTitle} se refiere al rango de un estudiante dentro de su nivel de grado en la habilidad dada. El percentil es el número de estudiantes, de cada 100, que tienen puntuaciones más bajas en esa habilidad. Por ejemplo, los estudiantes en el percentil 50 obtendrían una puntuación más alta que 50 de cada 100 estudiantes en el mismo grado.",rawScoreDescription:"{taskTitle} es la medida básica del desempeño de un estudiante en la prueba. Dependiendo de la prueba, la puntuación bruta se basa en varios factores. Estos pueden incluir la cantidad de elementos que un estudiante respondió correcta o incorrectamente y la dificultad de los elementos. La puntuación bruta es comparable entre niveles de grado y a lo largo del tiempo.",roarDescription:"{roar} evalúa las habilidades fundamentales de lectura que idealmente están vigentes antes del quinto grado.",extraSupportDescription:"En los grados 6 a 12, habilidades que {supportCategory} están en el nivel de tercer grado o por debajo de él. Los estudiantes con este nivel de apoyo probablemente necesiten instrucción adicional sistemática e intensiva sobre esta habilidad para poder acceder a la lectura de su grado.",developingDescription:"Las habilidades que son {supportCategory} están entre el nivel de 3ro- y 5to- grado. Los estudiantes con este nivel de apoyo pueden necesitar instrucción adicional sobre esta habilidad para poder acceder a la lectura de su nivel de grado.",achievedDescription:"Las habilidades que han sido {supportCategory} están por encima del nivel de quinto grado. Los estudiantes que han logrado esta habilidad probablemente no requieran intervención para acceder a la lectura de nivel de grado.",extraSupport:"necesita apoyo adicional (rosa)",developing:"En desarrollo (amarillo)",achieved:"logrado (verde)",extraSupportText:"necesita apoyo adicional en",developingText:"están desarrollando la habilidad de",achievedText:"haber alcanzado la habilidad de",skillsDescription:"Si un lector ha logrado todas estas habilidades, es probable que las habilidades básicas de lectura sean suficientes. Si todavía tienen dificultades con la comprensión lectora, otras habilidades como el vocabulario, la sintaxis o las estrategias de comprensión pueden estar frenándolos.",nextStepsTabHeader:"Próximos pasos",nextSteps:"Este informe de calificaciones proporciona una descripción general amplia del desarrollo de lectura de su estudiante. Comprenda que el progreso de un estudiante puede no ser lineal y que sus calificaciones no son fijas: todos tienen espacio para crecer y aprender. Para obtener más información sobre cualquier prueba o subhabilidad determinada y encontrar más recursos para apoyar a su estudiante {link}",rawTaskDescription:"{firstName} logró una puntuación compuesta de {rawScore} en {taskName}. {taskDescription}",standardTaskDescription:"{firstName} obtuvo una puntuación estándar de {standardScore}, lo que indica que {supportCategory} {taskName}. {taskDescription}",percentileTaskDescription:"{firstName} obtuvo una puntuación en el {percentile}, lo que indica que {supportCategory} {taskName}. {taskDescription}",scoreBreakdown:"Desglose de puntuación",firstSoundMatching:"Primera coincidencia de sonido (FSM)",lastSoundMatching:"Última coincidencia de sonido (LSM)",deletion:"Eliminación (DEL)",skillsToWorkOn:"Habilidades para trabajar",upperCase:"Mayúsculas",lowerCase:"Minúsculas",letterSounds:"Sonidos de letras",lettersToWorkOn:"Letras para trabajar",letterSoundsToWorkOn:"Sonidos de letras para trabajar",optional:"Opcional",required:"Requerido",optionalTagText:"Esta tarea era una tarea opcional.",requiredTagText:"Esta tarea era una tarea requerida.",reliable:"Confiable",unreliable:"No confiable",reliableTagText:"El comportamiento del estudiante no generó ninguna señal y la puntuación puede considerarse confiable.",unreliableTagText:"La puntuación fue marcada como poco confiable.",unreliableTagTextFlags:"La puntuación se marcó como no confiable debido a los siguientes factores"},dz={scoreReports:cz},hz="Dashboard",fz="Sign In",kx={home:hz,signIn:fz},pz="Dashboard",gz="Sign In",Ax={home:pz,signIn:gz},mz="Tablero",vz="Iniciar Sesión",Vx={home:mz,signIn:vz},yz="Tablero",bz="Iniciar Sesión",Lx={home:yz,signIn:bz},Cz={atLeastOneLowercase:"Mindestens ein Kleinbuchstabe",atLeastOneNumber:"Mindestens eine Zahl",atLeastOneNumeric:"Mindestens eine Nummer",atLeastOneUpperCase:"Mindestens ein Großbuchstabe",buttonLabel:"Los!",continueWithGoogle:"Machen Sie weiter mit Google",emailId:"E-Mail",emailPlaceholder:"Benutzername oder E-Mail",forgotPassword:"Passwort vergessen?",incorrectEmailOrPassword:"Falscher Benutzername/E-Mail oder Passwort",invalidEmailPlaceholder:"Fehler: Ungültige E-Mail",minimumCharacters:"Mindestens 8 Zeichen",passwordId:"Passwort",passwordPlaceholder:"Passwort",pickPassword:"Wählen Sie ein Passwort",selectLanguage:"Sprache auswählen",selectLanguageLabel:"Sprache",signInWithEmailLinkInstead:"Mit E-Mail-Link anmelden",signInWithEmailLinkPlaceHolder:"Drücken Sie „Los“, um sich mit einem E-Mail-Link anzumelden.",signInWithPasswordInstead:"Mit Passwort anmelden",suggestions:"Vorschläge"},wz={header:"Zustimmung",title:"Zustimmung",acceptButton:"Akzeptieren",rejectButton:"Nein, mich abmelden",toastHeader:"Bestätigt",consentUpdatedStatus:"Zustimmungsstatus aktualisiert"},_z={showOptionalAssignments:"Optionale Zuordnungen anzeigen",loadingAssignments:"Lade Zuordnungen",selectAssignment:"Wählen Sie eine Zuordnung aus",noAssignments:"Sie haben keine Zuordnungen!",contactAdministrator:"Bitte kontaktieren Sie Ihren Administrator, um zu einer Zuordnung hinzugefügt zu werden."},Iz={loading:"Laden...",inactivityLogout:"Sie werden aus Sicherheitsgründen bald abgemeldet. Bitte klicken Sie auf 'Fortsetzen', wenn Sie Ihre Sitzung fortsetzen möchten. Andernfalls werden Sie automatisch in { timeLeft } Sekunden abgemeldet.",inactivityLogoutAcceptLabel:"Fortsetzen"},Ez={clickToStart:"Klicken zum Starten",taskCompleted:"Aufgabe abgeschlossen!","LEVANTE TRANSLATIONS--------------------------":"",introName:"Anleitungen",introDescription:"Schau dir an, wie man unsere Spiele spielt.",heartsAndFlowersDescription:"Wähle die richige Seite für die Herzen und Blumen.",heartsAndFlowersName:"Herzen & Blumen",egmaMathDescription:"Löse die Matheaufgaben.",egmaMathName:"Mathe",matrixReasoningDescription:"Finde das fehlende Teil, um das Puzzle zu vervollständigen.",matrixReasoningName:"Musterspiel",memoryGameDescription:"Schau dir genau an, wie die Quadrate aufleuchten. Merke dir die Reihenfolge und mach das Muster genauso nach.",memoryGameName:"Merkspiel",mentalRotationDescription:"Ordne die Bilder zu.",mentalRotationName:"Formenspiel",sameDifferentSelectionDescription:"Finde Dinge, die die Formen gemeinsam haben.",sameDifferentSelectionName:"Gleich & Verschieden",theoryOfMindDescription:"Höre dir die Geschichten an und beantworte dann Fragen dazu.",theoryOfMindName:"Bildergeschichten",trogDescription:"Hör dir die Wörter an und wähle das passende Bild dazu aus.",trogName:"Satzverstehen",surveyNameChild:"Gedanken & Gefühle",surveyDescriptionChild:"Hier geht es um Fragen zu deiner Schulzeit.",surveyNameParentPart1:"Umfrage - Erwachsene",surveyDescriptionParentPart1:"Das Ausfüllen dieser Fragebögen dauert etwa 30-45 Minuten. Teil A enthält Fragen zu Ihrem häuslichen Umfeld und zu Ihrer Person. In Teil B werden Fragen zu Ihrem Kind/ Ihren Kindern gestellt. Anhand des Geburtsdatums, welches im jeweiligen Fragebogen aufgeführt ist, können Sie erkennen, an welches Kind Sie bei der Beantwortung der Fragen denken sollen (falls Sie mehr als ein Kind in dieser Studie haben).",surveyNameParentPart2:"Umfrage - Familie",surveyDescriptionParentPart2:"Umfrage für Eltern: Die folgende Umfrage dauert etwa 20-30 Minuten und enthält Fragen Ihrem zu Hause und zu Ihrer Person. ",surveyNameTeacherPart1:"Umfrage - Allgemein",surveyDescriptionTeacherPart1:"This survey will take approximately 5-10 minutes to complete and asks about your background and beliefs about teaching.",surveyNameTeacherPart2:"Umfrage - Klassenzimmer",surveyDescriptionTeacherPart2:"This survey will take approximately 5-10 minutes to complete and asks questions about the classroom(s) you teach.",surveyProgressGeneral:"Allgemein",surveyProgressGeneralParent:"zu Hause/ Erwachsener",surveyProgressSpecificParent:"Kind",surveyProgressSpecificParentMonth:"Monat",surveyProgressSpecificParentYear:"Jahr",surveyProgressGeneralTeacher:"Lehrer",surveyProgressSpecificTeacher:"Klassenzimmer",mefsName:"Löwe & Affe",mefsDescription:"Formen und Farben zuordnen.",vocabName:"Vokabeln",vocabDescription:"Hör dir die Wörter an und wähle das passende Bild dazu aus."},Sz={signOut:"Abmelden"},Tz={label:"Klicken Sie hier, um zur Startseite zu gelangen.",pageNotFound:"Seite nicht gefunden",sorry:"Entschuldigung, wir konnten diese Seite nicht finden!"},xz={grade:"Klasse",studentInfo:"Schülerinformationen",tasksCompleted:"Aufgaben abgeschlossen!"},Pz={havingTrouble:"Haben Sie Schwierigkeiten?",login:"Melden Sie sich an, um auf Ihr Dashboard zuzugreifen",loginWith:"Anmelden mit",welcome:"Willkommen bei ROAR!",adminPrompt:"Sind Sie ein Administrator? Klicken Sie {action}, um sich anzumelden.",adminAction:"hier",adminInfoPrompt:"Wenn Sie sich mit einer Google-E-Mail oder Ihr E-Mail-Anbieter Google SSO verwendet, registriert haben."},Rz={preparing:"Gleich geht das Spiel los!",loading:"Laden"},kz={formTitle:"Ein Problem bei LEVANTE melden",buttonLabel:"Ein Problem melden",submitButtonLabel:"Problembericht einreichen",cancelButtonLabel:"Abbrechen",namePlaceholder:"Ihr Name (optional)",emailPlaceholder:"ihre.email@beispiel.org (optional)",messageLabel:"Beschreibung",messagePlaceholder:"Was ist das Problem? Was wollten Sie stattdessen erleben? Vielen Dank für Ihr Feedback."},Az={specificRelationDescriptionChildA:"Für Kind mit Geburtsmonat",specificRelationDescriptionChildB:"und Geburtsjahr",specificRelationDescriptionClass:"Für Klasse"},Vz={settings:{settings:"Einstellungen",language:"Sprache",languageDescription:"Wählen Sie die Sprache, die Sie im Dashboard verwenden möchten. Dies wird NUR die Sprache des Dashboards und der Umfragen ändern, nicht die Aufgaben."}},t9={authSignIn:Cz,consentModal:wz,homeParticipant:_z,homeSelector:Iz,gameTabs:Ez,navBar:Sz,notFound:Tz,participantSidebar:xz,pageSignIn:Pz,tasks:Rz,sentryForm:kz,userSurvey:Az,profile:Vz};var Ox={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Lz=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const r=i[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=i[t++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=i[t++],o=i[t++],a=i[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=i[t++],o=i[t++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},i9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){const s=i[r],o=r+1<i.length,a=o?i[r+1]:0,l=r+2<i.length,u=l?i[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),n.push(t[c],t[h],t[f],t[m])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(n9(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Lz(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){const s=t[i.charAt(r++)],a=r<i.length?t[i.charAt(r)]:0;++r;const u=r<i.length?t[i.charAt(r)]:64;++r;const h=r<i.length?t[i.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new Oz;const f=s<<2|a>>4;if(n.push(f),u!==64){const m=a<<4&240|u>>2;if(n.push(m),h!==64){const b=u<<6&192|h;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};let Oz=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const Dz=function(i){const e=n9(i);return i9.encodeByteArray(e,!0)},r9=function(i){return Dz(i).replace(/\./g,"")},s9=function(i){try{return i9.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ao<"u")return Ao;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=()=>Nz().__FIREBASE_DEFAULTS__,Fz=()=>{if(typeof lm>"u"||typeof Ox>"u")return;const i=Ox.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$z=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&s9(i[1]);return e&&JSON.parse(e)},Bz=()=>{try{return Mz()||Fz()||$z()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qz=i=>{var e;return(e=Bz())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rl())}function Hz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zz(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function jz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qz(){try{return typeof indexedDB=="object"}catch{return!1}}function Wz(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="FirebaseError";let np=class o9 extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Gz,Object.setPrototypeOf(this,o9.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gv.prototype.create)}},gv=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Kz(s,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new np(r,a,n)}};function Kz(i,e){return i.replace(Jz,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const Jz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Yz(i,e){const t=new Zz(i,e);return t.subscribe.bind(t)}let Zz=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");Xz(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:n},r.next===void 0&&(r.next=pw),r.error===void 0&&(r.error=pw),r.complete===void 0&&(r.complete=pw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Xz(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function pw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(i){return i&&i._delegate?i._delegate:i}let Cf=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ui||(ui={}));const ej={debug:ui.DEBUG,verbose:ui.VERBOSE,info:ui.INFO,warn:ui.WARN,error:ui.ERROR,silent:ui.SILENT},tj=ui.INFO,nj={[ui.DEBUG]:"log",[ui.VERBOSE]:"log",[ui.INFO]:"info",[ui.WARN]:"warn",[ui.ERROR]:"error"},ij=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),r=nj[e];if(r)console[r](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xE{constructor(e){this.name=e,this._logLevel=tj,this._logHandler=ij,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ui))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ej[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ui.DEBUG,...e),this._logHandler(this,ui.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ui.VERBOSE,...e),this._logHandler(this,ui.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ui.INFO,...e),this._logHandler(this,ui.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ui.WARN,...e),this._logHandler(this,ui.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ui.ERROR,...e),this._logHandler(this,ui.ERROR,...e)}}const rj=(i,e)=>e.some(t=>i instanceof t);let Dx,Nx;function sj(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oj(){return Nx||(Nx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l9=new WeakMap,q2=new WeakMap,u9=new WeakMap,gw=new WeakMap,PE=new WeakMap;function aj(i){const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{t(Cl(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&l9.set(t,i)}).catch(()=>{}),PE.set(e,i),e}function lj(i){if(q2.has(i))return;const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});q2.set(i,e)}let U2={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return q2.get(i);if(e==="objectStoreNames")return i.objectStoreNames||u9.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cl(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function uj(i){U2=i(U2)}function cj(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(o1(this),e,...t);return u9.set(n,e.sort?e.sort():[e]),Cl(n)}:oj().includes(i)?function(...e){return i.apply(o1(this),e),Cl(l9.get(this))}:function(...e){return Cl(i.apply(o1(this),e))}}function dj(i){return typeof i=="function"?cj(i):(i instanceof IDBTransaction&&lj(i),rj(i,sj())?new Proxy(i,U2):i)}function Cl(i){if(i instanceof IDBRequest)return aj(i);if(gw.has(i))return gw.get(i);const e=dj(i);return e!==i&&(gw.set(i,e),PE.set(e,i)),e}const o1=i=>PE.get(i);function c9(i,e,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(i,e),a=Cl(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Cl(o.result),l.oldVersion,l.newVersion,Cl(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function hj(i,{blocked:e}={}){const t=indexedDB.deleteDatabase(i);return e&&t.addEventListener("blocked",n=>e(n.oldVersion,n)),Cl(t).then(()=>{})}const fj=["get","getKey","getAll","getAllKeys","count"],pj=["put","add","delete","clear"],mw=new Map;function Mx(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(mw.get(e))return mw.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=pj.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||fj.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),r&&l.done]))[0]};return mw.set(e,s),s}uj(i=>({...i,get:(e,t,n)=>Mx(e,t)||i.get(e,t,n),has:(e,t)=>!!Mx(e,t)||i.has(e,t)}));const gj=Object.freeze(Object.defineProperty({__proto__:null,deleteDB:hj,openDB:c9,unwrap:o1,wrap:Cl},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vj(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function vj(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const H2="@firebase/app",Fx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new xE("@firebase/app"),yj="@firebase/app-compat",bj="@firebase/analytics-compat",Cj="@firebase/analytics",wj="@firebase/app-check-compat",_j="@firebase/app-check",Ij="@firebase/auth",Ej="@firebase/auth-compat",Sj="@firebase/database",Tj="@firebase/data-connect",xj="@firebase/database-compat",Pj="@firebase/functions",Rj="@firebase/functions-compat",kj="@firebase/installations",Aj="@firebase/installations-compat",Vj="@firebase/messaging",Lj="@firebase/messaging-compat",Oj="@firebase/performance",Dj="@firebase/performance-compat",Nj="@firebase/remote-config",Mj="@firebase/remote-config-compat",Fj="@firebase/storage",$j="@firebase/storage-compat",Bj="@firebase/firestore",qj="@firebase/vertexai-preview",Uj="@firebase/firestore-compat",Hj="firebase",zj="10.14.1",jj={[H2]:"fire-core",[yj]:"fire-core-compat",[Cj]:"fire-analytics",[bj]:"fire-analytics-compat",[_j]:"fire-app-check",[wj]:"fire-app-check-compat",[Ij]:"fire-auth",[Ej]:"fire-auth-compat",[Sj]:"fire-rtdb",[Tj]:"fire-data-connect",[xj]:"fire-rtdb-compat",[Pj]:"fire-fn",[Rj]:"fire-fn-compat",[kj]:"fire-iid",[Aj]:"fire-iid-compat",[Vj]:"fire-fcm",[Lj]:"fire-fcm-compat",[Oj]:"fire-perf",[Dj]:"fire-perf-compat",[Nj]:"fire-rc",[Mj]:"fire-rc-compat",[Fj]:"fire-gcs",[$j]:"fire-gcs-compat",[Bj]:"fire-fst",[Uj]:"fire-fst-compat",[qj]:"fire-vertex","fire-js":"fire-js",[Hj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new Map,Wj=new Map,$x=new Map;function Bx(i,e){try{i.container.addComponent(e)}catch(t){wu.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function wf(i){const e=i.name;if($x.has(e))return wu.debug(`There were multiple attempts to register component ${e}.`),!1;$x.set(e,i);for(const t of Qj.values())Bx(t,i);for(const t of Wj.values())Bx(t,i);return!0}function pg(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},RE=new gv("app","Firebase",Gj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=zj;function Wd(i,e,t){var n;let r=(n=jj[i])!==null&&n!==void 0?n:i;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wu.warn(a.join(" "));return}wf(new Cf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="firebase-heartbeat-database",Jj=1,hm="firebase-heartbeat-store";let vw=null;function d9(){return vw||(vw=c9(Kj,Jj,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(hm)}catch(t){console.warn(t)}}}}).catch(i=>{throw RE.create("idb-open",{originalErrorMessage:i.message})})),vw}async function Yj(i){try{const t=(await d9()).transaction(hm),n=await t.objectStore(hm).get(h9(i));return await t.done,n}catch(e){if(e instanceof np)wu.warn(e.message);else{const t=RE.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wu.warn(t.message)}}}async function qx(i,e){try{const n=(await d9()).transaction(hm,"readwrite");await n.objectStore(hm).put(e,h9(i)),await n.done}catch(t){if(t instanceof np)wu.warn(t.message);else{const n=RE.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wu.warn(n.message)}}}function h9(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=1024,Xj=30*24*60*60*1e3;class eQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nQ(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ux();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Xj}),this._storage.overwrite(this._heartbeatsCache))}catch(n){wu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ux(),{heartbeatsToSend:n,unsentEntries:r}=tQ(this._heartbeatsCache.heartbeats),s=r9(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return wu.warn(t),""}}}function Ux(){return new Date().toISOString().substring(0,10)}function tQ(i,e=Zj){const t=[];let n=i.slice();for(const r of i){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Hx(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Hx(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class nQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qz()?Wz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Yj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return qx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return qx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hx(i){return r9(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(i){wf(new Cf("platform-logger",e=>new mj(e),"PRIVATE")),wf(new Cf("heartbeat",e=>new eQ(e),"PRIVATE")),Wd(H2,Fx,i),Wd(H2,Fx,"esm2017"),Wd("fire-js","")}iQ("");var zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ao<"u"?Ao:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f9;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,y){function w(){}w.prototype=y.prototype,L.D=y.prototype,L.prototype=new w,L.prototype.constructor=L,L.C=function(R,U,H){for(var B=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)B[Oe-2]=arguments[Oe];return y.prototype[U].apply(R,B)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(L,y,w){w||(w=0);var R=Array(16);if(typeof y=="string")for(var U=0;16>U;++U)R[U]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(U=0;16>U;++U)R[U]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=L.g[0],w=L.g[1],U=L.g[2];var H=L.g[3],B=y+(H^w&(U^H))+R[0]+3614090360&4294967295;y=w+(B<<7&4294967295|B>>>25),B=H+(U^y&(w^U))+R[1]+3905402710&4294967295,H=y+(B<<12&4294967295|B>>>20),B=U+(w^H&(y^w))+R[2]+606105819&4294967295,U=H+(B<<17&4294967295|B>>>15),B=w+(y^U&(H^y))+R[3]+3250441966&4294967295,w=U+(B<<22&4294967295|B>>>10),B=y+(H^w&(U^H))+R[4]+4118548399&4294967295,y=w+(B<<7&4294967295|B>>>25),B=H+(U^y&(w^U))+R[5]+1200080426&4294967295,H=y+(B<<12&4294967295|B>>>20),B=U+(w^H&(y^w))+R[6]+2821735955&4294967295,U=H+(B<<17&4294967295|B>>>15),B=w+(y^U&(H^y))+R[7]+4249261313&4294967295,w=U+(B<<22&4294967295|B>>>10),B=y+(H^w&(U^H))+R[8]+1770035416&4294967295,y=w+(B<<7&4294967295|B>>>25),B=H+(U^y&(w^U))+R[9]+2336552879&4294967295,H=y+(B<<12&4294967295|B>>>20),B=U+(w^H&(y^w))+R[10]+4294925233&4294967295,U=H+(B<<17&4294967295|B>>>15),B=w+(y^U&(H^y))+R[11]+2304563134&4294967295,w=U+(B<<22&4294967295|B>>>10),B=y+(H^w&(U^H))+R[12]+1804603682&4294967295,y=w+(B<<7&4294967295|B>>>25),B=H+(U^y&(w^U))+R[13]+4254626195&4294967295,H=y+(B<<12&4294967295|B>>>20),B=U+(w^H&(y^w))+R[14]+2792965006&4294967295,U=H+(B<<17&4294967295|B>>>15),B=w+(y^U&(H^y))+R[15]+1236535329&4294967295,w=U+(B<<22&4294967295|B>>>10),B=y+(U^H&(w^U))+R[1]+4129170786&4294967295,y=w+(B<<5&4294967295|B>>>27),B=H+(w^U&(y^w))+R[6]+3225465664&4294967295,H=y+(B<<9&4294967295|B>>>23),B=U+(y^w&(H^y))+R[11]+643717713&4294967295,U=H+(B<<14&4294967295|B>>>18),B=w+(H^y&(U^H))+R[0]+3921069994&4294967295,w=U+(B<<20&4294967295|B>>>12),B=y+(U^H&(w^U))+R[5]+3593408605&4294967295,y=w+(B<<5&4294967295|B>>>27),B=H+(w^U&(y^w))+R[10]+38016083&4294967295,H=y+(B<<9&4294967295|B>>>23),B=U+(y^w&(H^y))+R[15]+3634488961&4294967295,U=H+(B<<14&4294967295|B>>>18),B=w+(H^y&(U^H))+R[4]+3889429448&4294967295,w=U+(B<<20&4294967295|B>>>12),B=y+(U^H&(w^U))+R[9]+568446438&4294967295,y=w+(B<<5&4294967295|B>>>27),B=H+(w^U&(y^w))+R[14]+3275163606&4294967295,H=y+(B<<9&4294967295|B>>>23),B=U+(y^w&(H^y))+R[3]+4107603335&4294967295,U=H+(B<<14&4294967295|B>>>18),B=w+(H^y&(U^H))+R[8]+1163531501&4294967295,w=U+(B<<20&4294967295|B>>>12),B=y+(U^H&(w^U))+R[13]+2850285829&4294967295,y=w+(B<<5&4294967295|B>>>27),B=H+(w^U&(y^w))+R[2]+4243563512&4294967295,H=y+(B<<9&4294967295|B>>>23),B=U+(y^w&(H^y))+R[7]+1735328473&4294967295,U=H+(B<<14&4294967295|B>>>18),B=w+(H^y&(U^H))+R[12]+2368359562&4294967295,w=U+(B<<20&4294967295|B>>>12),B=y+(w^U^H)+R[5]+4294588738&4294967295,y=w+(B<<4&4294967295|B>>>28),B=H+(y^w^U)+R[8]+2272392833&4294967295,H=y+(B<<11&4294967295|B>>>21),B=U+(H^y^w)+R[11]+1839030562&4294967295,U=H+(B<<16&4294967295|B>>>16),B=w+(U^H^y)+R[14]+4259657740&4294967295,w=U+(B<<23&4294967295|B>>>9),B=y+(w^U^H)+R[1]+2763975236&4294967295,y=w+(B<<4&4294967295|B>>>28),B=H+(y^w^U)+R[4]+1272893353&4294967295,H=y+(B<<11&4294967295|B>>>21),B=U+(H^y^w)+R[7]+4139469664&4294967295,U=H+(B<<16&4294967295|B>>>16),B=w+(U^H^y)+R[10]+3200236656&4294967295,w=U+(B<<23&4294967295|B>>>9),B=y+(w^U^H)+R[13]+681279174&4294967295,y=w+(B<<4&4294967295|B>>>28),B=H+(y^w^U)+R[0]+3936430074&4294967295,H=y+(B<<11&4294967295|B>>>21),B=U+(H^y^w)+R[3]+3572445317&4294967295,U=H+(B<<16&4294967295|B>>>16),B=w+(U^H^y)+R[6]+76029189&4294967295,w=U+(B<<23&4294967295|B>>>9),B=y+(w^U^H)+R[9]+3654602809&4294967295,y=w+(B<<4&4294967295|B>>>28),B=H+(y^w^U)+R[12]+3873151461&4294967295,H=y+(B<<11&4294967295|B>>>21),B=U+(H^y^w)+R[15]+530742520&4294967295,U=H+(B<<16&4294967295|B>>>16),B=w+(U^H^y)+R[2]+3299628645&4294967295,w=U+(B<<23&4294967295|B>>>9),B=y+(U^(w|~H))+R[0]+4096336452&4294967295,y=w+(B<<6&4294967295|B>>>26),B=H+(w^(y|~U))+R[7]+1126891415&4294967295,H=y+(B<<10&4294967295|B>>>22),B=U+(y^(H|~w))+R[14]+2878612391&4294967295,U=H+(B<<15&4294967295|B>>>17),B=w+(H^(U|~y))+R[5]+4237533241&4294967295,w=U+(B<<21&4294967295|B>>>11),B=y+(U^(w|~H))+R[12]+1700485571&4294967295,y=w+(B<<6&4294967295|B>>>26),B=H+(w^(y|~U))+R[3]+2399980690&4294967295,H=y+(B<<10&4294967295|B>>>22),B=U+(y^(H|~w))+R[10]+4293915773&4294967295,U=H+(B<<15&4294967295|B>>>17),B=w+(H^(U|~y))+R[1]+2240044497&4294967295,w=U+(B<<21&4294967295|B>>>11),B=y+(U^(w|~H))+R[8]+1873313359&4294967295,y=w+(B<<6&4294967295|B>>>26),B=H+(w^(y|~U))+R[15]+4264355552&4294967295,H=y+(B<<10&4294967295|B>>>22),B=U+(y^(H|~w))+R[6]+2734768916&4294967295,U=H+(B<<15&4294967295|B>>>17),B=w+(H^(U|~y))+R[13]+1309151649&4294967295,w=U+(B<<21&4294967295|B>>>11),B=y+(U^(w|~H))+R[4]+4149444226&4294967295,y=w+(B<<6&4294967295|B>>>26),B=H+(w^(y|~U))+R[11]+3174756917&4294967295,H=y+(B<<10&4294967295|B>>>22),B=U+(y^(H|~w))+R[2]+718787259&4294967295,U=H+(B<<15&4294967295|B>>>17),B=w+(H^(U|~y))+R[9]+3951481745&4294967295,L.g[0]=L.g[0]+y&4294967295,L.g[1]=L.g[1]+(U+(B<<21&4294967295|B>>>11))&4294967295,L.g[2]=L.g[2]+U&4294967295,L.g[3]=L.g[3]+H&4294967295}n.prototype.u=function(L,y){y===void 0&&(y=L.length);for(var w=y-this.blockSize,R=this.B,U=this.h,H=0;H<y;){if(U==0)for(;H<=w;)r(this,L,H),H+=this.blockSize;if(typeof L=="string"){for(;H<y;)if(R[U++]=L.charCodeAt(H++),U==this.blockSize){r(this,R),U=0;break}}else for(;H<y;)if(R[U++]=L[H++],U==this.blockSize){r(this,R),U=0;break}}this.h=U,this.o+=y},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var y=1;y<L.length-8;++y)L[y]=0;var w=8*this.o;for(y=L.length-8;y<L.length;++y)L[y]=w&255,w/=256;for(this.u(L),L=Array(16),y=w=0;4>y;++y)for(var R=0;32>R;R+=8)L[w++]=this.g[y]>>>R&255;return L};function s(L,y){var w=a;return Object.prototype.hasOwnProperty.call(w,L)?w[L]:w[L]=y(L)}function o(L,y){this.h=y;for(var w=[],R=!0,U=L.length-1;0<=U;U--){var H=L[U]|0;R&&H==y||(w[U]=H,R=!1)}this.g=w}var a={};function l(L){return-128<=L&&128>L?s(L,function(y){return new o([y|0],0>y?-1:0)}):new o([L|0],0>L?-1:0)}function u(L){if(isNaN(L)||!isFinite(L))return h;if(0>L)return E(u(-L));for(var y=[],w=1,R=0;L>=w;R++)y[R]=L/w|0,w*=4294967296;return new o(y,0)}function c(L,y){if(L.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(L.charAt(0)=="-")return E(c(L.substring(1),y));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),R=h,U=0;U<L.length;U+=8){var H=Math.min(8,L.length-U),B=parseInt(L.substring(U,U+H),y);8>H?(H=u(Math.pow(y,H)),R=R.j(H).add(u(B))):(R=R.j(w),R=R.add(u(B)))}return R}var h=l(0),f=l(1),m=l(16777216);i=o.prototype,i.m=function(){if(_(this))return-E(this).m();for(var L=0,y=1,w=0;w<this.g.length;w++){var R=this.i(w);L+=(0<=R?R:4294967296+R)*y,y*=4294967296}return L},i.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(b(this))return"0";if(_(this))return"-"+E(this).toString(L);for(var y=u(Math.pow(L,6)),w=this,R="";;){var U=q(w,y).g;w=k(w,U.j(y));var H=((0<w.g.length?w.g[0]:w.h)>>>0).toString(L);if(w=U,b(w))return H+R;for(;6>H.length;)H="0"+H;R=H+R}},i.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function b(L){if(L.h!=0)return!1;for(var y=0;y<L.g.length;y++)if(L.g[y]!=0)return!1;return!0}function _(L){return L.h==-1}i.l=function(L){return L=k(this,L),_(L)?-1:b(L)?0:1};function E(L){for(var y=L.g.length,w=[],R=0;R<y;R++)w[R]=~L.g[R];return new o(w,~L.h).add(f)}i.abs=function(){return _(this)?E(this):this},i.add=function(L){for(var y=Math.max(this.g.length,L.g.length),w=[],R=0,U=0;U<=y;U++){var H=R+(this.i(U)&65535)+(L.i(U)&65535),B=(H>>>16)+(this.i(U)>>>16)+(L.i(U)>>>16);R=B>>>16,H&=65535,B&=65535,w[U]=B<<16|H}return new o(w,w[w.length-1]&-2147483648?-1:0)};function k(L,y){return L.add(E(y))}i.j=function(L){if(b(this)||b(L))return h;if(_(this))return _(L)?E(this).j(E(L)):E(E(this).j(L));if(_(L))return E(this.j(E(L)));if(0>this.l(m)&&0>L.l(m))return u(this.m()*L.m());for(var y=this.g.length+L.g.length,w=[],R=0;R<2*y;R++)w[R]=0;for(R=0;R<this.g.length;R++)for(var U=0;U<L.g.length;U++){var H=this.i(R)>>>16,B=this.i(R)&65535,Oe=L.i(U)>>>16,De=L.i(U)&65535;w[2*R+2*U]+=B*De,j(w,2*R+2*U),w[2*R+2*U+1]+=H*De,j(w,2*R+2*U+1),w[2*R+2*U+1]+=B*Oe,j(w,2*R+2*U+1),w[2*R+2*U+2]+=H*Oe,j(w,2*R+2*U+2)}for(R=0;R<y;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=y;R<2*y;R++)w[R]=0;return new o(w,0)};function j(L,y){for(;(L[y]&65535)!=L[y];)L[y+1]+=L[y]>>>16,L[y]&=65535,y++}function M(L,y){this.g=L,this.h=y}function q(L,y){if(b(y))throw Error("division by zero");if(b(L))return new M(h,h);if(_(L))return y=q(E(L),y),new M(E(y.g),E(y.h));if(_(y))return y=q(L,E(y)),new M(E(y.g),y.h);if(30<L.g.length){if(_(L)||_(y))throw Error("slowDivide_ only works with positive integers.");for(var w=f,R=y;0>=R.l(L);)w=J(w),R=J(R);var U=Z(w,1),H=Z(R,1);for(R=Z(R,2),w=Z(w,2);!b(R);){var B=H.add(R);0>=B.l(L)&&(U=U.add(w),H=B),R=Z(R,1),w=Z(w,1)}return y=k(L,U.j(y)),new M(U,y)}for(U=h;0<=L.l(y);){for(w=Math.max(1,Math.floor(L.m()/y.m())),R=Math.ceil(Math.log(w)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),H=u(w),B=H.j(y);_(B)||0<B.l(L);)w-=R,H=u(w),B=H.j(y);b(H)&&(H=f),U=U.add(H),L=k(L,B)}return new M(U,L)}i.A=function(L){return q(this,L).h},i.and=function(L){for(var y=Math.max(this.g.length,L.g.length),w=[],R=0;R<y;R++)w[R]=this.i(R)&L.i(R);return new o(w,this.h&L.h)},i.or=function(L){for(var y=Math.max(this.g.length,L.g.length),w=[],R=0;R<y;R++)w[R]=this.i(R)|L.i(R);return new o(w,this.h|L.h)},i.xor=function(L){for(var y=Math.max(this.g.length,L.g.length),w=[],R=0;R<y;R++)w[R]=this.i(R)^L.i(R);return new o(w,this.h^L.h)};function J(L){for(var y=L.g.length+1,w=[],R=0;R<y;R++)w[R]=L.i(R)<<1|L.i(R-1)>>>31;return new o(w,L.h)}function Z(L,y){var w=y>>5;y%=32;for(var R=L.g.length-w,U=[],H=0;H<R;H++)U[H]=0<y?L.i(H+w)>>>y|L.i(H+w+1)<<32-y:L.i(H+w);return new o(U,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,f9=o}).apply(typeof zx<"u"?zx:typeof self<"u"?self:typeof window<"u"?window:{});var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ao<"u"?Ao:typeof self<"u"?self:{};(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,C,P){return p==Array.prototype||p==Object.prototype||(p[C]=P.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof wy=="object"&&wy];for(var C=0;C<p.length;++C){var P=p[C];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=t(this);function r(p,C){if(C)e:{var P=n;p=p.split(".");for(var Q=0;Q<p.length-1;Q++){var ce=p[Q];if(!(ce in P))break e;P=P[ce]}p=p[p.length-1],Q=P[p],C=C(Q),C!=Q&&C!=null&&e(P,p,{configurable:!0,writable:!0,value:C})}}function s(p,C){p instanceof String&&(p+="");var P=0,Q=!1,ce={next:function(){if(!Q&&P<p.length){var we=P++;return{value:C(we,p[we]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}r("Array.prototype.values",function(p){return p||function(){return s(this,function(C,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(p){var C=typeof p;return C=C!="object"?C:p?Array.isArray(p)?"array":C:"null",C=="array"||C=="object"&&typeof p.length=="number"}function u(p){var C=typeof p;return C=="object"&&p!=null||C=="function"}function c(p,C,P){return p.call.apply(p.bind,arguments)}function h(p,C,P){if(!p)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,Q),p.apply(C,ce)}}return function(){return p.apply(C,arguments)}}function f(p,C,P){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function m(p,C){var P=Array.prototype.slice.call(arguments,1);return function(){var Q=P.slice();return Q.push.apply(Q,arguments),p.apply(this,Q)}}function b(p,C){function P(){}P.prototype=C.prototype,p.aa=C.prototype,p.prototype=new P,p.prototype.constructor=p,p.Qb=function(Q,ce,we){for(var st=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)st[Vn-2]=arguments[Vn];return C.prototype[ce].apply(Q,st)}}function _(p){const C=p.length;if(0<C){const P=Array(C);for(let Q=0;Q<C;Q++)P[Q]=p[Q];return P}return[]}function E(p,C){for(let P=1;P<arguments.length;P++){const Q=arguments[P];if(l(Q)){const ce=p.length||0,we=Q.length||0;p.length=ce+we;for(let st=0;st<we;st++)p[ce+st]=Q[st]}else p.push(Q)}}class k{constructor(C,P){this.i=C,this.j=P,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function j(p){return/^[\s\xa0]*$/.test(p)}function M(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function q(p){return q[" "](p),p}q[" "]=function(){};var J=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function Z(p,C,P){for(const Q in p)C.call(P,p[Q],Q,p)}function L(p,C){for(const P in p)C.call(void 0,p[P],P,p)}function y(p){const C={};for(const P in p)C[P]=p[P];return C}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,C){let P,Q;for(let ce=1;ce<arguments.length;ce++){Q=arguments[ce];for(P in Q)p[P]=Q[P];for(let we=0;we<w.length;we++)P=w[we],Object.prototype.hasOwnProperty.call(Q,P)&&(p[P]=Q[P])}}function U(p){var C=1;p=p.split(":");const P=[];for(;0<C&&p.length;)P.push(p.shift()),C--;return p.length&&P.push(p.join(":")),P}function H(p){a.setTimeout(()=>{throw p},0)}function B(){var p=qe;let C=null;return p.g&&(C=p.g,p.g=p.g.next,p.g||(p.h=null),C.next=null),C}class Oe{constructor(){this.h=this.g=null}add(C,P){const Q=De.get();Q.set(C,P),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var De=new k(()=>new tt,p=>p.reset());class tt{constructor(){this.next=this.g=this.h=null}set(C,P){this.h=C,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,Me=!1,qe=new Oe,Ue=()=>{const p=a.Promise.resolve(void 0);Ne=()=>{p.then(We)}};var We=()=>{for(var p;p=B();){try{p.h.call(p.g)}catch(P){H(P)}var C=De;C.j(p),100>C.h&&(C.h++,p.next=C.g,C.g=p)}Me=!1};function Re(){this.s=this.s,this.C=this.C}Re.prototype.s=!1,Re.prototype.ma=function(){this.s||(this.s=!0,this.N())},Re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(p,C){this.type=p,this.g=this.target=C,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var Ct=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,C=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const P=()=>{};a.addEventListener("test",P,C),a.removeEventListener("test",P,C)}catch{}return p}();function It(p,C){if(Le.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var P=this.type=p.type,Q=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=C,C=p.relatedTarget){if(J){e:{try{q(C.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(C=null)}}else P=="mouseover"?C=p.fromElement:P=="mouseout"&&(C=p.toElement);this.relatedTarget=C,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Dt[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&It.aa.h.call(this)}}b(It,Le);var Dt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Ee(p,C,P,Q,ce){this.listener=p,this.proxy=null,this.src=C,this.type=P,this.capture=!!Q,this.ha=ce,this.key=++ve,this.da=this.fa=!1}function $e(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Fe(p){this.src=p,this.g={},this.h=0}Fe.prototype.add=function(p,C,P,Q,ce){var we=p.toString();p=this.g[we],p||(p=this.g[we]=[],this.h++);var st=at(p,C,Q,ce);return-1<st?(C=p[st],P||(C.fa=!1)):(C=new Ee(C,this.src,we,!!Q,ce),C.fa=P,p.push(C)),C};function Vt(p,C){var P=C.type;if(P in p.g){var Q=p.g[P],ce=Array.prototype.indexOf.call(Q,C,void 0),we;(we=0<=ce)&&Array.prototype.splice.call(Q,ce,1),we&&($e(C),p.g[P].length==0&&(delete p.g[P],p.h--))}}function at(p,C,P,Q){for(var ce=0;ce<p.length;++ce){var we=p[ce];if(!we.da&&we.listener==C&&we.capture==!!P&&we.ha==Q)return ce}return-1}var de="closure_lm_"+(1e6*Math.random()|0),Ke={};function $t(p,C,P,Q,ce){if(Array.isArray(C)){for(var we=0;we<C.length;we++)$t(p,C[we],P,Q,ce);return null}return P=Tt(P),p&&p[fe]?p.K(C,P,u(Q)?!!Q.capture:!1,ce):Jt(p,C,P,!1,Q,ce)}function Jt(p,C,P,Q,ce,we){if(!C)throw Error("Invalid event type");var st=u(ce)?!!ce.capture:!!ce,Vn=pt(p);if(Vn||(p[de]=Vn=new Fe(p)),P=Vn.add(C,P,Q,st,we),P.proxy)return P;if(Q=jt(),P.proxy=Q,Q.src=p,Q.listener=P,p.addEventListener)Ct||(ce=st),ce===void 0&&(ce=!1),p.addEventListener(C.toString(),Q,ce);else if(p.attachEvent)p.attachEvent(re(C.toString()),Q);else if(p.addListener&&p.removeListener)p.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function jt(){function p(P){return C.call(p.src,p.listener,P)}const C=ke;return p}function yn(p,C,P,Q,ce){if(Array.isArray(C))for(var we=0;we<C.length;we++)yn(p,C[we],P,Q,ce);else Q=u(Q)?!!Q.capture:!!Q,P=Tt(P),p&&p[fe]?(p=p.i,C=String(C).toString(),C in p.g&&(we=p.g[C],P=at(we,P,Q,ce),-1<P&&($e(we[P]),Array.prototype.splice.call(we,P,1),we.length==0&&(delete p.g[C],p.h--)))):p&&(p=pt(p))&&(C=p.g[C.toString()],p=-1,C&&(p=at(C,P,Q,ce)),(P=-1<p?C[p]:null)&&ne(P))}function ne(p){if(typeof p!="number"&&p&&!p.da){var C=p.src;if(C&&C[fe])Vt(C.i,p);else{var P=p.type,Q=p.proxy;C.removeEventListener?C.removeEventListener(P,Q,p.capture):C.detachEvent?C.detachEvent(re(P),Q):C.addListener&&C.removeListener&&C.removeListener(Q),(P=pt(C))?(Vt(P,p),P.h==0&&(P.src=null,C[de]=null)):$e(p)}}}function re(p){return p in Ke?Ke[p]:Ke[p]="on"+p}function ke(p,C){if(p.da)p=!0;else{C=new It(C,this);var P=p.listener,Q=p.ha||p.src;p.fa&&ne(p),p=P.call(Q,C)}return p}function pt(p){return p=p[de],p instanceof Fe?p:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(p){return typeof p=="function"?p:(p[Wt]||(p[Wt]=function(C){return p.handleEvent(C)}),p[Wt])}function le(){Re.call(this),this.i=new Fe(this),this.M=this,this.F=null}b(le,Re),le.prototype[fe]=!0,le.prototype.removeEventListener=function(p,C,P,Q){yn(this,p,C,P,Q)};function Se(p,C){var P,Q=p.F;if(Q)for(P=[];Q;Q=Q.F)P.push(Q);if(p=p.M,Q=C.type||C,typeof C=="string")C=new Le(C,p);else if(C instanceof Le)C.target=C.target||p;else{var ce=C;C=new Le(Q,p),R(C,ce)}if(ce=!0,P)for(var we=P.length-1;0<=we;we--){var st=C.g=P[we];ce=Yt(st,Q,!0,C)&&ce}if(st=C.g=p,ce=Yt(st,Q,!0,C)&&ce,ce=Yt(st,Q,!1,C)&&ce,P)for(we=0;we<P.length;we++)st=C.g=P[we],ce=Yt(st,Q,!1,C)&&ce}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var p=this.i,C;for(C in p.g){for(var P=p.g[C],Q=0;Q<P.length;Q++)$e(P[Q]);delete p.g[C],p.h--}}this.F=null},le.prototype.K=function(p,C,P,Q){return this.i.add(String(p),C,!1,P,Q)},le.prototype.L=function(p,C,P,Q){return this.i.add(String(p),C,!0,P,Q)};function Yt(p,C,P,Q){if(C=p.i.g[String(C)],!C)return!0;C=C.concat();for(var ce=!0,we=0;we<C.length;++we){var st=C[we];if(st&&!st.da&&st.capture==P){var Vn=st.listener,Kn=st.ha||st.src;st.fa&&Vt(p.i,st),ce=Vn.call(Kn,Q)!==!1&&ce}}return ce&&!Q.defaultPrevented}function Cn(p,C,P){if(typeof p=="function")P&&(p=f(p,P));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:a.setTimeout(p,C||0)}function xi(p){p.g=Cn(()=>{p.g=null,p.i&&(p.i=!1,xi(p))},p.l);const C=p.h;p.h=null,p.m.apply(null,C)}class Gn extends Re{constructor(C,P){super(),this.m=C,this.l=P,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:xi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(p){Re.call(this),this.h=p,this.g={}}b(Bn,Re);var Ir=[];function os(p){Z(p.g,function(C,P){this.g.hasOwnProperty(P)&&ne(C)},p),p.g={}}Bn.prototype.N=function(){Bn.aa.N.call(this),os(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=a.JSON.stringify,Wa=a.JSON.parse,Li=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function as(){}as.prototype.h=null;function rt(p){return p.h||(p.h=p.i())}function Ye(){}var it={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mt(){Le.call(this,"d")}b(mt,Le);function qt(){Le.call(this,"c")}b(qt,Le);var Qt={},xn=null;function bn(){return xn=xn||new le}Qt.La="serverreachability";function Hi(p){Le.call(this,Qt.La,p)}b(Hi,Le);function Wr(p){const C=bn();Se(C,new Hi(C))}Qt.STAT_EVENT="statevent";function Gr(p,C){Le.call(this,Qt.STAT_EVENT,p),this.stat=C}b(Gr,Le);function un(p){const C=bn();Se(C,new Gr(C,p))}Qt.Ma="timingevent";function Oi(p,C){Le.call(this,Qt.Ma,p),this.size=C}b(Oi,Le);function zi(p,C){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},C)}function ls(){this.g=!0}ls.prototype.xa=function(){this.g=!1};function $l(p,C,P,Q,ce,we){p.info(function(){if(p.g)if(we)for(var st="",Vn=we.split("&"),Kn=0;Kn<Vn.length;Kn++){var wn=Vn[Kn].split("=");if(1<wn.length){var gr=wn[0];wn=wn[1];var rr=gr.split("_");st=2<=rr.length&&rr[1]=="type"?st+(gr+"="+wn+"&"):st+(gr+"=redacted&")}}else st=null;else st=we;return"XMLHTTP REQ ("+Q+") [attempt "+ce+"]: "+C+`
`+P+`
`+st})}function fo(p,C,P,Q,ce,we,st){p.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+ce+"]: "+C+`
`+P+`
`+we+" "+st})}function us(p,C,P,Q){p.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ga(p,P)+(Q?" "+Q:"")})}function Nu(p,C){p.info(function(){return"TIMEOUT: "+C})}ls.prototype.info=function(){};function Ga(p,C){if(!p.g)return C;if(!C)return null;try{var P=JSON.parse(C);if(P){for(p=0;p<P.length;p++)if(Array.isArray(P[p])){var Q=P[p];if(!(2>Q.length)){var ce=Q[1];if(Array.isArray(ce)&&!(1>ce.length)){var we=ce[0];if(we!="noop"&&we!="stop"&&we!="close")for(var st=1;st<ce.length;st++)ce[st]=""}}}}return Fs(P)}catch{return C}}var Bo={NO_ERROR:0,TIMEOUT:8},Bl={},Lr;function $s(){}b($s,as),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},Lr=new $s;function Ss(p,C,P,Q){this.j=p,this.i=C,this.l=P,this.R=Q||1,this.U=new Bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ka}function Ka(){this.i=null,this.g="",this.h=!1}var po={},go={};function qo(p,C,P){p.L=1,p.v=ya(Kr(C)),p.m=P,p.P=!0,ql(p,null)}function ql(p,C){p.F=Date.now(),ga(p),p.A=Kr(p.v);var P=p.A,Q=p.R;Array.isArray(Q)||(Q=[String(Q)]),Xa(P.i,"t",Q),p.C=0,P=p.j.J,p.h=new Ka,p.g=md(p.j,P?C:null,!p.m),0<p.O&&(p.M=new Gn(f(p.Y,p,p.g),p.O)),C=p.U,P=p.g,Q=p.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(Ir[0]=ce.toString()),ce=Ir);for(var we=0;we<ce.length;we++){var st=$t(P,ce[we],Q||C.handleEvent,!1,C.h||C);if(!st)break;C.g[st.key]=st}C=p.H?y(p.H):{},p.m?(p.u||(p.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,C)):(p.u="GET",p.g.ea(p.A,p.u,null,C)),Wr(),$l(p.i,p.u,p.A,p.l,p.R,p.m)}Ss.prototype.ca=function(p){p=p.target;const C=this.M;C&&Te(p)==3?C.j():this.Y(p)},Ss.prototype.Y=function(p){try{if(p==this.g)e:{const rr=Te(this.g);var C=this.g.Ba();const Wo=this.g.Z();if(!(3>rr)&&(rr!=3||this.g&&(this.h.h||this.g.oa()||et(this.g)))){this.J||rr!=4||C==7||(C==8||0>=Wo?Wr(3):Wr(2)),Fi(this);var P=this.g.Z();this.X=P;t:if(Uo(this)){var Q=et(this.g);p="";var ce=Q.length,we=Te(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),vo(this);var st="";break t}this.h.i=new a.TextDecoder}for(C=0;C<ce;C++)this.h.h=!0,p+=this.h.i.decode(Q[C],{stream:!(we&&C==ce-1)});Q.length=0,this.h.g+=p,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=P==200,fo(this.i,this.u,this.A,this.l,this.R,rr,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Vn,Kn=this.g;if((Vn=Kn.g?Kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Vn)){var wn=Vn;break t}}wn=null}if(P=wn)us(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ts(this,P);else{this.o=!1,this.s=3,un(12),Er(this),vo(this);break e}}if(this.P){P=!0;let mr;for(;!this.J&&this.C<st.length;)if(mr=Mu(this,st),mr==go){rr==4&&(this.s=4,un(14),P=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==po){this.s=4,un(15),us(this.i,this.l,st,"[Invalid Chunk]"),P=!1;break}else us(this.i,this.l,mr,null),Ts(this,mr);if(Uo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rr!=4||st.length!=0||this.h.h||(this.s=1,un(16),P=!1),this.o=this.o&&P,!P)us(this.i,this.l,st,"[Invalid Chunked Response]"),Er(this),vo(this);else if(0<st.length&&!this.W){this.W=!0;var gr=this.j;gr.g==this&&gr.ba&&!gr.M&&(gr.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),ei(gr),gr.M=!0,un(11))}}else us(this.i,this.l,st,null),Ts(this,st);rr==4&&Er(this),this.o&&!this.J&&(rr==4?el(this.j,this):(this.o=!1,ga(this)))}else Nt(this.g),P==400&&0<st.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),Er(this),vo(this)}}}catch{}finally{}};function Uo(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Mu(p,C){var P=p.C,Q=C.indexOf(`
`,P);return Q==-1?go:(P=Number(C.substring(P,Q)),isNaN(P)?po:(Q+=1,Q+P>C.length?go:(C=C.slice(Q,Q+P),p.C=Q+P,C)))}Ss.prototype.cancel=function(){this.J=!0,Er(this)};function ga(p){p.S=Date.now()+p.I,mo(p,p.I)}function mo(p,C){if(p.B!=null)throw Error("WatchDog timer not null");p.B=zi(f(p.ba,p),C)}function Fi(p){p.B&&(a.clearTimeout(p.B),p.B=null)}Ss.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Nu(this.i,this.A),this.L!=2&&(Wr(),un(17)),Er(this),this.s=2,vo(this)):mo(this,this.S-p)};function vo(p){p.j.G==0||p.J||el(p.j,p)}function Er(p){Fi(p);var C=p.M;C&&typeof C.ma=="function"&&C.ma(),p.M=null,os(p.U),p.g&&(C=p.g,p.g=null,C.abort(),C.ma())}function Ts(p,C){try{var P=p.j;if(P.G!=0&&(P.g==p||Di(P.h,p))){if(!p.K&&Di(P.h,p)&&P.G==3){try{var Q=P.Da.g.parse(C)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var ce=Q;if(ce[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<p.F)nr(P),Xn(P);else break e;hi(P),un(18)}}else P.za=ce[1],0<P.za-P.T&&37500>ce[2]&&P.F&&P.v==0&&!P.C&&(P.C=zi(f(P.Za,P),6e3));if(1>=ma(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else pr(P,11)}else if((p.K||P.g==p)&&nr(P),!j(C))for(ce=P.Da.g.parse(C),C=0;C<ce.length;C++){let wn=ce[C];if(P.T=wn[0],wn=wn[1],P.G==2)if(wn[0]=="c"){P.K=wn[1],P.ia=wn[2];const gr=wn[3];gr!=null&&(P.la=gr,P.j.info("VER="+P.la));const rr=wn[4];rr!=null&&(P.Aa=rr,P.j.info("SVER="+P.Aa));const Wo=wn[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(Q=1.5*Wo,P.L=Q,P.j.info("backChannelRequestTimeoutMs_="+Q)),Q=P;const mr=p.g;if(mr){const Ql=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ql){var we=Q.h;we.g||Ql.indexOf("spdy")==-1&&Ql.indexOf("quic")==-1&&Ql.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(Ja(we,we.h),we.h=null))}if(Q.D){const Wl=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wl&&(Q.ya=Wl,zn(Q.I,Q.D,Wl))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-p.F,P.j.info("Handshake RTT: "+P.R+"ms")),Q=P;var st=p;if(Q.qa=ft(Q,Q.J?Q.ia:null,Q.W),st.K){yo(Q.h,st);var Vn=st,Kn=Q.L;Kn&&(Vn.I=Kn),Vn.B&&(Fi(Vn),ga(Vn)),Q.g=st}else ct(Q);0<P.i.length&&lt(P)}else wn[0]!="stop"&&wn[0]!="close"||pr(P,7);else P.G==3&&(wn[0]=="stop"||wn[0]=="close"?wn[0]=="stop"?pr(P,7):mn(P):wn[0]!="noop"&&P.l&&P.l.ta(wn),P.v=0)}}Wr(4)}catch{}}var Ho=class{constructor(p,C){this.g=p,this.map=C}};function Ul(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ji(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ma(p){return p.h?1:p.g?p.g.size:0}function Di(p,C){return p.h?p.h==C:p.g?p.g.has(C):!1}function Ja(p,C){p.g?p.g.add(C):p.h=C}function yo(p,C){p.h&&p.h==C?p.h=null:p.g&&p.g.has(C)&&p.g.delete(C)}Ul.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function bo(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let C=p.i;for(const P of p.g.values())C=C.concat(P.D);return C}return _(p.i)}function Bs(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var C=[],P=p.length,Q=0;Q<P;Q++)C.push(p[Q]);return C}C=[],P=0;for(Q in p)C[P++]=p[Q];return C}function Ya(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var C=[];p=p.length;for(var P=0;P<p;P++)C.push(P);return C}C=[],P=0;for(const Q in p)C[P++]=Q;return C}}}function Za(p,C){if(p.forEach&&typeof p.forEach=="function")p.forEach(C,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,C,void 0);else for(var P=Ya(p),Q=Bs(p),ce=Q.length,we=0;we<ce;we++)C.call(void 0,Q[we],P&&P[we],p)}var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zo(p,C){if(p){p=p.split("&");for(var P=0;P<p.length;P++){var Q=p[P].indexOf("="),ce=null;if(0<=Q){var we=p[P].substring(0,Q);ce=p[P].substring(Q+1)}else we=p[P];C(we,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function cs(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof cs){this.h=p.h,Co(this,p.j),this.o=p.o,this.g=p.g,qs(this,p.s),this.l=p.l;var C=p.i,P=new Ps;P.i=C.i,C.g&&(P.g=new Map(C.g),P.h=C.h),jo(this,P),this.m=p.m}else p&&(C=String(p).match(va))?(this.h=!1,Co(this,C[1]||"",!0),this.o=Us(C[2]||""),this.g=Us(C[3]||"",!0),qs(this,C[4]),this.l=Us(C[5]||"",!0),jo(this,C[6]||"",!0),this.m=Us(C[7]||"")):(this.h=!1,this.i=new Ps(null,this.h))}cs.prototype.toString=function(){var p=[],C=this.j;C&&p.push(xs(C,zl,!0),":");var P=this.g;return(P||C=="file")&&(p.push("//"),(C=this.o)&&p.push(xs(C,zl,!0),"@"),p.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&p.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&p.push("/"),p.push(xs(P,P.charAt(0)=="/"?Fu:jl,!0))),(P=this.i.toString())&&p.push("?",P),(P=this.m)&&p.push("#",xs(P,ba)),p.join("")};function Kr(p){return new cs(p)}function Co(p,C,P){p.j=P?Us(C,!0):C,p.j&&(p.j=p.j.replace(/:$/,""))}function qs(p,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);p.s=C}else p.s=null}function jo(p,C,P){C instanceof Ps?(p.i=C,pd(p.i,p.h)):(P||(C=xs(C,$u)),p.i=new Ps(C,p.h))}function zn(p,C,P){p.i.set(C,P)}function ya(p){return zn(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Us(p,C){return p?C?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function xs(p,C,P){return typeof p=="string"?(p=encodeURI(p).replace(C,Hl),P&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Hl(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var zl=/[#\/\?@]/g,jl=/[#\?:]/g,Fu=/[#\?]/g,$u=/[#\?@]/g,ba=/#/g;function Ps(p,C){this.h=this.g=null,this.i=p||null,this.j=!!C}function Or(p){p.g||(p.g=new Map,p.h=0,p.i&&zo(p.i,function(C,P){p.add(decodeURIComponent(C.replace(/\+/g," ")),P)}))}i=Ps.prototype,i.add=function(p,C){Or(this),this.i=null,p=Qo(this,p);var P=this.g.get(p);return P||this.g.set(p,P=[]),P.push(C),this.h+=1,this};function wo(p,C){Or(p),C=Qo(p,C),p.g.has(C)&&(p.i=null,p.h-=p.g.get(C).length,p.g.delete(C))}function Rs(p,C){return Or(p),C=Qo(p,C),p.g.has(C)}i.forEach=function(p,C){Or(this),this.g.forEach(function(P,Q){P.forEach(function(ce){p.call(C,ce,Q,this)},this)},this)},i.na=function(){Or(this);const p=Array.from(this.g.values()),C=Array.from(this.g.keys()),P=[];for(let Q=0;Q<C.length;Q++){const ce=p[Q];for(let we=0;we<ce.length;we++)P.push(C[Q])}return P},i.V=function(p){Or(this);let C=[];if(typeof p=="string")Rs(this,p)&&(C=C.concat(this.g.get(Qo(this,p))));else{p=Array.from(this.g.values());for(let P=0;P<p.length;P++)C=C.concat(p[P])}return C},i.set=function(p,C){return Or(this),this.i=null,p=Qo(this,p),Rs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[C]),this.h+=1,this},i.get=function(p,C){return p?(p=this.V(p),0<p.length?String(p[0]):C):C};function Xa(p,C,P){wo(p,C),0<P.length&&(p.i=null,p.g.set(Qo(p,C),_(P)),p.h+=P.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],C=Array.from(this.g.keys());for(var P=0;P<C.length;P++){var Q=C[P];const we=encodeURIComponent(String(Q)),st=this.V(Q);for(Q=0;Q<st.length;Q++){var ce=we;st[Q]!==""&&(ce+="="+encodeURIComponent(String(st[Q]))),p.push(ce)}}return this.i=p.join("&")};function Qo(p,C){return C=String(C),p.j&&(C=C.toLowerCase()),C}function pd(p,C){C&&!p.j&&(Or(p),p.i=null,p.g.forEach(function(P,Q){var ce=Q.toLowerCase();Q!=ce&&(wo(this,Q),Xa(this,ce,P))},p)),p.j=C}function Bu(p,C){const P=new ls;if(a.Image){const Q=new Image;Q.onload=m(Hs,P,"TestLoadImage: loaded",!0,C,Q),Q.onerror=m(Hs,P,"TestLoadImage: error",!1,C,Q),Q.onabort=m(Hs,P,"TestLoadImage: abort",!1,C,Q),Q.ontimeout=m(Hs,P,"TestLoadImage: timeout",!1,C,Q),a.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=p}else C(!1)}function qu(p,C){const P=new ls,Q=new AbortController,ce=setTimeout(()=>{Q.abort(),Hs(P,"TestPingServer: timeout",!1,C)},1e4);fetch(p,{signal:Q.signal}).then(we=>{clearTimeout(ce),we.ok?Hs(P,"TestPingServer: ok",!0,C):Hs(P,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ce),Hs(P,"TestPingServer: error",!1,C)})}function Hs(p,C,P,Q,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),Q(P)}catch{}}function zs(){this.g=new Li}function ds(p,C,P){const Q=P||"";try{Za(p,function(ce,we){let st=ce;u(ce)&&(st=Fs(ce)),C.push(Q+we+"="+encodeURIComponent(st))})}catch(ce){throw C.push(Q+"type="+encodeURIComponent("_badmap")),ce}}function js(p){this.l=p.Ub||null,this.j=p.eb||!1}b(js,as),js.prototype.g=function(){return new ks(this.l,this.j)},js.prototype.i=function(p){return function(){return p}}({});function ks(p,C){le.call(this),this.D=p,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ks,le),i=ks.prototype,i.open=function(p,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=C,this.readyState=1,Qs(this)},i.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(C.body=p),(this.D||a).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},i.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ca(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ca(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}i.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var C=p.value?p.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!p.done}))&&(this.response=this.responseText+=C)}p.done?kn(this):Qs(this),this.readyState==3&&Ca(this)}},i.Ra=function(p){this.g&&(this.response=this.responseText=p,kn(this))},i.Qa=function(p){this.g&&(this.response=p,kn(this))},i.ga=function(){this.g&&kn(this)};function kn(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Qs(p)}i.setRequestHeader=function(p,C){this.u.append(p,C)},i.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],C=this.h.entries();for(var P=C.next();!P.done;)P=P.value,p.push(P[0]+": "+P[1]),P=C.next();return p.join(`\r
`)};function Qs(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ws(p){let C="";return Z(p,function(P,Q){C+=Q,C+=":",C+=P,C+=`\r
`}),C}function _o(p,C,P){e:{for(Q in P){var Q=!1;break e}Q=!0}Q||(P=Ws(P),typeof p=="string"?P!=null&&encodeURIComponent(String(P)):zn(p,C,P))}function bi(p){le.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(bi,le);var Uu=/^https?$/i,gd=["POST","PUT"];i=bi.prototype,i.Ha=function(p){this.J=p},i.ea=function(p,C,P,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);C=C?C.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lr.g(),this.v=this.o?rt(this.o):rt(Lr),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(C,String(p),!0),this.B=!1}catch(we){O(this,we);return}if(p=P||"",P=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var ce in Q)P.set(ce,Q[ce]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const we of Q.keys())P.set(we,Q.get(we));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(P.keys()).find(we=>we.toLowerCase()=="content-type"),ce=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gd,C,void 0))||Q||ce||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,st]of P)this.g.setRequestHeader(we,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ae(this),this.u=!0,this.g.send(p),this.u=!1}catch(we){O(this,we)}};function O(p,C){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=C,p.m=5,V(p),ie(p)}function V(p){p.A||(p.A=!0,Se(p,"complete"),Se(p,"error"))}i.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Se(this,"complete"),Se(this,"abort"),ie(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ie(this,!0)),bi.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ee(this):this.bb())},i.bb=function(){ee(this)};function ee(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Te(p)!=4||p.Z()!=2)){if(p.u&&Te(p)==4)Cn(p.Ea,0,p);else if(Se(p,"readystatechange"),Te(p)==4){p.h=!1;try{const st=p.Z();e:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var P;if(!(P=C)){var Q;if(Q=st===0){var ce=String(p.D).match(va)[1]||null;!ce&&a.self&&a.self.location&&(ce=a.self.location.protocol.slice(0,-1)),Q=!Uu.test(ce?ce.toLowerCase():"")}P=Q}if(P)Se(p,"complete"),Se(p,"success");else{p.m=6;try{var we=2<Te(p)?p.g.statusText:""}catch{we=""}p.l=we+" ["+p.Z()+"]",V(p)}}finally{ie(p)}}}}function ie(p,C){if(p.g){ae(p);const P=p.g,Q=p.v[0]?()=>{}:null;p.g=null,p.v=null,C||Se(p,"ready");try{P.onreadystatechange=Q}catch{}}}function ae(p){p.I&&(a.clearTimeout(p.I),p.I=null)}i.isActive=function(){return!!this.g};function Te(p){return p.g?p.g.readyState:0}i.Z=function(){try{return 2<Te(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(p){if(this.g){var C=this.g.responseText;return p&&C.indexOf(p)==0&&(C=C.substring(p.length)),Wa(C)}};function et(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Nt(p){const C={};p=(p.g&&2<=Te(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<p.length;Q++){if(j(p[Q]))continue;var P=U(p[Q]);const ce=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const we=C[ce]||[];C[ce]=we,we.push(P)}L(C,function(Q){return Q.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Et(p,C,P){return P&&P.internalChannelParams&&P.internalChannelParams[p]||C}function Zt(p){this.Aa=0,this.i=[],this.j=new ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Et("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Et("baseRetryDelayMs",5e3,p),this.cb=Et("retryDelaySeedMs",1e4,p),this.Wa=Et("forwardChannelMaxRetries",2,p),this.wa=Et("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ul(p&&p.concurrentRequestLimit),this.Da=new zs,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Zt.prototype,i.la=8,i.G=1,i.connect=function(p,C,P,Q){un(0),this.W=p,this.H=C||{},P&&Q!==void 0&&(this.H.OSID=P,this.H.OAID=Q),this.F=this.X,this.I=ft(this,null,this.W),lt(this)};function mn(p){if(T(p),p.G==3){var C=p.U++,P=Kr(p.I);if(zn(P,"SID",p.K),zn(P,"RID",C),zn(P,"TYPE","terminate"),An(p,P),C=new Ss(p,p.j,C),C.L=2,C.v=ya(Kr(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(C.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=C.v,P=!0),P||(C.g=md(C.j,null),C.g.ea(C.v)),C.F=Date.now(),ga(C)}tl(p)}function Xn(p){p.g&&(ei(p),p.g.cancel(),p.g=null)}function T(p){Xn(p),p.u&&(a.clearTimeout(p.u),p.u=null),nr(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function lt(p){if(!ji(p.h)&&!p.s){p.s=!0;var C=p.Ga;Ne||Ue(),Me||(Ne(),Me=!0),qe.add(C,p),p.B=0}}function di(p,C){return ma(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=C.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=zi(f(p.Ga,p,C),As(p,p.B)),p.B++,!0)}i.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const ce=new Ss(this,this.j,p);let we=this.o;if(this.S&&(we?(we=y(we),R(we,this.S)):we=this.S),this.m!==null||this.O||(ce.H=we,we=null),this.P)e:{for(var C=0,P=0;P<this.i.length;P++){t:{var Q=this.i[P];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(C+=Q,4096<C){C=P;break e}if(C===4096||P===this.i.length-1){C=P+1;break e}}C=1e3}else C=1e3;C=nt(this,ce,C),P=Kr(this.I),zn(P,"RID",p),zn(P,"CVER",22),this.D&&zn(P,"X-HTTP-Session-Id",this.D),An(this,P),we&&(this.O?C="headers="+encodeURIComponent(String(Ws(we)))+"&"+C:this.m&&_o(P,this.m,we)),Ja(this.h,ce),this.Ua&&zn(P,"TYPE","init"),this.P?(zn(P,"$req",C),zn(P,"SID","null"),ce.T=!0,qo(ce,P,null)):qo(ce,P,C),this.G=2}}else this.G==3&&(p?ai(this,p):this.i.length==0||ji(this.h)||ai(this))};function ai(p,C){var P;C?P=C.l:P=p.U++;const Q=Kr(p.I);zn(Q,"SID",p.K),zn(Q,"RID",P),zn(Q,"AID",p.T),An(p,Q),p.m&&p.o&&_o(Q,p.m,p.o),P=new Ss(p,p.j,P,p.B+1),p.m===null&&(P.H=p.o),C&&(p.i=C.D.concat(p.i)),C=nt(p,P,1e3),P.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ja(p.h,P),qo(P,Q,C)}function An(p,C){p.H&&Z(p.H,function(P,Q){zn(C,Q,P)}),p.l&&Za({},function(P,Q){zn(C,Q,P)})}function nt(p,C,P){P=Math.min(p.i.length,P);var Q=p.l?f(p.l.Na,p.l,p):null;e:{var ce=p.i;let we=-1;for(;;){const st=["count="+P];we==-1?0<P?(we=ce[0].g,st.push("ofs="+we)):we=0:st.push("ofs="+we);let Vn=!0;for(let Kn=0;Kn<P;Kn++){let wn=ce[Kn].g;const gr=ce[Kn].map;if(wn-=we,0>wn)we=Math.max(0,ce[Kn].g-100),Vn=!1;else try{ds(gr,st,"req"+wn+"_")}catch{Q&&Q(gr)}}if(Vn){Q=st.join("&");break e}}}return p=p.i.splice(0,P),C.D=p,Q}function ct(p){if(!p.g&&!p.u){p.Y=1;var C=p.Fa;Ne||Ue(),Me||(Ne(),Me=!0),qe.add(C,p),p.v=0}}function hi(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=zi(f(p.Fa,p),As(p,p.v)),p.v++,!0)}i.Fa=function(){if(this.u=null,Ot(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=zi(f(this.ab,this),p)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),Xn(this),Ot(this))};function ei(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function Ot(p){p.g=new Ss(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var C=Kr(p.qa);zn(C,"RID","rpc"),zn(C,"SID",p.K),zn(C,"AID",p.T),zn(C,"CI",p.F?"0":"1"),!p.F&&p.ja&&zn(C,"TO",p.ja),zn(C,"TYPE","xmlhttp"),An(p,C),p.m&&p.o&&_o(C,p.m,p.o),p.L&&(p.g.I=p.L);var P=p.g;p=p.ia,P.L=1,P.v=ya(Kr(C)),P.m=null,P.P=!0,ql(P,p)}i.Za=function(){this.C!=null&&(this.C=null,Xn(this),hi(this),un(19))};function nr(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function el(p,C){var P=null;if(p.g==C){nr(p),ei(p),p.g=null;var Q=2}else if(Di(p.h,C))P=C.D,yo(p.h,C),Q=1;else return;if(p.G!=0){if(C.o)if(Q==1){P=C.m?C.m.length:0,C=Date.now()-C.F;var ce=p.B;Q=bn(),Se(Q,new Oi(Q,P)),lt(p)}else ct(p);else if(ce=C.s,ce==3||ce==0&&0<C.X||!(Q==1&&di(p,C)||Q==2&&hi(p)))switch(P&&0<P.length&&(C=p.h,C.i=C.i.concat(P)),ce){case 1:pr(p,5);break;case 4:pr(p,10);break;case 3:pr(p,6);break;default:pr(p,2)}}}function As(p,C){let P=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(P*=2),P*C}function pr(p,C){if(p.j.info("Error code "+C),C==2){var P=f(p.fb,p),Q=p.Xa;const ce=!Q;Q=new cs(Q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Co(Q,"https"),ya(Q),ce?Bu(Q.toString(),P):qu(Q.toString(),P)}else un(2);p.G=0,p.l&&p.l.sa(C),tl(p),T(p)}i.fb=function(p){p?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function tl(p){if(p.G=0,p.ka=[],p.l){const C=bo(p.h);(C.length!=0||p.i.length!=0)&&(E(p.ka,C),E(p.ka,p.i),p.h.i.length=0,_(p.i),p.i.length=0),p.l.ra()}}function ft(p,C,P){var Q=P instanceof cs?Kr(P):new cs(P);if(Q.g!="")C&&(Q.g=C+"."+Q.g),qs(Q,Q.s);else{var ce=a.location;Q=ce.protocol,C=C?C+"."+ce.hostname:ce.hostname,ce=+ce.port;var we=new cs(null);Q&&Co(we,Q),C&&(we.g=C),ce&&qs(we,ce),P&&(we.l=P),Q=we}return P=p.D,C=p.ya,P&&C&&zn(Q,P,C),zn(Q,"VER",p.la),An(p,Q),Q}function md(p,C,P){if(C&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=p.Ca&&!p.pa?new bi(new js({eb:P})):new bi(p.pa),C.Ha(p.J),C}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function hs(){}i=hs.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ir(p,C){le.call(this),this.g=new Zt(C),this.l=p,this.h=C&&C.messageUrlParams||null,p=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(p?p["X-WebChannel-Content-Type"]=C.messageContentType:p={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(p?p["X-WebChannel-Client-Profile"]=C.va:p={"X-WebChannel-Client-Profile":C.va}),this.g.S=p,(p=C&&C.Sb)&&!j(p)&&(this.g.m=p),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!j(C)&&(this.g.D=C,p=this.h,p!==null&&C in p&&(p=this.h,C in p&&delete p[C])),this.j=new Io(this)}b(ir,le),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){mn(this.g)},ir.prototype.o=function(p){var C=this.g;if(typeof p=="string"){var P={};P.__data__=p,p=P}else this.u&&(P={},P.__data__=Fs(p),p=P);C.i.push(new Ho(C.Ya++,p)),C.G==3&&lt(C)},ir.prototype.N=function(){this.g.l=null,delete this.j,mn(this.g),delete this.g,ir.aa.N.call(this)};function Hu(p){mt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var C=p.__sm__;if(C){e:{for(const P in C){p=P;break e}p=void 0}(this.i=p)&&(p=this.i,C=C!==null&&p in C?C[p]:void 0),this.data=C}else this.data=p}b(Hu,mt);function fi(){qt.call(this),this.status=1}b(fi,qt);function Io(p){this.g=p}b(Io,hs),Io.prototype.ua=function(){Se(this.g,"a")},Io.prototype.ta=function(p){Se(this.g,new Hu(p))},Io.prototype.sa=function(p){Se(this.g,new fi)},Io.prototype.ra=function(){Se(this.g,"b")},ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,Bo.NO_ERROR=0,Bo.TIMEOUT=8,Bo.HTTP_ERROR=6,Bl.COMPLETE="complete",Ye.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",le.prototype.listen=le.prototype.K,bi.prototype.listenOnce=bi.prototype.L,bi.prototype.getLastError=bi.prototype.Ka,bi.prototype.getLastErrorCode=bi.prototype.Ba,bi.prototype.getStatus=bi.prototype.Z,bi.prototype.getResponseJson=bi.prototype.Oa,bi.prototype.getResponseText=bi.prototype.oa,bi.prototype.send=bi.prototype.ea,bi.prototype.setWithCredentials=bi.prototype.Ha}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});const jx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}So.UNAUTHENTICATED=new So(null),So.GOOGLE_CREDENTIALS=new So("google-credentials-uid"),So.FIRST_PARTY=new So("first-party-uid"),So.MOCK_USER=new So("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gb="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new xE("@firebase/firestore");function La(i,...e){if(z1.logLevel<=ui.DEBUG){const t=e.map(g9);z1.debug(`Firestore (${gb}): ${i}`,...t)}}function p9(i,...e){if(z1.logLevel<=ui.ERROR){const t=e.map(g9);z1.error(`Firestore (${gb}): ${i}`,...t)}}function g9(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(i="Unexpected state"){const e=`FIRESTORE (${gb}) INTERNAL ASSERTION FAILED: `+i;throw p9(e),new Error(e)}function Mg(i,e){i||m9()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ka extends np{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(So.UNAUTHENTICATED))}shutdown(){}}class oQ{constructor(e){this.t=e,this.currentUser=So.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mg(this.o===void 0);let n=this.i;const r=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let s=new Fg;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fg,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{La("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(La("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fg)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(La("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Mg(typeof n.accessToken=="string"),new rQ(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mg(e===null||typeof e=="string"),new So(e)}}class aQ{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=So.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lQ{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new aQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(So.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Mg(this.o===void 0);const n=s=>{s.error!=null&&La("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,La("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const r=s=>{La("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):La("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mg(typeof t.token=="string"),this.R=t.token,new uQ(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dQ(i){return i.name==="IndexedDbTransactionError"}class j1{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new j1("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof j1&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qx,Ln;(Ln=Qx||(Qx={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new f9([4294967295,4294967295],0);function yw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e,t,n=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&La("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Fg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const o=Date.now()+n,a=new kE(e,t,o,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ka(Ra.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Wx,Gx;(Gx=Wx||(Wx={})).ea="default",Gx.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Map;function pQ(i,e,t,n){if(e===!0&&n===!0)throw new ka(Ra.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ka(Ra.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ka(Ra.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fQ((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ka(Ra.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ka(Ra.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ka(Ra.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gQ{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ka(Ra.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ka(Ra.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jx(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new sQ;switch(n.type){case"firstParty":return new lQ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ka(Ra.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Kx.get(t);n&&(La("ComponentProvider","Removing Datastore"),Kx.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hQ(this,"async_queue_retry"),this.Vu=()=>{const n=yw();n&&La("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=yw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=yw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Fg;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!dQ(e))throw e;La("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw p9("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=kE.createAndSchedule(this,e,t,n,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&m9()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class mQ extends gQ{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Yx,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yx(e),this._firestoreClient=void 0,await e}}}(function(e,t=!0){(function(r){gb=r})(pb),wf(new Cf("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),a=new mQ(new oQ(n.getProvider("auth-internal")),new cQ(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ka(Ra.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new j1(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wd(jx,"4.7.3",e),Wd(jx,"4.7.3","esm2017")})();function vQ(i){for(var e=-1,t=i==null?0:i.length,n={};++e<t;){var r=i[e];n[r[0]]=r[1]}return n}var yQ=vQ;const v9=Mo(yQ);function bQ(i){return function(){return i}}var y9=bQ;function CQ(i){return function(e,t,n){for(var r=-1,s=Object(e),o=n(e),a=o.length;a--;){var l=o[i?a:++r];if(t(s[l],l,s)===!1)break}return e}}var wQ=CQ,_Q=wQ,IQ=_Q(),b9=IQ;function EQ(i,e){for(var t=-1,n=Array(i);++t<i;)n[t]=e(t);return n}var SQ=EQ,TQ=typeof Zi=="object"&&Zi&&Zi.Object===Object&&Zi,C9=TQ,xQ=C9,PQ=typeof self=="object"&&self&&self.Object===Object&&self,RQ=xQ||PQ||Function("return this")(),Nl=RQ,kQ=Nl,AQ=kQ.Symbol,vv=AQ,Zx=vv,w9=Object.prototype,VQ=w9.hasOwnProperty,LQ=w9.toString,Kp=Zx?Zx.toStringTag:void 0;function OQ(i){var e=VQ.call(i,Kp),t=i[Kp];try{i[Kp]=void 0;var n=!0}catch{}var r=LQ.call(i);return n&&(e?i[Kp]=t:delete i[Kp]),r}var DQ=OQ,NQ=Object.prototype,MQ=NQ.toString;function FQ(i){return MQ.call(i)}var $Q=FQ,Xx=vv,BQ=DQ,qQ=$Q,UQ="[object Null]",HQ="[object Undefined]",eP=Xx?Xx.toStringTag:void 0;function zQ(i){return i==null?i===void 0?HQ:UQ:eP&&eP in Object(i)?BQ(i):qQ(i)}var ip=zQ;function jQ(i){return i!=null&&typeof i=="object"}var yh=jQ,QQ=ip,WQ=yh,GQ="[object Arguments]";function KQ(i){return WQ(i)&&QQ(i)==GQ}var JQ=KQ,tP=JQ,YQ=yh,_9=Object.prototype,ZQ=_9.hasOwnProperty,XQ=_9.propertyIsEnumerable,eW=tP(function(){return arguments}())?tP:function(i){return YQ(i)&&ZQ.call(i,"callee")&&!XQ.call(i,"callee")},yv=eW,tW=Array.isArray,qa=tW,Q1={exports:{}};function nW(){return!1}var iW=nW;Q1.exports;(function(i,e){var t=Nl,n=iW,r=e&&!e.nodeType&&e,s=r&&!0&&i&&!i.nodeType&&i,o=s&&s.exports===r,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||n;i.exports=u})(Q1,Q1.exports);var mb=Q1.exports,rW=9007199254740991,sW=/^(?:0|[1-9]\d*)$/;function oW(i,e){var t=typeof i;return e=e??rW,!!e&&(t=="number"||t!="symbol"&&sW.test(i))&&i>-1&&i%1==0&&i<e}var bv=oW,aW=9007199254740991;function lW(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=aW}var AE=lW,uW=ip,cW=AE,dW=yh,hW="[object Arguments]",fW="[object Array]",pW="[object Boolean]",gW="[object Date]",mW="[object Error]",vW="[object Function]",yW="[object Map]",bW="[object Number]",CW="[object Object]",wW="[object RegExp]",_W="[object Set]",IW="[object String]",EW="[object WeakMap]",SW="[object ArrayBuffer]",TW="[object DataView]",xW="[object Float32Array]",PW="[object Float64Array]",RW="[object Int8Array]",kW="[object Int16Array]",AW="[object Int32Array]",VW="[object Uint8Array]",LW="[object Uint8ClampedArray]",OW="[object Uint16Array]",DW="[object Uint32Array]",Pi={};Pi[xW]=Pi[PW]=Pi[RW]=Pi[kW]=Pi[AW]=Pi[VW]=Pi[LW]=Pi[OW]=Pi[DW]=!0;Pi[hW]=Pi[fW]=Pi[SW]=Pi[pW]=Pi[TW]=Pi[gW]=Pi[mW]=Pi[vW]=Pi[yW]=Pi[bW]=Pi[CW]=Pi[wW]=Pi[_W]=Pi[IW]=Pi[EW]=!1;function NW(i){return dW(i)&&cW(i.length)&&!!Pi[uW(i)]}var MW=NW;function FW(i){return function(e){return i(e)}}var VE=FW,W1={exports:{}};W1.exports;(function(i,e){var t=C9,n=e&&!e.nodeType&&e,r=n&&!0&&i&&!i.nodeType&&i,s=r&&r.exports===n,o=s&&t.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();i.exports=a})(W1,W1.exports);var $W=W1.exports,BW=MW,qW=VE,nP=$W,iP=nP&&nP.isTypedArray,UW=iP?qW(iP):BW,vb=UW,HW=SQ,zW=yv,jW=qa,QW=mb,WW=bv,GW=vb,KW=Object.prototype,JW=KW.hasOwnProperty;function YW(i,e){var t=jW(i),n=!t&&zW(i),r=!t&&!n&&QW(i),s=!t&&!n&&!r&&GW(i),o=t||n||r||s,a=o?HW(i.length,String):[],l=a.length;for(var u in i)(e||JW.call(i,u))&&!(o&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||WW(u,l)))&&a.push(u);return a}var I9=YW,ZW=Object.prototype;function XW(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||ZW;return i===t}var yb=XW;function eG(i,e){return function(t){return i(e(t))}}var E9=eG,tG=E9,nG=tG(Object.keys,Object),iG=nG,rG=yb,sG=iG,oG=Object.prototype,aG=oG.hasOwnProperty;function lG(i){if(!rG(i))return sG(i);var e=[];for(var t in Object(i))aG.call(i,t)&&t!="constructor"&&e.push(t);return e}var S9=lG;function uG(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var Tu=uG,cG=ip,dG=Tu,hG="[object AsyncFunction]",fG="[object Function]",pG="[object GeneratorFunction]",gG="[object Proxy]";function mG(i){if(!dG(i))return!1;var e=cG(i);return e==fG||e==pG||e==hG||e==gG}var LE=mG,vG=LE,yG=AE;function bG(i){return i!=null&&yG(i.length)&&!vG(i)}var Cv=bG,CG=I9,wG=S9,_G=Cv;function IG(i){return _G(i)?CG(i):wG(i)}var bb=IG,EG=b9,SG=bb;function TG(i,e){return i&&EG(i,e,SG)}var T9=TG,xG=T9;function PG(i,e,t,n){return xG(i,function(r,s,o){e(n,t(r),s,o)}),n}var RG=PG,kG=RG;function AG(i,e){return function(t,n){return kG(t,i,e(n),{})}}var VG=AG;function LG(i){return i}var Cb=LG,OG=y9,DG=VG,NG=Cb,MG=Object.prototype,FG=MG.toString,$G=DG(function(i,e,t){e!=null&&typeof e.toString!="function"&&(e=FG.call(e)),i[e]=t},OG(NG)),BG=$G;const rP=Mo(BG);function qG(i,e){for(var t=-1,n=i==null?0:i.length,r=Array(n);++t<n;)r[t]=e(i[t],t,i);return r}var wv=qG,UG=wv;function HG(i,e){return UG(e,function(t){return[t,i[t]]})}var zG=HG,jG=Nl,QG=jG["__core-js_shared__"],WG=QG,bw=WG,sP=function(){var i=/[^.]+$/.exec(bw&&bw.keys&&bw.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function GG(i){return!!sP&&sP in i}var KG=GG,JG=Function.prototype,YG=JG.toString;function ZG(i){if(i!=null){try{return YG.call(i)}catch{}try{return i+""}catch{}}return""}var x9=ZG,XG=LE,eK=KG,tK=Tu,nK=x9,iK=/[\\^$.*+?()[\]{}|]/g,rK=/^\[object .+?Constructor\]$/,sK=Function.prototype,oK=Object.prototype,aK=sK.toString,lK=oK.hasOwnProperty,uK=RegExp("^"+aK.call(lK).replace(iK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cK(i){if(!tK(i)||eK(i))return!1;var e=XG(i)?uK:rK;return e.test(nK(i))}var dK=cK;function hK(i,e){return i==null?void 0:i[e]}var fK=hK,pK=dK,gK=fK;function mK(i,e){var t=gK(i,e);return pK(t)?t:void 0}var bh=mK,vK=bh,yK=Nl,bK=vK(yK,"DataView"),CK=bK,wK=bh,_K=Nl,IK=wK(_K,"Map"),OE=IK,EK=bh,SK=Nl,TK=EK(SK,"Promise"),xK=TK,PK=bh,RK=Nl,kK=PK(RK,"Set"),P9=kK,AK=bh,VK=Nl,LK=AK(VK,"WeakMap"),OK=LK,z2=CK,j2=OE,Q2=xK,W2=P9,G2=OK,R9=ip,rp=x9,oP="[object Map]",DK="[object Object]",aP="[object Promise]",lP="[object Set]",uP="[object WeakMap]",cP="[object DataView]",NK=rp(z2),MK=rp(j2),FK=rp(Q2),$K=rp(W2),BK=rp(G2),Pd=R9;(z2&&Pd(new z2(new ArrayBuffer(1)))!=cP||j2&&Pd(new j2)!=oP||Q2&&Pd(Q2.resolve())!=aP||W2&&Pd(new W2)!=lP||G2&&Pd(new G2)!=uP)&&(Pd=function(i){var e=R9(i),t=e==DK?i.constructor:void 0,n=t?rp(t):"";if(n)switch(n){case NK:return cP;case MK:return oP;case FK:return aP;case $K:return lP;case BK:return uP}return e});var DE=Pd;function qK(i){var e=-1,t=Array(i.size);return i.forEach(function(n,r){t[++e]=[r,n]}),t}var k9=qK;function UK(i){var e=-1,t=Array(i.size);return i.forEach(function(n){t[++e]=[n,n]}),t}var HK=UK,zK=zG,jK=DE,QK=k9,WK=HK,GK="[object Map]",KK="[object Set]";function JK(i){return function(e){var t=jK(e);return t==GK?QK(e):t==KK?WK(e):zK(e,i(e))}}var YK=JK,ZK=YK,XK=bb,eJ=ZK(XK),tJ=eJ;const K2=Mo(tJ);var A9={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(i,e){((t,n)=>{i.exports=n()})(Zi,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r,s=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,a={},l=0,u={};function c(y){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(w){var R=J(w);R.chunkSize=parseInt(R.chunkSize),w.step||w.chunk||(R.chunkSize=null),this._handle=new _(R),(this._handle.streamer=this)._config=R}).call(this,y),this.parseChunk=function(w,R){var U=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<U){let B=this._config.newline;B||(H=this._config.quoteChar||'"',B=this._handle.guessLineEndings(w,H)),w=[...w.split(B).slice(U)].join(B)}this.isFirstChunk&&L(this._config.beforeFirstChunk)&&(H=this._config.beforeFirstChunk(w))!==void 0&&(w=H),this.isFirstChunk=!1,this._halted=!1;var U=this._partialLine+w,H=(this._partialLine="",this._handle.parse(U,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(w=H.meta.cursor,U=(this._finished||(this._partialLine=U.substring(w-this._baseIndex),this._baseIndex=w),H&&H.data&&(this._rowCount+=H.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:H,workerId:u.WORKER_ID,finished:U});else if(L(this._config.chunk)&&!R){if(this._config.chunk(H,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=H=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(H.data),this._completeResults.errors=this._completeResults.errors.concat(H.errors),this._completeResults.meta=H.meta),this._completed||!U||!L(this._config.complete)||H&&H.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),U||H&&H.meta.paused||this._nextChunk(),H}this._halted=!0},this._sendError=function(w){L(this._config.error)?this._config.error(w):o&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:w,finished:!1})}}function h(y){var w;(y=y||{}).chunkSize||(y.chunkSize=u.RemoteChunkSize),c.call(this,y),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(R){this._input=R,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(w=new XMLHttpRequest,this._config.withCredentials&&(w.withCredentials=this._config.withCredentials),s||(w.onload=Z(this._chunkLoaded,this),w.onerror=Z(this._chunkError,this)),w.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var R,U=this._config.downloadRequestHeaders;for(R in U)w.setRequestHeader(R,U[R])}var H;this._config.chunkSize&&(H=this._start+this._config.chunkSize-1,w.setRequestHeader("Range","bytes="+this._start+"-"+H));try{w.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}s&&w.status===0&&this._chunkError()}},this._chunkLoaded=function(){w.readyState===4&&(w.status<200||400<=w.status?this._chunkError():(this._start+=this._config.chunkSize||w.responseText.length,this._finished=!this._config.chunkSize||this._start>=(R=>(R=R.getResponseHeader("Content-Range"))!==null?parseInt(R.substring(R.lastIndexOf("/")+1)):-1)(w),this.parseChunk(w.responseText)))},this._chunkError=function(R){R=w.statusText||R,this._sendError(new Error(R))}}function f(y){(y=y||{}).chunkSize||(y.chunkSize=u.LocalChunkSize),c.call(this,y);var w,R,U=typeof FileReader<"u";this.stream=function(H){this._input=H,R=H.slice||H.webkitSlice||H.mozSlice,U?((w=new FileReader).onload=Z(this._chunkLoaded,this),w.onerror=Z(this._chunkError,this)):w=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var H=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),H=R.call(H,this._start,B)),w.readAsText(H,this._config.encoding));U||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(H){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(H.target.result)},this._chunkError=function(){this._sendError(w.error)}}function m(y){var w;c.call(this,y=y||{}),this.stream=function(R){return w=R,this._nextChunk()},this._nextChunk=function(){var R,U;if(!this._finished)return R=this._config.chunkSize,w=R?(U=w.substring(0,R),w.substring(R)):(U=w,""),this._finished=!w,this.parseChunk(U)}}function b(y){c.call(this,y=y||{});var w=[],R=!0,U=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(H){this._input=H,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){U&&w.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),w.length?this.parseChunk(w.shift()):R=!0},this._streamData=Z(function(H){try{w.push(typeof H=="string"?H:H.toString(this._config.encoding)),R&&(R=!1,this._checkIsFinished(),this.parseChunk(w.shift()))}catch(B){this._streamError(B)}},this),this._streamError=Z(function(H){this._streamCleanUp(),this._sendError(H)},this),this._streamEnd=Z(function(){this._streamCleanUp(),U=!0,this._streamData("")},this),this._streamCleanUp=Z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(y){var w,R,U,H,B=Math.pow(2,53),Oe=-B,De=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,tt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ne=this,Me=0,qe=0,Ue=!1,We=!1,Re=[],Le={data:[],errors:[],meta:{}};function Ct(ve){return y.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function It(){if(Le&&U&&(fe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),U=!1),y.skipEmptyLines&&(Le.data=Le.data.filter(function(Fe){return!Ct(Fe)})),Dt()){let Fe=function(Vt,at){L(y.transformHeader)&&(Vt=y.transformHeader(Vt,at)),Re.push(Vt)};if(Le)if(Array.isArray(Le.data[0])){for(var ve=0;Dt()&&ve<Le.data.length;ve++)Le.data[ve].forEach(Fe);Le.data.splice(0,1)}else Le.data.forEach(Fe)}function Ee(Fe,Vt){for(var at=y.header?{}:[],de=0;de<Fe.length;de++){var Ke=de,$t=Fe[de],$t=((Jt,jt)=>(yn=>(y.dynamicTypingFunction&&y.dynamicTyping[yn]===void 0&&(y.dynamicTyping[yn]=y.dynamicTypingFunction(yn)),(y.dynamicTyping[yn]||y.dynamicTyping)===!0))(Jt)?jt==="true"||jt==="TRUE"||jt!=="false"&&jt!=="FALSE"&&((yn=>{if(De.test(yn)&&(yn=parseFloat(yn),Oe<yn&&yn<B))return 1})(jt)?parseFloat(jt):tt.test(jt)?new Date(jt):jt===""?null:jt):jt)(Ke=y.header?de>=Re.length?"__parsed_extra":Re[de]:Ke,$t=y.transform?y.transform($t,Ke):$t);Ke==="__parsed_extra"?(at[Ke]=at[Ke]||[],at[Ke].push($t)):at[Ke]=$t}return y.header&&(de>Re.length?fe("FieldMismatch","TooManyFields","Too many fields: expected "+Re.length+" fields but parsed "+de,qe+Vt):de<Re.length&&fe("FieldMismatch","TooFewFields","Too few fields: expected "+Re.length+" fields but parsed "+de,qe+Vt)),at}var $e;Le&&(y.header||y.dynamicTyping||y.transform)&&($e=1,!Le.data.length||Array.isArray(Le.data[0])?(Le.data=Le.data.map(Ee),$e=Le.data.length):Le.data=Ee(Le.data,0),y.header&&Le.meta&&(Le.meta.fields=Re),qe+=$e)}function Dt(){return y.header&&Re.length===0}function fe(ve,Ee,$e,Fe){ve={type:ve,code:Ee,message:$e},Fe!==void 0&&(ve.row=Fe),Le.errors.push(ve)}L(y.step)&&(H=y.step,y.step=function(ve){Le=ve,Dt()?It():(It(),Le.data.length!==0&&(Me+=ve.data.length,y.preview&&Me>y.preview?R.abort():(Le.data=Le.data[0],H(Le,Ne))))}),this.parse=function(ve,Ee,$e){var Fe=y.quoteChar||'"',Fe=(y.newline||(y.newline=this.guessLineEndings(ve,Fe)),U=!1,y.delimiter?L(y.delimiter)&&(y.delimiter=y.delimiter(ve),Le.meta.delimiter=y.delimiter):((Fe=((Vt,at,de,Ke,$t)=>{var Jt,jt,yn,ne;$t=$t||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var re=0;re<$t.length;re++){for(var ke,pt=$t[re],Wt=0,Tt=0,le=0,Se=(yn=void 0,new k({comments:Ke,delimiter:pt,newline:at,preview:10}).parse(Vt)),Yt=0;Yt<Se.data.length;Yt++)de&&Ct(Se.data[Yt])?le++:(ke=Se.data[Yt].length,Tt+=ke,yn===void 0?yn=ke:0<ke&&(Wt+=Math.abs(ke-yn),yn=ke));0<Se.data.length&&(Tt/=Se.data.length-le),(jt===void 0||Wt<=jt)&&(ne===void 0||ne<Tt)&&1.99<Tt&&(jt=Wt,Jt=pt,ne=Tt)}return{successful:!!(y.delimiter=Jt),bestDelimiter:Jt}})(ve,y.newline,y.skipEmptyLines,y.comments,y.delimitersToGuess)).successful?y.delimiter=Fe.bestDelimiter:(U=!0,y.delimiter=u.DefaultDelimiter),Le.meta.delimiter=y.delimiter),J(y));return y.preview&&y.header&&Fe.preview++,w=ve,R=new k(Fe),Le=R.parse(w,Ee,$e),It(),Ue?{meta:{paused:!0}}:Le||{meta:{paused:!1}}},this.paused=function(){return Ue},this.pause=function(){Ue=!0,R.abort(),w=L(y.chunk)?"":w.substring(R.getCharIndex())},this.resume=function(){Ne.streamer._halted?(Ue=!1,Ne.streamer.parseChunk(w,!0)):setTimeout(Ne.resume,3)},this.aborted=function(){return We},this.abort=function(){We=!0,R.abort(),Le.meta.aborted=!0,L(y.complete)&&y.complete(Le),w=""},this.guessLineEndings=function(Vt,Fe){Vt=Vt.substring(0,1048576);var Fe=new RegExp(E(Fe)+"([^]*?)"+E(Fe),"gm"),$e=(Vt=Vt.replace(Fe,"")).split("\r"),Fe=Vt.split(`
`),Vt=1<Fe.length&&Fe[0].length<$e[0].length;if($e.length===1||Vt)return`
`;for(var at=0,de=0;de<$e.length;de++)$e[de][0]===`
`&&at++;return at>=$e.length/2?`\r
`:"\r"}}function E(y){return y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(y){var w=(y=y||{}).delimiter,R=y.newline,U=y.comments,H=y.step,B=y.preview,Oe=y.fastMode,De=null,tt=!1,Ne=y.quoteChar==null?'"':y.quoteChar,Me=Ne;if(y.escapeChar!==void 0&&(Me=y.escapeChar),(typeof w!="string"||-1<u.BAD_DELIMITERS.indexOf(w))&&(w=","),U===w)throw new Error("Comment character same as delimiter");U===!0?U="#":(typeof U!="string"||-1<u.BAD_DELIMITERS.indexOf(U))&&(U=!1),R!==`
`&&R!=="\r"&&R!==`\r
`&&(R=`
`);var qe=0,Ue=!1;this.parse=function(We,Re,Le){if(typeof We!="string")throw new Error("Input must be a string");var Ct=We.length,It=w.length,Dt=R.length,fe=U.length,ve=L(H),Ee=[],$e=[],Fe=[],Vt=qe=0;if(!We)return Wt();if(Oe||Oe!==!1&&We.indexOf(Ne)===-1){for(var at=We.split(R),de=0;de<at.length;de++){if(Fe=at[de],qe+=Fe.length,de!==at.length-1)qe+=R.length;else if(Le)return Wt();if(!U||Fe.substring(0,fe)!==U){if(ve){if(Ee=[],ne(Fe.split(w)),Tt(),Ue)return Wt()}else ne(Fe.split(w));if(B&&B<=de)return Ee=Ee.slice(0,B),Wt(!0)}}return Wt()}for(var Ke=We.indexOf(w,qe),$t=We.indexOf(R,qe),Jt=new RegExp(E(Me)+E(Ne),"g"),jt=We.indexOf(Ne,qe);;)if(We[qe]===Ne)for(jt=qe,qe++;;){if((jt=We.indexOf(Ne,jt+1))===-1)return Le||$e.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ee.length,index:qe}),ke();if(jt===Ct-1)return ke(We.substring(qe,jt).replace(Jt,Ne));if(Ne===Me&&We[jt+1]===Me)jt++;else if(Ne===Me||jt===0||We[jt-1]!==Me){Ke!==-1&&Ke<jt+1&&(Ke=We.indexOf(w,jt+1));var yn=re(($t=$t!==-1&&$t<jt+1?We.indexOf(R,jt+1):$t)===-1?Ke:Math.min(Ke,$t));if(We.substr(jt+1+yn,It)===w){Fe.push(We.substring(qe,jt).replace(Jt,Ne)),We[qe=jt+1+yn+It]!==Ne&&(jt=We.indexOf(Ne,qe)),Ke=We.indexOf(w,qe),$t=We.indexOf(R,qe);break}if(yn=re($t),We.substring(jt+1+yn,jt+1+yn+Dt)===R){if(Fe.push(We.substring(qe,jt).replace(Jt,Ne)),pt(jt+1+yn+Dt),Ke=We.indexOf(w,qe),jt=We.indexOf(Ne,qe),ve&&(Tt(),Ue))return Wt();if(B&&Ee.length>=B)return Wt(!0);break}$e.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ee.length,index:qe}),jt++}}else if(U&&Fe.length===0&&We.substring(qe,qe+fe)===U){if($t===-1)return Wt();qe=$t+Dt,$t=We.indexOf(R,qe),Ke=We.indexOf(w,qe)}else if(Ke!==-1&&(Ke<$t||$t===-1))Fe.push(We.substring(qe,Ke)),qe=Ke+It,Ke=We.indexOf(w,qe);else{if($t===-1)break;if(Fe.push(We.substring(qe,$t)),pt($t+Dt),ve&&(Tt(),Ue))return Wt();if(B&&Ee.length>=B)return Wt(!0)}return ke();function ne(le){Ee.push(le),Vt=qe}function re(le){var Se=0;return Se=le!==-1&&(le=We.substring(jt+1,le))&&le.trim()===""?le.length:Se}function ke(le){return Le||(le===void 0&&(le=We.substring(qe)),Fe.push(le),qe=Ct,ne(Fe),ve&&Tt()),Wt()}function pt(le){qe=le,ne(Fe),Fe=[],$t=We.indexOf(R,qe)}function Wt(le){if(y.header&&!Re&&Ee.length&&!tt){var Se=Ee[0],Yt=Object.create(null),Cn=new Set(Se);let xi=!1;for(let Gn=0;Gn<Se.length;Gn++){let Bn=Se[Gn];if(Yt[Bn=L(y.transformHeader)?y.transformHeader(Bn,Gn):Bn]){let Ir,os=Yt[Bn];for(;Ir=Bn+"_"+os,os++,Cn.has(Ir););Cn.add(Ir),Se[Gn]=Ir,Yt[Bn]++,xi=!0,(De=De===null?{}:De)[Ir]=Bn}else Yt[Bn]=1,Se[Gn]=Bn;Cn.add(Bn)}xi&&console.warn("Duplicate headers found and renamed."),tt=!0}return{data:Ee,errors:$e,meta:{delimiter:w,linebreak:R,aborted:Ue,truncated:!!le,cursor:Vt+(Re||0),renamedHeaders:De}}}function Tt(){H(Wt()),Ee=[],$e=[]}},this.abort=function(){Ue=!0},this.getCharIndex=function(){return qe}}function j(y){var w=y.data,R=a[w.workerId],U=!1;if(w.error)R.userError(w.error,w.file);else if(w.results&&w.results.data){var H={abort:function(){U=!0,M(w.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:q,resume:q};if(L(R.userStep)){for(var B=0;B<w.results.data.length&&(R.userStep({data:w.results.data[B],errors:w.results.errors,meta:w.results.meta},H),!U);B++);delete w.results}else L(R.userChunk)&&(R.userChunk(w.results,H,w.file),delete w.results)}w.finished&&!U&&M(w.workerId,w.results)}function M(y,w){var R=a[y];L(R.userComplete)&&R.userComplete(w),R.terminate(),delete a[y]}function q(){throw new Error("Not implemented.")}function J(y){if(typeof y!="object"||y===null)return y;var w,R=Array.isArray(y)?[]:{};for(w in y)R[w]=J(y[w]);return R}function Z(y,w){return function(){y.apply(w,arguments)}}function L(y){return typeof y=="function"}return u.parse=function(y,w){var R=(w=w||{}).dynamicTyping||!1;if(L(R)&&(w.dynamicTypingFunction=R,R={}),w.dynamicTyping=R,w.transform=!!L(w.transform)&&w.transform,!w.worker||!u.WORKERS_SUPPORTED)return R=null,u.NODE_STREAM_INPUT,typeof y=="string"?(y=(U=>U.charCodeAt(0)!==65279?U:U.slice(1))(y),R=new(w.download?h:m)(w)):y.readable===!0&&L(y.read)&&L(y.on)?R=new b(w):(n.File&&y instanceof File||y instanceof Object)&&(R=new f(w)),R.stream(y);(R=(()=>{var U;return!!u.WORKERS_SUPPORTED&&(U=(()=>{var H=n.URL||n.webkitURL||null,B=t.toString();return u.BLOB_URL||(u.BLOB_URL=H.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(U=new n.Worker(U)).onmessage=j,U.id=l++,a[U.id]=U)})()).userStep=w.step,R.userChunk=w.chunk,R.userComplete=w.complete,R.userError=w.error,w.step=L(w.step),w.chunk=L(w.chunk),w.complete=L(w.complete),w.error=L(w.error),delete w.worker,R.postMessage({input:y,config:w,workerId:R.id})},u.unparse=function(y,w){var R=!1,U=!0,H=",",B=`\r
`,Oe='"',De=Oe+Oe,tt=!1,Ne=null,Me=!1,qe=((()=>{if(typeof w=="object"){if(typeof w.delimiter!="string"||u.BAD_DELIMITERS.filter(function(Re){return w.delimiter.indexOf(Re)!==-1}).length||(H=w.delimiter),typeof w.quotes!="boolean"&&typeof w.quotes!="function"&&!Array.isArray(w.quotes)||(R=w.quotes),typeof w.skipEmptyLines!="boolean"&&typeof w.skipEmptyLines!="string"||(tt=w.skipEmptyLines),typeof w.newline=="string"&&(B=w.newline),typeof w.quoteChar=="string"&&(Oe=w.quoteChar),typeof w.header=="boolean"&&(U=w.header),Array.isArray(w.columns)){if(w.columns.length===0)throw new Error("Option columns is empty");Ne=w.columns}w.escapeChar!==void 0&&(De=w.escapeChar+Oe),w.escapeFormulae instanceof RegExp?Me=w.escapeFormulae:typeof w.escapeFormulae=="boolean"&&w.escapeFormulae&&(Me=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(Oe),"g"));if(typeof y=="string"&&(y=JSON.parse(y)),Array.isArray(y)){if(!y.length||Array.isArray(y[0]))return Ue(null,y,tt);if(typeof y[0]=="object")return Ue(Ne||Object.keys(y[0]),y,tt)}else if(typeof y=="object")return typeof y.data=="string"&&(y.data=JSON.parse(y.data)),Array.isArray(y.data)&&(y.fields||(y.fields=y.meta&&y.meta.fields||Ne),y.fields||(y.fields=Array.isArray(y.data[0])?y.fields:typeof y.data[0]=="object"?Object.keys(y.data[0]):[]),Array.isArray(y.data[0])||typeof y.data[0]=="object"||(y.data=[y.data])),Ue(y.fields||[],y.data||[],tt);throw new Error("Unable to serialize unrecognized input");function Ue(Re,Le,Ct){var It="",Dt=(typeof Re=="string"&&(Re=JSON.parse(Re)),typeof Le=="string"&&(Le=JSON.parse(Le)),Array.isArray(Re)&&0<Re.length),fe=!Array.isArray(Le[0]);if(Dt&&U){for(var ve=0;ve<Re.length;ve++)0<ve&&(It+=H),It+=We(Re[ve],ve);0<Le.length&&(It+=B)}for(var Ee=0;Ee<Le.length;Ee++){var $e=(Dt?Re:Le[Ee]).length,Fe=!1,Vt=Dt?Object.keys(Le[Ee]).length===0:Le[Ee].length===0;if(Ct&&!Dt&&(Fe=Ct==="greedy"?Le[Ee].join("").trim()==="":Le[Ee].length===1&&Le[Ee][0].length===0),Ct==="greedy"&&Dt){for(var at=[],de=0;de<$e;de++){var Ke=fe?Re[de]:de;at.push(Le[Ee][Ke])}Fe=at.join("").trim()===""}if(!Fe){for(var $t=0;$t<$e;$t++){0<$t&&!Vt&&(It+=H);var Jt=Dt&&fe?Re[$t]:$t;It+=We(Le[Ee][Jt],$t)}Ee<Le.length-1&&(!Ct||0<$e&&!Vt)&&(It+=B)}}return It}function We(Re,Le){var Ct,It;return Re==null?"":Re.constructor===Date?JSON.stringify(Re).slice(1,25):(It=!1,Me&&typeof Re=="string"&&Me.test(Re)&&(Re="'"+Re,It=!0),Ct=Re.toString().replace(qe,De),(It=It||R===!0||typeof R=="function"&&R(Re,Le)||Array.isArray(R)&&R[Le]||((Dt,fe)=>{for(var ve=0;ve<fe.length;ve++)if(-1<Dt.indexOf(fe[ve]))return!0;return!1})(Ct,u.BAD_DELIMITERS)||-1<Ct.indexOf(H)||Ct.charAt(0)===" "||Ct.charAt(Ct.length-1)===" ")?Oe+Ct+Oe:Ct)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=k,u.ParserHandle=_,u.NetworkStreamer=h,u.FileStreamer=f,u.StringStreamer=m,u.ReadableStreamStreamer=b,n.jQuery&&((r=n.jQuery).fn.parse=function(y){var w=y.config||{},R=[];return this.each(function(B){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var Oe=0;Oe<this.files.length;Oe++)R.push({file:this.files[Oe],inputElem:this,instanceConfig:r.extend({},w)})}),U(),this;function U(){if(R.length===0)L(y.complete)&&y.complete();else{var B,Oe,De,tt,Ne=R[0];if(L(y.before)){var Me=y.before(Ne.file,Ne.inputElem);if(typeof Me=="object"){if(Me.action==="abort")return B="AbortError",Oe=Ne.file,De=Ne.inputElem,tt=Me.reason,void(L(y.error)&&y.error({name:B},Oe,De,tt));if(Me.action==="skip")return void H();typeof Me.config=="object"&&(Ne.instanceConfig=r.extend(Ne.instanceConfig,Me.config))}else if(Me==="skip")return void H()}var qe=Ne.instanceConfig.complete;Ne.instanceConfig.complete=function(Ue){L(qe)&&qe(Ue,Ne.file,Ne.inputElem),H()},u.parse(Ne.file,Ne.instanceConfig)}}function H(){R.splice(0,1),U()}}),o&&(n.onmessage=function(y){y=y.data,u.WORKER_ID===void 0&&y&&(u.WORKER_ID=y.workerId),typeof y.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(y.input,y.config),finished:!0}):(n.File&&y.input instanceof File||y.input instanceof Object)&&(y=u.parse(y.input,y.config))&&n.postMessage({workerId:u.WORKER_ID,results:y,finished:!0})}),(h.prototype=Object.create(c.prototype)).constructor=h,(f.prototype=Object.create(c.prototype)).constructor=f,(m.prototype=Object.create(m.prototype)).constructor=m,(b.prototype=Object.create(c.prototype)).constructor=b,u})})(A9);var V9=A9.exports;const nJ=Mo(V9),gBe=!0,mBe=()=>{const i=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(i.substr(0,4)))},iJ=i=>i.replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),L9=i=>{const e={};for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))if(typeof i[t]=="object"&&!Array.isArray(i[t])&&i[t]!==null){const n=L9(i[t]);for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[iJ(t+"."+r)]=n[r]===void 0||n[r]===null?"":n[r])}else e[t]=i[t]===void 0||i[t]===null?"":i[t];return e},vBe=async i=>{const e=await i.text();return(await new Promise((n,r)=>{V9.parse(e,{header:!0,skipEmptyLines:"greedy",transformHeader:s=>s.trim(),transform:(s,o)=>(typeof o=="number"&&(o=String(o)),o==="id"?s.trim():s),complete:s=>n(s),error:s=>r(s)})})).data},yBe=(i,e)=>{const t=K2(i).map(([n,r])=>[n,r.filter(s=>{var o;return(o=e[n])==null?void 0:o.includes(s)})]);return v9(t)},G1={group:"groups",district:"districts",school:"schools",class:"classes",family:"families",administration:"administrations",user:"users",assignment:"assignments",run:"runs",trial:"trials"},bBe=i=>{if(Object.values(G1).includes(i))return i;const e=G1[i];if(e)return e;throw new Error(`There is no plural Firestore collection for the ${i}`)},CBe=i=>{if(Object.values(rP(G1)).includes(i))return i;const e=rP(G1)[i];if(e)return e;throw new Error(`There is no Firestore collection ${i}`)},rJ={group:"cohort",groups:"cohorts",district:"site",districts:"sites",school:"school",schools:"schools",class:"class",classes:"classes"},wBe=i=>{const e=i.toLowerCase();return rJ[e]||i},_Be=(i="")=>i.trim().toLowerCase().normalize("NFKD").replace(/[\u0300-\u036f]/g,""),Wu={"en-US":{translations:B2,language:"English (United States)",code:"usa"},en:{translations:bH,language:"English (United Kingdom)",code:"gb"},es:{translations:X7,language:"Español (Spain)",code:"es"},"es-CO":{translations:e9,language:"Español (América Latina)",code:"col"},de:{translations:t9,language:"Deutsch",code:"de"}},O9=window.navigator.language,D9=i=>{const e=sessionStorage.getItem("levantePlatformLocale");return e||(sessionStorage.setItem("levantePlatformLocale",i),i)},sJ=D9(O9),oJ=()=>{const i=sessionStorage.getItem("levantePlatformLocale");return i.includes("es")?(console.log("Setting fallback local to es"),"es"):i.includes("de")?(console.log("Setting fallback local to de"),"de"):(console.log("Setting fallback local to en-US"),"en-US")},J2=KU({locale:D9(O9),fallbackLocale:oJ(),messages:{en:{...B2,...sz},"en-US":{...B2,...az},es:{...X7,...uz},"es-CO":{...e9,...dz},de:t9},legacy:!1,globalInjection:!0});let N9;const wb=i=>N9=i,M9=Symbol();function Y2(i){return i&&typeof i=="object"&&Object.prototype.toString.call(i)==="[object Object]"&&typeof i.toJSON!="function"}var $g;(function(i){i.direct="direct",i.patchObject="patch object",i.patchFunction="patch function"})($g||($g={}));function aJ(){const i=mE(!0),e=i.run(()=>Qe({}));let t=[],n=[];const r=vE({install(s){wb(r),r._a=s,s.provide(M9,r),s.config.globalProperties.$pinia=r,n.forEach(o=>t.push(o)),n=[]},use(s){return this._a?t.push(s):n.push(s),this},_p:t,_a:null,_e:i,_s:new Map,state:e});return r}const F9=()=>{};function dP(i,e,t,n=F9){i.push(e);const r=()=>{const s=i.indexOf(e);s>-1&&(i.splice(s,1),n())};return!t&&EB()&&SB(r),r}function Oh(i,...e){i.slice().forEach(t=>{t(...e)})}const lJ=i=>i(),hP=Symbol(),Cw=Symbol();function Z2(i,e){i instanceof Map&&e instanceof Map?e.forEach((t,n)=>i.set(n,t)):i instanceof Set&&e instanceof Set&&e.forEach(i.add,i);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],r=i[t];Y2(r)&&Y2(n)&&i.hasOwnProperty(t)&&!Lc(n)&&!yE(n)?i[t]=Z2(r,n):i[t]=n}return i}const uJ=Symbol();function cJ(i){return!Y2(i)||!i.hasOwnProperty(uJ)}const{assign:sc}=Object;function dJ(i){return!!(Lc(i)&&i.effect)}function hJ(i,e,t,n){const{state:r,actions:s,getters:o}=e,a=t.state.value[i];let l;function u(){a||(t.state.value[i]=r?r():{});const c=c7(t.state.value[i]);return sc(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=vE(Ze(()=>{wb(t);const m=t._s.get(i);return o[f].call(m,m)})),h),{}))}return l=$9(i,u,e,t,n,!0),l}function $9(i,e,t={},n,r,s){let o;const a=sc({actions:{}},t),l={deep:!0};let u,c,h=[],f=[],m;const b=n.state.value[i];!s&&!b&&(n.state.value[i]={}),Qe({});let _;function E(y){let w;u=c=!1,typeof y=="function"?(y(n.state.value[i]),w={type:$g.patchFunction,storeId:i,events:m}):(Z2(n.state.value[i],y),w={type:$g.patchObject,payload:y,storeId:i,events:m});const R=_=Symbol();Oc().then(()=>{_===R&&(u=!0)}),c=!0,Oh(h,w,n.state.value[i])}const k=s?function(){const{state:w}=t,R=w?w():{};this.$patch(U=>{sc(U,R)})}:F9;function j(){o.stop(),h=[],f=[],n._s.delete(i)}const M=(y,w="")=>{if(hP in y)return y[Cw]=w,y;const R=function(){wb(n);const U=Array.from(arguments),H=[],B=[];function Oe(Ne){H.push(Ne)}function De(Ne){B.push(Ne)}Oh(f,{args:U,name:R[Cw],store:J,after:Oe,onError:De});let tt;try{tt=y.apply(this&&this.$id===i?this:J,U)}catch(Ne){throw Oh(B,Ne),Ne}return tt instanceof Promise?tt.then(Ne=>(Oh(H,Ne),Ne)).catch(Ne=>(Oh(B,Ne),Promise.reject(Ne))):(Oh(H,tt),tt)};return R[hP]=!0,R[Cw]=w,R},q={_p:n,$id:i,$onAction:dP.bind(null,f),$patch:E,$reset:k,$subscribe(y,w={}){const R=dP(h,y,w.detached,()=>U()),U=o.run(()=>Ji(()=>n.state.value[i],H=>{(w.flush==="sync"?c:u)&&y({storeId:i,type:$g.direct,events:m},H)},sc({},l,w)));return R},$dispose:j},J=fv(q);n._s.set(i,J);const L=(n._a&&n._a.runWithContext||lJ)(()=>n._e.run(()=>(o=mE()).run(()=>e({action:M}))));for(const y in L){const w=L[y];if(Lc(w)&&!dJ(w)||yE(w))s||(b&&cJ(w)&&(Lc(w)?w.value=b[y]:Z2(w,b[y])),n.state.value[i][y]=w);else if(typeof w=="function"){const R=M(w,y);L[y]=R,a.actions[y]=w}}return sc(J,L),sc(ab(J),L),Object.defineProperty(J,"$state",{get:()=>n.state.value[i],set:y=>{E(w=>{sc(w,y)})}}),n._p.forEach(y=>{sc(J,o.run(()=>y({store:J,app:n._a,pinia:n,options:a})))}),b&&s&&t.hydrate&&t.hydrate(J.$state,b),u=!0,c=!0,J}/*! #__NO_SIDE_EFFECTS__ */function NE(i,e,t){let n,r;const s=typeof e=="function";typeof i=="string"?(n=i,r=s?t:e):(r=i,n=i.id);function o(a,l){const u=IB();return a=a||(u?Vo(M9,null):null),a&&wb(a),a=N9,a._s.has(n)||(s?$9(n,e,r,a):hJ(n,r,a)),a._s.get(n)}return o.$id=n,o}function _b(i){{const e=ab(i),t={};for(const n in e){const r=e[n];r.effect?t[n]=Ze({get:()=>i[n],set(s){i[n]=s}}):(Lc(r)||yE(r))&&(t[n]=_B(i,n))}return t}}var X2=function(i,e){return X2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},X2(i,e)};function B9(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");X2(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var K1=function(){return K1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},K1.apply(this,arguments)};function Ib(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t}function q9(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function U9(i,e){return function(t,n){e(t,n,i)}}function H9(i,e,t,n,r,s){function o(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&i?n.static?i:i.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,m=t.length-1;m>=0;m--){var b={};for(var _ in n)b[_]=_==="access"?{}:n[_];for(var _ in n.access)b.access[_]=n.access[_];b.addInitializer=function(k){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(k||null))};var E=(0,t[m])(a==="accessor"?{get:c.get,set:c.set}:c[l],b);if(a==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(h=o(E.get))&&(c.get=h),(h=o(E.set))&&(c.set=h),(h=o(E.init))&&r.unshift(h)}else(h=o(E))&&(a==="field"?r.unshift(h):c[l]=h)}u&&Object.defineProperty(u,n.name,c),f=!0}function z9(i,e,t){for(var n=arguments.length>2,r=0;r<e.length;r++)t=n?e[r].call(i,t):e[r].call(i);return n?t:void 0}function j9(i){return typeof i=="symbol"?i:"".concat(i)}function Q9(i,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function W9(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function G9(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((n=n.apply(i,e||[])).next())})}function K9(i,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(n=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(c){u=[6,c],r=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Eb=Object.create?function(i,e,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,n,r)}:function(i,e,t,n){n===void 0&&(n=t),i[n]=e[t]};function J9(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Eb(e,i,t)}function J1(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ME(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function Y9(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(ME(arguments[e]));return i}function Z9(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var n=Array(i),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n}function X9(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||Array.prototype.slice.call(e))}function _f(i){return this instanceof _f?(this.v=i,this):new _f(i)}function e3(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(m){return function(b){return Promise.resolve(b).then(m,h)}}function a(m,b){n[m]&&(r[m]=function(_){return new Promise(function(E,k){s.push([m,_,E,k])>1||l(m,_)})},b&&(r[m]=b(r[m])))}function l(m,b){try{u(n[m](b))}catch(_){f(s[0][3],_)}}function u(m){m.value instanceof _f?Promise.resolve(m.value.v).then(c,h):f(s[0][2],m)}function c(m){l("next",m)}function h(m){l("throw",m)}function f(m,b){m(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function t3(i){var e,t;return e={},n("next"),n("throw",function(r){throw r}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(r,s){e[r]=i[r]?function(o){return(t=!t)?{value:_f(i[r](o)),done:!1}:s?s(o):o}:s}}function n3(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof J1=="function"?J1(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=i[s]&&function(o){return new Promise(function(a,l){o=i[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function i3(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var fJ=Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e},e_=function(i){return e_=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e_(i)};function r3(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t=e_(i),n=0;n<t.length;n++)t[n]!=="default"&&Eb(e,i,t[n]);return fJ(e,i),e}function s3(i){return i&&i.__esModule?i:{default:i}}function o3(i,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(i):n?n.value:e.get(i)}function a3(i,e,t,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(i,t):r?r.value=t:e.set(i,t),t}function l3(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function u3(i,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],t&&(r=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),i.stack.push({value:e,dispose:n,async:t})}else t&&i.stack.push({async:!0});return e}var pJ=typeof SuppressedError=="function"?SuppressedError:function(i,e,t){var n=new Error(t);return n.name="SuppressedError",n.error=i,n.suppressed=e,n};function c3(i){function e(s){i.error=i.hasError?new pJ(s,i.error,"An error was suppressed during disposal."):s,i.hasError=!0}var t,n=0;function r(){for(;t=i.stack.pop();)try{if(!t.async&&n===1)return n=0,i.stack.push(t),Promise.resolve().then(r);if(t.dispose){var s=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(s).then(r,function(o){return e(o),r()})}else n|=1}catch(o){e(o)}if(n===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return r()}function d3(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,r,s,o){return n?e?".jsx":".js":r&&(!s||!o)?t:r+s+"."+o.toLowerCase()+"js"}):i}const gJ={__extends:B9,__assign:K1,__rest:Ib,__decorate:q9,__param:U9,__esDecorate:H9,__runInitializers:z9,__propKey:j9,__setFunctionName:Q9,__metadata:W9,__awaiter:G9,__generator:K9,__createBinding:Eb,__exportStar:J9,__values:J1,__read:ME,__spread:Y9,__spreadArrays:Z9,__spreadArray:X9,__await:_f,__asyncGenerator:e3,__asyncDelegator:t3,__asyncValues:n3,__makeTemplateObject:i3,__importStar:r3,__importDefault:s3,__classPrivateFieldGet:o3,__classPrivateFieldSet:a3,__classPrivateFieldIn:l3,__addDisposableResource:u3,__disposeResources:c3,__rewriteRelativeImportExtension:d3},mJ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:u3,get __assign(){return K1},__asyncDelegator:t3,__asyncGenerator:e3,__asyncValues:n3,__await:_f,__awaiter:G9,__classPrivateFieldGet:o3,__classPrivateFieldIn:l3,__classPrivateFieldSet:a3,__createBinding:Eb,__decorate:q9,__disposeResources:c3,__esDecorate:H9,__exportStar:J9,__extends:B9,__generator:K9,__importDefault:s3,__importStar:r3,__makeTemplateObject:i3,__metadata:W9,__param:U9,__propKey:j9,__read:ME,__rest:Ib,__rewriteRelativeImportExtension:d3,__runInitializers:z9,__setFunctionName:Q9,__spread:Y9,__spreadArray:X9,__spreadArrays:Z9,__values:J1,default:gJ},Symbol.toStringTag,{value:"Module"}));function h3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vJ=h3,f3=new gv("auth","Firebase",h3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new xE("@firebase/auth");function yJ(i,...e){Y1.logLevel<=ui.WARN&&Y1.warn(`Auth (${pb}): ${i}`,...e)}function a1(i,...e){Y1.logLevel<=ui.ERROR&&Y1.error(`Auth (${pb}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(i,...e){throw FE(i,...e)}function p3(i,...e){return FE(i,...e)}function g3(i,e,t){const n=Object.assign(Object.assign({},vJ()),{[e]:t});return new gv("auth","Firebase",n).create(e,{appName:i.name})}function l1(i){return g3(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FE(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return f3.create(i,...e)}function Jn(i,e,...t){if(!i)throw FE(e,...t)}function Bg(i){const e="INTERNAL ASSERTION FAILED: "+i;throw a1(e),new Error(e)}function Z1(i,e){i||Bg(e)}function bJ(){return pP()==="http:"||pP()==="https:"}function pP(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bJ()||zz()||"connection"in navigator)?navigator.onLine:!0}function wJ(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Z1(t>e,"Short delay should be less than long delay!"),this.isMobile=Uz()||jz()}get(){return CJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(i,e){Z1(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m3=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJ=new _v(3e4,6e4);function v3(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Sb(i,e,t,n,r={}){return y3(i,r,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const a=a9(Object.assign({key:i.config.apiKey},o)).slice(1),l=await i._getAdditionalHeaders();l["Content-Type"]="application/json",i.languageCode&&(l["X-Firebase-Locale"]=i.languageCode);const u=Object.assign({method:e,headers:l},s);return Hz()||(u.referrerPolicy="no-referrer"),m3.fetch()(b3(i,i.config.apiHost,t,a),u)})}async function y3(i,e,t){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},IJ),e);try{const r=new SJ(i),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _y(i,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _y(i,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _y(i,"email-already-in-use",o);if(l==="USER_DISABLED")throw _y(i,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw g3(i,c,u);fP(i,c)}}catch(r){if(r instanceof np)throw r;fP(i,"network-request-failed",{message:String(r)})}}function b3(i,e,t,n){const r=`${e}${t}?${n}`;return i.config.emulator?_J(i.config,r):`${i.config.apiScheme}://${r}`}let SJ=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(p3(this.auth,"network-request-failed")),EJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _y(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const r=p3(i,e,n);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TJ(i,e){return Sb(i,"POST","/v1/accounts:delete",e)}async function C3(i,e){return Sb(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xJ(i,e=!1){const t=mv(i),n=await t.getIdToken(e),r=w3(n);Jn(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:qg(ww(r.auth_time)),issuedAtTime:qg(ww(r.iat)),expirationTime:qg(ww(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ww(i){return Number(i)*1e3}function w3(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return a1("JWT malformed, contained fewer than 3 sections"),null;try{const r=s9(t);return r?JSON.parse(r):(a1("Failed to decode base64 JWT payload"),null)}catch(r){return a1("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function gP(i){const e=w3(i);return Jn(e,"internal-error"),Jn(typeof e.exp<"u","internal-error"),Jn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t_(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof np&&PJ(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function PJ({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RJ=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n_=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qg(this.lastLoginAt),this.creationTime=qg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(i){var e;const t=i.auth,n=await i.getIdToken(),r=await t_(i,C3(t,{idToken:n}));Jn(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];i._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_3(s.providerUserInfo):[],a=AJ(i.providerData,o),l=i.isAnonymous,u=!(i.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new n_(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(i,h)}async function kJ(i){const e=mv(i);await X1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AJ(i,e){return[...i.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function _3(i){return i.map(e=>{var{providerId:t}=e,n=Ib(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VJ(i,e){const t=await y3(i,{},async()=>{const n=a9({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=i.config,o=b3(i,r,"/v1/token",`key=${s}`),a=await i._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",m3.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LJ(i,e){return Sb(i,"POST","/v2/accounts:revokeToken",v3(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _w=class i_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Jn(e.idToken,"internal-error"),Jn(typeof e.idToken<"u","internal-error"),Jn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Jn(e.length!==0,"internal-error");const t=gP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Jn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await VJ(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new i_;return n&&(Jn(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(Jn(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Jn(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new i_,this.toJSON())}_performRefresh(){return Bg("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(i,e){Jn(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}let r_=class gg{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Ib(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new n_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await t_(this,this.stsTokenManager.getToken(this.auth,e));return Jn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xJ(this,e)}reload(){return kJ(this)}_assign(e){this!==e&&(Jn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gg(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Jn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await X1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pg(this.auth.app))return Promise.reject(l1(this.auth));const e=await this.getIdToken();return await t_(this,TJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,o,a,l,u,c;const h=(n=t.displayName)!==null&&n!==void 0?n:void 0,f=(r=t.email)!==null&&r!==void 0?r:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,_=(a=t.tenantId)!==null&&a!==void 0?a:void 0,E=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,k=(u=t.createdAt)!==null&&u!==void 0?u:void 0,j=(c=t.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:M,emailVerified:q,isAnonymous:J,providerData:Z,stsTokenManager:L}=t;Jn(M&&L,e,"internal-error");const y=_w.fromJSON(this.name,L);Jn(typeof M=="string",e,"internal-error"),Gu(h,e.name),Gu(f,e.name),Jn(typeof q=="boolean",e,"internal-error"),Jn(typeof J=="boolean",e,"internal-error"),Gu(m,e.name),Gu(b,e.name),Gu(_,e.name),Gu(E,e.name),Gu(k,e.name),Gu(j,e.name);const w=new gg({uid:M,auth:e,email:f,emailVerified:q,displayName:h,isAnonymous:J,photoURL:b,phoneNumber:m,tenantId:_,stsTokenManager:y,createdAt:k,lastLoginAt:j});return Z&&Array.isArray(Z)&&(w.providerData=Z.map(R=>Object.assign({},R))),E&&(w._redirectEventId=E),w}static async _fromIdTokenResponse(e,t,n=!1){const r=new _w;r.updateFromServerResponse(t);const s=new gg({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await X1(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Jn(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?_3(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new _w;a.updateFromIdToken(n);const l=new gg({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new n_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Map;function Bd(i){Z1(i instanceof Function,"Expected a class definition");let e=mP.get(i);return e?(Z1(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,mP.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I3=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};I3.type="NONE";const vP=I3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i,e,t){return`firebase:${i}:${e}:${t}`}let yP=class u1{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Iw(this.userKey,r.apiKey,s),this.fullPersistenceKey=Iw("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?r_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new u1(Bd(vP),e,n);const r=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Bd(vP);const o=Iw(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const c=await u._get(o);if(c){const h=r_._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new u1(s,e,n):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new u1(s,e,n))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MJ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OJ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($J(e))return"Blackberry";if(BJ(e))return"Webos";if(DJ(e))return"Safari";if((e.includes("chrome/")||NJ(e))&&!e.includes("edge/"))return"Chrome";if(FJ(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function OJ(i=Rl()){return/firefox\//i.test(i)}function DJ(i=Rl()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NJ(i=Rl()){return/crios\//i.test(i)}function MJ(i=Rl()){return/iemobile/i.test(i)}function FJ(i=Rl()){return/android/i.test(i)}function $J(i=Rl()){return/blackberry/i.test(i)}function BJ(i=Rl()){return/webos/i.test(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(i,e=[]){let t;switch(i){case"Browser":t=bP(Rl());break;case"Worker":t=`${bP(Rl())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pb}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qJ=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UJ(i,e={}){return Sb(i,"GET","/v2/passwordPolicy",v3(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ=6;class zJ{constructor(e){var t,n,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:HJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jJ=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CP(this),this.idTokenSubscription=new CP(this),this.beforeStateQueue=new qJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bd(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await yP.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await C3(this,{idToken:e}),n=await r_._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pg(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Jn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await X1(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pg(this.app))return Promise.reject(l1(this));const t=e?mv(e):null;return t&&Jn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Jn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pg(this.app)?Promise.reject(l1(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pg(this.app)?Promise.reject(l1(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bd(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UJ(this),t=new zJ(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gv("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await LJ(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bd(e)||this._popupRedirectResolver;Jn(t,this,"argument-error"),this.redirectPersistenceManager=await yP.create(this,[Bd(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jn(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,n,r);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Jn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&yJ(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function QJ(i){return mv(i)}let CP=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yz(t=>this.observer=t)}get next(){return Jn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function WJ(i,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Bd);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function GJ(i,e,t,n){return mv(i).onAuthStateChanged(e,t,n)}new _v(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new _v(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new _v(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new _v(5e3,15e3);var wP="@firebase/auth",_P="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KJ=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Jn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YJ(i){wf(new Cf("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Jn(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:a,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E3(i)},u=new jJ(n,r,s,l);return WJ(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),wf(new Cf("auth-internal",e=>{const t=QJ(e.getProvider("auth").getImmediate());return(n=>new KJ(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wd(wP,_P,JJ(i)),Wd(wP,_P,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ=5*60;qz("authIdTokenMaxAge");YJ("Browser");/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const zh=typeof document<"u";function S3(i){return typeof i=="object"||"displayName"in i||"props"in i||"__vccOpts"in i}function XJ(i){return i.__esModule||i[Symbol.toStringTag]==="Module"||i.default&&S3(i.default)}const ti=Object.assign;function Ew(i,e){const t={};for(const n in e){const r=e[n];t[n]=Ba(r)?r.map(i):i(r)}return t}const Ug=()=>{},Ba=Array.isArray,T3=/#/g,eY=/&/g,tY=/\//g,nY=/=/g,iY=/\?/g,x3=/\+/g,rY=/%5B/g,sY=/%5D/g,P3=/%5E/g,oY=/%60/g,R3=/%7B/g,aY=/%7C/g,k3=/%7D/g,lY=/%20/g;function $E(i){return encodeURI(""+i).replace(aY,"|").replace(rY,"[").replace(sY,"]")}function uY(i){return $E(i).replace(R3,"{").replace(k3,"}").replace(P3,"^")}function s_(i){return $E(i).replace(x3,"%2B").replace(lY,"+").replace(T3,"%23").replace(eY,"%26").replace(oY,"`").replace(R3,"{").replace(k3,"}").replace(P3,"^")}function cY(i){return s_(i).replace(nY,"%3D")}function dY(i){return $E(i).replace(T3,"%23").replace(iY,"%3F")}function hY(i){return i==null?"":dY(i).replace(tY,"%2F")}function fm(i){try{return decodeURIComponent(""+i)}catch{}return""+i}const fY=/\/$/,pY=i=>i.replace(fY,"");function Sw(i,e,t="/"){let n,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=i(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=yY(n??e,t),{fullPath:n+(s&&"?")+s+o,path:n,query:r,hash:fm(o)}}function gY(i,e){const t=e.query?i(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function IP(i,e){return!e||!i.toLowerCase().startsWith(e.toLowerCase())?i:i.slice(e.length)||"/"}function mY(i,e,t){const n=e.matched.length-1,r=t.matched.length-1;return n>-1&&n===r&&If(e.matched[n],t.matched[r])&&A3(e.params,t.params)&&i(e.query)===i(t.query)&&e.hash===t.hash}function If(i,e){return(i.aliasOf||i)===(e.aliasOf||e)}function A3(i,e){if(Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(!vY(i[t],e[t]))return!1;return!0}function vY(i,e){return Ba(i)?EP(i,e):Ba(e)?EP(e,i):i===e}function EP(i,e){return Ba(e)?i.length===e.length&&i.every((t,n)=>t===e[n]):i.length===1&&i[0]===e}function yY(i,e){if(i.startsWith("/"))return i;if(!i)return e;const t=e.split("/"),n=i.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let s=t.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return t.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const Ku={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var pm;(function(i){i.pop="pop",i.push="push"})(pm||(pm={}));var Hg;(function(i){i.back="back",i.forward="forward",i.unknown=""})(Hg||(Hg={}));function bY(i){if(!i)if(zh){const e=document.querySelector("base");i=e&&e.getAttribute("href")||"/",i=i.replace(/^\w+:\/\/[^\/]+/,"")}else i="/";return i[0]!=="/"&&i[0]!=="#"&&(i="/"+i),pY(i)}const CY=/^[^#]+#/;function wY(i,e){return i.replace(CY,"#")+e}function _Y(i,e){const t=document.documentElement.getBoundingClientRect(),n=i.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const Tb=()=>({left:window.scrollX,top:window.scrollY});function IY(i){let e;if("el"in i){const t=i.el,n=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=_Y(r,i)}else e=i;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function SP(i,e){return(history.state?history.state.position-e:-1)+i}const o_=new Map;function EY(i,e){o_.set(i,e)}function SY(i){const e=o_.get(i);return o_.delete(i),e}let TY=()=>location.protocol+"//"+location.host;function V3(i,e){const{pathname:t,search:n,hash:r}=e,s=i.indexOf("#");if(s>-1){let a=r.includes(i.slice(s))?i.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),IP(l,"")}return IP(t,i)+n+r}function xY(i,e,t,n){let r=[],s=[],o=null;const a=({state:f})=>{const m=V3(i,location),b=t.value,_=e.value;let E=0;if(f){if(t.value=m,e.value=f,o&&o===b){o=null;return}E=_?f.position-_.position:0}else n(m);r.forEach(k=>{k(t.value,b,{delta:E,type:pm.pop,direction:E?E>0?Hg.forward:Hg.back:Hg.unknown})})};function l(){o=t.value}function u(f){r.push(f);const m=()=>{const b=r.indexOf(f);b>-1&&r.splice(b,1)};return s.push(m),m}function c(){const{history:f}=window;f.state&&f.replaceState(ti({},f.state,{scroll:Tb()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function TP(i,e,t,n=!1,r=!1){return{back:i,current:e,forward:t,replaced:n,position:window.history.length,scroll:r?Tb():null}}function PY(i){const{history:e,location:t}=window,n={value:V3(i,t)},r={value:e.state};r.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=i.indexOf("#"),f=h>-1?(t.host&&document.querySelector("base")?i:i.slice(h))+l:TY()+i+l;try{e[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(m){console.error(m),t[c?"replace":"assign"](f)}}function o(l,u){const c=ti({},e.state,TP(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),n.value=l}function a(l,u){const c=ti({},r.value,e.state,{forward:l,scroll:Tb()});s(c.current,c,!0);const h=ti({},TP(n.value,l,null),{position:c.position+1},u);s(l,h,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function RY(i){i=bY(i);const e=PY(i),t=xY(i,e.state,e.location,e.replace);function n(s,o=!0){o||t.pauseListeners(),history.go(s)}const r=ti({location:"",base:i,go:n,createHref:wY.bind(null,i)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function kY(i){return typeof i=="string"||i&&typeof i=="object"}function L3(i){return typeof i=="string"||typeof i=="symbol"}const O3=Symbol("");var xP;(function(i){i[i.aborted=4]="aborted",i[i.cancelled=8]="cancelled",i[i.duplicated=16]="duplicated"})(xP||(xP={}));function Ef(i,e){return ti(new Error,{type:i,[O3]:!0},e)}function Zl(i,e){return i instanceof Error&&O3 in i&&(e==null||!!(i.type&e))}const PP="[^/]+?",AY={sensitive:!1,strict:!1,start:!0,end:!0},VY=/[.+*?^${}()[\]/\\]/g;function LY(i,e){const t=ti({},AY,e),n=[];let r=t.start?"^":"";const s=[];for(const u of i){const c=u.length?[]:[90];t.strict&&!u.length&&(r+="/");for(let h=0;h<u.length;h++){const f=u[h];let m=40+(t.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(VY,"\\$&"),m+=40;else if(f.type===1){const{value:b,repeatable:_,optional:E,regexp:k}=f;s.push({name:b,repeatable:_,optional:E});const j=k||PP;if(j!==PP){m+=10;try{new RegExp(`(${j})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${b}" (${j}): `+q.message)}}let M=_?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;h||(M=E&&u.length<2?`(?:/${M})`:"/"+M),E&&(M+="?"),r+=M,m+=20,E&&(m+=-8),_&&(m+=-20),j===".*"&&(m+=-50)}c.push(m)}n.push(c)}if(t.strict&&t.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,t.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const m=c[f]||"",b=s[f-1];h[b.name]=m&&b.repeatable?m.split("/"):m}return h}function l(u){let c="",h=!1;for(const f of i){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const m of f)if(m.type===0)c+=m.value;else if(m.type===1){const{value:b,repeatable:_,optional:E}=m,k=b in u?u[b]:"";if(Ba(k)&&!_)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const j=Ba(k)?k.join("/"):k;if(!j)if(E)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${b}"`);c+=j}}return c||"/"}return{re:o,score:n,keys:s,parse:a,stringify:l}}function OY(i,e){let t=0;for(;t<i.length&&t<e.length;){const n=e[t]-i[t];if(n)return n;t++}return i.length<e.length?i.length===1&&i[0]===80?-1:1:i.length>e.length?e.length===1&&e[0]===80?1:-1:0}function D3(i,e){let t=0;const n=i.score,r=e.score;for(;t<n.length&&t<r.length;){const s=OY(n[t],r[t]);if(s)return s;t++}if(Math.abs(r.length-n.length)===1){if(RP(n))return 1;if(RP(r))return-1}return r.length-n.length}function RP(i){const e=i[i.length-1];return i.length>0&&e[e.length-1]<0}const DY={type:0,value:""},NY=/[a-zA-Z0-9_]/;function MY(i){if(!i)return[[]];if(i==="/")return[[DY]];if(!i.startsWith("/"))throw new Error(`Invalid path "${i}"`);function e(m){throw new Error(`ERR (${t})/"${u}": ${m}`)}let t=0,n=t;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(t===0?s.push({type:0,value:u}):t===1||t===2||t===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<i.length;){if(l=i[a++],l==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),t=1):f();break;case 4:f(),t=n;break;case 1:l==="("?t=2:NY.test(l)?f():(h(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:t=3:c+=l;break;case 3:h(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),r}function FY(i,e,t){const n=LY(MY(i.path),t),r=ti(n,{record:i,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function $Y(i,e){const t=[],n=new Map;e=LP({strict:!1,end:!0,sensitive:!1},e);function r(h){return n.get(h)}function s(h,f,m){const b=!m,_=AP(h);_.aliasOf=m&&m.record;const E=LP(e,h),k=[_];if("alias"in h){const q=typeof h.alias=="string"?[h.alias]:h.alias;for(const J of q)k.push(AP(ti({},_,{components:m?m.record.components:_.components,path:J,aliasOf:m?m.record:_})))}let j,M;for(const q of k){const{path:J}=q;if(f&&J[0]!=="/"){const Z=f.record.path,L=Z[Z.length-1]==="/"?"":"/";q.path=f.record.path+(J&&L+J)}if(j=FY(q,f,E),m?m.alias.push(j):(M=M||j,M!==j&&M.alias.push(j),b&&h.name&&!VP(j)&&o(h.name)),N3(j)&&l(j),_.children){const Z=_.children;for(let L=0;L<Z.length;L++)s(Z[L],j,m&&m.children[L])}m=m||j}return M?()=>{o(M)}:Ug}function o(h){if(L3(h)){const f=n.get(h);f&&(n.delete(h),t.splice(t.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=t.indexOf(h);f>-1&&(t.splice(f,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return t}function l(h){const f=UY(h,t);t.splice(f,0,h),h.record.name&&!VP(h)&&n.set(h.record.name,h)}function u(h,f){let m,b={},_,E;if("name"in h&&h.name){if(m=n.get(h.name),!m)throw Ef(1,{location:h});E=m.record.name,b=ti(kP(f.params,m.keys.filter(M=>!M.optional).concat(m.parent?m.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),h.params&&kP(h.params,m.keys.map(M=>M.name))),_=m.stringify(b)}else if(h.path!=null)_=h.path,m=t.find(M=>M.re.test(_)),m&&(b=m.parse(_),E=m.record.name);else{if(m=f.name?n.get(f.name):t.find(M=>M.re.test(f.path)),!m)throw Ef(1,{location:h,currentLocation:f});E=m.record.name,b=ti({},f.params,h.params),_=m.stringify(b)}const k=[];let j=m;for(;j;)k.unshift(j.record),j=j.parent;return{name:E,path:_,params:b,matched:k,meta:qY(k)}}i.forEach(h=>s(h));function c(){t.length=0,n.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function kP(i,e){const t={};for(const n of e)n in i&&(t[n]=i[n]);return t}function AP(i){const e={path:i.path,redirect:i.redirect,name:i.name,meta:i.meta||{},aliasOf:i.aliasOf,beforeEnter:i.beforeEnter,props:BY(i),children:i.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in i?i.components||null:i.component&&{default:i.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function BY(i){const e={},t=i.props||!1;if("component"in i)e.default=t;else for(const n in i.components)e[n]=typeof t=="object"?t[n]:t;return e}function VP(i){for(;i;){if(i.record.aliasOf)return!0;i=i.parent}return!1}function qY(i){return i.reduce((e,t)=>ti(e,t.meta),{})}function LP(i,e){const t={};for(const n in i)t[n]=n in e?e[n]:i[n];return t}function UY(i,e){let t=0,n=e.length;for(;t!==n;){const s=t+n>>1;D3(i,e[s])<0?n=s:t=s+1}const r=HY(i);return r&&(n=e.lastIndexOf(r,n-1)),n}function HY(i){let e=i;for(;e=e.parent;)if(N3(e)&&D3(i,e)===0)return e}function N3({record:i}){return!!(i.name||i.components&&Object.keys(i.components).length||i.redirect)}function zY(i){const e={};if(i===""||i==="?")return e;const n=(i[0]==="?"?i.slice(1):i).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(x3," "),o=s.indexOf("="),a=fm(o<0?s:s.slice(0,o)),l=o<0?null:fm(s.slice(o+1));if(a in e){let u=e[a];Ba(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function OP(i){let e="";for(let t in i){const n=i[t];if(t=cY(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(Ba(n)?n.map(s=>s&&s_(s)):[n&&s_(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function jY(i){const e={};for(const t in i){const n=i[t];n!==void 0&&(e[t]=Ba(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const M3=Symbol(""),DP=Symbol(""),xb=Symbol(""),BE=Symbol(""),a_=Symbol("");function Jp(){let i=[];function e(n){return i.push(n),()=>{const r=i.indexOf(n);r>-1&&i.splice(r,1)}}function t(){i=[]}return{add:e,list:()=>i.slice(),reset:t}}function QY(i,e,t){const n=()=>{i[e].delete(t)};ns(n),TB(n),xB(()=>{i[e].add(t)}),i[e].add(t)}function LBe(i){const e=Vo(M3,{}).value;e&&QY(e,"leaveGuards",i)}function uc(i,e,t,n,r,s=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Ef(4,{from:t,to:e})):f instanceof Error?l(f):kY(f)?l(Ef(2,{from:e,to:f})):(o&&n.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>i.call(n&&n.instances[r],e,t,u));let h=Promise.resolve(c);i.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function Tw(i,e,t,n,r=s=>s()){const s=[];for(const o of i)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(S3(l)){const c=(l.__vccOpts||l)[e];c&&s.push(uc(c,t,n,o,a,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=XJ(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const m=(h.__vccOpts||h)[e];return m&&uc(m,t,n,o,a,r)()}))}}return s}function NP(i){const e=Vo(xb),t=Vo(BE),n=Ze(()=>{const l=Xe(i.to);return e.resolve(l)}),r=Ze(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],h=t.matched;if(!c||!h.length)return-1;const f=h.findIndex(If.bind(null,c));if(f>-1)return f;const m=MP(l[u-2]);return u>1&&MP(c)===m&&h[h.length-1].path!==m?h.findIndex(If.bind(null,l[u-2])):f}),s=Ze(()=>r.value>-1&&YY(t.params,n.value.params)),o=Ze(()=>r.value>-1&&r.value===t.matched.length-1&&A3(t.params,n.value.params));function a(l={}){if(JY(l)){const u=e[Xe(i.replace)?"replace":"push"](Xe(i.to)).catch(Ug);return i.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Ze(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}function WY(i){return i.length===1?i[0]:i}const GY=Pe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:NP,setup(i,{slots:e}){const t=fv(NP(i)),{options:n}=Vo(xb),r=Ze(()=>({[FP(i.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[FP(i.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&WY(e.default(t));return i.custom?s:ob("a",{"aria-current":t.isExactActive?i.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},s)}}}),KY=GY;function JY(i){if(!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)&&!i.defaultPrevented&&!(i.button!==void 0&&i.button!==0)){if(i.currentTarget&&i.currentTarget.getAttribute){const e=i.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return i.preventDefault&&i.preventDefault(),!0}}function YY(i,e){for(const t in e){const n=e[t],r=i[t];if(typeof n=="string"){if(n!==r)return!1}else if(!Ba(r)||r.length!==n.length||n.some((s,o)=>s!==r[o]))return!1}return!0}function MP(i){return i?i.aliasOf?i.aliasOf.path:i.path:""}const FP=(i,e,t)=>i??e??t,ZY=Pe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(i,{attrs:e,slots:t}){const n=Vo(a_),r=Ze(()=>i.route||n.value),s=Vo(DP,0),o=Ze(()=>{let u=Xe(s);const{matched:c}=r.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=Ze(()=>r.value.matched[o.value]);cw(DP,Ze(()=>o.value+1)),cw(M3,a),cw(a_,r);const l=Qe();return Ji(()=>[l.value,a.value,i.name],([u,c,h],[f,m,b])=>{c&&(c.instances[h]=u,m&&m!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=m.leaveGuards),c.updateGuards.size||(c.updateGuards=m.updateGuards))),u&&c&&(!m||!If(c,m)||!f)&&(c.enterCallbacks[h]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=r.value,c=i.name,h=a.value,f=h&&h.components[c];if(!f)return $P(t.default,{Component:f,route:u});const m=h.props[c],b=m?m===!0?u.params:typeof m=="function"?m(u):m:null,E=ob(f,ti({},b,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return $P(t.default,{Component:E,route:u})||E}}});function $P(i,e){if(!i)return null;const t=i(e);return t.length===1?t[0]:t}const XY=ZY;function eZ(i){const e=$Y(i.routes,i),t=i.parseQuery||zY,n=i.stringifyQuery||OP,r=i.history,s=Jp(),o=Jp(),a=Jp(),l=Pl(Ku);let u=Ku;zh&&i.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ew.bind(null,fe=>""+fe),h=Ew.bind(null,hY),f=Ew.bind(null,fm);function m(fe,ve){let Ee,$e;return L3(fe)?(Ee=e.getRecordMatcher(fe),$e=ve):$e=fe,e.addRoute($e,Ee)}function b(fe){const ve=e.getRecordMatcher(fe);ve&&e.removeRoute(ve)}function _(){return e.getRoutes().map(fe=>fe.record)}function E(fe){return!!e.getRecordMatcher(fe)}function k(fe,ve){if(ve=ti({},ve||l.value),typeof fe=="string"){const de=Sw(t,fe,ve.path),Ke=e.resolve({path:de.path},ve),$t=r.createHref(de.fullPath);return ti(de,Ke,{params:f(Ke.params),hash:fm(de.hash),redirectedFrom:void 0,href:$t})}let Ee;if(fe.path!=null)Ee=ti({},fe,{path:Sw(t,fe.path,ve.path).path});else{const de=ti({},fe.params);for(const Ke in de)de[Ke]==null&&delete de[Ke];Ee=ti({},fe,{params:h(de)}),ve.params=h(ve.params)}const $e=e.resolve(Ee,ve),Fe=fe.hash||"";$e.params=c(f($e.params));const Vt=gY(n,ti({},fe,{hash:uY(Fe),path:$e.path})),at=r.createHref(Vt);return ti({fullPath:Vt,hash:Fe,query:n===OP?jY(fe.query):fe.query||{}},$e,{redirectedFrom:void 0,href:at})}function j(fe){return typeof fe=="string"?Sw(t,fe,l.value.path):ti({},fe)}function M(fe,ve){if(u!==fe)return Ef(8,{from:ve,to:fe})}function q(fe){return L(fe)}function J(fe){return q(ti(j(fe),{replace:!0}))}function Z(fe){const ve=fe.matched[fe.matched.length-1];if(ve&&ve.redirect){const{redirect:Ee}=ve;let $e=typeof Ee=="function"?Ee(fe):Ee;return typeof $e=="string"&&($e=$e.includes("?")||$e.includes("#")?$e=j($e):{path:$e},$e.params={}),ti({query:fe.query,hash:fe.hash,params:$e.path!=null?{}:fe.params},$e)}}function L(fe,ve){const Ee=u=k(fe),$e=l.value,Fe=fe.state,Vt=fe.force,at=fe.replace===!0,de=Z(Ee);if(de)return L(ti(j(de),{state:typeof de=="object"?ti({},Fe,de.state):Fe,force:Vt,replace:at}),ve||Ee);const Ke=Ee;Ke.redirectedFrom=ve;let $t;return!Vt&&mY(n,$e,Ee)&&($t=Ef(16,{to:Ke,from:$e}),We($e,$e,!0,!1)),($t?Promise.resolve($t):R(Ke,$e)).catch(Jt=>Zl(Jt)?Zl(Jt,2)?Jt:Ue(Jt):Me(Jt,Ke,$e)).then(Jt=>{if(Jt){if(Zl(Jt,2))return L(ti({replace:at},j(Jt.to),{state:typeof Jt.to=="object"?ti({},Fe,Jt.to.state):Fe,force:Vt}),ve||Ke)}else Jt=H(Ke,$e,!0,at,Fe);return U(Ke,$e,Jt),Jt})}function y(fe,ve){const Ee=M(fe,ve);return Ee?Promise.reject(Ee):Promise.resolve()}function w(fe){const ve=Ct.values().next().value;return ve&&typeof ve.runWithContext=="function"?ve.runWithContext(fe):fe()}function R(fe,ve){let Ee;const[$e,Fe,Vt]=tZ(fe,ve);Ee=Tw($e.reverse(),"beforeRouteLeave",fe,ve);for(const de of $e)de.leaveGuards.forEach(Ke=>{Ee.push(uc(Ke,fe,ve))});const at=y.bind(null,fe,ve);return Ee.push(at),Dt(Ee).then(()=>{Ee=[];for(const de of s.list())Ee.push(uc(de,fe,ve));return Ee.push(at),Dt(Ee)}).then(()=>{Ee=Tw(Fe,"beforeRouteUpdate",fe,ve);for(const de of Fe)de.updateGuards.forEach(Ke=>{Ee.push(uc(Ke,fe,ve))});return Ee.push(at),Dt(Ee)}).then(()=>{Ee=[];for(const de of Vt)if(de.beforeEnter)if(Ba(de.beforeEnter))for(const Ke of de.beforeEnter)Ee.push(uc(Ke,fe,ve));else Ee.push(uc(de.beforeEnter,fe,ve));return Ee.push(at),Dt(Ee)}).then(()=>(fe.matched.forEach(de=>de.enterCallbacks={}),Ee=Tw(Vt,"beforeRouteEnter",fe,ve,w),Ee.push(at),Dt(Ee))).then(()=>{Ee=[];for(const de of o.list())Ee.push(uc(de,fe,ve));return Ee.push(at),Dt(Ee)}).catch(de=>Zl(de,8)?de:Promise.reject(de))}function U(fe,ve,Ee){a.list().forEach($e=>w(()=>$e(fe,ve,Ee)))}function H(fe,ve,Ee,$e,Fe){const Vt=M(fe,ve);if(Vt)return Vt;const at=ve===Ku,de=zh?history.state:{};Ee&&($e||at?r.replace(fe.fullPath,ti({scroll:at&&de&&de.scroll},Fe)):r.push(fe.fullPath,Fe)),l.value=fe,We(fe,ve,Ee,at),Ue()}let B;function Oe(){B||(B=r.listen((fe,ve,Ee)=>{if(!It.listening)return;const $e=k(fe),Fe=Z($e);if(Fe){L(ti(Fe,{replace:!0,force:!0}),$e).catch(Ug);return}u=$e;const Vt=l.value;zh&&EY(SP(Vt.fullPath,Ee.delta),Tb()),R($e,Vt).catch(at=>Zl(at,12)?at:Zl(at,2)?(L(ti(j(at.to),{force:!0}),$e).then(de=>{Zl(de,20)&&!Ee.delta&&Ee.type===pm.pop&&r.go(-1,!1)}).catch(Ug),Promise.reject()):(Ee.delta&&r.go(-Ee.delta,!1),Me(at,$e,Vt))).then(at=>{at=at||H($e,Vt,!1),at&&(Ee.delta&&!Zl(at,8)?r.go(-Ee.delta,!1):Ee.type===pm.pop&&Zl(at,20)&&r.go(-1,!1)),U($e,Vt,at)}).catch(Ug)}))}let De=Jp(),tt=Jp(),Ne;function Me(fe,ve,Ee){Ue(fe);const $e=tt.list();return $e.length?$e.forEach(Fe=>Fe(fe,ve,Ee)):console.error(fe),Promise.reject(fe)}function qe(){return Ne&&l.value!==Ku?Promise.resolve():new Promise((fe,ve)=>{De.add([fe,ve])})}function Ue(fe){return Ne||(Ne=!fe,Oe(),De.list().forEach(([ve,Ee])=>fe?Ee(fe):ve()),De.reset()),fe}function We(fe,ve,Ee,$e){const{scrollBehavior:Fe}=i;if(!zh||!Fe)return Promise.resolve();const Vt=!Ee&&SY(SP(fe.fullPath,0))||($e||!Ee)&&history.state&&history.state.scroll||null;return Oc().then(()=>Fe(fe,ve,Vt)).then(at=>at&&IY(at)).catch(at=>Me(at,fe,ve))}const Re=fe=>r.go(fe);let Le;const Ct=new Set,It={currentRoute:l,listening:!0,addRoute:m,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:_,resolve:k,options:i,push:q,replace:J,go:Re,back:()=>Re(-1),forward:()=>Re(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:tt.add,isReady:qe,install(fe){const ve=this;fe.component("RouterLink",KY),fe.component("RouterView",XY),fe.config.globalProperties.$router=ve,Object.defineProperty(fe.config.globalProperties,"$route",{enumerable:!0,get:()=>Xe(l)}),zh&&!Le&&l.value===Ku&&(Le=!0,q(r.location).catch(Fe=>{}));const Ee={};for(const Fe in Ku)Object.defineProperty(Ee,Fe,{get:()=>l.value[Fe],enumerable:!0});fe.provide(xb,ve),fe.provide(BE,d7(Ee)),fe.provide(a_,l);const $e=fe.unmount;Ct.add(fe),fe.unmount=function(){Ct.delete(fe),Ct.size<1&&(u=Ku,B&&B(),B=null,l.value=Ku,Le=!1,Ne=!1),$e()}}};function Dt(fe){return fe.reduce((ve,Ee)=>ve.then(()=>w(Ee)),Promise.resolve())}return It}function tZ(i,e){const t=[],n=[],r=[],s=Math.max(e.matched.length,i.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(i.matched.find(u=>If(u,a))?n.push(a):t.push(a));const l=i.matched[o];l&&(e.matched.find(u=>If(u,l))||r.push(l))}return[t,n,r]}function Pb(){return Vo(xb)}function nZ(i){return Vo(BE)}var iZ=S9,rZ=DE,sZ=yv,oZ=qa,aZ=Cv,lZ=mb,uZ=yb,cZ=vb,dZ="[object Map]",hZ="[object Set]",fZ=Object.prototype,pZ=fZ.hasOwnProperty;function gZ(i){if(i==null)return!0;if(aZ(i)&&(oZ(i)||typeof i=="string"||typeof i.splice=="function"||lZ(i)||cZ(i)||sZ(i)))return!i.length;var e=rZ(i);if(e==dZ||e==hZ)return!i.size;if(uZ(i))return!iZ(i).length;for(var t in i)if(pZ.call(i,t))return!1;return!0}var qE=gZ;const UE=Mo(qE);function mZ(i,e){for(var t=-1,n=e.length,r=i.length;++t<n;)i[r+t]=e[t];return i}var F3=mZ,BP=vv,vZ=yv,yZ=qa,qP=BP?BP.isConcatSpreadable:void 0;function bZ(i){return yZ(i)||vZ(i)||!!(qP&&i&&i[qP])}var CZ=bZ,wZ=F3,_Z=CZ;function $3(i,e,t,n,r){var s=-1,o=i.length;for(t||(t=_Z),r||(r=[]);++s<o;){var a=i[s];e>0&&t(a)?e>1?$3(a,e-1,t,n,r):wZ(r,a):n||(r[r.length]=a)}return r}var HE=$3;function IZ(i,e,t){switch(t.length){case 0:return i.call(e);case 1:return i.call(e,t[0]);case 2:return i.call(e,t[0],t[1]);case 3:return i.call(e,t[0],t[1],t[2])}return i.apply(e,t)}var EZ=IZ,SZ=EZ,UP=Math.max;function TZ(i,e,t){return e=UP(e===void 0?i.length-1:e,0),function(){for(var n=arguments,r=-1,s=UP(n.length-e,0),o=Array(s);++r<s;)o[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=t(o),SZ(i,this,a)}}var B3=TZ,xZ=bh,PZ=function(){try{var i=xZ(Object,"defineProperty");return i({},"",{}),i}catch{}}(),q3=PZ,RZ=y9,HP=q3,kZ=Cb,AZ=HP?function(i,e){return HP(i,"toString",{configurable:!0,enumerable:!1,value:RZ(e),writable:!0})}:kZ,VZ=AZ,LZ=800,OZ=16,DZ=Date.now;function NZ(i){var e=0,t=0;return function(){var n=DZ(),r=OZ-(n-t);if(t=n,r>0){if(++e>=LZ)return arguments[0]}else e=0;return i.apply(void 0,arguments)}}var MZ=NZ,FZ=VZ,$Z=MZ,BZ=$Z(FZ),U3=BZ,qZ=Cb,UZ=B3,HZ=U3;function zZ(i,e){return HZ(UZ(i,e,qZ),i+"")}var Iv=zZ,jZ=bh,QZ=jZ(Object,"create"),Rb=QZ,zP=Rb;function WZ(){this.__data__=zP?zP(null):{},this.size=0}var GZ=WZ;function KZ(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var JZ=KZ,YZ=Rb,ZZ="__lodash_hash_undefined__",XZ=Object.prototype,eX=XZ.hasOwnProperty;function tX(i){var e=this.__data__;if(YZ){var t=e[i];return t===ZZ?void 0:t}return eX.call(e,i)?e[i]:void 0}var nX=tX,iX=Rb,rX=Object.prototype,sX=rX.hasOwnProperty;function oX(i){var e=this.__data__;return iX?e[i]!==void 0:sX.call(e,i)}var aX=oX,lX=Rb,uX="__lodash_hash_undefined__";function cX(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=lX&&e===void 0?uX:e,this}var dX=cX,hX=GZ,fX=JZ,pX=nX,gX=aX,mX=dX;function sp(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}sp.prototype.clear=hX;sp.prototype.delete=fX;sp.prototype.get=pX;sp.prototype.has=gX;sp.prototype.set=mX;var vX=sp;function yX(){this.__data__=[],this.size=0}var bX=yX;function CX(i,e){return i===e||i!==i&&e!==e}var Ev=CX,wX=Ev;function _X(i,e){for(var t=i.length;t--;)if(wX(i[t][0],e))return t;return-1}var kb=_X,IX=kb,EX=Array.prototype,SX=EX.splice;function TX(i){var e=this.__data__,t=IX(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():SX.call(e,t,1),--this.size,!0}var xX=TX,PX=kb;function RX(i){var e=this.__data__,t=PX(e,i);return t<0?void 0:e[t][1]}var kX=RX,AX=kb;function VX(i){return AX(this.__data__,i)>-1}var LX=VX,OX=kb;function DX(i,e){var t=this.__data__,n=OX(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}var NX=DX,MX=bX,FX=xX,$X=kX,BX=LX,qX=NX;function op(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}op.prototype.clear=MX;op.prototype.delete=FX;op.prototype.get=$X;op.prototype.has=BX;op.prototype.set=qX;var Ab=op,jP=vX,UX=Ab,HX=OE;function zX(){this.size=0,this.__data__={hash:new jP,map:new(HX||UX),string:new jP}}var jX=zX;function QX(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}var WX=QX,GX=WX;function KX(i,e){var t=i.__data__;return GX(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Vb=KX,JX=Vb;function YX(i){var e=JX(this,i).delete(i);return this.size-=e?1:0,e}var ZX=YX,XX=Vb;function eee(i){return XX(this,i).get(i)}var tee=eee,nee=Vb;function iee(i){return nee(this,i).has(i)}var ree=iee,see=Vb;function oee(i,e){var t=see(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}var aee=oee,lee=jX,uee=ZX,cee=tee,dee=ree,hee=aee;function ap(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}ap.prototype.clear=lee;ap.prototype.delete=uee;ap.prototype.get=cee;ap.prototype.has=dee;ap.prototype.set=hee;var zE=ap,fee="__lodash_hash_undefined__";function pee(i){return this.__data__.set(i,fee),this}var gee=pee;function mee(i){return this.__data__.has(i)}var vee=mee,yee=zE,bee=gee,Cee=vee;function e0(i){var e=-1,t=i==null?0:i.length;for(this.__data__=new yee;++e<t;)this.add(i[e])}e0.prototype.add=e0.prototype.push=bee;e0.prototype.has=Cee;var Lb=e0;function wee(i,e,t,n){for(var r=i.length,s=t+(n?1:-1);n?s--:++s<r;)if(e(i[s],s,i))return s;return-1}var _ee=wee;function Iee(i){return i!==i}var Eee=Iee;function See(i,e,t){for(var n=t-1,r=i.length;++n<r;)if(i[n]===e)return n;return-1}var Tee=See,xee=_ee,Pee=Eee,Ree=Tee;function kee(i,e,t){return e===e?Ree(i,e,t):xee(i,Pee,t)}var Aee=kee,Vee=Aee;function Lee(i,e){var t=i==null?0:i.length;return!!t&&Vee(i,e,0)>-1}var jE=Lee;function Oee(i,e,t){for(var n=-1,r=i==null?0:i.length;++n<r;)if(t(e,i[n]))return!0;return!1}var QE=Oee;function Dee(i,e){return i.has(e)}var Ob=Dee;function Nee(){}var Mee=Nee;function Fee(i){var e=-1,t=Array(i.size);return i.forEach(function(n){t[++e]=n}),t}var WE=Fee,xw=P9,$ee=Mee,Bee=WE,qee=1/0,Uee=xw&&1/Bee(new xw([,-0]))[1]==qee?function(i){return new xw(i)}:$ee,Hee=Uee,zee=Lb,jee=jE,Qee=QE,Wee=Ob,Gee=Hee,Kee=WE,Jee=200;function Yee(i,e,t){var n=-1,r=jee,s=i.length,o=!0,a=[],l=a;if(t)o=!1,r=Qee;else if(s>=Jee){var u=e?null:Gee(i);if(u)return Kee(u);o=!1,r=Wee,l=new zee}else l=e?[]:a;e:for(;++n<s;){var c=i[n],h=e?e(c):c;if(c=t||c!==0?c:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),a.push(c)}else r(l,h,t)||(l!==a&&l.push(h),a.push(c))}return a}var Zee=Yee,Xee=Cv,ete=yh;function tte(i){return ete(i)&&Xee(i)}var Sv=tte,nte=HE,ite=Iv,rte=Zee,ste=Sv,ote=ite(function(i){return rte(nte(i,1,ste,!0))}),ate=ote;const lte=Mo(ate);var H3={},Db={},ute=ip,cte=yh,dte="[object Symbol]";function hte(i){return typeof i=="symbol"||cte(i)&&ute(i)==dte}var GE=hte,fte=qa,pte=GE,gte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mte=/^\w*$/;function vte(i,e){if(fte(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||pte(i)?!0:mte.test(i)||!gte.test(i)||e!=null&&i in Object(e)}var KE=vte,z3=zE,yte="Expected a function";function JE(i,e){if(typeof i!="function"||e!=null&&typeof e!="function")throw new TypeError(yte);var t=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=t.cache;if(s.has(r))return s.get(r);var o=i.apply(this,n);return t.cache=s.set(r,o)||s,o};return t.cache=new(JE.Cache||z3),t}JE.Cache=z3;var bte=JE,Cte=bte,wte=500;function _te(i){var e=Cte(i,function(n){return t.size===wte&&t.clear(),n}),t=e.cache;return e}var Ite=_te,Ete=Ite,Ste=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tte=/\\(\\)?/g,xte=Ete(function(i){var e=[];return i.charCodeAt(0)===46&&e.push(""),i.replace(Ste,function(t,n,r,s){e.push(r?s.replace(Tte,"$1"):n||t)}),e}),Pte=xte,QP=vv,Rte=wv,kte=qa,Ate=GE,WP=QP?QP.prototype:void 0,GP=WP?WP.toString:void 0;function j3(i){if(typeof i=="string")return i;if(kte(i))return Rte(i,j3)+"";if(Ate(i))return GP?GP.call(i):"";var e=i+"";return e=="0"&&1/i==-1/0?"-0":e}var Vte=j3,Lte=Vte;function Ote(i){return i==null?"":Lte(i)}var Dte=Ote,Nte=qa,Mte=KE,Fte=Pte,$te=Dte;function Bte(i,e){return Nte(i)?i:Mte(i,e)?[i]:Fte($te(i))}var Tv=Bte,qte=GE;function Ute(i){if(typeof i=="string"||qte(i))return i;var e=i+"";return e=="0"&&1/i==-1/0?"-0":e}var lp=Ute,Hte=Tv,zte=lp;function jte(i,e){e=Hte(e,i);for(var t=0,n=e.length;i!=null&&t<n;)i=i[zte(e[t++])];return t&&t==n?i:void 0}var Nb=jte,Qte=Nb;function Wte(i,e,t){var n=i==null?void 0:Qte(i,e);return n===void 0?t:n}var Mb=Wte;const l_=Mo(Mb);var Fb={},dt={},je={},bt={},KP={};Object.defineProperty(bt,"__esModule",{value:!0});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=function(i,e){if(!i)throw W3(e)},W3=function(i){return new Error("Firebase Database ("+t0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Gte=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const r=i[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=i[t++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=i[t++],o=i[t++],a=i[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=i[t++],o=i[t++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){const s=i[r],o=r+1<i.length,a=o?i[r+1]:0,l=r+2<i.length,u=l?i[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),n.push(t[c],t[h],t[f],t[m])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(G3(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Gte(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){const s=t[i.charAt(r++)],a=r<i.length?t[i.charAt(r)]:0;++r;const u=r<i.length?t[i.charAt(r)]:64;++r;const h=r<i.length?t[i.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new K3;const f=s<<2|a>>4;if(n.push(f),u!==64){const m=a<<4&240|u>>2;if(n.push(m),h!==64){const b=u<<6&192|h;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class K3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J3=function(i){const e=G3(i);return YE.encodeByteArray(e,!0)},u_=function(i){return J3(i).replace(/\./g,"")},n0=function(i){try{return YE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kte(i){return ZE(void 0,i)}function ZE(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Jte(t)||(i[t]=ZE(i[t],e[t]));return i}function Jte(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Zi<"u")return Zi;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte=()=>Y3().__FIREBASE_DEFAULTS__,Zte=()=>{if(typeof lm>"u"||typeof KP>"u")return;const i=KP.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Xte=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&n0(i[1]);return e&&JSON.parse(e)},xv=()=>{try{return Yte()||Zte()||Xte()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Z3=i=>{var e,t;return(t=(e=xv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},ene=i=>{const e=Z3(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},tne=()=>{var i;return(i=xv())===null||i===void 0?void 0:i.config},nne=i=>{var e;return(e=xv())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",r=i.iat||0,s=i.sub||i.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},i);return[u_(JSON.stringify(t)),u_(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pv())}function e6(){var i;const e=(i=xv())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(Zi.process)==="[object process]"}catch{return!1}}function sne(){return typeof self=="object"&&self.self===self}function one(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ane(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lne(){return Pv().indexOf("Electron/")>=0}function une(){const i=Pv();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cne(){return Pv().indexOf("MSAppHost/")>=0}function dne(){return t0.NODE_CLIENT===!0||t0.NODE_ADMIN===!0}function hne(){return!e6()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fne(){try{return typeof indexedDB=="object"}catch{return!1}}function pne(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function gne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mne="FirebaseError";class $b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=mne,Object.setPrototypeOf(this,$b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t6.prototype.create)}}class t6{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?vne(s,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new $b(r,a,n)}}function vne(i,e){return i.replace(yne,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const yne=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(i){return JSON.parse(i)}function bne(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(i){let e={},t={},n={},r="";try{const s=i.split(".");e=c_(n0(s[0])||""),t=c_(n0(s[1])||""),r=s[2],n=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:n,signature:r}},Cne=function(i){const e=Rv(i).claims,t=Math.floor(new Date().getTime()/1e3);let n=0,r=0;return typeof e=="object"&&(e.hasOwnProperty("nbf")?n=e.nbf:e.hasOwnProperty("iat")&&(n=e.iat),e.hasOwnProperty("exp")?r=e.exp:r=n+86400),!!t&&!!n&&!!r&&t>=n&&t<=r},wne=function(i){const e=Rv(i).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},_ne=function(i){const e=Rv(i),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Ine=function(i){const e=Rv(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ene(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Sne(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function Tne(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function xne(i,e,t){const n={};for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=e.call(t,i[r],r,i));return n}function n6(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const s=i[r],o=e[r];if(JP(s)&&JP(o)){if(!n6(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function JP(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pne(i,e=2e3){const t=new X3;return setTimeout(()=>t.reject("timeout!"),e),i.then(t.resolve,t.reject),t.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rne(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function kne(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ane(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)n[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)n[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){const f=n[h-3]^n[h-8]^n[h-14]^n[h-16];n[h]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(r<<5|r>>>27)+u+l+c+n[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const n=t-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<t;){if(o===0)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<t;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[n]=this.chain_[r]>>s&255,++n;return e}}function Lne(i,e){const t=new One(i,e);return t.subscribe.bind(t)}class One{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");Nne(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:n},r.next===void 0&&(r.next=Pw),r.error===void 0&&(r.error=Pw),r.complete===void 0&&(r.complete=Pw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dne(i,e){return(...t)=>{Promise.resolve(!0).then(()=>{i(...t)}).catch(n=>{e&&e(n)})}}function Nne(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Pw(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne=function(i,e,t,n){let r;if(n<e?r="at least "+e:n>t&&(r=t===0?"none":"no more than "+t),r){const s=i+" failed: Was called with "+n+(n===1?" argument.":" arguments.")+" Expects "+r+".";throw new Error(s)}};function Bb(i,e){return`${i} failed: ${e} argument `}function Fne(i,e,t){if(!(t&&!e)&&typeof e!="string")throw new Error(Bb(i,"namespace")+"must be a valid firebase namespace.")}function $ne(i,e,t,n){if(!(n&&!t)&&typeof t!="function")throw new Error(Bb(i,e)+"must be a valid function.")}function Bne(i,e,t,n){if(!(n&&!t)&&(typeof t!="object"||t===null))throw new Error(Bb(i,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);if(r>=55296&&r<=56319){const s=r-55296;n++,Q3(n<i.length,"Surrogate pair missing trail surrogate.");const o=i.charCodeAt(n)-56320;r=65536+(s<<10)+o}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Une=function(i){let e=0;for(let t=0;t<i.length;t++){const n=i.charCodeAt(t);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hne=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne=1e3,jne=2,i6=4*60*60*1e3,r6=.5;function Qne(i,e=zne,t=jne){const n=e*Math.pow(t,i),r=Math.round(r6*n*(Math.random()-.5)*2);return Math.min(i6,n+r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(i){return Number.isFinite(i)?i+Gne(i):`${i}`}function Gne(i){i=Math.abs(i);const e=i%100;if(e>=10&&e<=20)return"th";const t=i%10;return t===1?"st":t===2?"nd":t===3?"rd":"th"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kne(i){return i&&i._delegate?i._delegate:i}bt.CONSTANTS=t0;bt.DecodeBase64StringError=K3;bt.Deferred=X3;bt.ErrorFactory=t6;bt.FirebaseError=$b;bt.MAX_VALUE_MILLIS=i6;bt.RANDOM_FACTOR=r6;bt.Sha1=Vne;bt.areCookiesEnabled=gne;bt.assert=Q3;bt.assertionError=W3;bt.async=Dne;bt.base64=YE;bt.base64Decode=n0;bt.base64Encode=J3;bt.base64urlEncodeWithoutPadding=u_;bt.calculateBackoffMillis=Qne;bt.contains=Ene;bt.createMockUserToken=ine;bt.createSubscribe=Lne;bt.decode=Rv;bt.deepCopy=Kte;bt.deepEqual=n6;bt.deepExtend=ZE;bt.errorPrefix=Bb;bt.extractQuerystring=Ane;bt.getDefaultAppConfig=tne;bt.getDefaultEmulatorHost=Z3;bt.getDefaultEmulatorHostnameAndPort=ene;bt.getDefaults=xv;bt.getExperimentalSetting=nne;bt.getGlobal=Y3;bt.getModularInstance=Kne;bt.getUA=Pv;bt.isAdmin=Ine;bt.isBrowser=sne;bt.isBrowserExtension=one;bt.isElectron=lne;bt.isEmpty=Tne;bt.isIE=une;bt.isIndexedDBAvailable=fne;bt.isMobileCordova=rne;bt.isNode=e6;bt.isNodeSdk=dne;bt.isReactNative=ane;bt.isSafari=hne;bt.isUWP=cne;bt.isValidFormat=_ne;bt.isValidTimestamp=Cne;bt.issuedAtTime=wne;bt.jsonEval=c_;bt.map=xne;bt.ordinal=Wne;bt.promiseWithTimeout=Pne;bt.querystring=Rne;bt.querystringDecode=kne;bt.safeGet=Sne;bt.stringLength=Une;bt.stringToByteArray=qne;bt.stringify=bne;bt.uuidv4=Hne;bt.validateArgCount=Mne;bt.validateCallback=$ne;bt.validateContextObject=Bne;bt.validateIndexedDBOpenable=pne;bt.validateNamespace=Fne;var Xc={},Ua={};const up=lb(mJ);Object.defineProperty(Ua,"__esModule",{value:!0});var _a=up,Jne=bt,Yne=function(){function i(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return i.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},i.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},i.prototype.setServiceProps=function(e){return this.serviceProps=e,this},i.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},i}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s6=function(){function i(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return i.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Jne.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise},i.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error("Service ".concat(this.name," is not available"))}},i.prototype.getComponent=function(){return this.component},i.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(Xne(e))try{this.getOrInitializeService({instanceIdentifier:Rd})}catch{}try{for(var r=_a.__values(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var o=_a.__read(s.value,2),a=o[0],l=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});l.resolve(c)}catch{}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},i.prototype.clearInstance=function(e){e===void 0&&(e=Rd),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},i.prototype.delete=function(){return _a.__awaiter(this,void 0,void 0,function(){var e;return _a.__generator(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(_a.__spreadArray(_a.__spreadArray([],_a.__read(e.filter(function(n){return"INTERNAL"in n}).map(function(n){return n.INTERNAL.delete()})),!1),_a.__read(e.filter(function(n){return"_delete"in n}).map(function(n){return n._delete()})),!1))];case 1:return t.sent(),[2]}})})},i.prototype.isComponentSet=function(){return this.component!=null},i.prototype.isInitialized=function(e){return e===void 0&&(e=Rd),this.instances.has(e)},i.prototype.getOptions=function(e){return e===void 0&&(e=Rd),this.instancesOptions.get(e)||{}},i.prototype.initialize=function(e){var t,n;e===void 0&&(e={});var r=e.options,s=r===void 0?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error("".concat(this.name,"(").concat(o,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var l=_a.__values(this.instancesDeferred.entries()),u=l.next();!u.done;u=l.next()){var c=_a.__read(u.value,2),h=c[0],f=c[1],m=this.normalizeInstanceIdentifier(h);o===m&&f.resolve(a)}}catch(b){t={error:b}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},i.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),s=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);var o=this.instances.get(r);return o&&e(o,r),function(){s.delete(e)}},i.prototype.invokeOnInitCallbacks=function(e,t){var n,r,s=this.onInitCallbacks.get(t);if(s)try{for(var o=_a.__values(s),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(e,t)}catch{}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},i.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=n===void 0?{}:n,s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Zne(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null},i.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=Rd),this.component?this.component.multipleInstances?e:Rd:e},i.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},i}();function Zne(i){return i===Rd?void 0:i}function Xne(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eie=function(){function i(e){this.name=e,this.providers=new Map}return i.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)},i.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},i.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s6(e,this);return this.providers.set(e,t),t},i.prototype.getProviders=function(){return Array.from(this.providers.values())},i}();Ua.Component=Yne;Ua.ComponentContainer=eie;Ua.Provider=s6;var kv={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=up;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t,n=[];i.LogLevel=void 0,function(h){h[h.DEBUG=0]="DEBUG",h[h.VERBOSE=1]="VERBOSE",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.SILENT=5]="SILENT"}(i.LogLevel||(i.LogLevel={}));var r={debug:i.LogLevel.DEBUG,verbose:i.LogLevel.VERBOSE,info:i.LogLevel.INFO,warn:i.LogLevel.WARN,error:i.LogLevel.ERROR,silent:i.LogLevel.SILENT},s=i.LogLevel.INFO,o=(t={},t[i.LogLevel.DEBUG]="log",t[i.LogLevel.VERBOSE]="log",t[i.LogLevel.INFO]="info",t[i.LogLevel.WARN]="warn",t[i.LogLevel.ERROR]="error",t),a=function(h,f){for(var m=[],b=2;b<arguments.length;b++)m[b-2]=arguments[b];if(!(f<h.logLevel)){var _=new Date().toISOString(),E=o[f];if(E)console[E].apply(console,e.__spreadArray(["[".concat(_,"]  ").concat(h.name,":")],m,!1));else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(f,")"))}},l=function(){function h(f){this.name=f,this._logLevel=s,this._logHandler=a,this._userLogHandler=null,n.push(this)}return Object.defineProperty(h.prototype,"logLevel",{get:function(){return this._logLevel},set:function(f){if(!(f in i.LogLevel))throw new TypeError('Invalid value "'.concat(f,'" assigned to `logLevel`'));this._logLevel=f},enumerable:!1,configurable:!0}),h.prototype.setLogLevel=function(f){this._logLevel=typeof f=="string"?r[f]:f},Object.defineProperty(h.prototype,"logHandler",{get:function(){return this._logHandler},set:function(f){if(typeof f!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=f},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(f){this._userLogHandler=f},enumerable:!1,configurable:!0}),h.prototype.debug=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,e.__spreadArray([this,i.LogLevel.DEBUG],f,!1)),this._logHandler.apply(this,e.__spreadArray([this,i.LogLevel.DEBUG],f,!1))},h.prototype.log=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,e.__spreadArray([this,i.LogLevel.VERBOSE],f,!1)),this._logHandler.apply(this,e.__spreadArray([this,i.LogLevel.VERBOSE],f,!1))},h.prototype.info=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,e.__spreadArray([this,i.LogLevel.INFO],f,!1)),this._logHandler.apply(this,e.__spreadArray([this,i.LogLevel.INFO],f,!1))},h.prototype.warn=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,e.__spreadArray([this,i.LogLevel.WARN],f,!1)),this._logHandler.apply(this,e.__spreadArray([this,i.LogLevel.WARN],f,!1))},h.prototype.error=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,e.__spreadArray([this,i.LogLevel.ERROR],f,!1)),this._logHandler.apply(this,e.__spreadArray([this,i.LogLevel.ERROR],f,!1))},h}();function u(h){n.forEach(function(f){f.setLogLevel(h)})}function c(h,f){for(var m=function(k){var j=null;f&&f.level&&(j=r[f.level]),h===null?k.userLogHandler=null:k.userLogHandler=function(M,q){for(var J=[],Z=2;Z<arguments.length;Z++)J[Z-2]=arguments[Z];var L=J.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");q>=(j??M.logLevel)&&h({level:i.LogLevel[q].toLowerCase(),message:L,args:J,type:M.name})}},b=0,_=n;b<_.length;b++){var E=_[b];m(E)}}i.Logger=l,i.setLogLevel=u,i.setUserLogHandler=c})(kv);const tie=lb(gj);(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=Ua,t=up,n=kv,r=bt,s=tie;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o=function(){function rt(Ye){this.container=Ye}return rt.prototype.getPlatformInfoString=function(){var Ye=this.container.getProviders();return Ye.map(function(it){if(a(it)){var mt=it.getImmediate();return"".concat(mt.library,"/").concat(mt.version)}else return null}).filter(function(it){return it}).join(" ")},rt}();function a(rt){var Ye=rt.getComponent();return(Ye==null?void 0:Ye.type)==="VERSION"}var l="@firebase/app",u="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c=new n.Logger("@firebase/app"),h="@firebase/app-compat",f="@firebase/analytics-compat",m="@firebase/analytics",b="@firebase/app-check-compat",_="@firebase/app-check",E="@firebase/auth",k="@firebase/auth-compat",j="@firebase/database",M="@firebase/database-compat",q="@firebase/functions",J="@firebase/functions-compat",Z="@firebase/installations",L="@firebase/installations-compat",y="@firebase/messaging",w="@firebase/messaging-compat",R="@firebase/performance",U="@firebase/performance-compat",H="@firebase/remote-config",B="@firebase/remote-config-compat",Oe="@firebase/storage",De="@firebase/storage-compat",tt="@firebase/firestore",Ne="@firebase/firestore-compat",Me="firebase",qe="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,We="[DEFAULT]",Re=(Ue={},Ue[l]="fire-core",Ue[h]="fire-core-compat",Ue[m]="fire-analytics",Ue[f]="fire-analytics-compat",Ue[_]="fire-app-check",Ue[b]="fire-app-check-compat",Ue[E]="fire-auth",Ue[k]="fire-auth-compat",Ue[j]="fire-rtdb",Ue[M]="fire-rtdb-compat",Ue[q]="fire-fn",Ue[J]="fire-fn-compat",Ue[Z]="fire-iid",Ue[L]="fire-iid-compat",Ue[y]="fire-fcm",Ue[w]="fire-fcm-compat",Ue[R]="fire-perf",Ue[U]="fire-perf-compat",Ue[H]="fire-rc",Ue[B]="fire-rc-compat",Ue[Oe]="fire-gcs",Ue[De]="fire-gcs-compat",Ue[tt]="fire-fst",Ue[Ne]="fire-fst-compat",Ue["fire-js"]="fire-js",Ue[Me]="fire-js-all",Ue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le=new Map,Ct=new Map;function It(rt,Ye){try{rt.container.addComponent(Ye)}catch(it){c.debug("Component ".concat(Ye.name," failed to register with FirebaseApp ").concat(rt.name),it)}}function Dt(rt,Ye){rt.container.addOrOverwriteComponent(Ye)}function fe(rt){var Ye,it,mt=rt.name;if(Ct.has(mt))return c.debug("There were multiple attempts to register component ".concat(mt,".")),!1;Ct.set(mt,rt);try{for(var qt=t.__values(Le.values()),Qt=qt.next();!Qt.done;Qt=qt.next()){var xn=Qt.value;It(xn,rt)}}catch(bn){Ye={error:bn}}finally{try{Qt&&!Qt.done&&(it=qt.return)&&it.call(qt)}finally{if(Ye)throw Ye.error}}return!0}function ve(rt,Ye){var it=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),rt.container.getProvider(Ye)}function Ee(rt,Ye,it){it===void 0&&(it=We),ve(rt,Ye).clearInstance(it)}function $e(){Ct.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,Vt=(Fe={},Fe["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",Fe["bad-app-name"]="Illegal App name: '{$appName}",Fe["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",Fe["app-deleted"]="Firebase App named '{$appName}' already deleted",Fe["no-options"]="Need to provide options, when not being deployed to hosting via source.",Fe["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Fe["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Fe["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",Fe["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",Fe["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",Fe["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",Fe),at=new r.ErrorFactory("app","Firebase",Vt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de=function(){function rt(Ye,it,mt){var qt=this;this._isDeleted=!1,this._options=t.__assign({},Ye),this._config=t.__assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new e.Component("app",function(){return qt},"PUBLIC"))}return Object.defineProperty(rt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(Ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ye},enumerable:!1,configurable:!0}),Object.defineProperty(rt.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(rt.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(rt.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(rt.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(rt.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(Ye){this._isDeleted=Ye},enumerable:!1,configurable:!0}),rt.prototype.checkDestroyed=function(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})},rt}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke=qe;function $t(rt,Ye){var it,mt;Ye===void 0&&(Ye={});var qt=rt;if(typeof Ye!="object"){var Qt=Ye;Ye={name:Qt}}var xn=t.__assign({name:We,automaticDataCollectionEnabled:!1},Ye),bn=xn.name;if(typeof bn!="string"||!bn)throw at.create("bad-app-name",{appName:String(bn)});if(qt||(qt=r.getDefaultAppConfig()),!qt)throw at.create("no-options");var Hi=Le.get(bn);if(Hi){if(r.deepEqual(qt,Hi.options)&&r.deepEqual(xn,Hi.config))return Hi;throw at.create("duplicate-app",{appName:bn})}var Wr=new e.ComponentContainer(bn);try{for(var Gr=t.__values(Ct.values()),un=Gr.next();!un.done;un=Gr.next()){var Oi=un.value;Wr.addComponent(Oi)}}catch(ls){it={error:ls}}finally{try{un&&!un.done&&(mt=Gr.return)&&mt.call(Gr)}finally{if(it)throw it.error}}var zi=new de(qt,xn,Wr);return Le.set(bn,zi),zi}function Jt(rt){rt===void 0&&(rt=We);var Ye=Le.get(rt);if(!Ye&&rt===We&&r.getDefaultAppConfig())return $t();if(!Ye)throw at.create("no-app",{appName:rt});return Ye}function jt(){return Array.from(Le.values())}function yn(rt){return t.__awaiter(this,void 0,void 0,function(){var Ye;return t.__generator(this,function(it){switch(it.label){case 0:return Ye=rt.name,Le.has(Ye)?(Le.delete(Ye),[4,Promise.all(rt.container.getProviders().map(function(mt){return mt.delete()}))]):[3,2];case 1:it.sent(),rt.isDeleted=!0,it.label=2;case 2:return[2]}})})}function ne(rt,Ye,it){var mt,qt=(mt=Re[rt])!==null&&mt!==void 0?mt:rt;it&&(qt+="-".concat(it));var Qt=qt.match(/\s|\//),xn=Ye.match(/\s|\//);if(Qt||xn){var bn=['Unable to register library "'.concat(qt,'" with version "').concat(Ye,'":')];Qt&&bn.push('library name "'.concat(qt,'" contains illegal characters (whitespace or "/")')),Qt&&xn&&bn.push("and"),xn&&bn.push('version name "'.concat(Ye,'" contains illegal characters (whitespace or "/")')),c.warn(bn.join(" "));return}fe(new e.Component("".concat(qt,"-version"),function(){return{library:qt,version:Ye}},"VERSION"))}function re(rt,Ye){if(rt!==null&&typeof rt!="function")throw at.create("invalid-log-argument");n.setUserLogHandler(rt,Ye)}function ke(rt){n.setLogLevel(rt)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt="firebase-heartbeat-database",Wt=1,Tt="firebase-heartbeat-store",le=null;function Se(){return le||(le=s.openDB(pt,Wt,{upgrade:function(rt,Ye){switch(Ye){case 0:rt.createObjectStore(Tt)}}}).catch(function(rt){throw at.create("idb-open",{originalErrorMessage:rt.message})})),le}function Yt(rt){return t.__awaiter(this,void 0,void 0,function(){var Ye,it,mt,qt;return t.__generator(this,function(Qt){switch(Qt.label){case 0:return Qt.trys.push([0,3,,4]),[4,Se()];case 1:return Ye=Qt.sent(),[4,Ye.transaction(Tt).objectStore(Tt).get(xi(rt))];case 2:return it=Qt.sent(),[2,it];case 3:return mt=Qt.sent(),mt instanceof r.FirebaseError?c.warn(mt.message):(qt=at.create("idb-get",{originalErrorMessage:mt==null?void 0:mt.message}),c.warn(qt.message)),[3,4];case 4:return[2]}})})}function Cn(rt,Ye){return t.__awaiter(this,void 0,void 0,function(){var it,mt,qt,Qt,xn;return t.__generator(this,function(bn){switch(bn.label){case 0:return bn.trys.push([0,4,,5]),[4,Se()];case 1:return it=bn.sent(),mt=it.transaction(Tt,"readwrite"),qt=mt.objectStore(Tt),[4,qt.put(Ye,xi(rt))];case 2:return bn.sent(),[4,mt.done];case 3:return bn.sent(),[3,5];case 4:return Qt=bn.sent(),Qt instanceof r.FirebaseError?c.warn(Qt.message):(xn=at.create("idb-set",{originalErrorMessage:Qt==null?void 0:Qt.message}),c.warn(xn.message)),[3,5];case 5:return[2]}})})}function xi(rt){return"".concat(rt.name,"!").concat(rt.options.appId)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=1024,Bn=30*24*60*60*1e3,Ir=function(){function rt(Ye){var it=this;this.container=Ye,this._heartbeatsCache=null;var mt=this.container.getProvider("app").getImmediate();this._storage=new Wa(mt),this._heartbeatsCachePromise=this._storage.read().then(function(qt){return it._heartbeatsCache=qt,qt})}return rt.prototype.triggerHeartbeat=function(){return t.__awaiter(this,void 0,void 0,function(){var Ye,it,mt,qt;return t.__generator(this,function(Qt){switch(Qt.label){case 0:return Ye=this.container.getProvider("platform-logger").getImmediate(),it=Ye.getPlatformInfoString(),mt=os(),this._heartbeatsCache!==null?[3,2]:(qt=this,[4,this._heartbeatsCachePromise]);case 1:qt._heartbeatsCache=Qt.sent(),Qt.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===mt||this._heartbeatsCache.heartbeats.some(function(xn){return xn.date===mt})?[2]:(this._heartbeatsCache.heartbeats.push({date:mt,agent:it}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(xn){var bn=new Date(xn.date).valueOf(),Hi=Date.now();return Hi-bn<=Bn}),[2,this._storage.overwrite(this._heartbeatsCache)])}})})},rt.prototype.getHeartbeatsHeader=function(){return t.__awaiter(this,void 0,void 0,function(){var Ye,it,mt,qt,Qt;return t.__generator(this,function(xn){switch(xn.label){case 0:return this._heartbeatsCache!==null?[3,2]:[4,this._heartbeatsCachePromise];case 1:xn.sent(),xn.label=2;case 2:return this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0?[2,""]:(Ye=os(),it=Fs(this._heartbeatsCache.heartbeats),mt=it.heartbeatsToSend,qt=it.unsentEntries,Qt=r.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:mt})),this._heartbeatsCache.lastSentHeartbeatDate=Ye,qt.length>0?(this._heartbeatsCache.heartbeats=qt,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return xn.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),xn.label=5;case 5:return[2,Qt]}})})},rt}();function os(){var rt=new Date;return rt.toISOString().substring(0,10)}function Fs(rt,Ye){var it,mt;Ye===void 0&&(Ye=Gn);var qt=[],Qt=rt.slice(),xn=function(un){var Oi=qt.find(function(zi){return zi.agent===un.agent});if(Oi){if(Oi.dates.push(un.date),Li(qt)>Ye)return Oi.dates.pop(),"break"}else if(qt.push({agent:un.agent,dates:[un.date]}),Li(qt)>Ye)return qt.pop(),"break";Qt=Qt.slice(1)};try{for(var bn=t.__values(rt),Hi=bn.next();!Hi.done;Hi=bn.next()){var Wr=Hi.value,Gr=xn(Wr);if(Gr==="break")break}}catch(un){it={error:un}}finally{try{Hi&&!Hi.done&&(mt=bn.return)&&mt.call(bn)}finally{if(it)throw it.error}}return{heartbeatsToSend:qt,unsentEntries:Qt}}var Wa=function(){function rt(Ye){this.app=Ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return rt.prototype.runIndexedDBEnvironmentCheck=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(Ye){return r.isIndexedDBAvailable()?[2,r.validateIndexedDBOpenable().then(function(){return!0}).catch(function(){return!1})]:[2,!1]})})},rt.prototype.read=function(){return t.__awaiter(this,void 0,void 0,function(){var Ye,it;return t.__generator(this,function(mt){switch(mt.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return Ye=mt.sent(),Ye?[3,2]:[2,{heartbeats:[]}];case 2:return[4,Yt(this.app)];case 3:return it=mt.sent(),[2,it||{heartbeats:[]}]}})})},rt.prototype.overwrite=function(Ye){var it;return t.__awaiter(this,void 0,void 0,function(){var mt,qt;return t.__generator(this,function(Qt){switch(Qt.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return mt=Qt.sent(),mt?[3,2]:[2];case 2:return[4,this.read()];case 3:return qt=Qt.sent(),[2,Cn(this.app,{lastSentHeartbeatDate:(it=Ye.lastSentHeartbeatDate)!==null&&it!==void 0?it:qt.lastSentHeartbeatDate,heartbeats:Ye.heartbeats})]}})})},rt.prototype.add=function(Ye){var it;return t.__awaiter(this,void 0,void 0,function(){var mt,qt;return t.__generator(this,function(Qt){switch(Qt.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return mt=Qt.sent(),mt?[3,2]:[2];case 2:return[4,this.read()];case 3:return qt=Qt.sent(),[2,Cn(this.app,{lastSentHeartbeatDate:(it=Ye.lastSentHeartbeatDate)!==null&&it!==void 0?it:qt.lastSentHeartbeatDate,heartbeats:t.__spreadArray(t.__spreadArray([],t.__read(qt.heartbeats),!1),t.__read(Ye.heartbeats),!1)})]}})})},rt}();function Li(rt){return r.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:rt})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(rt){fe(new e.Component("platform-logger",function(Ye){return new o(Ye)},"PRIVATE")),fe(new e.Component("heartbeat",function(Ye){return new Ir(Ye)},"PRIVATE")),ne(l,u,rt),ne(l,u,"cjs5"),ne("fire-js","")}as("node"),Object.defineProperty(i,"FirebaseError",{enumerable:!0,get:function(){return r.FirebaseError}}),i.SDK_VERSION=Ke,i._DEFAULT_ENTRY_NAME=We,i._addComponent=It,i._addOrOverwriteComponent=Dt,i._apps=Le,i._clearComponents=$e,i._components=Ct,i._getProvider=ve,i._registerComponent=fe,i._removeServiceInstance=Ee,i.deleteApp=yn,i.getApp=Jt,i.getApps=jt,i.initializeApp=$t,i.onLog=re,i.registerVersion=ne,i.setLogLevel=ke})(Xc);var ot=bt,ra=Xc,XE=up,eS=kv,YP=Ua;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie={PHONE:"phone",TOTP:"totp"},iie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},rie={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},sie={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},oie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}}function o6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lie=aie,a6=o6,l6=new ot.ErrorFactory("auth","Firebase",o6()),uie={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new eS.Logger("@firebase/auth");function cie(i,...e){i0.logLevel<=eS.LogLevel.WARN&&i0.warn(`Auth (${ra.SDK_VERSION}): ${i}`,...e)}function c1(i,...e){i0.logLevel<=eS.LogLevel.ERROR&&i0.error(`Auth (${ra.SDK_VERSION}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(i,...e){throw tS(i,...e)}function ao(i,...e){return tS(i,...e)}function u6(i,e,t){const n=Object.assign(Object.assign({},a6()),{[e]:t});return new ot.ErrorFactory("auth","Firebase",n).create(e,{appName:i.name})}function cp(i,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Ns(i,"argument-error"),u6(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tS(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return l6.create(i,...e)}function ut(i,e,...t){if(!i)throw tS(e,...t)}function hl(i){const e="INTERNAL ASSERTION FAILED: "+i;throw c1(e),new Error(e)}function kl(i,e){i||hl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function nS(){return ZP()==="http:"||ZP()==="https:"}function ZP(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function die(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nS()||ot.isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function hie(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,t){this.shortDelay=e,this.longDelay=t,kl(t>e,"Short delay should be less than long delay!"),this.isMobile=ot.isMobileCordova()||ot.isReactNative()}get(){return die()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(i,e){kl(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;hl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;hl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;hl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie=new Av(3e4,6e4);function Ui(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function tr(i,e,t,n,r={}){return c6(i,r,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const a=ot.querystring(Object.assign({key:i.config.apiKey},o)).slice(1),l=await i._getAdditionalHeaders();return l["Content-Type"]="application/json",i.languageCode&&(l["X-Firebase-Locale"]=i.languageCode),rS.fetch()(d6(i,i.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function c6(i,e,t){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},fie),e);try{const r=new gie(i),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw mg(i,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mg(i,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mg(i,"email-already-in-use",o);if(l==="USER_DISABLED")throw mg(i,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw u6(i,c,u);Ns(i,c)}}catch(r){if(r instanceof ot.FirebaseError)throw r;Ns(i,"network-request-failed",{message:String(r)})}}async function xu(i,e,t,n,r={}){const s=await tr(i,e,t,n,r);return"mfaPendingCredential"in s&&Ns(i,"multi-factor-auth-required",{_serverResponse:s}),s}function d6(i,e,t,n){const r=`${e}${t}?${n}`;return i.config.emulator?iS(i.config,r):`${i.config.apiScheme}://${r}`}class gie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(ao(this.auth,"network-request-failed")),pie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mg(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const r=ao(i,e,n);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mie(i,e){return tr(i,"POST","/v1/accounts:delete",e)}async function vie(i,e){return tr(i,"POST","/v1/accounts:update",e)}async function yie(i,e){return tr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(i,e=!1){return ot.getModularInstance(i).getIdToken(e)}async function h6(i,e=!1){const t=ot.getModularInstance(i),n=await t.getIdToken(e),r=qb(n);ut(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:zg(Rw(r.auth_time)),issuedAtTime:zg(Rw(r.iat)),expirationTime:zg(Rw(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rw(i){return Number(i)*1e3}function qb(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return c1("JWT malformed, contained fewer than 3 sections"),null;try{const r=ot.base64Decode(t);return r?JSON.parse(r):(c1("Failed to decode base64 JWT payload"),null)}catch(r){return c1("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Cie(i){const e=qb(i);return ut(e,"internal-error"),ut(typeof e.exp<"u","internal-error"),ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof ot.FirebaseError&&wie(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function wie({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zg(this.lastLoginAt),this.creationTime=zg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(i){var e;const t=i.auth,n=await i.getIdToken(),r=await _u(i,yie(t,{idToken:n}));ut(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];i._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Eie(s.providerUserInfo):[],a=Iie(i.providerData,o),l=i.isAnonymous,u=!(i.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new f6(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(i,h)}async function p6(i){const e=ot.getModularInstance(i);await mm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Iie(i,e){return[...i.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function Eie(i){return i.map(e=>{var{providerId:t}=e,n=XE.__rest(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sie(i,e){const t=await c6(i,{},async()=>{const n=ot.querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=i.config,o=d6(i,r,"/v1/token",`key=${s}`),a=await i._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rS.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ut(e.idToken,"internal-error"),ut(typeof e.idToken<"u","internal-error"),ut(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cie(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return ut(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await Sie(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new vm;return n&&(ut(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(ut(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ut(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vm,this.toJSON())}_performRefresh(){return hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(i,e){ut(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Tc{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=XE.__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _ie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new f6(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _u(this,this.stsTokenManager.getToken(this.auth,e));return ut(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return h6(this,e)}reload(){return p6(this)}_assign(e){this!==e&&(ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await mm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _u(this,mie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,o,a,l,u,c;const h=(n=t.displayName)!==null&&n!==void 0?n:void 0,f=(r=t.email)!==null&&r!==void 0?r:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,_=(a=t.tenantId)!==null&&a!==void 0?a:void 0,E=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,k=(u=t.createdAt)!==null&&u!==void 0?u:void 0,j=(c=t.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:M,emailVerified:q,isAnonymous:J,providerData:Z,stsTokenManager:L}=t;ut(M&&L,e,"internal-error");const y=vm.fromJSON(this.name,L);ut(typeof M=="string",e,"internal-error"),Ju(h,e.name),Ju(f,e.name),ut(typeof q=="boolean",e,"internal-error"),ut(typeof J=="boolean",e,"internal-error"),Ju(m,e.name),Ju(b,e.name),Ju(_,e.name),Ju(E,e.name),Ju(k,e.name),Ju(j,e.name);const w=new Tc({uid:M,auth:e,email:f,emailVerified:q,displayName:h,isAnonymous:J,photoURL:b,phoneNumber:m,tenantId:_,stsTokenManager:y,createdAt:k,lastLoginAt:j});return Z&&Array.isArray(Z)&&(w.providerData=Z.map(R=>Object.assign({},R))),E&&(w._redirectEventId=E),w}static async _fromIdTokenResponse(e,t,n=!1){const r=new vm;r.updateFromServerResponse(t);const s=new Tc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await mm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new Map;function fl(i){kl(i instanceof Function,"Expected a class definition");let e=XP.get(i);return e?(kl(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,XP.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}g6.type="NONE";const d_=g6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(i,e,t){return`firebase:${i}:${e}:${t}`}class sf{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=jg(this.userKey,r.apiKey,s),this.fullPersistenceKey=jg("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new sf(fl(d_),e,n);const r=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||fl(d_);const o=jg(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const c=await u._get(o);if(c){const h=Tc._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new sf(s,e,n):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new sf(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b6(e))return"Blackberry";if(C6(e))return"Webos";if(sS(e))return"Safari";if((e.includes("chrome/")||v6(e))&&!e.includes("edge/"))return"Chrome";if(oS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function m6(i=ot.getUA()){return/firefox\//i.test(i)}function sS(i=ot.getUA()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v6(i=ot.getUA()){return/crios\//i.test(i)}function y6(i=ot.getUA()){return/iemobile/i.test(i)}function oS(i=ot.getUA()){return/android/i.test(i)}function b6(i=ot.getUA()){return/blackberry/i.test(i)}function C6(i=ot.getUA()){return/webos/i.test(i)}function Vv(i=ot.getUA()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Tie(i=ot.getUA()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(i)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(i)}function xie(i=ot.getUA()){var e;return Vv(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Pie(){return ot.isIE()&&document.documentMode===10}function w6(i=ot.getUA()){return Vv(i)||oS(i)||C6(i)||b6(i)||/windows phone/i.test(i)||y6(i)}function Rie(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(i,e=[]){let t;switch(i){case"Browser":t=eR(ot.getUA());break;case"Worker":t=`${eR(ot.getUA())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ra.SDK_VERSION}/${n}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kie(i){return(await tr(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function _6(i,e){return tr(i,"GET","/v2/recaptchaConfig",Ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(i){return i!==void 0&&i.getResponse!==void 0}function nR(i){return i!==void 0&&i.enterprise!==void 0}class I6{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>t.provider==="EMAIL_PASSWORD_PROVIDER"&&t.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aie(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}function lS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=r=>{const s=ao("internal-error");s.customData=r,t(s)},n.type="text/javascript",n.charset="UTF-8",Aie().appendChild(n)})}function E6(i){return`__${i}${Math.floor(Math.random()*1e6)}`}const Vie="https://www.google.com/recaptcha/enterprise.js?render=",Lie="recaptcha-enterprise",Oie="NO_RECAPTCHA";class S6{constructor(e){this.type=Lie,this.auth=_r(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{_6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new I6(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;nR(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Oie)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{n(this.auth).then(a=>{if(!t&&nR(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}lS(Vie+a).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Nc(i,e,t,n=!1){const r=new S6(i);let s;try{s=await r.verify(t)}catch{s=await r.verify(t,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iR(this),this.idTokenSubscription=new iR(this),this.beforeStateQueue=new Die(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fl(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await sf.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ot.getModularInstance(e):null;return t&&ut(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(fl(e))})}async initializeRecaptchaConfig(){const e=await _6(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new I6(e);this.tenantId==null?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new S6(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ot.ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fl(e)||this._popupRedirectResolver;ut(t,this,"argument-error"),this.redirectPersistenceManager=await sf.create(this,[fl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ut(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof t=="function"?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&cie(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _r(i){return ot.getModularInstance(i)}class iR{constructor(e){this.auth=e,this.observer=null,this.addObserver=ot.createSubscribe(t=>this.observer=t)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(i,e){const t=ra._getProvider(i,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(ot.deepEqual(s,e??{}))return r;Ns(r,"already-initialized")}return t.initialize({options:e})}function Nie(i,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(fl);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function P6(i,e,t){const n=_r(i);ut(n._canInitEmulator,n,"emulator-config-failed"),ut(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!!(t!=null&&t.disableWarnings),s=R6(e),{host:o,port:a}=Mie(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${s}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Fie()}function R6(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Mie(i){const e=R6(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const s=r[1];return{host:s,port:rR(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:rR(o)}}}function rR(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Fie(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hl("not implemented")}_getIdTokenResponse(e){return hl("not implemented")}_linkToIdToken(e,t){return hl("not implemented")}_getReauthenticationResolver(e){return hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(i,e){return tr(i,"POST","/v1/accounts:resetPassword",Ui(i,e))}async function A6(i,e){return tr(i,"POST","/v1/accounts:update",e)}async function $ie(i,e){return tr(i,"POST","/v1/accounts:update",Ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(i,e){return xu(i,"POST","/v1/accounts:signInWithPassword",Ui(i,e))}async function Ub(i,e){return tr(i,"POST","/v1/accounts:sendOobCode",Ui(i,e))}async function Bie(i,e){return Ub(i,e)}async function Aw(i,e){return Ub(i,e)}async function Vw(i,e){return Ub(i,e)}async function qie(i,e){return Ub(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uie(i,e){return xu(i,"POST","/v1/accounts:signInWithEmailLink",Ui(i,e))}async function Hie(i,e){return xu(i,"POST","/v1/accounts:signInWithEmailLink",Ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends dp{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Sf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Sf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((t=e._getRecaptchaConfig())===null||t===void 0)&&t.emailPasswordEnabled){const r=await Nc(e,n,"signInWithPassword");return kw(e,r)}else return kw(e,n).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Nc(e,n,"signInWithPassword");return kw(e,s)}else return Promise.reject(r)});case"emailLink":return Uie(e,{email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return A6(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Hie(e,{idToken:t,email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(i,e){return xu(i,"POST","/v1/accounts:signInWithIdp",Ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie="http://localhost";class Al extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ns("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=XE.__rest(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Al(n,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return yu(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yu(e,t)}buildRequest(){const e={requestUri:zie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ot.querystring(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jie(i,e){return tr(i,"POST","/v1/accounts:sendVerificationCode",Ui(i,e))}async function Qie(i,e){return xu(i,"POST","/v1/accounts:signInWithPhoneNumber",Ui(i,e))}async function Wie(i,e){const t=await xu(i,"POST","/v1/accounts:signInWithPhoneNumber",Ui(i,e));if(t.temporaryProof)throw mg(i,"account-exists-with-different-credential",t);return t}const Gie={USER_NOT_FOUND:"user-not-found"};async function Kie(i,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return xu(i,"POST","/v1/accounts:signInWithPhoneNumber",Ui(i,t),Gie)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends dp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new xc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new xc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Qie(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Wie(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Kie(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return!n&&!t&&!r&&!s?null:new xc({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jie(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yie(i){const e=ot.querystringDecode(ot.extractQuerystring(i)).link,t=e?ot.querystringDecode(ot.extractQuerystring(e)).deep_link_id:null,n=ot.querystringDecode(ot.extractQuerystring(i)).deep_link_id;return(n?ot.querystringDecode(ot.extractQuerystring(n)).link:null)||n||t||e||i}class hp{constructor(e){var t,n,r,s,o,a;const l=ot.querystringDecode(ot.extractQuerystring(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,h=Jie((r=l.mode)!==null&&r!==void 0?r:null);ut(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=Yie(e);try{return new hp(t)}catch{return null}}}function Zie(i){return hp.parseLink(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.providerId=ed.PROVIDER_ID}static credential(e,t){return Sf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=hp.parseLink(t);return ut(n,"argument-error"),Sf._fromEmailAndCode(e,n.code,n.tenantId)}}ed.PROVIDER_ID="password";ed.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ed.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends Pu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qg extends fp{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ut("providerId"in t&&"signInMethod"in t,"argument-error"),Al._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ut(e.idToken||e.accessToken,"argument-error"),Al._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Qg.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Qg.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:a}=e;if(!n&&!r&&!t&&!s||!a)return null;try{return new Qg(a)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends fp{constructor(){super("facebook.com")}static credential(e){return Al._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hu.credentialFromTaggedObject(e)}static credentialFromError(e){return hu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hu.credential(e.oauthAccessToken)}catch{return null}}}hu.FACEBOOK_SIGN_IN_METHOD="facebook.com";hu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends fp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Al._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fu.credentialFromTaggedObject(e)}static credentialFromError(e){return fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return fu.credential(t,n)}catch{return null}}}fu.GOOGLE_SIGN_IN_METHOD="google.com";fu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends fp{constructor(){super("github.com")}static credential(e){return Al._fromParams({providerId:pu.PROVIDER_ID,signInMethod:pu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pu.credentialFromTaggedObject(e)}static credentialFromError(e){return pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pu.credential(e.oauthAccessToken)}catch{return null}}}pu.GITHUB_SIGN_IN_METHOD="github.com";pu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie="http://localhost";class Tf extends dp{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return yu(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:s}=t;return!n||!r||!s||n!==r?null:new Tf(n,s)}static _create(e,t){return new Tf(e,t)}buildRequest(){return{requestUri:Xie,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ere="saml.";class r0 extends Pu{constructor(e){ut(e.startsWith(ere),"argument-error"),super(e)}static credentialFromResult(e){return r0.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return r0.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Tf.fromJSON(e);return ut(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Tf._create(n,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends fp{constructor(){super("twitter.com")}static credential(e,t){return Al._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gu.credentialFromTaggedObject(e)}static credentialFromError(e){return gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return gu.credential(t,n)}catch{return null}}}gu.TWITTER_SIGN_IN_METHOD="twitter.com";gu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(i,e){return xu(i,"POST","/v1/accounts:signUp",Ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await Tc._fromIdTokenResponse(e,n,r),o=sR(n);return new ca({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=sR(n);return new ca({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function sR(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tre(i){var e;const t=_r(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ca({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await d1(t,{returnSecureToken:!0}),r=await ca._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends ot.FirebaseError{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,s0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new s0(e,t,n,r)}}function V6(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?s0._fromErrorAndOperation(i,s,e,n):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(i){return new Set(i.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nre(i,e){const t=ot.getModularInstance(i);await Hb(!0,t,e);const{providerUserInfo:n}=await vie(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),r=L6(n||[]);return t.providerData=t.providerData.filter(s=>r.has(s.providerId)),r.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function uS(i,e,t=!1){const n=await _u(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ca._forOperation(i,"link",n)}async function Hb(i,e,t){await mm(e);const n=L6(e.providerData),r=i===!1?"provider-already-linked":"no-such-provider";ut(n.has(t)===i,e.auth,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(i,e,t=!1){const{auth:n}=i,r="reauthenticate";try{const s=await _u(i,V6(n,r,e,i),t);ut(s.idToken,n,"internal-error");const o=qb(s.idToken);ut(o,n,"internal-error");const{sub:a}=o;return ut(i.uid===a,n,"user-mismatch"),ca._forOperation(i,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ns(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(i,e,t=!1){const n="signIn",r=await V6(i,n,e),s=await ca._fromIdTokenResponse(i,n,r);return t||await i._updateCurrentUser(s.user),s}async function zb(i,e){return D6(_r(i),e)}async function N6(i,e){const t=ot.getModularInstance(i);return await Hb(!1,t,e.providerId),uS(t,e)}async function M6(i,e){return O6(ot.getModularInstance(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ire(i,e){return xu(i,"POST","/v1/accounts:signInWithCustomToken",Ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rre(i,e){const t=_r(i),n=await ire(t,{token:e,returnSecureToken:!0}),r=await ca._fromIdTokenResponse(t,"signIn",n);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?cS._fromServerResponse(e,t):"totpInfo"in t?dS._fromServerResponse(e,t):Ns(e,"internal-error")}}class cS extends Lv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new cS(t)}}class dS extends Lv{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new dS(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i,e,t){var n;ut(((n=t.url)===null||n===void 0?void 0:n.length)>0,i,"invalid-continue-uri"),ut(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ut(t.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ut(t.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sre(i,e,t){var n;const r=_r(i),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((n=r._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const o=await Nc(r,s,"getOobCode",!0);t&&of(r,o,t),await Aw(r,o)}else t&&of(r,s,t),await Aw(r,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Nc(r,s,"getOobCode",!0);t&&of(r,a,t),await Aw(r,a)}else return Promise.reject(o)})}async function ore(i,e,t){await k6(ot.getModularInstance(i),{oobCode:e,newPassword:t})}async function are(i,e){await $ie(ot.getModularInstance(i),{oobCode:e})}async function F6(i,e){const t=ot.getModularInstance(i),n=await k6(t,{oobCode:e}),r=n.requestType;switch(ut(r,t,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ut(n.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ut(n.mfaInfo,t,"internal-error");default:ut(n.email,t,"internal-error")}let s=null;return n.mfaInfo&&(s=Lv._fromServerResponse(_r(t),n.mfaInfo)),{data:{email:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.newEmail:n.email)||null,previousEmail:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.email:n.newEmail)||null,multiFactorInfo:s},operation:r}}async function lre(i,e){const{data:t}=await F6(ot.getModularInstance(i),e);return t.email}async function ure(i,e,t){var n;const r=_r(i),s={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let o;if(!((n=r._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const u=await Nc(r,s,"signUpPassword");o=d1(r,u)}else o=d1(r,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Nc(r,s,"signUpPassword");return d1(r,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await ca._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function cre(i,e,t){return zb(ot.getModularInstance(i),ed.credential(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dre(i,e,t){var n;const r=_r(i),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){ut(l.handleCodeInApp,r,"argument-error"),l&&of(r,a,l)}if(!((n=r._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const a=await Nc(r,s,"getOobCode",!0);o(a,t),await Vw(r,a)}else o(s,t),await Vw(r,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await Nc(r,s,"getOobCode",!0);o(l,t),await Vw(r,l)}else return Promise.reject(a)})}function hre(i,e){const t=hp.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function fre(i,e,t){const n=ot.getModularInstance(i),r=ed.credentialWithLink(e,t||gm());return ut(r._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),zb(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pre(i,e){return tr(i,"POST","/v1/accounts:createAuthUri",Ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gre(i,e){const t=nS()?gm():"http://localhost",n={identifier:e,continueUri:t},{signinMethods:r}=await pre(ot.getModularInstance(i),n);return r||[]}async function mre(i,e){const t=ot.getModularInstance(i),r={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()};e&&of(t.auth,r,e);const{email:s}=await Bie(t.auth,r);s!==i.email&&await i.reload()}async function vre(i,e,t){const n=ot.getModularInstance(i),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await i.getIdToken(),newEmail:e};t&&of(n.auth,s,t);const{email:o}=await qie(n.auth,s);o!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yre(i,e){return tr(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bre(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=ot.getModularInstance(i),s={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await _u(n,yre(n.auth,s));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const a=n.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function Cre(i,e){return $6(ot.getModularInstance(i),e,null)}function wre(i,e){return $6(ot.getModularInstance(i),null,e)}async function $6(i,e,t){const{auth:n}=i,s={idToken:await i.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=await _u(i,A6(n,s));await i._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _re(i){var e,t;if(!i)return null;const{providerId:n}=i,r=i.rawUserInfo?JSON.parse(i.rawUserInfo):{},s=i.isNewUser||i.kind==="identitytoolkit#SignupNewUserResponse";if(!n&&(i!=null&&i.idToken)){const o=(t=(e=qb(i.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new af(s,a)}}if(!n)return null;switch(n){case"facebook.com":return new Ire(s,r);case"github.com":return new Ere(s,r);case"google.com":return new Sre(s,r);case"twitter.com":return new Tre(s,r,i.screenName||null);case"custom":case"anonymous":return new af(s,null);default:return new af(s,n,r)}}class af{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class B6 extends af{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Ire extends af{constructor(e,t){super(e,"facebook.com",t)}}class Ere extends B6{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class Sre extends af{constructor(e,t){super(e,"google.com",t)}}class Tre extends B6{constructor(e,t,n){super(e,"twitter.com",t,n)}}function xre(i){const{user:e,_tokenResponse:t}=i;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:_re(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pre(i,e){return ot.getModularInstance(i).setPersistence(e)}function Rre(i){return _r(i).initializeRecaptchaConfig()}function q6(i,e,t,n){return ot.getModularInstance(i).onIdTokenChanged(e,t,n)}function U6(i,e,t){return ot.getModularInstance(i).beforeAuthStateChanged(e,t)}function kre(i,e,t,n){return ot.getModularInstance(i).onAuthStateChanged(e,t,n)}function Are(i){ot.getModularInstance(i).useDeviceLanguage()}function Vre(i,e){return ot.getModularInstance(i).updateCurrentUser(e)}function Lre(i){return ot.getModularInstance(i).signOut()}async function Ore(i){return ot.getModularInstance(i).delete()}class qd{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new qd("enroll",e,t)}static _fromMfaPendingCredential(e){return new qd("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return qd._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((n=e.multiFactorSession)===null||n===void 0)&&n.idToken)return qd._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=_r(e),r=t.customData._serverResponse,s=(r.mfaInfo||[]).map(a=>Lv._fromServerResponse(n,a));ut(r.mfaPendingCredential,n,"internal-error");const o=qd._fromMfaPendingCredential(r.mfaPendingCredential);return new hS(o,s,async a=>{const l=await a._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const u=Object.assign(Object.assign({},r),{idToken:l.idToken,refreshToken:l.refreshToken});switch(t.operationType){case"signIn":const c=await ca._fromIdTokenResponse(n,t.operationType,u);return await n._updateCurrentUser(c.user),c;case"reauthenticate":return ut(t.user,n,"internal-error"),ca._forOperation(t.user,t.operationType,u);default:Ns(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Dre(i,e){var t;const n=ot.getModularInstance(i),r=e;return ut(e.customData.operationType,n,"argument-error"),ut((t=r.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,n,"argument-error"),hS._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(i,e){return tr(i,"POST","/v2/accounts/mfaEnrollment:start",Ui(i,e))}function Mre(i,e){return tr(i,"POST","/v2/accounts/mfaEnrollment:finalize",Ui(i,e))}function Fre(i,e){return tr(i,"POST","/v2/accounts/mfaEnrollment:start",Ui(i,e))}function $re(i,e){return tr(i,"POST","/v2/accounts/mfaEnrollment:finalize",Ui(i,e))}function Bre(i,e){return tr(i,"POST","/v2/accounts/mfaEnrollment:withdraw",Ui(i,e))}class fS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(n=>Lv._fromServerResponse(e.auth,n)))})}static _fromUser(e){return new fS(e)}async getSession(){return qd._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),s=await _u(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,n=await this.user.getIdToken();try{const r=await _u(this.user,Bre(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(r),await this.user.reload()}catch(r){throw r}}}const Lw=new WeakMap;function qre(i){const e=ot.getModularInstance(i);return Lw.has(e)||Lw.set(e,fS._fromUser(e)),Lw.get(e)}const o0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(o0,"1"),this.storage.removeItem(o0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ure(){const i=ot.getUA();return sS(i)||Vv(i)}const Hre=1e3,zre=10;class z6 extends H6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Ure()&&Rie(),this.fallbackToPolling=w6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(n);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const o=this.storage.getItem(n);!t&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);Pie()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,zre):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Hre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}z6.type="LOCAL";const j6=z6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6 extends H6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Q6.type="SESSION";const pS=Q6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jre(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const n=new jb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async u=>u(t.origin,s)),l=await jre(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Ov("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function Wre(i){yr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function Gre(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kre(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Jre(){return gS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6="firebaseLocalStorageDb",Yre=1,a0="firebaseLocalStorage",G6="fbase_key";class Dv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qb(i,e){return i.transaction([a0],e?"readwrite":"readonly").objectStore(a0)}function Zre(){const i=indexedDB.deleteDatabase(W6);return new Dv(i).toPromise()}function h_(){const i=indexedDB.open(W6,Yre);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(a0,{keyPath:G6})}catch(r){t(r)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(a0)?e(n):(n.close(),await Zre(),e(await h_()))})})}async function oR(i,e,t){const n=Qb(i,!0).put({[G6]:e,value:t});return new Dv(n).toPromise()}async function Xre(i,e){const t=Qb(i,!1).get(e),n=await new Dv(t).toPromise();return n===void 0?null:n.value}function aR(i,e){const t=Qb(i,!0).delete(e);return new Dv(t).toPromise()}const ese=800,tse=3;class K6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>tse)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jb._getInstance(Jre()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Gre(),!this.activeServiceWorker)return;this.sender=new Qre(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kre()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h_();return await oR(e,o0,"1"),await aR(e,o0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>oR(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>Xre(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Qb(r,!1).getAll();return new Dv(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ese)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K6.type="LOCAL";const J6=K6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nse(i,e){return tr(i,"POST","/v2/accounts/mfaSignIn:start",Ui(i,e))}function ise(i,e){return tr(i,"POST","/v2/accounts/mfaSignIn:finalize",Ui(i,e))}function rse(i,e){return tr(i,"POST","/v2/accounts/mfaSignIn:finalize",Ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse=500,ose=6e4,Iy=1e12;class ase{constructor(e){this.auth=e,this.counter=Iy,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new lse(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Iy;(t=this._widgets.get(n))===null||t===void 0||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Iy;return((t=this._widgets.get(n))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Iy;return(t=this._widgets.get(n))===null||t===void 0||t.execute(),""}}class lse{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;ut(r,"argument-error",{appName:t}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=use(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},ose)},sse))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function use(i){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<i;n++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=E6("rcb"),cse=new Av(3e4,6e4),dse="https://www.google.com/recaptcha/api.js?";class hse{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=yr().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ut(fse(t),e,"argument-error"),this.shouldResolveImmediately(t)&&tR(yr().grecaptcha)?Promise.resolve(yr().grecaptcha):new Promise((n,r)=>{const s=yr().setTimeout(()=>{r(ao(e,"network-request-failed"))},cse.get());yr()[Ow]=()=>{yr().clearTimeout(s),delete yr()[Ow];const a=yr().grecaptcha;if(!a||!tR(a)){r(ao(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const h=l(u,c);return this.counter++,h},this.hostLanguage=t,n(a)};const o=`${dse}?${ot.querystring({onload:Ow,render:"explicit",hl:t})}`;lS(o).catch(()=>{clearTimeout(s),r(ao(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=yr().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function fse(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class pse{async load(e){return new ase(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="recaptcha",gse={theme:"light",type:"image"};class mse{constructor(e,t=Object.assign({},gse),n){this.parameters=t,this.type=Y6,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_r(n),this.isInvisible=this.parameters.size==="invisible",ut(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof e=="string"?document.getElementById(e):e;ut(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pse:new hse,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(r=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),r(o))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ut(!this.parameters.sitekey,this.auth,"argument-error"),ut(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ut(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(n=>n(t)),typeof e=="function")e(t);else if(typeof e=="string"){const n=yr()[e];typeof n=="function"&&n(t)}}}assertNotDestroyed(){ut(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ut(nS()&&!gS(),this.auth,"internal-error"),await vse(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await kie(this.auth);ut(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ut(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function vse(){let i=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}i=()=>e(),window.addEventListener("load",i)}).catch(e=>{throw i&&window.removeEventListener("load",i),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=xc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function yse(i,e,t){const n=_r(i),r=await Wb(n,e,ot.getModularInstance(t));return new mS(r,s=>zb(n,s))}async function bse(i,e,t){const n=ot.getModularInstance(i);await Hb(!1,n,"phone");const r=await Wb(n.auth,e,ot.getModularInstance(t));return new mS(r,s=>N6(n,s))}async function Cse(i,e,t){const n=ot.getModularInstance(i),r=await Wb(n.auth,e,ot.getModularInstance(t));return new mS(r,s=>M6(n,s))}async function Wb(i,e,t){var n;const r=await t.verify();try{ut(typeof r=="string",i,"argument-error"),ut(t.type===Y6,i,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return ut(o.type==="enroll",i,"internal-error"),(await Nre(i,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{ut(o.type==="signin",i,"internal-error");const a=((n=s.multiFactorHint)===null||n===void 0?void 0:n.uid)||s.multiFactorUid;return ut(a,i,"missing-multi-factor-info"),(await nse(i,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await jie(i,{phoneNumber:s.phoneNumber,recaptchaToken:r});return o}}finally{t._reset()}}async function wse(i,e){await uS(ot.getModularInstance(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.providerId=Gd.PROVIDER_ID,this.auth=_r(e)}verifyPhoneNumber(e,t){return Wb(this.auth,e,ot.getModularInstance(t))}static credential(e,t){return xc._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gd.credentialFromTaggedObject(t)}static credentialFromError(e){return Gd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?xc._fromTokenResponse(t,n):null}}Gd.PROVIDER_ID="phone";Gd.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(i,e){return e?fl(e):(ut(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS extends dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _se(i){return D6(i.auth,new vS(i),i.bypassAuthState)}function Ise(i){const{auth:e,user:t}=i;return ut(t,e,"internal-error"),O6(t,new vS(i),i.bypassAuthState)}async function Ese(i){const{auth:e,user:t}=i;return ut(t,e,"internal-error"),uS(t,new vS(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _se;case"linkViaPopup":case"linkViaRedirect":return Ese;case"reauthViaPopup":case"reauthViaRedirect":return Ise;default:Ns(this.auth,"internal-error")}}resolve(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sse=new Av(2e3,1e4);async function Tse(i,e,t){const n=_r(i);cp(i,e,Pu);const r=Ch(n,t);return new vu(n,"signInViaPopup",e,r).executeNotNull()}async function xse(i,e,t){const n=ot.getModularInstance(i);cp(n.auth,e,Pu);const r=Ch(n.auth,t);return new vu(n.auth,"reauthViaPopup",e,r,n).executeNotNull()}async function Pse(i,e,t){const n=ot.getModularInstance(i);cp(n.auth,e,Pu);const r=Ch(n.auth,t);return new vu(n.auth,"linkViaPopup",e,r,n).executeNotNull()}class vu extends Z6{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,vu.currentPopupAction&&vu.currentPopupAction.cancel(),vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ut(e,this.auth,"internal-error"),e}async onExecution(){kl(this.filter.length===1,"Popup operations only handle one event");const e=Ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ao(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ao(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ao(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sse.get())};e()}}vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rse="pendingRedirect",Wg=new Map;class kse extends Z6{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Wg.get(this.auth._key());if(!e){try{const n=await Ase(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Wg.set(this.auth._key(),e)}return this.bypassAuthState||Wg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ase(i,e){const t=tL(e),n=eL(i);if(!await n._isAvailable())return!1;const r=await n._get(t)==="true";return await n._remove(t),r}async function yS(i,e){return eL(i)._set(tL(e),"true")}function Vse(){Wg.clear()}function X6(i,e){Wg.set(i._key(),e)}function eL(i){return fl(i._redirectPersistence)}function tL(i){return jg(Rse,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lse(i,e,t){return Ose(i,e,t)}async function Ose(i,e,t){const n=_r(i);cp(i,e,Pu),await n._initializationPromise;const r=Ch(n,t);return await yS(r,n),r._openRedirect(n,e,"signInViaRedirect")}function Dse(i,e,t){return Nse(i,e,t)}async function Nse(i,e,t){const n=ot.getModularInstance(i);cp(n.auth,e,Pu),await n.auth._initializationPromise;const r=Ch(n.auth,t);await yS(r,n.auth);const s=await nL(n);return r._openRedirect(n.auth,e,"reauthViaRedirect",s)}function Mse(i,e,t){return Fse(i,e,t)}async function Fse(i,e,t){const n=ot.getModularInstance(i);cp(n.auth,e,Pu),await n.auth._initializationPromise;const r=Ch(n.auth,t);await Hb(!1,n,e.providerId),await yS(r,n.auth);const s=await nL(n);return r._openRedirect(n.auth,e,"linkViaRedirect",s)}async function $se(i,e){return await _r(i)._initializationPromise,bS(i,e,!1)}async function bS(i,e,t=!1){const n=_r(i),r=Ch(n,e),o=await new kse(n,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}async function nL(i){const e=Ov(`${i.uid}:::`);return i._redirectEventId=e,await i.auth._setRedirectUser(i),await i.auth._persistUserIfCurrent(i),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bse=10*60*1e3;class iL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qse(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!rL(e)){const r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(ao(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bse&&this.cachedEventUids.clear(),this.cachedEventUids.has(lR(e))}saveEventToCache(e){this.cachedEventUids.add(lR(e)),this.lastProcessedEventTime=Date.now()}}function lR(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function rL({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qse(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rL(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(i,e={}){return tr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hse=/^https?/;async function zse(i){if(i.config.emulator)return;const{authorizedDomains:e}=await sL(i);for(const t of e)try{if(jse(t))return}catch{}Ns(i,"unauthorized-domain")}function jse(i){const e=gm(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const o=new URL(i);return o.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!Hse.test(t))return!1;if(Use.test(i))return n===i;const r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse=new Av(3e4,6e4);function uR(){const i=yr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function Wse(i){return new Promise((e,t)=>{var n,r,s;function o(){uR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uR(),t(ao(i,"network-request-failed"))},timeout:Qse.get()})}if(!((r=(n=yr().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{const a=E6("iframefcb");return yr()[a]=()=>{gapi.load?o():t(ao(i,"network-request-failed"))},lS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw h1=null,e})}let h1=null;function Gse(i){return h1=h1||Wse(i),h1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kse=new Av(5e3,15e3),Jse="__/auth/iframe",Yse="emulator/auth/iframe",Zse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eoe(i){const e=i.config;ut(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?iS(e,Yse):`https://${i.config.authDomain}/${Jse}`,n={apiKey:e.apiKey,appName:i.name,v:ra.SDK_VERSION},r=Xse.get(i.config.apiHost);r&&(n.eid=r);const s=i._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${ot.querystring(n).slice(1)}`}async function toe(i){const e=await Gse(i),t=yr().gapi;return ut(t,i,"internal-error"),e.open({where:document.body,url:eoe(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zse,dontclear:!0},n=>new Promise(async(r,s)=>{await n.restyle({setHideOnLeave:!1});const o=ao(i,"network-request-failed"),a=yr().setTimeout(()=>{s(o)},Kse.get());function l(){yr().clearTimeout(a),r(n)}n.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ioe=500,roe=600,soe="_blank",ooe="http://localhost";class f_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aoe(i,e,t,n=ioe,r=roe){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},noe),{width:n.toString(),height:r.toString(),top:s,left:o}),u=ot.getUA().toLowerCase();t&&(a=v6(u)?soe:t),m6(u)&&(e=e||ooe,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[m,b])=>`${f}${m}=${b},`,"");if(xie(u)&&a!=="_self")return loe(e||"",a),new f_(null);const h=window.open(e||"",a,c);ut(h,i,"popup-blocked");try{h.focus()}catch{}return new f_(h)}function loe(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe="__/auth/handler",coe="emulator/auth/handler",doe=encodeURIComponent("fac");async function p_(i,e,t,n,r,s){ut(i.config.authDomain,i,"auth-domain-config-required"),ut(i.config.apiKey,i,"invalid-api-key");const o={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:ra.SDK_VERSION,eventId:r};if(e instanceof Pu){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",ot.isEmpty(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof fp){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}i.tenantId&&(o.tid=i.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await i._getAppCheckToken(),u=l?`#${doe}=${encodeURIComponent(l)}`:"";return`${hoe(i)}?${ot.querystring(a).slice(1)}${u}`}function hoe({config:i}){return i.emulator?iS(i,coe):`https://${i.authDomain}/${uoe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="webStorageSupport";class foe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pS,this._completeRedirectFn=bS,this._overrideRedirectResult=X6}async _openPopup(e,t,n,r){var s;kl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await p_(e,t,n,gm(),r);return aoe(e,o,Ov())}async _openRedirect(e,t,n,r){await this._originValidation(e);const s=await p_(e,t,n,gm(),r);return Wre(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(kl(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await toe(e),n=new iL(e);return t.register("authEvent",r=>(ut(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dw,{type:Dw},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Dw];o!==void 0&&t(!!o),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zse(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return w6()||sS()||Vv()}}const oL=foe;class aL{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return hl("unexpected MultiFactorSessionType")}}}class CS extends aL{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new CS(e)}_finalizeEnroll(e,t,n){return Mre(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return ise(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class lL{constructor(){}static assertion(e){return CS._fromCredential(e)}}lL.FACTOR_ID="phone";class uL{static assertionForEnrollment(e,t){return ym._fromSecret(e,t)}static assertionForSignIn(e,t){return ym._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;ut(typeof t.auth<"u","internal-error");const n=await Fre(t.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Gb._fromStartTotpMfaEnrollmentResponse(n,t.auth)}}uL.FACTOR_ID="totp";class ym extends aL{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new ym(t,void 0,e)}static _fromEnrollmentId(e,t){return new ym(t,e)}async _finalizeEnroll(e,t,n){return ut(typeof this.secret<"u",e,"argument-error"),$re(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){ut(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const n={verificationCode:this.otp};return rse(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class Gb{constructor(e,t,n,r,s,o,a){this.sessionInfo=o,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=s}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Gb(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(Ey(e)||Ey(t))&&(r=!0),r&&(Ey(e)&&(e=((n=this.auth.currentUser)===null||n===void 0?void 0:n.email)||"unknownuser"),Ey(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Ey(i){return typeof i>"u"||(i==null?void 0:i.length)===0}var cR="@firebase/auth",dR="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function moe(i){ra._registerComponent(new YP.Component("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;ut(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:a,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aS(i)},u=new T6(n,r,s,l);return Nie(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ra._registerComponent(new YP.Component("auth-internal",e=>{const t=_r(e.getProvider("auth").getImmediate());return(n=>new poe(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ra.registerVersion(cR,dR,goe(i)),ra.registerVersion(cR,dR,"cjs2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe=5*60,yoe=ot.getExperimentalSetting("authIdTokenMaxAge")||voe;let hR=null;const boe=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>yoe)return;const r=t==null?void 0:t.token;hR!==r&&(hR=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Coe(i=ra.getApp()){const e=ra._getProvider(i,"auth");if(e.isInitialized())return e.getImmediate();const t=x6(i,{popupRedirectResolver:oL,persistence:[J6,j6,pS]}),n=ot.getExperimentalSetting("authTokenSyncURL");if(n){const s=boe(n);U6(t,s,()=>s(t.currentUser)),q6(t,o=>s(o))}const r=ot.getDefaultEmulatorHost("auth");return r&&P6(t,`http://${r}`),t}moe("Browser");je.AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY=uie;je.ActionCodeOperation=oie;je.ActionCodeURL=hp;je.AuthCredential=dp;je.AuthEventManager=iL;je.AuthImpl=T6;je.AuthPopup=f_;je.EmailAuthCredential=Sf;je.EmailAuthProvider=ed;je.FacebookAuthProvider=hu;je.FactorId=nie;je.FetchProvider=rS;je.GithubAuthProvider=pu;je.GoogleAuthProvider=fu;je.OAuthCredential=Al;je.OAuthProvider=Qg;je.OperationType=sie;je.PhoneAuthCredential=xc;je.PhoneAuthProvider=Gd;je.PhoneMultiFactorGenerator=lL;je.ProviderId=iie;je.RecaptchaVerifier=mse;je.SAMLAuthCredential=Tf;je.SAMLAuthProvider=r0;je.SignInMethod=rie;je.TotpMultiFactorGenerator=uL;je.TotpSecret=Gb;je.TwitterAuthProvider=gu;je.UserImpl=Tc;je._assert=ut;je._castAuth=_r;je._clearRedirectOutcomes=Vse;je._createError=ao;je._fail=Ns;je._generateEventId=Ov;je._getClientVersion=aS;je._getInstance=fl;je._getProjectConfig=sL;je._getRedirectResult=bS;je._getRedirectUrl=p_;je._isAndroid=oS;je._isIOS=Vv;je._isIOS7Or8=Tie;je._overrideRedirectResult=X6;je._persistenceKeyName=jg;je.applyActionCode=are;je.beforeAuthStateChanged=U6;je.browserLocalPersistence=j6;je.browserPopupRedirectResolver=oL;je.browserSessionPersistence=pS;je.checkActionCode=F6;je.confirmPasswordReset=ore;je.connectAuthEmulator=P6;je.createUserWithEmailAndPassword=ure;je.debugAssert=kl;je.debugErrorMap=lie;je.deleteUser=Ore;je.fetchSignInMethodsForEmail=gre;je.getAdditionalUserInfo=xre;je.getAuth=Coe;je.getIdToken=bie;je.getIdTokenResult=h6;je.getMultiFactorResolver=Dre;je.getRedirectResult=$se;je.inMemoryPersistence=d_;je.indexedDBLocalPersistence=J6;je.initializeAuth=x6;je.initializeRecaptchaConfig=Rre;je.isSignInWithEmailLink=hre;je.linkWithCredential=N6;je.linkWithPhoneNumber=bse;je.linkWithPopup=Pse;je.linkWithRedirect=Mse;je.multiFactor=qre;je.onAuthStateChanged=kre;je.onIdTokenChanged=q6;je.parseActionCodeURL=Zie;je.prodErrorMap=a6;je.reauthenticateWithCredential=M6;je.reauthenticateWithPhoneNumber=Cse;je.reauthenticateWithPopup=xse;je.reauthenticateWithRedirect=Dse;je.reload=p6;je.sendEmailVerification=mre;je.sendPasswordResetEmail=sre;je.sendSignInLinkToEmail=dre;je.setPersistence=Pre;je.signInAnonymously=tre;je.signInWithCredential=zb;je.signInWithCustomToken=rre;je.signInWithEmailAndPassword=cre;je.signInWithEmailLink=fre;je.signInWithPhoneNumber=yse;je.signInWithPopup=Tse;je.signInWithRedirect=Lse;je.signOut=Lre;je.unlink=nre;je.updateCurrentUser=Vre;je.updateEmail=Cre;je.updatePassword=wre;je.updatePhoneNumber=wse;je.updateProfile=bre;je.useDeviceLanguage=Are;je.verifyBeforeUpdateEmail=vre;je.verifyPasswordResetCode=lre;Object.defineProperty(dt,"__esModule",{value:!0});var ht=je;dt.ActionCodeOperation=ht.ActionCodeOperation;dt.ActionCodeURL=ht.ActionCodeURL;dt.AuthCredential=ht.AuthCredential;dt.AuthErrorCodes=ht.AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY;dt.EmailAuthCredential=ht.EmailAuthCredential;dt.EmailAuthProvider=ht.EmailAuthProvider;dt.FacebookAuthProvider=ht.FacebookAuthProvider;dt.FactorId=ht.FactorId;dt.GithubAuthProvider=ht.GithubAuthProvider;dt.GoogleAuthProvider=ht.GoogleAuthProvider;dt.OAuthCredential=ht.OAuthCredential;dt.OAuthProvider=ht.OAuthProvider;dt.OperationType=ht.OperationType;dt.PhoneAuthCredential=ht.PhoneAuthCredential;dt.PhoneAuthProvider=ht.PhoneAuthProvider;dt.PhoneMultiFactorGenerator=ht.PhoneMultiFactorGenerator;dt.ProviderId=ht.ProviderId;dt.RecaptchaVerifier=ht.RecaptchaVerifier;dt.SAMLAuthProvider=ht.SAMLAuthProvider;dt.SignInMethod=ht.SignInMethod;dt.TotpMultiFactorGenerator=ht.TotpMultiFactorGenerator;dt.TotpSecret=ht.TotpSecret;dt.TwitterAuthProvider=ht.TwitterAuthProvider;dt.applyActionCode=ht.applyActionCode;dt.beforeAuthStateChanged=ht.beforeAuthStateChanged;dt.browserLocalPersistence=ht.browserLocalPersistence;dt.browserPopupRedirectResolver=ht.browserPopupRedirectResolver;dt.browserSessionPersistence=ht.browserSessionPersistence;dt.checkActionCode=ht.checkActionCode;dt.confirmPasswordReset=ht.confirmPasswordReset;dt.connectAuthEmulator=ht.connectAuthEmulator;dt.createUserWithEmailAndPassword=ht.createUserWithEmailAndPassword;dt.debugErrorMap=ht.debugErrorMap;dt.deleteUser=ht.deleteUser;dt.fetchSignInMethodsForEmail=ht.fetchSignInMethodsForEmail;dt.getAdditionalUserInfo=ht.getAdditionalUserInfo;dt.getAuth=ht.getAuth;dt.getIdToken=ht.getIdToken;dt.getIdTokenResult=ht.getIdTokenResult;dt.getMultiFactorResolver=ht.getMultiFactorResolver;dt.getRedirectResult=ht.getRedirectResult;dt.inMemoryPersistence=ht.inMemoryPersistence;dt.indexedDBLocalPersistence=ht.indexedDBLocalPersistence;dt.initializeAuth=ht.initializeAuth;dt.initializeRecaptchaConfig=ht.initializeRecaptchaConfig;dt.isSignInWithEmailLink=ht.isSignInWithEmailLink;dt.linkWithCredential=ht.linkWithCredential;dt.linkWithPhoneNumber=ht.linkWithPhoneNumber;dt.linkWithPopup=ht.linkWithPopup;dt.linkWithRedirect=ht.linkWithRedirect;dt.multiFactor=ht.multiFactor;dt.onAuthStateChanged=ht.onAuthStateChanged;dt.onIdTokenChanged=ht.onIdTokenChanged;dt.parseActionCodeURL=ht.parseActionCodeURL;dt.prodErrorMap=ht.prodErrorMap;dt.reauthenticateWithCredential=ht.reauthenticateWithCredential;dt.reauthenticateWithPhoneNumber=ht.reauthenticateWithPhoneNumber;dt.reauthenticateWithPopup=ht.reauthenticateWithPopup;dt.reauthenticateWithRedirect=ht.reauthenticateWithRedirect;dt.reload=ht.reload;dt.sendEmailVerification=ht.sendEmailVerification;dt.sendPasswordResetEmail=ht.sendPasswordResetEmail;dt.sendSignInLinkToEmail=ht.sendSignInLinkToEmail;dt.setPersistence=ht.setPersistence;dt.signInAnonymously=ht.signInAnonymously;dt.signInWithCredential=ht.signInWithCredential;dt.signInWithCustomToken=ht.signInWithCustomToken;dt.signInWithEmailAndPassword=ht.signInWithEmailAndPassword;dt.signInWithEmailLink=ht.signInWithEmailLink;dt.signInWithPhoneNumber=ht.signInWithPhoneNumber;dt.signInWithPopup=ht.signInWithPopup;dt.signInWithRedirect=ht.signInWithRedirect;dt.signOut=ht.signOut;dt.unlink=ht.unlink;dt.updateCurrentUser=ht.updateCurrentUser;dt.updateEmail=ht.updateEmail;dt.updatePassword=ht.updatePassword;dt.updatePhoneNumber=ht.updatePhoneNumber;dt.updateProfile=ht.updateProfile;dt.useDeviceLanguage=ht.useDeviceLanguage;dt.verifyBeforeUpdateEmail=ht.verifyBeforeUpdateEmail;dt.verifyPasswordResetCode=ht.verifyPasswordResetCode;(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=dt;Object.keys(e).forEach(function(t){t!=="default"&&!i.hasOwnProperty(t)&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return e[t]}})})})(Fb);var wh={},ze={},Xo={};(function(){var i;function e(d){var g=0;return function(){return g<d.length?{done:!1,value:d[g++]}:{done:!0}}}function t(d){var g=typeof Symbol<"u"&&Symbol.iterator&&d[Symbol.iterator];if(g)return g.call(d);if(typeof d.length=="number")return{next:e(d)};throw Error(String(d)+" is not an iterable or ArrayLike")}var n=typeof Object.create=="function"?Object.create:function(d){function g(){}return g.prototype=d,new g},r=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,v){return d==Array.prototype||d==Object.prototype||(d[g]=v.value),d};function s(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zi=="object"&&Zi];for(var g=0;g<d.length;++g){var v=d[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var o=s(this);function a(d,g){if(g)e:{var v=o;d=d.split(".");for(var S=0;S<d.length-1;S++){var N=d[S];if(!(N in v))break e;v=v[N]}d=d[d.length-1],S=v[d],g=g(S),g!=S&&g!=null&&r(v,d,{configurable:!0,writable:!0,value:g})}}var l;if(typeof Object.setPrototypeOf=="function")l=Object.setPrototypeOf;else{var u;e:{var c={a:!0},h={};try{h.__proto__=c,u=h.a;break e}catch{}u=!1}l=u?function(d,g){if(d.__proto__=g,d.__proto__!==g)throw new TypeError(d+" is not extensible");return d}:null}var f=l;a("Symbol",function(d){function g(z){if(this instanceof g)throw new TypeError("Symbol is not a constructor");return new v(S+(z||"")+"_"+N++,z)}function v(z,F){this.g=z,r(this,"description",{configurable:!0,writable:!0,value:F})}if(d)return d;v.prototype.toString=function(){return this.g};var S="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",N=0;return g}),a("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var g="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),v=0;v<g.length;v++){var S=o[g[v]];typeof S=="function"&&typeof S.prototype[d]!="function"&&r(S.prototype,d,{configurable:!0,writable:!0,value:function(){return m(e(this))}})}return d});function m(d){return d={next:d},d[Symbol.iterator]=function(){return this},d}a("Promise",function(d){function g(F){this.g=0,this.i=void 0,this.h=[],this.o=!1;var _e=this.j();try{F(_e.resolve,_e.reject)}catch(Ve){_e.reject(Ve)}}function v(){this.g=null}function S(F){return F instanceof g?F:new g(function(_e){_e(F)})}if(d)return d;v.prototype.h=function(F){if(this.g==null){this.g=[];var _e=this;this.i(function(){_e.l()})}this.g.push(F)};var N=o.setTimeout;v.prototype.i=function(F){N(F,0)},v.prototype.l=function(){for(;this.g&&this.g.length;){var F=this.g;this.g=[];for(var _e=0;_e<F.length;++_e){var Ve=F[_e];F[_e]=null;try{Ve()}catch(Je){this.j(Je)}}}this.g=null},v.prototype.j=function(F){this.i(function(){throw F})},g.prototype.j=function(){function F(Je){return function(zt){Ve||(Ve=!0,Je.call(_e,zt))}}var _e=this,Ve=!1;return{resolve:F(this.B),reject:F(this.l)}},g.prototype.B=function(F){if(F===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(F instanceof g)this.D(F);else{e:switch(typeof F){case"object":var _e=F!=null;break e;case"function":_e=!0;break e;default:_e=!1}_e?this.A(F):this.m(F)}},g.prototype.A=function(F){var _e=void 0;try{_e=F.then}catch(Ve){this.l(Ve);return}typeof _e=="function"?this.G(_e,F):this.m(F)},g.prototype.l=function(F){this.s(2,F)},g.prototype.m=function(F){this.s(1,F)},g.prototype.s=function(F,_e){if(this.g!=0)throw Error("Cannot settle("+F+", "+_e+"): Promise already settled in state"+this.g);this.g=F,this.i=_e,this.g===2&&this.C(),this.u()},g.prototype.C=function(){var F=this;N(function(){if(F.v()){var _e=o.console;typeof _e<"u"&&_e.error(F.i)}},1)},g.prototype.v=function(){if(this.o)return!1;var F=o.CustomEvent,_e=o.Event,Ve=o.dispatchEvent;return typeof Ve>"u"?!0:(typeof F=="function"?F=new F("unhandledrejection",{cancelable:!0}):typeof _e=="function"?F=new _e("unhandledrejection",{cancelable:!0}):(F=o.document.createEvent("CustomEvent"),F.initCustomEvent("unhandledrejection",!1,!0,F)),F.promise=this,F.reason=this.i,Ve(F))},g.prototype.u=function(){if(this.h!=null){for(var F=0;F<this.h.length;++F)z.h(this.h[F]);this.h=null}};var z=new v;return g.prototype.D=function(F){var _e=this.j();F.la(_e.resolve,_e.reject)},g.prototype.G=function(F,_e){var Ve=this.j();try{F.call(_e,Ve.resolve,Ve.reject)}catch(Je){Ve.reject(Je)}},g.prototype.then=function(F,_e){function Ve(Gs,Ko){return typeof Gs=="function"?function(ju){try{Je(Gs(ju))}catch(Lh){zt(Lh)}}:Ko}var Je,zt,wi=new g(function(Gs,Ko){Je=Gs,zt=Ko});return this.la(Ve(F,Je),Ve(_e,zt)),wi},g.prototype.catch=function(F){return this.then(void 0,F)},g.prototype.la=function(F,_e){function Ve(){switch(Je.g){case 1:F(Je.i);break;case 2:_e(Je.i);break;default:throw Error("Unexpected state: "+Je.g)}}var Je=this;this.h==null?z.h(Ve):this.h.push(Ve),this.o=!0},g.resolve=S,g.reject=function(F){return new g(function(_e,Ve){Ve(F)})},g.race=function(F){return new g(function(_e,Ve){for(var Je=t(F),zt=Je.next();!zt.done;zt=Je.next())S(zt.value).la(_e,Ve)})},g.all=function(F){var _e=t(F),Ve=_e.next();return Ve.done?S([]):new g(function(Je,zt){function wi(ju){return function(Lh){Gs[ju]=Lh,Ko--,Ko==0&&Je(Gs)}}var Gs=[],Ko=0;do Gs.push(void 0),Ko++,S(Ve.value).la(wi(Gs.length-1),zt),Ve=_e.next();while(!Ve.done)})},g});function b(d,g){d instanceof String&&(d+="");var v=0,S=!1,N={next:function(){if(!S&&v<d.length){var z=v++;return{value:g(z,d[z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}a("Array.prototype.values",function(d){return d||function(){return b(this,function(g,v){return v})}}),a("Array.prototype.keys",function(d){return d||function(){return b(this,function(g){return g})}});function _(d,g){return Object.prototype.hasOwnProperty.call(d,g)}a("WeakMap",function(d){function g(Ve){if(this.g=(_e+=Math.random()+1).toString(),Ve){Ve=t(Ve);for(var Je;!(Je=Ve.next()).done;)Je=Je.value,this.set(Je[0],Je[1])}}function v(){}function S(Ve){var Je=typeof Ve;return Je==="object"&&Ve!==null||Je==="function"}function N(Ve){if(!_(Ve,F)){var Je=new v;r(Ve,F,{value:Je})}}function z(Ve){var Je=Object[Ve];Je&&(Object[Ve]=function(zt){return zt instanceof v?zt:(Object.isExtensible(zt)&&N(zt),Je(zt))})}if(function(){if(!d||!Object.seal)return!1;try{var Ve=Object.seal({}),Je=Object.seal({}),zt=new d([[Ve,2],[Je,3]]);return zt.get(Ve)!=2||zt.get(Je)!=3?!1:(zt.delete(Ve),zt.set(Je,4),!zt.has(Ve)&&zt.get(Je)==4)}catch{return!1}}())return d;var F="$jscomp_hidden_"+Math.random();z("freeze"),z("preventExtensions"),z("seal");var _e=0;return g.prototype.set=function(Ve,Je){if(!S(Ve))throw Error("Invalid WeakMap key");if(N(Ve),!_(Ve,F))throw Error("WeakMap key fail: "+Ve);return Ve[F][this.g]=Je,this},g.prototype.get=function(Ve){return S(Ve)&&_(Ve,F)?Ve[F][this.g]:void 0},g.prototype.has=function(Ve){return S(Ve)&&_(Ve,F)&&_(Ve[F],this.g)},g.prototype.delete=function(Ve){return S(Ve)&&_(Ve,F)&&_(Ve[F],this.g)?delete Ve[F][this.g]:!1},g}),a("Map",function(d){function g(){var _e={};return _e.V=_e.next=_e.head=_e}function v(_e,Ve){var Je=_e.g;return m(function(){if(Je){for(;Je.head!=_e.g;)Je=Je.V;for(;Je.next!=Je.head;)return Je=Je.next,{done:!1,value:Ve(Je)};Je=null}return{done:!0,value:void 0}})}function S(_e,Ve){var Je=Ve&&typeof Ve;Je=="object"||Je=="function"?z.has(Ve)?Je=z.get(Ve):(Je=""+ ++F,z.set(Ve,Je)):Je="p_"+Ve;var zt=_e.h[Je];if(zt&&_(_e.h,Je))for(_e=0;_e<zt.length;_e++){var wi=zt[_e];if(Ve!==Ve&&wi.key!==wi.key||Ve===wi.key)return{id:Je,list:zt,index:_e,K:wi}}return{id:Je,list:zt,index:-1,K:void 0}}function N(_e){if(this.h={},this.g=g(),this.size=0,_e){_e=t(_e);for(var Ve;!(Ve=_e.next()).done;)Ve=Ve.value,this.set(Ve[0],Ve[1])}}if(function(){if(!d||typeof d!="function"||!d.prototype.entries||typeof Object.seal!="function")return!1;try{var _e=Object.seal({x:4}),Ve=new d(t([[_e,"s"]]));if(Ve.get(_e)!="s"||Ve.size!=1||Ve.get({x:4})||Ve.set({x:4},"t")!=Ve||Ve.size!=2)return!1;var Je=Ve.entries(),zt=Je.next();return zt.done||zt.value[0]!=_e||zt.value[1]!="s"?!1:(zt=Je.next(),!(zt.done||zt.value[0].x!=4||zt.value[1]!="t"||!Je.next().done))}catch{return!1}}())return d;var z=new WeakMap;N.prototype.set=function(_e,Ve){_e=_e===0?0:_e;var Je=S(this,_e);return Je.list||(Je.list=this.h[Je.id]=[]),Je.K?Je.K.value=Ve:(Je.K={next:this.g,V:this.g.V,head:this.g,key:_e,value:Ve},Je.list.push(Je.K),this.g.V.next=Je.K,this.g.V=Je.K,this.size++),this},N.prototype.delete=function(_e){return _e=S(this,_e),_e.K&&_e.list?(_e.list.splice(_e.index,1),_e.list.length||delete this.h[_e.id],_e.K.V.next=_e.K.next,_e.K.next.V=_e.K.V,_e.K.head=null,this.size--,!0):!1},N.prototype.clear=function(){this.h={},this.g=this.g.V=g(),this.size=0},N.prototype.has=function(_e){return!!S(this,_e).K},N.prototype.get=function(_e){return(_e=S(this,_e).K)&&_e.value},N.prototype.entries=function(){return v(this,function(_e){return[_e.key,_e.value]})},N.prototype.keys=function(){return v(this,function(_e){return _e.key})},N.prototype.values=function(){return v(this,function(_e){return _e.value})},N.prototype.forEach=function(_e,Ve){for(var Je=this.entries(),zt;!(zt=Je.next()).done;)zt=zt.value,_e.call(Ve,zt[1],zt[0],this)},N.prototype[Symbol.iterator]=N.prototype.entries;var F=0;return N}),a("Array.prototype.find",function(d){return d||function(g,v){e:{var S=this;S instanceof String&&(S=String(S));for(var N=S.length,z=0;z<N;z++){var F=S[z];if(g.call(v,F,z,S)){g=F;break e}}g=void 0}return g}}),a("Array.prototype.entries",function(d){return d||function(){return b(this,function(g,v){return[g,v]})}}),a("Array.from",function(d){return d||function(g,v,S){v=v??function(_e){return _e};var N=[],z=typeof Symbol<"u"&&Symbol.iterator&&g[Symbol.iterator];if(typeof z=="function"){g=z.call(g);for(var F=0;!(z=g.next()).done;)N.push(v.call(S,z.value,F++))}else for(z=g.length,F=0;F<z;F++)N.push(v.call(S,g[F],F));return N}}),a("Set",function(d){function g(v){if(this.g=new Map,v){v=t(v);for(var S;!(S=v.next()).done;)this.add(S.value)}this.size=this.g.size}return function(){if(!d||typeof d!="function"||!d.prototype.entries||typeof Object.seal!="function")return!1;try{var v=Object.seal({x:4}),S=new d(t([v]));if(!S.has(v)||S.size!=1||S.add(v)!=S||S.size!=1||S.add({x:4})!=S||S.size!=2)return!1;var N=S.entries(),z=N.next();return z.done||z.value[0]!=v||z.value[1]!=v?!1:(z=N.next(),z.done||z.value[0]==v||z.value[0].x!=4||z.value[1]!=z.value[0]?!1:N.next().done)}catch{return!1}}()?d:(g.prototype.add=function(v){return v=v===0?0:v,this.g.set(v,v),this.size=this.g.size,this},g.prototype.delete=function(v){return v=this.g.delete(v),this.size=this.g.size,v},g.prototype.clear=function(){this.g.clear(),this.size=0},g.prototype.has=function(v){return this.g.has(v)},g.prototype.entries=function(){return this.g.entries()},g.prototype.values=function(){return this.g.values()},g.prototype.keys=g.prototype.values,g.prototype[Symbol.iterator]=g.prototype.values,g.prototype.forEach=function(v,S){var N=this;this.g.forEach(function(z){return v.call(S,z,z,N)})},g)});var E=E||{},k=this||self;function j(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function M(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function q(d,g,v){return d.call.apply(d.bind,arguments)}function J(d,g,v){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,S),d.apply(g,N)}}return function(){return d.apply(g,arguments)}}function Z(d,g,v){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Z=q:Z=J,Z.apply(null,arguments)}function L(d,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function y(d,g){function v(){}v.prototype=g.prototype,d.Z=g.prototype,d.prototype=new v,d.prototype.constructor=d,d.dc=function(S,N,z){for(var F=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)F[_e-2]=arguments[_e];return g.prototype[N].apply(S,F)}}function w(){this.s=this.s,this.o=this.o}var R=0;w.prototype.s=!1,w.prototype.va=function(){!this.s&&(this.s=!0,this.O(),R!=0)},w.prototype.O=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var U=Array.prototype.indexOf?function(d,g){return Array.prototype.indexOf.call(d,g,void 0)}:function(d,g){if(typeof d=="string")return typeof g!="string"||g.length!=1?-1:d.indexOf(g,0);for(var v=0;v<d.length;v++)if(v in d&&d[v]===g)return v;return-1};function H(d){var g=d.length;if(0<g){for(var v=Array(g),S=0;S<g;S++)v[S]=d[S];return v}return[]}function B(d,g){for(var v=1;v<arguments.length;v++){var S=arguments[v];if(j(S)){var N=d.length||0,z=S.length||0;d.length=N+z;for(var F=0;F<z;F++)d[N+F]=S[F]}else d.push(S)}}function Oe(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{k.addEventListener("test",function(){},g),k.removeEventListener("test",function(){},g)}catch{}return d}();function tt(d){return/^[\s\xa0]*$/.test(d)}function Ne(){var d=k.navigator;return d&&(d=d.userAgent)?d:""}function Me(d){return Ne().indexOf(d)!=-1}function qe(d){return qe[" "](d),d}qe[" "]=function(){};function Ue(d,g){var v=CB;return Object.prototype.hasOwnProperty.call(v,d)?v[d]:v[d]=g(d)}var We=Me("Opera"),Re=Me("Trident")||Me("MSIE"),Le=Me("Edge"),Ct=Le||Re,It=Me("Gecko")&&!(Ne().toLowerCase().indexOf("webkit")!=-1&&!Me("Edge"))&&!(Me("Trident")||Me("MSIE"))&&!Me("Edge"),Dt=Ne().toLowerCase().indexOf("webkit")!=-1&&!Me("Edge");function fe(){var d=k.document;return d?d.documentMode:void 0}var ve;e:{var Ee="",$e=function(){var d=Ne();if(It)return/rv:([^\);]+)(\)|;)/.exec(d);if(Le)return/Edge\/([\d\.]+)/.exec(d);if(Re)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(d);if(Dt)return/WebKit\/(\S+)/.exec(d);if(We)return/(?:Version)[ \/]?(\S+)/.exec(d)}();if($e&&(Ee=$e?$e[1]:""),Re){var Fe=fe();if(Fe!=null&&Fe>parseFloat(Ee)){ve=String(Fe);break e}}ve=Ee}var Vt;if(k.document&&Re){var at=fe();Vt=at||parseInt(ve,10)||void 0}else Vt=void 0;var de=Vt;function Ke(d,g){if(Oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var v=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(It){e:{try{qe(g.nodeName);var N=!0;break e}catch{}N=!1}N||(g=null)}}else v=="mouseover"?g=d.fromElement:v=="mouseout"&&(g=d.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:$t[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ke.Z.h.call(this)}}y(Ke,Oe);var $t={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.Z.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),jt=0;function yn(d,g,v,S,N){this.listener=d,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.oa=N,this.key=++jt,this.ha=this.ka=!1}function ne(d){d.ha=!0,d.listener=null,d.proxy=null,d.src=null,d.oa=null}function re(d,g,v){for(var S in d)g.call(v,d[S],S,d)}function ke(d,g){for(var v in d)g.call(void 0,d[v],v,d)}function pt(d){var g={},v;for(v in d)g[v]=d[v];return g}var Wt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(d,g){for(var v,S,N=1;N<arguments.length;N++){S=arguments[N];for(v in S)d[v]=S[v];for(var z=0;z<Wt.length;z++)v=Wt[z],Object.prototype.hasOwnProperty.call(S,v)&&(d[v]=S[v])}}function le(d){this.src=d,this.g={},this.h=0}le.prototype.add=function(d,g,v,S,N){var z=d.toString();d=this.g[z],d||(d=this.g[z]=[],this.h++);var F=Yt(d,g,S,N);return-1<F?(g=d[F],v||(g.ka=!1)):(g=new yn(g,this.src,z,!!S,N),g.ka=v,d.push(g)),g};function Se(d,g){var v=g.type;if(v in d.g){var S=d.g[v],N=U(S,g),z;(z=0<=N)&&Array.prototype.splice.call(S,N,1),z&&(ne(g),d.g[v].length==0&&(delete d.g[v],d.h--))}}function Yt(d,g,v,S){for(var N=0;N<d.length;++N){var z=d[N];if(!z.ha&&z.listener==g&&z.capture==!!v&&z.oa==S)return N}return-1}var Cn="closure_lm_"+(1e6*Math.random()|0),xi={};function Gn(d,g,v,S,N){if(Array.isArray(g)){for(var z=0;z<g.length;z++)Gn(d,g[z],v,S,N);return null}return v=Ye(v),d&&d[Jt]?d.P(g,v,M(S)?!!S.capture:!1,N):Bn(d,g,v,!1,S,N)}function Bn(d,g,v,S,N,z){if(!g)throw Error("Invalid event type");var F=M(N)?!!N.capture:!!N,_e=as(d);if(_e||(d[Cn]=_e=new le(d)),v=_e.add(g,v,S,F,z),v.proxy)return v;if(S=Ir(),v.proxy=S,S.src=d,S.listener=v,d.addEventListener)De||(N=F),N===void 0&&(N=!1),d.addEventListener(g.toString(),S,N);else if(d.attachEvent)d.attachEvent(Wa(g.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ir(){function d(v){return g.call(d.src,d.listener,v)}var g=Li;return d}function os(d,g,v,S,N){if(Array.isArray(g))for(var z=0;z<g.length;z++)os(d,g[z],v,S,N);else S=M(S)?!!S.capture:!!S,v=Ye(v),d&&d[Jt]?(d=d.i,g=String(g).toString(),g in d.g&&(z=d.g[g],v=Yt(z,v,S,N),-1<v&&(ne(z[v]),Array.prototype.splice.call(z,v,1),z.length==0&&(delete d.g[g],d.h--)))):d&&(d=as(d))&&(g=d.g[g.toString()],d=-1,g&&(d=Yt(g,v,S,N)),(v=-1<d?g[d]:null)&&Fs(v))}function Fs(d){if(typeof d!="number"&&d&&!d.ha){var g=d.src;if(g&&g[Jt])Se(g.i,d);else{var v=d.type,S=d.proxy;g.removeEventListener?g.removeEventListener(v,S,d.capture):g.detachEvent?g.detachEvent(Wa(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=as(g))?(Se(v,d),v.h==0&&(v.src=null,g[Cn]=null)):ne(d)}}}function Wa(d){return d in xi?xi[d]:xi[d]="on"+d}function Li(d,g){if(d.ha)d=!0;else{g=new Ke(g,this);var v=d.listener,S=d.oa||d.src;d.ka&&Fs(d),d=v.call(S,g)}return d}function as(d){return d=d[Cn],d instanceof le?d:null}var rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(d){return typeof d=="function"?d:(d[rt]||(d[rt]=function(g){return d.handleEvent(g)}),d[rt])}function it(){w.call(this),this.i=new le(this),this.T=this,this.J=null}y(it,w),it.prototype[Jt]=!0,it.prototype.removeEventListener=function(d,g,v,S){os(this,d,g,v,S)};function mt(d,g){var v,S=d.J;if(S)for(v=[];S;S=S.J)v.push(S);if(d=d.T,S=g.type||g,typeof g=="string")g=new Oe(g,d);else if(g instanceof Oe)g.target=g.target||d;else{var N=g;g=new Oe(S,d),Tt(g,N)}if(N=!0,v)for(var z=v.length-1;0<=z;z--){var F=g.g=v[z];N=qt(F,S,!0,g)&&N}if(F=g.g=d,N=qt(F,S,!0,g)&&N,N=qt(F,S,!1,g)&&N,v)for(z=0;z<v.length;z++)F=g.g=v[z],N=qt(F,S,!1,g)&&N}it.prototype.O=function(){if(it.Z.O.call(this),this.i){var d=this.i,g;for(g in d.g){for(var v=d.g[g],S=0;S<v.length;S++)ne(v[S]);delete d.g[g],d.h--}}this.J=null},it.prototype.P=function(d,g,v,S){return this.i.add(String(d),g,!1,v,S)},it.prototype.R=function(d,g,v,S){return this.i.add(String(d),g,!0,v,S)};function qt(d,g,v,S){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var N=!0,z=0;z<g.length;++z){var F=g[z];if(F&&!F.ha&&F.capture==v){var _e=F.listener,Ve=F.oa||F.src;F.ka&&Se(d.i,F),N=_e.call(Ve,S)!==!1&&N}}return N&&!S.defaultPrevented}var Qt=k.JSON.stringify;function xn(d,g){this.i=d,this.j=g,this.h=0,this.g=null}xn.prototype.get=function(){if(0<this.h){this.h--;var d=this.g;this.g=d.next,d.next=null}else d=this.i();return d};function bn(){this.h=this.g=null}bn.prototype.add=function(d,g){var v=Wr.get();v.set(d,g),this.h?this.h.next=v:this.g=v,this.h=v};function Hi(){var d=$l,g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}var Wr=new xn(function(){return new Gr},function(d){return d.reset()});function Gr(){this.next=this.g=this.h=null}Gr.prototype.set=function(d,g){this.h=d,this.g=g,this.next=null},Gr.prototype.reset=function(){this.next=this.g=this.h=null};function un(d){var g=1;d=d.split(":");for(var v=[];0<g&&d.length;)v.push(d.shift()),g--;return d.length&&v.push(d.join(":")),v}function Oi(d){k.setTimeout(function(){throw d},0)}var zi,ls=!1,$l=new bn;function fo(d,g){zi||us(),ls||(zi(),ls=!0),$l.add(d,g)}function us(){var d=k.Promise.resolve(void 0);zi=function(){d.then(Nu)}}function Nu(){for(var d;d=Hi();){try{d.h.call(d.g)}catch(v){Oi(v)}var g=Wr;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}ls=!1}function Ga(d,g){it.call(this),this.h=d||1,this.g=g||k,this.j=Z(this.tb,this),this.l=Date.now()}y(Ga,it),i=Ga.prototype,i.ia=!1,i.U=null,i.tb=function(){if(this.ia){var d=Date.now()-this.l;0<d&&d<.8*this.h?this.U=this.g.setTimeout(this.j,this.h-d):(this.U&&(this.g.clearTimeout(this.U),this.U=null),mt(this,"tick"),this.ia&&(Bo(this),this.start()))}},i.start=function(){this.ia=!0,this.U||(this.U=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bo(d){d.ia=!1,d.U&&(d.g.clearTimeout(d.U),d.U=null)}i.O=function(){Ga.Z.O.call(this),Bo(this),delete this.g};function Bl(d,g,v){if(typeof d=="function")v&&(d=Z(d,v));else if(d&&typeof d.handleEvent=="function")d=Z(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:k.setTimeout(d,g||0)}function Lr(d,g,v){w.call(this),this.m=v!=null?d.bind(v):d,this.j=g,this.h=null,this.i=!1,this.g=null}if(Lr.prototype=n(w.prototype),Lr.prototype.constructor=Lr,f)f(Lr,w);else for(var $s in w)if($s!="prototype")if(Object.defineProperties){var Ss=Object.getOwnPropertyDescriptor(w,$s);Ss&&Object.defineProperty(Lr,$s,Ss)}else Lr[$s]=w[$s];Lr.Z=w.prototype,Lr.prototype.l=function(d){this.h=arguments,this.g?this.i=!0:Ka(this)},Lr.prototype.O=function(){w.prototype.O.call(this),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)};function Ka(d){d.g=Bl(function(){d.g=null,d.i&&(d.i=!1,Ka(d))},d.j);var g=d.h;d.h=null,d.m.apply(null,g)}function po(d){w.call(this),this.h=d,this.g={}}y(po,w);var go=[];function qo(d,g,v,S){Array.isArray(v)||(v&&(go[0]=v.toString()),v=go);for(var N=0;N<v.length;N++){var z=Gn(g,v[N],S||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}}function ql(d){re(d.g,function(g,v){this.g.hasOwnProperty(v)&&Fs(g)},d),d.g={}}po.prototype.O=function(){po.Z.O.call(this),ql(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uo(){this.g=!0}Uo.prototype.Ha=function(){this.g=!1};function Mu(d,g,v,S,N,z){d.info(function(){if(d.g)if(z)for(var F="",_e=z.split("&"),Ve=0;Ve<_e.length;Ve++){var Je=_e[Ve].split("=");if(1<Je.length){var zt=Je[0];Je=Je[1];var wi=zt.split("_");F=2<=wi.length&&wi[1]=="type"?F+(zt+"="+Je+"&"):F+(zt+"=redacted&")}}else F=null;else F=z;return"XMLHTTP REQ ("+S+") [attempt "+N+"]: "+g+`
`+v+`
`+F})}function ga(d,g,v,S,N,z,F){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+N+"]: "+g+`
`+v+`
`+z+" "+F})}function mo(d,g,v,S){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+vo(d,v)+(S?" "+S:"")})}function Fi(d,g){d.info(function(){return"TIMEOUT: "+g})}Uo.prototype.info=function(){};function vo(d,g){if(!d.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(d=0;d<v.length;d++)if(Array.isArray(v[d])){var S=v[d];if(!(2>S.length)){var N=S[1];if(Array.isArray(N)&&!(1>N.length)){var z=N[0];if(z!="noop"&&z!="stop"&&z!="close")for(var F=1;F<N.length;F++)N[F]=""}}}}return Qt(v)}catch{return g}}var Er={},Ts=null;function Ho(){return Ts=Ts||new it}Er.Wa="serverreachability";function Ul(d){Oe.call(this,Er.Wa,d)}y(Ul,Oe);function ji(d){var g=Ho();mt(g,new Ul(g))}Er.STAT_EVENT="statevent";function ma(d,g){Oe.call(this,Er.STAT_EVENT,d),this.stat=g}y(ma,Oe);function Di(d){var g=Ho();mt(g,new ma(g,d))}Er.Xa="timingevent";function Ja(d,g){Oe.call(this,Er.Xa,d),this.size=g}y(Ja,Oe);function yo(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){d()},g)}var bo={NO_ERROR:0,ub:1,Hb:2,Gb:3,Bb:4,Fb:5,Ib:6,Ta:7,TIMEOUT:8,Lb:9},Bs={zb:"complete",Vb:"success",Ua:"error",Ta:"abort",Nb:"ready",Ob:"readystatechange",TIMEOUT:"timeout",Jb:"incrementaldata",Mb:"progress",Cb:"downloadprogress",cc:"uploadprogress"};function Ya(){}Ya.prototype.h=null;function Za(d){return d.h||(d.h=d.i())}function va(){}var zo={OPEN:"a",yb:"b",Ua:"c",Kb:"d"};function cs(){Oe.call(this,"d")}y(cs,Oe);function Kr(){Oe.call(this,"c")}y(Kr,Oe);var Co;function qs(){}y(qs,Ya),qs.prototype.g=function(){return new XMLHttpRequest},qs.prototype.i=function(){return{}},Co=new qs;function jo(d,g,v,S){this.l=d,this.j=g,this.m=v,this.Y=S||1,this.W=new po(this),this.R=ya,d=Ct?125:void 0,this.X=new Ga(d),this.I=null,this.i=!1,this.s=this.A=this.v=this.M=this.G=this.aa=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.ea=-1,this.J=!1,this.P=0,this.N=null,this.da=this.L=this.ca=this.T=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var ya=45e3,Us={},xs={};i=jo.prototype,i.setTimeout=function(d){this.R=d};function Hl(d,g,v){d.M=1,d.v=Qs(ds(g)),d.s=v,d.T=!0,zl(d,null)}function zl(d,g){d.G=Date.now(),ba(d),d.A=ds(d.v);var v=d.A,S=d.Y;Array.isArray(S)||(S=[String(S)]),Nt(v.i,"t",S),d.C=0,v=d.l.J,d.h=new zn,d.g=ue(d.l,v?g:null,!d.s),0<d.P&&(d.N=new Lr(Z(d.Sa,d,d.g),d.P)),qo(d.W,d.g,"readystatechange",d.qb),g=d.I?pt(d.I):{},d.s?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ja(d.A,d.u,d.s,g)):(d.u="GET",d.g.ja(d.A,d.u,null,g)),ji(),Mu(d.j,d.u,d.A,d.m,d.Y,d.s)}i.qb=function(d){d=d.target;var g=this.N;g&&Kn(d)==3?g.l():this.Sa(d)},i.Sa=function(d){try{if(d==this.g)e:{var g=Kn(this.g),v=this.g.La(),S=this.g.fa();if(!(3>g)&&(g!=3||Ct||this.g&&(this.h.h||this.g.ma()||wn(this.g)))){this.J||g!=4||v==7||(v==8||0>=S?ji(3):ji(2)),Or(this);var N=this.g.fa();this.ea=N;t:if(jl(this)){var z=wn(this.g);d="";var F=z.length,_e=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rs(this),wo(this);var Ve="";break t}this.h.i=new k.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,d+=this.h.i.decode(z[v],{stream:_e&&v==F-1});z.splice(0,F),this.h.g+=d,this.C=0,Ve=this.h.g}else Ve=this.g.ma();if(this.i=N==200,ga(this.j,this.u,this.A,this.m,this.Y,g,N),this.i){if(this.ca&&!this.L){t:{if(this.g){var Je,zt=this.g;if((Je=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(Je)){var wi=Je;break t}}wi=null}if(N=wi)mo(this.j,this.m,N,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xa(this,N);else{this.i=!1,this.o=3,Di(12),Rs(this),wo(this);break e}}this.T?(Fu(this,g,Ve),Ct&&this.i&&g==3&&(qo(this.W,this.X,"tick",this.pb),this.X.start())):(mo(this.j,this.m,Ve,null),Xa(this,Ve)),g==4&&Rs(this),this.i&&!this.J&&(g==4?ln(this.l,this):(this.i=!1,ba(this)))}else gr(this.g),N==400&&0<Ve.indexOf("Unknown SID")?(this.o=3,Di(12)):(this.o=0,Di(13)),Rs(this),wo(this)}}}catch{}finally{}};function jl(d){return d.g?d.u=="GET"&&d.M!=2&&d.l.Ka:!1}function Fu(d,g,v){for(var S=!0,N;!d.J&&d.C<v.length;)if(N=$u(d,v),N==xs){g==4&&(d.o=4,Di(14),S=!1),mo(d.j,d.m,null,"[Incomplete Response]");break}else if(N==Us){d.o=4,Di(15),mo(d.j,d.m,v,"[Invalid Chunk]"),S=!1;break}else mo(d.j,d.m,N,null),Xa(d,N);jl(d)&&N!=xs&&N!=Us&&(d.h.g="",d.C=0),g!=4||v.length!=0||d.h.h||(d.o=1,Di(16),S=!1),d.i=d.i&&S,S?0<v.length&&!d.da&&(d.da=!0,g=d.l,g.g==d&&g.ea&&!g.N&&(g.l.info("Great, no buffering proxy detected. Bytes received: "+v.length),nl(g),g.N=!0,Di(11))):(mo(d.j,d.m,v,"[Invalid Chunked Response]"),Rs(d),wo(d))}i.pb=function(){if(this.g){var d=Kn(this.g),g=this.g.ma();this.C<g.length&&(Or(this),Fu(this,d,g),this.i&&d!=4&&ba(this))}};function $u(d,g){var v=d.C,S=g.indexOf(`
`,v);return S==-1?xs:(v=Number(g.substring(v,S)),isNaN(v)?Us:(S+=1,S+v>g.length?xs:(g=g.slice(S,S+v),d.C=S+v,g)))}i.cancel=function(){this.J=!0,Rs(this)};function ba(d){d.aa=Date.now()+d.R,Ps(d,d.R)}function Ps(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=yo(Z(d.ob,d),g)}function Or(d){d.B&&(k.clearTimeout(d.B),d.B=null)}i.ob=function(){this.B=null;var d=Date.now();0<=d-this.aa?(Fi(this.j,this.A),this.M!=2&&(ji(),Di(17)),Rs(this),this.o=2,wo(this)):Ps(this,this.aa-d)};function wo(d){d.l.H==0||d.J||ln(d.l,d)}function Rs(d){Or(d);var g=d.N;g&&typeof g.va=="function"&&g.va(),d.N=null,Bo(d.X),ql(d.W),d.g&&(g=d.g,d.g=null,g.abort(),g.va())}function Xa(d,g){try{var v=d.l;if(v.H!=0&&(v.g==d||An(v.i,d))){if(!d.L&&An(v.i,d)&&v.H==3){try{var S=v.Ma.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var N=S;if(N[0]==0){e:if(!v.u){if(v.g)if(v.g.G+3e3<d.G)il(v),vd(v);else break e;kh(v),Di(18)}}else v.Ia=N[1],0<v.Ia-v.X&&37500>N[2]&&v.G&&v.A==0&&!v.v&&(v.v=yo(Z(v.lb,v),6e3));if(1>=ai(v.i)&&v.ra){try{v.ra()}catch{}v.ra=void 0}}else Gl(v,11)}else if((d.L||v.g==d)&&il(v),!tt(g))for(N=v.Ma.g.parse(g),g=0;g<N.length;g++){var z=N[g];if(v.X=z[0],z=z[1],v.H==2)if(z[0]=="c"){v.L=z[1],v.sa=z[2];var F=z[3];F!=null&&(v.ua=F,v.l.info("VER="+v.ua));var _e=z[4];_e!=null&&(v.Ja=_e,v.l.info("SVER="+v.Ja));var Ve=z[5];Ve!=null&&typeof Ve=="number"&&0<Ve&&(S=1.5*Ve,v.M=S,v.l.info("backChannelRequestTimeoutMs_="+S)),S=v;var Je=d.g;if(Je){var zt=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var wi=S.i;wi.g||zt.indexOf("spdy")==-1&&zt.indexOf("quic")==-1&&zt.indexOf("h2")==-1||(wi.j=wi.l,wi.g=new Set,wi.h&&(nt(wi,wi.h),wi.h=null))}if(S.D){var Gs=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(S.Ga=Gs,kn(S.I,S.D,Gs))}}v.H=3,v.h&&v.h.Ea(),v.ea&&(v.T=Date.now()-d.G,v.l.info("Handshake RTT: "+v.T+"ms")),S=v;var Ko=d;if(S.za=A(S,S.J?S.sa:null,S.aa),Ko.L){ct(S.i,Ko);var ju=Ko,Lh=S.M;Lh&&ju.setTimeout(Lh),ju.B&&(Or(ju),ba(ju)),S.g=Ko}else jp(S);0<v.j.length&&Rh(v)}else z[0]!="stop"&&z[0]!="close"||Gl(v,7);else v.H==3&&(z[0]=="stop"||z[0]=="close"?z[0]=="stop"?Gl(v,7):Wl(v):z[0]!="noop"&&v.h&&v.h.Da(z),v.A=0)}}ji(4)}catch{}}function Qo(d){if(d.ba&&typeof d.ba=="function")return d.ba();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(j(d)){for(var g=[],v=d.length,S=0;S<v;S++)g.push(d[S]);return g}g=[],v=0;for(S in d)g[v++]=d[S];return g}function pd(d){if(d.wa&&typeof d.wa=="function")return d.wa();if(!d.ba||typeof d.ba!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(j(d)||typeof d=="string"){var g=[];d=d.length;for(var v=0;v<d;v++)g.push(v);return g}g=[],v=0;for(var S in d)g[v++]=S;return g}}}function Bu(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(j(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var v=pd(d),S=Qo(d),N=S.length,z=0;z<N;z++)g.call(void 0,S[z],v&&v[z],d)}var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(d,g){if(d){d=d.split("&");for(var v=0;v<d.length;v++){var S=d[v].indexOf("="),N=null;if(0<=S){var z=d[v].substring(0,S);N=d[v].substring(S+1)}else z=d[v];g(z,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function zs(d){this.g=this.s=this.j="",this.o=null,this.m=this.h="",this.l=!1;var g;d instanceof zs?(this.l=d.l,js(this,d.j),this.s=d.s,this.g=d.g,ks(this,d.o),this.h=d.h,Ca(this,Et(d.i)),this.m=d.m):d&&(g=String(d).match(qu))?(this.l=!1,js(this,g[1]||"",!0),this.s=Ws(g[2]||""),this.g=Ws(g[3]||"",!0),ks(this,g[4]),this.h=Ws(g[5]||"",!0),Ca(this,g[6]||"",!0),this.m=Ws(g[7]||"")):(this.l=!1,this.i=new ie(null,this.l))}zs.prototype.toString=function(){var d=[],g=this.j;g&&d.push(_o(g,Uu,!0),":");var v=this.g;return(v||g=="file")&&(d.push("//"),(g=this.s)&&d.push(_o(g,Uu,!0),"@"),d.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.o,v!=null&&d.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(_o(v,v.charAt(0)=="/"?O:gd,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",_o(v,ee)),d.join("")},zs.prototype.resolve=function(d){var g=ds(this),v=!!d.j;v?js(g,d.j):v=!!d.s,v?g.s=d.s:v=!!d.g,v?g.g=d.g:v=d.o!=null;var S=d.h;if(v)ks(g,d.o);else if(v=!!d.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var N=g.h.lastIndexOf("/");N!=-1&&(S=g.h.slice(0,N+1)+S)}if(N=S,N==".."||N==".")S="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){S=N.lastIndexOf("/",0)==0,N=N.split("/");for(var z=[],F=0;F<N.length;){var _e=N[F++];_e=="."?S&&F==N.length&&z.push(""):_e==".."?((1<z.length||z.length==1&&z[0]!="")&&z.pop(),S&&F==N.length&&z.push("")):(z.push(_e),S=!0)}S=z.join("/")}else S=N}return v?g.h=S:v=d.i.toString()!=="",v?Ca(g,Et(d.i)):v=!!d.m,v&&(g.m=d.m),g};function ds(d){return new zs(d)}function js(d,g,v){d.j=v?Ws(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function ks(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.o=g}else d.o=null}function Ca(d,g,v){g instanceof ie?(d.i=g,mn(d.i,d.l)):(v||(g=_o(g,V)),d.i=new ie(g,d.l))}function kn(d,g,v){d.i.set(g,v)}function Qs(d){return kn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ws(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _o(d,g,v){return typeof d=="string"?(d=encodeURI(d).replace(g,bi),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function bi(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Uu=/[#\/\?@]/g,gd=/[#\?:]/g,O=/[#\?]/g,V=/[#\?@]/g,ee=/#/g;function ie(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function ae(d){d.g||(d.g=new Map,d.h=0,d.i&&Hs(d.i,function(g,v){d.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=ie.prototype,i.add=function(d,g){ae(this),this.i=null,d=Zt(this,d);var v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(g),this.h+=1,this};function Te(d,g){ae(d),g=Zt(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function et(d,g){return ae(d),g=Zt(d,g),d.g.has(g)}i.forEach=function(d,g){ae(this),this.g.forEach(function(v,S){v.forEach(function(N){d.call(g,N,S,this)},this)},this)},i.wa=function(){ae(this);for(var d=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[],S=0;S<g.length;S++)for(var N=d[S],z=0;z<N.length;z++)v.push(g[S]);return v},i.ba=function(d){ae(this);var g=[];if(typeof d=="string")et(this,d)&&(g=g.concat(this.g.get(Zt(this,d))));else{d=Array.from(this.g.values());for(var v=0;v<d.length;v++)g=g.concat(d[v])}return g},i.set=function(d,g){return ae(this),this.i=null,d=Zt(this,d),et(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},i.get=function(d,g){return d?(d=this.ba(d),0<d.length?String(d[0]):g):g};function Nt(d,g,v){Te(d,g),0<v.length&&(d.i=null,d.g.set(Zt(d,g),H(v)),d.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var d=[],g=Array.from(this.g.keys()),v=0;v<g.length;v++){var S=g[v],N=encodeURIComponent(String(S));S=this.ba(S);for(var z=0;z<S.length;z++){var F=N;S[z]!==""&&(F+="="+encodeURIComponent(String(S[z]))),d.push(F)}}return this.i=d.join("&")};function Et(d){var g=new ie;return g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),g}function Zt(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function mn(d,g){g&&!d.j&&(ae(d),d.i=null,d.g.forEach(function(v,S){var N=S.toLowerCase();S!=N&&(Te(this,S),Nt(this,N,v))},d)),d.j=g}function Xn(d,g){this.g=d,this.map=g}function T(d){this.l=d||lt,k.PerformanceNavigationTiming?(d=k.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(k.g&&k.g.Na&&k.g.Na()&&k.g.Na().ic),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lt=10;function di(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ai(d){return d.h?1:d.g?d.g.size:0}function An(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function nt(d,g){d.g?d.g.add(g):d.h=g}function ct(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}T.prototype.cancel=function(){if(this.i=hi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(var d=t(this.g.values()),g=d.next();!g.done;g=d.next())g.value.cancel();this.g.clear()}};function hi(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){var g=d.i;d=t(d.g.values());for(var v=d.next();!v.done;v=d.next())g=g.concat(v.value.D);return g}return H(d.i)}function ei(){}ei.prototype.stringify=function(d){return k.JSON.stringify(d,void 0)},ei.prototype.parse=function(d){return k.JSON.parse(d,void 0)};function Ot(){this.g=new ei}function nr(d,g,v){var S=v||"";try{Bu(d,function(N,z){var F=N;M(N)&&(F=Qt(N)),g.push(S+z+"="+encodeURIComponent(F))})}catch(N){throw g.push(S+"type="+encodeURIComponent("_badmap")),N}}function el(d,g){var v=new Uo;if(k.Image){var S=new Image;S.onload=L(As,v,S,"TestLoadImage: loaded",!0,g),S.onerror=L(As,v,S,"TestLoadImage: error",!1,g),S.onabort=L(As,v,S,"TestLoadImage: abort",!1,g),S.ontimeout=L(As,v,S,"TestLoadImage: timeout",!1,g),k.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else g(!1)}function As(d,g,v,S,N){try{g.onload=null,g.onerror=null,g.onabort=null,g.ontimeout=null,N(S)}catch{}}function pr(d){this.l=d.jc||null,this.j=d.rb||!1}y(pr,Ya),pr.prototype.g=function(){return new tl(this.l,this.j)},pr.prototype.i=function(d){return function(){return d}}({});function tl(d,g){it.call(this),this.D=d,this.u=g,this.m=void 0,this.readyState=ft,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}y(tl,it);var ft=0;i=tl.prototype,i.open=function(d,g){if(this.readyState!=ft)throw this.abort(),Error("Error reopening a connection");this.C=d,this.B=g,this.readyState=1,ir(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var g={headers:this.v,method:this.C,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||k).fetch(new Request(this.B,g)).then(this.cb.bind(this),this.na.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(function(){}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=ft},i.cb=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.ab.bind(this),this.na.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;md(this)}else d.text().then(this.bb.bind(this),this.na.bind(this))};function md(d){d.j.read().then(d.$a.bind(d)).catch(d.na.bind(d))}i.$a=function(d){if(this.g){if(this.u&&d.value)this.response.push(d.value);else if(!this.u){var g=d.value?d.value:new Uint8Array(0);(g=this.A.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?hs(this):ir(this),this.readyState==3&&md(this)}},i.bb=function(d){this.g&&(this.response=this.responseText=d,hs(this))},i.ab=function(d){this.g&&(this.response=d,hs(this))},i.na=function(){this.g&&hs(this)};function hs(d){d.readyState=4,d.l=null,d.j=null,d.A=null,ir(d)}i.setRequestHeader=function(d,g){this.v.append(d,g)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";for(var d=[],g=this.h.entries(),v=g.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=g.next();return d.join(`\r
`)};function ir(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});var Hu=k.JSON.parse;function fi(d){it.call(this),this.headers=new Map,this.u=d||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.D=!1,this.B=0,this.A=null,this.L=Io,this.M=this.N=!1}y(fi,it);var Io="",p=/^https?$/i,C=["POST","PUT"];i=fi.prototype,i.Ra=function(d){this.N=d},i.ja=function(d,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+d);g=g?g.toUpperCase():"GET",this.I=d,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Co.g(),this.C=this.u?Za(this.u):Za(Co),this.g.onreadystatechange=Z(this.Oa,this);try{this.G=!0,this.g.open(g,String(d),!0),this.G=!1}catch(F){Q(this,F);return}if(d=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var N in S)v.set(N,S[N]);else if(typeof S.keys=="function"&&typeof S.get=="function"){N=t(S.keys());for(var z=N.next();!z.done;z=N.next())z=z.value,v.set(z,S.get(z))}else throw Error("Unknown input type for opt_headers: "+String(S));for(S=Array.from(v.keys()).find(function(F){return F.toLowerCase()=="content-type"}),N=k.FormData&&d instanceof k.FormData,!(0<=U(C,g))||S||N||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g=t(v),S=g.next();!S.done;S=g.next())v=t(S.value),S=v.next().value,v=v.next().value,this.g.setRequestHeader(S,v);this.L&&(this.g.responseType=this.L),"withCredentials"in this.g&&this.g.withCredentials!==this.N&&(this.g.withCredentials=this.N);try{Vn(this),0<this.B&&((this.M=P(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Z(this.xa,this)):this.A=Bl(this.xa,this.B,this)),this.v=!0,this.g.send(d),this.v=!1}catch(F){Q(this,F)}};function P(d){return Re&&typeof d.timeout=="number"&&d.ontimeout!==void 0}i.xa=function(){typeof E<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function Q(d,g){d.h=!1,d.g&&(d.l=!0,d.g.abort(),d.l=!1),d.j=g,d.m=5,ce(d),st(d)}function ce(d){d.D||(d.D=!0,mt(d,"complete"),mt(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),st(this))},i.O=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),st(this,!0)),fi.Z.O.call(this)},i.Oa=function(){this.s||(this.G||this.v||this.l?we(this):this.nb())},i.nb=function(){we(this)};function we(d){if(d.h&&typeof E<"u"&&(!d.C[1]||Kn(d)!=4||d.fa()!=2)){if(d.v&&Kn(d)==4)Bl(d.Oa,0,d);else if(mt(d,"readystatechange"),Kn(d)==4){d.h=!1;try{var g=d.fa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var N;if(N=g===0){var z=String(d.I).match(qu)[1]||null;!z&&k.self&&k.self.location&&(z=k.self.location.protocol.slice(0,-1)),N=!p.test(z?z.toLowerCase():"")}S=N}if(S)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var F=2<Kn(d)?d.g.statusText:""}catch{F=""}d.j=F+" ["+d.fa()+"]",ce(d)}}finally{st(d)}}}}function st(d,g){if(d.g){Vn(d);var v=d.g,S=d.C[0]?function(){}:null;d.g=null,d.C=null,g||mt(d,"ready");try{v.onreadystatechange=S}catch{}}}function Vn(d){d.g&&d.M&&(d.g.ontimeout=null),d.A&&(k.clearTimeout(d.A),d.A=null)}i.isActive=function(){return!!this.g};function Kn(d){return d.g?d.g.readyState:0}i.fa=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},i.ma=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Za=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Hu(g)}};function wn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.L){case Io:case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function gr(d){var g={};d=(d.g&&2<=Kn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(var v=0;v<d.length;v++)if(!tt(d[v])){var S=un(d[v]),N=S[0];if(S=S[1],typeof S=="string"){S=S.trim();var z=g[N]||[];g[N]=z,z.push(S)}}ke(g,function(F){return F.join(", ")})}i.La=function(){return this.m},i.Va=function(){return typeof this.j=="string"?this.j:String(this.j)};function rr(d){var g="";return re(d,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Wo(d,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=rr(v),typeof d=="string"?v!=null&&encodeURIComponent(String(v)):kn(d,g,v))}function mr(d,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||g}function Ql(d){this.Ja=0,this.j=[],this.l=new Uo,this.sa=this.za=this.I=this.aa=this.g=this.Ga=this.D=this.qa=this.o=this.W=this.s=null,this.ib=this.Y=0,this.gb=mr("failFast",!1,d),this.G=this.v=this.u=this.m=this.h=null,this.ca=!0,this.Ia=this.X=-1,this.da=this.A=this.C=0,this.eb=mr("baseRetryDelayMs",5e3,d),this.kb=mr("retryDelaySeedMs",1e4,d),this.hb=mr("forwardChannelMaxRetries",2,d),this.Aa=mr("forwardChannelRequestTimeoutMs",2e4,d),this.ya=d&&d.xmlHttpFactory||void 0,this.Ka=d&&d.hc||!1,this.M=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.L="",this.i=new T(d&&d.concurrentRequestLimit),this.Ma=new Ot,this.R=d&&d.fastHandshake||!1,this.P=d&&d.encodeInitMessageHeaders||!1,this.R&&this.P&&(this.P=!1),this.fb=d&&d.ec||!1,d&&d.Ha&&this.l.Ha(),d&&d.forceLongPolling&&(this.ca=!1),this.ea=!this.R&&this.ca&&d&&d.detectBufferingProxy||!1,this.ta=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ta=d.longPollingTimeout),this.ra=void 0,this.T=0,this.N=!1,this.pa=this.B=null}i=Ql.prototype,i.ua=8,i.H=1;function Wl(d){if(fy(d),d.H==3){var g=d.Y++,v=ds(d.I);if(kn(v,"SID",d.L),kn(v,"RID",g),kn(v,"TYPE","terminate"),zu(d,v),g=new jo(d,d.l,g),g.M=2,g.v=Qs(ds(v)),v=!1,k.navigator&&k.navigator.sendBeacon)try{v=k.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&k.Image&&(new Image().src=g.v,v=!0),v||(g.g=ue(g.l,null),g.g.ja(g.v)),g.G=Date.now(),ba(g)}x(d)}function vd(d){d.g&&(nl(d),d.g.cancel(),d.g=null)}function fy(d){vd(d),d.u&&(k.clearTimeout(d.u),d.u=null),il(d),d.i.cancel(),d.m&&(typeof d.m=="number"&&k.clearTimeout(d.m),d.m=null)}function Rh(d){di(d.i)||d.m||(d.m=!0,fo(d.Qa,d),d.C=0)}function sw(d,g){return ai(d.i)>=d.i.j-(d.m?1:0)?!1:d.m?(d.j=g.D.concat(d.j),!0):d.H==1||d.H==2||d.C>=(d.gb?0:d.hb)?!1:(d.m=yo(Z(d.Qa,d,g),Qp(d,d.C)),d.C++,!0)}i.Qa=function(d){if(this.m)if(this.m=null,this.H==1){if(!d){this.Y=Math.floor(1e5*Math.random()),d=this.Y++;var g=new jo(this,this.l,d),v=this.s;this.W&&(v?(v=pt(v),Tt(v,this.W)):v=this.W),this.o!==null||this.P||(g.I=v,v=null);var S;if(this.R)e:{for(var N=S=0;N<this.j.length;N++){t:{var z=this.j[N];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(S+=z,4096<S){S=N;break e}if(S===4096||N===this.j.length-1){S=N+1;break e}}S=1e3}else S=1e3;S=zp(this,g,S),N=ds(this.I),kn(N,"RID",d),kn(N,"CVER",22),this.D&&kn(N,"X-HTTP-Session-Id",this.D),zu(this,N),v&&(this.P?S="headers="+encodeURIComponent(String(rr(v)))+"&"+S:this.o&&Wo(N,this.o,v)),nt(this.i,g),this.fb&&kn(N,"TYPE","init"),this.R?(kn(N,"$req",S),kn(N,"SID","null"),g.ca=!0,Hl(g,N,null)):Hl(g,N,S),this.H=2}}else this.H==3&&(d?py(this,d):this.j.length==0||di(this.i)||py(this))};function py(d,g){var v;g?v=g.m:v=d.Y++;var S=ds(d.I);kn(S,"SID",d.L),kn(S,"RID",v),kn(S,"AID",d.X),zu(d,S),d.o&&d.s&&Wo(S,d.o,d.s),v=new jo(d,d.l,v,d.C+1),d.o===null&&(v.I=d.s),g&&(d.j=g.D.concat(d.j)),g=zp(d,v,1e3),v.setTimeout(Math.round(.5*d.Aa)+Math.round(.5*d.Aa*Math.random())),nt(d.i,v),Hl(v,S,g)}function zu(d,g){d.qa&&re(d.qa,function(v,S){kn(g,S,v)}),d.h&&Bu({},function(v,S){kn(g,S,v)})}function zp(d,g,v){v=Math.min(d.j.length,v);var S=d.h?Z(d.h.Ya,d.h,d):null;e:for(var N=d.j,z=-1;;){var F=["count="+v];z==-1?0<v?(z=N[0].g,F.push("ofs="+z)):z=0:F.push("ofs="+z);for(var _e=!0,Ve=0;Ve<v;Ve++){var Je=N[Ve].g,zt=N[Ve].map;if(Je-=z,0>Je)z=Math.max(0,N[Ve].g-100),_e=!1;else try{nr(zt,F,"req"+Je+"_")}catch{S&&S(zt)}}if(_e){S=F.join("&");break e}}return d=d.j.splice(0,v),g.D=d,S}function jp(d){d.g||d.u||(d.da=1,fo(d.Pa,d),d.A=0)}function kh(d){return d.g||d.u||3<=d.A?!1:(d.da++,d.u=yo(Z(d.Pa,d),Qp(d,d.A)),d.A++,!0)}i.Pa=function(){if(this.u=null,gy(this),this.ea&&!(this.N||this.g==null||0>=this.T)){var d=2*this.T;this.l.info("BP detection timer enabled: "+d),this.B=yo(Z(this.mb,this),d)}},i.mb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.N=!0,Di(10),vd(this),gy(this))};function nl(d){d.B!=null&&(k.clearTimeout(d.B),d.B=null)}function gy(d){d.g=new jo(d,d.l,"rpc",d.da),d.o===null&&(d.g.I=d.s),d.g.P=0;var g=ds(d.za);kn(g,"RID","rpc"),kn(g,"SID",d.L),kn(g,"AID",d.X),kn(g,"CI",d.G?"0":"1"),!d.G&&d.ta&&kn(g,"TO",d.ta),kn(g,"TYPE","xmlhttp"),zu(d,g),d.o&&d.s&&Wo(g,d.o,d.s),d.M&&d.g.setTimeout(d.M);var v=d.g;d=d.sa,v.M=1,v.v=Qs(ds(g)),v.s=null,v.T=!0,zl(v,d)}i.lb=function(){this.v!=null&&(this.v=null,vd(this),kh(this),Di(19))};function il(d){d.v!=null&&(k.clearTimeout(d.v),d.v=null)}function ln(d,g){var v=null;if(d.g==g){il(d),nl(d),d.g=null;var S=2}else if(An(d.i,g))v=g.D,ct(d.i,g),S=1;else return;if(d.H!=0){if(g.i)if(S==1){v=g.s?g.s.length:0,g=Date.now()-g.G;var N=d.C;S=Ho(),mt(S,new Ja(S,v)),Rh(d)}else jp(d);else if(N=g.o,N==3||N==0&&0<g.ea||!(S==1&&sw(d,g)||S==2&&kh(d)))switch(v&&0<v.length&&(g=d.i,g.i=g.i.concat(v)),N){case 1:Gl(d,5);break;case 4:Gl(d,10);break;case 3:Gl(d,6);break;default:Gl(d,2)}}}function Qp(d,g){var v=d.eb+Math.floor(Math.random()*d.kb);return d.isActive()||(v*=2),v*g}function Gl(d,g){if(d.l.info("Error code "+g),g==2){var v=null;d.h&&(v=null);var S=Z(d.sb,d);v||(v=new zs("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||js(v,"https"),Qs(v)),el(v.toString(),S)}else Di(2);d.H=0,d.h&&d.h.Ca(g),x(d),fy(d)}i.sb=function(d){d?(this.l.info("Successfully pinged google.com"),Di(2)):(this.l.info("Failed to ping google.com"),Di(1))};function x(d){if(d.H=0,d.pa=[],d.h){var g=hi(d.i);(g.length!=0||d.j.length!=0)&&(B(d.pa,g),B(d.pa,d.j),d.i.i.length=0,H(d.j),d.j.length=0),d.h.Ba()}}function A(d,g,v){var S=v instanceof zs?ds(v):new zs(v);if(S.g!="")g&&(S.g=g+"."+S.g),ks(S,S.o);else{var N=k.location;S=N.protocol,g=g?g+"."+N.hostname:N.hostname,N=+N.port;var z=new zs(null);S&&js(z,S),g&&(z.g=g),N&&ks(z,N),v&&(z.h=v),S=z}return v=d.D,g=d.Ga,v&&g&&kn(S,v,g),kn(S,"VER",d.ua),zu(d,S),S}function ue(d,g,v){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=v&&d.Ka&&!d.ya?new fi(new pr({rb:!0})):new fi(d.ya),g.Ra(d.J),g}i.isActive=function(){return!!this.h&&this.h.isActive(this)};function K(){}i=K.prototype,i.Ea=function(){},i.Da=function(){},i.Ca=function(){},i.Ba=function(){},i.isActive=function(){return!0},i.Ya=function(){};function pe(){if(Re&&!(10<=Number(de)))throw Error("Environmental error: no available transport.")}pe.prototype.g=function(d,g){return new Be(d,g)};function Be(d,g){it.call(this),this.g=new Ql(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.s=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.Fa&&(d?d["X-WebChannel-Client-Profile"]=g.Fa:d={"X-WebChannel-Client-Profile":g.Fa}),this.g.W=d,(d=g&&g.fc)&&!tt(d)&&(this.g.o=d),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!tt(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new In(this)}y(Be,it),Be.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var d=this.g,g=this.l,v=this.h||void 0;Di(0),d.aa=g,d.qa=v||{},d.G=d.ca,d.I=A(d,null,d.aa),Rh(d)},Be.prototype.close=function(){Wl(this.g)},Be.prototype.u=function(d){var g=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.v&&(v={},v.__data__=Qt(d),d=v);g.j.push(new Xn(g.ib++,d)),g.H==3&&Rh(g)},Be.prototype.O=function(){this.g.h=null,delete this.j,Wl(this.g),delete this.g,Be.Z.O.call(this)};function gt(d){cs.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(var v in g){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}y(gt,cs);function Rt(){Kr.call(this),this.status=1}y(Rt,Kr);function In(d){this.g=d}y(In,K),In.prototype.Ea=function(){mt(this.g,"a")},In.prototype.Da=function(d){mt(this.g,new gt(d))},In.prototype.Ca=function(d){mt(this.g,new Rt)},In.prototype.Ba=function(){mt(this.g,"b")};function jn(){this.blockSize=-1}function Vs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}y(Vs,jn),Vs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ow(d,g,v){v||(v=0);var S=Array(16);if(typeof g=="string")for(var N=0;16>N;++N)S[N]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(N=0;16>N;++N)S[N]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=d.g[0],v=d.g[1],N=d.g[2];var z=d.g[3],F=g+(z^v&(N^z))+S[0]+3614090360&4294967295;g=v+(F<<7&4294967295|F>>>25),F=z+(N^g&(v^N))+S[1]+3905402710&4294967295,z=g+(F<<12&4294967295|F>>>20),F=N+(v^z&(g^v))+S[2]+606105819&4294967295,N=z+(F<<17&4294967295|F>>>15),F=v+(g^N&(z^g))+S[3]+3250441966&4294967295,v=N+(F<<22&4294967295|F>>>10),F=g+(z^v&(N^z))+S[4]+4118548399&4294967295,g=v+(F<<7&4294967295|F>>>25),F=z+(N^g&(v^N))+S[5]+1200080426&4294967295,z=g+(F<<12&4294967295|F>>>20),F=N+(v^z&(g^v))+S[6]+2821735955&4294967295,N=z+(F<<17&4294967295|F>>>15),F=v+(g^N&(z^g))+S[7]+4249261313&4294967295,v=N+(F<<22&4294967295|F>>>10),F=g+(z^v&(N^z))+S[8]+1770035416&4294967295,g=v+(F<<7&4294967295|F>>>25),F=z+(N^g&(v^N))+S[9]+2336552879&4294967295,z=g+(F<<12&4294967295|F>>>20),F=N+(v^z&(g^v))+S[10]+4294925233&4294967295,N=z+(F<<17&4294967295|F>>>15),F=v+(g^N&(z^g))+S[11]+2304563134&4294967295,v=N+(F<<22&4294967295|F>>>10),F=g+(z^v&(N^z))+S[12]+1804603682&4294967295,g=v+(F<<7&4294967295|F>>>25),F=z+(N^g&(v^N))+S[13]+4254626195&4294967295,z=g+(F<<12&4294967295|F>>>20),F=N+(v^z&(g^v))+S[14]+2792965006&4294967295,N=z+(F<<17&4294967295|F>>>15),F=v+(g^N&(z^g))+S[15]+1236535329&4294967295,v=N+(F<<22&4294967295|F>>>10),F=g+(N^z&(v^N))+S[1]+4129170786&4294967295,g=v+(F<<5&4294967295|F>>>27),F=z+(v^N&(g^v))+S[6]+3225465664&4294967295,z=g+(F<<9&4294967295|F>>>23),F=N+(g^v&(z^g))+S[11]+643717713&4294967295,N=z+(F<<14&4294967295|F>>>18),F=v+(z^g&(N^z))+S[0]+3921069994&4294967295,v=N+(F<<20&4294967295|F>>>12),F=g+(N^z&(v^N))+S[5]+3593408605&4294967295,g=v+(F<<5&4294967295|F>>>27),F=z+(v^N&(g^v))+S[10]+38016083&4294967295,z=g+(F<<9&4294967295|F>>>23),F=N+(g^v&(z^g))+S[15]+3634488961&4294967295,N=z+(F<<14&4294967295|F>>>18),F=v+(z^g&(N^z))+S[4]+3889429448&4294967295,v=N+(F<<20&4294967295|F>>>12),F=g+(N^z&(v^N))+S[9]+568446438&4294967295,g=v+(F<<5&4294967295|F>>>27),F=z+(v^N&(g^v))+S[14]+3275163606&4294967295,z=g+(F<<9&4294967295|F>>>23),F=N+(g^v&(z^g))+S[3]+4107603335&4294967295,N=z+(F<<14&4294967295|F>>>18),F=v+(z^g&(N^z))+S[8]+1163531501&4294967295,v=N+(F<<20&4294967295|F>>>12),F=g+(N^z&(v^N))+S[13]+2850285829&4294967295,g=v+(F<<5&4294967295|F>>>27),F=z+(v^N&(g^v))+S[2]+4243563512&4294967295,z=g+(F<<9&4294967295|F>>>23),F=N+(g^v&(z^g))+S[7]+1735328473&4294967295,N=z+(F<<14&4294967295|F>>>18),F=v+(z^g&(N^z))+S[12]+2368359562&4294967295,v=N+(F<<20&4294967295|F>>>12),F=g+(v^N^z)+S[5]+4294588738&4294967295,g=v+(F<<4&4294967295|F>>>28),F=z+(g^v^N)+S[8]+2272392833&4294967295,z=g+(F<<11&4294967295|F>>>21),F=N+(z^g^v)+S[11]+1839030562&4294967295,N=z+(F<<16&4294967295|F>>>16),F=v+(N^z^g)+S[14]+4259657740&4294967295,v=N+(F<<23&4294967295|F>>>9),F=g+(v^N^z)+S[1]+2763975236&4294967295,g=v+(F<<4&4294967295|F>>>28),F=z+(g^v^N)+S[4]+1272893353&4294967295,z=g+(F<<11&4294967295|F>>>21),F=N+(z^g^v)+S[7]+4139469664&4294967295,N=z+(F<<16&4294967295|F>>>16),F=v+(N^z^g)+S[10]+3200236656&4294967295,v=N+(F<<23&4294967295|F>>>9),F=g+(v^N^z)+S[13]+681279174&4294967295,g=v+(F<<4&4294967295|F>>>28),F=z+(g^v^N)+S[0]+3936430074&4294967295,z=g+(F<<11&4294967295|F>>>21),F=N+(z^g^v)+S[3]+3572445317&4294967295,N=z+(F<<16&4294967295|F>>>16),F=v+(N^z^g)+S[6]+76029189&4294967295,v=N+(F<<23&4294967295|F>>>9),F=g+(v^N^z)+S[9]+3654602809&4294967295,g=v+(F<<4&4294967295|F>>>28),F=z+(g^v^N)+S[12]+3873151461&4294967295,z=g+(F<<11&4294967295|F>>>21),F=N+(z^g^v)+S[15]+530742520&4294967295,N=z+(F<<16&4294967295|F>>>16),F=v+(N^z^g)+S[2]+3299628645&4294967295,v=N+(F<<23&4294967295|F>>>9),F=g+(N^(v|~z))+S[0]+4096336452&4294967295,g=v+(F<<6&4294967295|F>>>26),F=z+(v^(g|~N))+S[7]+1126891415&4294967295,z=g+(F<<10&4294967295|F>>>22),F=N+(g^(z|~v))+S[14]+2878612391&4294967295,N=z+(F<<15&4294967295|F>>>17),F=v+(z^(N|~g))+S[5]+4237533241&4294967295,v=N+(F<<21&4294967295|F>>>11),F=g+(N^(v|~z))+S[12]+1700485571&4294967295,g=v+(F<<6&4294967295|F>>>26),F=z+(v^(g|~N))+S[3]+2399980690&4294967295,z=g+(F<<10&4294967295|F>>>22),F=N+(g^(z|~v))+S[10]+4293915773&4294967295,N=z+(F<<15&4294967295|F>>>17),F=v+(z^(N|~g))+S[1]+2240044497&4294967295,v=N+(F<<21&4294967295|F>>>11),F=g+(N^(v|~z))+S[8]+1873313359&4294967295,g=v+(F<<6&4294967295|F>>>26),F=z+(v^(g|~N))+S[15]+4264355552&4294967295,z=g+(F<<10&4294967295|F>>>22),F=N+(g^(z|~v))+S[6]+2734768916&4294967295,N=z+(F<<15&4294967295|F>>>17),F=v+(z^(N|~g))+S[13]+1309151649&4294967295,v=N+(F<<21&4294967295|F>>>11),F=g+(N^(v|~z))+S[4]+4149444226&4294967295,g=v+(F<<6&4294967295|F>>>26),F=z+(v^(g|~N))+S[11]+3174756917&4294967295,z=g+(F<<10&4294967295|F>>>22),F=N+(g^(z|~v))+S[2]+718787259&4294967295,N=z+(F<<15&4294967295|F>>>17),F=v+(z^(N|~g))+S[9]+3951481745&4294967295,d.g[0]=d.g[0]+g&4294967295,d.g[1]=d.g[1]+(N+(F<<21&4294967295|F>>>11))&4294967295,d.g[2]=d.g[2]+N&4294967295,d.g[3]=d.g[3]+z&4294967295}Vs.prototype.j=function(d,g){g===void 0&&(g=d.length);for(var v=g-this.blockSize,S=this.m,N=this.h,z=0;z<g;){if(N==0)for(;z<=v;)ow(this,d,z),z+=this.blockSize;if(typeof d=="string"){for(;z<g;)if(S[N++]=d.charCodeAt(z++),N==this.blockSize){ow(this,S),N=0;break}}else for(;z<g;)if(S[N++]=d[z++],N==this.blockSize){ow(this,S),N=0;break}}this.h=N,this.i+=g},Vs.prototype.l=function(){var d=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);d[0]=128;for(var g=1;g<d.length-8;++g)d[g]=0;var v=8*this.i;for(g=d.length-8;g<d.length;++g)d[g]=v&255,v/=256;for(this.j(d),d=Array(16),g=v=0;4>g;++g)for(var S=0;32>S;S+=8)d[v++]=this.g[g]>>>S&255;return d};function li(d,g){this.h=g;for(var v=[],S=!0,N=d.length-1;0<=N;N--){var z=d[N]|0;S&&z==g||(v[N]=z,S=!1)}this.g=v}var CB={};function aw(d){return-128<=d&&128>d?Ue(d,function(g){return new li([g|0],0>g?-1:0)}):new li([d|0],0>d?-1:0)}function rl(d){if(isNaN(d)||!isFinite(d))return Ah;if(0>d)return Jr(rl(-d));for(var g=[],v=1,S=0;d>=v;S++)g[S]=d/v|0,v*=lw;return new li(g,0)}function H5(d,g){if(d.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(d.charAt(0)=="-")return Jr(H5(d.substring(1),g));if(0<=d.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=rl(Math.pow(g,8)),S=Ah,N=0;N<d.length;N+=8){var z=Math.min(8,d.length-N),F=parseInt(d.substring(N,N+z),g);8>z?(z=rl(Math.pow(g,z)),S=S.S(z).add(rl(F))):(S=S.S(v),S=S.add(rl(F)))}return S}var lw=4294967296,Ah=aw(0),uw=aw(1),z5=aw(16777216);i=li.prototype,i.ga=function(){if(Go(this))return-Jr(this).ga();for(var d=0,g=1,v=0;v<this.g.length;v++){var S=this.F(v);d+=(0<=S?S:lw+S)*g,g*=lw}return d},i.toString=function(d){if(d=d||10,2>d||36<d)throw Error("radix out of range: "+d);if(Kl(this))return"0";if(Go(this))return"-"+Jr(this).toString(d);for(var g=rl(Math.pow(d,6)),v=this,S="";;){var N=yy(v,g).g;v=my(v,N.S(g));var z=((0<v.g.length?v.g[0]:v.h)>>>0).toString(d);if(v=N,Kl(v))return z+S;for(;6>z.length;)z="0"+z;S=z+S}},i.F=function(d){return 0>d?0:d<this.g.length?this.g[d]:this.h};function Kl(d){if(d.h!=0)return!1;for(var g=0;g<d.g.length;g++)if(d.g[g]!=0)return!1;return!0}function Go(d){return d.h==-1}i.$=function(d){return d=my(this,d),Go(d)?-1:Kl(d)?0:1};function Jr(d){for(var g=d.g.length,v=[],S=0;S<g;S++)v[S]=~d.g[S];return new li(v,~d.h).add(uw)}i.abs=function(){return Go(this)?Jr(this):this},i.add=function(d){for(var g=Math.max(this.g.length,d.g.length),v=[],S=0,N=0;N<=g;N++){var z=S+(this.F(N)&65535)+(d.F(N)&65535),F=(z>>>16)+(this.F(N)>>>16)+(d.F(N)>>>16);S=F>>>16,z&=65535,F&=65535,v[N]=F<<16|z}return new li(v,v[v.length-1]&-2147483648?-1:0)};function my(d,g){return d.add(Jr(g))}i.S=function(d){if(Kl(this)||Kl(d))return Ah;if(Go(this))return Go(d)?Jr(this).S(Jr(d)):Jr(Jr(this).S(d));if(Go(d))return Jr(this.S(Jr(d)));if(0>this.$(z5)&&0>d.$(z5))return rl(this.ga()*d.ga());for(var g=this.g.length+d.g.length,v=[],S=0;S<2*g;S++)v[S]=0;for(S=0;S<this.g.length;S++)for(var N=0;N<d.g.length;N++){var z=this.F(S)>>>16,F=this.F(S)&65535,_e=d.F(N)>>>16,Ve=d.F(N)&65535;v[2*S+2*N]+=F*Ve,vy(v,2*S+2*N),v[2*S+2*N+1]+=z*Ve,vy(v,2*S+2*N+1),v[2*S+2*N+1]+=F*_e,vy(v,2*S+2*N+1),v[2*S+2*N+2]+=z*_e,vy(v,2*S+2*N+2)}for(S=0;S<g;S++)v[S]=v[2*S+1]<<16|v[2*S];for(S=g;S<2*g;S++)v[S]=0;return new li(v,0)};function vy(d,g){for(;(d[g]&65535)!=d[g];)d[g+1]+=d[g]>>>16,d[g]&=65535,g++}function Wp(d,g){this.g=d,this.h=g}function yy(d,g){if(Kl(g))throw Error("division by zero");if(Kl(d))return new Wp(Ah,Ah);if(Go(d))return g=yy(Jr(d),g),new Wp(Jr(g.g),Jr(g.h));if(Go(g))return g=yy(d,Jr(g)),new Wp(Jr(g.g),g.h);if(30<d.g.length){if(Go(d)||Go(g))throw Error("slowDivide_ only works with positive integers.");for(var v=uw,S=g;0>=S.$(d);)v=j5(v),S=j5(S);var N=Vh(v,1),z=Vh(S,1);for(S=Vh(S,2),v=Vh(v,2);!Kl(S);){var F=z.add(S);0>=F.$(d)&&(N=N.add(v),z=F),S=Vh(S,1),v=Vh(v,1)}return g=my(d,N.S(g)),new Wp(N,g)}for(N=Ah;0<=d.$(g);){for(v=Math.max(1,Math.floor(d.ga()/g.ga())),S=Math.ceil(Math.log(v)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),z=rl(v),F=z.S(g);Go(F)||0<F.$(d);)v-=S,z=rl(v),F=z.S(g);Kl(z)&&(z=uw),N=N.add(z),d=my(d,F)}return new Wp(N,d)}i.jb=function(d){return yy(this,d).h},i.and=function(d){for(var g=Math.max(this.g.length,d.g.length),v=[],S=0;S<g;S++)v[S]=this.F(S)&d.F(S);return new li(v,this.h&d.h)},i.or=function(d){for(var g=Math.max(this.g.length,d.g.length),v=[],S=0;S<g;S++)v[S]=this.F(S)|d.F(S);return new li(v,this.h|d.h)},i.xor=function(d){for(var g=Math.max(this.g.length,d.g.length),v=[],S=0;S<g;S++)v[S]=this.F(S)^d.F(S);return new li(v,this.h^d.h)};function j5(d){for(var g=d.g.length+1,v=[],S=0;S<g;S++)v[S]=d.F(S)<<1|d.F(S-1)>>>31;return new li(v,d.h)}function Vh(d,g){var v=g>>5;g%=32;for(var S=d.g.length-v,N=[],z=0;z<S;z++)N[z]=0<g?d.F(z+v)>>>g|d.F(z+v+1)<<32-g:d.F(z+v);return new li(N,d.h)}pe.prototype.createWebChannel=pe.prototype.g,Be.prototype.send=Be.prototype.u,Be.prototype.open=Be.prototype.m,Be.prototype.close=Be.prototype.close,bo.NO_ERROR=0,bo.TIMEOUT=8,bo.HTTP_ERROR=6,Bs.COMPLETE="complete",va.EventType=zo,zo.OPEN="a",zo.CLOSE="b",zo.ERROR="c",zo.MESSAGE="d",it.prototype.listen=it.prototype.P,fi.prototype.listenOnce=fi.prototype.R,fi.prototype.getLastError=fi.prototype.Va,fi.prototype.getLastErrorCode=fi.prototype.La,fi.prototype.getStatus=fi.prototype.fa,fi.prototype.getResponseJson=fi.prototype.Za,fi.prototype.getResponseText=fi.prototype.ma,fi.prototype.send=fi.prototype.ja,fi.prototype.setWithCredentials=fi.prototype.Ra,Vs.prototype.digest=Vs.prototype.l,Vs.prototype.reset=Vs.prototype.reset,Vs.prototype.update=Vs.prototype.j,li.prototype.add=li.prototype.add,li.prototype.multiply=li.prototype.S,li.prototype.modulo=li.prototype.jb,li.prototype.compare=li.prototype.$,li.prototype.toNumber=li.prototype.ga,li.prototype.toString=li.prototype.toString,li.prototype.getBits=li.prototype.F,li.fromNumber=rl,li.fromString=H5,Xo.createWebChannelTransport=function(){return new pe},Xo.getStatEventTarget=function(){return Ho()},Xo.ErrorCode=bo,Xo.EventType=Bs,Xo.Event=Er,Xo.Stat={Ab:0,Db:1,Eb:2,Xb:3,bc:4,Zb:5,$b:6,Yb:7,Wb:8,ac:9,PROXY:10,NOPROXY:11,Ub:12,Qb:13,Rb:14,Pb:15,Sb:16,Tb:17,wb:18,vb:19,xb:20},Xo.FetchXmlHttpFactory=pr,Xo.WebChannel=va,Xo.XhrIo=fi,Xo.Md5=Vs,Xo.Integer=li}).apply(typeof Zi<"u"?Zi:typeof self<"u"?self:typeof window<"u"?window:{});var woe={};Object.defineProperty(ze,"__esModule",{value:!0});var bc=Xc,_oe=Ua,Xd=kv,vi=bt,Qi=Xo;const fR="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Xd.Logger("@firebase/firestore");function g_(){return Mc.logLevel}function Ioe(i){Mc.setLogLevel(i)}function Ge(i,...e){if(Mc.logLevel<=Xd.LogLevel.DEBUG){const t=e.map(wS);Mc.debug(`Firestore (${pp}): ${i}`,...t)}}function lr(i,...e){if(Mc.logLevel<=Xd.LogLevel.ERROR){const t=e.map(wS);Mc.error(`Firestore (${pp}): ${i}`,...t)}}function da(i,...e){if(Mc.logLevel<=Xd.LogLevel.WARN){const t=e.map(wS);Mc.warn(`Firestore (${pp}): ${i}`,...t)}}function wS(i){if(typeof i=="string")return i;try{return e=i,JSON.stringify(e)}catch{return i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i="Unexpected state"){const e=`FIRESTORE (${pp}) INTERNAL ASSERTION FAILED: `+i;throw lr(e),new Error(e)}function Ht(i,e){i||At()}function Eoe(i,e){i||At()}function vt(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let He=class extends vi.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cL=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dL=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}},Soe=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Toe=class{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let s=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kr,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ht(typeof n.accessToken=="string"),new cL(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Fr(e)}},xoe=class{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},Poe=class{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new xoe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hL=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Roe=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=s=>{s.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const r=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ht(typeof t.token=="string"),this.T=t.token,new hL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}},koe=class{getToken(){return Promise.resolve(new hL(""))}invalidateToken(){}start(e,t){}shutdown(){}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aoe(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fL=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Aoe(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%e.length))}return n}};function rn(i,e){return i<e?-1:i>e?1:0}function xf(i,e,t){return i.length===e.length&&i.every((n,r)=>t(n,e[r]))}function pL(i){return i+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr=class f1{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new He(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return f1.fromMillis(Date.now())}static fromDate(e){return f1.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new f1(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gt=class p1{constructor(e){this.timestamp=e}static fromTimestamp(e){return new p1(e)}static min(){return new p1(new Cr(0,0))}static max(){return new p1(new Cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gL=class m_{constructor(e,t,n){t===void 0?t=0:t>e.length&&At(),n===void 0?n=e.length-t:n>e.length-t&&At(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return m_.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof m_?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ii=class g1 extends gL{construct(e,t,n){return new g1(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new He(ye.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(r=>r.length>0))}return new g1(t)}static emptyPath(){return new g1([])}};const Voe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let Is=class jh extends gL{construct(e,t,n){return new jh(e,t,n)}static isValidIdentifier(e){return Voe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jh.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(n.length===0)throw new He(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new He(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new He(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(n+=a,r++):(s(),r++)}if(s(),o)throw new He(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jh(t)}static emptyPath(){return new jh([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _t=class vg{constructor(e){this.path=e}static fromPath(e){return new vg(ii.fromString(e))}static fromName(e){return new vg(ii.fromString(e).popFirst(5))}static empty(){return new vg(ii.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ii.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ii.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vg(new ii(e.slice()))}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};function v_(i){return i.fields.find(e=>e.kind===2)}function kd(i){return i.fields.filter(e=>e.kind!==2)}function Loe(i,e){let t=rn(i.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let n=0;n<Math.min(i.fields.length,e.fields.length);++n)if(t=Ooe(i.fields[n],e.fields[n]),t!==0)return t;return rn(i.fields.length,e.fields.length)}l0.UNKNOWN_ID=-1;let m1=class{constructor(e,t){this.fieldPath=e,this.kind=t}};function Ooe(i,e){const t=Is.comparator(i.fieldPath,e.fieldPath);return t!==0?t:rn(i.kind,e.kind)}let y_=class mL{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mL(0,Vl.min())}};function vL(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=Gt.fromTimestamp(n===1e9?new Cr(t+1,0):new Cr(t,n));return new Vl(r,_t.empty(),e)}function yL(i){return new Vl(i.readTime,i.key,-1)}let Vl=class b_{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new b_(Gt.min(),_t.empty(),-1)}static max(){return new b_(Gt.max(),_t.empty(),-1)}};function _S(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_t.comparator(i.documentKey,e.documentKey),t!==0?t:rn(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let CL=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(i){if(i.code!==ye.FAILED_PRECONDITION||i.message!==bL)throw i;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let be=class Zs{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Zs((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Zs?t:Zs.resolve(t)}catch(t){return Zs.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Zs.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Zs.reject(t)}static resolve(e){return new Zs((t,n)=>{t(e)})}static reject(e){return new Zs((t,n)=>{n(e)})}static waitFor(e){return new Zs((t,n)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>n(l))}),o=!0,s===r&&t()})}static or(e){let t=Zs.resolve(!1);for(const n of e)t=t.next(r=>r?Zs.resolve(r):n());return t}static forEach(e,t){const n=[];return e.forEach((r,s)=>{n.push(t.call(this,r,s))}),this.waitFor(n)}static mapArray(e,t){return new Zs((n,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next(c=>{o[u]=c,++a,a===s&&n(o)},c=>r(c))}})}static doWhile(e,t){return new Zs((n,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):n()};s()})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wL=class _L{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new kr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Gg(e,t.error)):this.v.resolve()},this.transaction.onerror=n=>{const r=IS(n.target.error);this.v.reject(new Gg(e,r))}}static open(e,t,n,r){try{return new _L(t,e.transaction(r,n))}catch(s){throw new Gg(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Noe(t)}},Pf=class yg{constructor(e,t,n){this.name=e,this.version=t,this.V=n,yg.S(vi.getUA())===12.2&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Od(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!vi.isIndexedDBAvailable())return!1;if(yg.C())return!0;const e=vi.getUA(),t=yg.S(e),n=0<t&&t<10,r=yg.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static C(){var e;return typeof lm<"u"&&((e=woe)===null||e===void 0?void 0:e.k)==="YES"}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Ge("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{const o=s.target.result;t(o)},r.onblocked=()=>{n(new Gg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{const o=s.target.error;o.name==="VersionError"?n(new He(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new He(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new Gg(e,o))},r.onupgradeneeded=s=>{Ge("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.O(o,r.transaction,s.oldVersion,this.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=t=>this.F(t)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const s=t==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=wL.open(this.db,e,s?"readonly":"readwrite",n),l=r(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),be.reject(u))).toPromise();return l.catch(()=>{}),await a.R,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(Ge("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}},Doe=class{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Od(this.L.delete())}},Gg=class extends He{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function nd(i){return i.name==="IndexedDbTransactionError"}let Noe=class{constructor(e){this.store=e}put(e,t){let n;return t!==void 0?(Ge("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Od(n)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Od(this.store.add(e))}get(e){return Od(this.store.get(e)).next(t=>(t===void 0&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Od(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Od(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||typeof this.store.getAll!="function"){const r=this.cursor(n),s=[];return this.W(r,(o,a)=>{s.push(a)}).next(()=>s)}{const r=this.store.getAll(n.range);return new be((s,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{s(a.target.result)}})}}H(e,t){const n=this.store.getAll(e,t===null?void 0:t);return new be((r,s)=>{n.onerror=o=>{s(o.target.error)},n.onsuccess=o=>{r(o.target.result)}})}J(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,(s,o,a)=>a.delete())}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new be((n,r)=>{t.onerror=s=>{const o=IS(s.target.error);r(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():n()}):n()}})}W(e,t){const n=[];return new be((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new Doe(a),u=t(a.primaryKey,a.value,l);if(u instanceof be){const c=u.catch(h=>(l.done(),be.reject(h)));n.push(c)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>be.waitFor(n))}options(e,t){let n;return e!==void 0&&(typeof e=="string"?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function Od(i){return new be((e,t)=>{i.onsuccess=n=>{const r=n.target.result;e(r)},i.onerror=n=>{const r=IS(n.target.error);t(r)}})}let pR=!1;function IS(i){const e=Pf.S(vi.getUA());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const n=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pR||(pR=!0,setTimeout(()=>{throw n},0)),n}}return i}let Moe=class{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Ge("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(t){nd(t)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):await td(t)}await this.et(6e4)})}},Foe=class{constructor(e,t){this.localStore=e,this.persistence=t}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.st(t,e))}st(e,t){const n=new Set;let r=t,s=!0;return be.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return Ge("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,r).next(a=>{r-=a,n.add(o)});s=!1})).next(()=>t-r)}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(r,s)).next(a=>(Ge("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}rt(e,t){let n=e;return t.changes.forEach((r,s)=>{const o=yL(s);_S(o,n)>0&&(n=o)}),new Vl(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ot(n),this.ut=n=>t.writeSequenceNumber(n))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};io.ct=-1;function Nv(i){return i==null}function bm(i){return i===0&&1/i==-1/0}function IL(i){return typeof i=="number"&&Number.isInteger(i)&&!bm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=gR(e)),e=$oe(i.get(t),e);return gR(e)}function $oe(i,e){let t=e;const n=i.length;for(let r=0;r<n;r++){const s=i.charAt(r);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function gR(i){return i+""}function pl(i){const e=i.length;if(Ht(e>=2),e===2)return Ht(i.charAt(0)===""&&i.charAt(1)===""),ii.emptyPath();const t=e-2,n=[];let r="";for(let s=0;s<e;){const o=i.indexOf("",s);switch((o<0||o>t)&&At(),i.charAt(o+1)){case"":const a=i.substring(s,o);let l;r.length===0?l=a:(r+=a,l=r,r=""),n.push(l);break;case"":r+=i.substring(s,o),r+="\0";break;case"":r+=i.substring(s,o+1);break;default:At()}s=o+2}return new ii(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(i,e){return[i,Cs(e)]}function EL(i,e,t){return[i,Cs(e),t]}const Boe={},qoe=["prefixPath","collectionGroup","readTime","documentId"],Uoe=["prefixPath","collectionGroup","documentId"],Hoe=["collectionGroup","readTime","prefixPath","documentId"],zoe=["canonicalId","targetId"],joe=["targetId","path"],Qoe=["path","targetId"],Woe=["collectionId","parent"],Goe=["indexId","uid"],Koe=["uid","sequenceNumber"],Joe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yoe=["indexId","uid","orderedDocumentKey"],Zoe=["userId","collectionPath","documentId"],Xoe=["userId","collectionPath","largestBatchId"],eae=["userId","collectionGroup","largestBatchId"],SL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tae=[...SL,"documentOverlays"],TL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xL=TL,nae=[...xL,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C_=class extends CL{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}};function zr(i,e){const t=vt(i);return Pf.M(t.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function id(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function PL(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qi=class w_{constructor(e,t){this.comparator=e,this.root=t||Pc.EMPTY}insert(e,t){return new w_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pc.BLACK,null,null))}remove(e){return new w_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sy(this.root,e,this.comparator,!0)}},Sy=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pc=class ru{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=n??ru.RED,this.left=r??ru.EMPTY,this.right=s??ru.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new ru(e??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ru.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return ru.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ru.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ru.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}};Pc.EMPTY=null,Pc.RED=!0,Pc.BLACK=!1;Pc.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(i,e,t,n,r){return this}insert(i,e,t){return new Pc(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xi=class __{constructor(e){this.comparator=e,this.data=new qi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yR(this.data.getIterator())}getIteratorFrom(e){return new yR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof __)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new __(this.comparator);return t.data=e,t}},yR=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Dh(i){return i.hasNext()?i.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa=class I_{constructor(e){this.fields=e,e.sort(Is.comparator)}static empty(){return new I_([])}unionWith(e){let t=new Xi(Is.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new I_(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xf(this.fields,e.fields,(t,n)=>t.isEqual(n))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RL=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iae(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es=class E_{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(n){try{return atob(n)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new RL("Invalid base64 string: "+r):r}}(e);return new E_(t)}static fromUint8Array(e){const t=function(n){let r="";for(let s=0;s<n.length;++s)r+=String.fromCharCode(n[s]);return r}(e);return new E_(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Es.EMPTY_BYTE_STRING=new Es("");const rae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fc(i){if(Ht(!!i),typeof i=="string"){let e=0;const t=rae.exec(i);if(Ht(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Wi(i.seconds),nanos:Wi(i.nanos)}}function Wi(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Iu(i){return typeof i=="string"?Es.fromBase64String(i):Es.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Jb(i){const e=i.mapValue.fields.__previous_value__;return Kb(e)?Jb(e):e}function Cm(i){const e=Fc(i.mapValue.fields.__local_write_time__.timestampValue);return new Cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sae=class{constructor(e,t,n,r,s,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},Mv=class S_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new S_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof S_&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},y1={nullValue:"NULL_VALUE"};function $c(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kb(i)?4:kL(i)?9007199254740991:10:At()}function Ll(i,e){if(i===e)return!0;const t=$c(i);if(t!==$c(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Cm(i).isEqual(Cm(e));case 3:return function(n,r){if(typeof n.timestampValue=="string"&&typeof r.timestampValue=="string"&&n.timestampValue.length===r.timestampValue.length)return n.timestampValue===r.timestampValue;const s=Fc(n.timestampValue),o=Fc(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(n,r){return Iu(n.bytesValue).isEqual(Iu(r.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(n,r){return Wi(n.geoPointValue.latitude)===Wi(r.geoPointValue.latitude)&&Wi(n.geoPointValue.longitude)===Wi(r.geoPointValue.longitude)}(i,e);case 2:return function(n,r){if("integerValue"in n&&"integerValue"in r)return Wi(n.integerValue)===Wi(r.integerValue);if("doubleValue"in n&&"doubleValue"in r){const s=Wi(n.doubleValue),o=Wi(r.doubleValue);return s===o?bm(s)===bm(o):isNaN(s)&&isNaN(o)}return!1}(i,e);case 9:return xf(i.arrayValue.values||[],e.arrayValue.values||[],Ll);case 10:return function(n,r){const s=n.mapValue.fields||{},o=r.mapValue.fields||{};if(vR(s)!==vR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ll(s[a],o[a])))return!1;return!0}(i,e);default:return At()}}function wm(i,e){return(i.values||[]).find(t=>Ll(t,e))!==void 0}function Bc(i,e){if(i===e)return 0;const t=$c(i),n=$c(e);if(t!==n)return rn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(i.booleanValue,e.booleanValue);case 2:return function(r,s){const o=Wi(r.integerValue||r.doubleValue),a=Wi(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(i,e);case 3:return bR(i.timestampValue,e.timestampValue);case 4:return bR(Cm(i),Cm(e));case 5:return rn(i.stringValue,e.stringValue);case 6:return function(r,s){const o=Iu(r),a=Iu(s);return o.compareTo(a)}(i.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=rn(o[l],a[l]);if(u!==0)return u}return rn(o.length,a.length)}(i.referenceValue,e.referenceValue);case 8:return function(r,s){const o=rn(Wi(r.latitude),Wi(s.latitude));return o!==0?o:rn(Wi(r.longitude),Wi(s.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Bc(o[l],a[l]);if(u)return u}return rn(o.length,a.length)}(i.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Cc.mapValue&&s===Cc.mapValue)return 0;if(r===Cc.mapValue)return 1;if(s===Cc.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=rn(a[c],u[c]);if(h!==0)return h;const f=Bc(o[a[c]],l[u[c]]);if(f!==0)return f}return rn(a.length,u.length)}(i.mapValue,e.mapValue);default:throw At()}}function bR(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return rn(i,e);const t=Fc(i),n=Fc(e),r=rn(t.seconds,n.seconds);return r!==0?r:rn(t.nanos,n.nanos)}function Rf(i){return T_(i)}function T_(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const r=Fc(n);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Iu(i.bytesValue).toBase64():"referenceValue"in i?(t=i.referenceValue,_t.fromName(t).toString()):"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=T_(o);return r+"]"}(i.arrayValue):"mapValue"in i?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${T_(n.fields[a])}`;return s+"}"}(i.mapValue):At();var e,t}function b1(i){switch($c(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jb(i);return e?16+b1(e):16;case 5:return 2*i.stringValue.length;case 6:return Iu(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(i.arrayValue.values||[]).reduce((t,n)=>t+b1(n),0);case 10:return function(t){let n=0;return id(t.fields,(r,s)=>{n+=r.length+b1(s)}),n}(i.mapValue);default:throw At()}}function eh(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function x_(i){return!!i&&"integerValue"in i}function _m(i){return!!i&&"arrayValue"in i}function CR(i){return!!i&&"nullValue"in i}function wR(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function C1(i){return!!i&&"mapValue"in i}function Kg(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return id(i.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Kg(n)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kg(i.arrayValue.values[t]);return e}return Object.assign({},i)}function kL(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function oae(i){return"nullValue"in i?y1:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?eh(Mv.empty(),_t.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:At()}function aae(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?eh(Mv.empty(),_t.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Cc:At()}function _R(i,e){const t=Bc(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function IR(i,e){const t=Bc(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to=class P_{constructor(e){this.value=e}static empty(){return new P_({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!C1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kg(t)}setAll(e){let t=Is.emptyPath(),n={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,n,r),n={},r=[],t=a.popLast()}o?n[a.lastSegment()]=Kg(o):r.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());C1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ll(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];C1(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){id(t,(r,s)=>e[r]=s);for(const r of n)delete e[r]}clone(){return new P_(Kg(this.value))}};function AL(i){const e=[];return id(i.fields,(t,n)=>{const r=new Is([t]);if(C1(n)){const s=AL(n.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Oa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr=class Ad{constructor(e,t,n,r,s,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ad(e,0,Gt.min(),Gt.min(),Gt.min(),to.empty(),0)}static newFoundDocument(e,t,n,r){return new Ad(e,1,t,Gt.min(),n,r,0)}static newNoDocument(e,t){return new Ad(e,2,t,Gt.min(),Gt.min(),to.empty(),0)}static newUnknownDocument(e,t){return new Ad(e,3,t,Gt.min(),Gt.min(),to.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=to.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=to.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ad&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ad(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=class{constructor(e,t){this.position=e,this.inclusive=t}};function ER(i,e,t){let n=0;for(let r=0;r<i.position.length;r++){const s=e[r],o=i.position[r];if(s.field.isKeyField()?n=_t.comparator(_t.fromName(o.referenceValue),t.key):n=Bc(o,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function SR(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ll(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function lae(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VL=class{},Mn=class LL extends VL{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new uae(e,t,n):t==="array-contains"?new hae(e,n):t==="in"?new BL(e,n):t==="not-in"?new fae(e,n):t==="array-contains-any"?new pae(e,n):new LL(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new cae(e,n):new dae(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bc(t,this.value)):t!==null&&$c(this.value)===$c(t)&&this.matchesComparison(Bc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},Ci=class OL extends VL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new OL(e,t)}matches(e){return kf(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return e!==null?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}};function kf(i){return i.op==="and"}function R_(i){return i.op==="or"}function ES(i){return DL(i)&&kf(i)}function DL(i){for(const e of i.filters)if(e instanceof Ci)return!1;return!0}function k_(i){if(i instanceof Mn)return i.field.canonicalString()+i.op.toString()+Rf(i.value);if(ES(i))return i.filters.map(e=>k_(e)).join(",");{const e=i.filters.map(t=>k_(t)).join(",");return`${i.op}(${e})`}}function NL(i,e){return i instanceof Mn?function(t,n){return n instanceof Mn&&t.op===n.op&&t.field.isEqual(n.field)&&Ll(t.value,n.value)}(i,e):i instanceof Ci?function(t,n){return n instanceof Ci&&t.op===n.op&&t.filters.length===n.filters.length?t.filters.reduce((r,s,o)=>r&&NL(s,n.filters[o]),!0):!1}(i,e):void At()}function ML(i,e){const t=i.filters.concat(e);return Ci.create(t,i.op)}function FL(i){return i instanceof Mn?function(e){return`${e.field.canonicalString()} ${e.op} ${Rf(e.value)}`}(i):i instanceof Ci?function(e){return e.op.toString()+" {"+e.getFilters().map(FL).join(" ,")+"}"}(i):"Filter"}let uae=class extends Mn{constructor(e,t,n){super(e,t,n),this.key=_t.fromName(n.referenceValue)}matches(e){const t=_t.comparator(e.key,this.key);return this.matchesComparison(t)}},cae=class extends Mn{constructor(e,t){super(e,"in",t),this.keys=$L("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},dae=class extends Mn{constructor(e,t){super(e,"not-in",t),this.keys=$L("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function $L(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>_t.fromName(n.referenceValue))}let hae=class extends Mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _m(t)&&wm(t.arrayValue,this.value)}},BL=class extends Mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wm(this.value.arrayValue,t)}},fae=class extends Mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(wm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!wm(this.value.arrayValue,t)}},pae=class extends Mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_m(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>wm(this.value.arrayValue,n))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gae=class{constructor(e,t=null,n=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function A_(i,e=null,t=[],n=[],r=null,s=null,o=null){return new gae(i,e,t,n,r,s,o)}function th(i){const e=vt(i);if(e.dt===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>k_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(r){return r.field.canonicalString()+r.dir}(n)).join(","),Nv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Rf(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Rf(n)).join(",")),e.dt=t}return e.dt}function Fv(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!lae(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!NL(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!SR(i.startAt,e.startAt)&&SR(i.endAt,e.endAt)}function u0(i){return _t.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function c0(i,e){return i.filters.filter(t=>t instanceof Mn&&t.field.isEqual(e))}function TR(i,e,t){let n=y1,r=!0;for(const s of c0(i,e)){let o=y1,a=!0;switch(s.op){case"<":case"<=":o=oae(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=y1}_R({value:n,inclusive:r},{value:o,inclusive:a})<0&&(n=o,r=a)}if(t!==null){for(let s=0;s<i.orderBy.length;++s)if(i.orderBy[s].field.isEqual(e)){const o=t.position[s];_R({value:n,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(n=o,r=t.inclusive);break}}return{value:n,inclusive:r}}function xR(i,e,t){let n=Cc,r=!0;for(const s of c0(i,e)){let o=Cc,a=!0;switch(s.op){case">=":case">":o=aae(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Cc}IR({value:n,inclusive:r},{value:o,inclusive:a})>0&&(n=o,r=a)}if(t!==null){for(let s=0;s<i.orderBy.length;++s)if(i.orderBy[s].field.isEqual(e)){const o=t.position[s];IR({value:n,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(n=o,r=t.inclusive);break}}return{value:n,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru=class{constructor(e,t=null,n=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function qL(i,e,t,n,r,s,o,a){return new Ru(i,e,t,n,r,s,o,a)}function gp(i){return new Ru(i)}function PR(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function SS(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Yb(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(t!==null)return t}return null}function TS(i){return i.collectionGroup!==null}function Kd(i){const e=vt(i);if(e.wt===null){e.wt=[];const t=Yb(e),n=SS(e);if(t!==null&&n===null)t.isKeyField()||e.wt.push(new lf(t)),e.wt.push(new lf(Is.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new lf(Is.keyField(),s))}}}return e.wt}function Ms(i){const e=vt(i);if(!e._t)if(e.limitType==="F")e._t=A_(e.path,e.collectionGroup,Kd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Kd(e)){const o=s.dir==="desc"?"asc":"desc";t.push(new lf(s.field,o))}const n=e.endAt?new qc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qc(e.startAt.position,e.startAt.inclusive):null;e._t=A_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e._t}function V_(i,e){e.getFirstInequalityField(),Yb(i);const t=i.filters.concat([e]);return new Ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function d0(i,e,t){return new Ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function $v(i,e){return Fv(Ms(i),Ms(e))&&i.limitType===e.limitType}function UL(i){return`${th(Ms(i))}|lt:${i.limitType}`}function L_(i){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>FL(n)).join(", ")}]`),Nv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Rf(n)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Rf(n)).join(",")),`Target(${t})`}(Ms(i))}; limitType=${i.limitType})`}function Bv(i,e){return e.isFoundDocument()&&function(t,n){const r=n.key.path;return t.collectionGroup!==null?n.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):_t.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(i,e)&&function(t,n){for(const r of Kd(t))if(!r.field.isKeyField()&&n.data.field(r.field)===null)return!1;return!0}(i,e)&&function(t,n){for(const r of t.filters)if(!r.matches(n))return!1;return!0}(i,e)&&function(t,n){return!(t.startAt&&!function(r,s,o){const a=ER(r,s,o);return r.inclusive?a<=0:a<0}(t.startAt,Kd(t),n)||t.endAt&&!function(r,s,o){const a=ER(r,s,o);return r.inclusive?a>=0:a>0}(t.endAt,Kd(t),n))}(i,e)}function HL(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zL(i){return(e,t)=>{let n=!1;for(const r of Kd(i)){const s=mae(r,e,t);if(s!==0)return s;n=n||r.field.isKeyField()}return 0}}function mae(i,e,t){const n=i.field.isKeyField()?_t.comparator(e.key,t.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Bc(a,l):At()}(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return At()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,s]of n)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){id(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return PL(this.inner)}size(){return this.innerSize}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vae=new qi(_t.comparator);function ro(){return vae}const jL=new qi(_t.comparator);function bg(...i){let e=jL;for(const t of i)e=e.insert(t.key,t);return e}function QL(i){let e=jL;return i.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function gl(){return Jg()}function WL(){return Jg()}function Jg(){return new ku(i=>i.toString(),(i,e)=>i.isEqual(e))}const yae=new qi(_t.comparator),bae=new Xi(_t.comparator);function pn(...i){let e=bae;for(const t of i)e=e.add(t);return e}const Cae=new Xi(rn);function xS(){return Cae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bm(e)?"-0":e}}function KL(i){return{integerValue:""+i}}function JL(i,e){return IL(e)?KL(e):GL(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zb=class{constructor(){this._=void 0}};function wae(i,e,t){return i instanceof Af?function(n,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return r&&Kb(r)&&(r=Jb(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):i instanceof nh?ZL(i,e):i instanceof ih?XL(i,e):function(n,r){const s=YL(n,r),o=RR(s)+RR(n.gt);return x_(s)&&x_(n.gt)?KL(o):GL(n.serializer,o)}(i,e)}function _ae(i,e,t){return i instanceof nh?ZL(i,e):i instanceof ih?XL(i,e):t}function YL(i,e){return i instanceof Vf?x_(t=e)||function(n){return!!n&&"doubleValue"in n}(t)?e:{integerValue:0}:null;var t}let Af=class extends Zb{},nh=class extends Zb{constructor(e){super(),this.elements=e}};function ZL(i,e){const t=eO(e);for(const n of i.elements)t.some(r=>Ll(r,n))||t.push(n);return{arrayValue:{values:t}}}let ih=class extends Zb{constructor(e){super(),this.elements=e}};function XL(i,e){let t=eO(e);for(const n of i.elements)t=t.filter(r=>!Ll(r,n));return{arrayValue:{values:t}}}let Vf=class extends Zb{constructor(e,t){super(),this.serializer=e,this.gt=t}};function RR(i){return Wi(i.integerValue||i.doubleValue)}function eO(i){return _m(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qv=class{constructor(e,t){this.field=e,this.transform=t}};function Iae(i,e){return i.field.isEqual(e.field)&&function(t,n){return t instanceof nh&&n instanceof nh||t instanceof ih&&n instanceof ih?xf(t.elements,n.elements,Ll):t instanceof Vf&&n instanceof Vf?Ll(t.gt,n.gt):t instanceof Af&&n instanceof Af}(i.transform,e.transform)}let Eae=class{constructor(e,t){this.version=e,this.transformResults=t}},br=class w1{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new w1}static exists(e){return new w1(void 0,e)}static updateTime(e){return new w1(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function _1(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}let Xb=class{};function tO(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new vp(i.key,br.none()):new mp(i.key,i.data,br.none());{const t=i.data,n=to.empty();let r=new Xi(Is.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?n.delete(s):n.set(s,o),r=r.add(s)}return new Au(i.key,n,new Oa(r.toArray()),br.none())}}function Sae(i,e,t){i instanceof mp?function(n,r,s){const o=n.value.clone(),a=AR(n.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(i,e,t):i instanceof Au?function(n,r,s){if(!_1(n.precondition,r))return void r.convertToUnknownDocument(s.version);const o=AR(n.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(nO(n)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(i,e,t):function(n,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Yg(i,e,t,n){return i instanceof mp?function(r,s,o,a){if(!_1(r.precondition,s))return o;const l=r.value.clone(),u=VR(r.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(i,e,t,n):i instanceof Au?function(r,s,o,a){if(!_1(r.precondition,s))return o;const l=VR(r.fieldTransforms,a,s),u=s.data;return u.setAll(nO(r)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(c=>c.field))}(i,e,t,n):function(r,s,o){return _1(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(i,e,t)}function Tae(i,e){let t=null;for(const n of i.fieldTransforms){const r=e.data.field(n.field),s=YL(n.transform,r||null);s!=null&&(t===null&&(t=to.empty()),t.set(n.field,s))}return t||null}function kR(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(t,n){return t===void 0&&n===void 0||!(!t||!n)&&xf(t,n,(r,s)=>Iae(r,s))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}let mp=class extends Xb{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Au=class extends Xb{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function nO(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}}),e}function AR(i,e,t){const n=new Map;Ht(i.length===t.length);for(let r=0;r<t.length;r++){const s=i[r],o=s.transform,a=e.data.field(s.field);n.set(s.field,_ae(o,a,t[r]))}return n}function VR(i,e,t){const n=new Map;for(const r of i){const s=r.transform,o=t.data.field(r.field);n.set(r.field,wae(s,o,e))}return n}let vp=class extends Xb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},PS=class extends Xb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RS=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Sae(s,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Yg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Yg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=WL();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;const l=tO(o,a);l!==null&&n.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&xf(this.mutations,e.mutations,(t,n)=>kR(t,n))&&xf(this.baseMutations,e.baseMutations,(t,n)=>kR(t,n))}},xae=class iO{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ht(e.mutations.length===n.length);let r=yae;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new iO(e,t,n,r)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kS=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pae=class{constructor(e,t,n){this.alias=e,this.yt=t,this.fieldPath=n}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rae=class{constructor(e,t){this.count=e,this.unchangedNames=t}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr,On;function rO(i){switch(i){default:return At();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function sO(i){if(i===void 0)return lr("GRPC error has no .code"),ye.UNKNOWN;switch(i){case vr.OK:return ye.OK;case vr.CANCELLED:return ye.CANCELLED;case vr.UNKNOWN:return ye.UNKNOWN;case vr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case vr.INTERNAL:return ye.INTERNAL;case vr.UNAVAILABLE:return ye.UNAVAILABLE;case vr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case vr.NOT_FOUND:return ye.NOT_FOUND;case vr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case vr.ABORTED:return ye.ABORTED;case vr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case vr.DATA_LOSS:return ye.DATA_LOSS;default:return At()}}(On=vr||(vr={}))[On.OK=0]="OK",On[On.CANCELLED=1]="CANCELLED",On[On.UNKNOWN=2]="UNKNOWN",On[On.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",On[On.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",On[On.NOT_FOUND=5]="NOT_FOUND",On[On.ALREADY_EXISTS=6]="ALREADY_EXISTS",On[On.PERMISSION_DENIED=7]="PERMISSION_DENIED",On[On.UNAUTHENTICATED=16]="UNAUTHENTICATED",On[On.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",On[On.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",On[On.ABORTED=10]="ABORTED",On[On.OUT_OF_RANGE=11]="OUT_OF_RANGE",On[On.UNIMPLEMENTED=12]="UNIMPLEMENTED",On[On.INTERNAL=13]="INTERNAL",On[On.UNAVAILABLE=14]="UNAVAILABLE",On[On.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oO=class aO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ty}static getOrCreateInstance(){return Ty===null&&(Ty=new aO),Ty}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}},Ty=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kae=new Qi.Integer([4294967295,4294967295],0);function LR(i){const e=lO().encode(i),t=new Qi.Md5;return t.update(e),new Uint8Array(t.digest())}function OR(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qi.Integer([t,n],0),new Qi.Integer([r,s],0)]}let Aae=class uO{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Cg(`Invalid padding: ${t}`);if(n<0)throw new Cg(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Cg(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Cg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Qi.Integer.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Qi.Integer.fromNumber(n)));return r.compare(kae)===1&&(r=new Qi.Integer([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const t=LR(e),[n,r]=OR(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(n,r,s);if(!this.At(o))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uO(s,r,t);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const t=LR(e),[n,r]=OR(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(n,r,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Cg=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AS=class cO{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,VS.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cO(Gt.min(),r,new qi(rn),ro(),pn())}},VS=class dO{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dO(n,t,pn(),pn(),pn())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1=class{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}},hO=class{constructor(e,t){this.targetId=e,this.Vt=t}},fO=class{constructor(e,t,n=Es.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},DR=class{constructor(){this.St=0,this.Dt=MR(),this.Ct=Es.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pn(),t=pn(),n=pn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:At()}}),new VS(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=MR()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}},Vae=class{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ro(),this.zt=NR(),this.Wt=new qi(rn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:At()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((n,r)=>{this.te(r)&&t(r)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,s=this.se(n);if(s){const o=s.target;if(u0(o))if(r===0){const a=new _t(o.path);this.Yt(n,a,qr.newNoDocument(a,Gt.min()))}else Ht(r===1);else{const a=this.ie(n);if(a!==r){const l=this.re(e,a);if(l!==0){this.ee(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,u)}(t=oO.instance)===null||t===void 0||t.notifyOnExistenceFilterMismatch(function(u,c,h){var f,m,b,_,E,k;const j={localCacheCount:c,existenceFilterCount:h.count},M=h.unchangedNames;return M&&(j.bloomFilter={applied:u===0,hashCount:(f=M==null?void 0:M.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(_=(b=(m=M==null?void 0:M.bits)===null||m===void 0?void 0:m.bitmap)===null||b===void 0?void 0:b.length)!==null&&_!==void 0?_:0,padding:(k=(E=M==null?void 0:M.bits)===null||E===void 0?void 0:E.padding)!==null&&k!==void 0?k:0}),j}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=n;let l,u;try{l=Iu(s).toUint8Array()}catch(c){if(c instanceof RL)return da("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Aae(l,o,a)}catch(c){return da(c instanceof Cg?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:r!==t-this.oe(e.targetId,u)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&u0(a.target)){const l=new _t(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,qr.newNoDocument(l,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let n=pn();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const r=new AS(e,t,this.Wt,this.jt,n);return this.jt=ro(),this.zt=NR(),this.Wt=new qi(rn),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new DR,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Xi(rn),this.zt=this.zt.insert(e,t)),t}te(e){const t=this.se(e)!==null;return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new DR),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}};function NR(){return new qi(_t.comparator)}function MR(){return new qi(_t.comparator)}const Lae={asc:"ASCENDING",desc:"DESCENDING"},Oae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dae={and:"AND",or:"OR"};let Nae=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function O_(i,e){return i.useProto3Json||Nv(e)?e:{value:e}}function Lf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pO(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Mae(i,e){return Lf(i,e.toTimestamp())}function cr(i){return Ht(!!i),Gt.fromTimestamp(function(e){const t=Fc(e);return new Cr(t.seconds,t.nanos)}(i))}function LS(i,e){return function(t){return new ii(["projects",t.projectId,"databases",t.database])}(i).child("documents").child(e).canonicalString()}function gO(i){const e=ii.fromString(i);return Ht(IO(e)),e}function Im(i,e){return LS(i.databaseId,e.path)}function wl(i,e){const t=gO(e);if(t.get(1)!==i.databaseId.projectId)throw new He(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new He(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _t(vO(t))}function D_(i,e){return LS(i.databaseId,e)}function mO(i){const e=gO(i);return e.length===4?ii.emptyPath():vO(e)}function Em(i){return new ii(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vO(i){return Ht(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function FR(i,e,t){return{name:Im(i,e),fields:t.value.mapValue.fields}}function yO(i,e,t){const n=wl(i,e.name),r=cr(e.updateTime),s=e.createTime?cr(e.createTime):Gt.min(),o=new to({mapValue:{fields:e.fields}}),a=qr.newFoundDocument(n,r,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Fae(i,e){return"found"in e?function(t,n){Ht(!!n.found),n.found.name,n.found.updateTime;const r=wl(t,n.found.name),s=cr(n.found.updateTime),o=n.found.createTime?cr(n.found.createTime):Gt.min(),a=new to({mapValue:{fields:n.found.fields}});return qr.newFoundDocument(r,s,o,a)}(i,e):"missing"in e?function(t,n){Ht(!!n.missing),Ht(!!n.readTime);const r=wl(t,n.missing),s=cr(n.readTime);return qr.newNoDocument(r,s)}(i,e):At()}function $ae(i,e){let t;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:At()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Ht(u===void 0||typeof u=="string"),Es.fromBase64String(u||"")):(Ht(u===void 0||u instanceof Uint8Array),Es.fromUint8Array(u||new Uint8Array))}(i,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?ye.UNKNOWN:sO(l.code);return new He(u,l.message||"")}(o);t=new fO(n,r,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=wl(i,n.document.name),s=cr(n.document.updateTime),o=n.document.createTime?cr(n.document.createTime):Gt.min(),a=new to({mapValue:{fields:n.document.fields}}),l=qr.newFoundDocument(r,s,o,a),u=n.targetIds||[],c=n.removedTargetIds||[];t=new I1(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=wl(i,n.document),s=n.readTime?cr(n.readTime):Gt.min(),o=qr.newNoDocument(r,s),a=n.removedTargetIds||[];t=new I1([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=wl(i,n.document),s=n.removedTargetIds||[];t=new I1([],s,r,null)}else{if(!("filter"in e))return At();{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:s}=n,o=new Rae(r,s),a=n.targetId;t=new hO(a,o)}}return t}function Sm(i,e){let t;if(e instanceof mp)t={update:FR(i,e.key,e.value)};else if(e instanceof vp)t={delete:Im(i,e.key)};else if(e instanceof Au)t={update:FR(i,e.key,e.data),updateMask:jae(e.fieldMask)};else{if(!(e instanceof PS))return At();t={verify:Im(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(r,s){const o=s.transform;if(o instanceof Af)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof nh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ih)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Vf)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw At()}(0,n))),e.precondition.isNone||(t.currentDocument=function(n,r){return r.updateTime!==void 0?{updateTime:Mae(n,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:At()}(i,e.precondition)),t}function N_(i,e){const t=e.currentDocument?function(r){return r.updateTime!==void 0?br.updateTime(cr(r.updateTime)):r.exists!==void 0?br.exists(r.exists):br.none()}(e.currentDocument):br.none(),n=e.updateTransforms?e.updateTransforms.map(r=>function(s,o){let a=null;if("setToServerValue"in o)Ht(o.setToServerValue==="REQUEST_TIME"),a=new Af;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new nh(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new ih(u)}else"increment"in o?a=new Vf(s,o.increment):At();const l=Is.fromServerFormat(o.fieldPath);return new qv(l,a)}(i,r)):[];if(e.update){e.update.name;const r=wl(i,e.update.name),s=new to({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new Oa(l.map(u=>Is.fromServerFormat(u)))}(e.updateMask);return new Au(r,s,o,t,n)}return new mp(r,s,t,n)}if(e.delete){const r=wl(i,e.delete);return new vp(r,t)}if(e.verify){const r=wl(i,e.verify);return new PS(r,t)}return At()}function Bae(i,e){return i&&i.length>0?(Ht(e!==void 0),i.map(t=>function(n,r){let s=n.updateTime?cr(n.updateTime):cr(r);return s.isEqual(Gt.min())&&(s=cr(r)),new Eae(s,n.transformResults||[])}(t,e))):[]}function bO(i,e){return{documents:[D_(i,e.path)]}}function OS(i,e){const t={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(t.parent=D_(i,n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=D_(i,n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);const r=function(l){if(l.length!==0)return _O(Ci.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:pc(c.field),direction:Uae(c.dir)}}(u))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=O_(i,e.limit);var a;return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t}function CO(i){let e=mO(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){Ht(n===1);const c=t.from[0];c.allDescendants?r=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=function(c){const h=wO(c);return h instanceof Ci&&ES(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>function(h){return new lf(Qh(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;t.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Nv(h)?null:h}(t.limit));let l=null;t.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new qc(f,h)}(t.startAt));let u=null;return t.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new qc(f,h)}(t.endAt)),qL(e,r,o,s,a,"F",l,u)}function qae(i,e){const t=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wO(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Qh(e.unaryFilter.field);return Mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Qh(e.unaryFilter.field);return Mn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Qh(e.unaryFilter.field);return Mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Qh(e.unaryFilter.field);return Mn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(i):i.fieldFilter!==void 0?function(e){return Mn.create(Qh(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return Ci.create(e.compositeFilter.filters.map(t=>wO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return At()}}(e.compositeFilter.op))}(i):At()}function Uae(i){return Lae[i]}function Hae(i){return Oae[i]}function zae(i){return Dae[i]}function pc(i){return{fieldPath:i.canonicalString()}}function Qh(i){return Is.fromServerFormat(i.fieldPath)}function _O(i){return i instanceof Mn?function(e){if(e.op==="=="){if(wR(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NAN"}};if(CR(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(wR(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NAN"}};if(CR(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(e.field),op:Hae(e.op),value:e.value}}}(i):i instanceof Ci?function(e){const t=e.getFilters().map(n=>_O(n));return t.length===1?t[0]:{compositeFilter:{op:zae(e.op),filters:t}}}(i):At()}function jae(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IO(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eC=class wg{constructor(e,t,n,r,s=Gt.min(),o=Gt.min(),a=Es.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EO=class{constructor(e){this.fe=e}};function Qae(i,e){let t;if(e.document)t=yO(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=_t.fromSegments(e.noDocument.path),r=sh(e.noDocument.readTime);t=qr.newNoDocument(n,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return At();{const n=_t.fromSegments(e.unknownDocument.path),r=sh(e.unknownDocument.version);t=qr.newUnknownDocument(n,r)}}return e.readTime&&t.setReadTime(function(n){const r=new Cr(n[0],n[1]);return Gt.fromTimestamp(r)}(e.readTime)),t}function $R(i,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:h0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(r,s){return{name:Im(r,s.key),fields:s.data.value.mapValue.fields,updateTime:Lf(r,s.version.toTimestamp()),createTime:Lf(r,s.createTime.toTimestamp())}}(i.fe,e);else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:rh(e.version)};else{if(!e.isUnknownDocument())return At();n.unknownDocument={path:t.path.toArray(),version:rh(e.version)}}return n}function h0(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function rh(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function sh(i){const e=new Cr(i.seconds,i.nanoseconds);return Gt.fromTimestamp(e)}function Dd(i,e){const t=(e.baseMutations||[]).map(s=>N_(i.fe,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>N_(i.fe,s)),r=Cr.fromMillis(e.localWriteTimeMs);return new RS(e.batchId,r,t,n)}function _g(i){const e=sh(i.readTime),t=i.lastLimboFreeSnapshotVersion!==void 0?sh(i.lastLimboFreeSnapshotVersion):Gt.min();let n;var r;return i.query.documents!==void 0?(Ht((r=i.query).documents.length===1),n=Ms(gp(mO(r.documents[0])))):n=function(s){return Ms(CO(s))}(i.query),new eC(n,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Es.fromBase64String(i.resumeToken))}function SO(i,e){const t=rh(e.snapshotVersion),n=rh(e.lastLimboFreeSnapshotVersion);let r;r=u0(e.target)?bO(i.fe,e.target):OS(i.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:th(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function DS(i){const e=CO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?d0(e,e.limit,"L"):e}function Nw(i,e){return new kS(e.largestBatchId,N_(i.fe,e.overlayMutation))}function BR(i,e){const t=e.path.lastSegment();return[i,Cs(e.path.popLast()),t]}function qR(i,e,t,n){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:rh(n.readTime),documentKey:Cs(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wae=class{getBundleMetadata(e,t){return UR(e).get(t).next(n=>{if(n)return{id:(r=n).bundleId,createTime:sh(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return UR(e).put({bundleId:(n=t).id,createTime:rh(cr(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return HR(e).get(t).next(n=>{if(n)return{name:(r=n).name,query:DS(r.bundledQuery),readTime:sh(r.readTime)};var r})}saveNamedQuery(e,t){return HR(e).put(function(n){return{name:n.name,readTime:rh(cr(n.readTime)),bundledQuery:n.bundledQuery}}(t))}};function UR(i){return zr(i,"bundles")}function HR(i){return zr(i,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TO=class xO{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new xO(e,n)}getOverlay(e,t){return Yp(e).get(BR(this.userId,t)).next(n=>n?Nw(this.serializer,n):null)}getOverlays(e,t){const n=gl();return be.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&n.set(r,s)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((s,o)=>{const a=new kS(t,o);r.push(this.we(e,a))}),be.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(o=>r.add(Cs(o.getCollectionPath())));const s=[];return r.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);s.push(Yp(e).J("collectionPathOverlayIndex",a))}),be.waitFor(s)}getOverlaysForCollection(e,t,n){const r=gl(),s=Cs(t),o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Yp(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Nw(this.serializer,l);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const s=gl();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yp(e).X({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const h=Nw(this.serializer,u);s.size()<r||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):c.done()}).next(()=>s)}we(e,t){return Yp(e).put(function(n,r,s){const[o,a,l]=BR(r,s.mutation.key);return{userId:r,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Sm(n.fe,s.mutation)}}(this.serializer,this.userId,t))}};function Yp(i){return zr(i,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd=class{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Wi(e.integerValue));else if("doubleValue"in e){const n=Wi(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),bm(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),typeof n=="string"?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Iu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?kL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):At()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),_t.fromName(e).path.forEach(n=>{this.ye(t,60),this.be(n,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}};Nd.Ve=new Nd;function Gae(i){if(i===0)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function zR(i){const e=64-function(t){let n=0;for(let r=0;r<8;++r){const s=Gae(255&t[r]);if(n+=s,s!==8)break}return n}(i);return Math.ceil(e/8)}let Kae=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.De(n);else if(n<2048)this.De(960|n>>>6),this.De(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.De(480|n>>>12),this.De(128|63&n>>>6),this.De(128|63&n);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Ne(n);else if(n<2048)this.Ne(960|n>>>6),this.Ne(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Ne(480|n>>>12),this.Ne(128|63&n>>>6),this.Ne(128|63&n);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),n=zR(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=zR(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),n=(128&t[0])!=0;t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;t===0?(this.Ue(0),this.Ue(255)):t===255?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;t===0?(this.Ge(0),this.Ge(255)):t===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}},Jae=class{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}},Yae=class{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}},Zp=class{constructor(){this.je=new Kae,this.ze=new Jae(this.je),this.We=new Yae(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xp=class PO{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new PO(this.indexId,this.documentKey,this.arrayValue,n)}};function Yu(i,e){let t=i.indexId-e.indexId;return t!==0?t:(t=jR(i.arrayValue,e.arrayValue),t!==0?t:(t=jR(i.directionalValue,e.directionalValue),t!==0?t:_t.comparator(i.documentKey,e.documentKey)))}function jR(i,e){for(let t=0;t<i.length&&t<e.length;++t){const n=i[t]-e[t];if(n!==0)return n}return i.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zae=class{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const n=t;n.isInequality()?this.Ze=n:this.Xe.push(n)}}tn(e){Ht(e.collectionGroup===this.collectionId);const t=v_(e);if(t!==void 0&&!this.en(t))return!1;const n=kd(e);let r=new Set,s=0,o=0;for(;s<n.length&&this.en(n[s]);++s)r=r.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Ze!==void 0){if(!r.has(this.Ze.field.canonicalString())){const a=n[s];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[o++],a))return!1}++s}for(;s<n.length;++s){const a=n[s];if(o>=this.Ye.length||!this.sn(this.Ye[o++],a))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(i){var e,t;if(Ht(i instanceof Mn||i instanceof Ci),i instanceof Mn){if(i instanceof BL){const r=((t=(e=i.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>Mn.create(i.field,"==",s)))||[];return Ci.create(r,"or")}return i}const n=i.filters.map(r=>RO(r));return Ci.create(n,i.op)}function Xae(i){if(i.getFilters().length===0)return[];const e=$_(RO(i));return Ht(kO(e)),M_(e)||F_(e)?[e]:e.getFilters()}function M_(i){return i instanceof Mn}function F_(i){return i instanceof Ci&&ES(i)}function kO(i){return M_(i)||F_(i)||function(e){if(e instanceof Ci&&R_(e)){for(const t of e.getFilters())if(!M_(t)&&!F_(t))return!1;return!0}return!1}(i)}function $_(i){if(Ht(i instanceof Mn||i instanceof Ci),i instanceof Mn)return i;if(i.filters.length===1)return $_(i.filters[0]);const e=i.filters.map(n=>$_(n));let t=Ci.create(e,i.op);return t=f0(t),kO(t)?t:(Ht(t instanceof Ci),Ht(kf(t)),Ht(t.filters.length>1),t.filters.reduce((n,r)=>NS(n,r)))}function NS(i,e){let t;return Ht(i instanceof Mn||i instanceof Ci),Ht(e instanceof Mn||e instanceof Ci),t=i instanceof Mn?e instanceof Mn?function(n,r){return Ci.create([n,r],"and")}(i,e):QR(i,e):e instanceof Mn?QR(e,i):function(n,r){if(Ht(n.filters.length>0&&r.filters.length>0),kf(n)&&kf(r))return ML(n,r.getFilters());const s=R_(n)?n:r,o=R_(n)?r:n,a=s.filters.map(l=>NS(l,o));return Ci.create(a,"or")}(i,e),f0(t)}function QR(i,e){if(kf(e))return ML(e,i.getFilters());{const t=e.filters.map(n=>NS(i,n));return Ci.create(t,"or")}}function f0(i){if(Ht(i instanceof Mn||i instanceof Ci),i instanceof Mn)return i;const e=i.getFilters();if(e.length===1)return f0(e[0]);if(DL(i))return i;const t=e.map(r=>f0(r)),n=[];return t.forEach(r=>{r instanceof Mn?n.push(r):r instanceof Ci&&(r.op===i.op?n.push(...r.filters):n.push(r))}),n.length===1?n[0]:Ci.create(n,i.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ele=class{constructor(){this.rn=new MS}addToCollectionParentIndex(e,t){return this.rn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(Vl.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(Vl.min())}updateCollectionGroup(e,t,n){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}},MS=class{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xi(ii.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Xi(ii.comparator)).toArray()}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new Uint8Array(0);let tle=class{constructor(e,t){this.user=e,this.databaseId=t,this.on=new MS,this.un=new ku(n=>th(n),(n,r)=>Fv(n,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:n,parent:Cs(r)};return WR(e).put(s)}return be.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[pL(t),""],!1,!0);return WR(e).j(r).next(s=>{for(const o of s){if(o.collectionId!==t)break;n.push(pl(o.parent))}return n})}addFieldIndex(e,t){const n=Py(e),r=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(t);delete r.indexId;const s=n.add(r);if(t.indexState){const o=tg(e);return s.next(a=>{o.put(qR(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const n=Py(e),r=tg(e),s=eg(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=eg(e);let r=!0;const s=new Map;return be.forEach(this.cn(t),o=>this.an(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=pn();const a=[];return be.forEach(s,(l,u)=>{var c;Ge("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(M=>`${M.fieldPath}:${M.kind}`).join(",")}`} to execute ${th(t)}`);const h=function(M,q){const J=v_(q);if(J===void 0)return null;for(const Z of c0(M,J.fieldPath))switch(Z.op){case"array-contains-any":return Z.value.arrayValue.values||[];case"array-contains":return[Z.value]}return null}(u,l),f=function(M,q){const J=new Map;for(const Z of kd(q))for(const L of c0(M,Z.fieldPath))switch(L.op){case"==":case"in":J.set(Z.fieldPath.canonicalString(),L.value);break;case"not-in":case"!=":return J.set(Z.fieldPath.canonicalString(),L.value),Array.from(J.values())}return null}(u,l),m=function(M,q){const J=[];let Z=!0;for(const L of kd(q)){const y=L.kind===0?TR(M,L.fieldPath,M.startAt):xR(M,L.fieldPath,M.startAt);J.push(y.value),Z&&(Z=y.inclusive)}return new qc(J,Z)}(u,l),b=function(M,q){const J=[];let Z=!0;for(const L of kd(q)){const y=L.kind===0?xR(M,L.fieldPath,M.endAt):TR(M,L.fieldPath,M.endAt);J.push(y.value),Z&&(Z=y.inclusive)}return new qc(J,Z)}(u,l),_=this.hn(l,u,m),E=this.hn(l,u,b),k=this.ln(l,u,f),j=this.fn(l.indexId,h,_,m.inclusive,E,b.inclusive,k);return be.forEach(j,M=>n.H(M,t.limit).next(q=>{q.forEach(J=>{const Z=_t.fromSegments(J.documentKey);o.has(Z)||(o=o.add(Z),a.push(Z))})}))}).next(()=>a)}return be.resolve(null)})}cn(e){let t=this.un.get(e);return t||(e.filters.length===0?t=[e]:t=Xae(Ci.create(e.filters,"and")).map(n=>A_(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,n,r,s,o,a){const l=(t!=null?t.length:1)*Math.max(n.length,s.length),u=l/(t!=null?t.length:1),c=[];for(let h=0;h<l;++h){const f=t?this.dn(t[h/u]):xy,m=this.wn(e,f,n[h%u],r),b=this._n(e,f,s[h%u],o),_=a.map(E=>this.wn(e,f,E,!0));c.push(...this.createRange(m,b,_))}return c}wn(e,t,n,r){const s=new Xp(e,_t.empty(),t,n);return r?s:s.Je()}_n(e,t,n,r){const s=new Xp(e,_t.empty(),t,n);return r?s.Je():s}an(e,t){const n=new Zae(t),r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(const a of s)n.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let n=2;const r=this.cn(t);return be.forEach(r,s=>this.an(e,s).next(o=>{o?n!==0&&o.fields.length<function(a){let l=new Xi(Is.comparator),u=!1;for(const c of a.filters)for(const h of c.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:l=l.add(h.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(n=1):n=0})).next(()=>function(s){return s.limit!==null}(t)&&r.length>1&&n===2?1:n)}mn(e,t){const n=new Zp;for(const r of kd(e)){const s=t.data.field(r.fieldPath);if(s==null)return null;const o=n.He(r.kind);Nd.Ve._e(s,o)}return n.Qe()}dn(e){const t=new Zp;return Nd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Zp;return Nd.Ve._e(eh(this.databaseId,t),n.He(function(r){const s=kd(r);return s.length===0?0:s[s.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(n===null)return[];let r=[];r.push(new Zp);let s=0;for(const o of kd(e)){const a=n[s++];for(const l of r)if(this.yn(t,o.fieldPath)&&_m(a))r=this.pn(r,o,a);else{const u=l.He(o.kind);Nd.Ve._e(a,u)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],s=[];for(const o of n.arrayValue.values||[])for(const a of r){const l=new Zp;l.seed(a.Qe()),Nd.Ve._e(o,l.He(t.kind)),s.push(l)}return s}yn(e,t){return!!e.filters.find(n=>n instanceof Mn&&n.field.isEqual(t)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,t){const n=Py(e),r=tg(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next(s=>{const o=[];return be.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const h=c?new y_(c.sequenceNumber,new Vl(sh(c.readTime),new _t(pl(c.documentKey)),c.largestBatchId)):y_.empty(),f=u.fields.map(([m,b])=>new m1(Is.fromServerFormat(m),b));return new l0(u.indexId,u.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((n,r)=>{const s=n.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:rn(n.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=Py(e),s=tg(e);return this.Tn(e).next(o=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>be.forEach(a,l=>s.put(qR(l.indexId,this.user,o,n)))))}updateIndexEntries(e,t){const n=new Map;return be.forEach(t,(r,s)=>{const o=n.get(r.collectionGroup);return(o?be.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(n.set(r.collectionGroup,a),be.forEach(a,l=>this.En(e,r,l).next(u=>{const c=this.An(s,l);return u.isEqual(c)?be.resolve():this.vn(e,s,l,u,c)}))))})}Rn(e,t,n,r){return eg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return eg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=eg(e);let s=new Xi(Yu);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(o,a)=>{s=s.add(new Xp(n.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}An(e,t){let n=new Xi(Yu);const r=this.mn(t,e);if(r==null)return n;const s=v_(t);if(s!=null){const o=e.data.field(s.fieldPath);if(_m(o))for(const a of o.arrayValue.values||[])n=n.add(new Xp(t.indexId,e.key,this.dn(a),r))}else n=n.add(new Xp(t.indexId,e.key,xy,r));return n}vn(e,t,n,r,s){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(a,l,u,c,h){const f=a.getIterator(),m=l.getIterator();let b=Dh(f),_=Dh(m);for(;b||_;){let E=!1,k=!1;if(b&&_){const j=u(b,_);j<0?k=!0:j>0&&(E=!0)}else b!=null?k=!0:E=!0;E?(c(_),_=Dh(m)):k?(h(b),b=Dh(f)):(b=Dh(f),_=Dh(m))}}(r,s,Yu,a=>{o.push(this.Rn(e,t,n,a))},a=>{o.push(this.Pn(e,t,n,a))}),be.waitFor(o)}Tn(e){let t=1;return tg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((o,a)=>Yu(o,a)).filter((o,a,l)=>!a||Yu(o,l[a-1])!==0);const r=[];r.push(e);for(const o of n){const a=Yu(o,e),l=Yu(o,t);if(a===0)r[0]=e.Je();else if(a>0&&l<0)r.push(o),r.push(o.Je());else if(l>0)break}r.push(t);const s=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const a=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,xy,[]],l=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,xy,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,t){return Yu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(GR)}getMinOffset(e,t){return be.mapArray(this.cn(t),n=>this.an(e,n).next(r=>r||At())).next(GR)}};function WR(i){return zr(i,"collectionParents")}function eg(i){return zr(i,"indexEntries")}function Py(i){return zr(i,"indexConfiguration")}function tg(i){return zr(i,"indexState")}function GR(i){Ht(i.length!==0);let e=i[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<i.length;n++){const r=i[n].indexState.offset;_S(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Vl(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};let ta=class E1{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new E1(e,E1.DEFAULT_COLLECTION_PERCENTILE,E1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(i,e,t){const n=i.store("mutations"),r=i.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=n.X({range:o},(c,h,f)=>(a++,f.delete()));s.push(l.next(()=>{Ht(a===1)}));const u=[];for(const c of t.mutations){const h=EL(e,c.key.path,t.batchId);s.push(r.delete(h)),u.push(c.key)}return be.waitFor(s).next(()=>u)}function p0(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw At();e=i.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta.DEFAULT_COLLECTION_PERCENTILE=10,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ta.DEFAULT=new ta(41943040,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ta.DISABLED=new ta(-1,0,0);let VO=class LO{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){Ht(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new LO(s,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).X({index:"userMutationsIndex",range:n},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const s=Wh(e),o=Zu(e);return o.add({}).next(a=>{Ht(typeof a=="number");const l=new RS(a,t,n,r),u=function(f,m,b){const _=b.baseMutations.map(k=>Sm(f.fe,k)),E=b.mutations.map(k=>Sm(f.fe,k));return{userId:m,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:_,mutations:E}}(this.serializer,this.userId,l),c=[];let h=new Xi((f,m)=>rn(f.canonicalString(),m.canonicalString()));for(const f of r){const m=EL(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),c.push(o.put(u)),c.push(s.put(m,Boe))}return h.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),be.waitFor(c).next(()=>l)})}lookupMutationBatch(e,t){return Zu(e).get(t).next(n=>n?(Ht(n.userId===this.userId),Dd(this.serializer,n)):null)}Sn(e,t){return this.Vn[t]?be.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(n=>{if(n){const r=n.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Zu(e).X({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(Ht(a.batchId>=n),s=Dd(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Zu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,o)=>{n=s.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).j("userMutationsIndex",t).next(n=>n.map(r=>Dd(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=v1(this.userId,t.path),r=IDBKeyRange.lowerBound(n),s=[];return Wh(e).X({range:r},(o,a,l)=>{const[u,c,h]=o,f=pl(c);if(u===this.userId&&t.path.isEqual(f))return Zu(e).get(h).next(m=>{if(!m)throw At();Ht(m.userId===this.userId),s.push(Dd(this.serializer,m))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xi(rn);const r=[];return t.forEach(s=>{const o=v1(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Wh(e).X({range:a},(u,c,h)=>{const[f,m,b]=u,_=pl(m);f===this.userId&&s.path.isEqual(_)?n=n.add(b):h.done()});r.push(l)}),be.waitFor(r).next(()=>this.Dn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,s=v1(this.userId,n),o=IDBKeyRange.lowerBound(s);let a=new Xi(rn);return Wh(e).X({range:o},(l,u,c)=>{const[h,f,m]=l,b=pl(f);h===this.userId&&n.isPrefixOf(b)?b.length===r&&(a=a.add(m)):c.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const n=[],r=[];return t.forEach(s=>{r.push(Zu(e).get(s).next(o=>{if(o===null)throw At();Ht(o.userId===this.userId),n.push(Dd(this.serializer,o))}))}),be.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return AO(e.ht,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),be.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return be.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Wh(e).X({range:n},(s,o,a)=>{if(s[0]===this.userId){const l=pl(s[1]);r.push(l)}else a.done()}).next(()=>{Ht(r.length===0)})})}containsKey(e,t){return OO(e,this.userId,t)}xn(e){return DO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function OO(i,e,t){const n=v1(e,t.path),r=n[1],s=IDBKeyRange.lowerBound(n);let o=!1;return Wh(i).X({range:s,Y:!0},(a,l,u)=>{const[c,h,f]=a;c===e&&h===r&&(o=!0),u.done()}).next(()=>o)}function Zu(i){return zr(i,"mutations")}function Wh(i){return zr(i,"documentMutations")}function DO(i){return zr(i,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g0=class B_{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new B_(0)}static Mn(){return new B_(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nle=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const n=new g0(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Gt.fromTimestamp(new Cr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Nh(e).delete(t.targetId)).next(()=>this.$n(e)).next(n=>(Ht(n.targetCount>0),n.targetCount-=1,this.On(e,n)))}removeTargets(e,t,n){let r=0;const s=[];return Nh(e).X((o,a)=>{const l=_g(a);l.sequenceNumber<=t&&n.get(l.targetId)===null&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>be.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Nh(e).X((n,r)=>{const s=_g(r);t(s)})}$n(e){return JR(e).get("targetGlobalKey").next(t=>(Ht(t!==null),t))}On(e,t){return JR(e).put("targetGlobalKey",t)}Fn(e,t){return Nh(e).put(SO(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const n=th(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return Nh(e).X({range:r,index:"queryTargetsIndex"},(o,a,l)=>{const u=_g(a);Fv(t,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,t,n){const r=[],s=gc(e);return t.forEach(o=>{const a=Cs(o.path);r.push(s.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(e,n,o))}),be.waitFor(r)}removeMatchingKeys(e,t,n){const r=gc(e);return be.forEach(t,s=>{const o=Cs(s.path);return be.waitFor([r.delete([n,o]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,t){const n=gc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=gc(e);let s=pn();return r.X({range:n,Y:!0},(o,a,l)=>{const u=pl(o[1]),c=new _t(u);s=s.add(c)}).next(()=>s)}containsKey(e,t){const n=Cs(t.path),r=IDBKeyRange.bound([n],[pL(n)],!1,!0);let s=0;return gc(e).X({index:"documentTargetsIndex",Y:!0,range:r},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}le(e,t){return Nh(e).get(t).next(n=>n?_g(n):null)}};function Nh(i){return zr(i,"targets")}function JR(i){return zr(i,"targetGlobal")}function gc(i){return zr(i,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR([i,e],[t,n]){const r=rn(i,t);return r===0?rn(e,n):r}let ile=class{constructor(e){this.Ln=e,this.buffer=new Xi(YR),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();YR(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}},NO=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nd(t)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await td(t)}await this.Qn(3e5)})}},rle=class{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return be.resolve(io.ct);const n=new ile(t);return this.jn.forEachTarget(e,r=>n.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>n.Kn(r))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(KR)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KR):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(n=h,a=Date.now(),this.removeTargets(e,n,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),g_()<=Xd.LogLevel.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h})))}};function MO(i,e){return new rle(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sle=class{constructor(e,t){this.db=e,this.garbageCollector=MO(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(n=>t.next(r=>n+r))}Jn(e){let t=0;return this.Wn(e,n=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(n,r)=>t(r))}addReference(e,t,n){return Ry(e,n)}removeReference(e,t,n){return Ry(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ry(e,t)}Xn(e,t){return function(n,r){let s=!1;return DO(n).Z(o=>OO(n,o,r).next(a=>(a&&(s=!0),be.resolve(!a)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(o,a)=>{if(a<=t){const l=this.Xn(e,o).next(u=>{if(!u)return s++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Gt.min()),gc(e).delete([0,Cs(o.path)])))});r.push(l)}}).next(()=>be.waitFor(r)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ry(e,t)}Yn(e,t){const n=gc(e);let r,s=io.ct;return n.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==io.ct&&t(new _t(pl(r)),s),s=u,r=l):s=io.ct}).next(()=>{s!==io.ct&&t(new _t(pl(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Ry(i,e){return gc(i).put(function(t,n){return{targetId:0,path:Cs(t.path),sequenceNumber:n}}(e,i.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FO=class{constructor(){this.changes=new ku(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?be.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ole=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Cd(e).put(n)}removeEntry(e,t,n){return Cd(e).delete(function(r,s){const o=r.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],h0(s),o[o.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Zn(e,n)))}getEntry(e,t){let n=qr.newInvalidDocument(t);return Cd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ng(t))},(r,s)=>{n=this.ts(t,s)}).next(()=>n)}es(e,t){let n={size:0,document:qr.newInvalidDocument(t)};return Cd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ng(t))},(r,s)=>{n={document:this.ts(t,s),size:p0(s)}}).next(()=>n)}getEntries(e,t){let n=ro();return this.ns(e,t,(r,s)=>{const o=this.ts(r,s);n=n.insert(r,o)}).next(()=>n)}ss(e,t){let n=ro(),r=new qi(_t.comparator);return this.ns(e,t,(s,o)=>{const a=this.ts(s,o);n=n.insert(s,a),r=r.insert(s,p0(o))}).next(()=>({documents:n,rs:r}))}ns(e,t,n){if(t.isEmpty())return be.resolve();let r=new Xi(e4);t.forEach(l=>r=r.add(l));const s=IDBKeyRange.bound(ng(r.first()),ng(r.last())),o=r.getIterator();let a=o.getNext();return Cd(e).X({index:"documentKeyIndex",range:s},(l,u,c)=>{const h=_t.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&e4(a,h)<0;)n(a,null),a=o.getNext();a&&a.isEqual(h)&&(n(a,u),a=o.hasNext()?o.getNext():null),a?c.G(ng(a)):c.done()}).next(()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,r){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),h0(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cd(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=ro();for(const c of l){const h=this.ts(_t.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);h.isFoundDocument()&&(Bv(t,h)||r.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,t,n,r){let s=ro();const o=XR(t,n),a=XR(t,Vl.max());return Cd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const h=this.ts(_t.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===r&&c.done()}).next(()=>s)}newChangeBuffer(e){return new ale(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ZR(e).get("remoteDocumentGlobalKey").next(t=>(Ht(!!t),t))}Zn(e,t){return ZR(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const n=Qae(this.serializer,t);if(!(n.isNoDocument()&&n.version.isEqual(Gt.min())))return n}return qr.newInvalidDocument(e)}};function $O(i){return new ole(i)}let ale=class extends FO{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ku(n=>n.toString(),(n,r)=>n.isEqual(r))}applyChanges(e){const t=[];let n=0,r=new Xi((s,o)=>rn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.us.get(s);if(t.push(this.os.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=$R(this.os.serializer,o);r=r.add(s.path.popLast());const u=p0(l);n+=u-a.size,t.push(this.os.addEntry(e,s,l))}else if(n-=a.size,this.trackRemovals){const l=$R(this.os.serializer,o.convertToNoDocument(Gt.min()));t.push(this.os.addEntry(e,s,l))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,n)),be.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(n=>(this.us.set(t,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:n,rs:r})=>(r.forEach((s,o)=>{this.us.set(s,{size:o,readTime:n.get(s).readTime})}),n))}};function ZR(i){return zr(i,"remoteDocumentGlobal")}function Cd(i){return zr(i,"remoteDocumentsV14")}function ng(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function XR(i,e){const t=e.documentKey.path.toArray();return[i,h0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function e4(i,e){const t=i.path.toArray(),n=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<n.length-2;++s)if(r=rn(t[s],n[s]),r)return r;return r=rn(t.length,n.length),r||(r=rn(t[t.length-2],n[n.length-2]),r||rn(t[t.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lle=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BO=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(n!==null&&Yg(n.mutation,r,Oa.empty(),Cr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,pn()).next(()=>n))}getLocalViewOfDocuments(e,t,n=pn()){const r=gl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(s=>{let o=bg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const n=gl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,pn()))}populateOverlays(e,t,n){const r=[];return n.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,n,r){let s=ro();const o=Jg(),a=Jg();return t.forEach((l,u)=>{const c=n.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof Au)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Yg(c.mutation,u,c.mutation.getFieldMask(),Cr.now())):o.set(u.key,Oa.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),t.forEach((u,c)=>{var h;return a.set(u,new lle(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Jg();let r=new qi((o,a)=>o-a),s=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let c=n.get(l)||Oa.empty();c=a.applyToLocalView(u,c),n.set(l,c);const h=(r.get(a.batchId)||pn()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=WL();c.forEach(f=>{if(!s.has(f)){const m=tO(t.get(f),n.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return be.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n){return function(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):be.resolve(gl());let a=-1,l=s;return o.next(u=>be.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?be.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pn())).next(c=>({batchId:a,changes:QL(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _t(t)).next(n=>{let r=bg();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let s=bg();return this.indexManager.getCollectionParents(e,r).next(o=>be.forEach(o,a=>{const l=function(u,c){return new Ru(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,n).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(s=>{r.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,qr.newInvalidDocument(u)))});let o=bg();return s.forEach((a,l)=>{const u=r.get(a);u!==void 0&&Yg(u.mutation,l,Oa.empty(),Cr.now()),Bv(t,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ule=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return be.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:cr(n.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(n){return{name:n.name,query:DS(n.bundledQuery),readTime:cr(n.readTime)}}(t)),be.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cle=class{constructor(){this.overlays=new qi(_t.comparator),this.ls=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const n=gl();return be.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&n.set(r,s)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((r,s)=>{this.we(e,t,s)}),be.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(n)),be.resolve()}getOverlaysForCollection(e,t,n){const r=gl(),s=t.length+1,o=new _t(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&r.set(l.getKey(),l)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new qi((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){let c=s.get(u.largestBatchId);c===null&&(c=gl(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=gl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return be.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new kS(t,n));let s=this.ls.get(t);s===void 0&&(s=pn(),this.ls.set(t,s)),this.ls.set(t,s.add(n.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FS=class{constructor(){this.fs=new Xi(Mr.ds),this.ws=new Xi(Mr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Mr(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.ys(new Mr(e,t))}ps(e,t){e.forEach(n=>this.removeReference(n,t))}Is(e){const t=new _t(new ii([])),n=new Mr(t,e),r=new Mr(t,e+1),s=[];return this.ws.forEachInRange([n,r],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new _t(new ii([])),n=new Mr(t,e),r=new Mr(t,e+1);let s=pn();return this.ws.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Mr(e,0),n=this.fs.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},Mr=class{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return _t.comparator(e.key,t.key)||rn(e.As,t.As)}static _s(e,t){return rn(e.As,t.As)||_t.comparator(e.key,t.key)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dle=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Xi(Mr.ds)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new RS(s,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new Mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,t){return be.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),s=r<0?0:r;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Mr(t,0),r=new Mr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([n,r],o=>{const a=this.Ps(o.As);s.push(a)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xi(rn);return t.forEach(r=>{const s=new Mr(r,0),o=new Mr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{n=n.add(a.As)})}),be.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;_t.isDocumentKey(s)||(s=s.child(""));const o=new Mr(new _t(s),0);let a=new Xi(rn);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.As)),!0)},o),be.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(n=>{const r=this.Ps(n);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ht(this.Ss(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Rs;return be.forEach(t.mutations,r=>{const s=new Mr(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Mr(t,0),r=this.Rs.firstAfterOrEqual(n);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Ss(e,t){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hle=class{constructor(e){this.Ds=e,this.docs=new qi(_t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return be.resolve(n?n.document.mutableCopy():qr.newInvalidDocument(t))}getEntries(e,t){let n=ro();return t.forEach(r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():qr.newInvalidDocument(r))}),be.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=ro();const o=t.path,a=new _t(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||_S(yL(c),n)<=0||(r.has(c.key)||Bv(t,c))&&(s=s.insert(c.key,c.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,t,n,r){At()}Cs(e,t){return be.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new fle(this)}getSize(e){return be.resolve(this.size)}},fle=class extends FO{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),be.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ple=class{constructor(e){this.persistence=e,this.xs=new ku(t=>th(t),Fv),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new FS,this.targetCount=0,this.Ms=g0.kn()}forEachTarget(e,t){return this.xs.forEach((n,r)=>t(r)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),be.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new g0(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Fn(t),be.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&n.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),be.waitFor(s).next(()=>r)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return be.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),be.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),be.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return be.resolve(n)}containsKey(e,t){return be.resolve(this.ks.containsKey(t))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $S=class{constructor(e,t){this.$s={},this.overlays={},this.Os=new io(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ple(this),this.indexManager=new ele,this.remoteDocumentCache=function(n){return new hle(n)}(n=>this.referenceDelegate.Ls(n)),this.serializer=new EO(t),this.qs=new ule(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cle,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new dle(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Ge("MemoryPersistence","Starting transaction:",e);const r=new gle(this.Os.next());return this.referenceDelegate.Us(),n(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return be.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}},gle=class extends CL{constructor(e){super(),this.currentSequenceNumber=e}},qO=class UO{constructor(e){this.persistence=e,this.Qs=new FS,this.js=null}static zs(e){return new UO(e)}get Ws(){if(this.js)return this.js;throw At()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),be.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),be.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Ws,n=>{const r=_t.fromPath(n);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Gt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(n=>{n?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return be.or([()=>be.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}},t4=class HO{constructor(e,t){this.persistence=e,this.Js=new ku(n=>Cs(n.path),(n,r)=>n.isEqual(r)),this.garbageCollector=MO(this,t)}static zs(e,t){return new HO(e,t)}Us(){}Ks(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}zn(e){const t=this.Jn(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(r=>n+r))}Jn(e){let t=0;return this.Wn(e,n=>{t++}).next(()=>t)}Wn(e,t){return be.forEach(this.Js,(n,r)=>this.Xn(e,n,r).next(s=>s?be.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.Cs(e,o=>this.Xn(e,o,t).next(a=>{a||(n++,s.removeEntry(o,Gt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.Js.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Js.set(n,e.currentSequenceNumber),be.resolve()}removeReference(e,t,n){return this.Js.set(n,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.Js.set(t,e.currentSequenceNumber),be.resolve()}Ls(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=b1(e.data.value)),t}Xn(e,t,n){return be.or([()=>this.persistence.Gs(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.Js.get(t);return be.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mle=class{constructor(e){this.serializer=e}O(e,t,n,r){const s=new wL("createOrUpgrade",t);n<1&&r>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mR,{unique:!0}),a.createObjectStore("documentMutations")}(e),n4(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=be.resolve();return n<3&&r>=3&&(n!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),n4(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gt.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),n<4&&r>=4&&(n!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mR,{unique:!0});const c=l.store("mutations"),h=u.map(f=>c.put(f));return be.waitFor(h)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&r>=5&&(o=o.next(()=>this.Ys(s))),n<6&&r>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),n<7&&r>=7&&(o=o.next(()=>this.Zs(s))),n<8&&r>=8&&(o=o.next(()=>this.ti(e,s))),n<9&&r>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&r>=10&&(o=o.next(()=>this.ei(s))),n<11&&r>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:Zoe});l.createIndex("collectionPathOverlayIndex",Xoe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",eae,{unique:!1})})(e)})),n<13&&r>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:qoe});l.createIndex("documentKeyIndex",Uoe),l.createIndex("collectionGroupIndex",Hoe)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(o=o.next(()=>this.si(e,s))),n<15&&r>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Goe}).createIndex("sequenceNumberIndex",Koe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:Joe}).createIndex("documentKeyIndex",Yoe,{unique:!1})}(e))),o}Xs(e){let t=0;return e.store("remoteDocuments").X((n,r)=>{t+=p0(r)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next(r=>be.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",o).next(a=>be.forEach(a,l=>{Ht(l.userId===s.userId);const u=Dd(this.serializer,l);return AO(e,s.userId,u).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return n.X((o,a)=>{const l=new ii(o),u=function(c){return[0,Cs(c)]}(l);s.push(t.get(u).next(c=>c?be.resolve():(h=>t.put({targetId:0,path:Cs(h),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>be.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Woe});const n=t.store("collectionParents"),r=new MS,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return n.put({collectionId:a,parent:Cs(l)})}};return t.store("remoteDocuments").X({Y:!0},(o,a)=>{const l=new ii(o);return s(l.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([o,a,l],u)=>{const c=pl(a);return s(c.popLast())}))}ei(e){const t=e.store("targets");return t.X((n,r)=>{const s=_g(r),o=SO(this.serializer,s);return t.put(o)})}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(u=o,u.document?new _t(ii.fromString(u.document.name).popFirst(5)):u.noDocument?_t.fromSegments(u.noDocument.path):u.unknownDocument?_t.fromSegments(u.unknownDocument.path):At()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(c))}).next(()=>be.waitFor(r))}si(e,t){const n=t.store("mutations"),r=$O(this.serializer),s=new $S(qO.zs,this.serializer.fe);return n.j().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:pn();Dd(this.serializer,l).keys().forEach(h=>c=c.add(h)),a.set(l.userId,c)}),be.forEach(a,(l,u)=>{const c=new Fr(u),h=TO.de(this.serializer,c),f=s.getIndexManager(c),m=VO.de(c,this.serializer,f,s.referenceDelegate);return new BO(r,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new C_(t,io.ct),l).next()})})}};function n4(i){i.createObjectStore("targetDocuments",{keyPath:joe}).createIndex("documentTargetsIndex",Qoe,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zoe,{unique:!0}),i.createObjectStore("targetGlobal")}const Mw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";let vle=class zO{constructor(e,t,n,r,s,o,a,l,u,c,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=s,this.window=o,this.document=a,this.ri=u,this.oi=c,this.ui=h,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=f=>Promise.resolve(),!zO.D())throw new He(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sle(this,r),this.di=t+"main",this.serializer=new EO(l),this.wi=new Pf(this.di,this.ui,new mle(this.serializer)),this.Bs=new nle(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$O(this.serializer),this.qs=new Wae,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,c===!1&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(ye.FAILED_PRECONDITION,Mw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new io(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ky(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(nd(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ig(e).get("owner").next(t=>be.resolve(this.Ri(t)))}Pi(e){return ky(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=zr(t,"clientMetadata");return n.j().next(r=>{const s=this.Si(r,18e5),o=r.filter(a=>s.indexOf(a)===-1);return be.forEach(o,a=>n.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?be.resolve(!0):ig(e).get("owner").next(t=>{if(t!==null&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new He(ye.FAILED_PRECONDITION,Mw);return!1}}return!(!this.networkEnabled||!this.inForeground)||ky(e).j().next(n=>this.Si(n,5e3).find(r=>{if(this.clientId!==r.clientId){const s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new C_(e,io.ct);return this.Ai(t).next(()=>this.Pi(t))}),this.wi.close(),this.Mi()}Si(e,t){return e.filter(n=>this.Vi(n.updateTimeMs,t)&&!this.Ci(n.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>ky(e).j().next(t=>this.Si(t,18e5).map(n=>n.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return VO.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tle(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return TO.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Ge("IndexedDbPersistence","Starting transaction:",e);const r=t==="readonly"?"readonly":"readwrite",s=(o=this.ui)===15?nae:o===14?xL:o===13?TL:o===12?tae:o===11?SL:void At();var o;let a;return this.wi.runTransaction(e,r,s,l=>(a=new C_(l,this.Os?this.Os.next():io.ct),t==="readwrite-primary"?this.Ti(a).next(u=>!!u||this.Ei(a)).next(u=>{if(!u)throw lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new He(ye.FAILED_PRECONDITION,bL);return n(a)}).next(u=>this.vi(a).next(()=>u)):this.Oi(a).next(()=>n(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return ig(e).get("owner").next(t=>{if(t!==null&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new He(ye.FAILED_PRECONDITION,Mw)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ig(e).put("owner",t)}static D(){return Pf.D()}Ai(e){const t=ig(e);return t.get("owner").next(n=>this.Ri(n)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve())}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(lr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;vi.isSafari()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=((t=this._i)===null||t===void 0?void 0:t.getItem(this.Di(e)))!==null;return Ge("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return lr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){lr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function ig(i){return zr(i,"owner")}function ky(i){return zr(i,"clientMetadata")}function BS(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=pn(),r=pn();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new qS(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,n)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(PR(t))return be.resolve(null);let n=Ms(t);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=d0(t,null,"F"),n=Ms(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=pn(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ji(t,a);return this.zi(t,u,o,l.readTime)?this.Ki(e,d0(t,null,"F")):this.Wi(e,u,t,l)}))})))}Gi(e,t,n,r){return PR(t)||r.isEqual(Gt.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(s=>{const o=this.ji(t,s);return this.zi(t,o,n,r)?this.Qi(e,t):(g_()<=Xd.LogLevel.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),L_(t)),this.Wi(e,o,t,vL(r,-1)))})}ji(e,t){let n=new Xi(zL(e));return t.forEach((r,s)=>{Bv(e,s)&&(n=n.add(s))}),n}zi(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return g_()<=Xd.LogLevel.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",L_(t)),this.Ui.getDocumentsMatchingQuery(e,t,Vl.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yle{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new qi(rn),this.Yi=new ku(s=>th(s),Fv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function QO(i,e,t,n){return new yle(i,e,t,n)}async function WO(i,e){const t=vt(i);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],a=[];let l=pn();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(n,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function ble(i,e){const t=vt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let f=be.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(a,m)).next(b=>{const _=l.docVersions.get(m);Ht(_!==null),b.version.compareTo(_)<0&&(c.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),u.addEntry(b)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,n,e,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let a=pn();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(n,r))})}function GO(i){const e=vt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Cle(i,e){const t=vt(i),n=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((c,h)=>{const f=r.get(h);if(!f)return;a.push(t.Bs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>t.Bs.addMatchingKeys(s,c.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Es.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),r=r.insert(h,m),function(b,_,E){return b.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,m,c)&&a.push(t.Bs.updateTargetData(s,m))});let l=ro(),u=pn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(KO(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!n.isEqual(Gt.min())){const c=t.Bs.getLastRemoteSnapshotVersion(s).next(h=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,n));a.push(c)}return be.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.Ji=r,s))}function KO(i,e,t){let n=pn(),r=pn();return t.forEach(s=>n=n.add(s)),e.getEntries(i,n).next(s=>{let o=ro();return t.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Gt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:r}})}function wle(i,e){const t=vt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Of(i,e){const t=vt(i);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return t.Bs.getTargetData(n,e).next(s=>s?(r=s,be.resolve(r)):t.Bs.allocateTargetId(n).next(o=>(r=new eC(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Bs.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=t.Ji.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(n.targetId,n),t.Yi.set(e,n.targetId)),n})}async function Df(i,e,t){const n=vt(i),r=n.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!nd(o))throw o;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ji=n.Ji.remove(e),n.Yi.delete(r.target)}function m0(i,e,t){const n=vt(i);let r=Gt.min(),s=pn();return n.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=vt(a),h=c.Yi.get(u);return h!==void 0?be.resolve(c.Ji.get(h)):c.Bs.getTargetData(l,u)}(n,o,Ms(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,n.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>n.Hi.getDocumentsMatchingQuery(o,e,t?r:Gt.min(),t?s:pn())).next(a=>(ZO(n,HL(e),a),{documents:a,ir:s})))}function JO(i,e){const t=vt(i),n=vt(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>n.le(s,e).next(o=>o?o.target:null))}function YO(i,e){const t=vt(i),n=t.Xi.get(e)||Gt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,vL(n,-1),Number.MAX_SAFE_INTEGER)).then(r=>(ZO(t,e,r),r))}function ZO(i,e,t){let n=i.Xi.get(e)||Gt.min();t.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),i.Xi.set(e,n)}async function _le(i,e,t,n){const r=vt(i);let s=pn(),o=ro();for(const u of t){const c=e.rr(u.metadata.name);u.document&&(s=s.add(c));const h=e.ur(u);h.setReadTime(e.cr(u.metadata.readTime)),o=o.insert(c,h)}const a=r.Zi.newChangeBuffer({trackRemovals:!0}),l=await Of(r,function(u){return Ms(gp(ii.fromString(`__bundle__/docs/${u}`)))}(n));return r.persistence.runTransaction("Apply bundle documents","readwrite",u=>KO(u,a,o).next(c=>(a.apply(u),c)).next(c=>r.Bs.removeMatchingKeysForTargetId(u,l.targetId).next(()=>r.Bs.addMatchingKeys(u,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,c.nr,c.sr)).next(()=>c.nr)))}async function Ile(i,e,t=pn()){const n=await Of(i,Ms(DS(e.bundledQuery))),r=vt(i);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=cr(e.readTime);if(n.snapshotVersion.compareTo(o)>=0)return r.qs.saveNamedQuery(s,e);const a=n.withResumeToken(Es.EMPTY_BYTE_STRING,o);return r.Ji=r.Ji.insert(a.targetId,a),r.Bs.updateTargetData(s,a).next(()=>r.Bs.removeMatchingKeysForTargetId(s,n.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,n.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}function i4(i,e){return`firestore_clients_${i}_${e}`}function r4(i,e,t){let n=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function Fw(i,e){return`firestore_targets_${i}_${e}`}class v0{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let s,o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new He(r.error.code,r.error.message))),o?new v0(e,t,r.state,s):(lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zg{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,s=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return s&&n.error&&(s=typeof n.error.message=="string"&&typeof n.error.code=="string",s&&(r=new He(n.error.code,n.error.message))),s?new Zg(e,n.state,r):(lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class y0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r=typeof n=="object"&&n.activeTargetIds instanceof Array,s=xS();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=IL(n.activeTargetIds[o]),s=s.add(n.activeTargetIds[o]);return r?new y0(e,s):(lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class US{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new US(t.clientId,t.onlineState):(lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class q_{constructor(){this.activeTargetIds=xS()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $w{constructor(e,t,n,r,s){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new qi(rn),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=i4(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new q_),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const r=this.getItem(i4(this.persistenceKey,n));if(r){const s=y0.ar(n,r);s&&(this.gr=this.gr.insert(s.clientId,s))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const n=this.br(t);n&&this.Vr(n)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Fw(this.persistenceKey,e));if(n){const r=Zg.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fw(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,n.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(Ge("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Tr.test(t.key)){if(t.newValue==null){const n=this.Or(t.key);return this.Fr(n,null)}{const n=this.Br(t.key,t.newValue);if(n)return this.Fr(n.clientId,n)}}else if(this.Er.test(t.key)){if(t.newValue!==null){const n=this.Lr(t.key,t.newValue);if(n)return this.qr(n)}}else if(this.Ar.test(t.key)){if(t.newValue!==null){const n=this.Ur(t.key,t.newValue);if(n)return this.Kr(n)}}else if(t.key===this.vr){if(t.newValue!==null){const n=this.br(t.newValue);if(n)return this.Vr(n)}}else if(t.key===this.Ir){const n=function(r){let s=io.ct;if(r!=null)try{const o=JSON.parse(r);Ht(typeof o=="number"),s=o}catch(o){lr("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(t.newValue);n!==io.ct&&this.sequenceNumberHandler(n)}else if(t.key===this.Rr){const n=this.Gr(t.newValue);await Promise.all(n.map(r=>this.syncEngine.Qr(r)))}}}else this.yr.push(t)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new v0(this.currentUser,e,t,n),s=r4(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=r4(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=Fw(this.persistenceKey,e),s=new Zg(e,t,n);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return y0.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),s=n[2]!==void 0?n[2]:null;return v0.ar(new Fr(s),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return Zg.ar(r,t)}br(e){return US.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(n),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Wr(o,a).then(()=>{this.gr=n})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=xS();return e.forEach((n,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class XO{constructor(){this.Hr=new q_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new q_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ele{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ay=null;function Bw(){return Ay===null?Ay=268435456+Math.round(2147483648*Math.random()):Ay++,"0x"+Ay.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tle{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="WebChannelConnection";class xle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,s){const o=Bw(),a=this.To(e,t);Ge("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const l={};return this.Eo(l,r,s),this.Ao(e,a,l,n).then(u=>(Ge("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw da("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",n),u})}vo(e,t,n,r,s,o){return this.Io(e,t,n,r,s)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),n&&n.headers.forEach((r,s)=>e[s]=r)}To(e,t){const n=Sle[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const s=Bw();return new Promise((o,a)=>{const l=new Qi.XhrIo;l.setWithCredentials(!0),l.listenOnce(Qi.EventType.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qi.ErrorCode.NO_ERROR:const c=l.getResponseJson();Ge(fs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Qi.ErrorCode.TIMEOUT:Ge(fs,`RPC '${e}' ${s} timed out`),a(new He(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Qi.ErrorCode.HTTP_ERROR:const h=l.getStatus();if(Ge(fs,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const b=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(E)>=0?E:ye.UNKNOWN}(m.status);a(new He(b,m.message))}else a(new He(ye.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new He(ye.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{Ge(fs,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(r);Ge(fs,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",u,n,15)})}Ro(e,t,n){const r=Bw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Qi.createWebChannelTransport(),a=Qi.getStatEventTarget(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Qi.FetchXmlHttpFactory({})),this.Eo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const c=s.join("");Ge(fs,`Creating RPC '${e}' stream ${r}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,m=!1;const b=new Tle({ro:E=>{m?Ge(fs,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(f||(Ge(fs,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),Ge(fs,`RPC '${e}' stream ${r} sending:`,E),h.send(E))},oo:()=>h.close()}),_=(E,k,j)=>{E.listen(k,M=>{try{j(M)}catch(q){setTimeout(()=>{throw q},0)}})};return _(h,Qi.WebChannel.EventType.OPEN,()=>{m||Ge(fs,`RPC '${e}' stream ${r} transport opened.`)}),_(h,Qi.WebChannel.EventType.CLOSE,()=>{m||(m=!0,Ge(fs,`RPC '${e}' stream ${r} transport closed`),b.wo())}),_(h,Qi.WebChannel.EventType.ERROR,E=>{m||(m=!0,da(fs,`RPC '${e}' stream ${r} transport errored:`,E),b.wo(new He(ye.UNAVAILABLE,"The operation could not be completed")))}),_(h,Qi.WebChannel.EventType.MESSAGE,E=>{var k;if(!m){const j=E.data[0];Ht(!!j);const M=j,q=M.error||((k=M[0])===null||k===void 0?void 0:k.error);if(q){Ge(fs,`RPC '${e}' stream ${r} received error:`,q);const J=q.status;let Z=function(y){const w=vr[y];if(w!==void 0)return sO(w)}(J),L=q.message;Z===void 0&&(Z=ye.INTERNAL,L="Unknown error status: "+J+" with message "+q.message),m=!0,b.wo(new He(Z,L)),h.close()}else Ge(fs,`RPC '${e}' stream ${r} received:`,j),b._o(j)}}),_(a,Qi.Event.STAT_EVENT,E=>{E.stat===Qi.Stat.PROXY?Ge(fs,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===Qi.Stat.NOPROXY&&Ge(fs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(){return typeof window<"u"?window:null}function S1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(i){return new Nae(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t,n=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,t,n,r,s,o,a,l){this.ii=e,this.$o=n,this.Oo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new HS(e,t)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Fo===t&&this.Zo(n,r)},n=>{e(()=>{const r=new He(ye.UNKNOWN,"Fetching auth token failed: "+n.message);return this.tu(r)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{n(()=>this.tu(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ple extends t8{constructor(e,t,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=$ae(this.serializer,e),n=function(r){if(!("targetChange"in r))return Gt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Gt.min():s.readTime?cr(s.readTime):Gt.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Em(this.serializer),t.addTarget=function(r,s){let o;const a=s.target;if(o=u0(a)?{documents:bO(r,a)}:{query:OS(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=pO(r,s.resumeToken);const l=O_(r,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(Gt.min())>0){o.readTime=Lf(r,s.snapshotVersion.toTimestamp());const l=O_(r,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=qae(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Em(this.serializer),t.removeTarget=e,this.Wo(t)}}class Rle extends t8{constructor(e,t,n,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=Bae(e.writeResults,e.commitTime),n=cr(e.commitTime);return this.listener.cu(n,t)}return Ht(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Em(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>Sm(this.serializer,n))};this.Wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new He(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,n,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new He(ye.UNKNOWN,r.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,n,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(ye.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}async function Ale(i,e,t){var n;const r=vt(i),{request:s,du:o}=function(c,h,f){const m=OS(c,h),b={},_=[];let E=0;return f.forEach(k=>{const j="aggregate_"+E++;b[j]=k.alias,k.yt==="count"?_.push({alias:j,count:{}}):k.yt==="avg"?_.push({alias:j,avg:{field:pc(k.fieldPath)}}):k.yt==="sum"&&_.push({alias:j,sum:{field:pc(k.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:_,structuredQuery:m.structuredQuery},parent:m.parent},du:b}}(r.serializer,Ms(e),t),a=s.parent;r.connection.po||delete s.parent;const l=(await r.vo("RunAggregationQuery",a,s,1)).filter(c=>!!c.result);Ht(l.length===1);const u=(n=l[0].result)===null||n===void 0?void 0:n.aggregateFields;return Object.keys(u).reduce((c,h)=>(c[o[h]]=u[h],c),{})}class Vle{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(lr(t),this.mu=!1):Ge("OnlineStateTracker",t)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lle{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{n.enqueueAndForget(async()=>{rd(this)&&(Ge("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=vt(a);l.vu.add(4),await yp(l),l.bu.set("Unknown"),l.vu.delete(4),await Hv(l)}(this))})}),this.bu=new Vle(n,r)}}async function Hv(i){if(rd(i))for(const e of i.Ru)await e(!0)}async function yp(i){for(const e of i.Ru)await e(!1)}function tC(i,e){const t=vt(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),QS(t)?jS(t):Cp(t).Ko()&&zS(t,e))}function Tm(i,e){const t=vt(i),n=Cp(t);t.Au.delete(e),n.Ko()&&n8(t,e),t.Au.size===0&&(n.Ko()?n.jo():rd(t)&&t.bu.set("Unknown"))}function zS(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cp(i).su(e)}function n8(i,e){i.Vu.qt(e),Cp(i).iu(e)}function jS(i){i.Vu=new Vae({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Cp(i).start(),i.bu.gu()}function QS(i){return rd(i)&&!Cp(i).Uo()&&i.Au.size>0}function rd(i){return vt(i).vu.size===0}function i8(i){i.Vu=void 0}async function Ole(i){i.Au.forEach((e,t)=>{zS(i,e)})}async function Dle(i,e){i8(i),QS(i)?(i.bu.Iu(e),jS(i)):i.bu.set("Unknown")}async function Nle(i,e,t){if(i.bu.set("Online"),e instanceof fO&&e.state===2&&e.cause)try{await async function(n,r){const s=r.cause;for(const o of r.targetIds)n.Au.has(o)&&(await n.remoteSyncer.rejectListen(o,s),n.Au.delete(o),n.Vu.removeTarget(o))}(i,e)}catch(n){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await b0(i,n)}else if(e instanceof I1?i.Vu.Ht(e):e instanceof hO?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(Gt.min()))try{const n=await GO(i.localStore);t.compareTo(n)>=0&&await function(r,s){const o=r.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=r.Au.get(l);u&&r.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=r.Au.get(a);if(!u)return;r.Au.set(a,u.withResumeToken(Es.EMPTY_BYTE_STRING,u.snapshotVersion)),n8(r,a);const c=new eC(u.target,a,l,u.sequenceNumber);zS(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(i,t)}catch(n){Ge("RemoteStore","Failed to raise snapshot:",n),await b0(i,n)}}async function b0(i,e,t){if(!nd(e))throw e;i.vu.add(1),await yp(i),i.bu.set("Offline"),t||(t=()=>GO(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{Ge("RemoteStore","Retrying IndexedDB access"),await t(),i.vu.delete(1),await Hv(i)})}function r8(i,e){return e().catch(t=>b0(i,t,e))}async function bp(i){const e=vt(i),t=Uc(e);let n=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Mle(e);)try{const r=await wle(e.localStore,n);if(r===null){e.Eu.length===0&&t.jo();break}n=r.batchId,Fle(e,r)}catch(r){await b0(e,r)}s8(e)&&o8(e)}function Mle(i){return rd(i)&&i.Eu.length<10}function Fle(i,e){i.Eu.push(e);const t=Uc(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function s8(i){return rd(i)&&!Uc(i).Uo()&&i.Eu.length>0}function o8(i){Uc(i).start()}async function $le(i){Uc(i).hu()}async function Ble(i){const e=Uc(i);for(const t of i.Eu)e.uu(t.mutations)}async function qle(i,e,t){const n=i.Eu.shift(),r=xae.from(n,e,t);await r8(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),await bp(i)}async function Ule(i,e){e&&Uc(i).ou&&await async function(t,n){if(r=n.code,rO(r)&&r!==ye.ABORTED){const s=t.Eu.shift();Uc(t).Qo(),await r8(t,()=>t.remoteSyncer.rejectFailedWrite(s.batchId,n)),await bp(t)}var r}(i,e),s8(i)&&o8(i)}async function o4(i,e){const t=vt(i);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const n=rd(t);t.vu.add(3),await yp(t),n&&t.bu.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),await Hv(t)}async function U_(i,e){const t=vt(i);e?(t.vu.delete(2),await Hv(t)):e||(t.vu.add(2),await yp(t),t.bu.set("Unknown"))}function Cp(i){return i.Su||(i.Su=function(e,t,n){const r=vt(e);return r.fu(),new Ple(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(i.datastore,i.asyncQueue,{uo:Ole.bind(null,i),ao:Dle.bind(null,i),nu:Nle.bind(null,i)}),i.Ru.push(async e=>{e?(i.Su.Qo(),QS(i)?jS(i):i.bu.set("Unknown")):(await i.Su.stop(),i8(i))})),i.Su}function Uc(i){return i.Du||(i.Du=function(e,t,n){const r=vt(e);return r.fu(),new Rle(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(i.datastore,i.asyncQueue,{uo:$le.bind(null,i),ao:Ule.bind(null,i),au:Ble.bind(null,i),cu:qle.bind(null,i)}),i.Ru.push(async e=>{e?(i.Du.Qo(),await bp(i)):(await i.Du.stop(),i.Eu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))})),i.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,n,r,s){const o=Date.now()+n,a=new WS(e,t,o,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(i,e){if(lr("AsyncQueue",`${e}: ${i}`),nd(i))return new He(ye.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||_t.comparator(t.key,n.key):(t,n)=>_t.comparator(t.key,n.key),this.keyedMap=bg(),this.sortedSet=new qi(this.comparator)}static emptySet(e){return new uf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new uf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.Cu=new qi(_t.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?e.type!==0&&n.type===3?this.Cu=this.Cu.insert(t,e):e.type===3&&n.type!==1?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Cu=this.Cu.remove(t):e.type===1&&n.type===2?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):At():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Nf{constructor(e,t,n,r,s,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Nf(e,t,uf.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$v(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(){this.Nu=void 0,this.listeners=[]}}class zle{constructor(){this.queries=new ku(e=>UL(e),$v),this.onlineState="Unknown",this.ku=new Set}}async function GS(i,e){const t=vt(i),n=e.query;let r=!1,s=t.queries.get(n);if(s||(r=!0,s=new Hle),r)try{s.Nu=await t.onListen(n)}catch(o){const a=wp(o,`Initialization of query '${L_(e.query)}' failed`);return void e.onError(a)}t.queries.set(n,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&JS(t)}async function KS(i,e){const t=vt(i),n=e.query;let r=!1;const s=t.queries.get(n);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return t.queries.delete(n),t.onUnlisten(n)}function jle(i,e){const t=vt(i);let n=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const a of o.listeners)a.$u(r)&&(n=!0);o.Nu=r}}n&&JS(t)}function Qle(i,e,t){const n=vt(i),r=n.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);n.queries.delete(e)}function JS(i){i.ku.forEach(e=>{e.next()})}class YS{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Nf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n=t!=="Offline";return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Uu(e){e=Nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wle{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.serializer=e}rr(e){return wl(this.serializer,e)}ur(e){return e.metadata.exists?yO(this.serializer,e.document,!1):qr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return cr(e)}}class Gle{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=a8(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=ii.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new l4(this.serializer);for(const r of e)if(r.metadata.queries){const s=n.rr(r.metadata.name);for(const o of r.metadata.queries){const a=(t.get(o)||pn()).add(s);t.set(o,a)}}return t}async complete(){const e=await _le(this.localStore,new l4(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await Ile(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function a8(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.key=e}}class u8{constructor(e){this.key=e}}class c8{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pn(),this.mutatedKeys=pn(),this.tc=zL(e),this.ec=new uf(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new a4,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((c,h)=>{const f=r.get(c),m=Bv(this.query,h)?h:null,b=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?b!==_&&(n.track({type:3,doc:m}),E=!0):this.rc(f,m)||(n.track({type:2,doc:m}),E=!0,(l&&this.tc(m,l)>0||u&&this.tc(m,u)<0)&&(a=!0)):!f&&m?(n.track({type:0,doc:m}),E=!0):f&&!m&&(n.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{ec:o,ic:n,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(h,f){const m=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return m(h)-m(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(n);const o=t?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Nf(this.query,e.ec,r,s,e.mutatedKeys,a===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new a4,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pn(),this.ec.forEach(n=>{this.ac(n.key)&&(this.Zu=this.Zu.add(n.key))});const t=[];return e.forEach(n=>{this.Zu.has(n)||t.push(new u8(n))}),this.Zu.forEach(n=>{e.has(n)||t.push(new l8(n))}),t}hc(e){this.Yu=e.ir,this.Zu=pn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Nf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class Kle{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Jle{constructor(e){this.key=e,this.fc=!1}}class Yle{constructor(e,t,n,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ku(a=>UL(a),$v),this._c=new Map,this.mc=new Set,this.gc=new qi(_t.comparator),this.yc=new Map,this.Ic=new FS,this.Tc={},this.Ec=new Map,this.Ac=g0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Zle(i,e){const t=nT(i);let n,r;const s=t.wc.get(e);if(s)n=s.targetId,t.sharedClientState.addLocalQueryTarget(n),r=s.view.lc();else{const o=await Of(t.localStore,Ms(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);n=o.targetId,r=await ZS(t,e,n,a==="current",o.resumeToken),t.isPrimaryClient&&tC(t.remoteStore,o)}return r}async function ZS(i,e,t,n,r){i.Rc=(h,f,m)=>async function(b,_,E,k){let j=_.view.sc(E);j.zi&&(j=await m0(b.localStore,_.query,!1).then(({documents:J})=>_.view.sc(J,j)));const M=k&&k.targetChanges.get(_.targetId),q=_.view.applyChanges(j,b.isPrimaryClient,M);return H_(b,_.targetId,q.cc),q.snapshot}(i,h,f,m);const s=await m0(i.localStore,e,!0),o=new c8(e,s.ir),a=o.sc(s.documents),l=VS.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",r),u=o.applyChanges(a,i.isPrimaryClient,l);H_(i,t,u.cc);const c=new Kle(e,t,o);return i.wc.set(e,c),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),u.snapshot}async function Xle(i,e){const t=vt(i),n=t.wc.get(e),r=t._c.get(n.targetId);if(r.length>1)return t._c.set(n.targetId,r.filter(s=>!$v(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(n.targetId),t.sharedClientState.isActiveQueryTarget(n.targetId)||await Df(t.localStore,n.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(n.targetId),Tm(t.remoteStore,n.targetId),Mf(t,n.targetId)}).catch(td)):(Mf(t,n.targetId),await Df(t.localStore,n.targetId,!0))}async function eue(i,e,t){const n=iT(i);try{const r=await function(s,o){const a=vt(s),l=Cr.now(),u=o.reduce((f,m)=>f.add(m.key),pn());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=ro(),b=pn();return a.Zi.getEntries(f,u).next(_=>{m=_,m.forEach((E,k)=>{k.isValidDocument()||(b=b.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(_=>{c=_;const E=[];for(const k of o){const j=Tae(k,c.get(k.key).overlayedDocument);j!=null&&E.push(new Au(k.key,j,AL(j.value.mapValue),br.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,E,o)}).next(_=>{h=_;const E=_.applyToLocalDocumentSet(c,b);return a.documentOverlayCache.saveOverlays(f,_.batchId,E)})}).then(()=>({batchId:h.batchId,changes:QL(c)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new qi(rn)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(n,r.batchId,t),await Vu(n,r.changes),await bp(n.remoteStore)}catch(r){const s=wp(r,"Failed to persist write");t.reject(s)}}async function d8(i,e){const t=vt(i);try{const n=await Cle(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.yc.get(s);o&&(Ht(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?Ht(o.fc):r.removedDocuments.size>0&&(Ht(o.fc),o.fc=!1))}),await Vu(t,n,e)}catch(n){await td(n)}}function u4(i,e,t){const n=vt(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=vt(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Mu(o)&&(l=!0)}),l&&JS(a)}(n.eventManager,e),r.length&&n.dc.nu(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function tue(i,e,t){const n=vt(i);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.yc.get(e),s=r&&r.key;if(s){let o=new qi(_t.comparator);o=o.insert(s,qr.newNoDocument(s,Gt.min()));const a=pn().add(s),l=new AS(Gt.min(),new Map,new qi(rn),o,a);await d8(n,l),n.gc=n.gc.remove(s),n.yc.delete(e),tT(n)}else await Df(n.localStore,e,!1).then(()=>Mf(n,e,t)).catch(td)}async function nue(i,e){const t=vt(i),n=e.batch.batchId;try{const r=await ble(t.localStore,e);eT(t,n,null),XS(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Vu(t,r)}catch(r){await td(r)}}async function iue(i,e,t){const n=vt(i);try{const r=await function(s,o){const a=vt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Ht(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(n.localStore,e);eT(n,e,t),XS(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Vu(n,r)}catch(r){await td(r)}}async function rue(i,e){const t=vt(i);rd(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=await function(s){const o=vt(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(t.localStore);if(n===-1)return void e.resolve();const r=t.Ec.get(n)||[];r.push(e),t.Ec.set(n,r)}catch(n){const r=wp(n,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}function XS(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function eT(i,e,t){const n=vt(i);let r=n.Tc[n.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),n.Tc[n.currentUser.toKey()]=r}}function Mf(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i._c.get(e))i.wc.delete(n),t&&i.dc.Pc(n,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(n=>{i.Ic.containsKey(n)||h8(i,n)})}function h8(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);t!==null&&(Tm(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),tT(i))}function H_(i,e,t){for(const n of t)n instanceof l8?(i.Ic.addReference(n.key,e),sue(i,n)):n instanceof u8?(Ge("SyncEngine","Document no longer in limbo: "+n.key),i.Ic.removeReference(n.key,e),i.Ic.containsKey(n.key)||h8(i,n.key)):At()}function sue(i,e){const t=e.key,n=t.path.canonicalString();i.gc.get(t)||i.mc.has(n)||(Ge("SyncEngine","New document in limbo: "+t),i.mc.add(n),tT(i))}function tT(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new _t(ii.fromString(e)),n=i.Ac.next();i.yc.set(n,new Jle(t)),i.gc=i.gc.insert(t,n),tC(i.remoteStore,new eC(Ms(gp(t.path)),n,"TargetPurposeLimboResolution",io.ct))}}async function Vu(i,e,t){const n=vt(i),r=[],s=[],o=[];n.wc.isEmpty()||(n.wc.forEach((a,l)=>{o.push(n.Rc(l,e,t).then(u=>{if((u||t)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){r.push(u);const c=qS.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),n.dc.nu(r),await async function(a,l){const u=vt(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>be.forEach(l,h=>be.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>be.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!nd(c))throw c;Ge("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.Ji.get(h),m=f.snapshotVersion,b=f.withLastLimboFreeSnapshotVersion(m);u.Ji=u.Ji.insert(h,b)}}}(n.localStore,s))}async function oue(i,e){const t=vt(i);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const n=await WO(t.localStore,e);t.currentUser=e,function(r,s){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new He(ye.CANCELLED,s))})}),r.Ec.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Vu(t,n.er)}}function aue(i,e){const t=vt(i),n=t.yc.get(e);if(n&&n.fc)return pn().add(n.key);{let r=pn();const s=t._c.get(e);if(!s)return r;for(const o of s){const a=t.wc.get(o);r=r.unionWith(a.view.nc)}return r}}async function lue(i,e){const t=vt(i),n=await m0(t.localStore,e.query,!0),r=e.view.hc(n);return t.isPrimaryClient&&H_(t,e.targetId,r.cc),r}async function uue(i,e){const t=vt(i);return YO(t.localStore,e).then(n=>Vu(t,n))}async function cue(i,e,t,n){const r=vt(i),s=await function(o,a){const l=vt(o),u=vt(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.Sn(c,a).next(h=>h?l.localDocuments.getDocuments(c,h):be.resolve(null)))}(r.localStore,e);s!==null?(t==="pending"?await bp(r.remoteStore):t==="acknowledged"||t==="rejected"?(eT(r,e,n||null),XS(r,e),function(o,a){vt(vt(o).mutationQueue).Cn(a)}(r.localStore,e)):At(),await Vu(r,s)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}async function due(i,e){const t=vt(i);if(nT(t),iT(t),e===!0&&t.vc!==!0){const n=t.sharedClientState.getAllActiveQueryTargets(),r=await c4(t,n.toArray());t.vc=!0,await U_(t.remoteStore,!0);for(const s of r)tC(t.remoteStore,s)}else if(e===!1&&t.vc!==!1){const n=[];let r=Promise.resolve();t._c.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?n.push(o):r=r.then(()=>(Mf(t,o),Df(t.localStore,o,!0))),Tm(t.remoteStore,o)}),await r,await c4(t,n),function(s){const o=vt(s);o.yc.forEach((a,l)=>{Tm(o.remoteStore,l)}),o.Ic.Ts(),o.yc=new Map,o.gc=new qi(_t.comparator)}(t),t.vc=!1,await U_(t.remoteStore,!1)}}async function c4(i,e,t){const n=vt(i),r=[],s=[];for(const o of e){let a;const l=n._c.get(o);if(l&&l.length!==0){a=await Of(n.localStore,Ms(l[0]));for(const u of l){const c=n.wc.get(u),h=await lue(n,c);h.snapshot&&s.push(h.snapshot)}}else{const u=await JO(n.localStore,o);a=await Of(n.localStore,u),await ZS(n,f8(u),o,!1,a.resumeToken)}r.push(a)}return n.dc.nu(s),r}function f8(i){return qL(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function hue(i){const e=vt(i);return vt(vt(e.localStore).persistence).$i()}async function fue(i,e,t,n){const r=vt(i);if(r.vc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=await YO(r.localStore,HL(s[0])),a=AS.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Es.EMPTY_BYTE_STRING);await Vu(r,o,a);break}case"rejected":await Df(r.localStore,e,!0),Mf(r,e,n);break;default:At()}}async function pue(i,e,t){const n=nT(i);if(n.vc){for(const r of e){if(n._c.has(r)){Ge("SyncEngine","Adding an already active target "+r);continue}const s=await JO(n.localStore,r),o=await Of(n.localStore,s);await ZS(n,f8(s),o.targetId,!1,o.resumeToken),tC(n.remoteStore,o)}for(const r of t)n._c.has(r)&&await Df(n.localStore,r,!1).then(()=>{Tm(n.remoteStore,r),Mf(n,r)}).catch(td)}}function nT(i){const e=vt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=d8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tue.bind(null,e),e.dc.nu=jle.bind(null,e.eventManager),e.dc.Pc=Qle.bind(null,e.eventManager),e}function iT(i){const e=vt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iue.bind(null,e),e}function gue(i,e,t){const n=vt(i);(async function(r,s,o){try{const a=await s.getMetadata();if(await function(h,f){const m=vt(h),b=cr(f.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",_=>m.qs.getBundleMetadata(_,f.id)).then(_=>!!_&&_.createTime.compareTo(b)>=0)}(r.localStore,a))return await s.close(),o._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(a8(a));const l=new Gle(a,r.localStore,s.serializer);let u=await s.bc();for(;u;){const h=await l.zu(u);h&&o._updateProgress(h),u=await s.bc()}const c=await l.complete();return await Vu(r,c.Ju,void 0),await function(h,f){const m=vt(h);return m.persistence.runTransaction("Save bundle","readwrite",b=>m.qs.saveBundleMetadata(b,f))}(r.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Hu)}catch(a){return da("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(n,e,t).then(r=>{n.sharedClientState.notifyBundleLoaded(r)})}class Ff{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Uv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return QO(this.persistence,new jO,e.initialUser,this.serializer)}createPersistence(e){return new $S(qO.zs,this.serializer)}createSharedClientState(e){return new XO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mue extends Ff{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){Ht(this.persistence.referenceDelegate instanceof t4);const n=this.persistence.referenceDelegate.garbageCollector;return new NO(n,e.asyncQueue,t)}createPersistence(e){const t=this.cacheSizeBytes!==void 0?ta.withCacheSize(this.cacheSizeBytes):ta.DEFAULT;return new $S(n=>t4.zs(n,t),this.serializer)}}let rT=class extends Ff{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await iT(this.Vc.syncEngine),await bp(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return QO(this.persistence,new jO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new NO(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Foe(t,this.persistence);return new Moe(e.asyncQueue,n)}createPersistence(e){const t=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?ta.withCacheSize(this.cacheSizeBytes):ta.DEFAULT;return new vle(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,e8(),S1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new XO}};class p8 extends rT{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof $w&&(this.sharedClientState.syncEngine={jr:cue.bind(null,t),zr:fue.bind(null,t),Wr:pue.bind(null,t),$i:hue.bind(null,t),Qr:uue.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii(async n=>{await due(this.Vc.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const t=e8();if(!$w.D(t))throw new He(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $w(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class _p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>u4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=oue.bind(null,this.syncEngine),await U_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zle}createDatastore(e){const t=Uv(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new xle(r));var r;return function(s,o,a,l){return new kle(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=a=>u4(this.syncEngine,a,0),o=s4.D()?new s4:new Ele,new Lle(t,n,r,s,o);var t,n,r,s,o}createSyncEngine(e,t){return function(n,r,s,o,a,l,u){const c=new Yle(n,r,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=vt(e);Ge("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await yp(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(i,e=10240){let t=0;return{async read(){if(t<i.byteLength){const n={value:i.slice(t,t+e),done:!1};return t+=e,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vue{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new kr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(n=>{n&&n.Qu()?this.metadata.resolve(n.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n==null?void 0:n.Gu)}`))},n=>this.metadata.reject(n))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc(`length string (${t}) is not valid number`);const r=await this.$c(n);return new Wle(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex(e=>e===123)}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new He(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(n,r){const s=vt(n),o=Em(s.serializer)+"/documents",a={documents:r.map(h=>Im(s.serializer,h))},l=await s.vo("BatchGetDocuments",o,a,r.length),u=new Map;l.forEach(h=>{const f=Fae(s.serializer,h);u.set(f.key.toString(),f)});const c=[];return r.forEach(h=>{const f=u.get(h.toString());Ht(!!f),c.push(f)}),c}(this.datastore,e);return t.forEach(n=>this.recordVersion(n)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new vp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,n)=>{const r=_t.fromPath(n);this.mutations.push(new PS(r,this.precondition(r)))}),await async function(t,n){const r=vt(t),s=Em(r.serializer)+"/documents",o={writes:n.map(a=>Sm(r.serializer,a))};await r.Io("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw At();t=Gt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new He(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Gt.min())?br.exists(!1):br.updateTime(t):br.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gt.min()))throw new He(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(t)}return br.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(e,t,n,r,s){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=s,this.Bc=n.maxAttempts,this.qo=new HS(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new yue(this.datastore),t=this.qc(e);t&&t.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(r=>{this.Uc(r)}))}).catch(n=>{this.Uc(n)})})}qc(e){try{const t=this.updateFunction(e);return!Nv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!rO(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Fr.UNAUTHENTICATED,this.clientId=fL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async s=>{Ge("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ge("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wp(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function T1(i,e){i.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=await i.getConfiguration();await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener(async r=>{n.isEqual(r)||(await WO(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function z_(i,e){i.asyncQueue.verifyOperationInProgress();const t=await sT(i);Ge("FirestoreClient","Initializing OnlineComponentProvider");const n=await i.getConfiguration();await e.initialize(t,n),i.setCredentialChangeListener(r=>o4(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,s)=>o4(e.remoteStore,s)),i._onlineComponents=e}function g8(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}async function sT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await T1(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!g8(t))throw t;da("Error using user provided cache. Falling back to memory cache: "+t),await T1(i,new Ff)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),await T1(i,new Ff);return i._offlineComponents}async function iC(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),await z_(i,i._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),await z_(i,new _p))),i._onlineComponents}function m8(i){return sT(i).then(e=>e.persistence)}function rC(i){return sT(i).then(e=>e.localStore)}function v8(i){return iC(i).then(e=>e.remoteStore)}function oT(i){return iC(i).then(e=>e.syncEngine)}function y8(i){return iC(i).then(e=>e.datastore)}async function $f(i){const e=await iC(i),t=e.eventManager;return t.onListen=Zle.bind(null,e.syncEngine),t.onUnlisten=Xle.bind(null,e.syncEngine),t}function wue(i){return i.asyncQueue.enqueue(async()=>{const e=await m8(i),t=await v8(i);return e.setNetworkEnabled(!0),function(n){const r=vt(n);return r.vu.delete(0),Hv(r)}(t)})}function _ue(i){return i.asyncQueue.enqueue(async()=>{const e=await m8(i),t=await v8(i);return e.setNetworkEnabled(!1),async function(n){const r=vt(n);r.vu.add(0),await yp(r),r.bu.set("Offline")}(t)})}function Iue(i,e){const t=new kr;return i.asyncQueue.enqueueAndForget(async()=>async function(n,r,s){try{const o=await function(a,l){const u=vt(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(n,r);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new He(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=wp(o,`Failed to get document '${r} from cache`);s.reject(a)}}(await rC(i),e,t)),t.promise}function b8(i,e,t={}){const n=new kr;return i.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const u=new nC({next:h=>{s.enqueueAndForget(()=>KS(r,c));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new He(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new He(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new YS(gp(o.path),u,{includeMetadataChanges:!0,Ku:!0});return GS(r,c)}(await $f(i),i.asyncQueue,e,t,n)),n.promise}function Eue(i,e){const t=new kr;return i.asyncQueue.enqueueAndForget(async()=>async function(n,r,s){try{const o=await m0(n,r,!0),a=new c8(r,o.ir),l=a.sc(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=wp(o,`Failed to execute query '${r} against cache`);s.reject(a)}}(await rC(i),e,t)),t.promise}function C8(i,e,t={}){const n=new kr;return i.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const u=new nC({next:h=>{s.enqueueAndForget(()=>KS(r,c)),h.fromCache&&a.source==="server"?l.reject(new He(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new YS(o,u,{includeMetadataChanges:!0,Ku:!0});return GS(r,c)}(await $f(i),i.asyncQueue,e,t,n)),n.promise}function Sue(i,e){const t=new nC(e);return i.asyncQueue.enqueueAndForget(async()=>function(n,r){vt(n).ku.add(r),r.next()}(await $f(i),t)),()=>{t.Dc(),i.asyncQueue.enqueueAndForget(async()=>function(n,r){vt(n).ku.delete(r)}(await $f(i),t))}}function Tue(i,e,t,n){const r=function(s,o){let a;return a=typeof s=="string"?lO().encode(s):s,function(l,u){return new vue(l,u)}(function(l,u){if(l instanceof Uint8Array)return d4(l,u);if(l instanceof ArrayBuffer)return d4(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(t,Uv(e));i.asyncQueue.enqueueAndForget(async()=>{gue(await oT(i),r,n)})}function xue(i,e){return i.asyncQueue.enqueue(async()=>function(t,n){const r=vt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,n))}(await rC(i),e))}function Pue(i,e){return i.asyncQueue.enqueue(async()=>async function(t,n){const r=vt(t),s=r.indexManager,o=[];return r.persistence.runTransaction("Configure indexes","readwrite",a=>s.getFieldIndexes(a).next(l=>function(u,c,h,f,m){u=[...u],c=[...c],u.sort(h),c.sort(h);const b=u.length,_=c.length;let E=0,k=0;for(;E<_&&k<b;){const j=h(u[k],c[E]);j<0?m(u[k++]):j>0?f(c[E++]):(E++,k++)}for(;E<_;)f(c[E++]);for(;k<b;)m(u[k++])}(l,n,Loe,u=>{o.push(s.addFieldIndex(a,u))},u=>{o.push(s.deleteFieldIndex(a,u))})).next(()=>be.waitFor(o)))}(await rC(i),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i,e,t){if(!t)throw new He(ye.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function _8(i,e,t,n){if(e===!0&&n===!0)throw new He(ye.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function f4(i){if(!_t.isDocumentKey(i))throw new He(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function p4(i){if(_t.isDocumentKey(i))throw new He(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sC(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":At()}function Rn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new He(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sC(i);throw new He(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function I8(i,e){if(e<=0)throw new He(ye.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new He(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new He(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w8((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new He(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new He(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new He(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class zv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new He(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g4(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new dL;switch(t.type){case"firstParty":return new Poe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new He(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=h4.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),h4.delete(e),t.terminate())}(this),Promise.resolve()}}function E8(i,e,t,n={}){var r;const s=(i=Rn(i,zv))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=Fr.MOCK_USER;else{a=vi.createMockUserToken(n.mockUserToken,(r=i._app)===null||r===void 0?void 0:r.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new He(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fr(u)}i._authCredentials=new Soe(new cL(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Ur{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class Fa extends Ur{constructor(e,t,n){super(e,t,gp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new _t(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function Rue(i,e,...t){if(i=vi.getModularInstance(i),aT("collection","path",e),i instanceof zv){const n=ii.fromString(e,...t);return p4(n),new Fa(i,null,n)}{if(!(i instanceof er||i instanceof Fa))throw new He(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ii.fromString(e,...t));return p4(n),new Fa(i.firestore,null,n)}}function kue(i,e){if(i=Rn(i,zv),aT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ur(i,null,function(t){return new Ru(ii.emptyPath(),t)}(e))}function S8(i,e,...t){if(i=vi.getModularInstance(i),arguments.length===1&&(e=fL.A()),aT("doc","path",e),i instanceof zv){const n=ii.fromString(e,...t);return f4(n),new er(i,null,new _t(n))}{if(!(i instanceof er||i instanceof Fa))throw new He(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ii.fromString(e,...t));return f4(n),new er(i.firestore,i instanceof Fa?i.converter:null,new _t(n))}}function Aue(i,e){return i=vi.getModularInstance(i),e=vi.getModularInstance(e),(i instanceof er||i instanceof Fa)&&(e instanceof er||e instanceof Fa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function lT(i,e){return i=vi.getModularInstance(i),e=vi.getModularInstance(e),i instanceof Ur&&e instanceof Ur&&i.firestore===e.firestore&&$v(i._query,e._query)&&i.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vue{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new HS(this,"async_queue_retry"),this.Xc=()=>{const t=S1();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=S1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=S1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new kr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!nd(e))throw e;Ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(n=>{this.Wc=n,this.Hc=!1;const r=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(n);throw lr("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.Hc=!1,n))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=WS.createAndSchedule(this,e,t,n,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&At()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function j_(i){return function(e,t){if(typeof e!="object"||e===null)return!1;const n=e;for(const r of t)if(r in n&&typeof n[r]=="function")return!0;return!1}(i,["next","error","complete"])}class T8{constructor(){this._progressObserver={},this._taskCompletionResolver=new kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lue=-1;class Ti extends zv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Vue,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||x8(this),this._firestoreClient.terminate()}}function Oue(i,e,t){t||(t="(default)");const n=bc._getProvider(i,"firestore");if(n.isInitialized(t)){const r=n.getImmediate({identifier:t}),s=n.getOptions(t);if(vi.deepEqual(s,e))return r;throw new He(ye.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new He(ye.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new He(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e,instanceIdentifier:t})}function Due(i,e){const t=typeof i=="object"?i:bc.getApp(),n=typeof i=="string"?i:e||"(default)",r=bc._getProvider(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=vi.getDefaultEmulatorHostnameAndPort("firestore");s&&E8(r,...s)}return r}function fr(i){return i._firestoreClient||x8(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function x8(i){var e,t,n;const r=i._freezeSettings(),s=function(o,a,l,u){return new sae(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,w8(u.experimentalLongPollingOptions),u.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,r);i._firestoreClient=new Cue(i._authCredentials,i._appCheckCredentials,i._queue,s),!((t=r.cache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=r.cache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function Nue(i,e){R8(i=Rn(i,Ti));const t=fr(i);if(t._uninitializedComponentsProvider)throw new He(ye.FAILED_PRECONDITION,"SDK cache is already specified.");da("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),r=new _p;return P8(t,r,new rT(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Mue(i){R8(i=Rn(i,Ti));const e=fr(i);if(e._uninitializedComponentsProvider)throw new He(ye.FAILED_PRECONDITION,"SDK cache is already specified.");da("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),n=new _p;return P8(e,n,new p8(n,t.cacheSizeBytes))}function P8(i,e,t){const n=new kr;return i.asyncQueue.enqueue(async()=>{try{await T1(i,t),await z_(i,e),n.resolve()}catch(r){const s=r;if(!g8(s))throw s;da("Error enabling indexeddb cache. Falling back to memory cache: "+s),n.reject(s)}}).then(()=>n.promise)}function Fue(i){if(i._initialized&&!i._terminated)throw new He(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kr;return i._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(t){if(!Pf.D())return Promise.resolve();const n=t+"main";await Pf.delete(n)}(BS(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function $ue(i){return function(e){const t=new kr;return e.asyncQueue.enqueueAndForget(async()=>rue(await oT(e),t)),t.promise}(fr(i=Rn(i,Ti)))}function Bue(i){return wue(fr(i=Rn(i,Ti)))}function que(i){return _ue(fr(i=Rn(i,Ti)))}function Uue(i){return bc._removeServiceInstance(i.app,"firestore",i._databaseId.database),i._delete()}function Hue(i,e){const t=fr(i=Rn(i,Ti)),n=new T8;return Tue(t,i._databaseId,e,n),n}function zue(i,e){return xue(fr(i=Rn(i,Ti)),e).then(t=>t?new Ur(i,null,t.query):null)}function R8(i){if(i._initialized||i._terminated)throw new He(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e="count",t){this._aggregateType=e,this._internalFieldPath=t,this.type="AggregateField"}}class k8{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hc(Es.fromBase64String(e))}catch(t){throw new He(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hc(Es.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new He(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function jue(){return new sd("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Que=/^__.*__$/;class Wue{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Au(e,this.data,this.fieldMask,t,this.fieldTransforms):new mp(e,this.data,t,this.fieldTransforms)}}class A8{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Au(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function V8(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class aC{constructor(e,t,n,r,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new aC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return C0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(V8(this.ca)&&Que.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Gue{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Uv(e)}ya(e,t,n,r=!1){return new aC({ca:e,methodName:t,ga:n,path:Is.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _h(i){const e=i._freezeSettings(),t=Uv(i._databaseId);return new Gue(i._databaseId,!!e.ignoreUndefinedProperties,t)}function lC(i,e,t,n,r,s={}){const o=i.ya(s.merge||s.mergeFields?2:0,e,t,r);hT("Data must be an object, but it was:",o,n);const a=D8(n,o);let l,u;if(s.merge)l=new Oa(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=xm(e,h,t);if(!o.contains(f))throw new He(ye.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);M8(c,f)||c.push(f)}l=new Oa(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new Wue(new to(a),l,u)}class jv extends od{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jv}}function L8(i,e,t){return new aC({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class uT extends od{_toFieldTransform(e){return new qv(e.path,new Af)}isEqual(e){return e instanceof uT}}class Kue extends od{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=L8(this,e,!0),n=this.pa.map(s=>Ih(s,t)),r=new nh(n);return new qv(e.path,r)}isEqual(e){return this===e}}class Jue extends od{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=L8(this,e,!0),n=this.pa.map(s=>Ih(s,t)),r=new ih(n);return new qv(e.path,r)}isEqual(e){return this===e}}class Yue extends od{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Vf(e.serializer,JL(e.serializer,this.Ia));return new qv(e.path,t)}isEqual(e){return this===e}}function cT(i,e,t,n){const r=i.ya(1,e,t);hT("Data must be an object, but it was:",r,n);const s=[],o=to.empty();id(n,(l,u)=>{const c=uC(e,l,t);u=vi.getModularInstance(u);const h=r.da(c);if(u instanceof jv)s.push(c);else{const f=Ih(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Oa(s);return new A8(o,a,r.fieldTransforms)}function dT(i,e,t,n,r,s){const o=i.ya(1,e,t),a=[xm(e,n,t)],l=[r];if(s.length%2!=0)throw new He(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(xm(e,s[f])),l.push(s[f+1]);const u=[],c=to.empty();for(let f=a.length-1;f>=0;--f)if(!M8(u,a[f])){const m=a[f];let b=l[f];b=vi.getModularInstance(b);const _=o.da(m);if(b instanceof jv)u.push(m);else{const E=Ih(b,_);E!=null&&(u.push(m),c.set(m,E))}}const h=new Oa(u);return new A8(c,h,o.fieldTransforms)}function O8(i,e,t,n=!1){return Ih(t,i.ya(n?4:3,e))}function Ih(i,e){if(N8(i=vi.getModularInstance(i)))return hT("Unsupported field value:",e,i),D8(i,e);if(i instanceof od)return function(t,n){if(!V8(n.ca))throw n._a(`${t._methodName}() can only be used with update() and set()`);if(!n.path)throw n._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(n);r&&n.fieldTransforms.push(r)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(t,n){const r=[];let s=0;for(const o of t){let a=Ih(o,n.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(i,e)}return function(t,n){if((t=vi.getModularInstance(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return JL(n.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const r=Cr.fromDate(t);return{timestampValue:Lf(n.serializer,r)}}if(t instanceof Cr){const r=new Cr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lf(n.serializer,r)}}if(t instanceof oC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hc)return{bytesValue:pO(n.serializer,t._byteString)};if(t instanceof er){const r=n.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw n._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:LS(t.firestore._databaseId||n.databaseId,t._key.path)}}throw n._a(`Unsupported field value: ${sC(t)}`)}(i,e)}function D8(i,e){const t={};return PL(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):id(i,(n,r)=>{const s=Ih(r,e.ha(n));s!=null&&(t[n]=s)}),{mapValue:{fields:t}}}function N8(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Cr||i instanceof oC||i instanceof Hc||i instanceof er||i instanceof od)}function hT(i,e,t){if(!N8(t)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(t)){const n=sC(t);throw n==="an object"?e._a(i+" a custom object"):e._a(i+" "+n)}}function xm(i,e,t){if((e=vi.getModularInstance(e))instanceof sd)return e._internalPath;if(typeof e=="string")return uC(i,e);throw C0("Field path arguments must be of type string or ",i,!1,void 0,t)}const Zue=new RegExp("[~\\*/\\[\\]]");function uC(i,e,t){if(e.search(Zue)>=0)throw C0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new sd(...e.split("."))._internalPath}catch{throw C0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function C0(i,e,t,n,r){const s=n&&!n.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${n}`),o&&(l+=` in document ${r}`),l+=")"),new He(ye.INVALID_ARGUMENT,a+i+l)}function M8(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Xue extends Pm{data(){return super.data()}}function cC(i,e){return typeof e=="string"?uC(i,e):e instanceof sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new He(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fT{}class Ip extends fT{}function ece(i,e,...t){let n=[];e instanceof fT&&n.push(e),n=n.concat(t),function(r){const s=r.filter(a=>a instanceof Eh).length,o=r.filter(a=>a instanceof Ep).length;if(s>1||s>0&&o>0)throw new He(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)i=r._apply(i);return i}class Ep extends Ip{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ep(e,t,n)}_apply(e){const t=this._parse(e);return B8(e._query,t),new Ur(e.firestore,e.converter,V_(e._query,t))}_parse(e){const t=_h(e.firestore);return function(r,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new He(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){v4(c,u);const f=[];for(const m of c)f.push(m4(a,r,m));h={arrayValue:{values:f}}}else h=m4(a,r,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||v4(c,u),h=O8(o,s,c,u==="in"||u==="not-in");return Mn.create(l,u,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tce(i,e,t){const n=e,r=cC("where",i);return Ep._create(r,n,t)}class Eh extends fT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Eh(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(n,r){let s=n;const o=r.getFlattenedFilters();for(const a of o)B8(s,a),s=V_(s,a)}(e._query,t),new Ur(e.firestore,e.converter,V_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nce(...i){return i.forEach(e=>U8("or",e)),Eh._create("or",i)}function ice(...i){return i.forEach(e=>U8("and",e)),Eh._create("and",i)}class dC extends Ip{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dC(e,t)}_apply(e){const t=function(n,r,s){if(n.startAt!==null)throw new He(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new He(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new lf(r,s);return function(a,l){if(SS(a)===null){const u=Yb(a);u!==null&&q8(a,u,l.field)}}(n,o),o}(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,function(n,r){const s=n.explicitOrderBy.concat([r]);return new Ru(n.path,n.collectionGroup,s,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(e._query,t))}}function rce(i,e="asc"){const t=e,n=cC("orderBy",i);return dC._create(n,t)}class Qv extends Ip{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Qv(e,t,n)}_apply(e){return new Ur(e.firestore,e.converter,d0(e._query,this._limit,this._limitType))}}function sce(i){return I8("limit",i),Qv._create("limit",i,"F")}function oce(i){return I8("limitToLast",i),Qv._create("limitToLast",i,"L")}class Wv extends Ip{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Wv(e,t,n)}_apply(e){const t=$8(e,this.type,this._docOrFields,this._inclusive);return new Ur(e.firestore,e.converter,function(n,r){return new Ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)}(e._query,t))}}function ace(...i){return Wv._create("startAt",i,!0)}function lce(...i){return Wv._create("startAfter",i,!1)}class Gv extends Ip{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Gv(e,t,n)}_apply(e){const t=$8(e,this.type,this._docOrFields,this._inclusive);return new Ur(e.firestore,e.converter,function(n,r){return new Ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)}(e._query,t))}}function uce(...i){return Gv._create("endBefore",i,!1)}function cce(...i){return Gv._create("endAt",i,!0)}function $8(i,e,t,n){if(t[0]=vi.getModularInstance(t[0]),t[0]instanceof Pm)return function(r,s,o,a,l){if(!a)throw new He(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Kd(r))if(c.field.isKeyField())u.push(eh(s,a.key));else{const h=a.data.field(c.field);if(Kb(h))throw new He(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=c.field.canonicalString();throw new He(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(h)}return new qc(u,l)}(i._query,i.firestore._databaseId,e,t[0]._document,n);{const r=_h(i.firestore);return function(s,o,a,l,u,c){const h=s.explicitOrderBy;if(u.length>h.length)throw new He(ye.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let m=0;m<u.length;m++){const b=u[m];if(h[m].field.isKeyField()){if(typeof b!="string")throw new He(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!TS(s)&&b.indexOf("/")!==-1)throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const _=s.path.child(ii.fromString(b));if(!_t.isDocumentKey(_))throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const E=new _t(_);f.push(eh(o,E))}else{const _=O8(a,l,b);f.push(_)}}return new qc(f,c)}(i._query,i.firestore._databaseId,r,e,t,n)}}function m4(i,e,t){if(typeof(t=vi.getModularInstance(t))=="string"){if(t==="")throw new He(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TS(e)&&t.indexOf("/")!==-1)throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ii.fromString(t));if(!_t.isDocumentKey(n))throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return eh(i,new _t(n))}if(t instanceof er)return eh(i,t._key);throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sC(t)}.`)}function v4(i,e){if(!Array.isArray(i)||i.length===0)throw new He(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function B8(i,e){if(e.isInequality()){const n=Yb(i),r=e.field;if(n!==null&&!n.isEqual(r))throw new He(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const s=SS(i);s!==null&&q8(i,r,s)}const t=function(n,r){for(const s of n)for(const o of s.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(i.filters,function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new He(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new He(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function q8(i,e,t){if(!t.isEqual(e))throw new He(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}function U8(i,e){if(!(e instanceof Ep||e instanceof Eh))throw new He(ye.INVALID_ARGUMENT,`Function ${i}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class pT{convertValue(e,t="none"){switch($c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Iu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw At()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return id(e,(r,s)=>{n[r]=this.convertValue(s,t)}),n}convertGeoPoint(e){return new oC(Wi(e.latitude),Wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Jb(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Cm(e));default:return null}}convertTimestamp(e){const t=Fc(e);return new Cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ii.fromString(e);Ht(IO(n));const r=new Mv(n.get(1),n.get(3)),s=new _t(n.popFirst(5));return r.isEqual(t)||lr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(i,e,t){let n;return n=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,n}class dce extends pT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hce(i){return new Bf("sum",xm("sum",i))}function fce(i){return new Bf("avg",xm("average",i))}function H8(){return new Bf("count")}function pce(i,e){var t,n;return i instanceof Bf&&e instanceof Bf&&i._aggregateType===e._aggregateType&&((t=i._internalFieldPath)===null||t===void 0?void 0:t.canonicalString())===((n=e._internalFieldPath)===null||n===void 0?void 0:n.canonicalString())}function gce(i,e){return lT(i.query,e.query)&&vi.deepEqual(i.data(),e.data())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oh extends Pm{constructor(e,t,n,r,s,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(cC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Xg extends oh{data(e={}){return super.data(e)}}class ah{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Xg(this._firestore,this._userDataWriter,n.key,n,new wc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(n,r){if(n._snapshot.oldDocs.isEmpty()){let s=0;return n._snapshot.docChanges.map(o=>{const a=new Xg(n._firestore,n._userDataWriter,o.doc.key,o.doc,new wc(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Xg(n._firestore,n._userDataWriter,o.doc.key,o.doc,new wc(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:mce(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mce(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}function vce(i,e){return i instanceof oh&&e instanceof oh?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(i._document===null?e._document===null:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ah&&e instanceof ah&&i._firestore===e._firestore&&lT(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yce(i){i=Rn(i,er);const e=Rn(i.firestore,Ti);return b8(fr(e),i._key).then(t=>gT(e,i,t))}class ad extends pT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function bce(i){i=Rn(i,er);const e=Rn(i.firestore,Ti),t=fr(e),n=new ad(e);return Iue(t,i._key).then(r=>new oh(e,n,i._key,r,new wc(r!==null&&r.hasLocalMutations,!0),i.converter))}function Cce(i){i=Rn(i,er);const e=Rn(i.firestore,Ti);return b8(fr(e),i._key,{source:"server"}).then(t=>gT(e,i,t))}function wce(i){i=Rn(i,Ur);const e=Rn(i.firestore,Ti),t=fr(e),n=new ad(e);return F8(i._query),C8(t,i._query).then(r=>new ah(e,n,i,r))}function _ce(i){i=Rn(i,Ur);const e=Rn(i.firestore,Ti),t=fr(e),n=new ad(e);return Eue(t,i._query).then(r=>new ah(e,n,i,r))}function Ice(i){i=Rn(i,Ur);const e=Rn(i.firestore,Ti),t=fr(e),n=new ad(e);return C8(t,i._query,{source:"server"}).then(r=>new ah(e,n,i,r))}function Ece(i,e,t){i=Rn(i,er);const n=Rn(i.firestore,Ti),r=hC(i.converter,e,t);return Sp(n,[lC(_h(n),"setDoc",i._key,r,i.converter!==null,t).toMutation(i._key,br.none())])}function Sce(i,e,t,...n){i=Rn(i,er);const r=Rn(i.firestore,Ti),s=_h(r);let o;return o=typeof(e=vi.getModularInstance(e))=="string"||e instanceof sd?dT(s,"updateDoc",i._key,e,t,n):cT(s,"updateDoc",i._key,e),Sp(r,[o.toMutation(i._key,br.exists(!0))])}function Tce(i){return Sp(Rn(i.firestore,Ti),[new vp(i._key,br.none())])}function xce(i,e){const t=Rn(i.firestore,Ti),n=S8(i),r=hC(i.converter,e);return Sp(t,[lC(_h(i.firestore),"addDoc",n._key,r,i.converter!==null,{}).toMutation(n._key,br.exists(!1))]).then(()=>n)}function Pce(i,...e){var t,n,r;i=vi.getModularInstance(i);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||j_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(j_(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,u,c;if(i instanceof er)u=Rn(i.firestore,Ti),c=gp(i._key.path),l={next:h=>{e[o]&&e[o](gT(u,i,h))},error:e[o+1],complete:e[o+2]};else{const h=Rn(i,Ur);u=Rn(h.firestore,Ti),c=h._query;const f=new ad(u);l={next:m=>{e[o]&&e[o](new ah(u,f,h,m))},error:e[o+1],complete:e[o+2]},F8(i._query)}return function(h,f,m,b){const _=new nC(b),E=new YS(f,_,m);return h.asyncQueue.enqueueAndForget(async()=>GS(await $f(h),E)),()=>{_.Dc(),h.asyncQueue.enqueueAndForget(async()=>KS(await $f(h),E))}}(fr(u),c,a,l)}function Rce(i,e){return Sue(fr(i=Rn(i,Ti)),j_(e)?e:{next:e})}function Sp(i,e){return function(t,n){const r=new kr;return t.asyncQueue.enqueueAndForget(async()=>eue(await oT(t),n,r)),r.promise}(fr(i),e)}function gT(i,e,t){const n=t.docs.get(e._key),r=new ad(i);return new oh(i,r,e._key,n,new wc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kce(i){return z8(i,{count:H8()})}function z8(i,e){const t=Rn(i.firestore,Ti),n=fr(t),r=function(s,o){const a=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.push(o(s[l],l,s));return a}(e,(s,o)=>new Pae(o,s._aggregateType,s._internalFieldPath));return function(s,o,a){const l=new kr;return s.asyncQueue.enqueueAndForget(async()=>{try{const u=await y8(s);l.resolve(Ale(u,o,a))}catch(u){l.reject(u)}}),l.promise}(n,i._query,r).then(s=>function(o,a,l){const u=new ad(o);return new k8(a,u,l)}(t,i,s))}class Ace{constructor(e){this.kind="memory",this._onlineComponentProvider=new _p,e!=null&&e.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new Ff}toJSON(){return{kind:this.kind}}}class Vce{constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=j8(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Lce{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new Ff}toJSON(){return{kind:this.kind}}}class Oce{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new mue(e)}toJSON(){return{kind:this.kind}}}function Dce(){return new Lce}function Nce(i){return new Oce(i==null?void 0:i.cacheSizeBytes)}function Mce(i){return new Ace(i)}function Fce(i){return new Vce(i)}class $ce{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new _p,this._offlineComponentProvider=new rT(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}class Bce{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new _p,this._offlineComponentProvider=new p8(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes)}}function j8(i){return new $ce(i==null?void 0:i.forceOwnership)}function qce(){return new Bce}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uce={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_h(e)}set(e,t,n){this._verifyNotCommitted();const r=mc(e,this._firestore),s=hC(r.converter,t,n),o=lC(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,n);return this._mutations.push(o.toMutation(r._key,br.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const s=mc(e,this._firestore);let o;return o=typeof(t=vi.getModularInstance(t))=="string"||t instanceof sd?dT(this._dataReader,"WriteBatch.update",s._key,t,n,r):cT(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,br.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mc(e,this._firestore);return this._mutations=this._mutations.concat(new vp(t._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mc(i,e){if((i=vi.getModularInstance(i)).firestore!==e)throw new He(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_h(e)}get(e){const t=mc(e,this._firestore),n=new dce(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||r.length!==1)return At();const s=r[0];if(s.isFoundDocument())return new Pm(this._firestore,n,s.key,s,t.converter);if(s.isNoDocument())return new Pm(this._firestore,n,t._key,null,t.converter);throw At()})}set(e,t,n){const r=mc(e,this._firestore),s=hC(r.converter,t,n),o=lC(this._dataReader,"Transaction.set",r._key,s,r.converter!==null,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const s=mc(e,this._firestore);let o;return o=typeof(t=vi.getModularInstance(t))=="string"||t instanceof sd?dT(this._dataReader,"Transaction.update",s._key,t,n,r):cT(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=mc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mc(e,this._firestore),n=new ad(this._firestore);return super.get(e).then(r=>new oh(this._firestore,n,t._key,r._document,new wc(!1,!1),t.converter))}}function Hce(i,e,t){i=Rn(i,Ti);const n=Object.assign(Object.assign({},Uce),t);return function(r){if(r.maxAttempts<1)throw new He(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(r,s,o){const a=new kr;return r.asyncQueue.enqueueAndForget(async()=>{const l=await y8(r);new bue(r.asyncQueue,l,o,s,a).run()}),a.promise}(fr(i),r=>e(new W8(i,r)),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zce(){return new jv("deleteField")}function jce(){return new uT("serverTimestamp")}function Qce(...i){return new Kue("arrayUnion",i)}function Wce(...i){return new Jue("arrayRemove",i)}function Gce(i){return new Yue("increment",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kce(i){return fr(i=Rn(i,Ti)),new Q8(i,e=>Sp(i,e))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jce(i,e){var t;const n=fr(i=Rn(i,Ti));if(!n._uninitializedComponentsProvider||((t=n._uninitializedComponentsProvider)===null||t===void 0?void 0:t._offlineKind)==="memory")return da("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(s){const o=typeof s=="string"?function(l){try{return JSON.parse(l)}catch(u){throw new He(ye.INVALID_ARGUMENT,"Failed to parse JSON: "+(u==null?void 0:u.message))}}(s):s,a=[];if(Array.isArray(o.indexes))for(const l of o.indexes){const u=y4(l,"collectionGroup"),c=[];if(Array.isArray(l.fields))for(const h of l.fields){const f=uC("setIndexConfiguration",y4(h,"fieldPath"));h.arrayConfig==="CONTAINS"?c.push(new m1(f,2)):h.order==="ASCENDING"?c.push(new m1(f,0)):h.order==="DESCENDING"&&c.push(new m1(f,1))}a.push(new l0(l0.UNKNOWN_ID,u,c,y_.empty()))}return a}(e);return Pue(n,r)}function y4(i,e){if(typeof i[e]!="string")throw new He(ye.INVALID_ARGUMENT,"Missing string value for: "+e);return i[e]}(function(i,e=!0){(function(t){pp=t})(bc.SDK_VERSION),bc._registerComponent(new _oe.Component("firestore",(t,{instanceIdentifier:n,options:r})=>{const s=t.getProvider("app").getImmediate(),o=new Ti(new Toe(t.getProvider("auth-internal")),new Roe(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new He(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mv(a.options.projectId,l)}(s,n),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),bc.registerVersion(fR,"3.13.0",i),bc.registerVersion(fR,"3.13.0","cjs2017")})();ze.AbstractUserDataWriter=pT;ze.AggregateField=Bf;ze.AggregateQuerySnapshot=k8;ze.Bytes=Hc;ze.CACHE_SIZE_UNLIMITED=Lue;ze.CollectionReference=Fa;ze.DocumentReference=er;ze.DocumentSnapshot=oh;ze.FieldPath=sd;ze.FieldValue=od;ze.Firestore=Ti;ze.FirestoreError=He;ze.GeoPoint=oC;ze.LoadBundleTask=T8;ze.Query=Ur;ze.QueryCompositeFilterConstraint=Eh;ze.QueryConstraint=Ip;ze.QueryDocumentSnapshot=Xg;ze.QueryEndAtConstraint=Gv;ze.QueryFieldFilterConstraint=Ep;ze.QueryLimitConstraint=Qv;ze.QueryOrderByConstraint=dC;ze.QuerySnapshot=ah;ze.QueryStartAtConstraint=Wv;ze.SnapshotMetadata=wc;ze.Timestamp=Cr;ze.Transaction=W8;ze.WriteBatch=Q8;ze._DatabaseId=Mv;ze._DocumentKey=_t;ze._EmptyAppCheckTokenProvider=koe;ze._EmptyAuthCredentialsProvider=dL;ze._FieldPath=Is;ze._TestingHooks=oO;ze._cast=Rn;ze._debugAssert=Eoe;ze._isBase64Available=iae;ze._logWarn=da;ze._validateIsNotUsedTogether=_8;ze.addDoc=xce;ze.aggregateFieldEqual=pce;ze.aggregateQuerySnapshotEqual=gce;ze.and=ice;ze.arrayRemove=Wce;ze.arrayUnion=Qce;ze.average=fce;ze.clearIndexedDbPersistence=Fue;ze.collection=Rue;ze.collectionGroup=kue;ze.connectFirestoreEmulator=E8;ze.count=H8;ze.deleteDoc=Tce;ze.deleteField=zce;ze.disableNetwork=que;ze.doc=S8;ze.documentId=jue;ze.enableIndexedDbPersistence=Nue;ze.enableMultiTabIndexedDbPersistence=Mue;ze.enableNetwork=Bue;ze.endAt=cce;ze.endBefore=uce;ze.ensureFirestoreConfigured=fr;ze.executeWrite=Sp;ze.getAggregateFromServer=z8;ze.getCountFromServer=kce;ze.getDoc=yce;ze.getDocFromCache=bce;ze.getDocFromServer=Cce;ze.getDocs=wce;ze.getDocsFromCache=_ce;ze.getDocsFromServer=Ice;ze.getFirestore=Due;ze.increment=Gce;ze.initializeFirestore=Oue;ze.limit=sce;ze.limitToLast=oce;ze.loadBundle=Hue;ze.memoryEagerGarbageCollector=Dce;ze.memoryLocalCache=Mce;ze.memoryLruGarbageCollector=Nce;ze.namedQuery=zue;ze.onSnapshot=Pce;ze.onSnapshotsInSync=Rce;ze.or=nce;ze.orderBy=rce;ze.persistentLocalCache=Fce;ze.persistentMultipleTabManager=qce;ze.persistentSingleTabManager=j8;ze.query=ece;ze.queryEqual=lT;ze.refEqual=Aue;ze.runTransaction=Hce;ze.serverTimestamp=jce;ze.setDoc=Ece;ze.setIndexConfiguration=Jce;ze.setLogLevel=Ioe;ze.snapshotEqual=vce;ze.startAfter=lce;ze.startAt=ace;ze.sum=hce;ze.terminate=Uue;ze.updateDoc=Sce;ze.waitForPendingWrites=$ue;ze.where=tce;ze.writeBatch=Kce;(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=ze;Object.keys(e).forEach(function(t){t!=="default"&&!i.hasOwnProperty(t)&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return e[t]}})})})(wh);var mT={},Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});var em=Xc,qf=bt,Yce=Ua;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zce="type.googleapis.com/google.protobuf.Int64Value",Xce="type.googleapis.com/google.protobuf.UInt64Value";function G8(i,e){const t={};for(const n in i)i.hasOwnProperty(n)&&(t[n]=e(i[n]));return t}function Q_(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>Q_(e));if(typeof i=="function"||typeof i=="object")return G8(i,e=>Q_(e));throw new Error("Data cannot be encoded in JSON: "+i)}function w0(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case Zce:case Xce:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>w0(e)):typeof i=="function"||typeof i=="object"?G8(i,e=>w0(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cf extends qf.FirebaseError{constructor(e,t,n){super(`${vT}/${e}`,t||""),this.details=n}}function ede(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function tde(i,e){let t=ede(i),n=t,r;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!b4[o])return new cf("internal","internal");t=b4[o],n=o}const a=s.message;typeof a=="string"&&(n=a),r=s.details,r!==void 0&&(r=w0(r))}}catch{}return t==="ok"?null:new cf(t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||n.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="us-central1";function ide(i){let e=null;return{promise:new Promise((t,n)=>{e=setTimeout(()=>{n(new cf("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class rde{constructor(e,t,n,r,s=W_,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new nde(t,n,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=W_}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function sde(i,e,t){i.emulatorOrigin=`http://${e}:${t}`}function ode(i,e,t){return n=>ude(i,e,n,t||{})}function ade(i,e,t){return n=>K8(i,e,n,t||{})}async function lde(i,e,t,n){t["Content-Type"]="application/json";let r;try{r=await n(i,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let s=null;try{s=await r.json()}catch{}return{status:r.status,json:s}}function ude(i,e,t,n){const r=i._url(e);return K8(i,r,t,n)}async function K8(i,e,t,n){t=Q_(t);const r={data:t},s={},o=await i.contextProvider.getContext(n.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=n.timeout||7e4,l=ide(a),u=await Promise.race([lde(e,r,s,i.fetchImpl),l.promise,i.cancelAllRequests]);if(l.cancel(),!u)throw new cf("cancelled","Firebase Functions instance was deleted.");const c=tde(u.status,u.json);if(c)throw c;if(!u.json)throw new cf("internal","Response is not valid JSON object.");let h=u.json.data;if(typeof h>"u"&&(h=u.json.result),typeof h>"u")throw new cf("internal","Response is missing data field.");return{data:w0(h)}}const C4="@firebase/functions",w4="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cde="auth-internal",dde="app-check-internal",hde="messaging-internal";function fde(i,e){const t=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(cde),a=n.getProvider(hde),l=n.getProvider(dde);return new rde(s,o,a,l,r,i)};em._registerComponent(new Yce.Component(vT,t,"PUBLIC").setMultipleInstances(!0)),em.registerVersion(C4,w4,e),em.registerVersion(C4,w4,"cjs2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pde(i=em.getApp(),e=W_){const n=em._getProvider(qf.getModularInstance(i),vT).getImmediate({identifier:e}),r=qf.getDefaultEmulatorHostnameAndPort("functions");return r&&J8(n,...r),n}function J8(i,e,t){sde(qf.getModularInstance(i),e,t)}function gde(i,e,t){return ode(qf.getModularInstance(i),e,t)}function mde(i,e,t){return ade(qf.getModularInstance(i),e,t)}fde(fetch.bind(self));Tp.connectFunctionsEmulator=J8;Tp.getFunctions=pde;Tp.httpsCallable=gde;Tp.httpsCallableFromURL=mde;(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=Tp;Object.keys(e).forEach(function(t){t!=="default"&&!i.hasOwnProperty(t)&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return e[t]}})})})(mT);var Sh={},Y8={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=Xc,t="firebase",n="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.registerVersion(t,n,"app"),Object.keys(e).forEach(function(r){r!=="default"&&!i.hasOwnProperty(r)&&Object.defineProperty(i,r,{enumerable:!0,get:function(){return e[r]}})})})(Y8);var yT={},Z8={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=Xc,t=bt,n=Ua;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r="firebasestorage.googleapis.com",s="storageBucket",o=2*60*1e3,a=10*60*1e3,l=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u extends t.FirebaseError{constructor(V,ee,ie=0){super(c(V),`Firebase Storage: ${ee} (${c(V)})`),this.status_=ie,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,u.prototype)}get status(){return this.status_}set status(V){this.status_=V}_codeEquals(V){return c(V)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(V){this.customData.serverResponse=V,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}i.StorageErrorCode=void 0,function(O){O.UNKNOWN="unknown",O.OBJECT_NOT_FOUND="object-not-found",O.BUCKET_NOT_FOUND="bucket-not-found",O.PROJECT_NOT_FOUND="project-not-found",O.QUOTA_EXCEEDED="quota-exceeded",O.UNAUTHENTICATED="unauthenticated",O.UNAUTHORIZED="unauthorized",O.UNAUTHORIZED_APP="unauthorized-app",O.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",O.INVALID_CHECKSUM="invalid-checksum",O.CANCELED="canceled",O.INVALID_EVENT_NAME="invalid-event-name",O.INVALID_URL="invalid-url",O.INVALID_DEFAULT_BUCKET="invalid-default-bucket",O.NO_DEFAULT_BUCKET="no-default-bucket",O.CANNOT_SLICE_BLOB="cannot-slice-blob",O.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",O.NO_DOWNLOAD_URL="no-download-url",O.INVALID_ARGUMENT="invalid-argument",O.INVALID_ARGUMENT_COUNT="invalid-argument-count",O.APP_DELETED="app-deleted",O.INVALID_ROOT_OPERATION="invalid-root-operation",O.INVALID_FORMAT="invalid-format",O.INTERNAL_ERROR="internal-error",O.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(i.StorageErrorCode||(i.StorageErrorCode={}));function c(O){return"storage/"+O}function h(){const O="An unknown error occurred, please check the error payload for server response.";return new u(i.StorageErrorCode.UNKNOWN,O)}function f(O){return new u(i.StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+O+"' does not exist.")}function m(O){return new u(i.StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+O+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function b(){const O="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new u(i.StorageErrorCode.UNAUTHENTICATED,O)}function _(){return new u(i.StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function E(O){return new u(i.StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+O+"'.")}function k(){return new u(i.StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function j(){return new u(i.StorageErrorCode.CANCELED,"User canceled the upload/download.")}function M(O){return new u(i.StorageErrorCode.INVALID_URL,"Invalid URL '"+O+"'.")}function q(O){return new u(i.StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+O+"'.")}function J(){return new u(i.StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s+"' property when initializing the app?")}function Z(){return new u(i.StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function L(){return new u(i.StorageErrorCode.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function y(){return new u(i.StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w(O){return new u(i.StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${O} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function R(O){return new u(i.StorageErrorCode.INVALID_ARGUMENT,O)}function U(){return new u(i.StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function H(O){return new u(i.StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+O+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function B(O,V){return new u(i.StorageErrorCode.INVALID_FORMAT,"String does not match format '"+O+"': "+V)}function Oe(O){throw new u(i.StorageErrorCode.INTERNAL_ERROR,"Internal error: "+O)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(V,ee){this.bucket=V,this.path_=ee}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const V=encodeURIComponent;return"/b/"+V(this.bucket)+"/o/"+V(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(V,ee){let ie;try{ie=De.makeFromUrl(V,ee)}catch{return new De(V,"")}if(ie.path==="")return ie;throw q(V)}static makeFromUrl(V,ee){let ie=null;const ae="([A-Za-z0-9.\\-_]+)";function Te(ei){ei.path.charAt(ei.path.length-1)==="/"&&(ei.path_=ei.path_.slice(0,-1))}const et="(/(.*))?$",Nt=new RegExp("^gs://"+ae+et,"i"),Et={bucket:1,path:3};function Zt(ei){ei.path_=decodeURIComponent(ei.path)}const mn="v[A-Za-z0-9_]+",Xn=ee.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",lt=new RegExp(`^https?://${Xn}/${mn}/b/${ae}/o${T}`,"i"),di={bucket:1,path:3},ai=ee===r?"(?:storage.googleapis.com|storage.cloud.google.com)":ee,An="([^?#]*)",nt=new RegExp(`^https?://${ai}/${ae}/${An}`,"i"),hi=[{regex:Nt,indices:Et,postModify:Te},{regex:lt,indices:di,postModify:Zt},{regex:nt,indices:{bucket:1,path:2},postModify:Zt}];for(let ei=0;ei<hi.length;ei++){const Ot=hi[ei],nr=Ot.regex.exec(V);if(nr){const el=nr[Ot.indices.bucket];let As=nr[Ot.indices.path];As||(As=""),ie=new De(el,As),Ot.postModify(ie);break}}if(ie==null)throw M(V);return ie}}class tt{constructor(V){this.promise_=Promise.reject(V)}getPromise(){return this.promise_}cancel(V=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(O,V,ee){let ie=1,ae=null,Te=null,et=!1,Nt=0;function Et(){return Nt===2}let Zt=!1;function mn(...An){Zt||(Zt=!0,V.apply(null,An))}function Xn(An){ae=setTimeout(()=>{ae=null,O(lt,Et())},An)}function T(){Te&&clearTimeout(Te)}function lt(An,...nt){if(Zt){T();return}if(An){T(),mn.call(null,An,...nt);return}if(Et()||et){T(),mn.call(null,An,...nt);return}ie<64&&(ie*=2);let hi;Nt===1?(Nt=2,hi=0):hi=(ie+Math.random())*1e3,Xn(hi)}let di=!1;function ai(An){di||(di=!0,T(),!Zt&&(ae!==null?(An||(Nt=2),clearTimeout(ae),Xn(0)):An||(Nt=1)))}return Xn(0),Te=setTimeout(()=>{et=!0,ai(!0)},ee),ai}function Me(O){O(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(O){return O!==void 0}function Ue(O){return typeof O=="function"}function We(O){return typeof O=="object"&&!Array.isArray(O)}function Re(O){return typeof O=="string"||O instanceof String}function Le(O){return Ct()&&O instanceof Blob}function Ct(){return typeof Blob<"u"&&!t.isNode()}function It(O,V,ee,ie){if(ie<V)throw R(`Invalid value for '${O}'. Expected ${V} or greater.`);if(ie>ee)throw R(`Invalid value for '${O}'. Expected ${ee} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(O,V,ee){let ie=V;return ee==null&&(ie=`https://${V}`),`${ee}://${ie}/v0${O}`}function fe(O){const V=encodeURIComponent;let ee="?";for(const ie in O)if(O.hasOwnProperty(ie)){const ae=V(ie)+"="+V(O[ie]);ee=ee+ae+"&"}return ee=ee.slice(0,-1),ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(O){O[O.NO_ERROR=0]="NO_ERROR",O[O.NETWORK_ERROR=1]="NETWORK_ERROR",O[O.ABORT=2]="ABORT"})(ve||(ve={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(O,V){const ee=O>=500&&O<600,ae=[408,429].indexOf(O)!==-1,Te=V.indexOf(O)!==-1;return ee||ae||Te}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(V,ee,ie,ae,Te,et,Nt,Et,Zt,mn,Xn,T=!0){this.url_=V,this.method_=ee,this.headers_=ie,this.body_=ae,this.successCodes_=Te,this.additionalRetryCodes_=et,this.callback_=Nt,this.errorCallback_=Et,this.timeout_=Zt,this.progressCallback_=mn,this.connectionFactory_=Xn,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((lt,di)=>{this.resolve_=lt,this.reject_=di,this.start_()})}start_(){const V=(ie,ae)=>{if(ae){ie(!1,new Fe(!1,null,!0));return}const Te=this.connectionFactory_();this.pendingConnection_=Te;const et=Nt=>{const Et=Nt.loaded,Zt=Nt.lengthComputable?Nt.total:-1;this.progressCallback_!==null&&this.progressCallback_(Et,Zt)};this.progressCallback_!==null&&Te.addUploadProgressListener(et),Te.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&Te.removeUploadProgressListener(et),this.pendingConnection_=null;const Nt=Te.getErrorCode()===ve.NO_ERROR,Et=Te.getStatus();if(!Nt||Ee(Et,this.additionalRetryCodes_)&&this.retry){const mn=Te.getErrorCode()===ve.ABORT;ie(!1,new Fe(!1,null,mn));return}const Zt=this.successCodes_.indexOf(Et)!==-1;ie(!0,new Fe(Zt,Te))})},ee=(ie,ae)=>{const Te=this.resolve_,et=this.reject_,Nt=ae.connection;if(ae.wasSuccessCode)try{const Et=this.callback_(Nt,Nt.getResponse());qe(Et)?Te(Et):Te()}catch(Et){et(Et)}else if(Nt!==null){const Et=h();Et.serverResponse=Nt.getErrorText(),this.errorCallback_?et(this.errorCallback_(Nt,Et)):et(Et)}else if(ae.canceled){const Et=this.appDelete_?U():j();et(Et)}else{const Et=k();et(Et)}};this.canceled_?ee(!1,new Fe(!1,null,!0)):this.backoffId_=Ne(V,ee,this.timeout_)}getPromise(){return this.promise_}cancel(V){this.canceled_=!0,this.appDelete_=V||!1,this.backoffId_!==null&&Me(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fe{constructor(V,ee,ie){this.wasSuccessCode=V,this.connection=ee,this.canceled=!!ie}}function Vt(O,V){V!==null&&V.length>0&&(O.Authorization="Firebase "+V)}function at(O,V){O["X-Firebase-Storage-Version"]="webjs/"+(V??"AppManager")}function de(O,V){V&&(O["X-Firebase-GMPID"]=V)}function Ke(O,V){V!==null&&(O["X-Firebase-AppCheck"]=V)}function $t(O,V,ee,ie,ae,Te,et=!0){const Nt=fe(O.urlParams),Et=O.url+Nt,Zt=Object.assign({},O.headers);return de(Zt,V),Vt(Zt,ee),at(Zt,Te),Ke(Zt,ie),new $e(Et,O.method,Zt,O.body,O.successCodes,O.additionalRetryCodes,O.handler,O.errorHandler,O.timeout,O.progressCallback,ae,et)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jt(...O){const V=Jt();if(V!==void 0){const ee=new V;for(let ie=0;ie<O.length;ie++)ee.append(O[ie]);return ee.getBlob()}else{if(Ct())return new Blob(O);throw new u(i.StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yn(O,V,ee){return O.webkitSlice?O.webkitSlice(V,ee):O.mozSlice?O.mozSlice(V,ee):O.slice?O.slice(V,ee):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(O){if(typeof atob>"u")throw w("base-64");return atob(O)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ke{constructor(V,ee){this.data=V,this.contentType=ee||null}}function pt(O,V){switch(O){case re.RAW:return new ke(Wt(V));case re.BASE64:case re.BASE64URL:return new ke(le(O,V));case re.DATA_URL:return new ke(Yt(V),Cn(V))}throw h()}function Wt(O){const V=[];for(let ee=0;ee<O.length;ee++){let ie=O.charCodeAt(ee);if(ie<=127)V.push(ie);else if(ie<=2047)V.push(192|ie>>6,128|ie&63);else if((ie&64512)===55296)if(!(ee<O.length-1&&(O.charCodeAt(ee+1)&64512)===56320))V.push(239,191,189);else{const Te=ie,et=O.charCodeAt(++ee);ie=65536|(Te&1023)<<10|et&1023,V.push(240|ie>>18,128|ie>>12&63,128|ie>>6&63,128|ie&63)}else(ie&64512)===56320?V.push(239,191,189):V.push(224|ie>>12,128|ie>>6&63,128|ie&63)}return new Uint8Array(V)}function Tt(O){let V;try{V=decodeURIComponent(O)}catch{throw B(re.DATA_URL,"Malformed data URL.")}return Wt(V)}function le(O,V){switch(O){case re.BASE64:{const ae=V.indexOf("-")!==-1,Te=V.indexOf("_")!==-1;if(ae||Te)throw B(O,"Invalid character '"+(ae?"-":"_")+"' found: is it base64url encoded?");break}case re.BASE64URL:{const ae=V.indexOf("+")!==-1,Te=V.indexOf("/")!==-1;if(ae||Te)throw B(O,"Invalid character '"+(ae?"+":"/")+"' found: is it base64 encoded?");V=V.replace(/-/g,"+").replace(/_/g,"/");break}}let ee;try{ee=ne(V)}catch(ae){throw ae.message.includes("polyfill")?ae:B(O,"Invalid character found")}const ie=new Uint8Array(ee.length);for(let ae=0;ae<ee.length;ae++)ie[ae]=ee.charCodeAt(ae);return ie}class Se{constructor(V){this.base64=!1,this.contentType=null;const ee=V.match(/^data:([^,]+)?,/);if(ee===null)throw B(re.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ie=ee[1]||null;ie!=null&&(this.base64=xi(ie,";base64"),this.contentType=this.base64?ie.substring(0,ie.length-7):ie),this.rest=V.substring(V.indexOf(",")+1)}}function Yt(O){const V=new Se(O);return V.base64?le(re.BASE64,V.rest):Tt(V.rest)}function Cn(O){return new Se(O).contentType}function xi(O,V){return O.length>=V.length?O.substring(O.length-V.length)===V:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(V,ee){let ie=0,ae="";Le(V)?(this.data_=V,ie=V.size,ae=V.type):V instanceof ArrayBuffer?(ee?this.data_=new Uint8Array(V):(this.data_=new Uint8Array(V.byteLength),this.data_.set(new Uint8Array(V))),ie=this.data_.length):V instanceof Uint8Array&&(ee?this.data_=V:(this.data_=new Uint8Array(V.length),this.data_.set(V)),ie=V.length),this.size_=ie,this.type_=ae}size(){return this.size_}type(){return this.type_}slice(V,ee){if(Le(this.data_)){const ie=this.data_,ae=yn(ie,V,ee);return ae===null?null:new Gn(ae)}else{const ie=new Uint8Array(this.data_.buffer,V,ee-V);return new Gn(ie,!0)}}static getBlob(...V){if(Ct()){const ee=V.map(ie=>ie instanceof Gn?ie.data_:ie);return new Gn(jt.apply(null,ee))}else{const ee=V.map(et=>Re(et)?pt(re.RAW,et).data:et.data_);let ie=0;ee.forEach(et=>{ie+=et.byteLength});const ae=new Uint8Array(ie);let Te=0;return ee.forEach(et=>{for(let Nt=0;Nt<et.length;Nt++)ae[Te++]=et[Nt]}),new Gn(ae,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(O){let V;try{V=JSON.parse(O)}catch{return null}return We(V)?V:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(O){if(O.length===0)return null;const V=O.lastIndexOf("/");return V===-1?"":O.slice(0,V)}function os(O,V){const ee=V.split("/").filter(ie=>ie.length>0).join("/");return O.length===0?ee:O+"/"+ee}function Fs(O){const V=O.lastIndexOf("/",O.length-2);return V===-1?O:O.slice(V+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(O,V){return V}class Li{constructor(V,ee,ie,ae){this.server=V,this.local=ee||V,this.writable=!!ie,this.xform=ae||Wa}}let as=null;function rt(O){return!Re(O)||O.length<2?O:Fs(O)}function Ye(){if(as)return as;const O=[];O.push(new Li("bucket")),O.push(new Li("generation")),O.push(new Li("metageneration")),O.push(new Li("name","fullPath",!0));function V(Te,et){return rt(et)}const ee=new Li("name");ee.xform=V,O.push(ee);function ie(Te,et){return et!==void 0?Number(et):et}const ae=new Li("size");return ae.xform=ie,O.push(ae),O.push(new Li("timeCreated")),O.push(new Li("updated")),O.push(new Li("md5Hash",null,!0)),O.push(new Li("cacheControl",null,!0)),O.push(new Li("contentDisposition",null,!0)),O.push(new Li("contentEncoding",null,!0)),O.push(new Li("contentLanguage",null,!0)),O.push(new Li("contentType",null,!0)),O.push(new Li("metadata","customMetadata",!0)),as=O,as}function it(O,V){function ee(){const ie=O.bucket,ae=O.fullPath,Te=new De(ie,ae);return V._makeStorageReference(Te)}Object.defineProperty(O,"ref",{get:ee})}function mt(O,V,ee){const ie={};ie.type="file";const ae=ee.length;for(let Te=0;Te<ae;Te++){const et=ee[Te];ie[et.local]=et.xform(ie,V[et.server])}return it(ie,O),ie}function qt(O,V,ee){const ie=Bn(V);return ie===null?null:mt(O,ie,ee)}function Qt(O,V,ee,ie){const ae=Bn(V);if(ae===null||!Re(ae.downloadTokens))return null;const Te=ae.downloadTokens;if(Te.length===0)return null;const et=encodeURIComponent;return Te.split(",").map(Zt=>{const mn=O.bucket,Xn=O.fullPath,T="/b/"+et(mn)+"/o/"+et(Xn),lt=Dt(T,ee,ie),di=fe({alt:"media",token:Zt});return lt+di})[0]}function xn(O,V){const ee={},ie=V.length;for(let ae=0;ae<ie;ae++){const Te=V[ae];Te.writable&&(ee[Te.server]=O[Te.local])}return JSON.stringify(ee)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="prefixes",Hi="items";function Wr(O,V,ee){const ie={prefixes:[],items:[],nextPageToken:ee.nextPageToken};if(ee[bn])for(const ae of ee[bn]){const Te=ae.replace(/\/$/,""),et=O._makeStorageReference(new De(V,Te));ie.prefixes.push(et)}if(ee[Hi])for(const ae of ee[Hi]){const Te=O._makeStorageReference(new De(V,ae.name));ie.items.push(Te)}return ie}function Gr(O,V,ee){const ie=Bn(ee);return ie===null?null:Wr(O,V,ie)}class un{constructor(V,ee,ie,ae){this.url=V,this.method=ee,this.handler=ie,this.timeout=ae,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(O){if(!O)throw h()}function zi(O,V){function ee(ie,ae){const Te=qt(O,ae,V);return Oi(Te!==null),Te}return ee}function ls(O,V){function ee(ie,ae){const Te=Gr(O,V,ae);return Oi(Te!==null),Te}return ee}function $l(O,V){function ee(ie,ae){const Te=qt(O,ae,V);return Oi(Te!==null),Qt(Te,ae,O.host,O._protocol)}return ee}function fo(O){function V(ee,ie){let ae;return ee.getStatus()===401?ee.getErrorText().includes("Firebase App Check token is invalid")?ae=_():ae=b():ee.getStatus()===402?ae=m(O.bucket):ee.getStatus()===403?ae=E(O.path):ae=ie,ae.status=ee.getStatus(),ae.serverResponse=ie.serverResponse,ae}return V}function us(O){const V=fo(O);function ee(ie,ae){let Te=V(ie,ae);return ie.getStatus()===404&&(Te=f(O.path)),Te.serverResponse=ae.serverResponse,Te}return ee}function Nu(O,V,ee){const ie=V.fullServerUrl(),ae=Dt(ie,O.host,O._protocol),Te="GET",et=O.maxOperationRetryTime,Nt=new un(ae,Te,zi(O,ee),et);return Nt.errorHandler=us(V),Nt}function Ga(O,V,ee,ie,ae){const Te={};V.isRoot?Te.prefix="":Te.prefix=V.path+"/",ee.length>0&&(Te.delimiter=ee),ie&&(Te.pageToken=ie),ae&&(Te.maxResults=ae);const et=V.bucketOnlyServerUrl(),Nt=Dt(et,O.host,O._protocol),Et="GET",Zt=O.maxOperationRetryTime,mn=new un(Nt,Et,ls(O,V.bucket),Zt);return mn.urlParams=Te,mn.errorHandler=fo(V),mn}function Bo(O,V,ee){const ie=V.fullServerUrl(),ae=Dt(ie,O.host,O._protocol)+"?alt=media",Te="GET",et=O.maxOperationRetryTime,Nt=new un(ae,Te,(Et,Zt)=>Zt,et);return Nt.errorHandler=us(V),ee!==void 0&&(Nt.headers.Range=`bytes=0-${ee}`,Nt.successCodes=[200,206]),Nt}function Bl(O,V,ee){const ie=V.fullServerUrl(),ae=Dt(ie,O.host,O._protocol),Te="GET",et=O.maxOperationRetryTime,Nt=new un(ae,Te,$l(O,ee),et);return Nt.errorHandler=us(V),Nt}function Lr(O,V,ee,ie){const ae=V.fullServerUrl(),Te=Dt(ae,O.host,O._protocol),et="PATCH",Nt=xn(ee,ie),Et={"Content-Type":"application/json; charset=utf-8"},Zt=O.maxOperationRetryTime,mn=new un(Te,et,zi(O,ie),Zt);return mn.headers=Et,mn.body=Nt,mn.errorHandler=us(V),mn}function $s(O,V){const ee=V.fullServerUrl(),ie=Dt(ee,O.host,O._protocol),ae="DELETE",Te=O.maxOperationRetryTime;function et(Et,Zt){}const Nt=new un(ie,ae,et,Te);return Nt.successCodes=[200,204],Nt.errorHandler=us(V),Nt}function Ss(O,V){return O&&O.contentType||V&&V.type()||"application/octet-stream"}function Ka(O,V,ee){const ie=Object.assign({},ee);return ie.fullPath=O.path,ie.size=V.size(),ie.contentType||(ie.contentType=Ss(null,V)),ie}function po(O,V,ee,ie,ae){const Te=V.bucketOnlyServerUrl(),et={"X-Goog-Upload-Protocol":"multipart"};function Nt(){let hi="";for(let ei=0;ei<2;ei++)hi=hi+Math.random().toString().slice(2);return hi}const Et=Nt();et["Content-Type"]="multipart/related; boundary="+Et;const Zt=Ka(V,ie,ae),mn=xn(Zt,ee),Xn="--"+Et+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+mn+`\r
--`+Et+`\r
Content-Type: `+Zt.contentType+`\r
\r
`,T=`\r
--`+Et+"--",lt=Gn.getBlob(Xn,ie,T);if(lt===null)throw Z();const di={name:Zt.fullPath},ai=Dt(Te,O.host,O._protocol),An="POST",nt=O.maxUploadRetryTime,ct=new un(ai,An,zi(O,ee),nt);return ct.urlParams=di,ct.headers=et,ct.body=lt.uploadData(),ct.errorHandler=fo(V),ct}class go{constructor(V,ee,ie,ae){this.current=V,this.total=ee,this.finalized=!!ie,this.metadata=ae||null}}function qo(O,V){let ee=null;try{ee=O.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!ee&&(V||["active"]).indexOf(ee)!==-1),ee}function ql(O,V,ee,ie,ae){const Te=V.bucketOnlyServerUrl(),et=Ka(V,ie,ae),Nt={name:et.fullPath},Et=Dt(Te,O.host,O._protocol),Zt="POST",mn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ie.size()}`,"X-Goog-Upload-Header-Content-Type":et.contentType,"Content-Type":"application/json; charset=utf-8"},Xn=xn(et,ee),T=O.maxUploadRetryTime;function lt(ai){qo(ai);let An;try{An=ai.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(Re(An)),An}const di=new un(Et,Zt,lt,T);return di.urlParams=Nt,di.headers=mn,di.body=Xn,di.errorHandler=fo(V),di}function Uo(O,V,ee,ie){const ae={"X-Goog-Upload-Command":"query"};function Te(Zt){const mn=qo(Zt,["active","final"]);let Xn=null;try{Xn=Zt.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}Xn||Oi(!1);const T=Number(Xn);return Oi(!isNaN(T)),new go(T,ie.size(),mn==="final")}const et="POST",Nt=O.maxUploadRetryTime,Et=new un(ee,et,Te,Nt);return Et.headers=ae,Et.errorHandler=fo(V),Et}const Mu=256*1024;function ga(O,V,ee,ie,ae,Te,et,Nt){const Et=new go(0,0);if(et?(Et.current=et.current,Et.total=et.total):(Et.current=0,Et.total=ie.size()),ie.size()!==Et.total)throw L();const Zt=Et.total-Et.current;let mn=Zt;ae>0&&(mn=Math.min(mn,ae));const Xn=Et.current,T=Xn+mn;let lt="";mn===0?lt="finalize":Zt===mn?lt="upload, finalize":lt="upload";const di={"X-Goog-Upload-Command":lt,"X-Goog-Upload-Offset":`${Et.current}`},ai=ie.slice(Xn,T);if(ai===null)throw Z();function An(ei,Ot){const nr=qo(ei,["active","final"]),el=Et.current+mn,As=ie.size();let pr;return nr==="final"?pr=zi(V,Te)(ei,Ot):pr=null,new go(el,As,nr==="final",pr)}const nt="POST",ct=V.maxUploadRetryTime,hi=new un(ee,nt,An,ct);return hi.headers=di,hi.body=ai.uploadData(),hi.progressCallback=Nt||null,hi.errorHandler=fo(O),hi}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo={STATE_CHANGED:"state_changed"},Fi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vo(O){switch(O){case"running":case"pausing":case"canceling":return Fi.RUNNING;case"paused":return Fi.PAUSED;case"success":return Fi.SUCCESS;case"canceled":return Fi.CANCELED;case"error":return Fi.ERROR;default:return Fi.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(V,ee,ie){if(Ue(V)||ee!=null||ie!=null)this.next=V,this.error=ee??void 0,this.complete=ie??void 0;else{const Te=V;this.next=Te.next,this.error=Te.error,this.complete=Te.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(O){return(...V)=>{Promise.resolve().then(()=>O(...V))}}class Ho{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ve.NO_ERROR,this.sendPromise_=new Promise(V=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ve.ABORT,V()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ve.NETWORK_ERROR,V()}),this.xhr_.addEventListener("load",()=>{V()})})}send(V,ee,ie,ae){if(this.sent_)throw Oe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ee,V,!0),ae!==void 0)for(const Te in ae)ae.hasOwnProperty(Te)&&this.xhr_.setRequestHeader(Te,ae[Te].toString());return ie!==void 0?this.xhr_.send(ie):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oe("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oe("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Oe("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oe("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(V){return this.xhr_.getResponseHeader(V)}addUploadProgressListener(V){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",V)}removeUploadProgressListener(V){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",V)}}class Ul extends Ho{initXhr(){this.xhr_.responseType="text"}}function ji(){return new Ul}class ma extends Ho{initXhr(){this.xhr_.responseType="arraybuffer"}}function Di(){return new ma}class Ja extends Ho{initXhr(){this.xhr_.responseType="blob"}}function yo(){return new Ja}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(V,ee,ie=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=V,this._blob=ee,this._metadata=ie,this._mappings=Ye(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ae=>{if(this._request=void 0,this._chunkMultiplier=1,ae._codeEquals(i.StorageErrorCode.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Te=this.isExponentialBackoffExpired();if(Ee(ae.status,[]))if(Te)ae=k();else{this.sleepTime=Math.max(this.sleepTime*2,l),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=ae,this._transition("error")}},this._metadataErrorHandler=ae=>{this._request=void 0,ae._codeEquals(i.StorageErrorCode.CANCELED)?this.completeTransitions_():(this._error=ae,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ae,Te)=>{this._resolve=ae,this._reject=Te,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const V=this._transferred;return ee=>this._updateProgress(V+ee)}_shouldDoResumable(V){return V.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(V){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ee,ie])=>{switch(this._state){case"running":V(ee,ie);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((V,ee)=>{const ie=ql(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ae=this._ref.storage._makeRequest(ie,ji,V,ee);this._request=ae,ae.getPromise().then(Te=>{this._request=void 0,this._uploadUrl=Te,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const V=this._uploadUrl;this._resolveToken((ee,ie)=>{const ae=Uo(this._ref.storage,this._ref._location,V,this._blob),Te=this._ref.storage._makeRequest(ae,ji,ee,ie);this._request=Te,Te.getPromise().then(et=>{et=et,this._request=void 0,this._updateProgress(et.current),this._needToFetchStatus=!1,et.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const V=Mu*this._chunkMultiplier,ee=new go(this._transferred,this._blob.size()),ie=this._uploadUrl;this._resolveToken((ae,Te)=>{let et;try{et=ga(this._ref._location,this._ref.storage,ie,this._blob,V,this._mappings,ee,this._makeProgressCallback())}catch(Et){this._error=Et,this._transition("error");return}const Nt=this._ref.storage._makeRequest(et,ji,ae,Te,!1);this._request=Nt,Nt.getPromise().then(Et=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Et.current),Et.finalized?(this._metadata=Et.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Mu*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((V,ee)=>{const ie=Nu(this._ref.storage,this._ref._location,this._mappings),ae=this._ref.storage._makeRequest(ie,ji,V,ee);this._request=ae,ae.getPromise().then(Te=>{this._request=void 0,this._metadata=Te,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((V,ee)=>{const ie=po(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ae=this._ref.storage._makeRequest(ie,ji,V,ee);this._request=ae,ae.getPromise().then(Te=>{this._request=void 0,this._metadata=Te,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(V){const ee=this._transferred;this._transferred=V,this._transferred!==ee&&this._notifyObservers()}_transition(V){if(this._state!==V)switch(V){case"canceling":case"pausing":this._state=V,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ee=this._state==="paused";this._state=V,ee&&(this._notifyObservers(),this._start());break;case"paused":this._state=V,this._notifyObservers();break;case"canceled":this._error=j(),this._state=V,this._notifyObservers();break;case"error":this._state=V,this._notifyObservers();break;case"success":this._state=V,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const V=vo(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:V,metadata:this._metadata,task:this,ref:this._ref}}on(V,ee,ie,ae){const Te=new Er(ee||void 0,ie||void 0,ae||void 0);return this._addObserver(Te),()=>{this._removeObserver(Te)}}then(V,ee){return this._promise.then(V,ee)}catch(V){return this.then(null,V)}_addObserver(V){this._observers.push(V),this._notifyObserver(V)}_removeObserver(V){const ee=this._observers.indexOf(V);ee!==-1&&this._observers.splice(ee,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ee=>{this._notifyObserver(ee)})}_finishPromise(){if(this._resolve!==void 0){let V=!0;switch(vo(this._state)){case Fi.SUCCESS:Ts(this._resolve.bind(null,this.snapshot))();break;case Fi.CANCELED:case Fi.ERROR:const ee=this._reject;Ts(ee.bind(null,this._error))();break;default:V=!1;break}V&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(V){switch(vo(this._state)){case Fi.RUNNING:case Fi.PAUSED:V.next&&Ts(V.next.bind(V,this.snapshot))();break;case Fi.SUCCESS:V.complete&&Ts(V.complete.bind(V))();break;case Fi.CANCELED:case Fi.ERROR:V.error&&Ts(V.error.bind(V,this._error))();break;default:V.error&&Ts(V.error.bind(V,this._error))()}}resume(){const V=this._state==="paused"||this._state==="pausing";return V&&this._transition("running"),V}pause(){const V=this._state==="running";return V&&this._transition("pausing"),V}cancel(){const V=this._state==="running"||this._state==="pausing";return V&&this._transition("canceling"),V}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(V,ee){this._service=V,ee instanceof De?this._location=ee:this._location=De.makeFromUrl(ee,V.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(V,ee){return new Bs(V,ee)}get root(){const V=new De(this._location.bucket,"");return this._newRef(this._service,V)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fs(this._location.path)}get storage(){return this._service}get parent(){const V=Ir(this._location.path);if(V===null)return null;const ee=new De(this._location.bucket,V);return new Bs(this._service,ee)}_throwIfRoot(V){if(this._location.path==="")throw H(V)}}function Ya(O,V){O._throwIfRoot("getBytes");const ee=Bo(O.storage,O._location,V);return O.storage.makeRequestWithTokens(ee,Di).then(ie=>V!==void 0?ie.slice(0,V):ie)}function Za(O,V){O._throwIfRoot("getBlob");const ee=Bo(O.storage,O._location,V);return O.storage.makeRequestWithTokens(ee,yo).then(ie=>V!==void 0?ie.slice(0,V):ie)}function va(O,V,ee){O._throwIfRoot("uploadBytes");const ie=po(O.storage,O._location,Ye(),new Gn(V,!0),ee);return O.storage.makeRequestWithTokens(ie,ji).then(ae=>({metadata:ae,ref:O}))}function zo(O,V,ee){return O._throwIfRoot("uploadBytesResumable"),new bo(O,new Gn(V),ee)}function cs(O,V,ee=re.RAW,ie){O._throwIfRoot("uploadString");const ae=pt(ee,V),Te=Object.assign({},ie);return Te.contentType==null&&ae.contentType!=null&&(Te.contentType=ae.contentType),va(O,ae.data,Te)}function Kr(O){const V={prefixes:[],items:[]};return Co(O,V).then(()=>V)}async function Co(O,V,ee){const ae=await qs(O,{pageToken:ee});V.prefixes.push(...ae.prefixes),V.items.push(...ae.items),ae.nextPageToken!=null&&await Co(O,V,ae.nextPageToken)}function qs(O,V){V!=null&&typeof V.maxResults=="number"&&It("options.maxResults",1,1e3,V.maxResults);const ee=V||{},ie=Ga(O.storage,O._location,"/",ee.pageToken,ee.maxResults);return O.storage.makeRequestWithTokens(ie,ji)}function jo(O){O._throwIfRoot("getMetadata");const V=Nu(O.storage,O._location,Ye());return O.storage.makeRequestWithTokens(V,ji)}function zn(O,V){O._throwIfRoot("updateMetadata");const ee=Lr(O.storage,O._location,V,Ye());return O.storage.makeRequestWithTokens(ee,ji)}function ya(O){O._throwIfRoot("getDownloadURL");const V=Bl(O.storage,O._location,Ye());return O.storage.makeRequestWithTokens(V,ji).then(ee=>{if(ee===null)throw y();return ee})}function Us(O){O._throwIfRoot("deleteObject");const V=$s(O.storage,O._location);return O.storage.makeRequestWithTokens(V,ji)}function xs(O,V){const ee=os(O._location.path,V),ie=new De(O._location.bucket,ee);return new Bs(O.storage,ie)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(O){return/^[A-Za-z]+:\/\//.test(O)}function zl(O,V){return new Bs(O,V)}function jl(O,V){if(O instanceof Ps){const ee=O;if(ee._bucket==null)throw J();const ie=new Bs(ee,ee._bucket);return V!=null?jl(ie,V):ie}else return V!==void 0?xs(O,V):O}function Fu(O,V){if(V&&Hl(V)){if(O instanceof Ps)return zl(O,V);throw R("To use ref(service, url), the first argument must be a Storage instance.")}else return jl(O,V)}function $u(O,V){const ee=V==null?void 0:V[s];return ee==null?null:De.makeFromBucketSpec(ee,O)}function ba(O,V,ee,ie={}){O.host=`${V}:${ee}`,O._protocol="http";const{mockUserToken:ae}=ie;ae&&(O._overrideAuthToken=typeof ae=="string"?ae:t.createMockUserToken(ae,O.app.options.projectId))}class Ps{constructor(V,ee,ie,ae,Te){this.app=V,this._authProvider=ee,this._appCheckProvider=ie,this._url=ae,this._firebaseVersion=Te,this._bucket=null,this._host=r,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o,this._maxUploadRetryTime=a,this._requests=new Set,ae!=null?this._bucket=De.makeFromBucketSpec(ae,this._host):this._bucket=$u(this._host,this.app.options)}get host(){return this._host}set host(V){this._host=V,this._url!=null?this._bucket=De.makeFromBucketSpec(this._url,V):this._bucket=$u(V,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(V){It("time",0,Number.POSITIVE_INFINITY,V),this._maxUploadRetryTime=V}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(V){It("time",0,Number.POSITIVE_INFINITY,V),this._maxOperationRetryTime=V}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const V=this._authProvider.getImmediate({optional:!0});if(V){const ee=await V.getToken();if(ee!==null)return ee.accessToken}return null}async _getAppCheckToken(){const V=this._appCheckProvider.getImmediate({optional:!0});return V?(await V.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(V=>V.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(V){return new Bs(this,V)}_makeRequest(V,ee,ie,ae,Te=!0){if(this._deleted)return new tt(U());{const et=$t(V,this._appId,ie,ae,ee,this._firebaseVersion,Te);return this._requests.add(et),et.getPromise().then(()=>this._requests.delete(et),()=>this._requests.delete(et)),et}}async makeRequestWithTokens(V,ee){const[ie,ae]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(V,ee,ie,ae).getPromise()}}const Or="@firebase/storage",wo="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="storage";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(O,V){return O=t.getModularInstance(O),Ya(O,V)}function Qo(O,V,ee){return O=t.getModularInstance(O),va(O,V,ee)}function pd(O,V,ee,ie){return O=t.getModularInstance(O),cs(O,V,ee,ie)}function Bu(O,V,ee){return O=t.getModularInstance(O),zo(O,V,ee)}function qu(O){return O=t.getModularInstance(O),jo(O)}function Hs(O,V){return O=t.getModularInstance(O),zn(O,V)}function zs(O,V){return O=t.getModularInstance(O),qs(O,V)}function ds(O){return O=t.getModularInstance(O),Kr(O)}function js(O){return O=t.getModularInstance(O),ya(O)}function ks(O){return O=t.getModularInstance(O),Us(O)}function Ca(O,V){return O=t.getModularInstance(O),Fu(O,V)}function kn(O,V){return xs(O,V)}function Qs(O=e.getApp(),V){O=t.getModularInstance(O);const ie=e._getProvider(O,Rs).getImmediate({identifier:V}),ae=t.getDefaultEmulatorHostnameAndPort("storage");return ae&&Ws(ie,...ae),ie}function Ws(O,V,ee,ie={}){ba(O,V,ee,ie)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(O,V){return O=t.getModularInstance(O),Za(O,V)}function bi(O,V){throw new Error("getStream() is only supported by NodeJS builds")}function Uu(O,{instanceIdentifier:V}){const ee=O.getProvider("app").getImmediate(),ie=O.getProvider("auth-internal"),ae=O.getProvider("app-check-internal");return new Ps(ee,ie,ae,V,e.SDK_VERSION)}function gd(){e._registerComponent(new n.Component(Rs,Uu,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(Or,wo,""),e.registerVersion(Or,wo,"cjs2017")}gd(),i.StorageError=u,i.StringFormat=re,i._FbsBlob=Gn,i._Location=De,i._TaskEvent=mo,i._TaskState=Fi,i._UploadTask=bo,i._dataFromString=pt,i._getChild=kn,i._invalidArgument=R,i._invalidRootOperation=H,i.connectStorageEmulator=Ws,i.deleteObject=ks,i.getBlob=_o,i.getBytes=Xa,i.getDownloadURL=js,i.getMetadata=qu,i.getStorage=Qs,i.getStream=bi,i.list=zs,i.listAll=ds,i.ref=Ca,i.updateMetadata=Hs,i.uploadBytes=Qo,i.uploadBytesResumable=Bu,i.uploadString=pd})(Z8);(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=Z8;Object.keys(e).forEach(function(t){t!=="default"&&!i.hasOwnProperty(t)&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return e[t]}})})})(yT);var X8={},Kv={},xp={};const vde=(i,e)=>e.some(t=>i instanceof t);let _4,I4;function yde(){return _4||(_4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bde(){return I4||(I4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eD=new WeakMap,G_=new WeakMap,tD=new WeakMap,qw=new WeakMap,bT=new WeakMap;function Cde(i){const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{t(_l(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&eD.set(t,i)}).catch(()=>{}),bT.set(e,i),e}function wde(i){if(G_.has(i))return;const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});G_.set(i,e)}let K_={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return G_.get(i);if(e==="objectStoreNames")return i.objectStoreNames||tD.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _l(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _de(i){K_=i(K_)}function Ide(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(x1(this),e,...t);return tD.set(n,e.sort?e.sort():[e]),_l(n)}:bde().includes(i)?function(...e){return i.apply(x1(this),e),_l(eD.get(this))}:function(...e){return _l(i.apply(x1(this),e))}}function Ede(i){return typeof i=="function"?Ide(i):(i instanceof IDBTransaction&&wde(i),vde(i,yde())?new Proxy(i,K_):i)}function _l(i){if(i instanceof IDBRequest)return Cde(i);if(qw.has(i))return qw.get(i);const e=Ede(i);return e!==i&&(qw.set(i,e),bT.set(e,i)),e}const x1=i=>bT.get(i);function Sde(i,e,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(i,e),a=_l(o);return n&&o.addEventListener("upgradeneeded",l=>{n(_l(o.result),l.oldVersion,l.newVersion,_l(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function Tde(i,{blocked:e}={}){const t=indexedDB.deleteDatabase(i);return e&&t.addEventListener("blocked",()=>e()),_l(t).then(()=>{})}const xde=["get","getKey","getAll","getAllKeys","count"],Pde=["put","add","delete","clear"],Uw=new Map;function E4(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Uw.get(e))return Uw.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=Pde.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||xde.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),r&&l.done]))[0]};return Uw.set(e,s),s}_de(i=>({...i,get:(e,t,n)=>E4(e,t)||i.get(e,t,n),has:(e,t)=>!!E4(e,t)||i.has(e,t)}));const Rde=Object.freeze(Object.defineProperty({__proto__:null,deleteDB:Tde,openDB:Sde,unwrap:x1,wrap:_l},Symbol.toStringTag,{value:"Module"})),kde=lb(Rde);Object.defineProperty(xp,"__esModule",{value:!0});var zc=Xc,S4=Ua,nn=up,nD=bt,Ade=kde,iD="@firebase/installations",CT="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rD=1e4,sD="w:".concat(CT),oD="FIS_v2",Vde="https://firebaseinstallations.googleapis.com/v1",Lde=60*60*1e3,Ode="installations",Dde="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xu,Nde=(Xu={},Xu["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Xu["not-registered"]="Firebase Installation is not registered.",Xu["installation-not-found"]="Firebase Installation not found.",Xu["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Xu["app-offline"]="Could not process request. Application offline.",Xu["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Xu),Eu=new nD.ErrorFactory(Ode,Dde,Nde);function aD(i){return i instanceof nD.FirebaseError&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(i){var e=i.projectId;return"".concat(Vde,"/projects/").concat(e,"/installations")}function lD(i){return{token:i.token,requestStatus:2,expiresIn:Mde(i.expiresIn),creationTime:Date.now()}}function _T(i,e){return nn.__awaiter(this,void 0,void 0,function(){var t,n;return nn.__generator(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return t=r.sent(),n=t.error,[2,Eu.create("request-failed",{requestName:i,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}})})}function uD(i){var e=i.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function cD(i,e){var t=e.refreshToken,n=uD(i);return n.append("Authorization",Fde(t)),n}function IT(i){return nn.__awaiter(this,void 0,void 0,function(){var e;return nn.__generator(this,function(t){switch(t.label){case 0:return[4,i()];case 1:return e=t.sent(),e.status>=500&&e.status<600?[2,i()]:[2,e]}})})}function Mde(i){return Number(i.replace("s","000"))}function Fde(i){return"".concat(oD," ").concat(i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $de(i,e){var t=i.appConfig,n=i.heartbeatServiceProvider,r=e.fid;return nn.__awaiter(this,void 0,void 0,function(){var s,o,a,l,u,c,h,f,m;return nn.__generator(this,function(b){switch(b.label){case 0:return s=wT(t),o=uD(t),a=n.getImmediate({optional:!0}),a?[4,a.getHeartbeatsHeader()]:[3,2];case 1:l=b.sent(),l&&o.append("x-firebase-client",l),b.label=2;case 2:return u={fid:r,authVersion:oD,appId:t.appId,sdkVersion:sD},c={method:"POST",headers:o,body:JSON.stringify(u)},[4,IT(function(){return fetch(s,c)})];case 3:return h=b.sent(),h.ok?[4,h.json()]:[3,5];case 4:return f=b.sent(),m={fid:f.fid||r,registrationStatus:2,refreshToken:f.refreshToken,authToken:lD(f.authToken)},[2,m];case 5:return[4,_T("Create Installation",h)];case 6:throw b.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(i){return new Promise(function(e){setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bde(i){var e=btoa(String.fromCharCode.apply(String,nn.__spreadArray([],nn.__read(i),!1)));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qde=/^[cdef][\w-]{21}$/,J_="";function Ude(){try{var i=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(i),i[0]=112+i[0]%16;var t=Hde(i);return qde.test(t)?t:J_}catch{return J_}}function Hde(i){var e=Bde(i);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(i){return"".concat(i.appName,"!").concat(i.appId)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uf=new Map;function hD(i,e){var t=Pp(i);fD(t,e),Qde(t,e)}function zde(i,e){pD();var t=Pp(i),n=Uf.get(t);n||(n=new Set,Uf.set(t,n)),n.add(e)}function jde(i,e){var t=Pp(i),n=Uf.get(t);n&&(n.delete(e),n.size===0&&Uf.delete(t),gD())}function fD(i,e){var t,n,r=Uf.get(i);if(r)try{for(var s=nn.__values(r),o=s.next();!o.done;o=s.next()){var a=o.value;a(e)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}function Qde(i,e){var t=pD();t&&t.postMessage({key:i,fid:e}),gD()}var Ud=null;function pD(){return!Ud&&"BroadcastChannel"in self&&(Ud=new BroadcastChannel("[Firebase] FID Change"),Ud.onmessage=function(i){fD(i.data.key,i.data.fid)}),Ud}function gD(){Uf.size===0&&Ud&&(Ud.close(),Ud=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wde="firebase-installations-database",Gde=1,lh="firebase-installations-store",Hw=null;function ET(){return Hw||(Hw=Ade.openDB(Wde,Gde,{upgrade:function(i,e){switch(e){case 0:i.createObjectStore(lh)}}})),Hw}function _0(i,e){return nn.__awaiter(this,void 0,void 0,function(){var t,n,r,s,o;return nn.__generator(this,function(a){switch(a.label){case 0:return t=Pp(i),[4,ET()];case 1:return n=a.sent(),r=n.transaction(lh,"readwrite"),s=r.objectStore(lh),[4,s.get(t)];case 2:return o=a.sent(),[4,s.put(e,t)];case 3:return a.sent(),[4,r.done];case 4:return a.sent(),(!o||o.fid!==e.fid)&&hD(i,e.fid),[2,e]}})})}function ST(i){return nn.__awaiter(this,void 0,void 0,function(){var e,t,n;return nn.__generator(this,function(r){switch(r.label){case 0:return e=Pp(i),[4,ET()];case 1:return t=r.sent(),n=t.transaction(lh,"readwrite"),[4,n.objectStore(lh).delete(e)];case 2:return r.sent(),[4,n.done];case 3:return r.sent(),[2]}})})}function Jv(i,e){return nn.__awaiter(this,void 0,void 0,function(){var t,n,r,s,o,a;return nn.__generator(this,function(l){switch(l.label){case 0:return t=Pp(i),[4,ET()];case 1:return n=l.sent(),r=n.transaction(lh,"readwrite"),s=r.objectStore(lh),[4,s.get(t)];case 2:return o=l.sent(),a=e(o),a!==void 0?[3,4]:[4,s.delete(t)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(a,t)];case 5:l.sent(),l.label=6;case 6:return[4,r.done];case 7:return l.sent(),a&&(!o||o.fid!==a.fid)&&hD(i,a.fid),[2,a]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(i){return nn.__awaiter(this,void 0,void 0,function(){var e,t,n;return nn.__generator(this,function(r){switch(r.label){case 0:return[4,Jv(i.appConfig,function(s){var o=Kde(s),a=Jde(i,o);return e=a.registrationPromise,a.installationEntry})];case 1:return t=r.sent(),t.fid!==J_?[3,3]:(n={},[4,e]);case 2:return[2,(n.installationEntry=r.sent(),n)];case 3:return[2,{installationEntry:t,registrationPromise:e}]}})})}function Kde(i){var e=i||{fid:Ude(),registrationStatus:0};return mD(e)}function Jde(i,e){if(e.registrationStatus===0){if(!navigator.onLine){var t=Promise.reject(Eu.create("app-offline"));return{installationEntry:e,registrationPromise:t}}var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Yde(i,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Zde(i)}:{installationEntry:e}}function Yde(i,e){return nn.__awaiter(this,void 0,void 0,function(){var t,n;return nn.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,$de(i,e)];case 1:return t=r.sent(),[2,_0(i.appConfig,t)];case 2:return n=r.sent(),aD(n)&&n.customData.serverCode===409?[4,ST(i.appConfig)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,_0(i.appConfig,{fid:e.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw n;case 7:return[2]}})})}function Zde(i){return nn.__awaiter(this,void 0,void 0,function(){var e,t,n,r;return nn.__generator(this,function(s){switch(s.label){case 0:return[4,T4(i.appConfig)];case 1:e=s.sent(),s.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,dD(100)];case 3:return s.sent(),[4,T4(i.appConfig)];case 4:return e=s.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,TT(i)];case 6:return t=s.sent(),n=t.installationEntry,r=t.registrationPromise,r?[2,r]:[2,n];case 7:return[2,e]}})})}function T4(i){return Jv(i,function(e){if(!e)throw Eu.create("installation-not-found");return mD(e)})}function mD(i){return Xde(i)?{fid:i.fid,registrationStatus:0}:i}function Xde(i){return i.registrationStatus===1&&i.registrationTime+rD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ehe(i,e){var t=i.appConfig,n=i.heartbeatServiceProvider;return nn.__awaiter(this,void 0,void 0,function(){var r,s,o,a,l,u,c,h,f;return nn.__generator(this,function(m){switch(m.label){case 0:return r=the(t,e),s=cD(t,e),o=n.getImmediate({optional:!0}),o?[4,o.getHeartbeatsHeader()]:[3,2];case 1:a=m.sent(),a&&s.append("x-firebase-client",a),m.label=2;case 2:return l={installation:{sdkVersion:sD,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},[4,IT(function(){return fetch(r,u)})];case 3:return c=m.sent(),c.ok?[4,c.json()]:[3,5];case 4:return h=m.sent(),f=lD(h),[2,f];case 5:return[4,_T("Generate Auth Token",c)];case 6:throw m.sent()}})})}function the(i,e){var t=e.fid;return"".concat(wT(i),"/").concat(t,"/authTokens:generate")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(i,e){return e===void 0&&(e=!1),nn.__awaiter(this,void 0,void 0,function(){var t,n,r,s;return nn.__generator(this,function(o){switch(o.label){case 0:return[4,Jv(i.appConfig,function(a){if(!vD(a))throw Eu.create("not-registered");var l=a.authToken;if(!e&&rhe(l))return a;if(l.requestStatus===1)return t=nhe(i,e),a;if(!navigator.onLine)throw Eu.create("app-offline");var u=ohe(a);return t=ihe(i,u),u})];case 1:return n=o.sent(),t?[4,t]:[3,3];case 2:return s=o.sent(),[3,4];case 3:s=n.authToken,o.label=4;case 4:return r=s,[2,r]}})})}function nhe(i,e){return nn.__awaiter(this,void 0,void 0,function(){var t,n;return nn.__generator(this,function(r){switch(r.label){case 0:return[4,x4(i.appConfig)];case 1:t=r.sent(),r.label=2;case 2:return t.authToken.requestStatus!==1?[3,5]:[4,dD(100)];case 3:return r.sent(),[4,x4(i.appConfig)];case 4:return t=r.sent(),[3,2];case 5:return n=t.authToken,n.requestStatus===0?[2,xT(i,e)]:[2,n]}})})}function x4(i){return Jv(i,function(e){if(!vD(e))throw Eu.create("not-registered");var t=e.authToken;return ahe(t)?nn.__assign(nn.__assign({},e),{authToken:{requestStatus:0}}):e})}function ihe(i,e){return nn.__awaiter(this,void 0,void 0,function(){var t,r,n,r;return nn.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,ehe(i,e)];case 1:return t=s.sent(),r=nn.__assign(nn.__assign({},e),{authToken:t}),[4,_0(i.appConfig,r)];case 2:return s.sent(),[2,t];case 3:return n=s.sent(),aD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404)?[4,ST(i.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return r=nn.__assign(nn.__assign({},e),{authToken:{requestStatus:0}}),[4,_0(i.appConfig,r)];case 6:s.sent(),s.label=7;case 7:throw n;case 8:return[2]}})})}function vD(i){return i!==void 0&&i.registrationStatus===2}function rhe(i){return i.requestStatus===2&&!she(i)}function she(i){var e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+Lde}function ohe(i){var e={requestStatus:1,requestTime:Date.now()};return nn.__assign(nn.__assign({},i),{authToken:e})}function ahe(i){return i.requestStatus===1&&i.requestTime+rD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(i){return nn.__awaiter(this,void 0,void 0,function(){var e,t,n,r;return nn.__generator(this,function(s){switch(s.label){case 0:return e=i,[4,TT(e)];case 1:return t=s.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):xT(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(i,e){return e===void 0&&(e=!1),nn.__awaiter(this,void 0,void 0,function(){var t,n;return nn.__generator(this,function(r){switch(r.label){case 0:return t=i,[4,lhe(t)];case 1:return r.sent(),[4,xT(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function lhe(i){return nn.__awaiter(this,void 0,void 0,function(){var e;return nn.__generator(this,function(t){switch(t.label){case 0:return[4,TT(i)];case 1:return e=t.sent().registrationPromise,e?[4,e]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uhe(i,e){return nn.__awaiter(this,void 0,void 0,function(){var t,n,r,s;return nn.__generator(this,function(o){switch(o.label){case 0:return t=che(i,e),n=cD(i,e),r={method:"DELETE",headers:n},[4,IT(function(){return fetch(t,r)})];case 1:return s=o.sent(),s.ok?[3,3]:[4,_T("Delete Installation",s)];case 2:throw o.sent();case 3:return[2]}})})}function che(i,e){var t=e.fid;return"".concat(wT(i),"/").concat(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dhe(i){return nn.__awaiter(this,void 0,void 0,function(){var e,t;return nn.__generator(this,function(n){switch(n.label){case 0:return e=i.appConfig,[4,Jv(e,function(r){if(!(r&&r.registrationStatus===0))return r})];case 1:if(t=n.sent(),!t)return[3,6];if(t.registrationStatus!==1)return[3,2];throw Eu.create("delete-pending-registration");case 2:if(t.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Eu.create("app-offline");case 3:return[4,uhe(e,t)];case 4:return n.sent(),[4,ST(e)];case 5:n.sent(),n.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hhe(i,e){var t=i.appConfig;return zde(t,e),function(){jde(t,e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fhe(i){i===void 0&&(i=zc.getApp());var e=zc._getProvider(i,"installations").getImmediate();return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function phe(i){var e,t;if(!i||!i.options)throw zw("App Configuration");if(!i.name)throw zw("App Name");var n=["projectId","apiKey","appId"];try{for(var r=nn.__values(n),s=r.next();!s.done;s=r.next()){var o=s.value;if(!i.options[o])throw zw(o)}}catch(a){e={error:a}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function zw(i){return Eu.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CD="installations",ghe="installations-internal",mhe=function(i){var e=i.getProvider("app").getImmediate(),t=phe(e),n=zc._getProvider(e,"heartbeat"),r={app:e,appConfig:t,heartbeatServiceProvider:n,_delete:function(){return Promise.resolve()}};return r},vhe=function(i){var e=i.getProvider("app").getImmediate(),t=zc._getProvider(e,CD).getImmediate(),n={getId:function(){return yD(t)},getToken:function(r){return bD(t,r)}};return n};function yhe(){zc._registerComponent(new S4.Component(CD,mhe,"PUBLIC")),zc._registerComponent(new S4.Component(ghe,vhe,"PRIVATE"))}yhe();zc.registerVersion(iD,CT);zc.registerVersion(iD,CT,"cjs5");xp.deleteInstallations=dhe;xp.getId=yD;xp.getInstallations=fhe;xp.getToken=bD;xp.onIdChange=hhe;Object.defineProperty(Kv,"__esModule",{value:!0});var jc=bt,wD=kv,Qc=up,df=Xc,bhe=Ua,P4="@firebase/performance",Y_="0.6.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _D=Y_,Che="FB-PERF-TRACE-START",whe="FB-PERF-TRACE-STOP",Z_="FB-PERF-TRACE-MEASURE",ID="_wt_",ED="_fp",SD="_fcp",TD="_fid",xD="@firebase/performance/config",PD="@firebase/performance/configexpire",_he="performance",RD="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr,Ihe=(Dr={},Dr["trace started"]="Trace {$traceName} was started before.",Dr["trace stopped"]="Trace {$traceName} is not running.",Dr["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Dr["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Dr["no window"]="Window is not available.",Dr["no app id"]="App id is not available.",Dr["no project id"]="Project id is not available.",Dr["no api key"]="Api key is not available.",Dr["invalid cc log"]="Attempted to queue invalid cc event",Dr["FB not default"]="Performance can only start when Firebase app instance is the default one.",Dr["RC response not ok"]="RC response is not ok",Dr["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Dr["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Dr["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Dr["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Dr["already initialized"]="initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance.",Dr),Xr=new jc.ErrorFactory(_he,RD,Ihe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ol=new wD.Logger(RD);Ol.logLevel=wD.LogLevel.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jw,kD,ws=function(){function i(e){if(this.window=e,!e)throw Xr.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return i.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},i.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},i.prototype.measure=function(e,t,n){!this.performance||!this.performance.measure||this.performance.measure(e,t,n)},i.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},i.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},i.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},i.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!jc.areCookiesEnabled()?(Ol.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):jc.isIndexedDBAvailable()?!0:(Ol.info("IndexedDB is not supported by current browswer"),!1)},i.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver(function(r){for(var s=0,o=r.getEntries();s<o.length;s++){var a=o[s];t(a)}});n.observe({entryTypes:[e]})}},i.getInstance=function(){return jw===void 0&&(jw=new i(kD)),jw},i}();function Ehe(i){kD=i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AD;function She(i){var e=i.getId();return e.then(function(t){AD=t}),e}function PT(){return AD}function The(i){var e=i.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(i,e){var t=i.length-e.length;if(t<0||t>1)throw Xr.create("invalid String merger input");for(var n=[],r=0;r<i.length;r++)n.push(i.charAt(r)),e.length>r&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qw,Da=function(){function i(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=R4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=R4("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return i.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},i.getInstance=function(){return Qw===void 0&&(Qw=new i),Qw},i}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hf;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.VISIBLE=1]="VISIBLE",i[i.HIDDEN=2]="HIDDEN"})(hf||(hf={}));var xhe=["firebase_","google_","ga_"],Phe=new RegExp("^[a-zA-Z]\\w*$"),Rhe=40,khe=100;function Ahe(){var i=ws.getInstance().navigator;return i!=null&&i.serviceWorker?i.serviceWorker.controller?2:3:1}function VD(){var i=ws.getInstance().document,e=i.visibilityState;switch(e){case"visible":return hf.VISIBLE;case"hidden":return hf.HIDDEN;default:return hf.UNKNOWN}}function Vhe(){var i=ws.getInstance().navigator,e=i.connection,t=e&&e.effectiveType;switch(t){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Lhe(i){if(i.length===0||i.length>Rhe)return!1;var e=xhe.some(function(t){return i.startsWith(t)});return!e&&!!i.match(Phe)}function Ohe(i){return i.length!==0&&i.length<=khe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(i){var e,t=(e=i.options)===null||e===void 0?void 0:e.appId;if(!t)throw Xr.create("no app id");return t}function Dhe(i){var e,t=(e=i.options)===null||e===void 0?void 0:e.projectId;if(!t)throw Xr.create("no project id");return t}function Nhe(i){var e,t=(e=i.options)===null||e===void 0?void 0:e.apiKey;if(!t)throw Xr.create("no api key");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mhe="0.0.1",Ia={loggingEnabled:!0},Fhe="FIREBASE_INSTALLATIONS_AUTH";function $he(i,e){var t=Bhe();return t?(k4(t),Promise.resolve()):Hhe(i,e).then(k4).then(function(n){return qhe(n)},function(){})}function Bhe(){var i=ws.getInstance().localStorage;if(i){var e=i.getItem(PD);if(!(!e||!zhe(e))){var t=i.getItem(xD);if(t)try{var n=JSON.parse(t);return n}catch{return}}}}function qhe(i){var e=ws.getInstance().localStorage;!i||!e||(e.setItem(xD,JSON.stringify(i)),e.setItem(PD,String(Date.now()+Da.getInstance().configTimeToLive*60*60*1e3)))}var Uhe="Could not fetch config, will use default configs";function Hhe(i,e){return The(i.installations).then(function(t){var n=Dhe(i.app),r=Nhe(i.app),s="https://firebaseremoteconfig.googleapis.com/v1/projects/".concat(n,"/namespaces/fireperf:fetch?key=").concat(r),o=new Request(s,{method:"POST",headers:{Authorization:"".concat(Fhe," ").concat(t)},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:LD(i.app),app_version:_D,sdk_version:Mhe})});return fetch(o).then(function(a){if(a.ok)return a.json();throw Xr.create("RC response not ok")})}).catch(function(){Ol.info(Uhe)})}function k4(i){if(!i)return i;var e=Da.getInstance(),t=i.entries||{};return t.fpr_enabled!==void 0?e.loggingEnabled=String(t.fpr_enabled)==="true":e.loggingEnabled=Ia.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Ia.logSource&&(e.logSource=Ia.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Ia.logEndPointUrl&&(e.logEndPointUrl=Ia.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Ia.transportKey&&(e.transportKey=Ia.transportKey),t.fpr_vc_network_request_sampling_rate!==void 0?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):Ia.networkRequestsSamplingRate!==void 0&&(e.networkRequestsSamplingRate=Ia.networkRequestsSamplingRate),t.fpr_vc_trace_sampling_rate!==void 0?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):Ia.tracesSamplingRate!==void 0&&(e.tracesSamplingRate=Ia.tracesSamplingRate),e.logTraceAfterSampling=A4(e.tracesSamplingRate),e.logNetworkAfterSampling=A4(e.networkRequestsSamplingRate),i}function zhe(i){return Number(i)>Date.now()}function A4(i){return Math.random()<=i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RT=1,Ww;function OD(i){return RT=2,Ww=Ww||Qhe(i),Ww}function jhe(){return RT===3}function Qhe(i){return Whe().then(function(){return She(i.installations)}).then(function(e){return $he(i,e)}).then(function(){return V4()},function(){return V4()})}function Whe(){var i=ws.getInstance().document;return new Promise(function(e){if(i&&i.readyState!=="complete"){var t=function(){i.readyState==="complete"&&(i.removeEventListener("readystatechange",t),e())};i.addEventListener("readystatechange",t)}else e()})}function V4(){RT=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kT=10*1e3,Ghe=5.5*1e3,DD=3,Khe=1e3,I0=DD,Rc=[],L4=!1;function Jhe(){L4||(fC(Ghe),L4=!0)}function fC(i){setTimeout(function(){if(I0!==0){if(!Rc.length)return fC(kT);Yhe()}},i)}function Yhe(){var i=Rc.splice(0,Khe),e=i.map(function(n){return{source_extension_json_proto3:n.message,event_time_ms:String(n.eventTime)}}),t={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Da.getInstance().logSource,log_event:e};Zhe(t,i).catch(function(){Rc=Qc.__spreadArray(Qc.__spreadArray([],i,!0),Rc,!0),I0--,Ol.info("Tries left: ".concat(I0,".")),fC(kT)})}function Zhe(i,e){return Xhe(i).then(function(t){return t.ok||Ol.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=kT;isNaN(n)||(r=Math.max(n,r));var s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Rc=Qc.__spreadArray(Qc.__spreadArray([],e,!0),Rc,!0),Ol.info("Retry transport request later.")),I0=DD,fC(r)})}function Xhe(i){var e=Da.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(i)})}function efe(i){if(!i.eventTime||!i.message)throw Xr.create("invalid cc log");Rc=Qc.__spreadArray(Qc.__spreadArray([],Rc,!0),[i],!1)}function tfe(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.apply(void 0,e);efe({message:n,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gw;function ND(i,e){Gw||(Gw=tfe(ife)),Gw(i,e)}function Vy(i){var e=Da.getInstance();!e.instrumentationEnabled&&i.isAuto||!e.dataCollectionEnabled&&!i.isAuto||ws.getInstance().requiredApisAvailable()&&(i.isAuto&&VD()!==hf.VISIBLE||(jhe()?Kw(i):OD(i.performanceController).then(function(){return Kw(i)},function(){return Kw(i)})))}function Kw(i){if(PT()){var e=Da.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return ND(i,1)},0)}}function nfe(i){var e=Da.getInstance();if(e.instrumentationEnabled){var t=i.url,n=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];t===n||t===r||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return ND(i,0)},0)}}function ife(i,e){return e===0?rfe(i):sfe(i)}function rfe(i){var e={url:i.url,http_method:i.httpMethod||0,http_response_code:200,response_payload_bytes:i.responsePayloadBytes,client_start_time_us:i.startTimeUs,time_to_response_initiated_us:i.timeToResponseInitiatedUs,time_to_response_completed_us:i.timeToResponseCompletedUs},t={application_info:MD(i.performanceController.app),network_request_metric:e};return JSON.stringify(t)}function sfe(i){var e={name:i.name,is_auto:i.isAuto,client_start_time_us:i.startTimeUs,duration_us:i.durationUs};Object.keys(i.counters).length!==0&&(e.counters=i.counters);var t=i.getAttributes();Object.keys(t).length!==0&&(e.custom_attributes=t);var n={application_info:MD(i.performanceController.app),trace_metric:e};return JSON.stringify(n)}function MD(i){return{google_app_id:LD(i),app_instance_id:PT(),web_app_info:{sdk_version:_D,page_url:ws.getInstance().getUrl(),service_worker_status:Ahe(),visibility_state:VD(),effective_connection_type:Vhe()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ofe=100,afe="_",lfe=[ED,SD,TD];function ufe(i,e){return i.length===0||i.length>ofe?!1:e&&e.startsWith(ID)&&lfe.indexOf(i)>-1||!i.startsWith(afe)}function cfe(i){var e=Math.floor(i);return e<i&&Ol.info("Metric value should be an Integer, setting the value as : ".concat(e,".")),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tm=function(){function i(e,t,n,r){n===void 0&&(n=!1),this.performanceController=e,this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=ws.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark="".concat(Che,"-").concat(this.randomId,"-").concat(this.name),this.traceStopMark="".concat(whe,"-").concat(this.randomId,"-").concat(this.name),this.traceMeasure=r||"".concat(Z_,"-").concat(this.randomId,"-").concat(this.name),r&&this.calculateTraceMetrics())}return i.prototype.start=function(){if(this.state!==1)throw Xr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},i.prototype.stop=function(){if(this.state!==2)throw Xr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Vy(this)},i.prototype.record=function(e,t,n){if(e<=0)throw Xr.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Xr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(t*1e3),this.startTimeUs=Math.floor(e*1e3),n&&n.attributes&&(this.customAttributes=Qc.__assign({},n.attributes)),n&&n.metrics)for(var r=0,s=Object.keys(n.metrics);r<s.length;r++){var o=s[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Math.floor(Number(n.metrics[o])))}Vy(this)},i.prototype.incrementMetric=function(e,t){t===void 0&&(t=1),this.counters[e]===void 0?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},i.prototype.putMetric=function(e,t){if(ufe(e,this.name))this.counters[e]=cfe(t??0);else throw Xr.create("invalid custom metric name",{customMetricName:e})},i.prototype.getMetric=function(e){return this.counters[e]||0},i.prototype.putAttribute=function(e,t){var n=Lhe(e),r=Ohe(t);if(n&&r){this.customAttributes[e]=t;return}if(!n)throw Xr.create("invalid attribute name",{attributeName:e});if(!r)throw Xr.create("invalid attribute value",{attributeValue:t})},i.prototype.getAttribute=function(e){return this.customAttributes[e]},i.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},i.prototype.getAttributes=function(){return Qc.__assign({},this.customAttributes)},i.prototype.setStartTime=function(e){this.startTimeUs=e},i.prototype.setDuration=function(e){this.durationUs=e},i.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(t.duration*1e3),this.startTimeUs=Math.floor((t.startTime+this.api.getTimeOrigin())*1e3))},i.createOobTrace=function(e,t,n,r){var s=ws.getInstance().getUrl();if(s){var o=new i(e,ID+s,!0),a=Math.floor(ws.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(t[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",u="first-contentful-paint";if(n){var c=n.find(function(f){return f.name===l});c&&c.startTime&&o.putMetric(ED,Math.floor(c.startTime*1e3));var h=n.find(function(f){return f.name===u});h&&h.startTime&&o.putMetric(SD,Math.floor(h.startTime*1e3)),r&&o.putMetric(TD,Math.floor(r*1e3))}Vy(o)}},i.createUserTimingTrace=function(e,t){var n=new i(e,t,!1,t);Vy(n)},i}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(i,e){var t=e;if(!(!t||t.responseStart===void 0)){var n=ws.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),s=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,o=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={performanceController:i,url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o};nfe(l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dfe=5e3;function D4(i){PT()&&(setTimeout(function(){return ffe(i)},0),setTimeout(function(){return hfe(i)},0),setTimeout(function(){return pfe(i)},0))}function hfe(i){for(var e=ws.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var s=r[n];O4(i,s)}e.setupObserver("resource",function(o){return O4(i,o)})}function ffe(i){var e=ws.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){tm.createOobTrace(i,t,n),r=void 0},dfe);e.onFirstInputDelay(function(s){r&&(clearTimeout(r),tm.createOobTrace(i,t,n,s))})}else tm.createOobTrace(i,t,n)}function pfe(i){for(var e=ws.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var s=r[n];N4(i,s)}e.setupObserver("measure",function(o){return N4(i,o)})}function N4(i,e){var t=e.name;t.substring(0,Z_.length)!==Z_&&tm.createUserTimingTrace(i,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gfe=function(){function i(e,t){this.app=e,this.installations=t,this.initialized=!1}return i.prototype._init=function(e){var t=this;this.initialized||((e==null?void 0:e.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=e.dataCollectionEnabled),(e==null?void 0:e.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=e.instrumentationEnabled),ws.getInstance().requiredApisAvailable()?jc.validateIndexedDBOpenable().then(function(n){n&&(Jhe(),OD(t).then(function(){return D4(t)},function(){return D4(t)}),t.initialized=!0)}).catch(function(n){Ol.info("Environment doesn't support IndexedDB: ".concat(n))}):Ol.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))},Object.defineProperty(i.prototype,"instrumentationEnabled",{get:function(){return Da.getInstance().instrumentationEnabled},set:function(e){Da.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataCollectionEnabled",{get:function(){return Da.getInstance().dataCollectionEnabled},set:function(e){Da.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),i}(),mfe="[DEFAULT]";function vfe(i){i===void 0&&(i=df.getApp()),i=jc.getModularInstance(i);var e=df._getProvider(i,"performance"),t=e.getImmediate();return t}function yfe(i,e){i=jc.getModularInstance(i);var t=df._getProvider(i,"performance");if(t.isInitialized()){var n=t.getImmediate(),r=t.getOptions();if(jc.deepEqual(r,e??{}))return n;throw Xr.create("already initialized")}var s=t.initialize({options:e});return s}function bfe(i,e){return i=jc.getModularInstance(i),new tm(i,e)}var Cfe=function(i,e){var t=e.options,n=i.getProvider("app").getImmediate(),r=i.getProvider("installations-internal").getImmediate();if(n.name!==mfe)throw Xr.create("FB not default");if(typeof window>"u")throw Xr.create("no window");Ehe(window);var s=new gfe(n,r);return s._init(t),s};function wfe(){df._registerComponent(new bhe.Component("performance",Cfe,"PUBLIC")),df.registerVersion(P4,Y_),df.registerVersion(P4,Y_,"cjs5")}wfe();Kv.getPerformance=vfe;Kv.initializePerformance=yfe;Kv.trace=bfe;(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=Kv;Object.keys(e).forEach(function(t){t!=="default"&&!i.hasOwnProperty(t)&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return e[t]}})})})(X8);var _fe=Lb,Ife=jE,Efe=QE,Sfe=wv,Tfe=VE,xfe=Ob,Pfe=200;function Rfe(i,e,t,n){var r=-1,s=Ife,o=!0,a=i.length,l=[],u=e.length;if(!a)return l;t&&(e=Sfe(e,Tfe(t))),n?(s=Efe,o=!1):e.length>=Pfe&&(s=xfe,o=!1,e=new _fe(e));e:for(;++r<a;){var c=i[r],h=t==null?c:t(c);if(c=n||c!==0?c:0,o&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;l.push(c)}else s(e,h,n)||l.push(c)}return l}var FD=Rfe,kfe=FD,Afe=HE,Vfe=Iv,M4=Sv,Lfe=Vfe(function(i,e){return M4(i)?kfe(i,Afe(e,1,M4,!0)):[]}),Ofe=Lfe,Dfe=Ab;function Nfe(){this.__data__=new Dfe,this.size=0}var Mfe=Nfe;function Ffe(i){var e=this.__data__,t=e.delete(i);return this.size=e.size,t}var $fe=Ffe;function Bfe(i){return this.__data__.get(i)}var qfe=Bfe;function Ufe(i){return this.__data__.has(i)}var Hfe=Ufe,zfe=Ab,jfe=OE,Qfe=zE,Wfe=200;function Gfe(i,e){var t=this.__data__;if(t instanceof zfe){var n=t.__data__;if(!jfe||n.length<Wfe-1)return n.push([i,e]),this.size=++t.size,this;t=this.__data__=new Qfe(n)}return t.set(i,e),this.size=t.size,this}var Kfe=Gfe,Jfe=Ab,Yfe=Mfe,Zfe=$fe,Xfe=qfe,epe=Hfe,tpe=Kfe;function Rp(i){var e=this.__data__=new Jfe(i);this.size=e.size}Rp.prototype.clear=Yfe;Rp.prototype.delete=Zfe;Rp.prototype.get=Xfe;Rp.prototype.has=epe;Rp.prototype.set=tpe;var AT=Rp;function npe(i,e){for(var t=-1,n=i==null?0:i.length;++t<n;)if(e(i[t],t,i))return!0;return!1}var ipe=npe,rpe=Lb,spe=ipe,ope=Ob,ape=1,lpe=2;function upe(i,e,t,n,r,s){var o=t&ape,a=i.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(i),c=s.get(e);if(u&&c)return u==e&&c==i;var h=-1,f=!0,m=t&lpe?new rpe:void 0;for(s.set(i,e),s.set(e,i);++h<a;){var b=i[h],_=e[h];if(n)var E=o?n(_,b,h,e,i,s):n(b,_,h,i,e,s);if(E!==void 0){if(E)continue;f=!1;break}if(m){if(!spe(e,function(k,j){if(!ope(m,j)&&(b===k||r(b,k,t,n,s)))return m.push(j)})){f=!1;break}}else if(!(b===_||r(b,_,t,n,s))){f=!1;break}}return s.delete(i),s.delete(e),f}var $D=upe,cpe=Nl,dpe=cpe.Uint8Array,BD=dpe,F4=vv,$4=BD,hpe=Ev,fpe=$D,ppe=k9,gpe=WE,mpe=1,vpe=2,ype="[object Boolean]",bpe="[object Date]",Cpe="[object Error]",wpe="[object Map]",_pe="[object Number]",Ipe="[object RegExp]",Epe="[object Set]",Spe="[object String]",Tpe="[object Symbol]",xpe="[object ArrayBuffer]",Ppe="[object DataView]",B4=F4?F4.prototype:void 0,Jw=B4?B4.valueOf:void 0;function Rpe(i,e,t,n,r,s,o){switch(t){case Ppe:if(i.byteLength!=e.byteLength||i.byteOffset!=e.byteOffset)return!1;i=i.buffer,e=e.buffer;case xpe:return!(i.byteLength!=e.byteLength||!s(new $4(i),new $4(e)));case ype:case bpe:case _pe:return hpe(+i,+e);case Cpe:return i.name==e.name&&i.message==e.message;case Ipe:case Spe:return i==e+"";case wpe:var a=ppe;case Epe:var l=n&mpe;if(a||(a=gpe),i.size!=e.size&&!l)return!1;var u=o.get(i);if(u)return u==e;n|=vpe,o.set(i,e);var c=fpe(a(i),a(e),n,r,s,o);return o.delete(i),c;case Tpe:if(Jw)return Jw.call(i)==Jw.call(e)}return!1}var kpe=Rpe,Ape=F3,Vpe=qa;function Lpe(i,e,t){var n=e(i);return Vpe(i)?n:Ape(n,t(i))}var Ope=Lpe;function Dpe(i,e){for(var t=-1,n=i==null?0:i.length,r=0,s=[];++t<n;){var o=i[t];e(o,t,i)&&(s[r++]=o)}return s}var Npe=Dpe;function Mpe(){return[]}var Fpe=Mpe,$pe=Npe,Bpe=Fpe,qpe=Object.prototype,Upe=qpe.propertyIsEnumerable,q4=Object.getOwnPropertySymbols,Hpe=q4?function(i){return i==null?[]:(i=Object(i),$pe(q4(i),function(e){return Upe.call(i,e)}))}:Bpe,zpe=Hpe,jpe=Ope,Qpe=zpe,Wpe=bb;function Gpe(i){return jpe(i,Wpe,Qpe)}var Kpe=Gpe,U4=Kpe,Jpe=1,Ype=Object.prototype,Zpe=Ype.hasOwnProperty;function Xpe(i,e,t,n,r,s){var o=t&Jpe,a=U4(i),l=a.length,u=U4(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in e:Zpe.call(e,f)))return!1}var m=s.get(i),b=s.get(e);if(m&&b)return m==e&&b==i;var _=!0;s.set(i,e),s.set(e,i);for(var E=o;++h<l;){f=a[h];var k=i[f],j=e[f];if(n)var M=o?n(j,k,f,e,i,s):n(k,j,f,i,e,s);if(!(M===void 0?k===j||r(k,j,t,n,s):M)){_=!1;break}E||(E=f=="constructor")}if(_&&!E){var q=i.constructor,J=e.constructor;q!=J&&"constructor"in i&&"constructor"in e&&!(typeof q=="function"&&q instanceof q&&typeof J=="function"&&J instanceof J)&&(_=!1)}return s.delete(i),s.delete(e),_}var ege=Xpe,Yw=AT,tge=$D,nge=kpe,ige=ege,H4=DE,z4=qa,j4=mb,rge=vb,sge=1,Q4="[object Arguments]",W4="[object Array]",Ly="[object Object]",oge=Object.prototype,G4=oge.hasOwnProperty;function age(i,e,t,n,r,s){var o=z4(i),a=z4(e),l=o?W4:H4(i),u=a?W4:H4(e);l=l==Q4?Ly:l,u=u==Q4?Ly:u;var c=l==Ly,h=u==Ly,f=l==u;if(f&&j4(i)){if(!j4(e))return!1;o=!0,c=!1}if(f&&!c)return s||(s=new Yw),o||rge(i)?tge(i,e,t,n,r,s):nge(i,e,l,t,n,r,s);if(!(t&sge)){var m=c&&G4.call(i,"__wrapped__"),b=h&&G4.call(e,"__wrapped__");if(m||b){var _=m?i.value():i,E=b?e.value():e;return s||(s=new Yw),r(_,E,t,n,s)}}return f?(s||(s=new Yw),ige(i,e,t,n,r,s)):!1}var lge=age,uge=lge,K4=yh;function qD(i,e,t,n,r){return i===e?!0:i==null||e==null||!K4(i)&&!K4(e)?i!==i&&e!==e:uge(i,e,t,n,qD,r)}var VT=qD,cge=VT;function dge(i,e){return cge(i,e)}var UD=dge;const _Ue=Mo(UD);var hge=E9,fge=hge(Object.getPrototypeOf,Object),HD=fge,pge=ip,gge=HD,mge=yh,vge="[object Object]",yge=Function.prototype,bge=Object.prototype,zD=yge.toString,Cge=bge.hasOwnProperty,wge=zD.call(Object);function _ge(i){if(!mge(i)||pge(i)!=vge)return!1;var e=gge(i);if(e===null)return!0;var t=Cge.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&zD.call(t)==wge}var jD=_ge,J4=q3;function Ige(i,e,t){e=="__proto__"&&J4?J4(i,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):i[e]=t}var pC=Ige,Ege=pC,Sge=Ev;function Tge(i,e,t){(t!==void 0&&!Sge(i[e],t)||t===void 0&&!(e in i))&&Ege(i,e,t)}var QD=Tge,E0={exports:{}};E0.exports;(function(i,e){var t=Nl,n=e&&!e.nodeType&&e,r=n&&!0&&i&&!i.nodeType&&i,s=r&&r.exports===n,o=s?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,f=a?a(h):new u.constructor(h);return u.copy(f),f}i.exports=l})(E0,E0.exports);var xge=E0.exports,Y4=BD;function Pge(i){var e=new i.constructor(i.byteLength);return new Y4(e).set(new Y4(i)),e}var Rge=Pge,kge=Rge;function Age(i,e){var t=e?kge(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.length)}var Vge=Age;function Lge(i,e){var t=-1,n=i.length;for(e||(e=Array(n));++t<n;)e[t]=i[t];return e}var Oge=Lge,Dge=Tu,Z4=Object.create,Nge=function(){function i(){}return function(e){if(!Dge(e))return{};if(Z4)return Z4(e);i.prototype=e;var t=new i;return i.prototype=void 0,t}}(),Mge=Nge,Fge=Mge,$ge=HD,Bge=yb;function qge(i){return typeof i.constructor=="function"&&!Bge(i)?Fge($ge(i)):{}}var Uge=qge;function Hge(i,e){if(!(e==="constructor"&&typeof i[e]=="function")&&e!="__proto__")return i[e]}var WD=Hge,zge=pC,jge=Ev,Qge=Object.prototype,Wge=Qge.hasOwnProperty;function Gge(i,e,t){var n=i[e];(!(Wge.call(i,e)&&jge(n,t))||t===void 0&&!(e in i))&&zge(i,e,t)}var GD=Gge,Kge=GD,Jge=pC;function Yge(i,e,t,n){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=n?n(t[a],i[a],a,t,i):void 0;l===void 0&&(l=i[a]),r?Jge(t,a,l):Kge(t,a,l)}return t}var KD=Yge;function Zge(i){var e=[];if(i!=null)for(var t in Object(i))e.push(t);return e}var Xge=Zge,eme=Tu,tme=yb,nme=Xge,ime=Object.prototype,rme=ime.hasOwnProperty;function sme(i){if(!eme(i))return nme(i);var e=tme(i),t=[];for(var n in i)n=="constructor"&&(e||!rme.call(i,n))||t.push(n);return t}var ome=sme,ame=I9,lme=ome,ume=Cv;function cme(i){return ume(i)?ame(i,!0):lme(i)}var LT=cme,dme=KD,hme=LT;function fme(i){return dme(i,hme(i))}var pme=fme,X4=QD,gme=xge,mme=Vge,vme=Oge,yme=Uge,ek=yv,tk=qa,bme=Sv,Cme=mb,wme=LE,_me=Tu,Ime=jD,Eme=vb,nk=WD,Sme=pme;function Tme(i,e,t,n,r,s,o){var a=nk(i,t),l=nk(e,t),u=o.get(l);if(u){X4(i,t,u);return}var c=s?s(a,l,t+"",i,e,o):void 0,h=c===void 0;if(h){var f=tk(l),m=!f&&Cme(l),b=!f&&!m&&Eme(l);c=l,f||m||b?tk(a)?c=a:bme(a)?c=vme(a):m?(h=!1,c=gme(l,!0)):b?(h=!1,c=mme(l,!0)):c=[]:Ime(l)||ek(l)?(c=a,ek(a)?c=Sme(a):(!_me(a)||wme(a))&&(c=yme(l))):h=!1}h&&(o.set(l,c),r(c,l,n,s,o),o.delete(l)),X4(i,t,c)}var xme=Tme,Pme=AT,Rme=QD,kme=b9,Ame=xme,Vme=Tu,Lme=LT,Ome=WD;function JD(i,e,t,n,r){i!==e&&kme(e,function(s,o){if(r||(r=new Pme),Vme(s))Ame(i,e,o,t,JD,n,r);else{var a=n?n(Ome(i,o),s,o+"",i,e,r):void 0;a===void 0&&(a=s),Rme(i,o,a)}},Lme)}var Dme=JD,Nme=Ev,Mme=Cv,Fme=bv,$me=Tu;function Bme(i,e,t){if(!$me(t))return!1;var n=typeof e;return(n=="number"?Mme(t)&&Fme(e,t.length):n=="string"&&e in t)?Nme(t[e],i):!1}var qme=Bme,Ume=Iv,Hme=qme;function zme(i){return Ume(function(e,t){var n=-1,r=t.length,s=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(s=i.length>3&&typeof s=="function"?(r--,s):void 0,o&&Hme(t[0],t[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++n<r;){var a=t[n];a&&i(e,a,n,s)}return e})}var YD=zme,jme=Dme,Qme=YD,Wme=Qme(function(i,e,t,n){jme(i,e,t,n)}),Gme=Wme,Kme=AT,Jme=VT,Yme=1,Zme=2;function Xme(i,e,t,n){var r=t.length,s=r,o=!n;if(i==null)return!s;for(i=Object(i);r--;){var a=t[r];if(o&&a[2]?a[1]!==i[a[0]]:!(a[0]in i))return!1}for(;++r<s;){a=t[r];var l=a[0],u=i[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in i))return!1}else{var h=new Kme;if(n)var f=n(u,c,l,i,e,h);if(!(f===void 0?Jme(c,u,Yme|Zme,n,h):f))return!1}}return!0}var eve=Xme,tve=Tu;function nve(i){return i===i&&!tve(i)}var ZD=nve,ive=ZD,rve=bb;function sve(i){for(var e=rve(i),t=e.length;t--;){var n=e[t],r=i[n];e[t]=[n,r,ive(r)]}return e}var ove=sve;function ave(i,e){return function(t){return t==null?!1:t[i]===e&&(e!==void 0||i in Object(t))}}var XD=ave,lve=eve,uve=ove,cve=XD;function dve(i){var e=uve(i);return e.length==1&&e[0][2]?cve(e[0][0],e[0][1]):function(t){return t===i||lve(t,i,e)}}var hve=dve;function fve(i,e){return i!=null&&e in Object(i)}var pve=fve,gve=Tv,mve=yv,vve=qa,yve=bv,bve=AE,Cve=lp;function wve(i,e,t){e=gve(e,i);for(var n=-1,r=e.length,s=!1;++n<r;){var o=Cve(e[n]);if(!(s=i!=null&&t(i,o)))break;i=i[o]}return s||++n!=r?s:(r=i==null?0:i.length,!!r&&bve(r)&&yve(o,r)&&(vve(i)||mve(i)))}var _ve=wve,Ive=pve,Eve=_ve;function Sve(i,e){return i!=null&&Eve(i,e,Ive)}var eN=Sve,Tve=VT,xve=Mb,Pve=eN,Rve=KE,kve=ZD,Ave=XD,Vve=lp,Lve=1,Ove=2;function Dve(i,e){return Rve(i)&&kve(e)?Ave(Vve(i),e):function(t){var n=xve(t,i);return n===void 0&&n===e?Pve(t,i):Tve(e,n,Lve|Ove)}}var Nve=Dve;function Mve(i){return function(e){return e==null?void 0:e[i]}}var Fve=Mve,$ve=Nb;function Bve(i){return function(e){return $ve(e,i)}}var qve=Bve,Uve=Fve,Hve=qve,zve=KE,jve=lp;function Qve(i){return zve(i)?Uve(jve(i)):Hve(i)}var Wve=Qve,Gve=hve,Kve=Nve,Jve=Cb,Yve=qa,Zve=Wve;function Xve(i){return typeof i=="function"?i:i==null?Jve:typeof i=="object"?Yve(i)?Kve(i[0],i[1]):Gve(i):Zve(i)}var tN=Xve;function eye(i){var e=i==null?0:i.length;return e?i[e-1]:void 0}var nN=eye;const tye=Mo(nN);function nye(i,e,t){var n=-1,r=i.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(r);++n<r;)s[n]=i[n+e];return s}var iye=nye,rye=Nb,sye=iye;function oye(i,e){return e.length<2?i:rye(i,sye(e,0,-1))}var aye=oye,lye=Tv,uye=nN,cye=aye,dye=lp;function hye(i,e){return e=lye(e,i),i=cye(i,e),i==null||delete i[dye(uye(e))]}var fye=hye,pye=fye,gye=bv,mye=Array.prototype,vye=mye.splice;function yye(i,e){for(var t=i?e.length:0,n=t-1;t--;){var r=e[t];if(t==n||r!==s){var s=r;gye(r)?vye.call(i,r,1):pye(i,r)}}return i}var bye=yye,Cye=tN,wye=bye;function _ye(i,e){var t=[];if(!(i&&i.length))return t;var n=-1,r=[],s=i.length;for(e=Cye(e);++n<s;){var o=i[n];e(o,n,i)&&(t.push(o),r.push(n))}return wye(i,r),t}var Iye=_ye;const Eye=lb(PB);var iN={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(i){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?i:{})})(function(e){e.version="1.2.2";function t(){for(var y=0,w=new Array(256),R=0;R!=256;++R)y=R,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,w[R]=y;return typeof Int32Array<"u"?new Int32Array(w):w}var n=t();function r(y){var w=0,R=0,U=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)H[U]=y[U];for(U=0;U!=256;++U)for(R=y[U],w=256+U;w<4096;w+=256)R=H[w]=R>>>8^y[R&255];var B=[];for(U=1;U!=16;++U)B[U-1]=typeof Int32Array<"u"?H.subarray(U*256,U*256+256):H.slice(U*256,U*256+256);return B}var s=r(n),o=s[0],a=s[1],l=s[2],u=s[3],c=s[4],h=s[5],f=s[6],m=s[7],b=s[8],_=s[9],E=s[10],k=s[11],j=s[12],M=s[13],q=s[14];function J(y,w){for(var R=w^-1,U=0,H=y.length;U<H;)R=R>>>8^n[(R^y.charCodeAt(U++))&255];return~R}function Z(y,w){for(var R=w^-1,U=y.length-15,H=0;H<U;)R=q[y[H++]^R&255]^M[y[H++]^R>>8&255]^j[y[H++]^R>>16&255]^k[y[H++]^R>>>24]^E[y[H++]]^_[y[H++]]^b[y[H++]]^m[y[H++]]^f[y[H++]]^h[y[H++]]^c[y[H++]]^u[y[H++]]^l[y[H++]]^a[y[H++]]^o[y[H++]]^n[y[H++]];for(U+=15;H<U;)R=R>>>8^n[(R^y[H++])&255];return~R}function L(y,w){for(var R=w^-1,U=0,H=y.length,B=0,Oe=0;U<H;)B=y.charCodeAt(U++),B<128?R=R>>>8^n[(R^B)&255]:B<2048?(R=R>>>8^n[(R^(192|B>>6&31))&255],R=R>>>8^n[(R^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,Oe=y.charCodeAt(U++)&1023,R=R>>>8^n[(R^(240|B>>8&7))&255],R=R>>>8^n[(R^(128|B>>2&63))&255],R=R>>>8^n[(R^(128|Oe>>6&15|(B&3)<<4))&255],R=R>>>8^n[(R^(128|Oe&63))&255]):(R=R>>>8^n[(R^(224|B>>12&15))&255],R=R>>>8^n[(R^(128|B>>6&63))&255],R=R>>>8^n[(R^(128|B&63))&255]);return~R}e.table=n,e.bstr=J,e.buf=Z,e.str=L})})(iN);(function(i){var e=Zi&&Zi.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(i,"__esModule",{value:!0}),i.getTreeTableOrgs=i.crc32String=i.mergeGameParams=i.emptyOrgList=i.emptyOrg=i.initializeFirebaseProject=i.AuthPersistence=i.safeInitializeApp=i.replaceValues=i.removeUndefined=i.removeNull=void 0;const t=Y8,n=Fb,r=mT,s=yT,o=X8,a=e(Ofe),l=e(Mb),u=e(qE),c=e(UD),h=e(jD),f=e(Gme),m=e(Iye),b=Eye,_=iN,E=wh,k=B=>Object.fromEntries(Object.entries(B).filter(([Oe,De])=>De!==null));i.removeNull=k;const j=B=>Object.fromEntries(Object.entries(B).filter(([Oe,De])=>De!==void 0));i.removeUndefined=j;const M=(B,Oe=void 0,De=null)=>Object.fromEntries(Object.entries(B).map(([tt,Ne])=>(0,h.default)(Ne)?[tt,(0,i.replaceValues)(Ne,Oe,De)]:[tt,Ne===Oe?De:Ne]));i.replaceValues=M;const q=(B,Oe)=>{try{const De=(0,t.getApp)(Oe);if(!(0,c.default)(De.options,B))throw new Error(`There is an existing firebase app named ${Oe} with different configuration options.`);return De}catch(De){if(De.code==="app/no-app")return(0,t.initializeApp)(B,Oe);throw De}};i.safeInitializeApp=q;var J;(function(B){B.local="local",B.session="session",B.none="none"})(J=i.AuthPersistence||(i.AuthPersistence={}));const Z=async(B,Oe,De,tt=J.session,Ne={})=>{const Me=(qe,Ue)=>(0,l.default)(Ne,qe)?(0,b.markRaw)(Ue):Ue;if(De){console.log("Initializing Firebase emulator",De);const qe=(0,t.initializeApp)({projectId:De?"demo-emulator":B.projectId,apiKey:B.apiKey},Oe),Ue=Me("auth",(0,n.getAuth)(qe)),We=Me("db",(0,E.getFirestore)(qe)),Re=Me("functions",(0,r.getFunctions)(qe)),Le=Me("storage",(0,s.getStorage)(qe));(0,E.connectFirestoreEmulator)(We,De.firestore.host,De.firestore.port),(0,r.connectFunctionsEmulator)(Re,De.functions.host,De.functions.port);const Ct=console.info;return console.info=()=>{},(0,n.connectAuthEmulator)(Ue,`http://${De.auth.host}:${De.auth.port}`),console.info=Ct,{firebaseApp:qe,auth:Ue,db:We,functions:Re,storage:Le}}else{const{...qe}=B,Ue=(0,i.safeInitializeApp)(qe,Oe);let We;try{We=(0,o.getPerformance)(Ue)}catch(Le){if(Le.code!=="performance/FB not default")throw Le}const Re={firebaseApp:Ue,auth:Me("auth",(0,n.getAuth)(Ue)),db:Me("db",(0,E.getFirestore)(Ue)),functions:Me("functions",(0,r.getFunctions)(Ue)),storage:Me("storage",(0,s.getStorage)(Ue)),perf:We};return tt===J.session?await(0,n.setPersistence)(Re.auth,n.browserSessionPersistence):tt===J.local?await(0,n.setPersistence)(Re.auth,n.browserLocalPersistence):tt===J.none&&await(0,n.setPersistence)(Re.auth,n.inMemoryPersistence),Re}};i.initializeFirebaseProject=Z;const L=()=>({current:[],all:[],dates:{}});i.emptyOrg=L;const y=()=>({districts:[],schools:[],classes:[],groups:[],families:[]});i.emptyOrgList=y;const w=(B,Oe)=>{let De=!1;const tt=(qe,Ue,We)=>{if(qe===null||(0,c.default)(qe,Ue))return Ue;if(qe===void 0&&Ue!==void 0)return De=!0,Ue;throw new Error(`Attempted to change previously non-null value with key ${We}`)},Ne=(0,f.default)({...B},Oe,tt),Me=(0,a.default)(Object.keys(Ne),Object.keys(Oe));if(!(0,u.default)(Me))throw new Error(`Detected deleted keys: ${Me.join(", ")}`);return{keysAdded:De,merged:Ne}};i.mergeGameParams=w;const R=B=>{const Oe=(tt,Ne)=>tt-Math.floor(tt/Ne)*Ne;return(tt=>Oe(tt,Math.pow(2,32)))((0,_.str)(B)).toString(16)};i.crc32String=R;const U=(B,Oe,De=0)=>B.map((tt,Ne)=>({key:(Ne+De).toString(),data:{...tt,orgType:Oe}})),H=B=>{const{districts:Oe=[],schools:De=[],classes:tt=[],groups:Ne=[],families:Me=[]}=B,qe=U(Oe,"district"),Ue=U(De,"school"),We=U(tt,"class");let Re=[];if(Oe.length){Re=qe;for(const It of Ue){const Dt=It.data.districtId,fe=Re.findIndex(Ee=>Ee.data.id===Dt),ve=(0,m.default)(We,Ee=>Ee.data.schoolId===It.data.id);if(fe!==-1){const Ee=Re[fe];Ee.children===void 0?Re[fe].children=[{...It,key:`${Ee.key}-0`,...ve.length>0&&{children:ve.map(($e,Fe)=>({key:`${Ee.key}-0-${Fe}`,data:$e.data}))}}]:Re[fe].children.push({...It,key:`${Ee.key}-${Ee.children.length}`,...ve.length>0&&{children:ve.map(($e,Fe)=>({key:`${Ee.key}-${Ee.children.length}-${Fe}`,data:$e.data}))}})}else Re.push({...It,key:`${Re.length}`,...ve.length>0&&{children:ve.map((Ee,$e)=>({key:`${Re.length}-${$e}`,data:Ee.data}))}})}for(const It of We){const Dt=It.data.districtId,fe=Re.findIndex(ve=>ve.data.id===Dt);if(fe!==-1){const ve=Re[fe];ve.children===void 0?Re[fe].children=[{key:`${ve.key}-0`,data:It.data}]:Re[fe].children.push({key:`${ve.key}-${ve.children.length}`,data:It.data})}else Re.push({key:`${Re.length}`,data:It.data})}}else if(De.length){Re=Ue;for(const It of We){const Dt=It.data.schoolId,fe=Re.findIndex(ve=>ve.data.id===Dt);if(fe!==-1){const ve=Re[fe];ve.children===void 0?Re[fe].children=[{...It,key:`${ve.key}-0`}]:Re[fe].children.push({...It,key:`${ve.key}-${ve.children.length}`})}else Re.push({...It,key:`${Re.length}`})}}else tt.length&&(Re=We);const Le=U(Ne,"group",Re.length);Re.push(...Le);const Ct=U(Me,"family",Re.length);return Re.push(...Ct),Re};i.getTreeTableOrgs=H})(Sh);var Yv={},rN={},Sye=Lb,Tye=jE,xye=QE,Pye=wv,Rye=VE,ik=Ob,kye=Math.min;function Aye(i,e,t){for(var n=t?xye:Tye,r=i[0].length,s=i.length,o=s,a=Array(s),l=1/0,u=[];o--;){var c=i[o];o&&e&&(c=Pye(c,Rye(e))),l=kye(c.length,l),a[o]=!t&&(e||r>=120&&c.length>=120)?new Sye(o&&c):void 0}c=i[0];var h=-1,f=a[0];e:for(;++h<r&&u.length<l;){var m=c[h],b=e?e(m):m;if(m=t||m!==0?m:0,!(f?ik(f,b):n(u,b,t))){for(o=s;--o;){var _=a[o];if(!(_?ik(_,b):n(i[o],b,t)))continue e}f&&f.push(b),u.push(m)}}return u}var Vye=Aye,Lye=Sv;function Oye(i){return Lye(i)?i:[]}var Dye=Oye,Nye=wv,Mye=Vye,Fye=Iv,$ye=Dye,Bye=Fye(function(i){var e=Nye(i,$ye);return e.length&&e[0]===i[0]?Mye(e):[]}),sN=Bye;const IUe=Mo(sN);var qye=pC,Uye=T9,Hye=tN;function zye(i,e){var t={};return e=Hye(e),Uye(i,function(n,r,s){qye(t,r,e(n,r,s))}),t}var oN=zye;const kp=Mo(oN);var jye=GD,Qye=Tv,Wye=bv,rk=Tu,Gye=lp;function Kye(i,e,t,n){if(!rk(i))return i;e=Qye(e,i);for(var r=-1,s=e.length,o=s-1,a=i;a!=null&&++r<s;){var l=Gye(e[r]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return i;if(r!=o){var c=a[l];u=n?n(c,l,a):void 0,u===void 0&&(u=rk(c)?c:Wye(e[r+1])?[]:{})}jye(a,l,u),a=a[l]}return i}var aN=Kye,Jye=Nb,Yye=aN,Zye=Tv;function Xye(i,e,t){for(var n=-1,r=e.length,s={};++n<r;){var o=e[n],a=Jye(i,o);t(a,o)&&Yye(s,Zye(o,i),a)}return s}var e1e=Xye,t1e=e1e,n1e=eN;function i1e(i,e){return t1e(i,e,function(t,n){return n1e(i,n)})}var r1e=i1e,s1e=HE;function o1e(i){var e=i==null?0:i.length;return e?s1e(i,1):[]}var lN=o1e;const EUe=Mo(lN);var a1e=lN,l1e=B3,u1e=U3;function c1e(i){return u1e(l1e(i,void 0,a1e),i+"")}var d1e=c1e,h1e=r1e,f1e=d1e,p1e=f1e(function(i,e){return i==null?{}:h1e(i,e)}),g1e=p1e,m1e=aN;function v1e(i,e,t){return i==null?i:m1e(i,e,t)}var y1e=v1e;function Th(i,e){var t,n;if(typeof e=="function")n=e(i),n!==void 0&&(i=n);else if(Array.isArray(e))for(t=0;t<e.length;t++)n=e[t](i),n!==void 0&&(i=n);return i}function b1e(i,e){return i[0]==="-"&&Array.isArray(e)&&/^-\d+$/.test(i)?e.length+parseInt(i,10):i}function C1e(i){return/^\d+$/.test(i)}function P1(i){return Object.prototype.toString.call(i)==="[object Object]"}function Ig(i){return Object(i)===i}function R1(i){return Object.keys(i).length===0}var w1e=["__proto__","prototype","constructor"],_1e=function(i){return w1e.indexOf(i)===-1};function gC(i,e){i.indexOf("[")>=0&&(i=i.replace(/\[/g,e).replace(/]/g,""));var t=i.split(e),n=t.filter(_1e);if(n.length!==t.length)throw Error("Refusing to update blacklisted property "+i);return t}var sk=Object.prototype.hasOwnProperty;function $n(i,e,t,n){if(!(this instanceof $n))return new $n(i,e,t,n);typeof e>"u"&&(e=!1),typeof t>"u"&&(t=!0),typeof n>"u"&&(n=!0),this.separator=i||".",this.override=e,this.useArray=t,this.useBrackets=n,this.keepArray=!1,this.cleanup=[]}var Hf=new $n(".",!1,!0,!0);function Ha(i){return function(){return Hf[i].apply(Hf,arguments)}}$n.prototype._fill=function(i,e,t,n){var r=i.shift();if(i.length>0){if(e[r]=e[r]||(this.useArray&&C1e(i[0])?[]:{}),!Ig(e[r]))if(this.override)e[r]={};else{if(!(Ig(t)&&R1(t)))throw new Error("Trying to redefine `"+r+"` which is a "+typeof e[r]);return}this._fill(i,e[r],t,n)}else{if(!this.override&&Ig(e[r])&&!R1(e[r])){if(!(Ig(t)&&R1(t)))throw new Error("Trying to redefine non-empty obj['"+r+"']");return}e[r]=Th(t,n)}};$n.prototype.object=function(i,e){var t=this;return Object.keys(i).forEach(function(n){var r=e===void 0?null:e[n],s=gC(n,t.separator).join(t.separator);s.indexOf(t.separator)!==-1?(t._fill(s.split(t.separator),i,i[n],r),delete i[n]):i[n]=Th(i[n],r)}),i};$n.prototype.str=function(i,e,t,n){var r=gC(i,this.separator).join(this.separator);return i.indexOf(this.separator)!==-1?this._fill(r.split(this.separator),t,e,n):t[i]=Th(e,n),t};$n.prototype.pick=function(i,e,t,n){var r,s,o,a,l;for(s=gC(i,this.separator),r=0;r<s.length;r++)if(a=b1e(s[r],e),e&&typeof e=="object"&&a in e){if(r===s.length-1)return t?(o=e[a],n&&Array.isArray(e)?e.splice(a,1):delete e[a],Array.isArray(e)&&(l=s.slice(0,-1).join("."),this.cleanup.indexOf(l)===-1&&this.cleanup.push(l)),o):e[a];e=e[a]}else return;return t&&Array.isArray(e)&&(e=e.filter(function(u){return u!==void 0})),e};$n.prototype.delete=function(i,e){return this.remove(i,e,!0)};$n.prototype.remove=function(i,e,t){var n;if(this.cleanup=[],Array.isArray(i)){for(n=0;n<i.length;n++)this.pick(i[n],e,!0,t);return t||this._cleanup(e),e}else return this.pick(i,e,!0,t)};$n.prototype._cleanup=function(i){var e,t,n,r;if(this.cleanup.length){for(t=0;t<this.cleanup.length;t++)n=this.cleanup[t].split("."),r=n.splice(0,-1).join("."),e=r?this.pick(r,i):i,e=e[n[0]].filter(function(s){return s!==void 0}),this.set(this.cleanup[t],e,i);this.cleanup=[]}};$n.prototype.del=$n.prototype.remove;$n.prototype.move=function(i,e,t,n,r){return typeof n=="function"||Array.isArray(n)?this.set(e,Th(this.pick(i,t,!0),n),t,r):(r=n,this.set(e,this.pick(i,t,!0),t,r)),t};$n.prototype.transfer=function(i,e,t,n,r,s){return typeof r=="function"||Array.isArray(r)?this.set(e,Th(this.pick(i,t,!0),r),n,s):(s=r,this.set(e,this.pick(i,t,!0),n,s)),n};$n.prototype.copy=function(i,e,t,n,r,s){return typeof r=="function"||Array.isArray(r)?this.set(e,Th(JSON.parse(JSON.stringify(this.pick(i,t,!1))),r),n,s):(s=r,this.set(e,this.pick(i,t,!1),n,s)),n};$n.prototype.set=function(i,e,t,n){var r,s,o,a;if(typeof e>"u")return t;for(o=gC(i,this.separator),r=0;r<o.length;r++){if(a=o[r],r===o.length-1)if(n&&P1(e)&&P1(t[a]))for(s in e)sk.call(e,s)&&(t[a][s]=e[s]);else if(n&&Array.isArray(t[a])&&Array.isArray(e))for(var l=0;l<e.length;l++)t[o[r]].push(e[l]);else t[a]=e;else(!sk.call(t,a)||!P1(t[a])&&!Array.isArray(t[a]))&&(/^\d+$/.test(o[r+1])?t[a]=[]:t[a]={});t=t[a]}return t};$n.prototype.transform=function(i,e,t){return e=e||{},t=t||{},Object.keys(i).forEach((function(n){this.set(i[n],this.pick(n,e),t)}).bind(this)),t};$n.prototype.dot=function(i,e,t){e=e||{},t=t||[];var n=Array.isArray(i);return Object.keys(i).forEach((function(r){var s=n&&this.useBrackets?"["+r+"]":r;if(Ig(i[r])&&(P1(i[r])&&!R1(i[r])||Array.isArray(i[r])&&!this.keepArray&&i[r].length!==0))if(n&&this.useBrackets){var o=t[t.length-1]||"";return this.dot(i[r],e,t.slice(0,-1).concat(o+s))}else return this.dot(i[r],e,t.concat(s));else n&&this.useBrackets?e[t.join(this.separator).concat("["+r+"]")]=i[r]:e[t.concat(s).join(this.separator)]=i[r]}).bind(this)),e};$n.pick=Ha("pick");$n.move=Ha("move");$n.transfer=Ha("transfer");$n.transform=Ha("transform");$n.copy=Ha("copy");$n.object=Ha("object");$n.str=Ha("str");$n.set=Ha("set");$n.delete=Ha("delete");$n.del=$n.remove=Ha("remove");$n.dot=Ha("dot");["override","overwrite"].forEach(function(i){Object.defineProperty($n,i,{get:function(){return Hf.override},set:function(e){Hf.override=!!e}})});["useArray","keepArray","useBrackets"].forEach(function(i){Object.defineProperty($n,i,{get:function(){return Hf[i]},set:function(e){Hf[i]=e}})});$n._process=Th;var I1e=$n;(function(i){var e=Zi&&Zi.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(i,"__esModule",{value:!0}),i.RoarRun=i.convertTrialToFirestore=void 0;const t=wh,n=e(sN),r=e(oN),s=e(g1e),o=e(y1e),a=e(I1e),l=Sh,u=m=>(0,l.removeUndefined)(Object.fromEntries(Object.entries(m).map(([b,_])=>_ instanceof URL?[b,_.toString()]:typeof _=="object"&&_!==null?[b,(0,i.convertTrialToFirestore)(_)]:[b,_])));i.convertTrialToFirestore=u;const c=["assessment_stage","correct"],h=m=>m??null;class f{constructor({user:b,task:_,assigningOrgs:E,readOrgs:k,assignmentId:j,runId:M,testData:q=!1,demoData:J=!1}){if(this.user=b,this.task=_,this.assigningOrgs=E,this.readOrgs=k??E,this.assignmentId=j,this.testData=q,this.demoData=J,M?this.runRef=(0,t.doc)(this.user.userRef,"runs",M):this.runRef=(0,t.doc)((0,t.collection)(this.user.userRef,"runs")),!this.task.taskRef)throw new Error("Task refs not set. Please use the task.setRefs method first.");this.started=!1,this.completed=!1,this.aborted=!1,this.scores={raw:{},computed:{}}}async startRun(b){var q,J;await this.user.checkUserExists(),this.task.variantRef||await this.task.toFirestore();const _=await(0,t.getDoc)(this.user.userRef);if(!_.exists())throw new Error("User does not exist");if(this.assigningOrgs){const Z=_.data(),L=(0,s.default)(Z,Object.keys(this.assigningOrgs));for(const y of Object.keys(L))this.assigningOrgs[y]=(0,n.default)((q=L[y])==null?void 0:q.current,this.assigningOrgs[y]),this.readOrgs&&(this.readOrgs[y]=(0,n.default)((J=L[y])==null?void 0:J.current,this.readOrgs[y]))}const E=(0,s.default)(_.data(),["grade","assessmentPid","assessmentUid","birthMonth","birthYear","schoolLevel"]),{testData:k,demoData:j}=_.data();k&&(this.testData=!0),j&&(this.demoData=!0);const M={...b,id:this.runRef.id,assignmentId:this.assignmentId??null,assigningOrgs:this.assigningOrgs??null,readOrgs:this.readOrgs??null,taskId:this.task.taskId,taskVersion:this.task.taskVersion,variantId:this.task.variantId,completed:!1,timeStarted:(0,t.serverTimestamp)(),timeFinished:null,reliable:!1,userData:E,...this.testData&&{testData:!0},...this.demoData&&{demoData:!0}};await(0,t.setDoc)(this.runRef,(0,l.removeUndefined)(M)).then(()=>(0,t.updateDoc)(this.user.userRef,{tasks:(0,t.arrayUnion)(this.task.taskId),variants:(0,t.arrayUnion)(this.task.variantId)})).then(()=>this.user.updateFirestoreTimestamp()),this.started=!0}async addEngagementFlags(b,_=!1,E=void 0){if(!this.started)throw new Error("Run has not been started yet. Use the startRun method first.");const k=b.reduce((j,M)=>(j[M]=!0,j),{});if(this.aborted)throw new Error("Run has already been aborted.");return E===void 0?await(0,t.updateDoc)(this.runRef,{engagementFlags:k,reliable:_}):await(0,t.updateDoc)(this.runRef,{engagementFlags:k,reliable:_,reliableByBlock:E})}async finishRun(b={}){if(!this.started)throw new Error("Run has not been started yet. Use the startRun method first.");if(!this.aborted){const _={...b,completed:!0,timeFinished:(0,t.serverTimestamp)()};return await(0,t.updateDoc)(this.runRef,_).then(()=>this.user.updateFirestoreTimestamp()).then(()=>this.completed=!0)}}abortRun(){if(!this.started)throw new Error("Run has not been started yet. Use the startRun method first.");this.aborted=!0}async writeTrial(b,_){if(!this.started)throw new Error("Run has not been started yet. Use the startRun method first.");if(!this.aborted){if(!c.every(k=>k in b&&b[k]!=null))throw new Error(`All ROAR trials saved to Firestore must have the following reserved keys: ${c}.The current trial is missing the following required keys: ${c.filter(k=>!(k in b))}.`);const E=(0,t.doc)((0,t.collection)(this.runRef,"trials"));return(0,t.setDoc)(E,{...(0,i.convertTrialToFirestore)(b),taskId:this.task.taskId,...this.testData&&{testData:!0},...this.demoData&&{demoData:!0},serverTimestamp:(0,t.serverTimestamp)(),createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()}).then(async()=>{var k,j,M,q,J,Z;if(b.assessment_stage==="test_response"||b.assessment_stage==="practice_response"){const L="composite",y=b.subtask||L,w=b.assessment_stage.split("_")[0];let R={};y in this.scores.raw?(this.scores.raw[y][w]={thetaEstimate:h(b.thetaEstimate),thetaSE:h(b.thetaSE),numAttempted:(((k=this.scores.raw[y][w])==null?void 0:k.numAttempted)||0)+1,numCorrect:(((j=this.scores.raw[y][w])==null?void 0:j.numCorrect)||0)+ +!!b.correct,numIncorrect:(((M=this.scores.raw[y][w])==null?void 0:M.numIncorrect)||0)+ +!b.correct},R={[`scores.raw.${y}.${w}.thetaEstimate`]:h(b.thetaEstimate),[`scores.raw.${y}.${w}.thetaSE`]:h(b.thetaSE),[`scores.raw.${y}.${w}.numAttempted`]:(0,t.increment)(1),[`scores.raw.${y}.${w}.numCorrect`]:b.correct?(0,t.increment)(1):void 0,[`scores.raw.${y}.${w}.numIncorrect`]:b.correct?void 0:(0,t.increment)(1)},y!==L&&(this.scores.raw[L][w]={numAttempted:(((q=this.scores.raw[L][w])==null?void 0:q.numAttempted)||0)+1,numCorrect:(((J=this.scores.raw[L][w])==null?void 0:J.numCorrect)||0)+ +!!b.correct,numIncorrect:(((Z=this.scores.raw[L][w])==null?void 0:Z.numIncorrect)||0)+ +!b.correct,thetaEstimate:null,thetaSE:null},R={...R,[`scores.raw.${L}.${w}.numAttempted`]:(0,t.increment)(1),[`scores.raw.${L}.${w}.numCorrect`]:b.correct?(0,t.increment)(1):void 0,[`scores.raw.${L}.${w}.numIncorrect`]:b.correct?void 0:(0,t.increment)(1)})):((0,o.default)(this.scores.raw,[y,w],{thetaEstimate:h(b.thetaEstimate),thetaSE:h(b.thetaSE),numAttempted:1,numCorrect:b.correct?1:0,numIncorrect:b.correct?0:1}),R={[`scores.raw.${y}.${w}.thetaEstimate`]:h(b.thetaEstimate),[`scores.raw.${y}.${w}.thetaSE`]:h(b.thetaSE),[`scores.raw.${y}.${w}.numAttempted`]:1,[`scores.raw.${y}.${w}.numCorrect`]:b.correct?1:0,[`scores.raw.${y}.${w}.numIncorrect`]:b.correct?0:1},y!==L&&((0,o.default)(this.scores.raw,[L,w],{numAttempted:1,numCorrect:b.correct?1:0,numIncorrect:b.correct?0:1,thetaEstimate:null,thetaSE:null}),R={...R,[`scores.raw.${L}.${w}.numAttempted`]:(0,t.increment)(1),[`scores.raw.${L}.${w}.numCorrect`]:b.correct?(0,t.increment)(1):void 0,[`scores.raw.${L}.${w}.numIncorrect`]:b.correct?void 0:(0,t.increment)(1)})),_?this.scores.computed=await _(this.scores.raw):this.scores.computed=(0,r.default)(this.scores.raw,H=>{var De,tt;const B=((De=H.test)==null?void 0:De.numCorrect)||0,Oe=((tt=H.test)==null?void 0:tt.numIncorrect)||0;return B-Oe});const U={scores:{computed:this.scores.computed}};return R={...R,...a.default.dot(U)},(0,t.updateDoc)(this.runRef,(0,l.removeUndefined)(R)).catch(H=>{throw H.message.toLowerCase().includes("unsupported field value: undefined")?new Error("The computed or normed scores that you provided contained an undefined value. Firestore does not support storing undefined values. Please remove this value or convert it to ``null``."):H})}}).then(()=>{this.user.updateFirestoreTimestamp()})}}}i.RoarRun=f})(rN);var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.RoarTaskVariant=void 0;const sr=wh,Mh=Sh;class E1e{constructor({db:e,taskId:t,taskName:n,taskDescription:r,taskImage:s,taskURL:o,gameConfig:a,taskVersion:l=void 0,registered:u,external:c,variantName:h,variantParams:f={}}){this.db=e,this.taskId=t.toLowerCase(),this.taskName=n,this.taskDescription=r,this.taskImage=s,this.taskURL=o,this.taskVersion=l,this.gameConfig=a,this.registered=u,this.external=c,this.variantName=h,this.variantParams=f,this.taskRef=(0,sr.doc)(this.db,"tasks",this.taskId),this.variantsCollectionRef=(0,sr.collection)(this.taskRef,"variants"),this.variantId=void 0,this.variantRef=void 0}async toFirestore(){var a;const t=(await(0,sr.getDoc)(this.taskRef)).exists(),n={name:this.taskName,description:this.taskDescription,image:this.taskImage,taskURL:this.taskURL,gameConfig:this.gameConfig,registered:this.registered,external:this.external,lastUpdated:(0,sr.serverTimestamp)(),updatedAt:(0,sr.serverTimestamp)(),...!t&&{createdAt:(0,sr.serverTimestamp)()}};try{await(0,sr.setDoc)(this.taskRef,(0,Mh.removeUndefined)(n),{merge:!0})}catch(l){throw console.error("RoarTaskVariant toFirestore: error saving task to firestore",{error:l,errorMessage:l instanceof Error?l.message:String(l),errorCode:l==null?void 0:l.code,taskId:this.taskId,taskRefPath:(a=this.taskRef)==null?void 0:a.path}),l}const r=(0,sr.query)(this.variantsCollectionRef,(0,sr.where)("params","==",this.variantParams),(0,sr.orderBy)("updatedAt","desc"),(0,sr.limit)(1)),s=await(0,sr.getDocs)(r);let o=!1;if(s.forEach(l=>{this.variantId=l.id,this.variantRef=(0,sr.doc)(this.variantsCollectionRef,this.variantId),o=!0,(0,sr.updateDoc)(this.variantRef,(0,Mh.removeUndefined)({lastUpdated:(0,sr.serverTimestamp)(),updatedAt:(0,sr.serverTimestamp)()}))}),!o){const l={name:this.variantName,taskURL:this.taskURL,registered:this.registered,external:this.external,params:this.variantParams,lastUpdated:(0,sr.serverTimestamp)(),createdAt:(0,sr.serverTimestamp)(),updatedAt:(0,sr.serverTimestamp)()};this.variantRef=(0,sr.doc)(this.variantsCollectionRef),await(0,sr.setDoc)(this.variantRef,(0,Mh.removeUndefined)(l)),this.variantId=this.variantRef.id}}async updateTaskParams(e){if(this.variantRef===void 0)throw new Error("Cannot update task params before writing task to Firestore. Please call `.toFirestore()` first.");const t=(0,Mh.replaceValues)(this.variantParams),n=(0,Mh.replaceValues)(e),{merged:r}=(0,Mh.mergeGameParams)(t,n);this.variantParams=r,await this.toFirestore()}}Ap.RoarTaskVariant=E1e;var Zv={},S1e=KD,T1e=YD,x1e=LT,P1e=T1e(function(i,e){S1e(e,x1e(e),i)}),R1e=P1e,k1e=R1e,uN={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.UserType=void 0,function(t){t.admin="admin",t.super_admin="super_admin",t.student="student",t.caregiver="caregiver",t.teacher="teacher",t.guest="guest"}(i.UserType||(i.UserType={}));var e;(function(t){t.LESS_THAN="LESS_THAN",t.GREATER_THAN="GREATER_THAN",t.LESS_THAN_OR_EQUAL="LESS_THAN_OR_EQUAL",t.GREATER_THAN_OR_EQUAL="GREATER_THAN_OR_EQUAL",t.EQUAL="EQUAL",t.NOT_EQUAL="NOT_EQUAL"})(e||(e={}))})(uN);var A1e=Zi&&Zi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Zv,"__esModule",{value:!0});Zv.RoarAppUser=void 0;const Eo=wh,V1e=A1e(k1e),ec=uN,ok=Sh;class L1e{constructor({db:e,roarUid:t,assessmentUid:n,assessmentPid:r,userType:s=ec.UserType.guest,userMetadata:o={},testData:a=!1,demoData:l=!1,offlineEnabled:u=!1,offlineTasks:c=[],offlineAdministrations:h=[]}){const f=Object.values(ec.UserType);if(!f.includes(s))throw new Error(`User category must be one of ${f.join(", ")}.`);if(t===void 0&&s!==ec.UserType.guest)throw new Error("All non-guest LEVANTE users must be created with a LEVANTE UID.");if(s===ec.UserType.guest&&t!==void 0)throw new Error("Guest LEVANTE users cannot have a LEVANTE UID.");if(s!==ec.UserType.guest&&r===void 0)throw new Error("All non-guest LEVANTE users must have an assessment PID on instantiation.");this.db=e,this.roarUid=t,this.assessmentPid=r,this.assessmentUid=n,this.userType=s,this.userMetadata=o,this.testData=a,this.demoData=l,this.offlineEnabled=u,this.offlineTasks=c,this.offlineAdministrations=h,s===ec.UserType.guest?this.userRef=(0,Eo.doc)(this.db,"guests",this.assessmentUid):this.userRef=(0,Eo.doc)(this.db,"users",this.roarUid)}async init(){const e=await(0,Eo.getDoc)(this.userRef);this.onFirestore=e.exists(),this.onFirestore?this.userData=e.data():await this._setUserData()}async _setUserData(){if(this.userType!==ec.UserType.guest)throw new Error("Cannot set user data on a non-guest LEVANTE user.");this.userData=(0,ok.removeUndefined)({...this.userMetadata,assessmentPid:this.assessmentPid,assessmentUid:this.assessmentUid,userType:this.userType}),await(0,Eo.setDoc)(this.userRef,{...this.userData,created:(0,Eo.serverTimestamp)(),createdAt:(0,Eo.serverTimestamp)(),updatedAt:(0,Eo.serverTimestamp)()}),this.onFirestore=!0}async checkUserExists(){if(this.onFirestore||await this.init(),!this.onFirestore)throw new Error("This non-guest user is not in Firestore.")}async updateUser({tasks:e,variants:t,assessmentPid:n,...r}){this.checkUserExists();let s={lastUpdated:(0,Eo.serverTimestamp)()};return e&&(s.tasks=(0,Eo.arrayUnion)(...e)),t&&(s.variants=(0,Eo.arrayUnion)(...t)),this.userType===ec.UserType.guest&&(n&&(s.assessmentPid=n),s={...r,...s}),this.userData=(0,V1e.default)(this.userData,{...r,tasks:e,variants:t,assessmentPid:n}),await(0,Eo.updateDoc)(this.userRef,(0,ok.removeUndefined)(s))}async updateFirestoreTimestamp(){return this.checkUserExists(),(0,Eo.updateDoc)(this.userRef,{lastUpdated:(0,Eo.serverTimestamp)()})}}Zv.RoarAppUser=L1e;Object.defineProperty(Yv,"__esModule",{value:!0});Yv.RoarAppkit=void 0;const O1e=Fb,rg=wh,ak=yT,D1e=rN,N1e=Ap,M1e=Zv,F1e=Sh;class $1e{constructor({firebaseProject:e,firebaseConfig:t,userInfo:n,taskInfo:r,assigningOrgs:s,readOrgs:o,assignmentId:a,runId:l}){if(!e&&!t)throw new Error("You must provide either a firebaseProjectKit or firebaseConfig");if(e&&t)throw new Error("You must provide either a firebaseProjectKit or firebaseConfig, not both");this.firebaseConfig=t,this.firebaseProject=e,this._userInfo=n,this._taskInfo=r,this._assigningOrgs=s,this._readOrgs=o??s,this._assignmentId=a,this._runId=l,this._authenticated=!1,this._initialized=!1,this._started=!1}async _init(){this.firebaseConfig&&(this.firebaseProject=await(0,F1e.initializeFirebaseProject)(this.firebaseConfig,"admin")),(0,O1e.onAuthStateChanged)(this.firebaseProject.auth,e=>{this._authenticated=!!e}),this.user=new M1e.RoarAppUser({...this._userInfo,db:this.firebaseProject.db}),this.task=new N1e.RoarTaskVariant({...this._taskInfo,db:this.firebaseProject.db}),this.run=new D1e.RoarRun({user:this.user,task:this.task,assigningOrgs:this._assigningOrgs,readOrgs:this._readOrgs,assignmentId:this._assignmentId,runId:this._runId}),await this.user.init(),this._initialized=!0}get authenticated(){return this._authenticated}async updateUser({tasks:e,variants:t,assessmentPid:n,...r}){if(this._initialized||await this._init(),!this.authenticated)throw new Error("User must be authenticated to update their own data.");return await this.user.updateUser({tasks:e,variants:t,assessmentPid:n,...r})}async startRun(e){if(this._initialized||await this._init(),!this.authenticated)throw new Error("User must be authenticated to start a run.");return await this.run.startRun(e).then(()=>this._started=!0)}async updateTaskParams(e){if(this._started){const t=this.task.variantId;return await this.task.updateTaskParams(e).then(()=>(0,rg.updateDoc)(this.user.userRef,{variants:(0,rg.arrayRemove)(t)})).then(()=>(0,rg.updateDoc)(this.user.userRef,{variants:(0,rg.arrayUnion)(this.task.variantId)})).then(()=>(0,rg.updateDoc)(this.run.runRef,{variantId:this.task.variantId}))}else throw new Error("This run has not started. Use the startRun method first.")}async updateEngagementFlags(e,t=!1,n=void 0){if(this._started)return await this.run.addEngagementFlags(e,t,n);throw new Error("This run has not started. Use the startRun method first.")}async finishRun(e={}){if(this._started)return await this.run.finishRun(e);throw new Error("This run has not started. Use the startRun method first.")}abortRun(){if(this._started)this.run.abortRun();else throw new Error("This run has not started. Use the startRun method first.")}async writeTrial(e,t){if(this._started)return await this.run.writeTrial(e,t);throw new Error("This run has not started. Use the startRun method first.")}async getStorageDownloadUrl(e){this._initialized||await this._init();const t=(0,ak.ref)(this.firebaseProject.storage,e);return(0,ak.getDownloadURL)(t)}}Yv.RoarAppkit=$1e;var cN=Zi&&Zi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Db,"__esModule",{value:!0});Db.RoarFirekit=void 0;const Xl=cN(Mb),lk=cN(qE),Qn=Fb,Sr=wh,Jo=mT,Zw=Sh,B1e=Yv,q1e=Ap;var ms;(function(i){i.GOOGLE="google",i.EMAIL="email",i.USERNAME="username",i.PASSWORD="password"})(ms||(ms={}));class U1e{constructor({roarConfig:e,verboseLogging:t=!1,authPersistence:n=Zw.AuthPersistence.session,markRawConfig:r={},listenerUpdateCallback:s,emulatorConfig:o}){this.roarConfig=e,this.emulatorConfig=o,this._verboseLogging=t,this._authPersistence=n,this._markRawConfig=r,this._initialized=!1,this._idTokens={},this.listenerUpdateCallback=s??(()=>{})}_getProviderIds(){return{...Qn.ProviderId,ROAR_ADMIN_PROJECT:`oidc.${this.roarConfig.admin.projectId}`}}_scrubAuthProperties(){this.userData=void 0,this.roarAppUserInfo=void 0,this._adminOrgs=void 0,this._superAdmin=void 0,this.currentAssignments=void 0,this.oAuthAccessToken=void 0,this._adminClaimsListener=void 0,this._adminTokenListener=void 0,this._idTokens={}}async init(){return this.admin=await(0,Zw.initializeFirebaseProject)(this.roarConfig.admin,"admin",this.emulatorConfig,this._authPersistence,this._markRawConfig),this._initialized=!0,(0,Qn.onAuthStateChanged)(this.admin.auth,async e=>{this.verboseLog("onAuthStateChanged triggered for admin auth"),this.admin&&(e?(this.verboseLog("admin firebase instance and user are defined"),this.admin.user=e,this._adminClaimsListener=this._listenToClaims(this.admin),this.verboseLog("adminClaimsListener instance set up using listenToClaims"),this._adminTokenListener=this._listenToTokenChange(this.admin,"admin"),this.verboseLog("adminTokenListener instance set up using listenToClaims"),this.verboseLog("[admin] Attempting to fire user.getIdToken(), existing token is",this._idTokens.admin),e.getIdToken().then(t=>{this.verboseLog("in .then() for user.getIdToken() with new token",t),this._idTokens.admin=t,this.verboseLog(`Updated internal admin token to ${t}`)}),this._roarUid=await this.getRoarUid()):(this.verboseLog("User for admin is undefined."),this.admin.user=void 0,this._roarUid=void 0)),this.verboseLog("[admin] Call this.listenerUpdateCallback()"),this.listenerUpdateCallback()}),this}verboseLog(...e){if(this._verboseLogging)console.log("[RoarFirekit] ",...e);else return}get initialized(){return this._initialized}_verifyInit(){if(!this._initialized)throw new Error("RoarFirekit has not been initialized. Use the `init` method.")}_verifyAuthentication(){if(this._verifyInit(),this.admin.user===void 0)throw new Error("User is not authenticated.");return!0}_verifyAdmin(){if(!this.superAdmin&&!this._admin)throw new Error("User is not an administrator.")}_listenToClaims(e){if(this.verboseLog("entry point to listenToClaims"),this._verifyInit(),e.user){this.verboseLog("firekit.user is defined");let t;this.verboseLog("About to try setting up the claims listener");try{this.verboseLog("Beginning onSnapshot definition"),t=(0,Sr.onSnapshot)((0,Sr.doc)(e.db,"userClaims",e.user.uid),async n=>{var s,o,a;this.verboseLog("In onSnapshot call for listenToClaims");const r=n.data();if(this._adminOrgs=(s=r==null?void 0:r.claims)==null?void 0:s.adminOrgs,this._superAdmin=(o=r==null?void 0:r.claims)==null?void 0:o.super_admin,this.roarConfig.admin.projectId.includes("levante")&&(this._admin=((a=r==null?void 0:r.claims)==null?void 0:a.admin)||!1),this.verboseLog("about to check for existance of data.lastUpdated"),r!=null&&r.lastUpdated){this.verboseLog("lastUpdate exists.");const l=new Date(r.lastUpdated);this.verboseLog("Checking for firekit.claimsLastUpdated existance or outdated (< lastUpdated from retrieved data)"),(!e.claimsLastUpdated||l>e.claimsLastUpdated)&&(this.verboseLog("Firekit's last updated either does not exist or is outdated. Await getIdToken and update firekit's claimsLastUpdated field."),await(0,Qn.getIdToken)(e.user,!0),e.claimsLastUpdated=l)}this.verboseLog("Call listenerUpdateCallback from listenToClaims"),this.listenerUpdateCallback()},n=>{throw n})}catch(n){if(this.verboseLog("Attempt to set up claims listener failed. Error is",n),n.code!=="permission-denied")throw n}return t}}async forceIdTokenRefresh(){this.verboseLog("Entry point for forceIdTokenRefresh"),this._verifyAuthentication(),await(0,Qn.getIdToken)(this.admin.user,!0)}_listenToTokenChange(e,t){return this.verboseLog("Entry point for listenToTokenChange, called with",t),this._verifyInit(),this.verboseLog("Checking for existance of tokenListener with type",t),!this._adminTokenListener&&t==="admin"?(this.verboseLog("Token listener does not exist, create now."),(0,Qn.onIdTokenChanged)(e.auth,async n=>{if(this.verboseLog("onIdTokenChanged body"),n){this.verboseLog("user exists, await user.getIdTokenResult(false)");const r=await n.getIdTokenResult(!1);this.verboseLog("Returned with token",r),t==="admin"&&(this.verboseLog("Type is admin, set idTokenRecieved flag"),this._idTokenReceived=!0),this.verboseLog(`Setting idTokens.${t} to token`,r.token),this._idTokens[t]=r.token}this.verboseLog("Calling listenerUpdateCallback from listenToTokenChange",t),this.listenerUpdateCallback()})):this._adminTokenListener}async _setUidCustomClaims({identityProviderId:e=void 0,identityProviderType:t=void 0}={}){this.verboseLog("Entry point to setUidCustomClaims"),this._verifyAuthentication(),this.verboseLog("Calling cloud function for setUidClaims");const r=await(0,Jo.httpsCallable)(this.admin.functions,"setUidClaims")({identityProviderId:e,identityProviderType:t});if(this.verboseLog("setUidClaims returned with result",r),(0,Xl.default)(r.data,"status")!=="ok")throw this.verboseLog("Error in calling setUidClaims cloud function",r.data),new Error("Failed to set UIDs in the admin and assessment Firebase projects.");return await this.forceIdTokenRefresh(),this.verboseLog("Returning result from setUidCustomClaims",r),r}async isEmailAvailable(e){return this._verifyInit(),(await(0,Qn.fetchSignInMethodsForEmail)(this.admin.auth,e)).length===0}async fetchEmailAuthMethods(e){return this._verifyInit(),(0,Qn.fetchSignInMethodsForEmail)(this.admin.auth,e).then(t=>{const n={[Qn.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD]:"password",[Qn.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD]:"link","google.com":"google"};return t.filter(r=>r in n).map(r=>n[r])})}async registerWithEmailAndPassword({email:e,password:t}){return this._verifyInit(),(0,Qn.createUserWithEmailAndPassword)(this.admin.auth,e,t).then(()=>(this._identityProviderType=ms.EMAIL,this._setUidCustomClaims())).catch(n=>{throw console.log("Error creating user",n),console.log(n.code),console.log(n.message),n})}async logInWithEmailAndPassword({email:e,password:t}){return this._verifyInit(),(0,Qn.signInWithEmailAndPassword)(this.admin.auth,e,t).then(async n=>{this._identityProviderType=ms.EMAIL}).then(()=>this._setUidCustomClaims()).catch(n=>{throw console.error("Error signing in",n),n})}async linkEmailPasswordWithAuthProvider(e,t){this._verifyAuthentication();const n=Qn.EmailAuthProvider.credential(e,t);return(0,Qn.linkWithCredential)(this.admin.auth.currentUser,n).catch(r=>{throw console.error("Error linking email and password",r),r})}async initiateLoginWithEmailLink({email:e,redirectUrl:t}){this._verifyInit();const n={url:t,handleCodeInApp:!0};try{await(0,Qn.sendSignInLinkToEmail)(this.admin.auth,e,n)}catch(r){throw console.error("Error sending sign in link:",r),r}}async isSignInWithEmailLink(e){return this._verifyInit(),(0,Qn.isSignInWithEmailLink)(this.admin.auth,e)}async signInWithEmailLink({email:e,emailLink:t}){return this._verifyInit(),(0,Qn.signInWithEmailLink)(this.admin.auth,e,t).then(async n=>{this._identityProviderType=ms.EMAIL;const r=this._getProviderIds(),s=new Qn.OAuthProvider(r.ROAR_ADMIN_PROJECT),o=await(0,Qn.getIdToken)(n.user);return s.credential({idToken:o})}).then(n=>{if(n)return this._setUidCustomClaims()})}async signInWithPopup(e){this._verifyInit();const t=[ms.GOOGLE];let n;if(e===ms.GOOGLE)n=new Qn.GoogleAuthProvider;else throw new Error(`provider must be one of ${t.join(", ")}. Received ${e} instead.`);const r=["auth/cancelled-popup-request","auth/popup-closed-by-user"],s=o=>{if(!r.includes(o.code))throw o};return(0,Qn.signInWithPopup)(this.admin.auth,n).then(async o=>{if(this._identityProviderType=e,e===ms.GOOGLE){const a=Qn.GoogleAuthProvider.credentialFromResult(o);return a==null||a.accessToken,a}}).catch(s).then(o=>{if(o){const a={identityProviderId:this._identityProviderId,identityProviderType:this._identityProviderType};return this._setUidCustomClaims(a)}})}async linkAuthProviderWithPopup(e){this._verifyAuthentication();const t=[ms.GOOGLE];let n;if(e===ms.GOOGLE)n=new Qn.GoogleAuthProvider;else throw new Error(`provider must be one of ${t.join(", ")}. Received ${e} instead.`);const r=["auth/cancelled-popup-request","auth/popup-closed-by-user"],s=o=>{if(!r.includes(o.code))throw o};return(0,Qn.linkWithPopup)(this.admin.auth.currentUser,n).then(async o=>{if(this._identityProviderType=e,e===ms.GOOGLE){const a=Qn.GoogleAuthProvider.credentialFromResult(o);return a==null||a.accessToken,a}}).catch(s).then(o=>{if(o){const a={identityProviderId:this._identityProviderId,identityProviderType:this._identityProviderType};return this._setUidCustomClaims(a)}})}async initiateRedirect(e,t=!1){this.verboseLog("Entry point for initiateRedirect"),this._verifyInit(),t&&this._verifyAuthentication();const n=[ms.GOOGLE];let r;if(this.verboseLog("Attempting sign in with AuthProvider",e),e===ms.GOOGLE)r=new Qn.GoogleAuthProvider,this.verboseLog("Google AuthProvider object:",r);else throw new Error(`provider must be one of ${n.join(", ")}. Received ${e} instead.`);return this.verboseLog("Calling signInWithRedirect from initiateRedirect with provider",r),t?(0,Qn.linkWithRedirect)(this.admin.auth.currentUser,r):(0,Qn.signInWithRedirect)(this.admin.auth,r)}async signInFromRedirectResult(e){this._verifyInit(),this.verboseLog("Entry point for signInFromRedirectResult");const t=s=>{if(this.verboseLog("Catching error, checking if it is the enableCookies error"),s.code=="auth/web-storage-unsupported")this.verboseLog("Error was known enableCookies error, invoking enableCookiesCallback()"),e();else throw this.verboseLog("It was not the known enableCookies error",s),s};let n,r;return this.verboseLog("calling getRedirect result from signInFromRedirect"),(0,Qn.getRedirectResult)(this.admin.auth).then(async s=>{if(this.verboseLog("Then block for getRedirectResult"),s!==null){this.verboseLog("adminUserCredential is not null");const o=s.providerId,a=this._getProviderIds();if(this.verboseLog("providerId is",o),this.verboseLog("roarProviderIds are",a),o===a.GOOGLE){this.verboseLog("ProviderId is google, calling credentialFromResult with ",s);const l=Qn.GoogleAuthProvider.credentialFromResult(s);return r=ms.GOOGLE,this._identityProviderType=r,n=l==null?void 0:l.accessToken,this.verboseLog("oAuthAccessToken = ",n),this.verboseLog("returning credential from first .then() ->",l),l}}return null}).catch(t).then(s=>{if(this.verboseLog("Attempting to set uid custom claims using credential",s),s){this.verboseLog("Calling setUidCustomClaims with creds",s);const o={identityProviderId:this._identityProviderId,identityProviderType:this._identityProviderType};return this._setUidCustomClaims(o)}return null})}async unlinkAuthProvider(e){this._verifyAuthentication();const t=[ms.GOOGLE],n=this._getProviderIds();let r;if(e===ms.GOOGLE)r=n.GOOGLE;else throw new Error(`provider must be one of ${t.join(", ")}. Received ${e} instead.`);return(0,Qn.unlink)(this.admin.auth.currentUser,r)}async signOut(){this._verifyAuthentication(),this._adminClaimsListener&&this._adminClaimsListener(),this._adminTokenListener&&this._adminTokenListener(),this._scrubAuthProperties(),await(0,Qn.signOut)(this.admin.auth)}get superAdmin(){return this._superAdmin}get idTokenReceived(){return this._idTokenReceived}get idTokens(){return this._idTokens}get restConfig(){return{admin:{headers:{Authorization:`Bearer ${this._idTokens.admin}`}}}}get adminOrgs(){return this._adminOrgs}get dbRefs(){var e;if((e=this.admin)!=null&&e.user)return{admin:{user:(0,Sr.doc)(this.admin.db,"users",this.roarUid),assignments:(0,Sr.collection)(this.admin.db,"users",this.roarUid,"assignments"),runs:(0,Sr.collection)(this.admin.db,"users",this.roarUid,"runs"),tasks:(0,Sr.collection)(this.admin.db,"tasks")}}}async getTasksDictionary(){return this._verifyAuthentication(),(await(0,Sr.getDocs)(this.dbRefs.admin.tasks)).docs.reduce((n,r)=>(n[r.id]=r.data(),n),{})}async getAdministrations({testData:e=!1,restrictToOpenAdministrations:t=!1}){this._verifyAuthentication();const r=await(0,Jo.httpsCallable)(this.admin.functions,"getAdministrations")({testData:e,restrictToOpenAdministrations:t});if((0,Xl.default)(r.data,"status")!=="ok")throw new Error("Failed to retrieve administration IDs.");return r.data.data??[]}async getLegalDoc(e){const t=(0,Sr.doc)(this.admin.db,"legal",e),n=await(0,Sr.getDoc)(t);if(n.exists()){const r=n.data(),s=`https://raw.githubusercontent.com/${(0,Xl.default)(r,"gitHubOrg")}/${(0,Xl.default)(r,"gitHubRepository")}/${(0,Xl.default)(r,"currentCommit")}/${(0,Xl.default)(r,"fileName")}`;try{return{text:await(await fetch(s)).text(),version:(0,Xl.default)(r,"currentCommit")}}catch{throw new Error("Error retrieving consent document from GitHub.")}}else return null}async updateConsentStatus(e,t,n={}){return console.log(`Updating consent status for ${this.dbRefs.admin.user.path}.`),!(0,lk.default)(n)&&(0,Xl.default)(n,"dateSigned")?await(0,Sr.updateDoc)(this.dbRefs.admin.user,{[`legal.${e}.${t}`]:(0,Sr.arrayUnion)(n)}):await(0,Sr.updateDoc)(this.dbRefs.admin.user,{[`legal.${e}.${t}`]:(0,Sr.arrayUnion)({dateSigned:new Date})})}get roarUid(){return this._roarUid}async getRoarUid(){var r,s;const e=(0,Sr.doc)(this.admin.db,"userClaims",this.admin.user.uid),t=await(0,Sr.getDoc)(e).then(o=>{if(!o.exists())throw new Error("User claims document does not exist.");return o.data()});let n;return!(0,lk.default)(t)&&t.claims.roarUid?n=t.claims.roarUid:n=(s=(r=this.admin)==null?void 0:r.user)==null?void 0:s.uid,this._roarUid=n,n}async startAssessment(e,t,n,r){this._verifyAuthentication();const s=r??this.roarUid??await this.getRoarUid();if(!s)throw new Error("Could not determine user ID");try{const a=await(0,Jo.httpsCallable)(this.admin.functions,"startTask")({administrationId:e,taskId:t,targetUid:s});this.roarAppUserInfo===void 0&&(this.roarAppUserInfo={db:this.admin.db,roarUid:s,assessmentUid:this.admin.user.uid,assessmentPid:a.data.assessmentPid,userType:a.data.userData.userType});const l={db:this.admin.db,taskId:t,taskName:void 0,taskVersion:n,variantName:a.data.taskInfo.variantName,variantParams:a.data.taskInfo.variantParams,variantId:a.data.taskInfo.variantId};return new B1e.RoarAppkit({firebaseProject:this.admin,userInfo:this.roarAppUserInfo,assigningOrgs:a.data.assigningOrgs,readOrgs:a.data.readOrgs,assignmentId:e,taskInfo:l})}catch(o){throw console.error("Error starting task: ",o),o}}async completeAssessment(e,t,n){this._verifyAuthentication();const r=(0,Jo.httpsCallable)(this.admin.functions,"completeTask"),s=n??this.roarUid??await this.getRoarUid();if(!s)throw new Error("Could not determine user ID");return await r({administrationId:e,taskId:t,userId:s})}async upsertAdministration({name:e,publicName:t,assessments:n,dateOpen:r,dateClose:s,sequential:o=!0,orgs:a=(0,Zw.emptyOrgList)(),tags:l=[],administrationId:u,isTestData:c=!1,legal:h}){if(this._verifyAuthentication(),this._verifyAdmin(),[e,r,s,n].some(m=>m==null))throw new Error("The parameters name, dateOpen, dateClose, and assessments are required");if(s<r)throw new Error(`The end date cannot be before the start date: ${s.toISOString()} < ${r.toISOString()}`);const f=(0,Jo.httpsCallable)(this.admin.functions,"upsertAdministration");try{const m=await f({name:e,publicName:t,assessments:n,dateOpen:r.toISOString(),dateClose:s.toISOString(),sequential:o,orgs:a,tags:l,administrationId:u,isTestData:c,legal:h});return this.verboseLog("upsertAdministration cloud function called successfully:",m),m.data}catch(m){throw console.error("Error calling upsertAdministration cloud function",m),m}}async deleteAdministration(e){if(this._verifyAuthentication(),!this._superAdmin)throw new Error("You must be a super admin to delete an administration.");return await(0,Jo.httpsCallable)(this.admin.functions,"deleteAdministration")({administrationId:e})}async sendPasswordResetEmail(e){return(0,Qn.sendPasswordResetEmail)(this.admin.auth,e).then(()=>{this.verboseLog("Password reset email sent to",e)})}async createAdministrator(e,t,n,r,s=!1){this._verifyAuthentication(),this._verifyAdmin();const a=await(0,Jo.httpsCallable)(this.admin.functions,"createAdministratorAccount")({email:e,name:t,orgs:n,adminOrgs:r,isTestData:s});if((0,Xl.default)(a.data,"status")!=="ok")throw new Error("Failed to create administrator user account.")}async upsertOrg(e){return this._verifyAuthentication(),this._verifyAdmin(),await(0,Jo.httpsCallable)(this.admin.functions,"upsertOrg")({orgData:e})}async registerTaskVariant({taskId:e,taskName:t,taskDescription:n,taskImage:r,taskURL:s,gameConfig:o,variantName:a,variantParams:l={},registered:u}){this._verifyAuthentication(),this._verifyAdmin();const c=new q1e.RoarTaskVariant({db:this.admin.db,taskId:e,taskName:t,taskDescription:n,taskImage:r,taskURL:s,gameConfig:o,variantName:a,variantParams:l,registered:u});return await c.toFirestore(),c}async updateTaskOrVariant(e){this._verifyAuthentication(),this._verifyAdmin();let t,n;const{data:r}=e;e.variantId?(t=(0,Sr.doc)(this.admin.db,"tasks",e.taskId,"variants",e.variantId),n="variant"):(t=(0,Sr.doc)(this.admin.db,"tasks",e.taskId),n="task"),await(0,Sr.setDoc)(t,{...r,updatedAt:(0,Sr.serverTimestamp)()}).then(()=>{console.log(`Successfully updated ${n} data.`)})}async createUsers(e){return this._verifyAuthentication(),this._verifyAdmin(),await(0,Jo.httpsCallable)(this.admin.functions,"createUsers")({userData:e})}async saveSurveyResponses(e){this._verifyAuthentication();const t=(0,Jo.httpsCallable)(this.admin.functions,"saveSurveyResponses");try{return await t({surveyResponses:e})}catch(n){throw console.error("Error saving survey responses in firekit",n),n}}async linkUsers(e){return this._verifyAuthentication(),this._verifyAdmin(),await(0,Jo.httpsCallable)(this.admin.functions,"linkUsers")({users:e})}async editUsers(e){return this._verifyAuthentication(),this._verifyAdmin(),await(0,Jo.httpsCallable)(this.admin.functions,"editUsers")({users:e})}}Db.RoarFirekit=U1e;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.initializeFirebaseProject=i.getTreeTableOrgs=i.emptyOrgList=i.emptyOrg=i.RoarTaskVariant=i.RoarAppUser=i.RoarAppkit=i.RoarFirekit=void 0;var e=Db;Object.defineProperty(i,"RoarFirekit",{enumerable:!0,get:function(){return e.RoarFirekit}});var t=Yv;Object.defineProperty(i,"RoarAppkit",{enumerable:!0,get:function(){return t.RoarAppkit}});var n=Zv;Object.defineProperty(i,"RoarAppUser",{enumerable:!0,get:function(){return n.RoarAppUser}});var r=Ap;Object.defineProperty(i,"RoarTaskVariant",{enumerable:!0,get:function(){return r.RoarTaskVariant}});var s=Sh;Object.defineProperty(i,"emptyOrg",{enumerable:!0,get:function(){return s.emptyOrg}}),Object.defineProperty(i,"emptyOrgList",{enumerable:!0,get:function(){return s.emptyOrgList}}),Object.defineProperty(i,"getTreeTableOrgs",{enumerable:!0,get:function(){return s.getTreeTableOrgs}}),Object.defineProperty(i,"initializeFirebaseProject",{enumerable:!0,get:function(){return s.initializeFirebaseProject}})})(H3);let dN,hN;dN={apiKey:"AIzaSyC9IoJBEyN-BxHobeoMQRuEu0CtyQDOg8k",authDomain:"hs-levante-assessment-dev.firebaseapp.com",projectId:"hs-levante-assessment-dev",storageBucket:"hs-levante-assessment-dev.appspot.com",messagingSenderId:"46792247600",appId:"1:46792247600:web:ea20e1fe94e0541dd5a0f5"},hN={apiKey:"AIzaSyCOzRA9a2sDHtVlX7qnszxrgsRCBLyf5p0",authDomain:"hs-levante-admin-dev.firebaseapp.com",projectId:"hs-levante-admin-dev",storageBucket:"hs-levante-admin-dev.appspot.com",messagingSenderId:"41590333418",appId:"1:41590333418:web:3468a7caadab802d6e5c93"};const H1e={app:dN,admin:hN},z1e=void 0,wd=H1e;async function j1e(){return await new H3.RoarFirekit({roarConfig:wd,emulatorConfig:z1e,authPersistence:"session",markRawConfig:{auth:!1,db:!1,functions:!1},verboseLogging:!1,siteKey:wd==null?void 0:wd.siteKey,debugToken:wd==null?void 0:wd.debugToken}).init()}const Q1e=60*1e3,W1e=1e3,SUe=parseInt(void 0,10)||15*Q1e,TUe=parseInt(void 0,10)||60*W1e,Fh={ADMIN:"admin",PARTICIPANT:"participant",SUPER_ADMIN:"super-admin"},uk={GOOGLE:"google"};var Ce=typeof window<"u"?window:void 0,so=typeof globalThis<"u"?globalThis:Ce,fN=Array.prototype,ck=fN.forEach,dk=fN.indexOf,Po=so==null?void 0:so.navigator,Lt=so==null?void 0:so.document,eo=so==null?void 0:so.location,X_=so==null?void 0:so.fetch,eI=so!=null&&so.XMLHttpRequest&&"withCredentials"in new so.XMLHttpRequest?so.XMLHttpRequest:void 0,hk=so==null?void 0:so.AbortController,Xs=Po==null?void 0:Po.userAgent,sn=Ce??{},lu={DEBUG:!1,LIB_VERSION:"1.258.6"},Xw="$copy_autocapture",G1e=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],mu=function(i){return i.GZipJS="gzip-js",i.Base64="base64",i}({}),K1e=["fatal","error","warning","log","info","debug"];function Sn(i,e){return i.indexOf(e)!==-1}var mC=function(i){return i.trim()},tI=function(i){return i.replace(/^\$/,"")},J1e=Array.isArray,pN=Object.prototype,gN=pN.hasOwnProperty,vC=pN.toString,ki=J1e||function(i){return vC.call(i)==="[object Array]"},aa=i=>typeof i=="function",Ki=i=>i===Object(i)&&!ki(i),ef=i=>{if(Ki(i)){for(var e in i)if(gN.call(i,e))return!1;return!0}return!1},yt=i=>i===void 0,Yi=i=>vC.call(i)=="[object String]",nI=i=>Yi(i)&&i.trim().length===0,ld=i=>i===null,Yn=i=>yt(i)||ld(i),ys=i=>vC.call(i)=="[object Number]",ml=i=>vC.call(i)==="[object Boolean]",Y1e=i=>i instanceof FormData,Z1e=i=>Sn(G1e,i),mN=i=>{var e={t:function(t){if(Ce&&(lu.DEBUG||sn.POSTHOG_DEBUG)&&!yt(Ce.console)&&Ce.console){for(var n=("__rrweb_original__"in Ce.console[t])?Ce.console[t].__rrweb_original__:Ce.console[t],r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];n(i,...s)}},info:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.t("log",...n)},warn:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.t("warn",...n)},error:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.t("error",...n)},critical:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];console.error(i,...n)},uninitializedWarning:t=>{e.error("You must initialize PostHog before calling "+t)},createLogger:t=>mN(i+" "+t)};return e},Mt=mN("[PostHog.js]"),jr=Mt.createLogger,X1e=jr("[ExternalScriptsLoader]"),fk=(i,e,t)=>{if(i.config.disable_external_dependency_loading)return X1e.warn(e+" was requested but loading of external scripts is disabled."),t("Loading of external scripts is disabled");var n=Lt==null?void 0:Lt.querySelectorAll("script");if(n){for(var r=0;r<n.length;r++)if(n[r].src===e)return t()}var s=()=>{if(!Lt)return t("document not found");var o=Lt.createElement("script");if(o.type="text/javascript",o.crossOrigin="anonymous",o.src=e,o.onload=u=>t(void 0,u),o.onerror=u=>t(u),i.config.prepare_external_dependency_script&&(o=i.config.prepare_external_dependency_script(o)),!o)return t("prepare_external_dependency_script returned null");var a,l=Lt.querySelectorAll("body > script");l.length>0?(a=l[0].parentNode)==null||a.insertBefore(o,l[0]):Lt.body.appendChild(o)};Lt!=null&&Lt.body?s():Lt==null||Lt.addEventListener("DOMContentLoaded",s)};function Pt(){return Pt=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Pt.apply(null,arguments)}function vN(i,e){if(i==null)return{};var t={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(e.indexOf(n)!==-1)continue;t[n]=i[n]}return t}sn.__PosthogExtensions__=sn.__PosthogExtensions__||{},sn.__PosthogExtensions__.loadExternalDependency=(i,e,t)=>{var n="/static/"+e+".js?v="+i.version;if(e==="remote-config"&&(n="/array/"+i.config.token+"/config.js"),e==="toolbar"){var r=3e5;n=n+"&t="+Math.floor(Date.now()/r)*r}var s=i.requestRouter.endpointFor("assets",n);fk(i,s,t)},sn.__PosthogExtensions__.loadSiteApp=(i,e,t)=>{var n=i.requestRouter.endpointFor("api",e);fk(i,n,t)};var S0={};function kc(i,e,t){if(ki(i)){if(ck&&i.forEach===ck)i.forEach(e,t);else if("length"in i&&i.length===+i.length){for(var n=0,r=i.length;n<r;n++)if(n in i&&e.call(t,i[n],n)===S0)return}}}function gi(i,e,t){if(!Yn(i)){if(ki(i))return kc(i,e,t);if(Y1e(i)){for(var n of i.entries())if(e.call(t,n[1],n[0])===S0)return}else for(var r in i)if(gN.call(i,r)&&e.call(t,i[r],r)===S0)return}}var or=function(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return kc(t,function(r){for(var s in r)r[s]!==void 0&&(i[s]=r[s])}),i},yC=function(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return kc(t,function(r){kc(r,function(s){i.push(s)})}),i};function k1(i){for(var e=Object.keys(i),t=e.length,n=new Array(t);t--;)n[t]=[e[t],i[e[t]]];return n}var pk=function(i){try{return i()}catch{return}},e0e=function(i){return function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(this,t)}catch(r){Mt.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Mt.critical(r)}}},OT=function(i){var e={};return gi(i,function(t,n){(Yi(t)&&t.length>0||ys(t))&&(e[n]=t)}),e};function t0e(i,e){return t=i,n=s=>Yi(s)&&!ld(e)?s.slice(0,e):s,r=new Set,function s(o,a){return o!==Object(o)?n?n(o,a):o:r.has(o)?void 0:(r.add(o),ki(o)?(l=[],kc(o,u=>{l.push(s(u))})):(l={},gi(o,(u,c)=>{r.has(u)||(l[c]=s(u,c))})),l);var l}(t);var t,n,r}var n0e=["herokuapp.com","vercel.app","netlify.app"];function i0e(i){var e=i==null?void 0:i.hostname;if(!Yi(e))return!1;var t=e.split(".").slice(-2).join(".");for(var n of n0e)if(t===n)return!1;return!0}function yN(i,e){for(var t=0;t<i.length;t++)if(e(i[t]))return i[t]}function Bi(i,e,t,n){var{capture:r=!1,passive:s=!0}=n??{};i==null||i.addEventListener(e,t,{capture:r,passive:s})}var bN="$people_distinct_id",Eg="__alias",Sg="__timers",gk="$autocapture_disabled_server_side",iI="$heatmaps_enabled_server_side",mk="$exception_capture_enabled_server_side",rI="$error_tracking_suppression_rules",vk="$error_tracking_capture_extension_exceptions",yk="$web_vitals_enabled_server_side",CN="$dead_clicks_enabled_server_side",bk="$web_vitals_allowed_metrics",sI="$session_recording_enabled_server_side",Ck="$console_log_recording_enabled_server_side",wk="$session_recording_network_payload_capture",_k="$session_recording_masking",Ik="$session_recording_canvas_recording",Ek="$replay_sample_rate",Sk="$replay_minimum_duration",Tk="$replay_script_config",T0="$sesid",Tg="$session_is_sampled",oI="$session_recording_url_trigger_activated_session",aI="$session_recording_event_trigger_activated_session",tf="$enabled_feature_flags",xg="$early_access_features",lI="$feature_flag_details",Pg="$stored_person_properties",Vd="$stored_group_properties",uI="$surveys",Oy="$surveys_activated",x0="$flag_call_reported",su="$user_state",cI="$client_session_props",dI="$capture_rate_limit",hI="$initial_campaign_params",fI="$initial_referrer_info",P0="$initial_person_info",R0="$epp",wN="__POSTHOG_TOOLBAR__",Dy="$posthog_cookieless",r0e=[bN,Eg,"__cmpns",Sg,sI,iI,T0,tf,rI,su,xg,lI,Vd,Pg,uI,x0,cI,dI,hI,fI,R0,P0];function xk(i){return i instanceof Element&&(i.id===wN||!(i.closest==null||!i.closest(".toolbar-global-fade-container")))}function bC(i){return!!i&&i.nodeType===1}function Ac(i,e){return!!i&&!!i.tagName&&i.tagName.toLowerCase()===e.toLowerCase()}function _N(i){return!!i&&i.nodeType===3}function IN(i){return!!i&&i.nodeType===11}function DT(i){return i?mC(i).split(/\s+/):[]}function Pk(i){var e=Ce==null?void 0:Ce.location.href;return!!(e&&i&&i.some(t=>e.match(t)))}function k0(i){var e="";switch(typeof i.className){case"string":e=i.className;break;case"object":e=(i.className&&"baseVal"in i.className?i.className.baseVal:null)||i.getAttribute("class")||"";break;default:e=""}return DT(e)}function EN(i){return Yn(i)?null:mC(i).split(/(\s+)/).filter(e=>zf(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function CC(i){var e="";return gI(i)&&!xN(i)&&i.childNodes&&i.childNodes.length&&gi(i.childNodes,function(t){var n;_N(t)&&t.textContent&&(e+=(n=EN(t.textContent))!==null&&n!==void 0?n:"")}),mC(e)}function SN(i){return yt(i.target)?i.srcElement||null:(e=i.target)!=null&&e.shadowRoot?i.composedPath()[0]||null:i.target||null;var e}var pI=["a","button","form","input","select","textarea","label"];function TN(i){var e=i.parentNode;return!(!e||!bC(e))&&e}function s0e(i,e,t,n,r){var s,o,a;if(t===void 0&&(t=void 0),!Ce||!i||Ac(i,"html")||!bC(i)||(s=t)!=null&&s.url_allowlist&&!Pk(t.url_allowlist)||(o=t)!=null&&o.url_ignorelist&&Pk(t.url_ignorelist))return!1;if((a=t)!=null&&a.dom_event_allowlist){var l=t.dom_event_allowlist;if(l&&!l.some(E=>e.type===E))return!1}for(var u=!1,c=[i],h=!0,f=i;f.parentNode&&!Ac(f,"body");)if(IN(f.parentNode))c.push(f.parentNode.host),f=f.parentNode.host;else{if(!(h=TN(f)))break;if(n||pI.indexOf(h.tagName.toLowerCase())>-1)u=!0;else{var m=Ce.getComputedStyle(h);m&&m.getPropertyValue("cursor")==="pointer"&&(u=!0)}c.push(h),f=h}if(!function(E,k){var j=k==null?void 0:k.element_allowlist;if(yt(j))return!0;var M,q=function(Z){if(j.some(L=>Z.tagName.toLowerCase()===L))return{v:!0}};for(var J of E)if(M=q(J))return M.v;return!1}(c,t)||!function(E,k){var j=k==null?void 0:k.css_selector_allowlist;if(yt(j))return!0;var M,q=function(Z){if(j.some(L=>Z.matches(L)))return{v:!0}};for(var J of E)if(M=q(J))return M.v;return!1}(c,t))return!1;var b=Ce.getComputedStyle(i);if(b&&b.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var _=i.tagName.toLowerCase();switch(_){case"html":return!1;case"form":return(r||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(r||["change","click"]).indexOf(e.type)>=0;default:return u?(r||["click"]).indexOf(e.type)>=0:(r||["click"]).indexOf(e.type)>=0&&(pI.indexOf(_)>-1||i.getAttribute("contenteditable")==="true")}}function gI(i){for(var e=i;e.parentNode&&!Ac(e,"body");e=e.parentNode){var t=k0(e);if(Sn(t,"ph-sensitive")||Sn(t,"ph-no-capture"))return!1}if(Sn(k0(i),"ph-include"))return!0;var n=i.type||"";if(Yi(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var r=i.name||i.id||"";return!(Yi(r)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g,"")))}function xN(i){return!!(Ac(i,"input")&&!["button","checkbox","submit","reset"].includes(i.type)||Ac(i,"select")||Ac(i,"textarea")||i.getAttribute("contenteditable")==="true")}var PN="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",o0e=new RegExp("^(?:"+PN+")$"),a0e=new RegExp(PN),RN="\\d{3}-?\\d{2}-?\\d{4}",l0e=new RegExp("^("+RN+")$"),u0e=new RegExp("("+RN+")");function zf(i,e){return e===void 0&&(e=!0),!(Yn(i)||Yi(i)&&(i=mC(i),(e?o0e:a0e).test((i||"").replace(/[- ]/g,""))||(e?l0e:u0e).test(i)))}function kN(i){var e=CC(i);return zf(e=(e+" "+AN(i)).trim())?e:""}function AN(i){var e="";return i&&i.childNodes&&i.childNodes.length&&gi(i.childNodes,function(t){var n;if(t&&((n=t.tagName)==null?void 0:n.toLowerCase())==="span")try{var r=CC(t);e=(e+" "+r).trim(),t.childNodes&&t.childNodes.length&&(e=(e+" "+AN(t)).trim())}catch(s){Mt.error("[AutoCapture]",s)}}),e}function c0e(i){return function(e){var t=e.map(n=>{var r,s,o="";if(n.tag_name&&(o+=n.tag_name),n.attr_class)for(var a of(n.attr_class.sort(),n.attr_class))o+="."+a.replace(/"/g,"");var l=Pt({},n.text?{text:n.text}:{},{"nth-child":(r=n.nth_child)!==null&&r!==void 0?r:0,"nth-of-type":(s=n.nth_of_type)!==null&&s!==void 0?s:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return k1(l).sort((c,h)=>{var[f]=c,[m]=h;return f.localeCompare(m)}).forEach(c=>{var[h,f]=c;return u[Rk(h.toString())]=Rk(f.toString())}),o+=":",o+=k1(u).map(c=>{var[h,f]=c;return h+'="'+f+'"'}).join("")});return t.join(";")}(function(e){return e.map(t=>{var n,r,s={text:(n=t.$el_text)==null?void 0:n.slice(0,400),tag_name:t.tag_name,href:(r=t.attr__href)==null?void 0:r.slice(0,2048),attr_class:d0e(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return k1(t).filter(o=>{var[a]=o;return a.indexOf("attr__")===0}).forEach(o=>{var[a,l]=o;return s.attributes[a]=l}),s})}(i))}function Rk(i){return i.replace(/"|\\"/g,'\\"')}function d0e(i){var e=i.attr__class;return e?ki(e)?e:DT(e):void 0}let VN=class{constructor(){this.clicks=[]}isRageClick(e,t,n){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&n-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}};var h0e=["localhost","127.0.0.1"],jf=i=>{var e=Lt==null?void 0:Lt.createElement("a");return yt(e)?null:(e.href=i,e)},f0e=function(i,e){var t,n;e===void 0&&(e="&");var r=[];return gi(i,function(s,o){yt(s)||yt(o)||o==="undefined"||(t=encodeURIComponent((a=>a instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(o),r[r.length]=n+"="+t)}),r.join(e)},A0=function(i,e){for(var t,n=((i.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),r=0;r<n.length;r++){var s=n[r].split("=");if(s[0]===e){t=s;break}}if(!ki(t)||t.length<2)return"";var o=t[1];try{o=decodeURIComponent(o)}catch{Mt.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},NT=function(i,e,t){if(!i||!e||!e.length)return i;for(var n=i.split("#"),r=n[0]||"",s=n[1],o=r.split("?"),a=o[1],l=o[0],u=(a||"").split("&"),c=[],h=0;h<u.length;h++){var f=u[h].split("=");ki(f)&&(e.includes(f[0])?c.push(f[0]+"="+t):c.push(u[h]))}var m=l;return a!=null&&(m+="?"+c.join("&")),s!=null&&(m+="#"+s),m},V0=function(i,e){var t=i.match(new RegExp(e+"=([^&]*)"));return t?t[1]:null},kk=jr("[AutoCapture]");function e2(i,e){return e.length>i?e.slice(0,i)+"...":e}function p0e(i){if(i.previousElementSibling)return i.previousElementSibling;var e=i;do e=e.previousSibling;while(e&&!bC(e));return e}function g0e(i,e,t,n){var r=i.tagName.toLowerCase(),s={tag_name:r};pI.indexOf(r)>-1&&!t&&(r.toLowerCase()==="a"||r.toLowerCase()==="button"?s.$el_text=e2(1024,kN(i)):s.$el_text=e2(1024,CC(i)));var o=k0(i);o.length>0&&(s.classes=o.filter(function(c){return c!==""})),gi(i.attributes,function(c){var h;if((!xN(i)||["name","id","class","aria-label"].indexOf(c.name)!==-1)&&(n==null||!n.includes(c.name))&&!e&&zf(c.value)&&(h=c.name,!Yi(h)||h.substring(0,10)!=="_ngcontent"&&h.substring(0,7)!=="_nghost")){var f=c.value;c.name==="class"&&(f=DT(f).join(" ")),s["attr__"+c.name]=e2(1024,f)}});for(var a=1,l=1,u=i;u=p0e(u);)a++,u.tagName===i.tagName&&l++;return s.nth_child=a,s.nth_of_type=l,s}function m0e(i,e){for(var t,n,{e:r,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:l}=e,u=[i],c=i;c.parentNode&&!Ac(c,"body");)IN(c.parentNode)?(u.push(c.parentNode.host),c=c.parentNode.host):(u.push(c.parentNode),c=c.parentNode);var h,f=[],m={},b=!1,_=!1;if(gi(u,q=>{var J=gI(q);q.tagName.toLowerCase()==="a"&&(b=q.getAttribute("href"),b=J&&b&&zf(b)&&b),Sn(k0(q),"ph-no-capture")&&(_=!0),f.push(g0e(q,s,o,a));var Z=function(L){if(!gI(L))return{};var y={};return gi(L.attributes,function(w){if(w.name&&w.name.indexOf("data-ph-capture-attribute")===0){var R=w.name.replace("data-ph-capture-attribute-",""),U=w.value;R&&U&&zf(U)&&(y[R]=U)}}),y}(q);or(m,Z)}),_)return{props:{},explicitNoCapture:_};if(o||(i.tagName.toLowerCase()==="a"||i.tagName.toLowerCase()==="button"?f[0].$el_text=kN(i):f[0].$el_text=CC(i)),b){var E,k;f[0].attr__href=b;var j=(E=jf(b))==null?void 0:E.host,M=Ce==null||(k=Ce.location)==null?void 0:k.host;j&&M&&j!==M&&(h=b)}return{props:or({$event_type:r.type,$ce_version:1},l?{}:{$elements:f},{$elements_chain:c0e(f)},(t=f[0])!=null&&t.$el_text?{$el_text:(n=f[0])==null?void 0:n.$el_text}:{},h&&r.type==="click"?{$external_click_url:h}:{},m)}}let v0e=class{constructor(e){this.i=!1,this.o=null,this.rageclicks=new VN,this.h=!1,this.instance=e,this.m=null}get S(){var e,t,n=Ki(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(e=n.url_allowlist)==null?void 0:e.map(r=>new RegExp(r)),n.url_ignorelist=(t=n.url_ignorelist)==null?void 0:t.map(r=>new RegExp(r)),n}$(){if(this.isBrowserSupported()){if(Ce&&Lt){var e=n=>{n=n||(Ce==null?void 0:Ce.event);try{this.k(n)}catch(r){kk.error("Failed to capture event",r)}};if(Bi(Lt,"submit",e,{capture:!0}),Bi(Lt,"change",e,{capture:!0}),Bi(Lt,"click",e,{capture:!0}),this.S.capture_copied_text){var t=n=>{n=n||(Ce==null?void 0:Ce.event),this.k(n,Xw)};Bi(Lt,"copy",t,{capture:!0}),Bi(Lt,"cut",t,{capture:!0})}}}else kk.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[gk]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var t,n=[];return(t=this.m)==null||t.forEach(r=>{var s=Lt==null?void 0:Lt.querySelectorAll(r);s==null||s.forEach(o=>{e===o&&n.push(r)})}),n}get isEnabled(){var e,t,n=(e=this.instance.persistence)==null?void 0:e.props[gk],r=this.o;if(ld(r)&&!ml(n)&&!this.instance.I())return!1;var s=(t=this.o)!==null&&t!==void 0?t:!!n;return!!this.instance.config.autocapture&&!s}k(e,t){if(t===void 0&&(t="$autocapture"),this.isEnabled){var n,r=SN(e);_N(r)&&(r=r.parentNode||null),t==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.k(e,"$rageclick");var s=t===Xw;if(r&&s0e(r,e,this.S,s,s?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:a}=m0e(r,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(a)return!1;var l=this.getElementSelectors(r);if(l&&l.length>0&&(o.$element_selectors=l),t===Xw){var u,c=EN(Ce==null||(u=Ce.getSelection())==null?void 0:u.toString()),h=e.type||"clipboard";if(!c)return!1;o.$selected_content=c,o.$copy_type=h}return this.instance.capture(t,o),!0}}}isBrowserSupported(){return aa(Lt==null?void 0:Lt.querySelectorAll)}};Math.trunc||(Math.trunc=function(i){return i<0?Math.ceil(i):Math.floor(i)}),Number.isInteger||(Number.isInteger=function(i){return ys(i)&&isFinite(i)&&Math.floor(i)===i});var Ak="0123456789abcdef";class L0{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,n,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||e<0||t<0||n<0||r<0||e>0xffffffffffff||t>4095||n>1073741823||r>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=e/Math.pow(2,40),s[1]=e/Math.pow(2,32),s[2]=e/Math.pow(2,24),s[3]=e/Math.pow(2,16),s[4]=e/Math.pow(2,8),s[5]=e,s[6]=112|t>>>8,s[7]=t,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new L0(s)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+Ak.charAt(this.bytes[t]>>>4)+Ak.charAt(15&this.bytes[t]),t!==3&&t!==5&&t!==7&&t!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new L0(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(n!==0)return Math.sign(n)}return 0}}let y0e=class{constructor(){this.P=0,this.R=0,this.T=new b0e}generate(){var e=this.generateOrAbort();if(yt(e)){this.P=0;var t=this.generateOrAbort();if(yt(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.P)this.P=e,this.M();else{if(!(e+1e4>this.P))return;this.R++,this.R>4398046511103&&(this.P++,this.M())}return L0.fromFieldsV7(this.P,Math.trunc(this.R/Math.pow(2,30)),this.R&Math.pow(2,30)-1,this.T.nextUint32())}M(){this.R=1024*this.T.nextUint32()+(1023&this.T.nextUint32())}};var Vk,LN=i=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<i.length;e++)i[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return i};Ce&&!yt(Ce.crypto)&&crypto.getRandomValues&&(LN=i=>crypto.getRandomValues(i));class b0e{constructor(){this.C=new Uint32Array(8),this.F=1/0}nextUint32(){return this.F>=this.C.length&&(LN(this.C),this.F=0),this.C[this.F++]}}var _c=()=>C0e().toString(),C0e=()=>(Vk||(Vk=new y0e)).generate(),sg="",w0e=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function _0e(i,e){if(e){var t=function(r,s){if(s===void 0&&(s=Lt),sg)return sg;if(!s||["localhost","127.0.0.1"].includes(r))return"";for(var o=r.split("."),a=Math.min(o.length,8),l="dmn_chk_"+_c();!sg&&a--;){var u=o.slice(a).join("."),c=l+"=1;domain=."+u+";path=/";s.cookie=c+";max-age=3",s.cookie.includes(l)&&(s.cookie=c+";max-age=0",sg=u)}return sg}(i);if(!t){var n=(r=>{var s=r.match(w0e);return s?s[0]:""})(i);n!==t&&Mt.info("Warning: cookie subdomain discovery mismatch",n,t),t=n}return t?"; domain=."+t:""}return""}var Il={O:()=>!!Lt,A:function(i){Mt.error("cookieStore error: "+i)},D:function(i){if(Lt){try{for(var e=i+"=",t=Lt.cookie.split(";").filter(s=>s.length),n=0;n<t.length;n++){for(var r=t[n];r.charAt(0)==" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return decodeURIComponent(r.substring(e.length,r.length))}}catch{}return null}},L:function(i){var e;try{e=JSON.parse(Il.D(i))||{}}catch{}return e},j:function(i,e,t,n,r){if(Lt)try{var s="",o="",a=_0e(Lt.location.hostname,n);if(t){var l=new Date;l.setTime(l.getTime()+24*t*60*60*1e3),s="; expires="+l.toUTCString()}r&&(o="; secure");var u=i+"="+encodeURIComponent(JSON.stringify(e))+s+"; SameSite=Lax; path=/"+a+o;return u.length>3686.4&&Mt.warn("cookieStore warning: large cookie, len="+u.length),Lt.cookie=u,u}catch{return}},N:function(i,e){try{Il.j(i,"",-1,e)}catch{return}}},t2=null,Pr={O:function(){if(!ld(t2))return t2;var i=!0;if(yt(Ce))i=!1;else try{var e="__mplssupport__";Pr.j(e,"xyz"),Pr.D(e)!=='"xyz"'&&(i=!1),Pr.N(e)}catch{i=!1}return i||Mt.error("localStorage unsupported; falling back to cookie store"),t2=i,i},A:function(i){Mt.error("localStorage error: "+i)},D:function(i){try{return Ce==null?void 0:Ce.localStorage.getItem(i)}catch(e){Pr.A(e)}return null},L:function(i){try{return JSON.parse(Pr.D(i))||{}}catch{}return null},j:function(i,e){try{Ce==null||Ce.localStorage.setItem(i,JSON.stringify(e))}catch(t){Pr.A(t)}},N:function(i){try{Ce==null||Ce.localStorage.removeItem(i)}catch(e){Pr.A(e)}}},I0e=["distinct_id",T0,Tg,R0,P0],Ny=Pt({},Pr,{L:function(i){try{var e={};try{e=Il.L(i)||{}}catch{}var t=or(e,JSON.parse(Pr.D(i)||"{}"));return Pr.j(i,t),t}catch{}return null},j:function(i,e,t,n,r,s){try{Pr.j(i,e,void 0,void 0,s);var o={};I0e.forEach(a=>{e[a]&&(o[a]=e[a])}),Object.keys(o).length&&Il.j(i,o,t,n,r,s)}catch(a){Pr.A(a)}},N:function(i,e){try{Ce==null||Ce.localStorage.removeItem(i),Il.N(i,e)}catch(t){Pr.A(t)}}}),My={},E0e={O:function(){return!0},A:function(i){Mt.error("memoryStorage error: "+i)},D:function(i){return My[i]||null},L:function(i){return My[i]||null},j:function(i,e){My[i]=e},N:function(i){delete My[i]}},_d=null,Zr={O:function(){if(!ld(_d))return _d;if(_d=!0,yt(Ce))_d=!1;else try{var i="__support__";Zr.j(i,"xyz"),Zr.D(i)!=='"xyz"'&&(_d=!1),Zr.N(i)}catch{_d=!1}return _d},A:function(i){Mt.error("sessionStorage error: ",i)},D:function(i){try{return Ce==null?void 0:Ce.sessionStorage.getItem(i)}catch(e){Zr.A(e)}return null},L:function(i){try{return JSON.parse(Zr.D(i))||null}catch{}return null},j:function(i,e){try{Ce==null||Ce.sessionStorage.setItem(i,JSON.stringify(e))}catch(t){Zr.A(t)}},N:function(i){try{Ce==null||Ce.sessionStorage.removeItem(i)}catch(e){Zr.A(e)}}},$h=function(i){return i[i.PENDING=-1]="PENDING",i[i.DENIED=0]="DENIED",i[i.GRANTED=1]="GRANTED",i}({});class S0e{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.U()?$h.DENIED:this.q}isOptedOut(){return this.consent===$h.DENIED||this.consent===$h.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.B.j(this.H,e?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.B.N(this.H,this.S.cross_subdomain_cookie)}get H(){var{token:e,opt_out_capturing_cookie_prefix:t}=this._instance.config;return(t||"__ph_opt_in_out_")+e}get q(){var e=this.B.D(this.H);return e==="1"?$h.GRANTED:e==="0"?$h.DENIED:$h.PENDING}get B(){if(!this.W){var e=this.S.opt_out_capturing_persistence_type;this.W=e==="localStorage"?Pr:Il;var t=e==="localStorage"?Il:Pr;t.D(this.H)&&(this.W.D(this.H)||this.optInOut(t.D(this.H)==="1"),t.N(this.H,this.S.cross_subdomain_cookie))}return this.W}U(){return!!this.S.respect_dnt&&!!yN([Po==null?void 0:Po.doNotTrack,Po==null?void 0:Po.msDoNotTrack,sn.doNotTrack],e=>Sn([!0,1,"1","yes"],e))}}var Fy=jr("[Dead Clicks]"),T0e=()=>!0,x0e=i=>{var e,t=!((e=i.instance.persistence)==null||!e.get_property(CN)),n=i.instance.config.capture_dead_clicks;return ml(n)?n:t};let ON=class{get lazyLoadedDeadClicksAutocapture(){return this.G}constructor(e,t,n){this.instance=e,this.isEnabled=t,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[CN]:e==null?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.J(()=>{this.V()})}J(e){var t,n;(t=sn.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture&&e(),(n=sn.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",r=>{r?Fy.error("failed to load script",r):e()})}V(){var e;if(Lt){if(!this.G&&(e=sn.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var t=Ki(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.G=sn.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.G.start(Lt),Fy.info("starting...")}}else Fy.error("`document` not found. Cannot start.")}stop(){this.G&&(this.G.stop(),this.G=void 0,Fy.info("stopping..."))}};function Ro(i,e,t,n,r){return e>t&&(Mt.warn("min cannot be greater than max."),e=t),ys(i)?i>t?(n&&Mt.warn(n+" cannot be  greater than max: "+t+". Using max value instead."),t):i<e?(n&&Mt.warn(n+" cannot be less than min: "+e+". Using min value instead."),e):i:(n&&Mt.warn(n+" must be a number. using max or fallback. max: "+t+", fallback: "+r),Ro(r||t,e,t,n))}let DN=class{constructor(e){this.K={},this.Y=()=>{Object.keys(this.K).forEach(t=>{var n=this.X(t)+this.Z;n>=this.tt?delete this.K[t]:this.it(t,n)})},this.X=t=>this.K[String(t)],this.it=(t,n)=>{this.K[String(t)]=n},this.consumeRateLimit=t=>{var n,r=(n=this.X(t))!==null&&n!==void 0?n:this.tt;if((r=Math.max(r-1,0))===0)return!0;this.it(t,r);var s,o=r===0;return o&&((s=this.et)==null||s.call(this,t)),o},this.rt=e,this.et=this.rt.et,this.tt=Ro(this.rt.bucketSize,0,100,"rate limiter bucket size"),this.Z=Ro(this.rt.refillRate,0,this.tt,"rate limiter refill rate"),this.st=Ro(this.rt.refillInterval,0,864e5,"rate limiter refill interval"),setInterval(()=>{this.Y()},this.st)}};var $y=jr("[ExceptionAutocapture]");let P0e=class{constructor(e){var t,n,r;this.nt=()=>{var s;if(Ce&&this.isEnabled&&(s=sn.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var o=sn.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=sn.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,l=sn.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ot&&this.S.capture_unhandled_errors&&(this.ot=o(this.captureException.bind(this))),!this.lt&&this.S.capture_unhandled_rejections&&(this.lt=a(this.captureException.bind(this))),!this.ut&&this.S.capture_console_errors&&(this.ut=l(this.captureException.bind(this)))}catch(u){$y.error("failed to start",u),this.ht()}}},this._instance=e,this.dt=!((t=this._instance.persistence)==null||!t.props[mk]),this.S=this.vt(),this.ct=new DN({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(r=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&r!==void 0?r:10,refillInterval:1e4}),this.startIfEnabled()}vt(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Ki(e)?t=Pt({},t,e):(yt(e)?this.dt:e)&&(t=Pt({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&($y.info("enabled"),this.J(this.nt))}J(e){var t,n;(t=sn.__PosthogExtensions__)!=null&&t.errorWrappingFunctions&&e(),(n=sn.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",r=>{if(r)return $y.error("failed to load script",r);e()})}ht(){var e,t,n;(e=this.ot)==null||e.call(this),this.ot=void 0,(t=this.lt)==null||t.call(this),this.lt=void 0,(n=this.ut)==null||n.call(this),this.ut=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.dt=!!t||!1,this.S=this.vt(),this._instance.persistence&&this._instance.persistence.register({[mk]:this.dt}),this.startIfEnabled()}captureException(e){var t,n=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=n+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var r=(t=e.$exception_list[0].type)!==null&&t!==void 0?t:"Exception";this.ct.consumeRateLimit(r)?$y.info("Skipping exception capture because of client rate limiting.",{exception:e.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(e)}};function NN(i){return!yt(Event)&&MN(i,Event)}function MN(i,e){try{return i instanceof e}catch{return!1}}function FN(i){switch(Object.prototype.toString.call(i)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return MN(i,Error)}}function A1(i,e){return Object.prototype.toString.call(i)==="[object "+e+"]"}function n2(i){return A1(i,"DOMError")}var Lk=/\(error: (.*)\)/,Ok=50,nf="?";function i2(i,e,t,n){var r={platform:"web:javascript",filename:i,function:e==="<anonymous>"?nf:e,in_app:!0};return yt(t)||(r.lineno=t),yt(n)||(r.colno=n),r}var R0e=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,k0e=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,A0e=/\((\S*)(?::(\d+))(?::(\d+))\)/,V0e=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,L0e=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,O0e=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var n=e.sort((r,s)=>r[0]-s[0]).map(r=>r[1]);return function(r,s){s===void 0&&(s=0);for(var o=[],a=r.split(`
`),l=s;l<a.length;l++){var u=a[l];if(!(u.length>1024)){var c=Lk.test(u)?u.replace(Lk,"$1"):u;if(!c.match(/\S*Error: /)){for(var h of n){var f=h(c);if(f){o.push(f);break}}if(o.length>=Ok)break}}}return function(m){if(!m.length)return[];var b=Array.from(m);return b.reverse(),b.slice(0,Ok).map(_=>Pt({},_,{filename:_.filename||D0e(b).filename,function:_.function||nf}))}(o)}}([30,i=>{var e=R0e.exec(i);if(e){var[,t,n,r]=e;return i2(t,nf,+n,+r)}var s=k0e.exec(i);if(s){if(s[2]&&s[2].indexOf("eval")===0){var o=A0e.exec(s[2]);o&&(s[2]=o[1],s[3]=o[2],s[4]=o[3])}var[a,l]=Nk(s[1]||nf,s[2]);return i2(l,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,i=>{var e=V0e.exec(i);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var t=L0e.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}var n=e[3],r=e[1]||nf;return[r,n]=Nk(r,n),i2(n,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function D0e(i){return i[i.length-1]||{}}var By,Dk,r2,Nk=(i,e)=>{var t=i.indexOf("safari-extension")!==-1,n=i.indexOf("safari-web-extension")!==-1;return t||n?[i.indexOf("@")!==-1?i.split("@")[0]:nf,t?"safari-extension:"+e:"safari-web-extension:"+e]:[i,e]},N0e=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function MT(i,e){e===void 0&&(e=0);var t=i.stacktrace||i.stack||"",n=function(o){return o&&M0e.test(o.message)?1:0}(i);try{var r=O0e,s=function(o,a){var l=function(u){var c=globalThis._posthogChunkIds;if(!c)return{};var h=Object.keys(c);return r2&&h.length===Dk||(Dk=h.length,r2=h.reduce((f,m)=>{By||(By={});var b=By[m];if(b)f[b[0]]=b[1];else for(var _=u(m),E=_.length-1;E>=0;E--){var k=_[E],j=k==null?void 0:k.filename,M=c[m];if(j&&M){f[j]=M,By[m]=[j,M];break}}return f},{})),r2}(a);return o.forEach(u=>{u.filename&&(u.chunk_id=l[u.filename])}),o}(r(t,n),r);return s.slice(0,s.length-e)}catch{}return[]}var M0e=/Minified React error #\d+;/i;function F0e(i,e){var t,n,r=MT(i),s=(t=e==null?void 0:e.handled)===null||t===void 0||t,o=(n=e==null?void 0:e.synthetic)!==null&&n!==void 0&&n;return{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:i.name,value:function(a){var l=a.message;return l.error&&typeof l.error.message=="string"?String(l.error.message):String(l)}(i),stacktrace:{frames:r,type:"raw"},mechanism:{handled:s,synthetic:o}}}function $N(i,e){var t=F0e(i,e);return i.cause&&FN(i.cause)&&i.cause!==i?[t,...$N(i.cause,{handled:e==null?void 0:e.handled,synthetic:e==null?void 0:e.synthetic})]:[t]}function s2(i,e){return{$exception_list:$N(i,e),$exception_level:"error"}}function o2(i,e){var t,n,r,s=(t=e==null?void 0:e.handled)===null||t===void 0||t,o=(n=e==null?void 0:e.synthetic)===null||n===void 0||n,a={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(r=e==null?void 0:e.defaultExceptionType)!==null&&r!==void 0?r:"Error",value:i||(e==null?void 0:e.defaultExceptionMessage),mechanism:{handled:s,synthetic:o}};if(e!=null&&e.syntheticException){var l=MT(e.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:"error"}}function $0e(i){return Yi(i)&&!nI(i)&&K1e.indexOf(i)>=0}function B0e(i,e){var t,n,r=(t=e==null?void 0:e.handled)===null||t===void 0||t,s=(n=e==null?void 0:e.synthetic)===null||n===void 0||n,o=e!=null&&e.overrideExceptionType?e.overrideExceptionType:NN(i)?i.constructor.name:"Error",a="Non-Error 'exception' captured with keys: "+function(c,h){h===void 0&&(h=40);var f=Object.keys(c);if(f.sort(),!f.length)return"[object has no keys]";for(var m=f.length;m>0;m--){var b=f.slice(0,m).join(", ");if(!(b.length>h))return m===f.length||b.length<=h?b:b.slice(0,h)+"..."}return""}(i),l={type:o,value:a,mechanism:{handled:r,synthetic:s}};if(e!=null&&e.syntheticException){var u=MT(e==null?void 0:e.syntheticException,1);u.length&&(l.stacktrace={frames:u,type:"raw"})}return{$exception_list:[l],$exception_level:$0e(i.level)?i.level:"error"}}function q0e(i,e){var{error:t,event:n}=i,r={$exception_list:[]},s=t||n;if(n2(s)||function(f){return A1(f,"DOMException")}(s)){var o=s;if(function(f){return"stack"in f}(s))r=s2(s,e);else{var a=o.name||(n2(o)?"DOMError":"DOMException"),l=o.message?a+": "+o.message:a;r=o2(l,Pt({},e,{overrideExceptionType:n2(o)?"DOMError":"DOMException",defaultExceptionMessage:l}))}return"code"in o&&(r.$exception_DOMException_code=""+o.code),r}if(function(f){return A1(f,"ErrorEvent")}(s)&&s.error)return s2(s.error,e);if(FN(s))return s2(s,e);if(function(f){return A1(f,"Object")}(s)||NN(s))return B0e(s,e);if(yt(t)&&Yi(n)){var u="Error",c=n,h=n.match(N0e);return h&&(u=h[1],c=h[2]),o2(c,Pt({},e,{overrideExceptionType:u,defaultExceptionMessage:c}))}return o2(s,e)}function Mk(i,e,t){try{if(!(e in i))return()=>{};var n=i[e],r=t(n);return aa(r)&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__posthog_wrapped__:{enumerable:!1,value:!0}})),i[e]=r,()=>{i[e]=n}}catch{return()=>{}}}class U0e{constructor(e){var t;this._instance=e,this.ft=(Ce==null||(t=Ce.location)==null?void 0:t.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Mt.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this._t&&this._t(),this._t=void 0,Mt.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(Ce&&Ce.history){var n=this;(e=Ce.history.pushState)!=null&&e.__posthog_wrapped__||Mk(Ce.history,"pushState",r=>function(s,o,a){r.call(this,s,o,a),n.gt("pushState")}),(t=Ce.history.replaceState)!=null&&t.__posthog_wrapped__||Mk(Ce.history,"replaceState",r=>function(s,o,a){r.call(this,s,o,a),n.gt("replaceState")}),this.bt()}}gt(e){try{var t,n=Ce==null||(t=Ce.location)==null?void 0:t.pathname;if(!n)return;n!==this.ft&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.ft=n}catch(r){Mt.error("Error capturing "+e+" pageview",r)}}bt(){if(!this._t){var e=()=>{this.gt("popstate")};Bi(Ce,"popstate",e),this._t=()=>{Ce&&Ce.removeEventListener("popstate",e)}}}}function O0(i){var e,t;return((e=JSON.stringify(i,(t=[],function(n,r){if(Ki(r)){for(;t.length>0&&t[t.length-1]!==this;)t.pop();return t.includes(r)?"[Circular]":(t.push(r),r)}return r})))==null?void 0:e.length)||0}function mI(i,e){if(e===void 0&&(e=66060288e-1),i.size>=e&&i.data.length>1){var t=Math.floor(i.data.length/2),n=i.data.slice(0,t),r=i.data.slice(t);return[mI({size:O0(n),data:n,sessionId:i.sessionId,windowId:i.windowId}),mI({size:O0(r),data:r,sessionId:i.sessionId,windowId:i.windowId})].flatMap(s=>s)}return[i]}var ou=(i=>(i[i.DomContentLoaded=0]="DomContentLoaded",i[i.Load=1]="Load",i[i.FullSnapshot=2]="FullSnapshot",i[i.IncrementalSnapshot=3]="IncrementalSnapshot",i[i.Meta=4]="Meta",i[i.Custom=5]="Custom",i[i.Plugin=6]="Plugin",i))(ou||{}),Sa=(i=>(i[i.Mutation=0]="Mutation",i[i.MouseMove=1]="MouseMove",i[i.MouseInteraction=2]="MouseInteraction",i[i.Scroll=3]="Scroll",i[i.ViewportResize=4]="ViewportResize",i[i.Input=5]="Input",i[i.TouchMove=6]="TouchMove",i[i.MediaInteraction=7]="MediaInteraction",i[i.StyleSheetRule=8]="StyleSheetRule",i[i.CanvasMutation=9]="CanvasMutation",i[i.Font=10]="Font",i[i.Log=11]="Log",i[i.Drag=12]="Drag",i[i.StyleDeclaration=13]="StyleDeclaration",i[i.Selection=14]="Selection",i[i.AdoptedStyleSheet=15]="AdoptedStyleSheet",i[i.CustomElement=16]="CustomElement",i))(Sa||{}),vI="[SessionRecording]",yI="redacted",qy={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:i=>i,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},H0e=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],z0e=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],j0e=["/s/","/e/","/i/"];function Fk(i,e,t,n){if(Yn(i))return i;var r=(e==null?void 0:e["content-length"])||function(s){return new Blob([s]).size}(i);return Yi(r)&&(r=parseInt(r)),r>t?vI+" "+n+" body too large to record ("+r+" bytes)":i}function $k(i,e){if(Yn(i))return i;var t=i;return zf(t,!1)||(t=vI+" "+e+" body "+yI),gi(z0e,n=>{var r,s;(r=t)!=null&&r.length&&((s=t)==null?void 0:s.indexOf(n))!==-1&&(t=vI+" "+e+" body "+yI+" as might contain: "+n)}),t}var Q0e=(i,e)=>{var t,n,r,s={payloadSizeLimitBytes:qy.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...qy.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],...qy.payloadHostDenyList]},o=i.session_recording.recordHeaders!==!1&&e.recordHeaders,a=i.session_recording.recordBody!==!1&&e.recordBody,l=i.capture_performance!==!1&&e.recordPerformance,u=(t=s,r=Math.min(1e6,(n=t.payloadSizeLimitBytes)!==null&&n!==void 0?n:1e6),f=>(f!=null&&f.requestBody&&(f.requestBody=Fk(f.requestBody,f.requestHeaders,r,"Request")),f!=null&&f.responseBody&&(f.responseBody=Fk(f.responseBody,f.responseHeaders,r,"Response")),f)),c=f=>{return u(((_,E)=>{var k,j=jf(_.name),M=E.indexOf("http")===0?(k=jf(E))==null?void 0:k.pathname:E;M==="/"&&(M="");var q=j==null?void 0:j.pathname.replace(M||"","");if(!(j&&q&&j0e.some(J=>q.indexOf(J)===0)))return _})((b=(m=f).requestHeaders,Yn(b)||gi(Object.keys(b??{}),_=>{H0e.includes(_.toLowerCase())&&(b[_]=yI)}),m),i.api_host));var m,b},h=aa(i.session_recording.maskNetworkRequestFn);return h&&aa(i.session_recording.maskCapturedNetworkRequestFn)&&Mt.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),h&&(i.session_recording.maskCapturedNetworkRequestFn=f=>{var m=i.session_recording.maskNetworkRequestFn({url:f.name});return Pt({},f,{name:m==null?void 0:m.url})}),s.maskRequestFn=aa(i.session_recording.maskCapturedNetworkRequestFn)?f=>{var m,b=c(f);return b&&(m=i.session_recording.maskCapturedNetworkRequestFn==null?void 0:i.session_recording.maskCapturedNetworkRequestFn(b))!==null&&m!==void 0?m:void 0}:f=>function(m){if(!yt(m))return m.requestBody=$k(m.requestBody,"Request"),m.responseBody=$k(m.responseBody,"Response"),m}(c(f)),Pt({},qy,s,{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};class W0e{constructor(e,t){var n,r;t===void 0&&(t={}),this.yt={},this.wt=s=>{if(!this.yt[s]){var o,a;this.yt[s]=!0;var l=this.St(s);(o=(a=this.rt).onBlockedNode)==null||o.call(a,s,l)}},this.$t=s=>{var o=this.St(s);if((o==null?void 0:o.nodeName)!=="svg"&&o instanceof Element){var a=o.closest("svg");if(a)return[this._rrweb.mirror.getId(a),a]}return[s,o]},this.St=s=>this._rrweb.mirror.getNode(s),this.xt=s=>{var o,a,l,u,c,h,f,m;return((o=(a=s.removes)==null?void 0:a.length)!==null&&o!==void 0?o:0)+((l=(u=s.attributes)==null?void 0:u.length)!==null&&l!==void 0?l:0)+((c=(h=s.texts)==null?void 0:h.length)!==null&&c!==void 0?c:0)+((f=(m=s.adds)==null?void 0:m.length)!==null&&f!==void 0?f:0)},this.throttleMutations=s=>{if(s.type!==3||s.data.source!==0)return s;var o=s.data,a=this.xt(o);o.attributes&&(o.attributes=o.attributes.filter(u=>{var[c]=this.$t(u.id);return!this.ct.consumeRateLimit(c)&&u}));var l=this.xt(o);return l!==0||a===l?s:void 0},this._rrweb=e,this.rt=t,this.ct=new DN({bucketSize:(n=this.rt.bucketSize)!==null&&n!==void 0?n:100,refillRate:(r=this.rt.refillRate)!==null&&r!==void 0?r:10,refillInterval:1e3,et:this.wt})}}var la=Uint8Array,oo=Uint16Array,Qf=Uint32Array,FT=new la([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$T=new la([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Bk=new la([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BN=function(i,e){for(var t=new oo(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];var r=new Qf(t[30]);for(n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)r[s]=s-t[n]<<5|n;return[t,r]},qN=BN(FT,2),G0e=qN[0],bI=qN[1];G0e[28]=258,bI[258]=28;for(var qk=BN($T,0)[1],UN=new oo(32768),Ai=0;Ai<32768;++Ai){var Id=(43690&Ai)>>>1|(21845&Ai)<<1;Id=(61680&(Id=(52428&Id)>>>2|(13107&Id)<<2))>>>4|(3855&Id)<<4,UN[Ai]=((65280&Id)>>>8|(255&Id)<<8)>>>1}var nm=function(i,e,t){for(var n=i.length,r=0,s=new oo(e);r<n;++r)++s[i[r]-1];var o,a=new oo(e);for(r=0;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;for(o=new oo(n),r=0;r<n;++r)o[r]=UN[a[i[r]-1]++]>>>15-i[r];return o},uh=new la(288);for(Ai=0;Ai<144;++Ai)uh[Ai]=8;for(Ai=144;Ai<256;++Ai)uh[Ai]=9;for(Ai=256;Ai<280;++Ai)uh[Ai]=7;for(Ai=280;Ai<288;++Ai)uh[Ai]=8;var D0=new la(32);for(Ai=0;Ai<32;++Ai)D0[Ai]=5;var K0e=nm(uh,9),J0e=nm(D0,5),HN=function(i){return(i/8>>0)+(7&i&&1)},zN=function(i,e,t){(t==null||t>i.length)&&(t=i.length);var n=new(i instanceof oo?oo:i instanceof Qf?Qf:la)(t-e);return n.set(i.subarray(e,t)),n},eu=function(i,e,t){t<<=7&e;var n=e/8>>0;i[n]|=t,i[n+1]|=t>>>8},og=function(i,e,t){t<<=7&e;var n=e/8>>0;i[n]|=t,i[n+1]|=t>>>8,i[n+2]|=t>>>16},a2=function(i,e){for(var t=[],n=0;n<i.length;++n)i[n]&&t.push({s:n,f:i[n]});var r=t.length,s=t.slice();if(!r)return[new la(0),0];if(r==1){var o=new la(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort(function(J,Z){return J.f-Z.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],u=0,c=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=r-1;)a=t[t[u].f<t[h].f?u++:h++],l=t[u!=c&&t[u].f<t[h].f?u++:h++],t[c++]={s:-1,f:a.f+l.f,l:a,r:l};var f=s[0].s;for(n=1;n<r;++n)s[n].s>f&&(f=s[n].s);var m=new oo(f+1),b=CI(t[c-1],m,0);if(b>e){n=0;var _=0,E=b-e,k=1<<E;for(s.sort(function(J,Z){return m[Z.s]-m[J.s]||J.f-Z.f});n<r;++n){var j=s[n].s;if(!(m[j]>e))break;_+=k-(1<<b-m[j]),m[j]=e}for(_>>>=E;_>0;){var M=s[n].s;m[M]<e?_-=1<<e-m[M]++-1:++n}for(;n>=0&&_;--n){var q=s[n].s;m[q]==e&&(--m[q],++_)}b=e}return[new la(m),b]},CI=function(i,e,t){return i.s==-1?Math.max(CI(i.l,e,t+1),CI(i.r,e,t+1)):e[i.s]=t},Uk=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new oo(++e),n=0,r=i[0],s=1,o=function(l){t[n++]=l},a=1;a<=e;++a)if(i[a]==r&&a!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=i[a]}return[t.subarray(0,n),e]},ag=function(i,e){for(var t=0,n=0;n<e.length;++n)t+=i[n]*e[n];return t},wI=function(i,e,t){var n=t.length,r=HN(e+2);i[r]=255&n,i[r+1]=n>>>8,i[r+2]=255^i[r],i[r+3]=255^i[r+1];for(var s=0;s<n;++s)i[r+s+4]=t[s];return 8*(r+4+n)},Hk=function(i,e,t,n,r,s,o,a,l,u,c){eu(e,c++,t),++r[256];for(var h=a2(r,15),f=h[0],m=h[1],b=a2(s,15),_=b[0],E=b[1],k=Uk(f),j=k[0],M=k[1],q=Uk(_),J=q[0],Z=q[1],L=new oo(19),y=0;y<j.length;++y)L[31&j[y]]++;for(y=0;y<J.length;++y)L[31&J[y]]++;for(var w=a2(L,7),R=w[0],U=w[1],H=19;H>4&&!R[Bk[H-1]];--H);var B,Oe,De,tt,Ne=u+5<<3,Me=ag(r,uh)+ag(s,D0)+o,qe=ag(r,f)+ag(s,_)+o+14+3*H+ag(L,R)+(2*L[16]+3*L[17]+7*L[18]);if(Ne<=Me&&Ne<=qe)return wI(e,c,i.subarray(l,l+u));if(eu(e,c,1+(qe<Me)),c+=2,qe<Me){B=nm(f,m),Oe=f,De=nm(_,E),tt=_;var Ue=nm(R,U);for(eu(e,c,M-257),eu(e,c+5,Z-1),eu(e,c+10,H-4),c+=14,y=0;y<H;++y)eu(e,c+3*y,R[Bk[y]]);c+=3*H;for(var We=[j,J],Re=0;Re<2;++Re){var Le=We[Re];for(y=0;y<Le.length;++y){var Ct=31&Le[y];eu(e,c,Ue[Ct]),c+=R[Ct],Ct>15&&(eu(e,c,Le[y]>>>5&127),c+=Le[y]>>>12)}}}else B=K0e,Oe=uh,De=J0e,tt=D0;for(y=0;y<a;++y)if(n[y]>255){Ct=n[y]>>>18&31,og(e,c,B[Ct+257]),c+=Oe[Ct+257],Ct>7&&(eu(e,c,n[y]>>>23&31),c+=FT[Ct]);var It=31&n[y];og(e,c,De[It]),c+=tt[It],It>3&&(og(e,c,n[y]>>>5&8191),c+=$T[It])}else og(e,c,B[n[y]]),c+=Oe[n[y]];return og(e,c,B[256]),c+Oe[256]},Y0e=new Qf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z0e=function(){for(var i=new Qf(256),e=0;e<256;++e){for(var t=e,n=9;--n;)t=(1&t&&3988292384)^t>>>1;i[e]=t}return i}(),X0e=function(){var i=4294967295;return{p:function(e){for(var t=i,n=0;n<e.length;++n)t=Z0e[255&t^e[n]]^t>>>8;i=t},d:function(){return 4294967295^i}}},ebe=function(i,e,t,n,r){return function(s,o,a,l,u,c){var h=s.length,f=new la(l+h+5*(1+Math.floor(h/7e3))+u),m=f.subarray(l,f.length-u),b=0;if(!o||h<8)for(var _=0;_<=h;_+=65535){var E=_+65535;E<h?b=wI(m,b,s.subarray(_,E)):(m[_]=c,b=wI(m,b,s.subarray(_,h)))}else{for(var k=Y0e[o-1],j=k>>>13,M=8191&k,q=(1<<a)-1,J=new oo(32768),Z=new oo(q+1),L=Math.ceil(a/3),y=2*L,w=function(Jt){return(s[Jt]^s[Jt+1]<<L^s[Jt+2]<<y)&q},R=new Qf(25e3),U=new oo(288),H=new oo(32),B=0,Oe=0,De=(_=0,0),tt=0,Ne=0;_<h;++_){var Me=w(_),qe=32767&_,Ue=Z[Me];if(J[qe]=Ue,Z[Me]=qe,tt<=_){var We=h-_;if((B>7e3||De>24576)&&We>423){b=Hk(s,m,0,R,U,H,Oe,De,Ne,_-Ne,b),De=B=Oe=0,Ne=_;for(var Re=0;Re<286;++Re)U[Re]=0;for(Re=0;Re<30;++Re)H[Re]=0}var Le=2,Ct=0,It=M,Dt=qe-Ue&32767;if(We>2&&Me==w(_-Dt))for(var fe=Math.min(j,We)-1,ve=Math.min(32767,_),Ee=Math.min(258,We);Dt<=ve&&--It&&qe!=Ue;){if(s[_+Le]==s[_+Le-Dt]){for(var $e=0;$e<Ee&&s[_+$e]==s[_+$e-Dt];++$e);if($e>Le){if(Le=$e,Ct=Dt,$e>fe)break;var Fe=Math.min(Dt,$e-2),Vt=0;for(Re=0;Re<Fe;++Re){var at=_-Dt+Re+32768&32767,de=at-J[at]+32768&32767;de>Vt&&(Vt=de,Ue=at)}}}Dt+=(qe=Ue)-(Ue=J[qe])+32768&32767}if(Ct){R[De++]=268435456|bI[Le]<<18|qk[Ct];var Ke=31&bI[Le],$t=31&qk[Ct];Oe+=FT[Ke]+$T[$t],++U[257+Ke],++H[$t],tt=_+Le,++B}else R[De++]=s[_],++U[s[_]]}}b=Hk(s,m,c,R,U,H,Oe,De,Ne,_-Ne,b)}return zN(f,0,l+HN(b)+u)}(i,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+e.mem,t,n,!0)},_I=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},tbe=function(i,e){var t=e.filename;if(i[0]=31,i[1]=139,i[2]=8,i[8]=e.level<2?4:e.level==9?2:0,i[9]=3,e.mtime!=0&&_I(i,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){i[3]=8;for(var n=0;n<=t.length;++n)i[n+10]=t.charCodeAt(n)}},nbe=function(i){return 10+(i.filename&&i.filename.length+1||0)};function jN(i,e){e===void 0&&(e={});var t=X0e(),n=i.length;t.p(i);var r=ebe(i,e,nbe(e),8),s=r.length;return tbe(r,e),_I(r,s-8,t.d()),_I(r,s-4,n),r}function QN(i,e){var t=i.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(i);for(var n=new la(i.length+(i.length>>>1)),r=0,s=function(u){n[r++]=u},o=0;o<t;++o){if(r+5>n.length){var a=new la(r+8+(t-o<<1));a.set(n),n=a}var l=i.charCodeAt(o);l<128||e?s(l):l<2048?(s(192|l>>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&i.charCodeAt(++o))>>>18),s(128|l>>>12&63),s(128|l>>>6&63),s(128|63&l)):(s(224|l>>>12),s(128|l>>>6&63),s(128|63&l))}return zN(n,0,r)}function ibe(i,e){return function(t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r),n|=0;return Math.abs(n)}(i)%100<Ro(100*e,0,100)}var Wc="disabled",BT="sampled",N0="active",ch="buffering",qT="paused",UT="trigger",El=UT+"_activated",_s=UT+"_pending",Dl=UT+"_"+Wc;function zk(i,e){return e.some(t=>t.matching==="regex"&&new RegExp(t.url).test(i))}class WN{constructor(e){this.kt=e}triggerStatus(e){var t=this.kt.map(n=>n.triggerStatus(e));return t.includes(El)?El:t.includes(_s)?_s:Dl}stop(){this.kt.forEach(e=>e.stop())}}class GN{constructor(e){this.kt=e}triggerStatus(e){var t=new Set;for(var n of this.kt)t.add(n.triggerStatus(e));switch(t.delete(Dl),t.size){case 0:return Dl;case 1:return Array.from(t)[0];default:return _s}}stop(){this.kt.forEach(e=>e.stop())}}class rbe{triggerStatus(){return _s}stop(){}}class sbe{constructor(e){this.Et=[],this.It=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var t,n;this.Et=((t=e.sessionRecording)==null?void 0:t.urlTriggers)||[],this.It=((n=e.sessionRecording)==null?void 0:n.urlBlocklist)||[]}Pt(e){var t;return this.Et.length===0?Dl:((t=this._instance)==null?void 0:t.get_property(oI))===e?El:_s}triggerStatus(e){var t=this.Pt(e),n=t===El?El:t===_s?_s:Dl;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:n}),n}checkUrlTriggerConditions(e,t,n){if(Ce!==void 0&&Ce.location.href){var r=Ce.location.href,s=this.urlBlocked,o=zk(r,this.It);s&&o||(o&&!s?e():!o&&s&&t(),zk(r,this.Et)&&n("url"))}}stop(){}}let obe=class{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Rt=()=>{},this._instance=e}triggerStatus(){var e=_s;return Yn(this.linkedFlag)&&(e=Dl),this.linkedFlagSeen&&(e=El),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,t){var n;if(this.linkedFlag=((n=e.sessionRecording)==null?void 0:n.linkedFlag)||null,!Yn(this.linkedFlag)&&!this.linkedFlagSeen){var r=Yi(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,s=Yi(this.linkedFlag)?null:this.linkedFlag.variant;this.Rt=this._instance.onFeatureFlags((o,a)=>{var l=!1;if(Ki(a)&&r in a){var u=a[r];l=ml(u)?u===!0:s?u===s:!!u}this.linkedFlagSeen=l,l&&t(r,s)})}}stop(){this.Rt()}},abe=class{constructor(e){this.Tt=[],this._instance=e}onRemoteConfig(e){var t;this.Tt=((t=e.sessionRecording)==null?void 0:t.eventTriggers)||[]}Mt(e){var t;return this.Tt.length===0?Dl:((t=this._instance)==null?void 0:t.get_property(aI))===e?El:_s}triggerStatus(e){var t=this.Mt(e),n=t===El?El:t===_s?_s:Dl;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:n}),n}stop(){}};function lbe(i){return i.isRecordingEnabled?ch:Wc}function ube(i){if(!i.receivedFlags)return ch;if(!i.isRecordingEnabled)return Wc;if(i.urlTriggerMatching.urlBlocked)return qT;var e=i.isSampled===!0,t=new WN([i.eventTriggerMatching,i.urlTriggerMatching,i.linkedFlagMatching]).triggerStatus(i.sessionId);return e?BT:t===El?N0:t===_s?ch:i.isSampled===!1?Wc:N0}function cbe(i){if(!i.receivedFlags)return ch;if(!i.isRecordingEnabled)return Wc;if(i.urlTriggerMatching.urlBlocked)return qT;var e=new GN([i.eventTriggerMatching,i.urlTriggerMatching,i.linkedFlagMatching]).triggerStatus(i.sessionId),t=e!==Dl,n=ml(i.isSampled);return t&&e===_s?ch:t&&e===Dl||n&&!i.isSampled?Wc:i.isSampled===!0?BT:N0}var Rg="[SessionRecording]",ps=jr(Rg);function Uy(){var i;return sn==null||(i=sn.__PosthogExtensions__)==null||(i=i.rrweb)==null?void 0:i.record}var dbe=3e5,hbe=[Sa.MouseMove,Sa.MouseInteraction,Sa.Scroll,Sa.ViewportResize,Sa.Input,Sa.TouchMove,Sa.MediaInteraction,Sa.Drag],jk=i=>({rrwebMethod:i,enqueuedAt:Date.now(),attempt:1});function Ed(i){return function(e,t){for(var n="",r=0;r<e.length;){var s=e[r++];n+=String.fromCharCode(s)}return n}(jN(QN(JSON.stringify(i))))}function Qk(i){return i.type===ou.Custom&&i.data.tag==="sessionIdle"}let fbe=class{get sessionId(){return this.Ct}get Ft(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Ot}get At(){if(!this._instance.sessionManager)throw new Error(Rg+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Dt(){var e,t;return this.Lt.triggerStatus(this.sessionId)===_s?6e4:(e=(t=this._instance.config.session_recording)==null?void 0:t.full_snapshot_interval_millis)!==null&&e!==void 0?e:dbe}get jt(){var e=this._instance.get_property(Tg);return ml(e)?e:null}get Nt(){var e,t,n=(e=this.C)==null?void 0:e.data[((t=this.C)==null?void 0:t.data.length)-1],{sessionStartTimestamp:r}=this.At.checkAndGetSessionAndWindowId(!0);return n?n.timestamp-r:null}get zt(){var e=!!this._instance.get_property(sI),t=!this._instance.config.disable_session_recording;return Ce&&e&&t}get Ut(){var e=!!this._instance.get_property(Ck),t=this._instance.config.enable_recording_console_log;return t??e}get qt(){var e,t,n,r,s,o,a=this._instance.config.session_recording.captureCanvas,l=this._instance.get_property(Ik),u=(e=(t=a==null?void 0:a.recordCanvas)!==null&&t!==void 0?t:l==null?void 0:l.enabled)!==null&&e!==void 0&&e,c=(n=(r=a==null?void 0:a.canvasFps)!==null&&r!==void 0?r:l==null?void 0:l.fps)!==null&&n!==void 0?n:4,h=(s=(o=a==null?void 0:a.canvasQuality)!==null&&o!==void 0?o:l==null?void 0:l.quality)!==null&&s!==void 0?s:.4;if(typeof h=="string"){var f=parseFloat(h);h=isNaN(f)?.4:f}return{enabled:u,fps:Ro(c,0,12,"canvas recording fps",4),quality:Ro(h,0,1,"canvas recording quality",.4)}}get Bt(){var e,t,n=this._instance.get_property(wk),r={recordHeaders:(e=this._instance.config.session_recording)==null?void 0:e.recordHeaders,recordBody:(t=this._instance.config.session_recording)==null?void 0:t.recordBody},s=(r==null?void 0:r.recordHeaders)||(n==null?void 0:n.recordHeaders),o=(r==null?void 0:r.recordBody)||(n==null?void 0:n.recordBody),a=Ki(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,l=!!(ml(a)?a:n!=null&&n.capturePerformance);return s||o||l?{recordHeaders:s,recordBody:o,recordPerformance:l}:void 0}get Ht(){var e,t,n,r,s,o,a=this._instance.get_property(_k),l={maskAllInputs:(e=this._instance.config.session_recording)==null?void 0:e.maskAllInputs,maskTextSelector:(t=this._instance.config.session_recording)==null?void 0:t.maskTextSelector,blockSelector:(n=this._instance.config.session_recording)==null?void 0:n.blockSelector},u=(r=l==null?void 0:l.maskAllInputs)!==null&&r!==void 0?r:a==null?void 0:a.maskAllInputs,c=(s=l==null?void 0:l.maskTextSelector)!==null&&s!==void 0?s:a==null?void 0:a.maskTextSelector,h=(o=l==null?void 0:l.blockSelector)!==null&&o!==void 0?o:a==null?void 0:a.blockSelector;return yt(u)&&yt(c)&&yt(h)?void 0:{maskAllInputs:u==null||u,maskTextSelector:c,blockSelector:h}}get Wt(){var e=this._instance.get_property(Ek);return ys(e)?e:null}get Gt(){var e=this._instance.get_property(Sk);return ys(e)?e:null}get status(){return this.Jt?this.Vt({receivedFlags:this.Jt,isRecordingEnabled:this.zt,isSampled:this.jt,urlTriggerMatching:this.Kt,eventTriggerMatching:this.Yt,linkedFlagMatching:this.Xt,sessionId:this.sessionId}):ch}constructor(e){if(this.Vt=lbe,this.Jt=!1,this.Qt=[],this.Zt="unknown",this.ti=Date.now(),this.Lt=new rbe,this.ii=void 0,this.ei=void 0,this.ri=void 0,this.si=void 0,this.ni=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.oi=()=>{this.ai()},this.li=()=>{this.ui("browser offline",{})},this.hi=()=>{this.ui("browser online",{})},this.di=()=>{if(Lt!=null&&Lt.visibilityState){var r="window "+Lt.visibilityState;this.ui(r,{})}},this._instance=e,this.Ot=!1,this.vi="/s/",this.ci=void 0,this.Jt=!1,!this._instance.sessionManager)throw ps.error("started without valid sessionManager"),new Error(Rg+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw new Error(Rg+" cannot be used with __preview_experimental_cookieless_mode.");this.Xt=new obe(this._instance),this.Kt=new sbe(this._instance),this.Yt=new abe(this._instance);var{sessionId:t,windowId:n}=this.At.checkAndGetSessionAndWindowId();this.Ct=t,this.fi=n,this.C=this.pi(),this.Ft>=this.At.sessionTimeoutMs&&ps.warn("session_idle_threshold_ms ("+this.Ft+") is greater than the session timeout ("+this.At.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.zt?(this.gi(e),Bi(Ce,"beforeunload",this.oi),Bi(Ce,"offline",this.li),Bi(Ce,"online",this.hi),Bi(Ce,"visibilitychange",this.di),this.mi(),this.bi(),Yn(this.ii)&&(this.ii=this._instance.on("eventCaptured",t=>{try{if(t.event==="$pageview"){var n=t!=null&&t.properties.$current_url?this.yi(t==null?void 0:t.properties.$current_url):"";if(!n)return;this.ui("$pageview",{href:n})}}catch(r){ps.error("Could not add $pageview to rrweb session",r)}})),this.ei||(this.ei=this.At.onSessionId((t,n,r)=>{var s,o;r&&(this.ui("$session_id_change",{sessionId:t,windowId:n,changeReason:r}),(s=this._instance)==null||(s=s.persistence)==null||s.unregister(aI),(o=this._instance)==null||(o=o.persistence)==null||o.unregister(oI))}))):this.stopRecording()}stopRecording(){var e,t,n,r;this.Ot&&this.ci&&(this.ci(),this.ci=void 0,this.Ot=!1,Ce==null||Ce.removeEventListener("beforeunload",this.oi),Ce==null||Ce.removeEventListener("offline",this.li),Ce==null||Ce.removeEventListener("online",this.hi),Ce==null||Ce.removeEventListener("visibilitychange",this.di),this.pi(),clearInterval(this.wi),(e=this.ii)==null||e.call(this),this.ii=void 0,(t=this.ni)==null||t.call(this),this.ni=void 0,(n=this.ei)==null||n.call(this),this.ei=void 0,(r=this.si)==null||r.call(this),this.si=void 0,this.Yt.stop(),this.Kt.stop(),this.Xt.stop(),ps.info("stopped"))}Si(){var e;(e=this._instance.persistence)==null||e.unregister(Tg)}$i(e){var t,n=this.Ct!==e,r=this.Wt;if(ys(r)){var s=this.jt,o=n||!ml(s),a=o?ibe(e,r):s;o&&(a?this.xi(BT):ps.warn("Sample rate ("+r+") has determined that this sessionId ("+e+") will not be sent to the server."),this.ui("samplingDecisionMade",{sampleRate:r,isSampled:a})),(t=this._instance.persistence)==null||t.register({[Tg]:a})}else this.Si()}onRemoteConfig(e){var t,n,r,s;this.ui("$remote_config_received",e),this.ki(e),(t=e.sessionRecording)!=null&&t.endpoint&&(this.vi=(s=e.sessionRecording)==null?void 0:s.endpoint),this.mi(),((n=e.sessionRecording)==null?void 0:n.triggerMatchType)==="any"?(this.Vt=ube,this.Lt=new WN([this.Yt,this.Kt])):(this.Vt=cbe,this.Lt=new GN([this.Yt,this.Kt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(r=e.sessionRecording)==null?void 0:r.triggerMatchType}),this.Kt.onRemoteConfig(e),this.Yt.onRemoteConfig(e),this.Xt.onRemoteConfig(e,(o,a)=>{this.xi("linked_flag_matched",{flag:o,variant:a})}),this.Jt=!0,this.startIfEnabledOrStop()}mi(){ys(this.Wt)&&Yn(this.si)&&(this.si=this.At.onSessionId(e=>{this.$i(e)}))}ki(e){if(this._instance.persistence){var t,n=this._instance.persistence,r=()=>{var s,o,a,l,u,c,h,f,m,b=(s=e.sessionRecording)==null?void 0:s.sampleRate,_=Yn(b)?null:parseFloat(b);Yn(_)&&this.Si();var E=(o=e.sessionRecording)==null?void 0:o.minimumDurationMilliseconds;n.register({[sI]:!!e.sessionRecording,[Ck]:(a=e.sessionRecording)==null?void 0:a.consoleLogRecordingEnabled,[wk]:Pt({capturePerformance:e.capturePerformance},(l=e.sessionRecording)==null?void 0:l.networkPayloadCapture),[_k]:(u=e.sessionRecording)==null?void 0:u.masking,[Ik]:{enabled:(c=e.sessionRecording)==null?void 0:c.recordCanvas,fps:(h=e.sessionRecording)==null?void 0:h.canvasFps,quality:(f=e.sessionRecording)==null?void 0:f.canvasQuality},[Ek]:_,[Sk]:yt(E)?null:E,[Tk]:(m=e.sessionRecording)==null?void 0:m.scriptConfig})};r(),(t=this.ri)==null||t.call(this),this.ri=this.At.onSessionId(r)}}log(e,t){var n;t===void 0&&(t="log"),(n=this._instance.sessionRecording)==null||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:t,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}gi(e){if(!yt(Object.assign)&&!yt(Array.from)&&!(this.Ot||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var t;this.Ot=!0,this.At.checkAndGetSessionAndWindowId(),Uy()?this.Ei():(t=sn.__PosthogExtensions__)==null||t.loadExternalDependency==null||t.loadExternalDependency(this._instance,this.Ii,n=>{if(n)return ps.error("could not load recorder",n);this.Ei()}),ps.info("starting"),this.status===N0&&this.xi(e||"recording_initialized")}}get Ii(){var e;return((e=this._instance)==null||(e=e.persistence)==null||(e=e.get_property(Tk))==null?void 0:e.script)||"recorder"}Pi(e){var t;return e.type===3&&hbe.indexOf((t=e.data)==null?void 0:t.source)!==-1}Ri(e){var t=this.Pi(e);t||this.Zt||e.timestamp-this.ti>this.Ft&&(this.Zt=!0,clearInterval(this.wi),this.ui("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ti,threshold:this.Ft,bufferLength:this.C.data.length,bufferSize:this.C.size}),this.ai());var n=!1;if(t&&(this.ti=e.timestamp,this.Zt)){var r=this.Zt==="unknown";this.Zt=!1,r||(this.ui("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)}if(!this.Zt){var{windowId:s,sessionId:o}=this.At.checkAndGetSessionAndWindowId(!t,e.timestamp),a=this.Ct!==o,l=this.fi!==s;this.fi=s,this.Ct=o,a||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):n&&this.Ti()}}Mi(e){try{return e.rrwebMethod(),!0}catch(t){return this.Qt.length<10?this.Qt.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):ps.warn("could not emit queued rrweb event.",t,e),!1}}ui(e,t){return this.Mi(jk(()=>Uy().addCustomEvent(e,t)))}Ci(){return this.Mi(jk(()=>Uy().takeFullSnapshot()))}Ei(){var e,t,n,r,s={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},o=this._instance.config.session_recording;for(var[a,l]of Object.entries(o||{}))a in s&&(a==="maskInputOptions"?s.maskInputOptions=Pt({password:!0},l):s[a]=l);this.qt&&this.qt.enabled&&(s.recordCanvas=!0,s.sampling={canvas:this.qt.fps},s.dataURLOptions={type:"image/webp",quality:this.qt.quality}),this.Ht&&(s.maskAllInputs=(t=this.Ht.maskAllInputs)===null||t===void 0||t,s.maskTextSelector=(n=this.Ht.maskTextSelector)!==null&&n!==void 0?n:void 0,s.blockSelector=(r=this.Ht.blockSelector)!==null&&r!==void 0?r:void 0);var u=Uy();if(u){this.Fi=(e=this.Fi)!==null&&e!==void 0?e:new W0e(u,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(h,f)=>{var m="Too many mutations on node '"+h+"'. Rate limiting. This could be due to SVG animations or something similar";ps.info(m,{node:f}),this.log(Rg+" "+m,"warn")}});var c=this.Oi();this.ci=u(Pt({emit:h=>{this.onRRwebEmit(h)},plugins:c},s)),this.ti=Date.now(),this.Zt=ml(this.Zt)?this.Zt:"unknown",this.ui("$session_options",{sessionRecordingOptions:s,activePlugins:c.map(h=>h==null?void 0:h.name)}),this.ui("$posthog_config",{config:this._instance.config})}else ps.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ti(){if(this.wi&&clearInterval(this.wi),this.Zt!==!0){var e=this.Dt;e&&(this.wi=setInterval(()=>{this.Ci()},e))}}Oi(){var e,t,n=[],r=(e=sn.__PosthogExtensions__)==null||(e=e.rrwebPlugins)==null?void 0:e.getRecordConsolePlugin;r&&this.Ut&&n.push(r());var s=(t=sn.__PosthogExtensions__)==null||(t=t.rrwebPlugins)==null?void 0:t.getRecordNetworkPlugin;return this.Bt&&aa(s)&&(!h0e.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?n.push(s(Q0e(this._instance.config,this.Bt))):ps.info("NetworkCapture not started because we are on localhost.")),n}onRRwebEmit(e){var t;if(this.Ai(),e&&Ki(e)){if(e.type===ou.Meta){var n=this.yi(e.data.href);if(this.Di=n,!n)return;e.data.href=n}else this.Li();if(this.Kt.checkUrlTriggerConditions(()=>this.ji(),()=>this.Ni(),f=>this.zi(f)),!this.Kt.urlBlocked||(r=e).type===ou.Custom&&r.data.tag==="recording paused"){var r;e.type===ou.FullSnapshot&&this.Ti(),e.type===ou.FullSnapshot&&this.Jt&&this.Lt.triggerStatus(this.sessionId)===_s&&this.pi();var s=this.Fi?this.Fi.throttleMutations(e):e;if(s){var o=function(f){var m=f;if(m&&Ki(m)&&m.type===6&&Ki(m.data)&&m.data.plugin==="rrweb/console@1"){m.data.payload.payload.length>10&&(m.data.payload.payload=m.data.payload.payload.slice(0,10),m.data.payload.payload.push("...[truncated]"));for(var b=[],_=0;_<m.data.payload.payload.length;_++)m.data.payload.payload[_]&&m.data.payload.payload[_].length>2e3?b.push(m.data.payload.payload[_].slice(0,2e3)+"...[truncated]"):b.push(m.data.payload.payload[_]);return m.data.payload.payload=b,f}return f}(s);if(this.Ri(o),this.Zt!==!0||Qk(o)){if(Qk(o)){var a=o.data.payload;if(a){var l=a.lastActivityTimestamp,u=a.threshold;o.timestamp=l+u}}var c=(t=this._instance.config.session_recording.compress_events)===null||t===void 0||t?function(f){if(O0(f)<1024)return f;try{if(f.type===ou.FullSnapshot)return Pt({},f,{data:Ed(f.data),cv:"2024-10"});if(f.type===ou.IncrementalSnapshot&&f.data.source===Sa.Mutation)return Pt({},f,{cv:"2024-10",data:Pt({},f.data,{texts:Ed(f.data.texts),attributes:Ed(f.data.attributes),removes:Ed(f.data.removes),adds:Ed(f.data.adds)})});if(f.type===ou.IncrementalSnapshot&&f.data.source===Sa.StyleSheetRule)return Pt({},f,{cv:"2024-10",data:Pt({},f.data,{adds:f.data.adds?Ed(f.data.adds):void 0,removes:f.data.removes?Ed(f.data.removes):void 0})})}catch(m){ps.error("could not compress event - will use uncompressed event",m)}return f}(o):o,h={$snapshot_bytes:O0(c),$snapshot_data:c,$session_id:this.Ct,$window_id:this.fi};this.status!==Wc?this.Ui(h):this.pi()}}}}}Li(){if(!this._instance.config.capture_pageview&&Ce){var e=this.yi(Ce.location.href);this.Di!==e&&(this.ui("$url_changed",{href:e}),this.Di=e)}}Ai(){if(this.Qt.length){var e=[...this.Qt];this.Qt=[],e.forEach(t=>{Date.now()-t.enqueuedAt<=2e3&&this.Mi(t)})}}yi(e){var t=this._instance.config.session_recording;if(t.maskNetworkRequestFn){var n,r={url:e};return(n=r=t.maskNetworkRequestFn(r))==null?void 0:n.url}return e}pi(){return this.C={size:0,data:[],sessionId:this.Ct,windowId:this.fi},this.C}ai(){this.qi&&(clearTimeout(this.qi),this.qi=void 0);var e=this.Gt,t=this.Nt,n=ys(t)&&t>=0,r=ys(e)&&n&&t<e;return this.status===ch||this.status===qT||this.status===Wc||r?(this.qi=setTimeout(()=>{this.ai()},2e3),this.C):(this.C.data.length>0&&mI(this.C).forEach(s=>{this.Bi({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId,$lib:"web",$lib_version:lu.LIB_VERSION})}),this.pi())}Ui(e){var t,n=2+(((t=this.C)==null?void 0:t.data.length)||0);!this.Zt&&(this.C.size+e.$snapshot_bytes+n>943718.4||this.C.sessionId!==this.Ct)&&(this.C=this.ai()),this.C.size+=e.$snapshot_bytes,this.C.data.push(e.$snapshot_data),this.qi||this.Zt||(this.qi=setTimeout(()=>{this.ai()},2e3))}Bi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.vi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(e){var t;this.Lt.triggerStatus(this.sessionId)===_s&&((t=this._instance)==null||(t=t.persistence)==null||t.register({[e==="url"?oI:aI]:this.Ct}),this.ai(),this.xi(e+"_trigger_matched"))}ji(){this.Kt.urlBlocked||(this.Kt.urlBlocked=!0,clearInterval(this.wi),ps.info("recording paused due to URL blocker"),this.ui("recording paused",{reason:"url blocker"}))}Ni(){this.Kt.urlBlocked&&(this.Kt.urlBlocked=!1,this.Ci(),this.Ti(),this.ui("recording resumed",{reason:"left blocked url"}),ps.info("recording resumed"))}bi(){this.Yt.Tt.length!==0&&Yn(this.ni)&&(this.ni=this._instance.on("eventCaptured",e=>{try{this.Yt.Tt.includes(e.event)&&this.zi("event")}catch(t){ps.error("Could not activate event trigger",t)}}))}overrideLinkedFlag(){this.Xt.linkedFlagSeen=!0,this.Ci(),this.xi("linked_flag_overridden")}overrideSampling(){var e;(e=this._instance.persistence)==null||e.register({[Tg]:!0}),this.Ci(),this.xi("sampling_overridden")}overrideTrigger(e){this.zi(e)}xi(e,t){this._instance.register_for_session({$session_recording_start_reason:e}),ps.info(e.replace("_"," "),t),Sn(["recording_initialized","session_id_changed"],e)||this.ui(e,t)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.At.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.C.data.length,$sdk_debug_replay_internal_buffer_size:this.C.size,$sdk_debug_current_session_duration:this.Nt,$sdk_debug_session_start:e}}};var l2=jr("[SegmentIntegration]");function pbe(i,e){var t=i.config.segment;if(!t)return e();(function(n,r){var s=n.config.segment;if(!s)return r();var o=l=>{var u=()=>l.anonymousId()||_c();n.config.get_device_id=u,l.id()&&(n.register({distinct_id:l.id(),$device_id:u()}),n.persistence.set_property(su,"identified")),r()},a=s.user();"then"in a&&aa(a.then)?a.then(l=>o(l)):o(a)})(i,()=>{t.register((n=>{Promise&&Promise.resolve||l2.warn("This browser does not have Promise support, and can not use the segment integration");var r=(s,o)=>{if(!o)return s;s.event.userId||s.event.anonymousId===n.get_distinct_id()||(l2.info("No userId set, resetting PostHog"),n.reset()),s.event.userId&&s.event.userId!==n.get_distinct_id()&&(l2.info("UserId set, identifying with PostHog"),n.identify(s.event.userId));var a=n.calculateEventProperties(o,s.event.properties);return s.event.properties=Object.assign({},a,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>r(s,s.event.event),page:s=>r(s,"$pageview"),identify:s=>r(s,"$identify"),screen:s=>r(s,"$screen")}})(i)).then(()=>{e()})})}var KN="posthog-js";function JN(i,e){var{organization:t,projectId:n,prefix:r,severityAllowList:s=["error"]}=e===void 0?{}:e;return o=>{var a,l,u,c,h;if(!(s==="*"||s.includes(o.level))||!i.__loaded)return o;o.tags||(o.tags={});var f=i.requestRouter.endpointFor("ui","/project/"+i.config.token+"/person/"+i.get_distinct_id());o.tags["PostHog Person URL"]=f,i.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=i.get_session_replay_url({withTimestamp:!0}));var m=((a=o.exception)==null?void 0:a.values)||[],b=m.map(E=>Pt({},E,{stacktrace:E.stacktrace?Pt({},E.stacktrace,{type:"raw",frames:(E.stacktrace.frames||[]).map(k=>Pt({},k,{platform:"web:javascript"}))}):void 0})),_={$exception_message:((l=m[0])==null?void 0:l.value)||o.message,$exception_type:(u=m[0])==null?void 0:u.type,$exception_personURL:f,$exception_level:o.level,$exception_list:b,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:((c=m[0])==null?void 0:c.value)||o.message,$sentry_exception_type:(h=m[0])==null?void 0:h.type,$sentry_tags:o.tags};return t&&n&&(_.$sentry_url=(r||"https://sentry.io/organizations/")+t+"/issues/?project="+n+"&query="+o.event_id),i.exceptions.sendExceptionEvent(_),o}}let gbe=class{constructor(e,t,n,r,s){this.name=KN,this.setupOnce=function(o){o(JN(e,{organization:t,projectId:n,prefix:r,severityAllowList:s}))}}};var mbe=Ce!=null&&Ce.location?V0(Ce.location.hash,"__posthog")||V0(location.hash,"state"):null,Wk="_postHogToolbarParams",Gk=jr("[Toolbar]"),oc=function(i){return i[i.UNINITIALIZED=0]="UNINITIALIZED",i[i.LOADING=1]="LOADING",i[i.LOADED=2]="LOADED",i}(oc||{});let vbe=class{constructor(e){this.instance=e}Hi(e){sn.ph_toolbar_state=e}Wi(){var e;return(e=sn.ph_toolbar_state)!==null&&e!==void 0?e:oc.UNINITIALIZED}maybeLoadToolbar(e,t,n){if(e===void 0&&(e=void 0),t===void 0&&(t=void 0),n===void 0&&(n=void 0),!Ce||!Lt)return!1;e=e??Ce.location,n=n??Ce.history;try{if(!t){try{Ce.localStorage.setItem("test","test"),Ce.localStorage.removeItem("test")}catch{return!1}t=Ce==null?void 0:Ce.localStorage}var r,s=mbe||V0(e.hash,"__posthog")||V0(e.hash,"state"),o=s?pk(()=>JSON.parse(atob(decodeURIComponent(s))))||pk(()=>JSON.parse(decodeURIComponent(s))):null;return o&&o.action==="ph_authorize"?((r=o).source="url",r&&Object.keys(r).length>0&&(o.desiredHash?e.hash=o.desiredHash:n?n.replaceState(n.state,"",e.pathname+e.search):e.hash="")):((r=JSON.parse(t.getItem(Wk)||"{}")).source="localstorage",delete r.userIntent),!(!r.token||this.instance.config.token!==r.token)&&(this.loadToolbar(r),!0)}catch{return!1}}Gi(e){var t=sn.ph_load_toolbar||sn.ph_load_editor;!Yn(t)&&aa(t)?t(e,this.instance):Gk.warn("No toolbar load function found")}loadToolbar(e){var t=!(Lt==null||!Lt.getElementById(wN));if(!Ce||t)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,r=Pt({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(Ce.localStorage.setItem(Wk,JSON.stringify(Pt({},r,{source:void 0}))),this.Wi()===oc.LOADED)this.Gi(r);else if(this.Wi()===oc.UNINITIALIZED){var s;this.Hi(oc.LOADING),(s=sn.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",o=>{if(o)return Gk.error("[Toolbar] Failed to load",o),void this.Hi(oc.UNINITIALIZED);this.Hi(oc.LOADED),this.Gi(r)}),Bi(Ce,"turbolinks:load",()=>{this.Hi(oc.UNINITIALIZED),this.loadToolbar(r)})}return!0}Ji(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,n){return e===void 0&&(e=void 0),t===void 0&&(t=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(e,t,n)}};var ybe=jr("[TracingHeaders]");let bbe=class{constructor(e){this.Vi=void 0,this.Ki=void 0,this.nt=()=>{var t,n;yt(this.Vi)&&((t=sn.__PosthogExtensions__)==null||(t=t.tracingHeadersPatchFns)==null||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),yt(this.Ki)&&((n=sn.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}J(e){var t,n;(t=sn.__PosthogExtensions__)!=null&&t.tracingHeadersPatchFns&&e(),(n=sn.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",r=>{if(r)return ybe.error("failed to load script",r);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.J(this.nt):((e=this.Vi)==null||e.call(this),(t=this.Ki)==null||t.call(this),this.Vi=void 0,this.Ki=void 0)}};var tc=jr("[Web Vitals]"),Kk=9e5;let Cbe=class{constructor(e){var t;this.Yi=!1,this.i=!1,this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Xi=()=>{clearTimeout(this.Qi),this.C.metrics.length!==0&&(this._instance.capture("$web_vitals",this.C.metrics.reduce((n,r)=>Pt({},n,{["$web_vitals_"+r.name+"_event"]:Pt({},r),["$web_vitals_"+r.name+"_value"]:r.value}),{})),this.C={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Zi=n=>{var r,s=(r=this._instance.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0);if(yt(s))tc.error("Could not read session ID. Dropping metrics!");else{this.C=this.C||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this.te();yt(o)||(Yn(n==null?void 0:n.name)||Yn(n==null?void 0:n.value)?tc.error("Invalid metric received",n):this.ie&&n.value>=this.ie?tc.error("Ignoring metric with value >= "+this.ie,n):(this.C.url!==o&&(this.Xi(),this.Qi=setTimeout(this.Xi,this.flushToCaptureTimeoutMs)),yt(this.C.url)&&(this.C.url=o),this.C.firstMetricTimestamp=yt(this.C.firstMetricTimestamp)?Date.now():this.C.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.C.metrics.push(Pt({},n,{$current_url:o,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.C.metrics.length===this.allowedMetrics.length&&this.Xi()))}},this.nt=()=>{var n,r,s,o,a=sn.__PosthogExtensions__;yt(a)||yt(a.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:r,onFCP:s,onINP:o}=a.postHogWebVitalsCallbacks),n&&r&&s&&o?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Zi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&r(this.Zi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Zi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this.Zi.bind(this)),this.i=!0):tc.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Yi=!((t=this._instance.persistence)==null||!t.props[yk]),this.startIfEnabled()}get allowedMetrics(){var e,t,n=Ki(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return yt(n)?((t=this._instance.persistence)==null?void 0:t.props[bk])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(Ki(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ie(){var e=Ki(this._instance.config.capture_performance)&&ys(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Kk;return 0<e&&e<=6e4?Kk:e}get isEnabled(){var e=eo==null?void 0:eo.protocol;if(e!=="http:"&&e!=="https:")return tc.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=Ki(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:ml(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return ml(t)?t:this.Yi}startIfEnabled(){this.isEnabled&&!this.i&&(tc.info("enabled, starting..."),this.J(this.nt))}onRemoteConfig(e){var t=Ki(e.capturePerformance)&&!!e.capturePerformance.web_vitals,n=Ki(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[yk]:t}),this._instance.persistence.register({[bk]:n})),this.Yi=t,this.startIfEnabled()}J(e){var t,n;(t=sn.__PosthogExtensions__)!=null&&t.postHogWebVitalsCallbacks&&e(),(n=sn.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",r=>{r?tc.error("failed to load script",r):e()})}te(){var e=Ce?Ce.location.href:void 0;return e||tc.error("Could not determine current URL"),e}};var wbe=jr("[Heatmaps]");function Jk(i){return Ki(i)&&"clientX"in i&&"clientY"in i&&ys(i.clientX)&&ys(i.clientY)}let _be=class{constructor(e){var t;this.rageclicks=new VN,this.Yi=!1,this.i=!1,this.ee=null,this.instance=e,this.Yi=!((t=this.instance.persistence)==null||!t.props[iI])}get flushIntervalMilliseconds(){var e=5e3;return Ki(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return yt(this.instance.config.capture_heatmaps)?yt(this.instance.config.enable_heatmaps)?this.Yi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;wbe.info("starting..."),this.re(),this.ee=setInterval(this.se.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval((e=this.ee)!==null&&e!==void 0?e:void 0),(t=this.ne)==null||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[iI]:t}),this.Yi=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.C;return this.C=void 0,e}oe(e){this.ae(e.originalEvent,"deadclick")}re(){Ce&&Lt&&(Bi(Ce,"beforeunload",this.se.bind(this)),Bi(Lt,"click",e=>this.ae(e||(Ce==null?void 0:Ce.event)),{capture:!0}),Bi(Lt,"mousemove",e=>this.le(e||(Ce==null?void 0:Ce.event)),{capture:!0}),this.ne=new ON(this.instance,T0e,this.oe.bind(this)),this.ne.startIfEnabled(),this.i=!0)}ue(e,t){var n=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,u){for(var c=a;c&&bC(c)&&!Ac(c,"body");){if(c===u)return!1;if(Sn(l,Ce==null?void 0:Ce.getComputedStyle(c).position))return!0;c=TN(c)}return!1}(SN(e),["fixed","sticky"],s);return{x:e.clientX+(o?0:r),y:e.clientY+(o?0:n),target_fixed:o,type:t}}ae(e,t){var n;if(t===void 0&&(t="click"),!xk(e.target)&&Jk(e)){var r=this.ue(e,t);(n=this.rageclicks)!=null&&n.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.he(Pt({},r,{type:"rageclick"})),this.he(r)}}le(e){!xk(e.target)&&Jk(e)&&(clearTimeout(this.de),this.de=setTimeout(()=>{this.he(this.ue(e,"mousemove"))},500))}he(e){if(Ce){var t=Ce.location.href;this.C=this.C||{},this.C[t]||(this.C[t]=[]),this.C[t].push(e)}}se(){this.C&&!ef(this.C)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}},Ibe=class{constructor(e){this._instance=e}doPageView(e,t){var n,r=this.ve(e,t);return this.ce={pathname:(n=Ce==null?void 0:Ce.location.pathname)!==null&&n!==void 0?n:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),r}doPageLeave(e){var t;return this.ve(e,(t=this.ce)==null?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.ce)==null?void 0:e.pageViewId}}ve(e,t){var n=this.ce;if(!n)return{$pageview_id:t};var r={$pageview_id:t,$prev_pageview_id:n.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:a,maxScrollY:l,maxContentHeight:u,lastContentY:c,maxContentY:h}=s;if(!(yt(o)||yt(a)||yt(l)||yt(u)||yt(c)||yt(h))){o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c),h=Math.ceil(h);var f=o<=1?1:Ro(a/o,0,1),m=o<=1?1:Ro(l/o,0,1),b=u<=1?1:Ro(c/u,0,1),_=u<=1?1:Ro(h/u,0,1);r=or(r,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:f,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:m,$prev_pageview_last_content:c,$prev_pageview_last_content_percentage:b,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:_})}}return n.pathname&&(r.$prev_pageview_pathname=n.pathname),n.timestamp&&(r.$prev_pageview_duration=(e.getTime()-n.timestamp.getTime())/1e3),r}};var Ebe=function(i){var e,t,n,r,s="";for(e=t=0,n=(i=(i+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,r=0;r<n;r++){var o=i.charCodeAt(r),a=null;o<128?t++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),ld(a)||(t>e&&(s+=i.substring(e,t)),s+=a,e=t=r+1)}return t>e&&(s+=i.substring(e,i.length)),s},Sbe=!!eI||!!X_,Yk="text/plain",M0=(i,e)=>{var[t,n]=i.split("?"),r=Pt({},e);n==null||n.split("&").forEach(o=>{var[a]=o.split("=");delete r[a]});var s=f0e(r);return t+"?"+(s=s?(n?n+"&":"")+s:n)},kg=(i,e)=>JSON.stringify(i,(t,n)=>typeof n=="bigint"?n.toString():n,e),u2=i=>{var{data:e,compression:t}=i;if(e){if(t===mu.GZipJS){var n=jN(QN(kg(e)),{mtime:0}),r=new Blob([n],{type:Yk});return{contentType:Yk,body:r,estimatedSize:r.size}}if(t===mu.Base64){var s=function(l){var u,c,h,f,m,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_=0,E=0,k="",j=[];if(!l)return l;l=Ebe(l);do u=(m=l.charCodeAt(_++)<<16|l.charCodeAt(_++)<<8|l.charCodeAt(_++))>>18&63,c=m>>12&63,h=m>>6&63,f=63&m,j[E++]=b.charAt(u)+b.charAt(c)+b.charAt(h)+b.charAt(f);while(_<l.length);switch(k=j.join(""),l.length%3){case 1:k=k.slice(0,-2)+"==";break;case 2:k=k.slice(0,-1)+"="}return k}(kg(e)),o=(l=>"data="+encodeURIComponent(typeof l=="string"?l:kg(l)))(s);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var a=kg(e);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},im=[];X_&&im.push({transport:"fetch",method:i=>{var e,t,{contentType:n,body:r,estimatedSize:s}=(e=u2(i))!==null&&e!==void 0?e:{},o=new Headers;gi(i.headers,function(c,h){o.append(h,c)}),n&&o.append("Content-Type",n);var a=i.url,l=null;if(hk){var u=new hk;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),i.timeout)}}X_(a,Pt({method:(i==null?void 0:i.method)||"GET",headers:o,keepalive:i.method==="POST"&&(s||0)<52428.8,body:r,signal:(t=l)==null?void 0:t.signal},i.fetchOptions)).then(c=>c.text().then(h=>{var f={statusCode:c.status,text:h};if(c.status===200)try{f.json=JSON.parse(h)}catch(m){Mt.error(m)}i.callback==null||i.callback(f)})).catch(c=>{Mt.error(c),i.callback==null||i.callback({statusCode:0,text:c})}).finally(()=>l?clearTimeout(l.timeout):null)}}),eI&&im.push({transport:"XHR",method:i=>{var e,t=new eI;t.open(i.method||"GET",i.url,!0);var{contentType:n,body:r}=(e=u2(i))!==null&&e!==void 0?e:{};gi(i.headers,function(s,o){t.setRequestHeader(o,s)}),n&&t.setRequestHeader("Content-Type",n),i.timeout&&(t.timeout=i.timeout),t.withCredentials=!0,t.onreadystatechange=()=>{if(t.readyState===4){var s={statusCode:t.status,text:t.responseText};if(t.status===200)try{s.json=JSON.parse(t.responseText)}catch{}i.callback==null||i.callback(s)}},t.send(r)}}),Po!=null&&Po.sendBeacon&&im.push({transport:"sendBeacon",method:i=>{var e=M0(i.url,{beacon:"1"});try{var t,{contentType:n,body:r}=(t=u2(i))!==null&&t!==void 0?t:{},s=typeof r=="string"?new Blob([r],{type:n}):r;Po.sendBeacon(e,s)}catch{}}});var Wf=function(i,e){if(!function(t){try{new RegExp(t)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(i)}catch{return!1}};function Zk(i,e,t){return kg({distinct_id:i,userPropertiesToSet:e,userPropertiesToSetOnce:t})}var Tbe={exact:(i,e)=>e.some(t=>i.some(n=>t===n)),is_not:(i,e)=>e.every(t=>i.every(n=>t!==n)),regex:(i,e)=>e.some(t=>i.some(n=>Wf(t,n))),not_regex:(i,e)=>e.every(t=>i.every(n=>!Wf(t,n))),icontains:(i,e)=>e.map(Hy).some(t=>i.map(Hy).some(n=>t.includes(n))),not_icontains:(i,e)=>e.map(Hy).every(t=>i.map(Hy).every(n=>!t.includes(n)))},Hy=i=>i.toLowerCase(),Xk=jr("[Error tracking]");let xbe=class{constructor(e){var t,n;this.fe=[],this._instance=e,this.fe=(t=(n=this._instance.persistence)==null?void 0:n.get_property(rI))!==null&&t!==void 0?t:[]}onRemoteConfig(e){var t,n,r,s=(t=(n=e.errorTracking)==null?void 0:n.suppressionRules)!==null&&t!==void 0?t:[],o=(r=e.errorTracking)==null?void 0:r.captureExtensionExceptions;this.fe=s,this._instance.persistence&&this._instance.persistence.register({[rI]:this.fe,[vk]:o})}get pe(){var e,t=!!this._instance.get_property(vk),n=this._instance.config.error_tracking.captureExtensionExceptions;return(e=n??t)!==null&&e!==void 0&&e}sendExceptionEvent(e){if(this._e(e))Xk.info("Skipping exception capture because a suppression rule matched");else{if(this.pe||!this.ge(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});Xk.info("Skipping exception capture because it was thrown by an extension")}}_e(e){var t=e.$exception_list;if(!t||!ki(t)||t.length===0)return!1;var n=t.reduce((r,s)=>{var{type:o,value:a}=s;return Yi(o)&&o.length>0&&r.$exception_types.push(o),Yi(a)&&a.length>0&&r.$exception_values.push(a),r},{$exception_types:[],$exception_values:[]});return this.fe.some(r=>{var s=r.values.map(o=>{var a,l=Tbe[o.operator],u=ki(o.value)?o.value:[o.value],c=(a=n[o.key])!==null&&a!==void 0?a:[];return u.length>0&&l(u,c)});return r.type==="OR"?s.some(Boolean):s.every(Boolean)})}ge(e){var t=e.$exception_list;return!(!t||!ki(t))&&t.flatMap(n=>{var r,s;return(r=(s=n.stacktrace)==null?void 0:s.frames)!==null&&r!==void 0?r:[]}).some(n=>n.filename&&n.filename.startsWith("chrome-extension://"))}};var ua="Mobile",F0="iOS",vl="Android",Rm="Tablet",YN=vl+" "+Rm,ZN="iPad",XN="Apple",eM=XN+" Watch",km="Safari",Gf="BlackBerry",tM="Samsung",nM=tM+"Browser",iM=tM+" Internet",dh="Chrome",Pbe=dh+" OS",rM=dh+" "+F0,HT="Internet Explorer",sM=HT+" "+ua,zT="Opera",Rbe=zT+" Mini",jT="Edge",oM="Microsoft "+jT,ff="Firefox",aM=ff+" "+F0,Am="Nintendo",Vm="PlayStation",pf="Xbox",lM=vl+" "+ua,uM=ua+" "+km,Ag="Windows",II=Ag+" Phone",eA="Nokia",EI="Ouya",cM="Generic",kbe=cM+" "+ua.toLowerCase(),dM=cM+" "+Rm.toLowerCase(),SI="Konqueror",Ls="(\\d+(\\.\\d+)?)",c2=new RegExp("Version/"+Ls),Abe=new RegExp(pf,"i"),Vbe=new RegExp(Vm+" \\w+","i"),Lbe=new RegExp(Am+" \\w+","i"),QT=new RegExp(Gf+"|PlayBook|BB10","i"),Obe={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Dbe=(i,e)=>e&&Sn(e,XN)||function(t){return Sn(t,km)&&!Sn(t,dh)&&!Sn(t,vl)}(i),hM=function(i,e){return e=e||"",Sn(i," OPR/")&&Sn(i,"Mini")?Rbe:Sn(i," OPR/")?zT:QT.test(i)?Gf:Sn(i,"IE"+ua)||Sn(i,"WPDesktop")?sM:Sn(i,nM)?iM:Sn(i,jT)||Sn(i,"Edg/")?oM:Sn(i,"FBIOS")?"Facebook "+ua:Sn(i,"UCWEB")||Sn(i,"UCBrowser")?"UC Browser":Sn(i,"CriOS")?rM:Sn(i,"CrMo")||Sn(i,dh)?dh:Sn(i,vl)&&Sn(i,km)?lM:Sn(i,"FxiOS")?aM:Sn(i.toLowerCase(),SI.toLowerCase())?SI:Dbe(i,e)?Sn(i,ua)?uM:km:Sn(i,ff)?ff:Sn(i,"MSIE")||Sn(i,"Trident/")?HT:Sn(i,"Gecko")?ff:""},Nbe={[sM]:[new RegExp("rv:"+Ls)],[oM]:[new RegExp(jT+"?\\/"+Ls)],[dh]:[new RegExp("("+dh+"|CrMo)\\/"+Ls)],[rM]:[new RegExp("CriOS\\/"+Ls)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Ls)],[km]:[c2],[uM]:[c2],[zT]:[new RegExp("(Opera|OPR)\\/"+Ls)],[ff]:[new RegExp(ff+"\\/"+Ls)],[aM]:[new RegExp("FxiOS\\/"+Ls)],[SI]:[new RegExp("Konqueror[:/]?"+Ls,"i")],[Gf]:[new RegExp(Gf+" "+Ls),c2],[lM]:[new RegExp("android\\s"+Ls,"i")],[iM]:[new RegExp(nM+"\\/"+Ls)],[HT]:[new RegExp("(rv:|MSIE )"+Ls)],Mozilla:[new RegExp("rv:"+Ls)]},Mbe=function(i,e){var t=hM(i,e),n=Nbe[t];if(yt(n))return null;for(var r=0;r<n.length;r++){var s=n[r],o=i.match(s);if(o)return parseFloat(o[o.length-2])}return null},tA=[[new RegExp(pf+"; "+pf+" (.*?)[);]","i"),i=>[pf,i&&i[1]||""]],[new RegExp(Am,"i"),[Am,""]],[new RegExp(Vm,"i"),[Vm,""]],[QT,[Gf,""]],[new RegExp(Ag,"i"),(i,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[II,""];if(new RegExp(ua).test(e)&&!/IEMobile\b/.test(e))return[Ag+" "+ua,""];var t=/Windows NT ([0-9.]+)/i.exec(e);if(t&&t[1]){var n=t[1],r=Obe[n]||"";return/arm/i.test(e)&&(r="RT"),[Ag,r]}return[Ag,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,i=>{if(i&&i[3]){var e=[i[3],i[4],i[5]||"0"];return[F0,e.join(".")]}return[F0,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,i=>{var e="";return i&&i.length>=3&&(e=yt(i[2])?i[3]:i[2]),["watchOS",e]}],[new RegExp("("+vl+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+vl+")","i"),i=>{if(i&&i[2]){var e=[i[2],i[3],i[4]||"0"];return[vl,e.join(".")]}return[vl,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,i=>{var e=["Mac OS X",""];if(i&&i[1]){var t=[i[1],i[2],i[3]||"0"];e[1]=t.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Pbe,""]],[/Linux|debian/i,["Linux",""]]],nA=function(i){return Lbe.test(i)?Am:Vbe.test(i)?Vm:Abe.test(i)?pf:new RegExp(EI,"i").test(i)?EI:new RegExp("("+II+"|WPDesktop)","i").test(i)?II:/iPad/.test(i)?ZN:/iPod/.test(i)?"iPod Touch":/iPhone/.test(i)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(i)?eM:QT.test(i)?Gf:/(kobo)\s(ereader|touch)/i.test(i)?"Kobo":new RegExp(eA,"i").test(i)?eA:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(i)||/(kf[a-z]+)( bui|\)).+silk\//i.test(i)?"Kindle Fire":/(Android|ZTE)/i.test(i)?!new RegExp(ua).test(i)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(i)?/pixel[\daxl ]{1,6}/i.test(i)&&!/pixel c/i.test(i)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(i)||/lmy47v/i.test(i)&&!/QTAQZ3/i.test(i)?vl:YN:vl:new RegExp("(pda|"+ua+")","i").test(i)?kbe:new RegExp(Rm,"i").test(i)&&!new RegExp(Rm+" pc","i").test(i)?dM:""},zy="https?://(.*)",wC=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],Fbe=yC(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],wC),WT="<masked>",$be=["li_fat_id"];function fM(i,e,t){if(!Lt)return{};var n,r=e?yC([],wC,t||[]):[],s=pM(NT(Lt.URL,r,WT),i),o=(n={},gi($be,function(a){var l=Il.D(a);n[a]=l||null}),n);return or(o,s)}function pM(i,e){var t=Fbe.concat(e||[]),n={};return gi(t,function(r){var s=A0(i,r);n[r]=s||null}),n}function gM(i){var e=function(s){return s?s.search(zy+"google.([^/?]*)")===0?"google":s.search(zy+"bing.com")===0?"bing":s.search(zy+"yahoo.com")===0?"yahoo":s.search(zy+"duckduckgo.com")===0?"duckduckgo":null:null}(i),t=e!="yahoo"?"q":"p",n={};if(!ld(e)){n.$search_engine=e;var r=Lt?A0(Lt.referrer,t):"";r.length&&(n.ph_keyword=r)}return n}function iA(){return navigator.language||navigator.userLanguage}function mM(){return(Lt==null?void 0:Lt.referrer)||"$direct"}function vM(i,e){var t=i?yC([],wC,e||[]):[],n=eo==null?void 0:eo.href.substring(0,1e3);return{r:mM().substring(0,1e3),u:n?NT(n,t,WT):void 0}}function yM(i){var e,{r:t,u:n}=i,r={$referrer:t,$referring_domain:t==null?void 0:t=="$direct"?"$direct":(e=jf(t))==null?void 0:e.host};if(n){r.$current_url=n;var s=jf(n);r.$host=s==null?void 0:s.host,r.$pathname=s==null?void 0:s.pathname;var o=pM(n);or(r,o)}if(t){var a=gM(t);or(r,a)}return r}function bM(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function Bbe(){try{return new Date().getTimezoneOffset()}catch{return}}function qbe(i,e){if(!Xs)return{};var t,n,r,s=i?yC([],wC,e||[]):[],[o,a]=function(l){for(var u=0;u<tA.length;u++){var[c,h]=tA[u],f=c.exec(l),m=f&&(aa(h)?h(f,l):h);if(m)return m}return["",""]}(Xs);return or(OT({$os:o,$os_version:a,$browser:hM(Xs,navigator.vendor),$device:nA(Xs),$device_type:(n=Xs,r=nA(n),r===ZN||r===YN||r==="Kobo"||r==="Kindle Fire"||r===dM?Rm:r===Am||r===pf||r===Vm||r===EI?"Console":r===eM?"Wearable":r?ua:"Desktop"),$timezone:bM(),$timezone_offset:Bbe()}),{$current_url:NT(eo==null?void 0:eo.href,s,WT),$host:eo==null?void 0:eo.host,$pathname:eo==null?void 0:eo.pathname,$raw_user_agent:Xs.length>1e3?Xs.substring(0,997)+"...":Xs,$browser_version:Mbe(Xs,navigator.vendor),$browser_language:iA(),$browser_language_prefix:(t=iA(),typeof t=="string"?t.split("-")[0]:void 0),$screen_height:Ce==null?void 0:Ce.screen.height,$screen_width:Ce==null?void 0:Ce.screen.width,$viewport_height:Ce==null?void 0:Ce.innerHeight,$viewport_width:Ce==null?void 0:Ce.innerWidth,$lib:"web",$lib_version:lu.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var al=jr("[FeatureFlags]"),d2="$active_feature_flags",Bh="$override_feature_flags",rA="$feature_flag_payloads",lg="$override_feature_flag_payloads",sA="$feature_flag_request_id",oA=i=>{var e={};for(var[t,n]of k1(i||{}))n&&(e[t]=n);return e},Ube=i=>{var e=i.flags;return e?(i.featureFlags=Object.fromEntries(Object.keys(e).map(t=>{var n;return[t,(n=e[t].variant)!==null&&n!==void 0?n:e[t].enabled]})),i.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(t=>e[t].enabled).filter(t=>{var n;return(n=e[t].metadata)==null?void 0:n.payload}).map(t=>{var n;return[t,(n=e[t].metadata)==null?void 0:n.payload]}))):al.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),i},Hbe=function(i){return i.FeatureFlags="feature_flags",i.Recordings="recordings",i}({});let zbe=class{constructor(e){this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this._instance=e,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.$e=!0;else{var e=!this.ke&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Ee({disableFlags:e})}}get hasLoadedFlags(){return this.be}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(lI),t=this._instance.get_property(Bh),n=this._instance.get_property(lg);if(!n&&!t)return e||{};var r=or({},e||{}),s=[...new Set([...Object.keys(n||{}),...Object.keys(t||{})])];for(var o of s){var a,l,u=r[o],c=t==null?void 0:t[o],h=yt(c)?(a=u==null?void 0:u.enabled)!==null&&a!==void 0&&a:!!c,f=yt(c)?u.variant:typeof c=="string"?c:void 0,m=n==null?void 0:n[o],b=Pt({},u,{enabled:h,variant:h?f??(u==null?void 0:u.variant):void 0});h!==(u==null?void 0:u.enabled)&&(b.original_enabled=u==null?void 0:u.enabled),f!==(u==null?void 0:u.variant)&&(b.original_variant=u==null?void 0:u.variant),m&&(b.metadata=Pt({},u==null?void 0:u.metadata,{payload:m,original_payload:u==null||(l=u.metadata)==null?void 0:l.payload})),r[o]=b}return this.me||(al.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:n,finalDetails:r}),this.me=!0),r}getFlagVariants(){var e=this._instance.get_property(tf),t=this._instance.get_property(Bh);if(!t)return e||{};for(var n=or({},e),r=Object.keys(t),s=0;s<r.length;s++)n[r[s]]=t[r[s]];return this.me||(al.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this.me=!0),n}getFlagPayloads(){var e=this._instance.get_property(rA),t=this._instance.get_property(lg);if(!t)return e||{};for(var n=or({},e||{}),r=Object.keys(t),s=0;s<r.length;s++)n[r[s]]=t[r[s]];return this.me||(al.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:n}),this.me=!0),n}reloadFeatureFlags(){this.we||this._instance.config.advanced_disable_feature_flags||this.ke||(this.ke=setTimeout(()=>{this.Ee()},5))}Ie(){clearTimeout(this.ke),this.ke=void 0}ensureFlagsLoaded(){this.be||this.ye||this.ke||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.we=e}Ee(e){var t;if(this.Ie(),!this._instance.I())if(this.ye)this.Se=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Pt({},((t=this._instance.persistence)==null?void 0:t.get_initial_props())||{},this._instance.get_property(Pg)||{}),group_properties:this._instance.get_property(Vd)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0);var r=this._instance.config.__preview_remote_config,s=r?"/flags/?v=2":"/flags/?v=2&config=true",o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",a=this._instance.requestRouter.endpointFor("api",s+o);r&&(n.timezone=bM()),this.ye=!0,this._instance.Pe({method:"POST",url:a,data:n,compression:this._instance.config.disable_compression?void 0:mu.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var u,c,h=!0;if(l.statusCode===200&&(this.Se||(this.$anon_distinct_id=void 0),h=!1),this.ye=!1,this.$e||(this.$e=!0,this._instance.Re((c=l.json)!==null&&c!==void 0?c:{})),!n.disable_flags||this.Se)if(this.xe=!h,l.json&&(u=l.json.quotaLimited)!=null&&u.includes(Hbe.FeatureFlags))al.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var f;n.disable_flags||this.receivedFeatureFlags((f=l.json)!==null&&f!==void 0?f:{},h),this.Se&&(this.Se=!1,this.Ee())}}})}}getFeatureFlag(e,t){if(t===void 0&&(t={}),this.be||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[e],r=""+n,s=this._instance.get_property(sA)||void 0,o=this._instance.get_property(x0)||{};if((t.send_event||!("send_event"in t))&&(!(e in o)||!o[e].includes(r))){var a,l,u,c,h,f,m,b,_;ki(o[e])?o[e].push(r):o[e]=[r],(a=this._instance.persistence)==null||a.register({[x0]:o});var E=this.getFeatureFlagDetails(e),k={$feature_flag:e,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(l=l.featureFlags)==null?void 0:l[e])||null,$feature_flag_bootstrapped_payload:((u=this._instance.config.bootstrap)==null||(u=u.featureFlagPayloads)==null?void 0:u[e])||null,$used_bootstrap_value:!this.xe};yt(E==null||(c=E.metadata)==null?void 0:c.version)||(k.$feature_flag_version=E.metadata.version);var j,M=(h=E==null||(f=E.reason)==null?void 0:f.description)!==null&&h!==void 0?h:E==null||(m=E.reason)==null?void 0:m.code;M&&(k.$feature_flag_reason=M),E!=null&&(b=E.metadata)!=null&&b.id&&(k.$feature_flag_id=E.metadata.id),yt(E==null?void 0:E.original_variant)&&yt(E==null?void 0:E.original_enabled)||(k.$feature_flag_original_response=yt(E.original_variant)?E.original_enabled:E.original_variant),E!=null&&(_=E.metadata)!=null&&_.original_payload&&(k.$feature_flag_original_payload=E==null||(j=E.metadata)==null?void 0:j.original_payload),this._instance.capture("$feature_flag_called",k)}return n}al.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var n=this._instance.config.token;this._instance.Pe({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:n},compression:this._instance.config.disable_compression?void 0:mu.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:r=>{var s,o=(s=r.json)==null?void 0:s.featureFlagPayloads;t((o==null?void 0:o[e])||void 0)}})}isFeatureEnabled(e,t){if(t===void 0&&(t={}),this.be||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);al.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this.be=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(o,a,l,u,c){l===void 0&&(l={}),u===void 0&&(u={}),c===void 0&&(c={});var h=Ube(o),f=h.flags,m=h.featureFlags,b=h.featureFlagPayloads;if(m){var _=o.requestId;if(ki(m)){al.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var E={};if(m)for(var k=0;k<m.length;k++)E[m[k]]=!0;a&&a.register({[d2]:m,[tf]:E})}else{var j=m,M=b,q=f;o.errorsWhileComputingFlags&&(j=Pt({},l,j),M=Pt({},u,M),q=Pt({},c,q)),a&&a.register(Pt({[d2]:Object.keys(oA(j)),[tf]:j||{},[rA]:M||{},[lI]:q||{}},_?{[sA]:_}:{}))}}})(e,this._instance.persistence,n,r,s),this.Te(t)}}override(e,t){t===void 0&&(t=!1),al.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return al.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(Bh),this._instance.persistence.unregister(lg),void this.Te();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var t,n=e;if(this.me=!!((t=n.suppressWarning)!==null&&t!==void 0&&t),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(Bh);else if(n.flags)if(ki(n.flags)){for(var r={},s=0;s<n.flags.length;s++)r[n.flags[s]]=!0;this._instance.persistence.register({[Bh]:r})}else this._instance.persistence.register({[Bh]:n.flags})}return"payloads"in n&&(n.payloads===!1?this._instance.persistence.unregister(lg):n.payloads&&this._instance.persistence.register({[lg]:n.payloads})),void this.Te()}this.Te()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.be){var{flags:t,flagVariants:n}=this.Me();e(t,n)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t,n){var r,s=(this._instance.get_property(xg)||[]).find(u=>u.flagKey===e),o={["$feature_enrollment/"+e]:t},a={$feature_flag:e,$feature_enrollment:t,$set:o};s&&(a.$early_access_feature_name=s.name),n&&(a.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(o,!1);var l=Pt({},this.getFlagVariants(),{[e]:t});(r=this._instance.persistence)==null||r.register({[d2]:Object.keys(oA(l)),[tf]:l}),this.Te()}getEarlyAccessFeatures(e,t,n){t===void 0&&(t=!1);var r=this._instance.get_property(xg),s=n?"&"+n.map(o=>"stage="+o).join("&"):"";if(r&&!t)return e(r);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:o=>{var a,l;if(o.json){var u=o.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.unregister(xg),(l=this._instance.persistence)==null||l.register({[xg]:u}),e(u)}}})}Me(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(n=>t[n]),flagVariants:Object.keys(t).filter(n=>t[n]).reduce((n,r)=>(n[r]=t[r],n),{})}}Te(e){var{flags:t,flagVariants:n}=this.Me();this.featureFlagEventHandlers.forEach(r=>r(t,n,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){t===void 0&&(t=!0);var n=this._instance.get_property(Pg)||{};this._instance.register({[Pg]:Pt({},n,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Pg)}setGroupPropertiesForFlags(e,t){t===void 0&&(t=!0);var n=this._instance.get_property(Vd)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(r=>{n[r]=Pt({},n[r],e[r]),delete e[r]}),this._instance.register({[Vd]:Pt({},n,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(Vd)||{};this._instance.register({[Vd]:Pt({},t,{[e]:{}})})}else this._instance.unregister(Vd)}reset(){this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.$anon_distinct_id=void 0,this.Ie(),this.me=!1}};var jbe=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];let h2=class{constructor(e,t){this.S=e,this.props={},this.Ce=!1,this.Fe=(n=>{var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"})(e),this.B=this.Oe(e),this.load(),e.debug&&Mt.info("Persistence loaded",e.persistence,Pt({},this.props)),this.update_config(e,e,t),this.save()}isDisabled(){return!!this.Ae}Oe(e){jbe.indexOf(e.persistence.toLowerCase())===-1&&(Mt.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return t==="localstorage"&&Pr.O()?Pr:t==="localstorage+cookie"&&Ny.O()?Ny:t==="sessionstorage"&&Zr.O()?Zr:t==="memory"?E0e:t==="cookie"?Il:Ny.O()?Ny:Il}properties(){var e={};return gi(this.props,function(t,n){if(n===tf&&Ki(t))for(var r=Object.keys(t),s=0;s<r.length;s++)e["$feature/"+r[s]]=t[r[s]];else a=n,l=!1,(ld(o=r0e)?l:dk&&o.indexOf===dk?o.indexOf(a)!=-1:(gi(o,function(u){if(l||(l=u===a))return S0}),l))||(e[n]=t);var o,a,l}),e}load(){if(!this.Ae){var e=this.B.L(this.Fe);e&&(this.props=or({},e))}}save(){this.Ae||this.B.j(this.Fe,this.props,this.De,this.Le,this.je,this.S.debug)}remove(){this.B.N(this.Fe,!1),this.B.N(this.Fe,!0)}clear(){this.remove(),this.props={}}register_once(e,t,n){if(Ki(e)){yt(t)&&(t="None"),this.De=yt(n)?this.Ne:n;var r=!1;if(gi(e,(s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==t||(this.props[o]=s,r=!0)}),r)return this.save(),!0}return!1}register(e,t){if(Ki(e)){this.De=yt(t)?this.Ne:t;var n=!1;if(gi(e,(r,s)=>{e.hasOwnProperty(s)&&this.props[s]!==r&&(this.props[s]=r,n=!0)}),n)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Ce){var e=fM(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);ef(OT(e))||this.register(e),this.Ce=!0}}update_search_keyword(){var e;this.register((e=Lt==null?void 0:Lt.referrer)?gM(e):{})}update_referrer_info(){var e;this.register_once({$referrer:mM(),$referring_domain:Lt!=null&&Lt.referrer&&((e=jf(Lt.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[hI]||this.props[fI]||this.register_once({[P0]:vM(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};gi([fI,hI],o=>{var a=this.props[o];a&&gi(a,function(l,u){e["$initial_"+tI(u)]=l})});var t,n,r=this.props[P0];if(r){var s=(t=yM(r),n={},gi(t,function(o,a){n["$initial_"+tI(a)]=o}),n);or(e,s)}return e}safe_merge(e){return gi(this.props,function(t,n){n in e||(e[n]=t)}),e}update_config(e,t,n){if(this.Ne=this.De=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!n),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var r=this.Oe(e),s=this.props;this.clear(),this.B=r,this.props=s,this.save()}}set_disabled(e){this.Ae=e,this.Ae?this.remove():this.save()}set_cross_subdomain(e){e!==this.Le&&(this.Le=e,this.remove(),this.save())}set_secure(e){e!==this.je&&(this.je=e,this.remove(),this.save())}set_event_timer(e,t){var n=this.props[Sg]||{};n[e]=t,this.props[Sg]=n,this.save()}remove_event_timer(e){var t=(this.props[Sg]||{})[e];return yt(t)||(delete this.props[Sg][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}},CM=class{constructor(){this.ze={},this.ze={}}on(e,t){return this.ze[e]||(this.ze[e]=[]),this.ze[e].push(t),()=>{this.ze[e]=this.ze[e].filter(n=>n!==t)}}emit(e,t){for(var n of this.ze[e]||[])n(t);for(var r of this.ze["*"]||[])r(e,t)}},Qbe=class Gh{constructor(e){this.Ue=new CM,this.qe=(t,n)=>this.Be(t,n)&&this.He(t,n)&&this.We(t,n),this.Be=(t,n)=>n==null||!n.event||(t==null?void 0:t.event)===(n==null?void 0:n.event),this._instance=e,this.Ge=new Set,this.Je=new Set}init(){var e;if(!yt((e=this._instance)==null?void 0:e.Ve)){var t;(t=this._instance)==null||t.Ve((n,r)=>{this.on(n,r)})}}register(e){var t,n;if(!yt((t=this._instance)==null?void 0:t.Ve)&&(e.forEach(o=>{var a,l;(a=this.Je)==null||a.add(o),(l=o.steps)==null||l.forEach(u=>{var c;(c=this.Ge)==null||c.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var r,s=new Set;e.forEach(o=>{var a;(a=o.steps)==null||a.forEach(l=>{l!=null&&l.selector&&s.add(l==null?void 0:l.selector)})}),(r=this._instance)==null||r.autocapture.setElementSelectors(s)}}on(e,t){var n;t!=null&&e.length!=0&&(this.Ge.has(e)||this.Ge.has(t==null?void 0:t.event))&&this.Je&&((n=this.Je)==null?void 0:n.size)>0&&this.Je.forEach(r=>{this.Ke(t,r)&&this.Ue.emit("actionCaptured",r.name)})}Ye(e){this.onAction("actionCaptured",t=>e(t))}Ke(e,t){if((t==null?void 0:t.steps)==null)return!1;for(var n of t.steps)if(this.qe(e,n))return!0;return!1}onAction(e,t){return this.Ue.on(e,t)}He(e,t){if(t!=null&&t.url){var n,r=e==null||(n=e.properties)==null?void 0:n.$current_url;if(!r||typeof r!="string"||!Gh.Xe(r,t==null?void 0:t.url,(t==null?void 0:t.url_matching)||"contains"))return!1}return!0}static Xe(e,t,n){switch(n){case"regex":return!!Ce&&Wf(e,t);case"exact":return t===e;case"contains":var r=Gh.Qe(t).replace(/_/g,".").replace(/%/g,".*");return Wf(e,r);default:return!1}}static Qe(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}We(e,t){if((t!=null&&t.href||t!=null&&t.tag_name||t!=null&&t.text)&&!this.Ze(e).some(s=>!(t!=null&&t.href&&!Gh.Xe(s.href||"",t==null?void 0:t.href,(t==null?void 0:t.href_matching)||"exact"))&&(t==null||!t.tag_name||s.tag_name===(t==null?void 0:t.tag_name))&&!(t!=null&&t.text&&!Gh.Xe(s.text||"",t==null?void 0:t.text,(t==null?void 0:t.text_matching)||"exact")&&!Gh.Xe(s.$el_text||"",t==null?void 0:t.text,(t==null?void 0:t.text_matching)||"exact"))))return!1;if(t!=null&&t.selector){var n,r=e==null||(n=e.properties)==null?void 0:n.$element_selectors;if(!r||!r.includes(t==null?void 0:t.selector))return!1}return!0}Ze(e){return(e==null?void 0:e.properties.$elements)==null?[]:e==null?void 0:e.properties.$elements}};(function(i){return i.Button="button",i.Tab="tab",i.Selector="selector",i})({});(function(i){return i.TopLeft="top_left",i.TopRight="top_right",i.TopCenter="top_center",i.MiddleLeft="middle_left",i.MiddleRight="middle_right",i.MiddleCenter="middle_center",i.Left="left",i.Center="center",i.Right="right",i.NextToTrigger="next_to_trigger",i})({});var f2=function(i){return i.Popover="popover",i.API="api",i.Widget="widget",i.ExternalSurvey="external_survey",i}({});(function(i){return i.Open="open",i.MultipleChoice="multiple_choice",i.SingleChoice="single_choice",i.Rating="rating",i.Link="link",i})({});(function(i){return i.NextQuestion="next_question",i.End="end",i.ResponseBased="response_based",i.SpecificQuestion="specific_question",i})({});(function(i){return i.Once="once",i.Recurring="recurring",i.Always="always",i})({});var p2=function(i){return i.SHOWN="survey shown",i.DISMISSED="survey dismissed",i.SENT="survey sent",i}({}),aA=function(i){return i.SURVEY_ID="$survey_id",i.SURVEY_NAME="$survey_name",i.SURVEY_RESPONSE="$survey_response",i.SURVEY_ITERATION="$survey_iteration",i.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",i.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",i.SURVEY_SUBMISSION_ID="$survey_submission_id",i.SURVEY_QUESTIONS="$survey_questions",i.SURVEY_COMPLETED="$survey_completed",i}({}),Tr=jr("[Surveys]"),TI="seenSurvey_",Wbe=(i,e)=>{var t="$survey_"+e+"/"+i.id;return i.current_iteration&&i.current_iteration>0&&(t="$survey_"+e+"/"+i.id+"/"+i.current_iteration),t},Gbe=[f2.Popover,f2.Widget,f2.API];let Kbe=class{constructor(e){this._instance=e,this.tr=new Map,this.ir=new Map}register(e){var t;yt((t=this._instance)==null?void 0:t.Ve)||(this.er(e),this.rr(e))}rr(e){var t=e.filter(n=>{var r,s;return((r=n.conditions)==null?void 0:r.actions)&&((s=n.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0});t.length!==0&&(this.sr==null&&(this.sr=new Qbe(this._instance),this.sr.init(),this.sr.Ye(n=>{this.onAction(n)})),t.forEach(n=>{var r,s,o,a,l;n.conditions&&(r=n.conditions)!=null&&r.actions&&(s=n.conditions)!=null&&(s=s.actions)!=null&&s.values&&((o=n.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((a=this.sr)==null||a.register(n.conditions.actions.values),(l=n.conditions)==null||(l=l.actions)==null||(l=l.values)==null||l.forEach(u=>{if(u&&u.name){var c=this.ir.get(u.name);c&&c.push(n.id),this.ir.set(u.name,c||[n.id])}}))}))}er(e){var t;e.filter(n=>{var r,s;return((r=n.conditions)==null?void 0:r.events)&&((s=n.conditions)==null||(s=s.events)==null||(s=s.values)==null?void 0:s.length)>0}).length!==0&&((t=this._instance)==null||t.Ve((n,r)=>{this.onEvent(n,r)}),e.forEach(n=>{var r;(r=n.conditions)==null||(r=r.events)==null||(r=r.values)==null||r.forEach(s=>{if(s&&s.name){var o=this.tr.get(s.name);o&&o.push(n.id),this.tr.set(s.name,o||[n.id])}})}))}onEvent(e,t){var n,r=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Oy])||[];if(e==="survey shown"&&t&&r.length>0){var s;Tr.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:r});var o=t==null||(s=t.properties)==null?void 0:s.$survey_id;if(o){var a=r.indexOf(o);a>=0&&(r.splice(a,1),this.nr(r))}}else this.tr.has(e)&&(Tr.info("survey event matched, updating activated surveys",{event:e,surveys:this.tr.get(e)}),this.nr(r.concat(this.tr.get(e)||[])))}onAction(e){var t,n=((t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[Oy])||[];this.ir.has(e)&&this.nr(n.concat(this.ir.get(e)||[]))}nr(e){var t;(t=this._instance)==null||(t=t.persistence)==null||t.register({[Oy]:[...new Set(e)]})}getSurveys(){var e,t=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[Oy];return t||[]}getEventToSurveys(){return this.tr}ar(){return this.sr}},Jbe=class{constructor(e){this.lr=void 0,this._surveyManager=null,this.ur=!1,this.hr=!1,this.dr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var t=e.surveys;if(Yn(t))return Tr.warn("Flags not loaded yet. Not loading surveys.");var n=ki(t);this.lr=n?t.length>0:t,Tr.info("flags response received, isSurveysEnabled: "+this.lr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var n=localStorage.key(t);(n!=null&&n.startsWith(TI)||n!=null&&n.startsWith("inProgressSurvey_"))&&e.push(n)}e.forEach(r=>localStorage.removeItem(r))}loadIfEnabled(){if(!this._surveyManager)if(this.hr)Tr.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)Tr.info("Disabled. Not loading surveys.");else{var e=sn==null?void 0:sn.__PosthogExtensions__;if(e){if(!yt(this.lr)||this._instance.config.advanced_enable_surveys){var t=this.lr||this._instance.config.advanced_enable_surveys;this.hr=!0;try{var n=e.generateSurveys;if(n)return void this.vr(n,t);var r=e.loadExternalDependency;if(!r)return void this.cr("PostHog loadExternalDependency extension not found.");r(this._instance,"surveys",s=>{s||!e.generateSurveys?this.cr("Could not load surveys script",s):this.vr(e.generateSurveys,t)})}catch(s){throw this.cr("Error initializing surveys",s),s}finally{this.hr=!1}}}else Tr.error("PostHog Extensions not found.")}}vr(e,t){this._surveyManager=e(this._instance,t),this._surveyEventReceiver=new Kbe(this._instance),Tr.info("Surveys loaded successfully"),this.pr({isLoaded:!0})}cr(e,t){Tr.error(e,t),this.pr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.dr.push(e),this._surveyManager&&this.pr({isLoaded:!0}),()=>{this.dr=this.dr.filter(t=>t!==e)}}getSurveys(e,t){if(t===void 0&&(t=!1),this._instance.config.disable_surveys)return Tr.info("Disabled. Not loading surveys."),e([]);var n=this._instance.get_property(uI);if(n&&!t)return e(n,{isLoaded:!0});if(this.ur)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.ur=!0,this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:r=>{var s;this.ur=!1;var o=r.statusCode;if(o!==200||!r.json){var a="Surveys API could not be loaded, status: "+o;return Tr.error(a),e([],{isLoaded:!1,error:a})}var l,u=r.json.surveys||[],c=u.filter(h=>function(f){return!(!f.start_date||f.end_date)}(h)&&(function(f){var m;return!((m=f.conditions)==null||(m=m.events)==null||(m=m.values)==null||!m.length)}(h)||function(f){var m;return!((m=f.conditions)==null||(m=m.actions)==null||(m=m.values)==null||!m.length)}(h)));return c.length>0&&((l=this._surveyEventReceiver)==null||l.register(c)),(s=this._instance.persistence)==null||s.register({[uI]:u}),e(u,{isLoaded:!0})}})}catch(r){throw this.ur=!1,r}}pr(e){for(var t of this.dr)try{if(!e.isLoaded)return t([],e);this.getSurveys(t)}catch(n){Tr.error("Error in survey callback",n)}}getActiveMatchingSurveys(e,t){if(t===void 0&&(t=!1),!Yn(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,t);Tr.warn("init was not called")}_r(e){var t=null;return this.getSurveys(n=>{var r;t=(r=n.find(s=>s.id===e))!==null&&r!==void 0?r:null}),t}gr(e){if(Yn(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t=typeof e=="string"?this._r(e):e;return t?this._surveyManager.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(Yn(this._surveyManager))return Tr.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.gr(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return Yn(this._surveyManager)?(Tr.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(r=>{var s,o=(s=r.find(l=>l.id===e))!==null&&s!==void 0?s:null;if(o){var a=this.gr(o);n({visible:a.eligible,disabledReason:a.reason})}else n({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){if(Yn(this._surveyManager))Tr.warn("init was not called");else{var n=this._r(e);if(n)if(Gbe.includes(n.type)){var r=Lt==null?void 0:Lt.querySelector(t);r?this._surveyManager.renderSurvey(n,r):Tr.warn("Survey element not found")}else Tr.warn("Surveys of type "+n.type+" cannot be rendered in the app");else Tr.warn("Survey not found")}}};var lA=jr("[RateLimiter]");let Ybe=class{constructor(e){var t,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=r=>{var s=r.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(o=>{lA.info((o||"events")+" is quota limited."),this.serverLimits[o]=new Date().getTime()+6e4})}catch(o){return void lA.warn('could not rate limit - continuing. Error: "'+(o==null?void 0:o.message)+'"',{text:s})}},this.instance=e,this.captureEventsPerSecond=((t=e.config.rate_limiting)==null?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=e.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var t,n,r;e===void 0&&(e=!1);var s=new Date().getTime(),o=(t=(n=this.instance.persistence)==null?void 0:n.get_property(dI))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||e||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)==null||r.set_property(dI,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return t!==!1&&new Date().getTime()<t}};var Sd=jr("[RemoteConfig]");let Zbe=class{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=sn._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}mr(e){var t,n;(t=sn.__PosthogExtensions__)!=null&&t.loadExternalDependency?(n=sn.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Sd.error("PostHog Extensions not found. Cannot load remote config."),e())}br(e){this._instance.Pe({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return Sd.info("Using preloaded remote config",this.remoteConfig),void this.Re(this.remoteConfig);if(this._instance.I())return void Sd.warn("Remote config is disabled. Falling back to local config.");this.mr(e=>{if(!e)return Sd.info("No config found after loading remote JS config. Falling back to JSON."),void this.br(t=>{this.Re(t)});this.Re(e)})}catch(e){Sd.error("Error loading remote config",e)}}Re(e){e?this._instance.config.__preview_remote_config?(this._instance.Re(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Sd.info("__preview_remote_config is disabled. Logging config instead",e):Sd.error("Failed to fetch remote config from PostHog.")}};var xI=3e3;let Xbe=class{constructor(e,t){this.yr=!0,this.wr=[],this.Sr=Ro((t==null?void 0:t.flush_interval_ms)||xI,250,5e3,"flush interval",xI),this.$r=e}enqueue(e){this.wr.push(e),this.kr||this.Er()}unload(){this.Ir();var e=this.wr.length>0?this.Pr():{},t=Object.values(e);[...t.filter(n=>n.url.indexOf("/e")===0),...t.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.$r(Pt({},n,{transport:"sendBeacon"}))})}enable(){this.yr=!1,this.Er()}Er(){var e=this;this.yr||(this.kr=setTimeout(()=>{if(this.Ir(),this.wr.length>0){var t=this.Pr(),n=function(){var s=t[r],o=new Date().getTime();s.data&&ki(s.data)&&gi(s.data,a=>{a.offset=Math.abs(a.timestamp-o),delete a.timestamp}),e.$r(s)};for(var r in t)n()}},this.Sr))}Ir(){clearTimeout(this.kr),this.kr=void 0}Pr(){var e={};return gi(this.wr,t=>{var n,r=t,s=(r?r.batchKey:null)||r.url;yt(e[s])&&(e[s]=Pt({},r,{data:[]})),(n=e[s].data)==null||n.push(r.data)}),this.wr=[],e}};var eCe=["retriesPerformedSoFar"];let tCe=class{constructor(e){this.Rr=!1,this.Tr=3e3,this.wr=[],this._instance=e,this.wr=[],this.Mr=!0,!yt(Ce)&&"onLine"in Ce.navigator&&(this.Mr=Ce.navigator.onLine,Bi(Ce,"online",()=>{this.Mr=!0,this.se()}),Bi(Ce,"offline",()=>{this.Mr=!1}))}get length(){return this.wr.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,n=vN(e,eCe);ys(t)&&t>0&&(n.url=M0(n.url,{retry_count:t})),this._instance.Pe(Pt({},n,{callback:r=>{r.statusCode!==200&&(r.statusCode<400||r.statusCode>=500)&&(t??0)<10?this.Cr(Pt({retriesPerformedSoFar:t},n)):n.callback==null||n.callback(r)}}))}Cr(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var n=function(o){var a=3e3*Math.pow(2,o),l=a/2,u=Math.min(18e5,a),c=(Math.random()-.5)*(u-l);return Math.ceil(u+c)}(t),r=Date.now()+n;this.wr.push({retryAt:r,requestOptions:e});var s="Enqueued failed request for retry in "+n;navigator.onLine||(s+=" (Browser is offline)"),Mt.warn(s),this.Rr||(this.Rr=!0,this.Fr())}Fr(){this.Or&&clearTimeout(this.Or),this.Or=setTimeout(()=>{this.Mr&&this.wr.length>0&&this.se(),this.Fr()},this.Tr)}se(){var e=Date.now(),t=[],n=this.wr.filter(s=>s.retryAt<e||(t.push(s),!1));if(this.wr=t,n.length>0)for(var{requestOptions:r}of n)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.Or&&(clearTimeout(this.Or),this.Or=void 0),this.wr))try{this._instance.Pe(Pt({},e,{transport:"sendBeacon"}))}catch(t){Mt.error(t)}this.wr=[]}},nCe=class{constructor(e){this.Ar=()=>{var t,n,r,s;this.Dr||(this.Dr={});var o=this.scrollElement(),a=this.scrollY(),l=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=a+((o==null?void 0:o.clientHeight)||0),c=(o==null?void 0:o.scrollHeight)||0;this.Dr.lastScrollY=Math.ceil(a),this.Dr.maxScrollY=Math.max(a,(t=this.Dr.maxScrollY)!==null&&t!==void 0?t:0),this.Dr.maxScrollHeight=Math.max(l,(n=this.Dr.maxScrollHeight)!==null&&n!==void 0?n:0),this.Dr.lastContentY=u,this.Dr.maxContentY=Math.max(u,(r=this.Dr.maxContentY)!==null&&r!==void 0?r:0),this.Dr.maxContentHeight=Math.max(c,(s=this.Dr.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=e}getContext(){return this.Dr}resetContext(){var e=this.Dr;return setTimeout(this.Ar,0),e}startMeasuringScrollPosition(){Bi(Ce,"scroll",this.Ar,{capture:!0}),Bi(Ce,"scrollend",this.Ar,{capture:!0}),Bi(Ce,"resize",this.Ar)}scrollElement(){if(!this._instance.config.scroll_root_selector)return Ce==null?void 0:Ce.document.documentElement;var e=ki(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var t of e){var n=Ce==null?void 0:Ce.document.querySelector(t);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return Ce&&(Ce.scrollY||Ce.pageYOffset||Ce.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return Ce&&(Ce.scrollX||Ce.pageXOffset||Ce.document.documentElement.scrollLeft)||0}};var iCe=i=>vM(i==null?void 0:i.config.mask_personal_data_properties,i==null?void 0:i.config.custom_personal_data_properties);let rCe=class{constructor(e,t,n,r){this.Lr=s=>{var o=this.jr();if(!o||o.sessionId!==s){var a={sessionId:s,props:this.Nr(this._instance)};this.zr.register({[cI]:a})}},this._instance=e,this.Ur=t,this.zr=n,this.Nr=r||iCe,this.Ur.onSessionId(this.Lr)}jr(){return this.zr.props[cI]}getSetOnceProps(){var e,t=(e=this.jr())==null?void 0:e.props;return t?"r"in t?yM(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return gi(OT(this.getSetOnceProps()),(t,n)=>{n==="$current_url"&&(n="url"),e["$session_entry_"+tI(n)]=t}),e}};var uA=jr("[SessionId]");let sCe=class{constructor(e,t,n){var r;if(this.qr=[],this.Br=(c,h)=>Math.abs(c-h)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.__preview_experimental_cookieless_mode)throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=e.config,this.zr=e.persistence,this.fi=void 0,this.Ct=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Hr=t||_c,this.Wr=n||_c;var s=this.S.persistence_name||this.S.token,o=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Ro(o,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Gr(),this.Jr="ph_"+s+"_window_id",this.Vr="ph_"+s+"_primary_window_exists",this.Kr()){var a=Zr.L(this.Jr),l=Zr.L(this.Vr);a&&!l?this.fi=a:Zr.N(this.Jr),Zr.j(this.Vr,!0)}if((r=this.S.bootstrap)!=null&&r.sessionID)try{var u=(c=>{var h=c.replace(/-/g,"");if(h.length!==32)throw new Error("Not a valid UUID");if(h[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(h.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Yr(this.S.bootstrap.sessionID,new Date().getTime(),u)}catch(c){uA.error("Invalid sessionID in bootstrap",c)}this.Xr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return yt(this.qr)&&(this.qr=[]),this.qr.push(e),this.Ct&&e(this.Ct,this.fi),()=>{this.qr=this.qr.filter(t=>t!==e)}}Kr(){return this.S.persistence!=="memory"&&!this.zr.Ae&&Zr.O()}Qr(e){e!==this.fi&&(this.fi=e,this.Kr()&&Zr.j(this.Jr,e))}Zr(){return this.fi?this.fi:this.Kr()?Zr.L(this.Jr):null}Yr(e,t,n){e===this.Ct&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this.Ct=e,this.zr.register({[T0]:[t,e,n]}))}ts(){if(this.Ct&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ct,this._sessionStartTimestamp];var e=this.zr.props[T0];return ki(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Yr(null,null,null)}Xr(){Bi(Ce,"beforeunload",()=>{this.Kr()&&Zr.N(this.Vr)},{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(e===void 0&&(e=!1),t===void 0&&(t=null),this.S.__preview_experimental_cookieless_mode)throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var n=t||new Date().getTime(),[r,s,o]=this.ts(),a=this.Zr(),l=ys(o)&&o>0&&Math.abs(n-o)>864e5,u=!1,c=!s,h=!e&&this.Br(n,r);c||h||l?(s=this.Hr(),a=this.Wr(),uA.info("new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}}),o=n,u=!0):a||(a=this.Wr(),u=!0);var f=r===0||!e||l?n:r,m=o===0?new Date().getTime():o;return this.Qr(a),this.Yr(s,f,m),e||this.Gr(),u&&this.qr.forEach(b=>b(s,a,u?{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}:void 0)),{sessionId:s,windowId:a,sessionStartTimestamp:m,changeReason:u?{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:r}}Gr(){clearTimeout(this.es),this.es=setTimeout(()=>{var[e]=this.ts();this.Br(new Date().getTime(),e)&&this.resetSessionId()},1.1*this.sessionTimeoutMs)}};var oCe=["$set_once","$set"],nc=jr("[SiteApps]");let aCe=class{constructor(e){this._instance=e,this.rs=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ss(e,t){if(t){var n=this.globalsForEvent(t);this.rs.push(n),this.rs.length>1e3&&(this.rs=this.rs.slice(10))}}get siteAppLoaders(){var e;return(e=sn._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ve(this.ss.bind(this));this.ns=()=>{e(),this.rs=[],this.ns=void 0}}}globalsForEvent(e){var t,n,r,s,o,a,l;if(!e)throw new Error("Event payload is required");var u={},c=this._instance.get_property("$groups")||[],h=this._instance.get_property("$stored_group_properties")||{};for(var[f,m]of Object.entries(h))u[f]={id:c[f],type:f,properties:m};var{$set_once:b,$set:_}=e;return{event:Pt({},vN(e,oCe),{properties:Pt({},e.properties,_?{$set:Pt({},(t=(n=e.properties)==null?void 0:n.$set)!==null&&t!==void 0?t:{},_)}:{},b?{$set_once:Pt({},(r=(s=e.properties)==null?void 0:s.$set_once)!==null&&r!==void 0?r:{},b)}:{}),elements_chain:(o=(a=e.properties)==null?void 0:a.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(l=e.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(e){var t=this.apps[e.id],n=()=>{var a;!t.errored&&this.rs.length&&(nc.info("Processing "+this.rs.length+" events for site app with id "+e.id),this.rs.forEach(l=>t.processEvent==null?void 0:t.processEvent(l)),t.processedBuffer=!0),Object.values(this.apps).every(l=>l.processedBuffer||l.errored)&&((a=this.ns)==null||a.call(this))},r=!1,s=a=>{t.errored=!a,t.loaded=!0,nc.info("Site app with id "+e.id+" "+(a?"loaded":"errored")),r&&n()};try{var{processEvent:o}=e.init({posthog:this._instance,callback:a=>{s(a)}});o&&(t.processEvent=o),r=!0}catch(a){nc.error("Error while initializing PostHog app with config id "+e.id,a),s(!1)}if(r&&t.loaded)try{n()}catch(a){nc.error("Error while processing buffered events PostHog app with config id "+e.id,a),t.errored=!0}}os(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of e)this.setupSiteApp(n)}ls(e){if(Object.keys(this.apps).length!==0){var t=this.globalsForEvent(e);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(t)}catch(r){nc.error("Error while processing event "+e.event+" for site app "+n.id,r)}}}onRemoteConfig(e){var t,n,r,s=this;if((t=this.siteAppLoaders)!=null&&t.length)return this.isEnabled?(this.os(),void this._instance.on("eventCaptured",u=>this.ls(u))):void nc.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.ns)==null||n.call(this),(r=e.siteApps)!=null&&r.length)if(this.isEnabled){var o=function(u){var c;sn["__$$ph_site_app_"+u]=s._instance,(c=sn.__PosthogExtensions__)==null||c.loadSiteApp==null||c.loadSiteApp(s._instance,l,h=>{if(h)return nc.error("Error while initializing PostHog app with config id "+u,h)})};for(var{id:a,url:l}of e.siteApps)o(a)}else nc.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}};var lCe=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],cA=function(i,e){if(!i)return!1;var t=i.toLowerCase();return lCe.concat(e||[]).some(n=>{var r=n.toLowerCase();return t.indexOf(r)!==-1})},wM=function(i,e){if(!i)return!1;var t=i.userAgent;if(t&&cA(t,e))return!0;try{var n=i==null?void 0:i.userAgentData;if(n!=null&&n.brands&&n.brands.some(r=>cA(r==null?void 0:r.brand,e)))return!0}catch{}return!!i.webdriver},Vg=function(i){return i.US="us",i.EU="eu",i.CUSTOM="custom",i}({}),dA="i.posthog.com";class uCe{constructor(e){this.us={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,t=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+dA,".posthog.com")),t==="https://app.posthog.com"?"https://us.posthog.com":t}get region(){return this.us[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=Vg.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=Vg.EU:this.us[this.apiHost]=Vg.CUSTOM),this.us[this.apiHost]}endpointFor(e,t){if(t===void 0&&(t=""),t&&(t=t[0]==="/"?t:"/"+t),e==="ui")return this.uiHost+t;if(this.region===Vg.CUSTOM)return this.apiHost+t;var n=dA+t;switch(e){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var cCe={icontains:(i,e)=>!!Ce&&e.href.toLowerCase().indexOf(i.toLowerCase())>-1,not_icontains:(i,e)=>!!Ce&&e.href.toLowerCase().indexOf(i.toLowerCase())===-1,regex:(i,e)=>!!Ce&&Wf(e.href,i),not_regex:(i,e)=>!!Ce&&!Wf(e.href,i),exact:(i,e)=>e.href===i,is_not:(i,e)=>e.href!==i};class vs{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),t.getWebExperiments(r=>{vs.hs("retrieved web experiments from the server"),t.ds=new Map,r.forEach(s=>{if(s.feature_flag_key){var o;t.ds&&(vs.hs("setting flag key ",s.feature_flag_key," to web experiment ",s),(o=t.ds)==null||o.set(s.feature_flag_key,s));var a=t._instance.getFeatureFlag(s.feature_flag_key);Yi(a)&&s.variants[a]&&t.vs(s.name,a,s.variants[a].transforms)}else if(s.variants)for(var l in s.variants){var u=s.variants[l];vs.cs(u)&&t.vs(s.name,l,u.transforms)}})},n)},this._instance=e,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(e){if(this._is_bot())vs.hs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Yn(this.ds))return this.ds=new Map,this.loadIfEnabled(),void this.previewWebExperiment();vs.hs("applying feature flags",e),e.forEach(t=>{var n;if(this.ds&&(n=this.ds)!=null&&n.has(t)){var r,s=this._instance.getFeatureFlag(t),o=(r=this.ds)==null?void 0:r.get(t);s&&o!=null&&o.variants[s]&&this.vs(o.name,s,o.variants[s].transforms)}})}}previewWebExperiment(){var e=vs.getWindowLocation();if(e!=null&&e.search){var t=A0(e==null?void 0:e.search,"__experiment_id"),n=A0(e==null?void 0:e.search,"__experiment_variant");t&&n&&(vs.hs("previewing web experiments "+t+" && "+n),this.getWebExperiments(r=>{this.fs(parseInt(t),n,r)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,n){if(this._instance.config.disable_web_experiments&&!n)return e([]);var r=this._instance.get_property("$web_experiments");if(r&&!t)return e(r);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return e([]);var o=s.json.experiments||[];return e(o)}})}fs(e,t,n){var r=n.filter(s=>s.id===e);r&&r.length>0&&(vs.hs("Previewing web experiment ["+r[0].name+"] with variant ["+t+"]"),this.vs(r[0].name,t,r[0].variants[t].transforms))}static cs(e){return!Yn(e.conditions)&&vs.ps(e)&&vs._s(e)}static ps(e){var t;if(Yn(e.conditions)||Yn((t=e.conditions)==null?void 0:t.url))return!0;var n,r,s,o=vs.getWindowLocation();return!!o&&((n=e.conditions)==null||!n.url||cCe[(r=(s=e.conditions)==null?void 0:s.urlMatchType)!==null&&r!==void 0?r:"icontains"](e.conditions.url,o))}static getWindowLocation(){return Ce==null?void 0:Ce.location}static _s(e){var t;if(Yn(e.conditions)||Yn((t=e.conditions)==null?void 0:t.utm))return!0;var n=fM();if(n.utm_source){var r,s,o,a,l,u,c,h,f=(r=e.conditions)==null||(r=r.utm)==null||!r.utm_campaign||((s=e.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==n.utm_campaign,m=(o=e.conditions)==null||(o=o.utm)==null||!o.utm_source||((a=e.conditions)==null||(a=a.utm)==null?void 0:a.utm_source)==n.utm_source,b=(l=e.conditions)==null||(l=l.utm)==null||!l.utm_medium||((u=e.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==n.utm_medium,_=(c=e.conditions)==null||(c=c.utm)==null||!c.utm_term||((h=e.conditions)==null||(h=h.utm)==null?void 0:h.utm_term)==n.utm_term;return f&&b&&_&&m}return!1}static hs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mt.info("[WebExperiments] "+e,n)}vs(e,t,n){this._is_bot()?vs.hs("Refusing to render web experiment since the viewer is a likely bot"):t!=="control"?n.forEach(r=>{if(r.selector){var s;vs.hs("applying transform of variant "+t+" for experiment "+e+" ",r);var o=(s=document)==null?void 0:s.querySelectorAll(r.selector);o==null||o.forEach(a=>{var l=a;r.html&&(l.innerHTML=r.html),r.css&&l.setAttribute("style",r.css)})}}):vs.hs("Control variants leave the page unmodified.")}_is_bot(){return Po&&this._instance?wM(Po,this._instance.config.custom_blocked_useragents):void 0}}var dCe=jr("[PostHog ExternalIntegrations]"),hCe={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class fCe{constructor(e){this._instance=e}J(e,t){var n;(n=sn.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,e,r=>{if(r)return dCe.error("failed to load script",r);t()})}startIfEnabledOrStop(){var e=this,t=function(o){var a,l,u;!r||(a=sn.__PosthogExtensions__)!=null&&(a=a.integrations)!=null&&a[o]||e.J(hCe[o],()=>{var c;(c=sn.__PosthogExtensions__)==null||(c=c.integrations)==null||(c=c[o])==null||c.start(e._instance)}),!r&&(l=sn.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[o]&&((u=sn.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[o])==null||u.stop())};for(var[n,r]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;t(n)}}}var rm={},PI=()=>{},Kh="posthog",_M=!Sbe&&(Xs==null?void 0:Xs.indexOf("MSIE"))===-1&&(Xs==null?void 0:Xs.indexOf("Mozilla"))===-1,hA=i=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:i0e(Lt==null?void 0:Lt.location),persistence:"localStorage+cookie",persistence_name:"",loaded:PI,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:i!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:i??"unset",debug:eo&&Yi(eo==null?void 0:eo.search)&&eo.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(Ce==null||(e=Ce.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var n="Bad HTTP status: "+t.statusCode+" "+t.text;Mt.error(n)},get_device_id:t=>t,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:xI},error_tracking:{},_onCapture:PI}},fA=i=>{var e={};yt(i.process_person)||(e.person_profiles=i.process_person),yt(i.xhr_headers)||(e.request_headers=i.xhr_headers),yt(i.cookie_name)||(e.persistence_name=i.cookie_name),yt(i.disable_cookie)||(e.disable_persistence=i.disable_cookie),yt(i.store_google)||(e.save_campaign_params=i.store_google),yt(i.verbose)||(e.debug=i.verbose);var t=or({},e,i);return ki(i.property_blacklist)&&(yt(i.property_denylist)?t.property_denylist=i.property_blacklist:ki(i.property_denylist)?t.property_denylist=[...i.property_blacklist,...i.property_denylist]:Mt.error("Invalid value for property_denylist config: "+i.property_denylist)),t};class pCe{constructor(){this.__forceAllowLocalhost=!1}get gs(){return this.__forceAllowLocalhost}set gs(e){Mt.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class _C{get decideEndpointWasHit(){var e,t;return(e=(t=this.featureFlags)==null?void 0:t.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,t;return(e=(t=this.featureFlags)==null?void 0:t.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new pCe,this.bs=!1,this.version=lu.LIB_VERSION,this.ys=new CM,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=hA(),this.SentryIntegration=gbe,this.sentryIntegration=e=>function(t,n){var r=JN(t,n);return{name:KN,processEvent:s=>r(s)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.ws=!1,this.Ss=null,this.$s=null,this.xs=null,this.featureFlags=new zbe(this),this.toolbar=new vbe(this),this.scrollManager=new nCe(this),this.pageViewManager=new Ibe(this),this.surveys=new Jbe(this),this.experiments=new vs(this),this.exceptions=new xbe(this),this.rateLimiter=new Ybe(this),this.requestRouter=new uCe(this),this.consent=new S0e(this),this.externalIntegrations=new fCe(this),this.people={set:(e,t,n)=>{var r=Yi(e)?{[e]:t}:e;this.setPersonProperties(r),n==null||n({})},set_once:(e,t,n)=>{var r=Yi(e)?{[e]:t}:e;this.setPersonProperties(void 0,r),n==null||n({})}},this.on("eventCaptured",e=>Mt.info('send "'+(e==null?void 0:e.event)+'"',e))}init(e,t,n){if(n&&n!==Kh){var r,s=(r=rm[n])!==null&&r!==void 0?r:new _C;return s._init(e,t,n),rm[n]=s,rm[Kh][n]=s,s}return this._init(e,t,n)}_init(e,t,n){var r,s;if(t===void 0&&(t={}),yt(e)||nI(e))return Mt.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return Mt.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.ks=t,this.Es=[],t.person_profiles&&(this.$s=t.person_profiles),this.set_config(or({},hA(t.defaults),fA(t),{name:n,token:e})),this.config.on_xhr_error&&Mt.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:mu.GZipJS;var o=this.Is();this.persistence=new h2(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new h2(Pt({},this.config,{persistence:"sessionStorage"}),o);var a=Pt({},this.persistence.props),l=Pt({},this.sessionPersistence.props);if(this.register({$initialization_time:new Date().toISOString()}),this.Ps=new Xbe(j=>this.Rs(j),this.config.request_queue_config),this.Ts=new tCe(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new sCe(this),this.sessionPropsManager=new rCe(this,this.sessionManager,this.persistence)),new bbe(this).startIfEnabledOrStop(),this.siteApps=new aCe(this),(r=this.siteApps)==null||r.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new fbe(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new v0e(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new _be(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Cbe(this),this.exceptionObserver=new P0e(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new ON(this,x0e),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new U0e(this),this.historyAutocapture.startIfEnabled(),lu.DEBUG=lu.DEBUG||this.config.debug,lu.DEBUG&&Mt.info("Starting in debug mode",{this:this,config:t,thisC:Pt({},this.config),p:a,s:l}),((s=t.bootstrap)==null?void 0:s.distinctID)!==void 0){var u,c,h=this.config.get_device_id(_c()),f=(u=t.bootstrap)!=null&&u.isIdentifiedID?h:t.bootstrap.distinctID;this.persistence.set_property(su,(c=t.bootstrap)!=null&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:f})}if(this.Ms()){var m,b,_=Object.keys(((m=t.bootstrap)==null?void 0:m.featureFlags)||{}).filter(j=>{var M;return!((M=t.bootstrap)==null||(M=M.featureFlags)==null||!M[j])}).reduce((j,M)=>{var q;return j[M]=((q=t.bootstrap)==null||(q=q.featureFlags)==null?void 0:q[M])||!1,j},{}),E=Object.keys(((b=t.bootstrap)==null?void 0:b.featureFlagPayloads)||{}).filter(j=>_[j]).reduce((j,M)=>{var q,J;return(q=t.bootstrap)!=null&&(q=q.featureFlagPayloads)!=null&&q[M]&&(j[M]=(J=t.bootstrap)==null||(J=J.featureFlagPayloads)==null?void 0:J[M]),j},{});this.featureFlags.receivedFeatureFlags({featureFlags:_,featureFlagPayloads:E})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:Dy,$device_id:null},"");else if(!this.get_distinct_id()){var k=this.config.get_device_id(_c());this.register_once({distinct_id:k,$device_id:k},""),this.persistence.set_property(su,"anonymous")}return Bi(Ce,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?pbe(this,()=>this.Cs()):this.Cs(),aa(this.config._onCapture)&&this.config._onCapture!==PI&&(Mt.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",j=>this.config._onCapture(j.event,j))),this.config.ip&&Mt.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Re(e){var t,n,r,s,o,a,l,u;if(!Lt||!Lt.body)return Mt.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Re(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=Sn(e.supportedCompression,mu.GZipJS)?mu.GZipJS:Sn(e.supportedCompression,mu.Base64)?mu.Base64:void 0),(t=e.analytics)!=null&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.$s?this.$s:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(e),(r=this.sessionRecording)==null||r.onRemoteConfig(e),(s=this.autocapture)==null||s.onRemoteConfig(e),(o=this.heatmaps)==null||o.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(a=this.webVitalsAutocapture)==null||a.onRemoteConfig(e),(l=this.exceptionObserver)==null||l.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(e)}Cs(){try{this.config.loaded(this)}catch(e){Mt.critical("`loaded` function failed",e)}this.Fs(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Os()},1),new Zbe(this).load(),this.featureFlags.flags()}Fs(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this.Ps)==null||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||kc(this.__request_queue,e=>this.Rs(e)),this.__request_queue=[],this.Fs()}_handle_unload(){var e,t;this.config.request_batching?(this.As()&&this.capture("$pageleave"),(e=this.Ps)==null||e.unload(),(t=this.Ts)==null||t.unload()):this.As()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Pe(e){this.__loaded&&(_M?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=M0(e.url,{ip:this.config.ip?1:0}),e.headers=Pt({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(t=>{var n,r,s,o=Pt({},t);o.timeout=o.timeout||6e4,o.url=M0(o.url,{_:new Date().getTime().toString(),ver:lu.LIB_VERSION,compression:o.compression});var a=(n=o.transport)!==null&&n!==void 0?n:"fetch",l=(r=(s=yN(im,u=>u.transport===a))==null?void 0:s.method)!==null&&r!==void 0?r:im[0].method;if(!l)throw new Error("No available transport method");l(o)})(Pt({},e,{callback:t=>{var n,r;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&((n=(r=this.config).on_request_error)==null||n.call(r,t)),e.callback==null||e.callback(t)}}))))}Rs(e){this.Ts?this.Ts.retriableRequest(e):this.Pe(e)}_execute_array(e){var t,n=[],r=[],s=[];kc(e,a=>{a&&(t=a[0],ki(t)?s.push(a):aa(a)?a.call(this):ki(a)&&t==="alias"?n.push(a):ki(a)&&t.indexOf("capture")!==-1&&aa(this[t])?s.push(a):r.push(a))});var o=function(a,l){kc(a,function(u){if(ki(u[0])){var c=l;gi(u,function(h){c=c[h[0]].apply(c,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},l)};o(n,this),o(r,this),o(s,this)}Ms(){var e,t;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((t=this.config.bootstrap)==null?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,n){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ps){if(!this.consent.isOptedOut())if(!yt(e)&&Yi(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){t!=null&&t.$current_url&&!Yi(t==null?void 0:t.$current_url)&&(Mt.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),t==null||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=(n==null?void 0:n.timestamp)||o,l=_c(),u={uuid:l,event:e,properties:this.calculateEventProperties(e,t||{},a,l)};s&&(u.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),n!=null&&n.$set&&(u.$set=n==null?void 0:n.$set);var c,h,f=this.Ds(n==null?void 0:n.$set_once);if(f&&(u.$set_once=f),(u=t0e(u,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,yt(n==null?void 0:n.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=o),e===p2.DISMISSED||e===p2.SENT){var m=t==null?void 0:t[aA.SURVEY_ID],b=t==null?void 0:t[aA.SURVEY_ITERATION];localStorage.setItem((h=""+TI+(c={id:m,current_iteration:b}).id,c.current_iteration&&c.current_iteration>0&&(h=""+TI+c.id+"_"+c.current_iteration),h),"true"),u.$set=Pt({},u.$set,{[Wbe({id:m,current_iteration:b},e===p2.SENT?"responded":"dismissed")]:!0})}var _=Pt({},u.properties.$set,u.$set);if(ef(_)||this.setPersonPropertiesForFlags(_),!Yn(this.config.before_send)){var E=this.Ls(u);if(!E)return;u=E}this.ys.emit("eventCaptured",u);var k={method:"POST",url:(r=n==null?void 0:n._url)!==null&&r!==void 0?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:u,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.Rs(k):this.Ps.enqueue(k),u}Mt.critical("This capture call is ignored due to client rate limiting.")}}else Mt.error("No event name provided to posthog.capture")}else Mt.uninitializedWarning("posthog.capture")}Ve(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,n,r,s){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return t;var o=s?void 0:this.persistence.remove_event_timer(e),a=Pt({},t);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,this.config.__preview_experimental_cookieless_mode&&(a.$cookieless_mode=!0),e==="$snapshot"){var l=Pt({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!Yi(a.distinct_id)&&!ys(a.distinct_id)||nI(a.distinct_id))&&Mt.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var u,c=qbe(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:h,windowId:f}=this.sessionManager.checkAndGetSessionAndWindowId(s,n.getTime());a.$session_id=h,a.$window_id=f}this.sessionPropsManager&&or(a,this.sessionPropsManager.getSessionProps());try{var m;this.sessionRecording&&or(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(m=this.Ts)==null?void 0:m.length}catch(k){a.$sdk_debug_error_capturing_properties=String(k)}if(this.requestRouter.region===Vg.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=e!=="$pageview"||s?e!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,r),a=or(a,u),e==="$pageview"&&Lt&&(a.title=Lt.title),!yt(o)){var b=n.getTime()-o;a.$duration=parseFloat((b/1e3).toFixed(3))}Xs&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=or({},c,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),ki(this.config.property_denylist)?gi(this.config.property_denylist,function(k){delete a[k]}):Mt.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var _=this.config.sanitize_properties;_&&(Mt.error("sanitize_properties is deprecated. Use before_send instead"),a=_(a,e));var E=this.js();return a.$process_person_profile=E,E&&!s&&this.Ns("_calculate_event_properties"),a}Ds(e){var t;if(!this.persistence||!this.js()||this.bs)return e;var n=this.persistence.get_initial_props(),r=(t=this.sessionPropsManager)==null?void 0:t.getSetOnceProps(),s=or({},n,r||{},e||{}),o=this.config.sanitize_properties;return o&&(Mt.error("sanitize_properties is deprecated. Use before_send instead"),s=o(s,"$set_once")),this.bs=!0,ef(s)?void 0:s}register(e,t){var n;(n=this.persistence)==null||n.register(e,t)}register_once(e,t,n){var r;(r=this.persistence)==null||r.register_once(e,t,n)}register_for_session(e){var t;(t=this.sessionPersistence)==null||t.register(e)}unregister(e){var t;(t=this.persistence)==null||t.unregister(e)}unregister_for_session(e){var t;(t=this.sessionPersistence)==null||t.unregister(e)}zs(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch{return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t,n)}getEarlyAccessFeatures(e,t,n){return t===void 0&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,n)}on(e,t){return this.ys.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,n;return(t=(n=this.sessionManager)==null?void 0:n.onSessionId(e))!==null&&t!==void 0?t:()=>{}}getSurveys(e,t){t===void 0&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){t===void 0&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return t===void 0&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,n){if(!this.__loaded||!this.persistence)return Mt.uninitializedWarning("posthog.identify");if(ys(e)&&(e=e.toString(),Mt.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))Mt.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==Dy){if(this.Ns("posthog.identify")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}e!==r&&e!==this.get_property(Eg)&&(this.unregister(Eg),this.register({distinct_id:e}));var o=(this.persistence.get_property(su)||"anonymous")==="anonymous";e!==r&&o?(this.persistence.set_property(su,"identified"),this.setPersonPropertiesForFlags(Pt({},n||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:n||{}}),this.xs=Zk(e,t,n),this.featureFlags.setAnonymousDistinctId(r)):(t||n)&&this.setPersonProperties(t,n),e!==r&&(this.reloadFeatureFlags(),this.unregister(x0))}}else Mt.critical('The string "'+Dy+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Mt.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.Ns("posthog.setPersonProperties")){var n=Zk(this.get_distinct_id(),e,t);this.xs!==n?(this.setPersonPropertiesForFlags(Pt({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.xs=n):Mt.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,n){if(e&&t){if(this.Ns("posthog.group")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:Pt({},r,{[e]:t})}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags({[e]:n})),r[e]===t||n||this.reloadFeatureFlags()}}else Mt.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){t===void 0&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){t===void 0&&(t=!0),this.Ns("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,n,r,s;if(Mt.info("reset"),!this.__loaded)return Mt.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),(t=this.persistence)==null||t.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(r=this.persistence)==null||r.set_property(su,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.xs=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:Dy,$device_id:null},"");else{var a=this.config.get_device_id(_c());this.register_once({distinct_id:a,$device_id:e?a:o},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return(e=(t=this.sessionManager)==null?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(e!=null&&e.withTimestamp&&n){var s,o=(s=e.timestampLookBack)!==null&&s!==void 0?s:10;if(!n)return r;r+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-o,0)}return r}alias(e,t){return e===this.get_property(bN)?(Mt.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ns("posthog.alias")?(yt(t)&&(t=this.get_distinct_id()),e!==t?(this.zs(Eg,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(Mt.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t=Pt({},this.config);if(Ki(e)){var n,r,s,o,a;or(this.config,fA(e));var l=this.Is();(n=this.persistence)==null||n.update_config(this.config,t,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new h2(Pt({},this.config,{persistence:"sessionStorage"}),l),Pr.O()&&Pr.D("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(lu.DEBUG=!0,Mt.info("set_config",{config:e,oldConfig:t,newConfig:Pt({},this.config)})),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.Us(),(a=this.externalIntegrations)==null||a.startIfEnabledOrStop()}}startSessionRecording(e){var t=e===!0,n={sampling:t||!(e==null||!e.sampling),linked_flag:t||!(e==null||!e.linked_flag),url_trigger:t||!(e==null||!e.url_trigger),event_trigger:t||!(e==null||!e.event_trigger)};if(Object.values(n).some(Boolean)){var r,s,o,a,l;(r=this.sessionManager)==null||r.checkAndGetSessionAndWindowId(),n.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),n.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),n.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),n.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,t){var n=new Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(Pt({},q0e((r=>r instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:n}),t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return(t=this.persistence)==null?void 0:t.props[e]}getSessionProperty(e){var t;return(t=this.sessionPersistence)==null?void 0:t.props[e]}toString(){var e,t=(e=this.config.name)!==null&&e!==void 0?e:Kh;return t!==Kh&&(t=Kh+"."+t),t}_isIdentified(){var e,t;return((e=this.persistence)==null?void 0:e.get_property(su))==="identified"||((t=this.sessionPersistence)==null?void 0:t.get_property(su))==="identified"}js(){var e,t;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&ef(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[Eg])&&((t=this.persistence)==null||(t=t.props)==null||!t[R0]))}As(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.js()||this.Ns("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ns(e){return this.config.person_profiles==="never"?(Mt.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.zs(R0,!0),!0)}Is(){var e=this.consent.isOptedOut(),t=this.config.opt_out_persistence_by_default;return this.config.disable_persistence||e&&!!t}Us(){var e,t,n,r,s=this.Is();return((e=this.persistence)==null?void 0:e.Ae)!==s&&((n=this.persistence)==null||n.set_disabled(s)),((t=this.sessionPersistence)==null?void 0:t.Ae)!==s&&((r=this.sessionPersistence)==null||r.set_disabled(s)),s}opt_in_capturing(e){var t;this.consent.optInOut(!0),this.Us(),(yt(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((t=e==null?void 0:e.captureEventName)!==null&&t!==void 0?t:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Os()}opt_out_capturing(){this.consent.optInOut(!1),this.Us()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this.Us()}_is_bot(){return Po?wM(Po,this.config.custom_blocked_useragents):void 0}Os(){Lt&&(Lt.visibilityState==="visible"?this.ws||(this.ws=!0,this.capture("$pageview",{title:Lt.title},{send_instantly:!0}),this.Ss&&(Lt.removeEventListener("visibilitychange",this.Ss),this.Ss=null)):this.Ss||(this.Ss=this.Os.bind(this),Bi(Lt,"visibilitychange",this.Ss)))}debug(e){e===!1?(Ce==null||Ce.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(Ce==null||Ce.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}I(){var e,t,n,r,s,o,a,l=this.ks||{};return"advanced_disable_flags"in l?!!l.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(Mt.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",r=!1,s=Mt,o=(t="advanced_disable_flags")in(e=l)&&!yt(e[t]),a=n in e&&!yt(e[n]),o?e[t]:a?(s&&s.warn("Config field '"+n+"' is deprecated. Please use '"+t+"' instead. The old field will be removed in a future major version."),e[n]):r)}Ls(e){if(Yn(this.config.before_send))return e;var t=ki(this.config.before_send)?this.config.before_send:[this.config.before_send],n=e;for(var r of t){if(n=r(n),Yn(n)){var s="Event '"+e.event+"' was rejected in beforeSend function";return Z1e(e.event)?Mt.warn(s+". This can cause unexpected behavior."):Mt.info(s),null}n.properties&&!ef(n.properties)||Mt.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var e;return(e=this.pageViewManager.ce)==null?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,n){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(n)})}}(function(i,e){for(var t=0;t<e.length;t++)i.prototype[e[t]]=e0e(i.prototype[e[t]])})(_C,["identify"]);var pA,gA=(pA=rm[Kh]=new _C,function(){function i(){i.done||(i.done=!0,_M=!1,gi(rm,function(e){e._dom_loaded()}))}Lt!=null&&Lt.addEventListener?Lt.readyState==="complete"?i():Bi(Lt,"DOMContentLoaded",i,{capture:!1}):Ce&&Mt.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),pA);const gCe="phc_td8viDO0LP7PZsn7nZrV9bJBYgEMSHE9WeVTlW2CGh5",mCe="https://us.i.posthog.com";let $0;gA.init(gCe,{api_host:mCe,capture_pageview:!1,autocapture:!1,capture_heatmaps:!1}),$0=gA,console.log("PostHog initialized");const vCe={install:i=>{i.config.globalProperties.$posthog=$0,i.provide("posthog",$0)}},Hd=$0,yCe="3.2.3-dev",bCe={"@levante-framework/core-tasks":"^1.0.13"},IM={version:yCe,dependencies:bCe},EM=IM.version,SM=IM.dependencies["@levante-framework/core-tasks"].replace("^",""),TM="unknown";let ic=null,Lm={};function CCe(i){Lm={...Lm,...i}}function wCe(i,e,t=!1){const n={appVersion:EM,coreTasksVersion:SM,commitHash:TM,...e,...Lm};typeof Hd.capture=="function"&&Hd.capture(i,n)}function _Ce(i,e,t=!1){const n={appVersion:EM,coreTasksVersion:SM,commitHash:TM,...e,...Lm};y7(i,{extra:n})}function ICe(i,e=!1){if(i){typeof Hd.identify=="function"&&(ic==null?void 0:ic.uid)!==i.uid&&Hd.identify(i.uid,{email:i.email});const{uid:t,email:n}=i;k2({id:t,email:n}),ic=i}else typeof Hd.reset=="function"&&(ic!=null&&ic.uid)&&Hd.reset(),k2(null),ic=null,Lm={}}const RI={capture:wCe,error:_Ce,setUser:ICe,setAdditionalProperties:CCe},ud=()=>NE("authStore",{id:"authStore",state:()=>({spinner:!1,firebaseUser:{adminFirebaseUser:null},adminOrgs:null,roarfirekit:null,userData:null,userClaims:null,routeToProfile:!1,ssoProvider:null,showOptionalAssessments:!1,adminAuthStateListener:null}),getters:{uid:e=>{var t;return(t=e.firebaseUser.adminFirebaseUser)==null?void 0:t.uid},roarUid:e=>{var t,n;return(n=(t=e.userClaims)==null?void 0:t.claims)==null?void 0:n.roarUid},email:e=>{var t;return(t=e.firebaseUser.adminFirebaseUser)==null?void 0:t.email},isUserAuthedAdmin:e=>!!e.firebaseUser.adminFirebaseUser,isAuthenticated:e=>!!e.firebaseUser.adminFirebaseUser,isFirekitInit:e=>{var t;return(t=e.roarfirekit)==null?void 0:t.initialized},isUserAdmin:e=>{var t,n,r,s;return!!((n=(t=e.userClaims)==null?void 0:t.claims)!=null&&n.super_admin||(s=(r=e.userClaims)==null?void 0:r.claims)!=null&&s.admin)},isUserSuperAdmin:e=>{var t,n;return!!((n=(t=e.userClaims)==null?void 0:t.claims)!=null&&n.super_admin)}},actions:{async initFirekit(){try{this.roarfirekit=await j1e(),this.setAuthStateListeners()}catch(e){console.error("Error initializing Firekit:",e)}},setAuthStateListeners(){var e;this.adminAuthStateListener=GJ((e=this.roarfirekit)==null?void 0:e.admin.auth,async t=>{t?(this.localFirekitInit=!0,this.firebaseUser.adminFirebaseUser=t,RI.setUser(t)):(this.firebaseUser.adminFirebaseUser=null,RI.setUser(null))})},async completeAssessment(e,t){await this.roarfirekit.completeAssessment(e,t)},async getLegalDoc(e){return await this.roarfirekit.getLegalDoc(e)},async logInWithEmailAndPassword({email:e,password:t}){if(this.isFirekitInit)return this.roarfirekit.logInWithEmailAndPassword({email:e,password:t}).then(()=>{}).catch(n=>{throw console.error("Error signing in:",n),n})},async initiateLoginWithEmailLink({email:e}){if(this.isFirekitInit){const t=`${window.location.origin}/auth-email-link`;return this.roarfirekit.initiateLoginWithEmailLink({email:e,redirectUrl:t}).then(()=>{window.localStorage.setItem("emailForSignIn",e)})}},async signInWithEmailLink({email:e,emailLink:t}){if(this.isFirekitInit)return this.roarfirekit.signInWithEmailLink({email:e,emailLink:t}).then(()=>{window.localStorage.removeItem("emailForSignIn")})},async signInWithGooglePopup(){if(this.isFirekitInit)return this.roarfirekit.signInWithPopup(uk.GOOGLE)},async signInWithGoogleRedirect(){return this.roarfirekit.initiateRedirect(uk.GOOGLE)},async initStateFromRedirect(){this.spinner=!0;const e=()=>{Pb().replace({name:"EnableCookies"})};if(this.isFirekitInit)return await this.roarfirekit.signInFromRedirectResult(e).then(t=>{t!==null?this.spinner=!0:this.spinner=!1})},async forceIdTokenRefresh(){await this.roarfirekit.forceIdTokenRefresh()},async sendMyPasswordResetEmail(){return this.email?await this.roarfirekit.sendPasswordResetEmail(this.email).then(()=>!0):(console.warn("Logged in user does not have an associated email. Unable to send password reset email"),!1)},async createUsers(e){return this.roarfirekit.createUsers(e)},async signOut(){if(console.log("PostHog Reset (explicit signOut)"),Hd.reset(),this.isFirekitInit)return this.roarfirekit.signOut()},setUserData(e){this.userData=e},setUserClaims(e){this.userClaims=e}},persist:{storage:sessionStorage,paths:["firebaseUser","ssoProvider"],debug:!1}})(),tu=sJ;function ECe(i){var s,o,a,l,u,c,h,f,m,b,_,E,k,j,M,q,J,Z,L,y,w,R,U,H;let e,t,n;e="https://458fd3b1207c12df79f554b94f22833f@o4507250485035008.ingest.us.sentry.io/4508480347832320",t=/https:\/\/hs-levante-admin-dev(--pr\d+-\w+)?\.web\.app/,n=["https://hs-levante-admin-prod.web.app/**/*","https://hs-levante-admin-dev.web.app/**/*",t];const r=ud();jB({app:i,dsn:e,integrations:[QB({maskAllText:!0,maskAllInputs:!0}),WB(),GB({levels:["error"]}),KB({showBranding:!1,showName:!1,showEmail:!1,colorScheme:"light",formTitle:((a=(o=(s=Wu[tu])==null?void 0:s.translations)==null?void 0:o.sentryForm)==null?void 0:a.formTitle)||"Report a bug",buttonLabel:((c=(u=(l=Wu[tu])==null?void 0:l.translations)==null?void 0:u.sentryForm)==null?void 0:c.buttonLabel)||"Submit",cancelButtonLabel:((m=(f=(h=Wu[tu])==null?void 0:h.translations)==null?void 0:f.sentryForm)==null?void 0:m.cancelButtonLabel)||"Cancel",submitButtonLabel:((E=(_=(b=Wu[tu])==null?void 0:b.translations)==null?void 0:_.sentryForm)==null?void 0:E.submitButtonLabel)||"Submit",namePlaceholder:((M=(j=(k=Wu[tu])==null?void 0:k.translations)==null?void 0:j.sentryForm)==null?void 0:M.namePlaceholder)||"Name",emailPlaceholder:((Z=(J=(q=Wu[tu])==null?void 0:q.translations)==null?void 0:J.sentryForm)==null?void 0:Z.emailPlaceholder)||"Email",messageLabel:((w=(y=(L=Wu[tu])==null?void 0:L.translations)==null?void 0:y.sentryForm)==null?void 0:w.messageLabel)||"Message",messagePlaceholder:((H=(U=(R=Wu[tu])==null?void 0:R.translations)==null?void 0:U.sentryForm)==null?void 0:H.messagePlaceholder)||"Message"}),JB(),YB()],attachStacktrace:!0,tracesSampleRate:.2,tracePropagationTargets:n,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}),G5("commitSHA","unknown"),G5("user.language",tu),r.isAuthenticated&&r.userData&&k2({id:r.userData.uid,email:r.userData.email})}function xM(i,e){return i?i.classList?i.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(i.className):!1}function Om(i,e){if(i&&e){let t=n=>{xM(i,n)||(i.classList?i.classList.add(n):i.className+=" "+n)};[e].flat().filter(Boolean).forEach(n=>n.split(" ").forEach(t))}}function SCe(){return window.innerWidth-document.documentElement.offsetWidth}function TCe(i){typeof i=="string"?Om(document.body,i||"p-overflow-hidden"):(i!=null&&i.variableName&&document.body.style.setProperty(i.variableName,SCe()+"px"),Om(document.body,(i==null?void 0:i.className)||"p-overflow-hidden"))}function xCe(i){if(i){let e=document.createElement("a");if(e.download!==void 0){let{name:t,src:n}=i;return e.setAttribute("href",n),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),!0}}return!1}function nHe(i,e){let t=new Blob([i],{type:"application/csv;charset=utf-8;"});window.navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(t,e+".csv"):xCe({name:e+".csv",src:URL.createObjectURL(t)})||(i="data:text/csv;charset=utf-8,"+i,window.open(encodeURI(i)))}function gf(i,e){if(i&&e){let t=n=>{i.classList?i.classList.remove(n):i.className=i.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")};[e].flat().filter(Boolean).forEach(n=>n.split(" ").forEach(t))}}function PCe(i){typeof i=="string"?gf(document.body,i||"p-overflow-hidden"):(i!=null&&i.variableName&&document.body.style.removeProperty(i.variableName),gf(document.body,(i==null?void 0:i.className)||"p-overflow-hidden"))}function kI(i){for(let e of document==null?void 0:document.styleSheets)try{for(let t of e==null?void 0:e.cssRules)for(let n of t==null?void 0:t.style)if(i.test(n))return{name:n,value:t.style.getPropertyValue(n).trim()}}catch{}return null}function PM(i){let e={width:0,height:0};if(i){let[t,n]=[i.style.visibility,i.style.display];i.style.visibility="hidden",i.style.display="block",e.width=i.offsetWidth,e.height=i.offsetHeight,i.style.display=n,i.style.visibility=t}return e}function sm(){let i=window,e=document,t=e.documentElement,n=e.getElementsByTagName("body")[0],r=i.innerWidth||t.clientWidth||n.clientWidth,s=i.innerHeight||t.clientHeight||n.clientHeight;return{width:r,height:s}}function AI(i){return i?Math.abs(i.scrollLeft):0}function RM(){let i=document.documentElement;return(window.pageXOffset||AI(i))-(i.clientLeft||0)}function kM(){let i=document.documentElement;return(window.pageYOffset||i.scrollTop)-(i.clientTop||0)}function RCe(i){return i?getComputedStyle(i).direction==="rtl":!1}function kCe(i,e,t=!0){var n,r,s,o;if(i){let a=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:PM(i),l=a.height,u=a.width,c=e.offsetHeight,h=e.offsetWidth,f=e.getBoundingClientRect(),m=kM(),b=RM(),_=sm(),E,k,j="top";f.top+c+l>_.height?(E=f.top+m-l,j="bottom",E<0&&(E=m)):E=c+f.top+m,f.left+u>_.width?k=Math.max(0,f.left+b+h-u):k=f.left+b,RCe(i)?i.style.insetInlineEnd=k+"px":i.style.insetInlineStart=k+"px",i.style.top=E+"px",i.style.transformOrigin=j,t&&(i.style.marginTop=j==="bottom"?`calc(${(r=(n=kI(/-anchor-gutter$/))==null?void 0:n.value)!=null?r:"2px"} * -1)`:(o=(s=kI(/-anchor-gutter$/))==null?void 0:s.value)!=null?o:"")}}function ACe(i,e){i&&(typeof e=="string"?i.style.cssText=e:Object.entries(e||{}).forEach(([t,n])=>i.style[t]=n))}function au(i,e){return i instanceof HTMLElement?i.offsetWidth:0}function VCe(i,e,t=!0,n=void 0){var r;if(i){let s=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:PM(i),o=e.offsetHeight,a=e.getBoundingClientRect(),l=sm(),u,c,h=n??"top";if(!n&&a.top+o+s.height>l.height?(u=-1*s.height,h="bottom",a.top+u<0&&(u=-1*a.top)):u=o,s.width>l.width?c=a.left*-1:a.left+s.width>l.width?c=(a.left+s.width-l.width)*-1:c=0,i.style.top=u+"px",i.style.insetInlineStart=c+"px",i.style.transformOrigin=h,t){let f=(r=kI(/-anchor-gutter$/))==null?void 0:r.value;i.style.marginTop=h==="bottom"?`calc(${f??"2px"} * -1)`:f??""}}}function GT(i){if(i){let e=i.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function AM(i){return!!(i!==null&&typeof i<"u"&&i.nodeName&&GT(i))}function cd(i){return typeof Element<"u"?i instanceof Element:i!==null&&typeof i=="object"&&i.nodeType===1&&typeof i.nodeName=="string"}function iHe(){if(window.getSelection){let i=window.getSelection()||{};i.empty?i.empty():i.removeAllRanges&&i.rangeCount>0&&i.getRangeAt(0).getClientRects().length>0&&i.removeAllRanges()}}function B0(i,e={}){if(cd(i)){let t=(n,r)=>{var s,o;let a=(s=i==null?void 0:i.$attrs)!=null&&s[n]?[(o=i==null?void 0:i.$attrs)==null?void 0:o[n]]:[];return[r].flat().reduce((l,u)=>{if(u!=null){let c=typeof u;if(c==="string"||c==="number")l.push(u);else if(c==="object"){let h=Array.isArray(u)?t(n,u):Object.entries(u).map(([f,m])=>n==="style"&&(m||m===0)?`${f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${m}`:m?f:void 0);l=h.length?l.concat(h.filter(f=>!!f)):l}}return l},a)};Object.entries(e).forEach(([n,r])=>{if(r!=null){let s=n.match(/^on(.+)/);s?i.addEventListener(s[1].toLowerCase(),r):n==="p-bind"||n==="pBind"?B0(i,r):(r=n==="class"?[...new Set(t("class",r))].join(" ").trim():n==="style"?t("style",r).join(";").trim():r,(i.$attrs=i.$attrs||{})&&(i.$attrs[n]=r),i.setAttribute(n,r))}})}}function om(i,e={},...t){if(i){let n=document.createElement(i);return B0(n,e),n.append(...t),n}}function LCe(i,e){if(i){i.style.opacity="0";let t=+new Date,n="0",r=function(){n=`${+i.style.opacity+(new Date().getTime()-t)/e}`,i.style.opacity=n,t=+new Date,+n<1&&("requestAnimationFrame"in window?requestAnimationFrame(r):setTimeout(r,16))};r()}}function OCe(i,e){return cd(i)?Array.from(i.querySelectorAll(e)):[]}function bu(i,e){return cd(i)?i.matches(e)?i:i.querySelector(e):null}function xr(i,e){i&&document.activeElement!==i&&i.focus(e)}function cc(i,e){if(cd(i)){let t=i.getAttribute(e);return isNaN(t)?t==="true"||t==="false"?t==="true":t:+t}}function KT(i,e=""){let t=OCe(i,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [href]:not([tabindex = "-1"]):not([style*="display:none"]):not([hidden])${e},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`),n=[];for(let r of t)getComputedStyle(r).display!="none"&&getComputedStyle(r).visibility!="hidden"&&n.push(r);return n}function Jh(i,e){let t=KT(i,e);return t.length>0?t[0]:null}function Md(i){if(i){let e=i.offsetHeight,t=getComputedStyle(i);return e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),e}return 0}function rHe(i){if(i){let[e,t]=[i.style.visibility,i.style.display];i.style.visibility="hidden",i.style.display="block";let n=i.offsetHeight;return i.style.display=t,i.style.visibility=e,n}return 0}function sHe(i){if(i){let[e,t]=[i.style.visibility,i.style.display];i.style.visibility="hidden",i.style.display="block";let n=i.offsetWidth;return i.style.display=t,i.style.visibility=e,n}return 0}function oHe(i){var e;if(i){let t=(e=GT(i))==null?void 0:e.childNodes,n=0;if(t)for(let r=0;r<t.length;r++){if(t[r]===i)return n;t[r].nodeType===1&&n++}}return-1}function VM(i,e){let t=KT(i,e);return t.length>0?t[t.length-1]:null}function aHe(i,e){let t=i.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}return null}function DCe(i){if(i){let e=i.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||AI(document.documentElement)||AI(document.body)||0)}}return{top:"auto",left:"auto"}}function ac(i,e){return i?i.offsetHeight:0}function LM(i,e=[]){let t=GT(i);return t===null?e:LM(t,e.concat([t]))}function lHe(i,e){let t=i.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}return null}function NCe(i){let e=[];if(i){let t=LM(i),n=/(auto|scroll)/,r=s=>{try{let o=window.getComputedStyle(s,null);return n.test(o.getPropertyValue("overflow"))||n.test(o.getPropertyValue("overflowX"))||n.test(o.getPropertyValue("overflowY"))}catch{return!1}};for(let s of t){let o=s.nodeType===1&&s.dataset.scrollselectors;if(o){let a=o.split(",");for(let l of a){let u=bu(s,l);u&&r(u)&&e.push(u)}}s.nodeType!==9&&r(s)&&e.push(s)}}return e}function uHe(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function Fd(i){if(i){let e=i.offsetWidth,t=getComputedStyle(i);return e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),e}return 0}function cHe(i){if(i){let e=getComputedStyle(i);return parseFloat(e.getPropertyValue("animation-duration")||"0")>0}return!1}function dHe(i,e,t){let n=i[e];typeof n=="function"&&n.apply(i,[])}function MCe(){return/(android)/i.test(navigator.userAgent)}function FCe(i,e,t){return cd(i)?cc(i,e)===t:!1}function hHe(i){if(i){let e=i.nodeName,t=i.parentElement&&i.parentElement.nodeName;return e==="INPUT"||e==="TEXTAREA"||e==="BUTTON"||e==="A"||t==="INPUT"||t==="TEXTAREA"||t==="BUTTON"||t==="A"||!!i.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1}function OM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function mA(i,e=""){return cd(i)?i.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`):!1}function q0(i){return!!(i&&i.offsetParent!=null)}function JT(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function DM(i,e="",t){cd(i)&&t!==null&&t!==void 0&&i.setAttribute(e,t)}var $Ce=Object.defineProperty,vA=Object.getOwnPropertySymbols,BCe=Object.prototype.hasOwnProperty,qCe=Object.prototype.propertyIsEnumerable,yA=(i,e,t)=>e in i?$Ce(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,UCe=(i,e)=>{for(var t in e||(e={}))BCe.call(e,t)&&yA(i,t,e[t]);if(vA)for(var t of vA(e))qCe.call(e,t)&&yA(i,t,e[t]);return i};function $r(i){return i==null||i===""||Array.isArray(i)&&i.length===0||!(i instanceof Date)&&typeof i=="object"&&Object.keys(i).length===0}function HCe(i,e,t,n=1){let r=-1,s=$r(i),o=$r(e);return s&&o?r=0:s?r=n:o?r=-n:typeof i=="string"&&typeof e=="string"?r=t(i,e):r=i<e?-1:i>e?1:0,r}function VI(i,e,t=new WeakSet){if(i===e)return!0;if(!i||!e||typeof i!="object"||typeof e!="object"||t.has(i)||t.has(e))return!1;t.add(i).add(e);let n=Array.isArray(i),r=Array.isArray(e),s,o,a;if(n&&r){if(o=i.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!VI(i[s],e[s],t))return!1;return!0}if(n!=r)return!1;let l=i instanceof Date,u=e instanceof Date;if(l!=u)return!1;if(l&&u)return i.getTime()==e.getTime();let c=i instanceof RegExp,h=e instanceof RegExp;if(c!=h)return!1;if(c&&h)return i.toString()==e.toString();let f=Object.keys(i);if(o=f.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!VI(i[a],e[a],t))return!1;return!0}function zCe(i,e){return VI(i,e)}function IC(i){return typeof i=="function"&&"call"in i&&"apply"in i}function cn(i){return!$r(i)}function uu(i,e){if(!i||!e)return null;try{let t=i[e];if(cn(t))return t}catch{}if(Object.keys(i).length){if(IC(e))return e(i);if(e.indexOf(".")===-1)return i[e];{let t=e.split("."),n=i;for(let r=0,s=t.length;r<s;++r){if(n==null)return null;n=n[t[r]]}return n}}return null}function YT(i,e,t){return t?uu(i,t)===uu(e,t):zCe(i,e)}function fHe(i,e){if(i!=null&&e&&e.length){for(let t of e)if(YT(i,t))return!0}return!1}function Sl(i,e=!0){return i instanceof Object&&i.constructor===Object&&(e||Object.keys(i).length!==0)}function NM(i={},e={}){let t=UCe({},i);return Object.keys(e).forEach(n=>{let r=n;Sl(e[r])&&r in i&&Sl(i[r])?t[r]=NM(i[r],e[r]):t[r]=e[r]}),t}function MM(...i){return i.reduce((e,t,n)=>n===0?t:NM(e,t),{})}function pHe(i,e){let t=-1;if(e){for(let n=0;n<e.length;n++)if(e[n]===i){t=n;break}}return t}function U0(i,e){let t=-1;if(cn(i))try{t=i.findLastIndex(e)}catch{t=i.lastIndexOf([...i].reverse().find(e))}return t}function Ds(i,...e){return IC(i)?i(...e):i}function lo(i,e=!0){return typeof i=="string"&&(e||i!=="")}function cl(i){return lo(i)?i.replace(/(-|_)/g,"").toLowerCase():i}function ZT(i,e="",t={}){let n=cl(e).split("."),r=n.shift();if(r){if(Sl(i)){let s=Object.keys(i).find(o=>cl(o)===r)||"";return ZT(Ds(i[s],t),n.join("."),t)}return}return Ds(i,t)}function FM(i,e=!0){return Array.isArray(i)&&(e||i.length!==0)}function jCe(i){return cn(i)&&!isNaN(i)}function $M(i=""){return cn(i)&&i.length===1&&!!i.match(/\S| /)}function gHe(){return new Intl.Collator(void 0,{numeric:!0}).compare}function Jd(i,e){if(e){let t=e.test(i);return e.lastIndex=0,t}return!1}function QCe(...i){return MM(...i)}function am(i){return i&&i.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function Yo(i){if(i&&/[\xC0-\xFF\u0100-\u017E]/.test(i)){let e={A:/[\xC0-\xC5\u0100\u0102\u0104]/g,AE:/[\xC6]/g,C:/[\xC7\u0106\u0108\u010A\u010C]/g,D:/[\xD0\u010E\u0110]/g,E:/[\xC8-\xCB\u0112\u0114\u0116\u0118\u011A]/g,G:/[\u011C\u011E\u0120\u0122]/g,H:/[\u0124\u0126]/g,I:/[\xCC-\xCF\u0128\u012A\u012C\u012E\u0130]/g,IJ:/[\u0132]/g,J:/[\u0134]/g,K:/[\u0136]/g,L:/[\u0139\u013B\u013D\u013F\u0141]/g,N:/[\xD1\u0143\u0145\u0147\u014A]/g,O:/[\xD2-\xD6\xD8\u014C\u014E\u0150]/g,OE:/[\u0152]/g,R:/[\u0154\u0156\u0158]/g,S:/[\u015A\u015C\u015E\u0160]/g,T:/[\u0162\u0164\u0166]/g,U:/[\xD9-\xDC\u0168\u016A\u016C\u016E\u0170\u0172]/g,W:/[\u0174]/g,Y:/[\xDD\u0176\u0178]/g,Z:/[\u0179\u017B\u017D]/g,a:/[\xE0-\xE5\u0101\u0103\u0105]/g,ae:/[\xE6]/g,c:/[\xE7\u0107\u0109\u010B\u010D]/g,d:/[\u010F\u0111]/g,e:/[\xE8-\xEB\u0113\u0115\u0117\u0119\u011B]/g,g:/[\u011D\u011F\u0121\u0123]/g,i:/[\xEC-\xEF\u0129\u012B\u012D\u012F\u0131]/g,ij:/[\u0133]/g,j:/[\u0135]/g,k:/[\u0137,\u0138]/g,l:/[\u013A\u013C\u013E\u0140\u0142]/g,n:/[\xF1\u0144\u0146\u0148\u014B]/g,p:/[\xFE]/g,o:/[\xF2-\xF6\xF8\u014D\u014F\u0151]/g,oe:/[\u0153]/g,r:/[\u0155\u0157\u0159]/g,s:/[\u015B\u015D\u015F\u0161]/g,t:/[\u0163\u0165\u0167]/g,u:/[\xF9-\xFC\u0169\u016B\u016D\u016F\u0171\u0173]/g,w:/[\u0175]/g,y:/[\xFD\xFF\u0177]/g,z:/[\u017A\u017C\u017E]/g};for(let t in e)i=i.replace(e[t],t)}return i}function mHe(i,e,t){i&&e!==t&&(t>=i.length&&(t%=i.length,e%=i.length),i.splice(t,0,i.splice(e,1)[0]))}function vHe(i,e,t=1,n,r=1){let s=HCe(i,e,n,t),o=t;return($r(i)||$r(e))&&(o=r===1?t:r),o*s}function WCe(i){return lo(i,!1)?i[0].toUpperCase()+i.slice(1):i}function BM(i){return lo(i)?i.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,t)=>t===0?e:"-"+e.toLowerCase()).toLowerCase():i}var jy={};function Lg(i="pui_id_"){return Object.hasOwn(jy,i)||(jy[i]=0),jy[i]++,`${i}${jy[i]}`}function GCe(){let i=[],e=(o,a,l=999)=>{let u=r(o,a,l),c=u.value+(u.key===o?0:l)+1;return i.push({key:o,value:c}),c},t=o=>{i=i.filter(a=>a.value!==o)},n=(o,a)=>r(o).value,r=(o,a,l=0)=>[...i].reverse().find(u=>!0)||{key:o,value:l},s=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:s,set:(o,a,l)=>{a&&(a.style.zIndex=String(e(o,!0,l)))},clear:o=>{o&&(t(s(o)),o.style.zIndex="")},getCurrent:o=>n(o)}}var uo=GCe();function sa(...i){if(i){let e=[];for(let t=0;t<i.length;t++){let n=i[t];if(!n)continue;let r=typeof n;if(r==="string"||r==="number")e.push(n);else if(r==="object"){let s=Array.isArray(n)?[sa(...n)]:Object.entries(n).map(([o,a])=>a?o:void 0);e=s.length?e.concat(s.filter(o=>!!o)):e}}return e.join(" ").trim()}}function Xv(){let i=new Map;return{on(e,t){let n=i.get(e);return n?n.push(t):n=[t],i.set(e,n),this},off(e,t){let n=i.get(e);return n&&n.splice(n.indexOf(t)>>>0,1),this},emit(e,t){let n=i.get(e);n&&n.forEach(r=>{r(t)})},clear(){i.clear()}}}function Dm(i){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(i)}function KCe(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function JCe(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,ZCe(n.key),n)}}function YCe(i,e,t){return e&&JCe(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function ZCe(i){var e=XCe(i,"string");return Dm(e)=="symbol"?e:e+""}function XCe(i,e){if(Dm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var qM=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};KCe(this,i),this.element=e,this.listener=t}return YCe(i,[{key:"bindScrollListener",value:function(){this.scrollableParents=NCe(this.element);for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}])}();function Nm(i){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(i)}function ewe(i){return rwe(i)||iwe(i)||nwe(i)||twe()}function twe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nwe(i,e){if(i){if(typeof i=="string")return LI(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?LI(i,e):void 0}}function iwe(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function rwe(i){if(Array.isArray(i))return LI(i)}function LI(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function swe(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function owe(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,UM(n.key),n)}}function awe(i,e,t){return e&&owe(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function bA(i,e,t){return(e=UM(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function UM(i){var e=lwe(i,"string");return Nm(e)=="symbol"?e:e+""}function lwe(i,e){if(Nm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var yHe=function(){function i(e){var t=e.init,n=e.type;swe(this,i),bA(this,"helpers",void 0),bA(this,"type",void 0),this.helpers=new Set(t),this.type=n}return awe(i,[{key:"add",value:function(t){this.helpers.add(t)}},{key:"update",value:function(){}},{key:"delete",value:function(t){this.helpers.delete(t)}},{key:"clear",value:function(){this.helpers.clear()}},{key:"get",value:function(t,n){var r=this._get(t,n),s=r?this._recursive(ewe(this.helpers),r):null;return cn(s)?s:null}},{key:"_isMatched",value:function(t,n){var r,s=t==null?void 0:t.parent;return(s==null||(r=s.vnode)===null||r===void 0?void 0:r.key)===n||s&&this._isMatched(s,n)||!1}},{key:"_get",value:function(t,n){var r,s;return((r=n||(t==null?void 0:t.$slots))===null||r===void 0||(s=r.default)===null||s===void 0?void 0:s.call(r))||null}},{key:"_recursive",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=[];return r.forEach(function(o){o.children instanceof Array?s=s.concat(t._recursive(s,o.children)):o.type.name===t.type?s.push(o):cn(o.key)&&(s=s.concat(n.filter(function(a){return t._isMatched(a,o.key)}).map(function(a){return a.vnode})))}),s}}])}();function bHe(i,e){if(i){var t=i.props;if(t){var n=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=Object.prototype.hasOwnProperty.call(t,n)?n:e;return i.type.extends.props[e].type===Boolean&&t[r]===""?!0:t[r]}}return null}var uwe=Object.defineProperty,cwe=Object.defineProperties,dwe=Object.getOwnPropertyDescriptors,H0=Object.getOwnPropertySymbols,HM=Object.prototype.hasOwnProperty,zM=Object.prototype.propertyIsEnumerable,CA=(i,e,t)=>e in i?uwe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Pa=(i,e)=>{for(var t in e||(e={}))HM.call(e,t)&&CA(i,t,e[t]);if(H0)for(var t of H0(e))zM.call(e,t)&&CA(i,t,e[t]);return i},g2=(i,e)=>cwe(i,dwe(e)),nu=(i,e)=>{var t={};for(var n in i)HM.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&H0)for(var n of H0(i))e.indexOf(n)<0&&zM.call(i,n)&&(t[n]=i[n]);return t};function hwe(...i){return MM(...i)}var fwe=Xv(),es=fwe,Mm=/{([^}]*)}/g,jM=/(\d+\s+[\+\-\*\/]\s+\d+)/g,QM=/var\([^)]+\)/g;function wA(i){return lo(i)?i.replace(/[A-Z]/g,(e,t)=>t===0?e:"."+e.toLowerCase()).toLowerCase():i}function pwe(i){return Sl(i)&&i.hasOwnProperty("$value")&&i.hasOwnProperty("$type")?i.$value:i}function gwe(i){return i.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function OI(i="",e=""){return gwe(`${lo(i,!1)&&lo(e,!1)?`${i}-`:i}${e}`)}function WM(i="",e=""){return`--${OI(i,e)}`}function mwe(i=""){let e=(i.match(/{/g)||[]).length,t=(i.match(/}/g)||[]).length;return(e+t)%2!==0}function GM(i,e="",t="",n=[],r){if(lo(i)){let s=i.trim();if(mwe(s))return;if(Jd(s,Mm)){let o=s.replaceAll(Mm,a=>{let l=a.replace(/{|}/g,"").split(".").filter(u=>!n.some(c=>Jd(u,c)));return`var(${WM(t,BM(l.join("-")))}${cn(r)?`, ${r}`:""})`});return Jd(o.replace(QM,"0"),jM)?`calc(${o})`:o}return s}else if(jCe(i))return i}function vwe(i,e,t){lo(e,!1)&&i.push(`${e}:${t};`)}function Yh(i,e){return i?`${i}{${e}}`:""}function KM(i,e){if(i.indexOf("dt(")===-1)return i;function t(o,a){let l=[],u=0,c="",h=null,f=0;for(;u<=o.length;){let m=o[u];if((m==='"'||m==="'"||m==="`")&&o[u-1]!=="\\"&&(h=h===m?null:m),!h&&(m==="("&&f++,m===")"&&f--,(m===","||u===o.length)&&f===0)){let b=c.trim();b.startsWith("dt(")?l.push(KM(b,a)):l.push(n(b)),c="",u++;continue}m!==void 0&&(c+=m),u++}return l}function n(o){let a=o[0];if((a==='"'||a==="'"||a==="`")&&o[o.length-1]===a)return o.slice(1,-1);let l=Number(o);return isNaN(l)?o:l}let r=[],s=[];for(let o=0;o<i.length;o++)if(i[o]==="d"&&i.slice(o,o+3)==="dt(")s.push(o),o+=2;else if(i[o]===")"&&s.length>0){let a=s.pop();s.length===0&&r.push([a,o])}if(!r.length)return i;for(let o=r.length-1;o>=0;o--){let[a,l]=r[o],u=i.slice(a+3,l),c=t(u,e),h=e(...c);i=i.slice(0,a)+h+i.slice(l+1)}return i}var JM=i=>{var e;let t=ci.getTheme(),n=DI(t,i,void 0,"variable"),r=(e=n==null?void 0:n.match(/--[\w-]+/g))==null?void 0:e[0],s=DI(t,i,void 0,"value");return{name:r,variable:n,value:s}},Yd=(...i)=>DI(ci.getTheme(),...i),DI=(i={},e,t,n)=>{if(e){let{variable:r,options:s}=ci.defaults||{},{prefix:o,transform:a}=(i==null?void 0:i.options)||s||{},l=Jd(e,Mm)?e:`{${e}}`;return n==="value"||$r(n)&&a==="strict"?ci.getTokenValue(e):GM(l,void 0,o,[r.excludedKeyRegex],t)}return""};function Qy(i,...e){if(i instanceof Array){let t=i.reduce((n,r,s)=>{var o;return n+r+((o=Ds(e[s],{dt:Yd}))!=null?o:"")},"");return KM(t,Yd)}return Ds(i,{dt:Yd})}function ywe(i,e={}){let t=ci.defaults.variable,{prefix:n=t.prefix,selector:r=t.selector,excludedKeyRegex:s=t.excludedKeyRegex}=e,o=[],a=[],l=[{node:i,path:n}];for(;l.length;){let{node:c,path:h}=l.pop();for(let f in c){let m=c[f],b=pwe(m),_=Jd(f,s)?OI(h):OI(h,BM(f));if(Sl(b))l.push({node:b,path:_});else{let E=WM(_),k=GM(b,_,n,[s]);vwe(a,E,k);let j=_;n&&j.startsWith(n+"-")&&(j=j.slice(n.length+1)),o.push(j.replace(/-/g,"."))}}}let u=a.join("");return{value:a,tokens:o,declarations:u,css:Yh(r,u)}}var Ea={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(i){return{type:"class",selector:i,matched:this.pattern.test(i.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(i){return{type:"attr",selector:`:root${i}`,matched:this.pattern.test(i.trim())}}},media:{pattern:/^@media (.*)$/,resolve(i){return{type:"media",selector:i,matched:this.pattern.test(i.trim())}}},system:{pattern:/^system$/,resolve(i){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(i.trim())}}},custom:{resolve(i){return{type:"custom",selector:i,matched:!0}}}},resolve(i){let e=Object.keys(this.rules).filter(t=>t!=="custom").map(t=>this.rules[t]);return[i].flat().map(t=>{var n;return(n=e.map(r=>r.resolve(t)).find(r=>r.matched))!=null?n:this.rules.custom.resolve(t)})}},_toVariables(i,e){return ywe(i,{prefix:e==null?void 0:e.prefix})},getCommon({name:i="",theme:e={},params:t,set:n,defaults:r}){var s,o,a,l,u,c,h;let{preset:f,options:m}=e,b,_,E,k,j,M,q;if(cn(f)&&m.transform!=="strict"){let{primitive:J,semantic:Z,extend:L}=f,y=Z||{},{colorScheme:w}=y,R=nu(y,["colorScheme"]),U=L||{},{colorScheme:H}=U,B=nu(U,["colorScheme"]),Oe=w||{},{dark:De}=Oe,tt=nu(Oe,["dark"]),Ne=H||{},{dark:Me}=Ne,qe=nu(Ne,["dark"]),Ue=cn(J)?this._toVariables({primitive:J},m):{},We=cn(R)?this._toVariables({semantic:R},m):{},Re=cn(tt)?this._toVariables({light:tt},m):{},Le=cn(De)?this._toVariables({dark:De},m):{},Ct=cn(B)?this._toVariables({semantic:B},m):{},It=cn(qe)?this._toVariables({light:qe},m):{},Dt=cn(Me)?this._toVariables({dark:Me},m):{},[fe,ve]=[(s=Ue.declarations)!=null?s:"",Ue.tokens],[Ee,$e]=[(o=We.declarations)!=null?o:"",We.tokens||[]],[Fe,Vt]=[(a=Re.declarations)!=null?a:"",Re.tokens||[]],[at,de]=[(l=Le.declarations)!=null?l:"",Le.tokens||[]],[Ke,$t]=[(u=Ct.declarations)!=null?u:"",Ct.tokens||[]],[Jt,jt]=[(c=It.declarations)!=null?c:"",It.tokens||[]],[yn,ne]=[(h=Dt.declarations)!=null?h:"",Dt.tokens||[]];b=this.transformCSS(i,fe,"light","variable",m,n,r),_=ve;let re=this.transformCSS(i,`${Ee}${Fe}`,"light","variable",m,n,r),ke=this.transformCSS(i,`${at}`,"dark","variable",m,n,r);E=`${re}${ke}`,k=[...new Set([...$e,...Vt,...de])];let pt=this.transformCSS(i,`${Ke}${Jt}color-scheme:light`,"light","variable",m,n,r),Wt=this.transformCSS(i,`${yn}color-scheme:dark`,"dark","variable",m,n,r);j=`${pt}${Wt}`,M=[...new Set([...$t,...jt,...ne])],q=Ds(f.css,{dt:Yd})}return{primitive:{css:b,tokens:_},semantic:{css:E,tokens:k},global:{css:j,tokens:M},style:q}},getPreset({name:i="",preset:e={},options:t,params:n,set:r,defaults:s,selector:o}){var a,l,u;let c,h,f;if(cn(e)&&t.transform!=="strict"){let m=i.replace("-directive",""),b=e,{colorScheme:_,extend:E,css:k}=b,j=nu(b,["colorScheme","extend","css"]),M=E||{},{colorScheme:q}=M,J=nu(M,["colorScheme"]),Z=_||{},{dark:L}=Z,y=nu(Z,["dark"]),w=q||{},{dark:R}=w,U=nu(w,["dark"]),H=cn(j)?this._toVariables({[m]:Pa(Pa({},j),J)},t):{},B=cn(y)?this._toVariables({[m]:Pa(Pa({},y),U)},t):{},Oe=cn(L)?this._toVariables({[m]:Pa(Pa({},L),R)},t):{},[De,tt]=[(a=H.declarations)!=null?a:"",H.tokens||[]],[Ne,Me]=[(l=B.declarations)!=null?l:"",B.tokens||[]],[qe,Ue]=[(u=Oe.declarations)!=null?u:"",Oe.tokens||[]],We=this.transformCSS(m,`${De}${Ne}`,"light","variable",t,r,s,o),Re=this.transformCSS(m,qe,"dark","variable",t,r,s,o);c=`${We}${Re}`,h=[...new Set([...tt,...Me,...Ue])],f=Ds(k,{dt:Yd})}return{css:c,tokens:h,style:f}},getPresetC({name:i="",theme:e={},params:t,set:n,defaults:r}){var s;let{preset:o,options:a}=e,l=(s=o==null?void 0:o.components)==null?void 0:s[i];return this.getPreset({name:i,preset:l,options:a,params:t,set:n,defaults:r})},getPresetD({name:i="",theme:e={},params:t,set:n,defaults:r}){var s,o;let a=i.replace("-directive",""),{preset:l,options:u}=e,c=((s=l==null?void 0:l.components)==null?void 0:s[a])||((o=l==null?void 0:l.directives)==null?void 0:o[a]);return this.getPreset({name:a,preset:c,options:u,params:t,set:n,defaults:r})},applyDarkColorScheme(i){return!(i.darkModeSelector==="none"||i.darkModeSelector===!1)},getColorSchemeOption(i,e){var t;return this.applyDarkColorScheme(i)?this.regex.resolve(i.darkModeSelector===!0?e.options.darkModeSelector:(t=i.darkModeSelector)!=null?t:e.options.darkModeSelector):[]},getLayerOrder(i,e={},t,n){let{cssLayer:r}=e;return r?`@layer ${Ds(r.order||r.name||"primeui",t)}`:""},getCommonStyleSheet({name:i="",theme:e={},params:t,props:n={},set:r,defaults:s}){let o=this.getCommon({name:i,theme:e,params:t,set:r,defaults:s}),a=Object.entries(n).reduce((l,[u,c])=>l.push(`${u}="${c}"`)&&l,[]).join(" ");return Object.entries(o||{}).reduce((l,[u,c])=>{if(Sl(c)&&Object.hasOwn(c,"css")){let h=am(c.css),f=`${u}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${f}" ${a}>${h}</style>`)}return l},[]).join("")},getStyleSheet({name:i="",theme:e={},params:t,props:n={},set:r,defaults:s}){var o;let a={name:i,theme:e,params:t,set:r,defaults:s},l=(o=i.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:o.css,u=Object.entries(n).reduce((c,[h,f])=>c.push(`${h}="${f}"`)&&c,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${i}-variables" ${u}>${am(l)}</style>`:""},createTokens(i={},e,t="",n="",r={}){let s=function(a,l={},u=[]){if(u.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:a,path:this.path,paths:l,value:void 0};u.push(this.path),l.name=this.path,l.binding||(l.binding={});let c=this.value;if(typeof this.value=="string"&&Mm.test(this.value)){let h=this.value.trim().replace(Mm,f=>{var m;let b=f.slice(1,-1),_=this.tokens[b];if(!_)return console.warn(`Token not found for path: ${b}`),"__UNRESOLVED__";let E=_.computed(a,l,u);return Array.isArray(E)&&E.length===2?`light-dark(${E[0].value},${E[1].value})`:(m=E==null?void 0:E.value)!=null?m:"__UNRESOLVED__"});c=jM.test(h.replace(QM,"0"))?`calc(${h})`:h}return $r(l.binding)&&delete l.binding,u.pop(),{colorScheme:a,path:this.path,paths:l,value:c.includes("__UNRESOLVED__")?void 0:c}},o=(a,l,u)=>{Object.entries(a).forEach(([c,h])=>{let f=Jd(c,e.variable.excludedKeyRegex)?l:l?`${l}.${wA(c)}`:wA(c),m=u?`${u}.${c}`:c;Sl(h)?o(h,f,m):(r[f]||(r[f]={paths:[],computed:(b,_={},E=[])=>{if(r[f].paths.length===1)return r[f].paths[0].computed(r[f].paths[0].scheme,_.binding,E);if(b&&b!=="none")for(let k=0;k<r[f].paths.length;k++){let j=r[f].paths[k];if(j.scheme===b)return j.computed(b,_.binding,E)}return r[f].paths.map(k=>k.computed(k.scheme,_[k.scheme],E))}}),r[f].paths.push({path:m,value:h,scheme:m.includes("colorScheme.light")?"light":m.includes("colorScheme.dark")?"dark":"none",computed:s,tokens:r}))})};return o(i,t,n),r},getTokenValue(i,e,t){var n;let r=(a=>a.split(".").filter(l=>!Jd(l.toLowerCase(),t.variable.excludedKeyRegex)).join("."))(e),s=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,o=[(n=i[r])==null?void 0:n.computed(s)].flat().filter(a=>a);return o.length===1?o[0].value:o.reduce((a={},l)=>{let u=l,{colorScheme:c}=u,h=nu(u,["colorScheme"]);return a[c]=h,a},void 0)},getSelectorRule(i,e,t,n){return t==="class"||t==="attr"?Yh(cn(e)?`${i}${e},${i} ${e}`:i,n):Yh(i,Yh(e??":root",n))},transformCSS(i,e,t,n,r={},s,o,a){if(cn(e)){let{cssLayer:l}=r;if(n!=="style"){let u=this.getColorSchemeOption(r,o);e=t==="dark"?u.reduce((c,{type:h,selector:f})=>(cn(f)&&(c+=f.includes("[CSS]")?f.replace("[CSS]",e):this.getSelectorRule(f,a,h,e)),c),""):Yh(a??":root",e)}if(l){let u={name:"primeui"};Sl(l)&&(u.name=Ds(l.name,{name:i,type:n})),cn(u.name)&&(e=Yh(`@layer ${u.name}`,e),s==null||s.layerNames(u.name))}return e}return""}},ci={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(i={}){let{theme:e}=i;e&&(this._theme=g2(Pa({},e),{options:Pa(Pa({},this.defaults.options),e.options)}),this._tokens=Ea.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var i;return((i=this.theme)==null?void 0:i.preset)||{}},get options(){var i;return((i=this.theme)==null?void 0:i.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(i){this.update({theme:i}),es.emit("theme:change",i)},getPreset(){return this.preset},setPreset(i){this._theme=g2(Pa({},this.theme),{preset:i}),this._tokens=Ea.createTokens(i,this.defaults),this.clearLoadedStyleNames(),es.emit("preset:change",i),es.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(i){this._theme=g2(Pa({},this.theme),{options:i}),this.clearLoadedStyleNames(),es.emit("options:change",i),es.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(i){this._layerNames.add(i)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(i){return this._loadedStyleNames.has(i)},setLoadedStyleName(i){this._loadedStyleNames.add(i)},deleteLoadedStyleName(i){this._loadedStyleNames.delete(i)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(i){return Ea.getTokenValue(this.tokens,i,this.defaults)},getCommon(i="",e){return Ea.getCommon({name:i,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(i="",e){let t={name:i,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Ea.getPresetC(t)},getDirective(i="",e){let t={name:i,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Ea.getPresetD(t)},getCustomPreset(i="",e,t,n){let r={name:i,preset:e,options:this.options,selector:t,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Ea.getPreset(r)},getLayerOrderCSS(i=""){return Ea.getLayerOrder(i,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(i="",e,t="style",n){return Ea.transformCSS(i,e,n,t,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(i="",e,t={}){return Ea.getCommonStyleSheet({name:i,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(i,e,t={}){return Ea.getStyleSheet({name:i,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(i){this._loadingStyles.add(i)},onStyleUpdated(i){this._loadingStyles.add(i)},onStyleLoaded(i,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),es.emit(`theme:${e}:load`,i),!this._loadingStyles.size&&es.emit("theme:load"))}},vc={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(e){return this._loadedStyleNames.has(e)},setLoadedStyleName:function(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName:function(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}},bwe=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    /* Non vue overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity 0.1s linear;
    }

    /* Vue based overlay animations */
    .p-connected-overlay-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-leave-to {
        opacity: 0;
    }

    .p-connected-overlay-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-leave-active {
        transition: opacity 0.1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter-from,
    .p-toggleable-content-leave-to {
        max-height: 0;
    }

    .p-toggleable-content-enter-to,
    .p-toggleable-content-leave-from {
        max-height: 1000px;
    }

    .p-toggleable-content-leave-active {
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        transition: max-height 1s ease-in-out;
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: dt('mask.background');
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter {
        animation: p-overlay-mask-enter-animation dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave {
        animation: p-overlay-mask-leave-animation dt('mask.transition.duration') forwards;
    }

    @keyframes p-overlay-mask-enter-animation {
        from {
            background: transparent;
        }
        to {
            background: dt('mask.background');
        }
    }
    @keyframes p-overlay-mask-leave-animation {
        from {
            background: dt('mask.background');
        }
        to {
            background: transparent;
        }
    }
`;function Fm(i){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(i)}function _A(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function IA(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(t),!0).forEach(function(n){Cwe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):_A(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Cwe(i,e,t){return(e=wwe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function wwe(i){var e=_we(i,"string");return Fm(e)=="symbol"?e:e+""}function _we(i,e){if(Fm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Iwe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Cu()&&Cu().components?Zn(i):e?i():Oc(i)}var Ewe=0;function Swe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Qe(!1),n=Qe(i),r=Qe(null),s=OM()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,m=f===void 0?"style_".concat(++Ewe):f,b=e.id,_=b===void 0?void 0:b,E=e.media,k=E===void 0?void 0:E,j=e.nonce,M=j===void 0?void 0:j,q=e.first,J=q===void 0?!1:q,Z=e.onMounted,L=Z===void 0?void 0:Z,y=e.onUpdated,w=y===void 0?void 0:y,R=e.onLoad,U=R===void 0?void 0:R,H=e.props,B=H===void 0?{}:H,Oe=function(){},De=function(Me){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var Ue=IA(IA({},B),qe),We=Ue.name||m,Re=Ue.id||_,Le=Ue.nonce||M;r.value=a.querySelector('style[data-primevue-style-id="'.concat(We,'"]'))||a.getElementById(Re)||a.createElement("style"),r.value.isConnected||(n.value=Me||i,B0(r.value,{type:"text/css",id:Re,media:k,nonce:Le}),J?a.head.prepend(r.value):a.head.appendChild(r.value),DM(r.value,"data-primevue-style-id",We),B0(r.value,Ue),r.value.onload=function(Ct){return U==null?void 0:U(Ct,{name:We})},L==null||L(We)),!t.value&&(Oe=Ji(n,function(Ct){r.value.textContent=Ct,w==null||w(We)},{immediate:!0}),t.value=!0)}},tt=function(){!a||!t.value||(Oe(),AM(r.value)&&a.head.removeChild(r.value),t.value=!1,r.value=null)};return u&&!h&&Iwe(De),{id:_,name:m,el:r,css:n,unload:tt,load:De,isLoaded:RB(t)}}function $m(i){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(i)}var EA,SA,TA,xA;function PA(i,e){return Rwe(i)||Pwe(i,e)||xwe(i,e)||Twe()}function Twe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xwe(i,e){if(i){if(typeof i=="string")return RA(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?RA(i,e):void 0}}function RA(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function Pwe(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(i)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function Rwe(i){if(Array.isArray(i))return i}function kA(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function m2(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(t),!0).forEach(function(n){kwe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):kA(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function kwe(i,e,t){return(e=Awe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Awe(i){var e=Vwe(i,"string");return $m(e)=="symbol"?e:e+""}function Vwe(i,e){if($m(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Wy(i,e){return e||(e=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(e)}}))}var Lwe=function(e){var t=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(t("scrollbar.width"),`;
}
`)},Owe={},Dwe={},Nn={name:"base",css:Lwe,style:bwe,classes:Owe,inlineStyles:Dwe,load:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(s){return s},r=n(Qy(EA||(EA=Wy(["",""])),e));return cn(r)?Swe(am(r),m2({name:this.name},t)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadStyle:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.style,t,function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ci.transformCSS(t.name||e.name,"".concat(r).concat(Qy(SA||(SA=Wy(["",""])),n)))})},getCommonTheme:function(e){return ci.getCommon(this.name,e)},getComponentTheme:function(e){return ci.getComponent(this.name,e)},getDirectiveTheme:function(e){return ci.getDirective(this.name,e)},getPresetTheme:function(e,t,n){return ci.getCustomPreset(this.name,e,t,n)},getLayerOrderThemeCSS:function(){return ci.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var n=Ds(this.css,{dt:Yd})||"",r=am(Qy(TA||(TA=Wy(["","",""])),n,e)),s=Object.entries(t).reduce(function(o,a){var l=PA(a,2),u=l[0],c=l[1];return o.push("".concat(u,'="').concat(c,'"'))&&o},[]).join(" ");return cn(r)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(s,">").concat(r,"</style>"):""}return""},getCommonThemeStyleSheet:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ci.getCommonStyleSheet(this.name,e,t)},getThemeStyleSheet:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[ci.getStyleSheet(this.name,e,t)];if(this.style){var r=this.name==="base"?"global-style":"".concat(this.name,"-style"),s=Qy(xA||(xA=Wy(["",""])),Ds(this.style,{dt:Yd})),o=am(ci.transformCSS(r,s)),a=Object.entries(t).reduce(function(l,u){var c=PA(u,2),h=c[0],f=c[1];return l.push("".concat(h,'="').concat(f,'"'))&&l},[]).join(" ");cn(o)&&n.push('<style type="text/css" data-primevue-style-id="'.concat(r,'" ').concat(a,">").concat(o,"</style>"))}return n.join("")},extend:function(e){return m2(m2({},this),{},{css:void 0,style:void 0},e)}},Ic=Xv();function Bm(i){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(i)}function AA(i,e){return $we(i)||Fwe(i,e)||Mwe(i,e)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mwe(i,e){if(i){if(typeof i=="string")return VA(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?VA(i,e):void 0}}function VA(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function Fwe(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(i)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function $we(i){if(Array.isArray(i))return i}function LA(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function qn(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(t),!0).forEach(function(n){NI(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):LA(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function NI(i,e,t){return(e=Bwe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Bwe(i){var e=qwe(i,"string");return Bm(e)=="symbol"?e:e+""}function qwe(i,e){if(Bm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var hn={_getMeta:function(){return[Sl(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Ds(Sl(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,t){var n,r,s;return(n=(e==null||(r=e.instance)===null||r===void 0?void 0:r.$primevue)||(t==null||(s=t.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||n===void 0?void 0:n.config},_getOptionValue:ZT,_getPTValue:function(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var j=hn._getOptionValue.apply(hn,arguments);return lo(j)||FM(j)?{class:j}:j},u=((e=n.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((t=n.$primevueConfig)===null||t===void 0?void 0:t.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,m=f===void 0?!1:f,b=a?hn._useDefaultPT(n,n.defaultPT(),l,s,o):void 0,_=hn._usePT(n,hn._getPT(r,n.$name),l,s,qn(qn({},o),{},{global:b||{}})),E=hn._getPTDatasets(n,s);return h||!h&&_?m?hn._mergeProps(n,m,b,_,E):qn(qn(qn({},b),_),E):qn(qn({},_),E)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n="data-pc-";return qn(qn({},t==="root"&&NI({},"".concat(n,"name"),cl(e.$name))),{},NI({},"".concat(n,"section"),cl(t)))},_getPT:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=function(o){var a,l=n?n(o):o,u=cl(t);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e&&Object.hasOwn(e,"_usept")?{_usept:e._usept,originalValue:r(e.originalValue),value:r(e.value)}:r(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(E){return n(E,r,s)};if(t&&Object.hasOwn(t,"_usept")){var a,l=t._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,m=o(t.originalValue),b=o(t.value);return m===void 0&&b===void 0?void 0:lo(b)?b:lo(m)?m:c||!c&&b?f?hn._mergeProps(e,f,m,b):qn(qn({},m),b):b}return o(t)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return hn._usePT(e,t,n,r,s)},_loadStyles:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,s=hn._getConfig(n,r),o={nonce:s==null||(e=s.csp)===null||e===void 0?void 0:e.nonce};hn._loadCoreStyles(t,o),hn._loadThemeStyles(t,o),hn._loadScopedThemeStyles(t,o),hn._removeThemeListeners(t),t.$loadStyles=function(){return hn._loadThemeStyles(t,o)},hn._themeChangeListener(t.$loadStyles)},_loadCoreStyles:function(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(!vc.isStyleNameLoaded((e=n.$style)===null||e===void 0?void 0:e.name)&&(t=n.$style)!==null&&t!==void 0&&t.name){var s;Nn.loadCSS(r),(s=n.$style)===null||s===void 0||s.loadCSS(r),vc.setLoadedStyleName(n.$style.name)}},_loadThemeStyles:function(){var e,t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(!(r!=null&&r.isUnstyled()||(r==null||(e=r.theme)===null||e===void 0?void 0:e.call(r))==="none")){if(!ci.isStyleNameLoaded("common")){var o,a,l=((o=r.$style)===null||o===void 0||(a=o.getCommonTheme)===null||a===void 0?void 0:a.call(o))||{},u=l.primitive,c=l.semantic,h=l.global,f=l.style;Nn.load(u==null?void 0:u.css,qn({name:"primitive-variables"},s)),Nn.load(c==null?void 0:c.css,qn({name:"semantic-variables"},s)),Nn.load(h==null?void 0:h.css,qn({name:"global-variables"},s)),Nn.loadStyle(qn({name:"global-style"},s),f),ci.setLoadedStyleName("common")}if(!ci.isStyleNameLoaded((t=r.$style)===null||t===void 0?void 0:t.name)&&(n=r.$style)!==null&&n!==void 0&&n.name){var m,b,_,E,k=((m=r.$style)===null||m===void 0||(b=m.getDirectiveTheme)===null||b===void 0?void 0:b.call(m))||{},j=k.css,M=k.style;(_=r.$style)===null||_===void 0||_.load(j,qn({name:"".concat(r.$style.name,"-variables")},s)),(E=r.$style)===null||E===void 0||E.loadStyle(qn({name:"".concat(r.$style.name,"-style")},s),M),ci.setLoadedStyleName(r.$style.name)}if(!ci.isStyleNameLoaded("layer-order")){var q,J,Z=(q=r.$style)===null||q===void 0||(J=q.getLayerOrderThemeCSS)===null||J===void 0?void 0:J.call(q);Nn.load(Z,qn({name:"layer-order",first:!0},s)),ci.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.preset();if(n&&e.$attrSelector){var r,s,o,a=((r=e.$style)===null||r===void 0||(s=r.getPresetTheme)===null||s===void 0?void 0:s.call(r,n,"[".concat(e.$attrSelector,"]")))||{},l=a.css,u=(o=e.$style)===null||o===void 0?void 0:o.load(l,qn({name:"".concat(e.$attrSelector,"-").concat(e.$style.name)},t));e.scopedStyleEl=u.el}},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};vc.clearLoadedStyleNames(),es.on("theme:change",e)},_removeThemeListeners:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};es.off("theme:change",e.$loadStyles),e.$loadStyles=void 0},_hook:function(e,t,n,r,s,o){var a,l,u="on".concat(WCe(t)),c=hn._getConfig(r,s),h=n==null?void 0:n.$instance,f=hn._usePT(h,hn._getPT(r==null||(a=r.value)===null||a===void 0?void 0:a.pt,e),hn._getOptionValue,"hooks.".concat(u)),m=hn._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],hn._getOptionValue,"hooks.".concat(u)),b={el:n,binding:r,vnode:s,prevVnode:o};f==null||f(h,b),m==null||m(h,b)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return IC(e)?e.apply(void 0,n):Ae.apply(void 0,n)},_extend:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=function(a,l,u,c,h){var f,m,b,_;l._$instances=l._$instances||{};var E=hn._getConfig(u,c),k=l._$instances[e]||{},j=$r(k)?qn(qn({},t),t==null?void 0:t.methods):{};l._$instances[e]=qn(qn({},k),{},{$name:e,$host:l,$binding:u,$modifiers:u==null?void 0:u.modifiers,$value:u==null?void 0:u.value,$el:k.$el||l||void 0,$style:qn({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadStyle:function(){}},t==null?void 0:t.style),$primevueConfig:E,$attrSelector:(f=l.$pd)===null||f===void 0||(f=f[e])===null||f===void 0?void 0:f.attrSelector,defaultPT:function(){return hn._getPT(E==null?void 0:E.pt,void 0,function(q){var J;return q==null||(J=q.directives)===null||J===void 0?void 0:J[e]})},isUnstyled:function(){var q,J;return((q=l._$instances[e])===null||q===void 0||(q=q.$binding)===null||q===void 0||(q=q.value)===null||q===void 0?void 0:q.unstyled)!==void 0?(J=l._$instances[e])===null||J===void 0||(J=J.$binding)===null||J===void 0||(J=J.value)===null||J===void 0?void 0:J.unstyled:E==null?void 0:E.unstyled},theme:function(){var q;return(q=l._$instances[e])===null||q===void 0||(q=q.$primevueConfig)===null||q===void 0?void 0:q.theme},preset:function(){var q;return(q=l._$instances[e])===null||q===void 0||(q=q.$binding)===null||q===void 0||(q=q.value)===null||q===void 0?void 0:q.dt},ptm:function(){var q,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return hn._getPTValue(l._$instances[e],(q=l._$instances[e])===null||q===void 0||(q=q.$binding)===null||q===void 0||(q=q.value)===null||q===void 0?void 0:q.pt,J,qn({},Z))},ptmo:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return hn._getPTValue(l._$instances[e],q,J,Z,!1)},cx:function(){var q,J,Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(q=l._$instances[e])!==null&&q!==void 0&&q.isUnstyled()?void 0:hn._getOptionValue((J=l._$instances[e])===null||J===void 0||(J=J.$style)===null||J===void 0?void 0:J.classes,Z,qn({},L))},sx:function(){var q,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Z?hn._getOptionValue((q=l._$instances[e])===null||q===void 0||(q=q.$style)===null||q===void 0?void 0:q.inlineStyles,J,qn({},L)):void 0}},j),l.$instance=l._$instances[e],(m=(b=l.$instance)[a])===null||m===void 0||m.call(b,l,u,c,h),l["$".concat(e)]=l.$instance,hn._hook(e,a,l,u,c,h),l.$pd||(l.$pd={}),l.$pd[e]=qn(qn({},(_=l.$pd)===null||_===void 0?void 0:_[e]),{},{name:e,instance:l._$instances[e]})},r=function(a){var l,u,c,h=a._$instances[e],f=h==null?void 0:h.watch,m=function(E){var k,j=E.newValue,M=E.oldValue;return f==null||(k=f.config)===null||k===void 0?void 0:k.call(h,j,M)},b=function(E){var k,j=E.newValue,M=E.oldValue;return f==null||(k=f["config.ripple"])===null||k===void 0?void 0:k.call(h,j,M)};h.$watchersCallback={config:m,"config.ripple":b},f==null||(l=f.config)===null||l===void 0||l.call(h,h==null?void 0:h.$primevueConfig),Ic.on("config:change",m),f==null||(u=f["config.ripple"])===null||u===void 0||u.call(h,h==null||(c=h.$primevueConfig)===null||c===void 0?void 0:c.ripple),Ic.on("config:ripple:change",b)},s=function(a){var l=a._$instances[e].$watchersCallback;l&&(Ic.off("config:change",l.config),Ic.off("config:ripple:change",l["config.ripple"]),a._$instances[e].$watchersCallback=void 0)};return{created:function(a,l,u,c){a.$pd||(a.$pd={}),a.$pd[e]={name:e,attrSelector:Lg("pd")},n("created",a,l,u,c)},beforeMount:function(a,l,u,c){var h;hn._loadStyles((h=a.$pd[e])===null||h===void 0?void 0:h.instance,l,u),n("beforeMount",a,l,u,c),r(a)},mounted:function(a,l,u,c){var h;hn._loadStyles((h=a.$pd[e])===null||h===void 0?void 0:h.instance,l,u),n("mounted",a,l,u,c)},beforeUpdate:function(a,l,u,c){n("beforeUpdate",a,l,u,c)},updated:function(a,l,u,c){var h;hn._loadStyles((h=a.$pd[e])===null||h===void 0?void 0:h.instance,l,u),n("updated",a,l,u,c)},beforeUnmount:function(a,l,u,c){var h;s(a),hn._removeThemeListeners((h=a.$pd[e])===null||h===void 0?void 0:h.instance),n("beforeUnmount",a,l,u,c)},unmounted:function(a,l,u,c){var h;(h=a.$pd[e])===null||h===void 0||(h=h.instance)===null||h===void 0||(h=h.scopedStyleEl)===null||h===void 0||(h=h.value)===null||h===void 0||h.remove(),n("unmounted",a,l,u,c)}}},extend:function(){var e=hn._getMeta.apply(hn,arguments),t=AA(e,2),n=t[0],r=t[1];return qn({extend:function(){var o=hn._getMeta.apply(hn,arguments),a=AA(o,2),l=a[0],u=a[1];return hn.extend(l,qn(qn(qn({},r),r==null?void 0:r.methods),u))}},hn._extend(n,r))}},Uwe=`
    .p-tooltip {
        position: absolute;
        display: none;
        max-width: dt('tooltip.max.width');
    }

    .p-tooltip-right,
    .p-tooltip-left {
        padding: 0 dt('tooltip.gutter');
    }

    .p-tooltip-top,
    .p-tooltip-bottom {
        padding: dt('tooltip.gutter') 0;
    }

    .p-tooltip-text {
        white-space: pre-line;
        word-break: break-word;
        background: dt('tooltip.background');
        color: dt('tooltip.color');
        padding: dt('tooltip.padding');
        box-shadow: dt('tooltip.shadow');
        border-radius: dt('tooltip.border.radius');
    }

    .p-tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }

    .p-tooltip-right .p-tooltip-arrow {
        margin-top: calc(-1 * dt('tooltip.gutter'));
        border-width: dt('tooltip.gutter') dt('tooltip.gutter') dt('tooltip.gutter') 0;
        border-right-color: dt('tooltip.background');
    }

    .p-tooltip-left .p-tooltip-arrow {
        margin-top: calc(-1 * dt('tooltip.gutter'));
        border-width: dt('tooltip.gutter') 0 dt('tooltip.gutter') dt('tooltip.gutter');
        border-left-color: dt('tooltip.background');
    }

    .p-tooltip-top .p-tooltip-arrow {
        margin-left: calc(-1 * dt('tooltip.gutter'));
        border-width: dt('tooltip.gutter') dt('tooltip.gutter') 0 dt('tooltip.gutter');
        border-top-color: dt('tooltip.background');
        border-bottom-color: dt('tooltip.background');
    }

    .p-tooltip-bottom .p-tooltip-arrow {
        margin-left: calc(-1 * dt('tooltip.gutter'));
        border-width: 0 dt('tooltip.gutter') dt('tooltip.gutter') dt('tooltip.gutter');
        border-top-color: dt('tooltip.background');
        border-bottom-color: dt('tooltip.background');
    }
`,Hwe={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},zwe=Nn.extend({name:"tooltip-directive",style:Uwe,classes:Hwe}),jwe=hn.extend({style:zwe});function Qwe(i,e){return Jwe(i)||Kwe(i,e)||Gwe(i,e)||Wwe()}function Wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gwe(i,e){if(i){if(typeof i=="string")return OA(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?OA(i,e):void 0}}function OA(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function Kwe(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(i)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function Jwe(i){if(Array.isArray(i))return i}function DA(i,e,t){return(e=Ywe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Ywe(i){var e=Zwe(i,"string");return Vc(e)=="symbol"?e:e+""}function Zwe(i,e){if(Vc(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Vc(i){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(i)}var Xwe=jwe.extend("tooltip",{beforeMount:function(e,t){var n,r=this.getTarget(e);if(r.$_ptooltipModifiers=this.getModifiers(t),t.value){if(typeof t.value=="string")r.$_ptooltipValue=t.value,r.$_ptooltipDisabled=!1,r.$_ptooltipEscape=!0,r.$_ptooltipClass=null,r.$_ptooltipFitContent=!0,r.$_ptooltipIdAttr=Lg("pv_id")+"_tooltip",r.$_ptooltipShowDelay=0,r.$_ptooltipHideDelay=0,r.$_ptooltipAutoHide=!0;else if(Vc(t.value)==="object"&&t.value){if($r(t.value.value)||t.value.value.trim()==="")return;r.$_ptooltipValue=t.value.value,r.$_ptooltipDisabled=!!t.value.disabled===t.value.disabled?t.value.disabled:!1,r.$_ptooltipEscape=!!t.value.escape===t.value.escape?t.value.escape:!0,r.$_ptooltipClass=t.value.class||"",r.$_ptooltipFitContent=!!t.value.fitContent===t.value.fitContent?t.value.fitContent:!0,r.$_ptooltipIdAttr=t.value.id||Lg("pv_id")+"_tooltip",r.$_ptooltipShowDelay=t.value.showDelay||0,r.$_ptooltipHideDelay=t.value.hideDelay||0,r.$_ptooltipAutoHide=!!t.value.autoHide===t.value.autoHide?t.value.autoHide:!0}}else return;r.$_ptooltipZIndex=(n=t.instance.$primevue)===null||n===void 0||(n=n.config)===null||n===void 0||(n=n.zIndex)===null||n===void 0?void 0:n.tooltip,this.bindEvents(r,t),e.setAttribute("data-pd-tooltip",!0)},updated:function(e,t){var n=this.getTarget(e);if(n.$_ptooltipModifiers=this.getModifiers(t),this.unbindEvents(n),!!t.value){if(typeof t.value=="string")n.$_ptooltipValue=t.value,n.$_ptooltipDisabled=!1,n.$_ptooltipEscape=!0,n.$_ptooltipClass=null,n.$_ptooltipIdAttr=n.$_ptooltipIdAttr||Lg("pv_id")+"_tooltip",n.$_ptooltipShowDelay=0,n.$_ptooltipHideDelay=0,n.$_ptooltipAutoHide=!0,this.bindEvents(n,t);else if(Vc(t.value)==="object"&&t.value)if($r(t.value.value)||t.value.value.trim()===""){this.unbindEvents(n,t);return}else n.$_ptooltipValue=t.value.value,n.$_ptooltipDisabled=!!t.value.disabled===t.value.disabled?t.value.disabled:!1,n.$_ptooltipEscape=!!t.value.escape===t.value.escape?t.value.escape:!0,n.$_ptooltipClass=t.value.class||"",n.$_ptooltipFitContent=!!t.value.fitContent===t.value.fitContent?t.value.fitContent:!0,n.$_ptooltipIdAttr=t.value.id||n.$_ptooltipIdAttr||Lg("pv_id")+"_tooltip",n.$_ptooltipShowDelay=t.value.showDelay||0,n.$_ptooltipHideDelay=t.value.hideDelay||0,n.$_ptooltipAutoHide=!!t.value.autoHide===t.value.autoHide?t.value.autoHide:!0,this.bindEvents(n,t)}},unmounted:function(e,t){var n=this.getTarget(e);this.hide(e,0),this.remove(n),this.unbindEvents(n,t),n.$_ptooltipScrollHandler&&(n.$_ptooltipScrollHandler.destroy(),n.$_ptooltipScrollHandler=null)},timer:void 0,methods:{bindEvents:function(e,t){var n=this,r=e.$_ptooltipModifiers;r.focus?(e.$_ptooltipFocusEvent=function(s){return n.onFocus(s,t)},e.$_ptooltipBlurEvent=this.onBlur.bind(this),e.addEventListener("focus",e.$_ptooltipFocusEvent),e.addEventListener("blur",e.$_ptooltipBlurEvent)):(e.$_ptooltipMouseEnterEvent=function(s){return n.onMouseEnter(s,t)},e.$_ptooltipMouseLeaveEvent=this.onMouseLeave.bind(this),e.$_ptooltipClickEvent=this.onClick.bind(this),e.addEventListener("mouseenter",e.$_ptooltipMouseEnterEvent),e.addEventListener("mouseleave",e.$_ptooltipMouseLeaveEvent),e.addEventListener("click",e.$_ptooltipClickEvent)),e.$_ptooltipKeydownEvent=this.onKeydown.bind(this),e.addEventListener("keydown",e.$_ptooltipKeydownEvent),e.$_pWindowResizeEvent=this.onWindowResize.bind(this,e)},unbindEvents:function(e){var t=e.$_ptooltipModifiers;t.focus?(e.removeEventListener("focus",e.$_ptooltipFocusEvent),e.$_ptooltipFocusEvent=null,e.removeEventListener("blur",e.$_ptooltipBlurEvent),e.$_ptooltipBlurEvent=null):(e.removeEventListener("mouseenter",e.$_ptooltipMouseEnterEvent),e.$_ptooltipMouseEnterEvent=null,e.removeEventListener("mouseleave",e.$_ptooltipMouseLeaveEvent),e.$_ptooltipMouseLeaveEvent=null,e.removeEventListener("click",e.$_ptooltipClickEvent),e.$_ptooltipClickEvent=null),e.removeEventListener("keydown",e.$_ptooltipKeydownEvent),window.removeEventListener("resize",e.$_pWindowResizeEvent),e.$_ptooltipId&&this.remove(e)},bindScrollListener:function(e){var t=this;e.$_ptooltipScrollHandler||(e.$_ptooltipScrollHandler=new qM(e,function(){t.hide(e)})),e.$_ptooltipScrollHandler.bindScrollListener()},unbindScrollListener:function(e){e.$_ptooltipScrollHandler&&e.$_ptooltipScrollHandler.unbindScrollListener()},onMouseEnter:function(e,t){var n=e.currentTarget,r=n.$_ptooltipShowDelay;this.show(n,t,r)},onMouseLeave:function(e){var t=e.currentTarget,n=t.$_ptooltipHideDelay,r=t.$_ptooltipAutoHide;if(r)this.hide(t,n);else{var s=cc(e.target,"data-pc-name")==="tooltip"||cc(e.target,"data-pc-section")==="arrow"||cc(e.target,"data-pc-section")==="text"||cc(e.relatedTarget,"data-pc-name")==="tooltip"||cc(e.relatedTarget,"data-pc-section")==="arrow"||cc(e.relatedTarget,"data-pc-section")==="text";!s&&this.hide(t,n)}},onFocus:function(e,t){var n=e.currentTarget,r=n.$_ptooltipShowDelay;this.show(n,t,r)},onBlur:function(e){var t=e.currentTarget,n=t.$_ptooltipHideDelay;this.hide(t,n)},onClick:function(e){var t=e.currentTarget,n=t.$_ptooltipHideDelay;this.hide(t,n)},onKeydown:function(e){var t=e.currentTarget,n=t.$_ptooltipHideDelay;e.code==="Escape"&&this.hide(e.currentTarget,n)},onWindowResize:function(e){JT()||this.hide(e),window.removeEventListener("resize",e.$_pWindowResizeEvent)},tooltipActions:function(e,t){if(!(e.$_ptooltipDisabled||!AM(e))){var n=this.create(e,t);this.align(e),!this.isUnstyled()&&LCe(n,250);var r=this;window.addEventListener("resize",e.$_pWindowResizeEvent),n.addEventListener("mouseleave",function s(){r.hide(e),n.removeEventListener("mouseleave",s),e.removeEventListener("mouseenter",e.$_ptooltipMouseEnterEvent),setTimeout(function(){return e.addEventListener("mouseenter",e.$_ptooltipMouseEnterEvent)},50)}),this.bindScrollListener(e),uo.set("tooltip",n,e.$_ptooltipZIndex)}},show:function(e,t,n){var r=this;n!==void 0?this.timer=setTimeout(function(){return r.tooltipActions(e,t)},n):this.tooltipActions(e,t)},tooltipRemoval:function(e){this.remove(e),this.unbindScrollListener(e),window.removeEventListener("resize",e.$_pWindowResizeEvent)},hide:function(e,t){var n=this;clearTimeout(this.timer),t!==void 0?setTimeout(function(){return n.tooltipRemoval(e)},t):this.tooltipRemoval(e)},getTooltipElement:function(e){return document.getElementById(e.$_ptooltipId)},getArrowElement:function(e){var t=this.getTooltipElement(e);return bu(t,'[data-pc-section="arrow"]')},create:function(e){var t=e.$_ptooltipModifiers,n=om("div",{class:!this.isUnstyled()&&this.cx("arrow"),"p-bind":this.ptm("arrow",{context:t})}),r=om("div",{class:!this.isUnstyled()&&this.cx("text"),"p-bind":this.ptm("text",{context:t})});e.$_ptooltipEscape?(r.innerHTML="",r.appendChild(document.createTextNode(e.$_ptooltipValue))):r.innerHTML=e.$_ptooltipValue;var s=om("div",DA(DA({id:e.$_ptooltipIdAttr,role:"tooltip",style:{display:"inline-block",width:e.$_ptooltipFitContent?"fit-content":void 0,pointerEvents:!this.isUnstyled()&&e.$_ptooltipAutoHide&&"none"},class:[!this.isUnstyled()&&this.cx("root"),e.$_ptooltipClass]},this.$attrSelector,""),"p-bind",this.ptm("root",{context:t})),n,r);return document.body.appendChild(s),e.$_ptooltipId=s.id,this.$el=s,s},remove:function(e){if(e){var t=this.getTooltipElement(e);t&&t.parentElement&&(uo.clear(t),document.body.removeChild(t)),e.$_ptooltipId=null}},align:function(e){var t=e.$_ptooltipModifiers;t.top?(this.alignTop(e),this.isOutOfBounds(e)&&(this.alignBottom(e),this.isOutOfBounds(e)&&this.alignTop(e))):t.left?(this.alignLeft(e),this.isOutOfBounds(e)&&(this.alignRight(e),this.isOutOfBounds(e)&&(this.alignTop(e),this.isOutOfBounds(e)&&(this.alignBottom(e),this.isOutOfBounds(e)&&this.alignLeft(e))))):t.bottom?(this.alignBottom(e),this.isOutOfBounds(e)&&(this.alignTop(e),this.isOutOfBounds(e)&&this.alignBottom(e))):(this.alignRight(e),this.isOutOfBounds(e)&&(this.alignLeft(e),this.isOutOfBounds(e)&&(this.alignTop(e),this.isOutOfBounds(e)&&(this.alignBottom(e),this.isOutOfBounds(e)&&this.alignRight(e)))))},getHostOffset:function(e){var t=e.getBoundingClientRect(),n=t.left+RM(),r=t.top+kM();return{left:n,top:r}},alignRight:function(e){this.preAlign(e,"right");var t=this.getTooltipElement(e),n=this.getArrowElement(e),r=this.getHostOffset(e),s=r.left+au(e),o=r.top+(ac(e)-ac(t))/2;t.style.left=s+"px",t.style.top=o+"px",n.style.top="50%",n.style.right=null,n.style.bottom=null,n.style.left="0"},alignLeft:function(e){this.preAlign(e,"left");var t=this.getTooltipElement(e),n=this.getArrowElement(e),r=this.getHostOffset(e),s=r.left-au(t),o=r.top+(ac(e)-ac(t))/2;t.style.left=s+"px",t.style.top=o+"px",n.style.top="50%",n.style.right="0",n.style.bottom=null,n.style.left=null},alignTop:function(e){this.preAlign(e,"top");var t=this.getTooltipElement(e),n=this.getArrowElement(e),r=au(t),s=au(e),o=sm(),a=o.width,l=this.getHostOffset(e),u=l.left+(s-r)/2,c=l.top-ac(t);u<0?u=0:u+r>a&&(u=Math.floor(l.left+s-r)),t.style.left=u+"px",t.style.top=c+"px";var h=l.left-this.getHostOffset(t).left+s/2;n.style.top=null,n.style.right=null,n.style.bottom="0",n.style.left=h+"px"},alignBottom:function(e){this.preAlign(e,"bottom");var t=this.getTooltipElement(e),n=this.getArrowElement(e),r=au(t),s=au(e),o=sm(),a=o.width,l=this.getHostOffset(e),u=l.left+(s-r)/2,c=l.top+ac(e);u<0?u=0:u+r>a&&(u=Math.floor(l.left+s-r)),t.style.left=u+"px",t.style.top=c+"px";var h=l.left-this.getHostOffset(t).left+s/2;n.style.top="0",n.style.right=null,n.style.bottom=null,n.style.left=h+"px"},preAlign:function(e,t){var n=this.getTooltipElement(e);n.style.left="-999px",n.style.top="-999px",gf(n,"p-tooltip-".concat(n.$_ptooltipPosition)),!this.isUnstyled()&&Om(n,"p-tooltip-".concat(t)),n.$_ptooltipPosition=t,n.setAttribute("data-p-position",t)},isOutOfBounds:function(e){var t=this.getTooltipElement(e),n=t.getBoundingClientRect(),r=n.top,s=n.left,o=au(t),a=ac(t),l=sm();return s+o>l.width||s<0||r<0||r+a>l.height},getTarget:function(e){var t;return xM(e,"p-inputwrapper")&&(t=bu(e,"input"))!==null&&t!==void 0?t:e},getModifiers:function(e){return e.modifiers&&Object.keys(e.modifiers).length?e.modifiers:e.arg&&Vc(e.arg)==="object"?Object.entries(e.arg).reduce(function(t,n){var r=Qwe(n,2),s=r[0],o=r[1];return(s==="event"||s==="position")&&(t[o]=!0),t},{}):{}}}});const e2e="modulepreload",t2e=function(i){return"/"+i},NA={},pi=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(l=>{if(l=t2e(l),l in NA)return;NA[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":e2e,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},n2e=new Set(["title","titleTemplate","script","style","noscript"]),V1=new Set(["base","meta","link","style","script","noscript"]),i2e=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),r2e=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),YM=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),s2e=typeof window<"u";function z0(i){let e=9;for(let t=0;t<i.length;)e=Math.imul(e^i.charCodeAt(t++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function MI(i){if(i._h)return i._h;if(i._d)return z0(i._d);let e=`${i.tag}:${i.textContent||i.innerHTML||""}:`;for(const t in i.props)e+=`${t}:${String(i.props[t])},`;return z0(e)}function o2e(i,e){return i instanceof Promise?i.then(e):e(i)}function FI(i,e,t,n){const r=n||XM(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[i==="script"||i==="noscript"||i==="style"?"innerHTML":"textContent"]:e},i==="templateParams"||i==="titleTemplate");if(r instanceof Promise)return r.then(o=>FI(i,e,t,o));const s={tag:i,props:r};for(const o of YM){const a=s.props[o]!==void 0?s.props[o]:t[o];a!==void 0&&((!(o==="innerHTML"||o==="textContent"||o==="children")||n2e.has(s.tag))&&(s[o==="children"?"innerHTML":o]=a),delete s.props[o])}return s.props.body&&(s.tagPosition="bodyClose",delete s.props.body),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function a2e(i,e){var n;const t=i==="class"?" ":";";return e&&typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,r])=>r).map(([r,s])=>i==="style"?`${r}:${s}`:r)),(n=String(Array.isArray(e)?e.join(t):e))==null?void 0:n.split(t).filter(r=>!!r.trim()).join(t)}function ZM(i,e,t,n){for(let r=n;r<t.length;r+=1){const s=t[r];if(s==="class"||s==="style"){i[s]=a2e(s,i[s]);continue}if(i[s]instanceof Promise)return i[s].then(o=>(i[s]=o,ZM(i,e,t,r)));if(!e&&!YM.has(s)){const o=String(i[s]),a=s.startsWith("data-");o==="true"||o===""?i[s]=a?"true":!0:i[s]||(a&&o==="false"?i[s]="false":delete i[s])}}}function XM(i,e=!1){const t=ZM(i,e,Object.keys(i),0);return t instanceof Promise?t.then(()=>i):i}const l2e=10;function eF(i,e,t){for(let n=t;n<e.length;n+=1){const r=e[n];if(r instanceof Promise)return r.then(s=>(e[n]=s,eF(i,e,n)));Array.isArray(r)?i.push(...r):i.push(r)}}function u2e(i){const e=[],t=i.resolvedInput;for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const s=t[r];if(!(s===void 0||!i2e.has(r))){if(Array.isArray(s)){for(const o of s)e.push(FI(r,o,i));continue}e.push(FI(r,s,i))}}if(e.length===0)return[];const n=[];return o2e(eF(n,e,0),()=>n.map((r,s)=>(r._e=i._i,i.mode&&(r._m=i.mode),r._p=(i._i<<l2e)+s,r)))}const MA=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),FA={base:-10,title:10},$A={critical:-80,high:-10,low:20};function j0(i){const e=i.tagPriority;if(typeof e=="number")return e;let t=100;return i.tag==="meta"?i.props["http-equiv"]==="content-security-policy"?t=-30:i.props.charset?t=-20:i.props.name==="viewport"&&(t=-15):i.tag==="link"&&i.props.rel==="preconnect"?t=20:i.tag in FA&&(t=FA[i.tag]),e&&e in $A?t+$A[e]:t}const c2e=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],d2e=["name","property","http-equiv"];function tF(i){const{props:e,tag:t}=i;if(r2e.has(t))return t;if(t==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(e.id)return`${t}:id:${e.id}`;for(const n of d2e)if(e[n]!==void 0)return`${t}:${n}:${e[n]}`;return!1}const dc="%separator";function h2e(i,e,t=!1){var r;let n;if(e==="s"||e==="pageTitle")n=i.pageTitle;else if(e.includes(".")){const s=e.indexOf(".");n=(r=i[e.substring(0,s)])==null?void 0:r[e.substring(s+1)]}else n=i[e];if(n!==void 0)return t?(n||"").replace(/"/g,'\\"'):n||""}const f2e=new RegExp(`${dc}(?:\\s*${dc})*`,"g");function Gy(i,e,t,n=!1){if(typeof i!="string"||!i.includes("%"))return i;let r=i;try{r=decodeURI(i)}catch{}const s=r.match(/%\w+(?:\.\w+)?/g);if(!s)return i;const o=i.includes(dc);return i=i.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===dc||!s.includes(a))return a;const l=h2e(e,a.slice(1),n);return l!==void 0?l:a}).trim(),o&&(i.endsWith(dc)&&(i=i.slice(0,-dc.length)),i.startsWith(dc)&&(i=i.slice(dc.length)),i=i.replace(f2e,t).trim()),i}function BA(i,e){return i==null?e||null:typeof i=="function"?i(e):i}async function p2e(i,e={}){const t=e.document||i.resolvedOptions.document;if(!t||!i.dirty)return;const n={shouldRender:!0,tags:[]};if(await i.hooks.callHook("dom:beforeRender",n),!!n.shouldRender)return i._domUpdatePromise||(i._domUpdatePromise=new Promise(async r=>{var h;const s=(await i.resolveTags()).map(f=>({tag:f,id:V1.has(f.tag)?MI(f):f.tag,shouldRender:!0}));let o=i._dom;if(!o){o={elMap:{htmlAttrs:t.documentElement,bodyAttrs:t.body}};const f=new Set;for(const m of["body","head"]){const b=(h=t[m])==null?void 0:h.children;for(const _ of b){const E=_.tagName.toLowerCase();if(!V1.has(E))continue;const k={tag:E,props:await XM(_.getAttributeNames().reduce((J,Z)=>({...J,[Z]:_.getAttribute(Z)}),{})),innerHTML:_.innerHTML},j=tF(k);let M=j,q=1;for(;M&&f.has(M);)M=`${j}:${q++}`;M&&(k._d=M,f.add(M)),o.elMap[_.getAttribute("data-hid")||MI(k)]=_}}}o.pendingSideEffects={...o.sideEffects},o.sideEffects={};function a(f,m,b){const _=`${f}:${m}`;o.sideEffects[_]=b,delete o.pendingSideEffects[_]}function l({id:f,$el:m,tag:b}){const _=b.tag.endsWith("Attrs");if(o.elMap[f]=m,_||(b.textContent&&b.textContent!==m.textContent&&(m.textContent=b.textContent),b.innerHTML&&b.innerHTML!==m.innerHTML&&(m.innerHTML=b.innerHTML),a(f,"el",()=>{var E;(E=o.elMap[f])==null||E.remove(),delete o.elMap[f]})),b._eventHandlers)for(const E in b._eventHandlers)Object.prototype.hasOwnProperty.call(b._eventHandlers,E)&&m.getAttribute(`data-${E}`)!==""&&((b.tag==="bodyAttrs"?t.defaultView:m).addEventListener(E.substring(2),b._eventHandlers[E].bind(m)),m.setAttribute(`data-${E}`,""));for(const E in b.props){if(!Object.prototype.hasOwnProperty.call(b.props,E))continue;const k=b.props[E],j=`attr:${E}`;if(E==="class"){if(!k)continue;for(const M of k.split(" "))_&&a(f,`${j}:${M}`,()=>m.classList.remove(M)),!m.classList.contains(M)&&m.classList.add(M)}else if(E==="style"){if(!k)continue;for(const M of k.split(";")){const q=M.indexOf(":"),J=M.substring(0,q).trim(),Z=M.substring(q+1).trim();a(f,`${j}:${J}`,()=>{m.style.removeProperty(J)}),m.style.setProperty(J,Z)}}else m.getAttribute(E)!==k&&m.setAttribute(E,k===!0?"":String(k)),_&&a(f,j,()=>m.removeAttribute(E))}}const u=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const f of s){const{tag:m,shouldRender:b,id:_}=f;if(b){if(m.tag==="title"){t.title=m.textContent;continue}f.$el=f.$el||o.elMap[_],f.$el?l(f):V1.has(m.tag)&&u.push(f)}}for(const f of u){const m=f.tag.tagPosition||"head";f.$el=t.createElement(f.tag.tag),l(f),c[m]=c[m]||t.createDocumentFragment(),c[m].appendChild(f.$el)}for(const f of s)await i.hooks.callHook("dom:renderTag",f,t,a);c.head&&t.head.appendChild(c.head),c.bodyOpen&&t.body.insertBefore(c.bodyOpen,t.body.firstChild),c.bodyClose&&t.body.appendChild(c.bodyClose);for(const f in o.pendingSideEffects)o.pendingSideEffects[f]();i._dom=o,await i.hooks.callHook("dom:rendered",{renders:s}),r()}).finally(()=>{i._domUpdatePromise=void 0,i.dirty=!1})),i._domUpdatePromise}function g2e(i,e={}){const t=e.delayFn||(n=>setTimeout(n,10));return i._domDebouncedUpdatePromise=i._domDebouncedUpdatePromise||new Promise(n=>t(()=>p2e(i,e).then(()=>{delete i._domDebouncedUpdatePromise,n()})))}function m2e(i){return e=>{var n,r;const t=((r=(n=e.resolvedOptions.document)==null?void 0:n.head.querySelector('script[id="unhead:payload"]'))==null?void 0:r.innerHTML)||!1;return t&&e.push(JSON.parse(t)),{mode:"client",hooks:{"entries:updated":s=>{g2e(s,i)}}}}}function $I(i,e={},t){for(const n in i){const r=i[n],s=t?`${t}:${n}`:n;typeof r=="object"&&r!==null?$I(r,e,s):typeof r=="function"&&(e[s]=r)}return e}const v2e={run:i=>i()},y2e=()=>v2e,nF=typeof console.createTask<"u"?console.createTask:y2e;function b2e(i,e){const t=e.shift(),n=nF(t);return i.reduce((r,s)=>r.then(()=>n.run(()=>s(...e))),Promise.resolve())}function C2e(i,e){const t=e.shift(),n=nF(t);return Promise.all(i.map(r=>n.run(()=>r(...e))))}function v2(i,e){for(const t of[...i])t(e)}class w2e{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,n={}){if(!e||typeof t!="function")return()=>{};const r=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!n.allowDeprecated){let o=s.message;o||(o=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let n,r=(...s)=>(typeof n=="function"&&n(),n=void 0,r=void 0,t(...s));return n=this.hook(e,r),n}removeHook(e,t){if(this._hooks[e]){const n=this._hooks[e].indexOf(t);n!==-1&&this._hooks[e].splice(n,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const n=this._hooks[e]||[];delete this._hooks[e];for(const r of n)this.hook(e,r)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=$I(e),n=Object.keys(t).map(r=>this.hook(r,t[r]));return()=>{for(const r of n.splice(0,n.length))r()}}removeHooks(e){const t=$I(e);for(const n in t)this.removeHook(n,t[n])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(b2e,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(C2e,e,...t)}callHookWith(e,t,...n){const r=this._before||this._after?{name:t,args:n,context:{}}:void 0;this._before&&v2(this._before,r);const s=e(t in this._hooks?[...this._hooks[t]]:[],n);return s instanceof Promise?s.finally(()=>{this._after&&r&&v2(this._after,r)}):(this._after&&r&&v2(this._after,r),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}}function _2e(){return new w2e}const I2e=new Set(["templateParams","htmlAttrs","bodyAttrs"]),E2e={hooks:{"tag:normalise":({tag:i})=>{i.props.hid&&(i.key=i.props.hid,delete i.props.hid),i.props.vmid&&(i.key=i.props.vmid,delete i.props.vmid),i.props.key&&(i.key=i.props.key,delete i.props.key);const e=tF(i);e&&!e.startsWith("meta:og:")&&!e.startsWith("meta:twitter:")&&delete i.key;const t=e||(i.key?`${i.tag}:${i.key}`:!1);t&&(i._d=t)},"tags:resolve":i=>{const e=Object.create(null);for(const n of i.tags){const r=(n.key?`${n.tag}:${n.key}`:n._d)||MI(n),s=e[r];if(s){let a=n==null?void 0:n.tagDuplicateStrategy;if(!a&&I2e.has(n.tag)&&(a="merge"),a==="merge"){const l=s.props;l.style&&n.props.style&&(l.style[l.style.length-1]!==";"&&(l.style+=";"),n.props.style=`${l.style} ${n.props.style}`),l.class&&n.props.class?n.props.class=`${l.class} ${n.props.class}`:l.class&&(n.props.class=l.class),e[r].props={...l,...n.props};continue}else if(n._e===s._e){s._duped=s._duped||[],n._d=`${s._d}:${s._duped.length+1}`,s._duped.push(n);continue}else if(j0(n)>j0(s))continue}if(!(n.innerHTML||n.textContent||Object.keys(n.props).length!==0)&&V1.has(n.tag)){delete e[r];continue}e[r]=n}const t=[];for(const n in e){const r=e[n],s=r._duped;t.push(r),s&&(delete r._duped,t.push(...s))}i.tags=t,i.tags=i.tags.filter(n=>!(n.tag==="meta"&&(n.props.name||n.props.property)&&!n.props.content))}}},S2e=new Set(["script","link","bodyAttrs"]),T2e=i=>({hooks:{"tags:resolve":e=>{for(const t of e.tags){if(!S2e.has(t.tag))continue;const n=t.props;for(const r in n){if(r[0]!=="o"||r[1]!=="n"||!Object.prototype.hasOwnProperty.call(n,r))continue;const s=n[r];typeof s=="function"&&(i.ssr&&MA.has(r)?n[r]=`this.dataset.${r}fired = true`:delete n[r],t._eventHandlers=t._eventHandlers||{},t._eventHandlers[r]=s)}i.ssr&&t._eventHandlers&&(t.props.src||t.props.href)&&(t.key=t.key||z0(t.props.src||t.props.href))}},"dom:renderTag":({$el:e,tag:t})=>{var r,s;const n=e==null?void 0:e.dataset;if(n)for(const o in n){if(!o.endsWith("fired"))continue;const a=o.slice(0,-5);MA.has(a)&&((s=(r=t._eventHandlers)==null?void 0:r[a])==null||s.call(e,new Event(a.substring(2))))}}}}),x2e=new Set(["link","style","script","noscript"]),P2e={hooks:{"tag:normalise":({tag:i})=>{i.key&&x2e.has(i.tag)&&(i.props["data-hid"]=i._h=z0(i.key))}}},R2e={mode:"server",hooks:{"tags:beforeResolve":i=>{const e={};let t=!1;for(const n of i.tags)n._m!=="server"||n.tag!=="titleTemplate"&&n.tag!=="templateParams"&&n.tag!=="title"||(e[n.tag]=n.tag==="title"||n.tag==="titleTemplate"?n.textContent:n.props,t=!0);t&&i.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},k2e={hooks:{"tags:resolve":i=>{var e;for(const t of i.tags)if(typeof t.tagPriority=="string")for(const{prefix:n,offset:r}of c2e){if(!t.tagPriority.startsWith(n))continue;const s=t.tagPriority.substring(n.length),o=(e=i.tags.find(a=>a._d===s))==null?void 0:e._p;if(o!==void 0){t._p=o+r;break}}i.tags.sort((t,n)=>{const r=j0(t),s=j0(n);return r<s?-1:r>s?1:t._p-n._p})}}},A2e={meta:"content",link:"href",htmlAttrs:"lang"},V2e=["innerHTML","textContent"],L2e=i=>({hooks:{"tags:resolve":e=>{var o;const{tags:t}=e;let n;for(let a=0;a<t.length;a+=1)t[a].tag==="templateParams"&&(n=e.tags.splice(a,1)[0].props,a-=1);const r=n||{},s=r.separator||"|";delete r.separator,r.pageTitle=Gy(r.pageTitle||((o=t.find(a=>a.tag==="title"))==null?void 0:o.textContent)||"",r,s);for(const a of t){if(a.processTemplateParams===!1)continue;const l=A2e[a.tag];if(l&&typeof a.props[l]=="string")a.props[l]=Gy(a.props[l],r,s);else if(a.processTemplateParams||a.tag==="titleTemplate"||a.tag==="title")for(const u of V2e)typeof a[u]=="string"&&(a[u]=Gy(a[u],r,s,a.tag==="script"&&a.props.type.endsWith("json")))}i._templateParams=r,i._separator=s},"tags:afterResolve":({tags:e})=>{let t;for(let n=0;n<e.length;n+=1){const r=e[n];r.tag==="title"&&r.processTemplateParams!==!1&&(t=r)}t!=null&&t.textContent&&(t.textContent=Gy(t.textContent,i._templateParams,i._separator))}}}),O2e={hooks:{"tags:resolve":i=>{const{tags:e}=i;let t,n;for(let r=0;r<e.length;r+=1){const s=e[r];s.tag==="title"?t=s:s.tag==="titleTemplate"&&(n=s)}if(n&&t){const r=BA(n.textContent,t.textContent);r!==null?t.textContent=r||t.textContent:i.tags.splice(i.tags.indexOf(t),1)}else if(n){const r=BA(n.textContent);r!==null&&(n.textContent=r,n.tag="title",n=void 0)}n&&i.tags.splice(i.tags.indexOf(n),1)}}},D2e={hooks:{"tags:afterResolve":i=>{for(const e of i.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&(e.props.type==="application/ld+json"||e.props.type==="application/json")?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let iF;function N2e(i={}){const e=M2e(i);return e.use(m2e()),iF=e}function qA(i,e){return!i||i==="server"&&e||i==="client"&&!e}function M2e(i={}){const e=_2e();e.addHooks(i.hooks||{}),i.document=i.document||(s2e?document:void 0);const t=!i.document,n=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let r=0,s=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:i,hooks:e,headEntries(){return s},use(l){const u=typeof l=="function"?l(a):l;(!u.key||!o.some(c=>c.key===u.key))&&(o.push(u),qA(u.mode,t)&&e.addHooks(u.hooks||{}))},push(l,u){u==null||delete u.head;const c={_i:r++,input:l,...u};return qA(c.mode,t)&&(s.push(c),n()),{dispose(){s=s.filter(h=>h._i!==c._i),n()},patch(h){for(const f of s)f._i===c._i&&(f.input=c.input=h);n()}}},async resolveTags(){const l={tags:[],entries:[...s]};await e.callHook("entries:resolve",l);for(const u of l.entries){const c=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(c):c),u.resolvedInput)for(const h of await u2e(u)){const f={tag:h,entry:u,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",f),l.tags.push(f.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:t};return[E2e,R2e,T2e,P2e,k2e,L2e,O2e,D2e,...(i==null?void 0:i.plugins)||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function F2e(){return iF}const Zh=kB[0]==="3";function $2e(i){return typeof i=="function"?i():Xe(i)}function BI(i){if(i instanceof Promise||i instanceof Date||i instanceof RegExp)return i;const e=$2e(i);if(!i||!e)return e;if(Array.isArray(e))return e.map(t=>BI(t));if(typeof e=="object"){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n==="titleTemplate"||n[0]==="o"&&n[1]==="n"){t[n]=Xe(e[n]);continue}t[n]=BI(e[n])}return t}return e}const B2e={hooks:{"entries:resolve":i=>{for(const e of i.entries)e.resolvedInput=BI(e.input)}}},rF="usehead";function q2e(i){return{install(t){Zh&&(t.config.globalProperties.$unhead=i,t.config.globalProperties.$head=i,t.provide(rF,i))}}.install}function U2e(i={}){i.domDelayFn=i.domDelayFn||(t=>Oc(()=>setTimeout(()=>t(),0)));const e=N2e(i);return e.use(B2e),e.install=q2e(e),e}const UA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ao<"u"?Ao:typeof self<"u"?self:{},HA="__unhead_injection_handler__";function H2e(){return HA in UA?UA[HA]():Vo(rF)||F2e()}function zA(i,e){const t=Zh?i.type:i.tag,n=t==="html"?"htmlAttrs":t==="body"?"bodyAttrs":t;if(typeof n!="string"||!(n in e))return;const r=Zh?i:i.data,s=(Zh?i.props:r.attrs)||{};if(Zh||(r.staticClass&&(s.class=r.staticClass),r.staticStyle&&(s.style=Object.entries(r.staticStyle).map(([o,a])=>`${o}:${a}`).join(";"))),i.children){const o=Zh?"children":"text";s.children=Array.isArray(i.children)?i.children[0][o]:i[o]}Array.isArray(e[n])?e[n].push(s):n==="title"?e.title=s.children:e[n]=s}function z2e(i){const e={title:void 0,htmlAttrs:void 0,bodyAttrs:void 0,base:void 0,meta:[],link:[],style:[],script:[],noscript:[]};for(const t of i)if(typeof t.type=="symbol"&&Array.isArray(t.children))for(const n of t.children)zA(n,e);else zA(t,e);return e}const j2e=Pe({name:"Head",setup(i,{slots:e}){const t=H2e(),n=Qe({}),r=t.push(n);return vh(()=>{r.dispose()}),()=>(h7(()=>{e.default&&r.patch(z2e(e.default()))}),null)}});var EC={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=OM()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function Q2e(i,e,t,n,r,s){return s.inline?on(i.$slots,"default",{key:0}):r.mounted?(I(),ge(f7,{key:1,to:t.appendTo},[on(i.$slots,"default")],8,["to"])):Y("",!0)}EC.render=Q2e;var na=Xv();function W2e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pc",e=AB();return"".concat(i).concat(e.replace("v-","").replaceAll("-","_"))}var jA=Nn.extend({name:"common"});function qm(i){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(i)}function G2e(i){return aF(i)||K2e(i)||oF(i)||sF()}function K2e(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function ug(i,e){return aF(i)||J2e(i,e)||oF(i,e)||sF()}function sF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oF(i,e){if(i){if(typeof i=="string")return QA(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?QA(i,e):void 0}}function QA(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function J2e(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(i)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=s.call(t)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function aF(i){if(Array.isArray(i))return i}function WA(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Pn(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(t),!0).forEach(function(n){Og(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):WA(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Og(i,e,t){return(e=Y2e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Y2e(i){var e=Z2e(i,"string");return qm(e)=="symbol"?e:e+""}function Z2e(i,e){if(qm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var fa={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){es.off("theme:change",this._loadCoreStyles),e||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(e,t){var n=this;es.off("theme:change",this._themeScopedListener),e?(this._loadScopedThemeStyles(e),this._themeScopedListener=function(){return n._loadScopedThemeStyles(e)},this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,uid:void 0,$attrSelector:void 0,beforeCreate:function(){var e,t,n,r,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,m=f?(t=this.pt)===null||t===void 0||(t=t.originalValue)===null||t===void 0?void 0:t[this.$.type.name]:void 0,b=f?(n=this.pt)===null||n===void 0||(n=n.value)===null||n===void 0?void 0:n[this.$.type.name]:this.pt;(r=b||m)===null||r===void 0||(r=r.hooks)===null||r===void 0||(s=r.onBeforeCreate)===null||s===void 0||s.call(r);var _=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,E=_?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,k=_?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=k||E)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c),this.$attrSelector=W2e(),this.uid=this.$attrs.id||this.$attrSelector.replace("pc","pv_id_")},created:function(){this._hook("onCreated")},beforeMount:function(){var e;this.rootEl=bu(cd(this.$el)?this.$el:(e=this.$el)===null||e===void 0?void 0:e.parentElement,"[".concat(this.$attrSelector,"]")),this.rootEl&&(this.rootEl.$pc=Pn({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var t=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),n=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));t==null||t(),n==null||n()}},_mergeProps:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return IC(e)?e.apply(void 0,n):Ae.apply(void 0,n)},_load:function(){vc.isStyleNameLoaded("base")||(Nn.loadCSS(this.$styleOptions),this._loadGlobalStyles(),vc.setLoadedStyleName("base")),this._loadThemeStyles()},_loadStyles:function(){this._load(),this._themeChangeListener(this._load)},_loadCoreStyles:function(){var e,t;!vc.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(t=this.$style)!==null&&t!==void 0&&t.name&&(jA.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),vc.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);cn(e)&&Nn.load(e,Pn({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var e,t;if(!(this.isUnstyled||this.$theme==="none")){if(!ci.isStyleNameLoaded("common")){var n,r,s=((n=this.$style)===null||n===void 0||(r=n.getCommonTheme)===null||r===void 0?void 0:r.call(n))||{},o=s.primitive,a=s.semantic,l=s.global,u=s.style;Nn.load(o==null?void 0:o.css,Pn({name:"primitive-variables"},this.$styleOptions)),Nn.load(a==null?void 0:a.css,Pn({name:"semantic-variables"},this.$styleOptions)),Nn.load(l==null?void 0:l.css,Pn({name:"global-variables"},this.$styleOptions)),Nn.loadStyle(Pn({name:"global-style"},this.$styleOptions),u),ci.setLoadedStyleName("common")}if(!ci.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(t=this.$style)!==null&&t!==void 0&&t.name){var c,h,f,m,b=((c=this.$style)===null||c===void 0||(h=c.getComponentTheme)===null||h===void 0?void 0:h.call(c))||{},_=b.css,E=b.style;(f=this.$style)===null||f===void 0||f.load(_,Pn({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(m=this.$style)===null||m===void 0||m.loadStyle(Pn({name:"".concat(this.$style.name,"-style")},this.$styleOptions),E),ci.setLoadedStyleName(this.$style.name)}if(!ci.isStyleNameLoaded("layer-order")){var k,j,M=(k=this.$style)===null||k===void 0||(j=k.getLayerOrderThemeCSS)===null||j===void 0?void 0:j.call(k);Nn.load(M,Pn({name:"layer-order",first:!0},this.$styleOptions)),ci.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(e){var t,n,r,s=((t=this.$style)===null||t===void 0||(n=t.getPresetTheme)===null||n===void 0?void 0:n.call(t,e,"[".concat(this.$attrSelector,"]")))||{},o=s.css,a=(r=this.$style)===null||r===void 0?void 0:r.load(o,Pn({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=a.el},_unloadScopedThemeStyles:function(){var e;(e=this.scopedStyleEl)===null||e===void 0||(e=e.value)===null||e===void 0||e.remove()},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};vc.clearLoadedStyleNames(),es.on("theme:change",e)},_removeThemeListeners:function(){es.off("theme:change",this._loadCoreStyles),es.off("theme:change",this._load),es.off("theme:change",this._themeScopedListener)},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var t;return this[e]||((t=this._getHostInstance(this))===null||t===void 0?void 0:t[e])},_getOptionValue:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ZT(e,t,n)},_getPTValue:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(n)&&!!r[n.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,n,r):this._useDefaultPT(this._getPTClassValue,n,r):void 0,m=o?void 0:this._getPTSelf(t,this._getPTClassValue,n,Pn(Pn({},r),{},{global:f||{}})),b=this._getPTDatasets(n);return u||!u&&m?h?this._mergeProps(h,f,m,b):Pn(Pn(Pn({},f),m),b):Pn(Pn({},m),b)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ae(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(n)),this._usePT.apply(this,[this.$_attrsPT].concat(n)))},_getPTDatasets:function(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r="data-pc-",s=n==="root"&&cn((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return n!=="transition"&&Pn(Pn({},n==="root"&&Pn(Pn(Og({},"".concat(r,"name"),cl(s?(t=this.pt)===null||t===void 0?void 0:t["data-pc-section"]:this.$.type.name)),s&&Og({},"".concat(r,"extend"),cl(this.$.type.name))),{},Og({},"".concat(this.$attrSelector),""))),{},Og({},"".concat(r,"section"),cl(n)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return lo(e)||FM(e)?{class:e}:e},_getPT:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=r?r(a):a,h=cl(n),f=cl(t.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,t,n,r){var s=function(_){return t(_,n,r)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),m=s(e.value);return f===void 0&&m===void 0?void 0:lo(m)?m:lo(f)?f:u||!u&&m?h?this._mergeProps(h,f,m):Pn(Pn({},f),m):m}return s(e)},_useGlobalPT:function(e,t,n){return this._usePT(this.globalPT,e,t,n)},_useDefaultPT:function(e,t,n){return this._usePT(this.defaultPT,e,t,n)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,Pn(Pn({},this.$params),t))},ptmi:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Ae(this.$_attrsWithoutPT,this.ptm(t,n));return r!=null&&r.hasOwnProperty("id")&&((e=r.id)!==null&&e!==void 0||(r.id=this.$id)),r},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,t,Pn({instance:this},n),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,Pn(Pn({},this.$params),t))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t){var r=this._getOptionValue(this.$style.inlineStyles,e,Pn(Pn({},this.$params),n)),s=this._getOptionValue(jA.inlineStyles,e,Pn(Pn({},this.$params),n));return[s,r]}}},computed:{globalPT:function(){var e,t=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(n){return Ds(n,{instance:t})})},defaultPT:function(){var e,t=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(n){return t._getOptionValue(n,t.$name,Pn({},t.$params))||Ds(n,Pn({},t.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$id:function(){return this.$attrs.id||this.uid},$inProps:function(){var e,t=Object.keys(((e=this.$.vnode)===null||e===void 0?void 0:e.props)||{});return Object.fromEntries(Object.entries(this.$props).filter(function(n){var r=ug(n,1),s=r[0];return t==null?void 0:t.includes(s)}))},$theme:function(){var e;return(e=this.$primevueConfig)===null||e===void 0?void 0:e.theme},$style:function(){return Pn(Pn({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var e;return{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=ug(e,1),n=t[0];return n==null?void 0:n.startsWith("pt:")}).reduce(function(e,t){var n=ug(t,2),r=n[0],s=n[1],o=r.split(":"),a=G2e(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=ug(e,1),n=t[0];return!(n!=null&&n.startsWith("pt:"))}).reduce(function(e,t){var n=ug(t,2),r=n[0],s=n[1];return e[r]=s,e},{})}}},X2e=`
    .p-toast {
        width: dt('toast.width');
        white-space: pre-line;
        word-break: break-word;
    }

    .p-toast-message {
        margin: 0 0 1rem 0;
    }

    .p-toast-message-icon {
        flex-shrink: 0;
        font-size: dt('toast.icon.size');
        width: dt('toast.icon.size');
        height: dt('toast.icon.size');
    }

    .p-toast-message-content {
        display: flex;
        align-items: flex-start;
        padding: dt('toast.content.padding');
        gap: dt('toast.content.gap');
    }

    .p-toast-message-text {
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        gap: dt('toast.text.gap');
    }

    .p-toast-summary {
        font-weight: dt('toast.summary.font.weight');
        font-size: dt('toast.summary.font.size');
    }

    .p-toast-detail {
        font-weight: dt('toast.detail.font.weight');
        font-size: dt('toast.detail.font.size');
    }

    .p-toast-close-button {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        cursor: pointer;
        background: transparent;
        transition:
            background dt('toast.transition.duration'),
            color dt('toast.transition.duration'),
            outline-color dt('toast.transition.duration'),
            box-shadow dt('toast.transition.duration');
        outline-color: transparent;
        color: inherit;
        width: dt('toast.close.button.width');
        height: dt('toast.close.button.height');
        border-radius: dt('toast.close.button.border.radius');
        margin: -25% 0 0 0;
        right: -25%;
        padding: 0;
        border: none;
        user-select: none;
    }

    .p-toast-close-button:dir(rtl) {
        margin: -25% 0 0 auto;
        left: -25%;
        right: auto;
    }

    .p-toast-message-info,
    .p-toast-message-success,
    .p-toast-message-warn,
    .p-toast-message-error,
    .p-toast-message-secondary,
    .p-toast-message-contrast {
        border-width: dt('toast.border.width');
        border-style: solid;
        backdrop-filter: blur(dt('toast.blur'));
        border-radius: dt('toast.border.radius');
    }

    .p-toast-close-icon {
        font-size: dt('toast.close.icon.size');
        width: dt('toast.close.icon.size');
        height: dt('toast.close.icon.size');
    }

    .p-toast-close-button:focus-visible {
        outline-width: dt('focus.ring.width');
        outline-style: dt('focus.ring.style');
        outline-offset: dt('focus.ring.offset');
    }

    .p-toast-message-info {
        background: dt('toast.info.background');
        border-color: dt('toast.info.border.color');
        color: dt('toast.info.color');
        box-shadow: dt('toast.info.shadow');
    }

    .p-toast-message-info .p-toast-detail {
        color: dt('toast.info.detail.color');
    }

    .p-toast-message-info .p-toast-close-button:focus-visible {
        outline-color: dt('toast.info.close.button.focus.ring.color');
        box-shadow: dt('toast.info.close.button.focus.ring.shadow');
    }

    .p-toast-message-info .p-toast-close-button:hover {
        background: dt('toast.info.close.button.hover.background');
    }

    .p-toast-message-success {
        background: dt('toast.success.background');
        border-color: dt('toast.success.border.color');
        color: dt('toast.success.color');
        box-shadow: dt('toast.success.shadow');
    }

    .p-toast-message-success .p-toast-detail {
        color: dt('toast.success.detail.color');
    }

    .p-toast-message-success .p-toast-close-button:focus-visible {
        outline-color: dt('toast.success.close.button.focus.ring.color');
        box-shadow: dt('toast.success.close.button.focus.ring.shadow');
    }

    .p-toast-message-success .p-toast-close-button:hover {
        background: dt('toast.success.close.button.hover.background');
    }

    .p-toast-message-warn {
        background: dt('toast.warn.background');
        border-color: dt('toast.warn.border.color');
        color: dt('toast.warn.color');
        box-shadow: dt('toast.warn.shadow');
    }

    .p-toast-message-warn .p-toast-detail {
        color: dt('toast.warn.detail.color');
    }

    .p-toast-message-warn .p-toast-close-button:focus-visible {
        outline-color: dt('toast.warn.close.button.focus.ring.color');
        box-shadow: dt('toast.warn.close.button.focus.ring.shadow');
    }

    .p-toast-message-warn .p-toast-close-button:hover {
        background: dt('toast.warn.close.button.hover.background');
    }

    .p-toast-message-error {
        background: dt('toast.error.background');
        border-color: dt('toast.error.border.color');
        color: dt('toast.error.color');
        box-shadow: dt('toast.error.shadow');
    }

    .p-toast-message-error .p-toast-detail {
        color: dt('toast.error.detail.color');
    }

    .p-toast-message-error .p-toast-close-button:focus-visible {
        outline-color: dt('toast.error.close.button.focus.ring.color');
        box-shadow: dt('toast.error.close.button.focus.ring.shadow');
    }

    .p-toast-message-error .p-toast-close-button:hover {
        background: dt('toast.error.close.button.hover.background');
    }

    .p-toast-message-secondary {
        background: dt('toast.secondary.background');
        border-color: dt('toast.secondary.border.color');
        color: dt('toast.secondary.color');
        box-shadow: dt('toast.secondary.shadow');
    }

    .p-toast-message-secondary .p-toast-detail {
        color: dt('toast.secondary.detail.color');
    }

    .p-toast-message-secondary .p-toast-close-button:focus-visible {
        outline-color: dt('toast.secondary.close.button.focus.ring.color');
        box-shadow: dt('toast.secondary.close.button.focus.ring.shadow');
    }

    .p-toast-message-secondary .p-toast-close-button:hover {
        background: dt('toast.secondary.close.button.hover.background');
    }

    .p-toast-message-contrast {
        background: dt('toast.contrast.background');
        border-color: dt('toast.contrast.border.color');
        color: dt('toast.contrast.color');
        box-shadow: dt('toast.contrast.shadow');
    }

    .p-toast-message-contrast .p-toast-detail {
        color: dt('toast.contrast.detail.color');
    }

    .p-toast-message-contrast .p-toast-close-button:focus-visible {
        outline-color: dt('toast.contrast.close.button.focus.ring.color');
        box-shadow: dt('toast.contrast.close.button.focus.ring.shadow');
    }

    .p-toast-message-contrast .p-toast-close-button:hover {
        background: dt('toast.contrast.close.button.hover.background');
    }

    .p-toast-top-center {
        transform: translateX(-50%);
    }

    .p-toast-bottom-center {
        transform: translateX(-50%);
    }

    .p-toast-center {
        min-width: 20vw;
        transform: translate(-50%, -50%);
    }

    .p-toast-message-enter-from {
        opacity: 0;
        transform: translateY(50%);
    }

    .p-toast-message-leave-from {
        max-height: 1000px;
    }

    .p-toast .p-toast-message.p-toast-message-leave-to {
        max-height: 0;
        opacity: 0;
        margin-bottom: 0;
        overflow: hidden;
    }

    .p-toast-message-enter-active {
        transition:
            transform 0.3s,
            opacity 0.3s;
    }

    .p-toast-message-leave-active {
        transition:
            max-height 0.45s cubic-bezier(0, 1, 0, 1),
            opacity 0.3s,
            margin-bottom 0.3s;
    }
`;function Um(i){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(i)}function Ky(i,e,t){return(e=e_e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function e_e(i){var e=t_e(i,"string");return Um(e)=="symbol"?e:e+""}function t_e(i,e){if(Um(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var n_e={root:function(e){var t=e.position;return{position:"fixed",top:t==="top-right"||t==="top-left"||t==="top-center"?"20px":t==="center"?"50%":null,right:(t==="top-right"||t==="bottom-right")&&"20px",bottom:(t==="bottom-left"||t==="bottom-right"||t==="bottom-center")&&"20px",left:t==="top-left"||t==="bottom-left"?"20px":t==="center"||t==="top-center"||t==="bottom-center"?"50%":null}}},i_e={root:function(e){var t=e.props;return["p-toast p-component p-toast-"+t.position]},message:function(e){var t=e.props;return["p-toast-message",{"p-toast-message-info":t.message.severity==="info"||t.message.severity===void 0,"p-toast-message-warn":t.message.severity==="warn","p-toast-message-error":t.message.severity==="error","p-toast-message-success":t.message.severity==="success","p-toast-message-secondary":t.message.severity==="secondary","p-toast-message-contrast":t.message.severity==="contrast"}]},messageContent:"p-toast-message-content",messageIcon:function(e){var t=e.props;return["p-toast-message-icon",Ky(Ky(Ky(Ky({},t.infoIcon,t.message.severity==="info"),t.warnIcon,t.message.severity==="warn"),t.errorIcon,t.message.severity==="error"),t.successIcon,t.message.severity==="success")]},messageText:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail",closeButton:"p-toast-close-button",closeIcon:"p-toast-close-icon"},r_e=Nn.extend({name:"toast",style:X2e,classes:i_e,inlineStyles:n_e}),s_e=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,o_e=Nn.extend({name:"baseicon",css:s_e});function Hm(i){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(i)}function GA(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function KA(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(t),!0).forEach(function(n){a_e(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):GA(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function a_e(i,e,t){return(e=l_e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function l_e(i){var e=u_e(i,"string");return Hm(e)=="symbol"?e:e+""}function u_e(i,e){if(Hm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var is={name:"BaseIcon",extends:fa,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:o_e,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var e=$r(this.label);return KA(KA({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Q0={name:"CheckIcon",extends:is};function c_e(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1)]),16)}Q0.render=c_e;var qI={name:"ExclamationTriangleIcon",extends:is};function d_e(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"},null,-1),te("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"},null,-1),te("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"},null,-1)]),16)}qI.render=d_e;var UI={name:"InfoCircleIcon",extends:is};function h_e(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"},null,-1)]),16)}UI.render=h_e;var SC={name:"TimesIcon",extends:is};function f_e(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1)]),16)}SC.render=f_e;var HI={name:"TimesCircleIcon",extends:is};function p_e(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1)]),16)}HI.render=p_e;var g_e=`
    .p-ink {
        display: block;
        position: absolute;
        background: dt('ripple.background');
        border-radius: 100%;
        transform: scale(0);
        pointer-events: none;
    }

    .p-ink-active {
        animation: ripple 0.4s linear;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`,m_e={root:"p-ink"},v_e=Nn.extend({name:"ripple-directive",style:g_e,classes:m_e}),y_e=hn.extend({style:v_e});function zm(i){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(i)}function b_e(i){return I_e(i)||__e(i)||w_e(i)||C_e()}function C_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_e(i,e){if(i){if(typeof i=="string")return zI(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zI(i,e):void 0}}function __e(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function I_e(i){if(Array.isArray(i))return zI(i)}function zI(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function JA(i,e,t){return(e=E_e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function E_e(i){var e=S_e(i,"string");return zm(e)=="symbol"?e:e+""}function S_e(i,e){if(zm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var TC=y_e.extend("ripple",{watch:{"config.ripple":function(e){e?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(e){var t=this.getInk(e);t||(t=om("span",JA(JA({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root"))),e.appendChild(t),this.$el=t)},remove:function(e){var t=this.getInk(e);t&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(e),t.removeEventListener("animationend",this.onAnimationEnd),t.remove())},onMouseDown:function(e){var t=this,n=e.currentTarget,r=this.getInk(n);if(!(!r||getComputedStyle(r,null).display==="none")){if(!this.isUnstyled()&&gf(r,"p-ink-active"),r.setAttribute("data-p-ink-active","false"),!Md(r)&&!Fd(r)){var s=Math.max(au(n),ac(n));r.style.height=s+"px",r.style.width=s+"px"}var o=DCe(n),a=e.pageX-o.left+document.body.scrollTop-Fd(r)/2,l=e.pageY-o.top+document.body.scrollLeft-Md(r)/2;r.style.top=l+"px",r.style.left=a+"px",!this.isUnstyled()&&Om(r,"p-ink-active"),r.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){r&&(!t.isUnstyled()&&gf(r,"p-ink-active"),r.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&gf(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?b_e(e.children).find(function(t){return cc(t,"data-pc-name")==="ripple"}):void 0}}}),T_e={name:"BaseToast",extends:fa,props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},breakpoints:{type:Object,default:null},closeIcon:{type:String,default:void 0},infoIcon:{type:String,default:void 0},warnIcon:{type:String,default:void 0},errorIcon:{type:String,default:void 0},successIcon:{type:String,default:void 0},closeButtonProps:{type:null,default:null},onMouseEnter:{type:Function,default:void 0},onMouseLeave:{type:Function,default:void 0},onClick:{type:Function,default:void 0}},style:r_e,provide:function(){return{$pcToast:this,$parentInstance:this}}};function jm(i){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(i)}function x_e(i,e,t){return(e=P_e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function P_e(i){var e=R_e(i,"string");return jm(e)=="symbol"?e:e+""}function R_e(i,e){if(jm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var lF={name:"ToastMessage",hostName:"Toast",extends:fa,emits:["close"],closeTimeout:null,createdAt:null,lifeRemaining:null,props:{message:{type:null,default:null},templates:{type:Object,default:null},closeIcon:{type:String,default:null},infoIcon:{type:String,default:null},warnIcon:{type:String,default:null},errorIcon:{type:String,default:null},successIcon:{type:String,default:null},closeButtonProps:{type:null,default:null},onMouseEnter:{type:Function,default:void 0},onMouseLeave:{type:Function,default:void 0},onClick:{type:Function,default:void 0}},mounted:function(){this.message.life&&(this.lifeRemaining=this.message.life,this.startTimeout())},beforeUnmount:function(){this.clearCloseTimeout()},methods:{startTimeout:function(){var e=this;this.createdAt=new Date().valueOf(),this.closeTimeout=setTimeout(function(){e.close({message:e.message,type:"life-end"})},this.lifeRemaining)},close:function(e){this.$emit("close",e)},onCloseClick:function(){this.clearCloseTimeout(),this.close({message:this.message,type:"close"})},clearCloseTimeout:function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},onMessageClick:function(e){var t;(t=this.onClick)===null||t===void 0||t.call(this,{originalEvent:e,message:this.message})},handleMouseEnter:function(e){if(this.onMouseEnter){if(this.onMouseEnter({originalEvent:e,message:this.message}),e.defaultPrevented)return;this.message.life&&(this.lifeRemaining=this.createdAt+this.lifeRemaining-new Date().valueOf(),this.createdAt=null,this.clearCloseTimeout())}},handleMouseLeave:function(e){if(this.onMouseLeave){if(this.onMouseLeave({originalEvent:e,message:this.message}),e.defaultPrevented)return;this.message.life&&this.startTimeout()}}},computed:{iconComponent:function(){return{info:!this.infoIcon&&UI,success:!this.successIcon&&Q0,warn:!this.warnIcon&&qI,error:!this.errorIcon&&HI}[this.message.severity]},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},dataP:function(){return sa(x_e({},this.message.severity,this.message.severity))}},components:{TimesIcon:SC,InfoCircleIcon:UI,CheckIcon:Q0,ExclamationTriangleIcon:qI,TimesCircleIcon:HI},directives:{ripple:TC}};function Qm(i){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(i)}function YA(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function ZA(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(t),!0).forEach(function(n){k_e(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):YA(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function k_e(i,e,t){return(e=A_e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function A_e(i){var e=V_e(i,"string");return Qm(e)=="symbol"?e:e+""}function V_e(i,e){if(Qm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var L_e=["data-p"],O_e=["data-p"],D_e=["data-p"],N_e=["data-p"],M_e=["aria-label","data-p"];function F_e(i,e,t,n,r,s){var o=pv("ripple");return I(),D("div",Ae({class:[i.cx("message"),t.message.styleClass],role:"alert","aria-live":"assertive","aria-atomic":"true","data-p":s.dataP},i.ptm("message"),{onClick:e[1]||(e[1]=function(){return s.onMessageClick&&s.onMessageClick.apply(s,arguments)}),onMouseenter:e[2]||(e[2]=function(){return s.handleMouseEnter&&s.handleMouseEnter.apply(s,arguments)}),onMouseleave:e[3]||(e[3]=function(){return s.handleMouseLeave&&s.handleMouseLeave.apply(s,arguments)})}),[t.templates.container?(I(),ge(no(t.templates.container),{key:0,message:t.message,closeCallback:s.onCloseClick},null,8,["message","closeCallback"])):(I(),D("div",Ae({key:1,class:[i.cx("messageContent"),t.message.contentStyleClass]},i.ptm("messageContent")),[t.templates.message?(I(),ge(no(t.templates.message),{key:1,message:t.message},null,8,["message"])):(I(),D(xt,{key:0},[(I(),ge(no(t.templates.messageicon?t.templates.messageicon:t.templates.icon?t.templates.icon:s.iconComponent&&s.iconComponent.name?s.iconComponent:"span"),Ae({class:i.cx("messageIcon")},i.ptm("messageIcon")),null,16,["class"])),te("div",Ae({class:i.cx("messageText"),"data-p":s.dataP},i.ptm("messageText")),[te("span",Ae({class:i.cx("summary"),"data-p":s.dataP},i.ptm("summary")),kt(t.message.summary),17,D_e),t.message.detail?(I(),D("div",Ae({key:0,class:i.cx("detail"),"data-p":s.dataP},i.ptm("detail")),kt(t.message.detail),17,N_e)):Y("",!0)],16,O_e)],64)),t.message.closable!==!1?(I(),D("div",xa(Ae({key:2},i.ptm("buttonContainer"))),[ri((I(),D("button",Ae({class:i.cx("closeButton"),type:"button","aria-label":s.closeAriaLabel,onClick:e[0]||(e[0]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),autofocus:"","data-p":s.dataP},ZA(ZA({},t.closeButtonProps),i.ptm("closeButton"))),[(I(),ge(no(t.templates.closeicon||"TimesIcon"),Ae({class:[i.cx("closeIcon"),t.closeIcon]},i.ptm("closeIcon")),null,16,["class"]))],16,M_e)),[[o]])],16)):Y("",!0)],16))],16,L_e)}lF.render=F_e;function Wm(i){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(i)}function $_e(i,e,t){return(e=B_e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function B_e(i){var e=q_e(i,"string");return Wm(e)=="symbol"?e:e+""}function q_e(i,e){if(Wm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function U_e(i){return Q_e(i)||j_e(i)||z_e(i)||H_e()}function H_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_e(i,e){if(i){if(typeof i=="string")return jI(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jI(i,e):void 0}}function j_e(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Q_e(i){if(Array.isArray(i))return jI(i)}function jI(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}var W_e=0,uF={name:"Toast",extends:T_e,inheritAttrs:!1,emits:["close","life-end"],data:function(){return{messages:[]}},styleElement:null,mounted:function(){na.on("add",this.onAdd),na.on("remove",this.onRemove),na.on("remove-group",this.onRemoveGroup),na.on("remove-all-groups",this.onRemoveAllGroups),this.breakpoints&&this.createStyle()},beforeUnmount:function(){this.destroyStyle(),this.$refs.container&&this.autoZIndex&&uo.clear(this.$refs.container),na.off("add",this.onAdd),na.off("remove",this.onRemove),na.off("remove-group",this.onRemoveGroup),na.off("remove-all-groups",this.onRemoveAllGroups)},methods:{add:function(e){e.id==null&&(e.id=W_e++),this.messages=[].concat(U_e(this.messages),[e])},remove:function(e){var t=this.messages.findIndex(function(n){return n.id===e.message.id});t!==-1&&(this.messages.splice(t,1),this.$emit(e.type,{message:e.message}))},onAdd:function(e){this.group==e.group&&this.add(e)},onRemove:function(e){this.remove({message:e,type:"close"})},onRemoveGroup:function(e){this.group===e&&(this.messages=[])},onRemoveAllGroups:function(){var e=this;this.messages.forEach(function(t){return e.$emit("close",{message:t})}),this.messages=[]},onEnter:function(){this.autoZIndex&&uo.set("modal",this.$refs.container,this.baseZIndex||this.$primevue.config.zIndex.modal)},onLeave:function(){var e=this;this.$refs.container&&this.autoZIndex&&$r(this.messages)&&setTimeout(function(){uo.clear(e.$refs.container)},200)},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",DM(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var n in this.breakpoints){var r="";for(var s in this.breakpoints[n])r+=s+":"+this.breakpoints[n][s]+"!important;";t+=`
                        @media screen and (max-width: `.concat(n,`) {
                            .p-toast[`).concat(this.$attrSelector,`] {
                                `).concat(r,`
                            }
                        }
                    `)}this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},computed:{dataP:function(){return sa($_e({},this.position,this.position))}},components:{ToastMessage:lF,Portal:EC}};function Gm(i){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(i)}function XA(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function G_e(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(t),!0).forEach(function(n){K_e(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):XA(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function K_e(i,e,t){return(e=J_e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function J_e(i){var e=Y_e(i,"string");return Gm(e)=="symbol"?e:e+""}function Y_e(i,e){if(Gm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var Z_e=["data-p"];function X_e(i,e,t,n,r,s){var o=Ri("ToastMessage"),a=Ri("Portal");return I(),ge(a,null,{default:Hn(function(){return[te("div",Ae({ref:"container",class:i.cx("root"),style:i.sx("root",!0,{position:i.position}),"data-p":s.dataP},i.ptmi("root")),[he(VB,Ae({name:"p-toast-message",tag:"div",onEnter:s.onEnter,onLeave:s.onLeave},G_e({},i.ptm("transition"))),{default:Hn(function(){return[(I(!0),D(xt,null,en(r.messages,function(l){return I(),ge(o,{key:l.id,message:l,templates:i.$slots,closeIcon:i.closeIcon,infoIcon:i.infoIcon,warnIcon:i.warnIcon,errorIcon:i.errorIcon,successIcon:i.successIcon,closeButtonProps:i.closeButtonProps,onMouseEnter:i.onMouseEnter,onMouseLeave:i.onMouseLeave,onClick:i.onClick,unstyled:i.unstyled,onClose:e[0]||(e[0]=function(u){return s.remove(u)}),pt:i.pt},null,8,["message","templates","closeIcon","infoIcon","warnIcon","errorIcon","successIcon","closeButtonProps","onMouseEnter","onMouseLeave","onClick","unstyled","pt"])}),128))]}),_:1},16,["onEnter","onLeave"])],16,Z_e)]}),_:1})}uF.render=X_e;var xC={name:"SpinnerIcon",extends:is};function eIe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}xC.render=eIe;var tIe=`
    .p-badge {
        display: inline-flex;
        border-radius: dt('badge.border.radius');
        align-items: center;
        justify-content: center;
        padding: dt('badge.padding');
        background: dt('badge.primary.background');
        color: dt('badge.primary.color');
        font-size: dt('badge.font.size');
        font-weight: dt('badge.font.weight');
        min-width: dt('badge.min.width');
        height: dt('badge.height');
    }

    .p-badge-dot {
        width: dt('badge.dot.size');
        min-width: dt('badge.dot.size');
        height: dt('badge.dot.size');
        border-radius: 50%;
        padding: 0;
    }

    .p-badge-circle {
        padding: 0;
        border-radius: 50%;
    }

    .p-badge-secondary {
        background: dt('badge.secondary.background');
        color: dt('badge.secondary.color');
    }

    .p-badge-success {
        background: dt('badge.success.background');
        color: dt('badge.success.color');
    }

    .p-badge-info {
        background: dt('badge.info.background');
        color: dt('badge.info.color');
    }

    .p-badge-warn {
        background: dt('badge.warn.background');
        color: dt('badge.warn.color');
    }

    .p-badge-danger {
        background: dt('badge.danger.background');
        color: dt('badge.danger.color');
    }

    .p-badge-contrast {
        background: dt('badge.contrast.background');
        color: dt('badge.contrast.color');
    }

    .p-badge-sm {
        font-size: dt('badge.sm.font.size');
        min-width: dt('badge.sm.min.width');
        height: dt('badge.sm.height');
    }

    .p-badge-lg {
        font-size: dt('badge.lg.font.size');
        min-width: dt('badge.lg.min.width');
        height: dt('badge.lg.height');
    }

    .p-badge-xl {
        font-size: dt('badge.xl.font.size');
        min-width: dt('badge.xl.min.width');
        height: dt('badge.xl.height');
    }
`,nIe={root:function(e){var t=e.props,n=e.instance;return["p-badge p-component",{"p-badge-circle":cn(t.value)&&String(t.value).length===1,"p-badge-dot":$r(t.value)&&!n.$slots.default,"p-badge-sm":t.size==="small","p-badge-lg":t.size==="large","p-badge-xl":t.size==="xlarge","p-badge-info":t.severity==="info","p-badge-success":t.severity==="success","p-badge-warn":t.severity==="warn","p-badge-danger":t.severity==="danger","p-badge-secondary":t.severity==="secondary","p-badge-contrast":t.severity==="contrast"}]}},iIe=Nn.extend({name:"badge",style:tIe,classes:nIe}),rIe={name:"BaseBadge",extends:fa,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:iIe,provide:function(){return{$pcBadge:this,$parentInstance:this}}};function Km(i){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(i)}function eV(i,e,t){return(e=sIe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function sIe(i){var e=oIe(i,"string");return Km(e)=="symbol"?e:e+""}function oIe(i,e){if(Km(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var XT={name:"Badge",extends:rIe,inheritAttrs:!1,computed:{dataP:function(){return sa(eV(eV({circle:this.value!=null&&String(this.value).length===1,empty:this.value==null&&!this.$slots.default},this.severity,this.severity),this.size,this.size))}}},aIe=["data-p"];function lIe(i,e,t,n,r,s){return I(),D("span",Ae({class:i.cx("root"),"data-p":s.dataP},i.ptmi("root")),[on(i.$slots,"default",{},function(){return[Ng(kt(i.value),1)]})],16,aIe)}XT.render=lIe;var uIe=`
    .p-button {
        display: inline-flex;
        cursor: pointer;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        color: dt('button.primary.color');
        background: dt('button.primary.background');
        border: 1px solid dt('button.primary.border.color');
        padding: dt('button.padding.y') dt('button.padding.x');
        font-size: 1rem;
        font-family: inherit;
        font-feature-settings: inherit;
        transition:
            background dt('button.transition.duration'),
            color dt('button.transition.duration'),
            border-color dt('button.transition.duration'),
            outline-color dt('button.transition.duration'),
            box-shadow dt('button.transition.duration');
        border-radius: dt('button.border.radius');
        outline-color: transparent;
        gap: dt('button.gap');
    }

    .p-button:disabled {
        cursor: default;
    }

    .p-button-icon-right {
        order: 1;
    }

    .p-button-icon-right:dir(rtl) {
        order: -1;
    }

    .p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
        order: 1;
    }

    .p-button-icon-bottom {
        order: 2;
    }

    .p-button-icon-only {
        width: dt('button.icon.only.width');
        padding-inline-start: 0;
        padding-inline-end: 0;
        gap: 0;
    }

    .p-button-icon-only.p-button-rounded {
        border-radius: 50%;
        height: dt('button.icon.only.width');
    }

    .p-button-icon-only .p-button-label {
        visibility: hidden;
        width: 0;
    }

    .p-button-icon-only::after {
        content: "\0A0";
        visibility: hidden;
        width: 0;
    }

    .p-button-sm {
        font-size: dt('button.sm.font.size');
        padding: dt('button.sm.padding.y') dt('button.sm.padding.x');
    }

    .p-button-sm .p-button-icon {
        font-size: dt('button.sm.font.size');
    }

    .p-button-sm.p-button-icon-only {
        width: dt('button.sm.icon.only.width');
    }

    .p-button-sm.p-button-icon-only.p-button-rounded {
        height: dt('button.sm.icon.only.width');
    }

    .p-button-lg {
        font-size: dt('button.lg.font.size');
        padding: dt('button.lg.padding.y') dt('button.lg.padding.x');
    }

    .p-button-lg .p-button-icon {
        font-size: dt('button.lg.font.size');
    }

    .p-button-lg.p-button-icon-only {
        width: dt('button.lg.icon.only.width');
    }

    .p-button-lg.p-button-icon-only.p-button-rounded {
        height: dt('button.lg.icon.only.width');
    }

    .p-button-vertical {
        flex-direction: column;
    }

    .p-button-label {
        font-weight: dt('button.label.font.weight');
    }

    .p-button-fluid {
        width: 100%;
    }

    .p-button-fluid.p-button-icon-only {
        width: dt('button.icon.only.width');
    }

    .p-button:not(:disabled):hover {
        background: dt('button.primary.hover.background');
        border: 1px solid dt('button.primary.hover.border.color');
        color: dt('button.primary.hover.color');
    }

    .p-button:not(:disabled):active {
        background: dt('button.primary.active.background');
        border: 1px solid dt('button.primary.active.border.color');
        color: dt('button.primary.active.color');
    }

    .p-button:focus-visible {
        box-shadow: dt('button.primary.focus.ring.shadow');
        outline: dt('button.focus.ring.width') dt('button.focus.ring.style') dt('button.primary.focus.ring.color');
        outline-offset: dt('button.focus.ring.offset');
    }

    .p-button .p-badge {
        min-width: dt('button.badge.size');
        height: dt('button.badge.size');
        line-height: dt('button.badge.size');
    }

    .p-button-raised {
        box-shadow: dt('button.raised.shadow');
    }

    .p-button-rounded {
        border-radius: dt('button.rounded.border.radius');
    }

    .p-button-secondary {
        background: dt('button.secondary.background');
        border: 1px solid dt('button.secondary.border.color');
        color: dt('button.secondary.color');
    }

    .p-button-secondary:not(:disabled):hover {
        background: dt('button.secondary.hover.background');
        border: 1px solid dt('button.secondary.hover.border.color');
        color: dt('button.secondary.hover.color');
    }

    .p-button-secondary:not(:disabled):active {
        background: dt('button.secondary.active.background');
        border: 1px solid dt('button.secondary.active.border.color');
        color: dt('button.secondary.active.color');
    }

    .p-button-secondary:focus-visible {
        outline-color: dt('button.secondary.focus.ring.color');
        box-shadow: dt('button.secondary.focus.ring.shadow');
    }

    .p-button-success {
        background: dt('button.success.background');
        border: 1px solid dt('button.success.border.color');
        color: dt('button.success.color');
    }

    .p-button-success:not(:disabled):hover {
        background: dt('button.success.hover.background');
        border: 1px solid dt('button.success.hover.border.color');
        color: dt('button.success.hover.color');
    }

    .p-button-success:not(:disabled):active {
        background: dt('button.success.active.background');
        border: 1px solid dt('button.success.active.border.color');
        color: dt('button.success.active.color');
    }

    .p-button-success:focus-visible {
        outline-color: dt('button.success.focus.ring.color');
        box-shadow: dt('button.success.focus.ring.shadow');
    }

    .p-button-info {
        background: dt('button.info.background');
        border: 1px solid dt('button.info.border.color');
        color: dt('button.info.color');
    }

    .p-button-info:not(:disabled):hover {
        background: dt('button.info.hover.background');
        border: 1px solid dt('button.info.hover.border.color');
        color: dt('button.info.hover.color');
    }

    .p-button-info:not(:disabled):active {
        background: dt('button.info.active.background');
        border: 1px solid dt('button.info.active.border.color');
        color: dt('button.info.active.color');
    }

    .p-button-info:focus-visible {
        outline-color: dt('button.info.focus.ring.color');
        box-shadow: dt('button.info.focus.ring.shadow');
    }

    .p-button-warn {
        background: dt('button.warn.background');
        border: 1px solid dt('button.warn.border.color');
        color: dt('button.warn.color');
    }

    .p-button-warn:not(:disabled):hover {
        background: dt('button.warn.hover.background');
        border: 1px solid dt('button.warn.hover.border.color');
        color: dt('button.warn.hover.color');
    }

    .p-button-warn:not(:disabled):active {
        background: dt('button.warn.active.background');
        border: 1px solid dt('button.warn.active.border.color');
        color: dt('button.warn.active.color');
    }

    .p-button-warn:focus-visible {
        outline-color: dt('button.warn.focus.ring.color');
        box-shadow: dt('button.warn.focus.ring.shadow');
    }

    .p-button-help {
        background: dt('button.help.background');
        border: 1px solid dt('button.help.border.color');
        color: dt('button.help.color');
    }

    .p-button-help:not(:disabled):hover {
        background: dt('button.help.hover.background');
        border: 1px solid dt('button.help.hover.border.color');
        color: dt('button.help.hover.color');
    }

    .p-button-help:not(:disabled):active {
        background: dt('button.help.active.background');
        border: 1px solid dt('button.help.active.border.color');
        color: dt('button.help.active.color');
    }

    .p-button-help:focus-visible {
        outline-color: dt('button.help.focus.ring.color');
        box-shadow: dt('button.help.focus.ring.shadow');
    }

    .p-button-danger {
        background: dt('button.danger.background');
        border: 1px solid dt('button.danger.border.color');
        color: dt('button.danger.color');
    }

    .p-button-danger:not(:disabled):hover {
        background: dt('button.danger.hover.background');
        border: 1px solid dt('button.danger.hover.border.color');
        color: dt('button.danger.hover.color');
    }

    .p-button-danger:not(:disabled):active {
        background: dt('button.danger.active.background');
        border: 1px solid dt('button.danger.active.border.color');
        color: dt('button.danger.active.color');
    }

    .p-button-danger:focus-visible {
        outline-color: dt('button.danger.focus.ring.color');
        box-shadow: dt('button.danger.focus.ring.shadow');
    }

    .p-button-contrast {
        background: dt('button.contrast.background');
        border: 1px solid dt('button.contrast.border.color');
        color: dt('button.contrast.color');
    }

    .p-button-contrast:not(:disabled):hover {
        background: dt('button.contrast.hover.background');
        border: 1px solid dt('button.contrast.hover.border.color');
        color: dt('button.contrast.hover.color');
    }

    .p-button-contrast:not(:disabled):active {
        background: dt('button.contrast.active.background');
        border: 1px solid dt('button.contrast.active.border.color');
        color: dt('button.contrast.active.color');
    }

    .p-button-contrast:focus-visible {
        outline-color: dt('button.contrast.focus.ring.color');
        box-shadow: dt('button.contrast.focus.ring.shadow');
    }

    .p-button-outlined {
        background: transparent;
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):hover {
        background: dt('button.outlined.primary.hover.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):active {
        background: dt('button.outlined.primary.active.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined.p-button-secondary {
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):hover {
        background: dt('button.outlined.secondary.hover.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):active {
        background: dt('button.outlined.secondary.active.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-success {
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):hover {
        background: dt('button.outlined.success.hover.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):active {
        background: dt('button.outlined.success.active.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-info {
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):hover {
        background: dt('button.outlined.info.hover.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):active {
        background: dt('button.outlined.info.active.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-warn {
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):hover {
        background: dt('button.outlined.warn.hover.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):active {
        background: dt('button.outlined.warn.active.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-help {
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):hover {
        background: dt('button.outlined.help.hover.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):active {
        background: dt('button.outlined.help.active.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-danger {
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):hover {
        background: dt('button.outlined.danger.hover.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):active {
        background: dt('button.outlined.danger.active.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-contrast {
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):hover {
        background: dt('button.outlined.contrast.hover.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):active {
        background: dt('button.outlined.contrast.active.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-plain {
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):hover {
        background: dt('button.outlined.plain.hover.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):active {
        background: dt('button.outlined.plain.active.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-text {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):hover {
        background: dt('button.text.primary.hover.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):active {
        background: dt('button.text.primary.active.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text.p-button-secondary {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):hover {
        background: dt('button.text.secondary.hover.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):active {
        background: dt('button.text.secondary.active.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-success {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):hover {
        background: dt('button.text.success.hover.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):active {
        background: dt('button.text.success.active.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-info {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):hover {
        background: dt('button.text.info.hover.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):active {
        background: dt('button.text.info.active.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-warn {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):hover {
        background: dt('button.text.warn.hover.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):active {
        background: dt('button.text.warn.active.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-help {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):hover {
        background: dt('button.text.help.hover.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):active {
        background: dt('button.text.help.active.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-danger {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):hover {
        background: dt('button.text.danger.hover.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):active {
        background: dt('button.text.danger.active.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-contrast {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):hover {
        background: dt('button.text.contrast.hover.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):active {
        background: dt('button.text.contrast.active.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-plain {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):hover {
        background: dt('button.text.plain.hover.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):active {
        background: dt('button.text.plain.active.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-link {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.color');
    }

    .p-button-link:not(:disabled):hover {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.hover.color');
    }

    .p-button-link:not(:disabled):hover .p-button-label {
        text-decoration: underline;
    }

    .p-button-link:not(:disabled):active {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.active.color');
    }
`;function Jm(i){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(i)}function sl(i,e,t){return(e=cIe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function cIe(i){var e=dIe(i,"string");return Jm(e)=="symbol"?e:e+""}function dIe(i,e){if(Jm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var hIe={root:function(e){var t=e.instance,n=e.props;return["p-button p-component",sl(sl(sl(sl(sl(sl(sl(sl(sl({"p-button-icon-only":t.hasIcon&&!n.label&&!n.badge,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-button-loading":n.loading,"p-button-link":n.link||n.variant==="link"},"p-button-".concat(n.severity),n.severity),"p-button-raised",n.raised),"p-button-rounded",n.rounded),"p-button-text",n.text||n.variant==="text"),"p-button-outlined",n.outlined||n.variant==="outlined"),"p-button-sm",n.size==="small"),"p-button-lg",n.size==="large"),"p-button-plain",n.plain),"p-button-fluid",t.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(e){var t=e.props;return["p-button-icon",sl({},"p-button-icon-".concat(t.iconPos),t.label)]},label:"p-button-label"},fIe=Nn.extend({name:"button",style:uIe,classes:hIe}),pIe={name:"BaseButton",extends:fa,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:[String,Object],default:null},badge:{type:String,default:null},badgeClass:{type:[String,Object],default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:fIe,provide:function(){return{$pcButton:this,$parentInstance:this}}};function Ym(i){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(i)}function Js(i,e,t){return(e=gIe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function gIe(i){var e=mIe(i,"string");return Ym(e)=="symbol"?e:e+""}function mIe(i,e){if(Ym(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var e5={name:"Button",extends:pIe,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return Ae(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return $r(this.fluid)?!!this.$pcFluid:this.fluid},dataP:function(){return sa(Js(Js(Js(Js(Js(Js(Js(Js(Js(Js({},this.size,this.size),"icon-only",this.hasIcon&&!this.label&&!this.badge),"loading",this.loading),"fluid",this.hasFluid),"rounded",this.rounded),"raised",this.raised),"outlined",this.outlined||this.variant==="outlined"),"text",this.text||this.variant==="text"),"link",this.link||this.variant==="link"),"vertical",(this.iconPos==="top"||this.iconPos==="bottom")&&this.label))},dataIconP:function(){return sa(Js(Js({},this.iconPos,this.iconPos),this.size,this.size))},dataLabelP:function(){return sa(Js(Js({},this.size,this.size),"icon-only",this.hasIcon&&!this.label&&!this.badge))}},components:{SpinnerIcon:xC,Badge:XT},directives:{ripple:TC}},vIe=["data-p"],yIe=["data-p"];function bIe(i,e,t,n,r,s){var o=Ri("SpinnerIcon"),a=Ri("Badge"),l=pv("ripple");return i.asChild?on(i.$slots,"default",{key:1,class:$(i.cx("root")),a11yAttrs:s.a11yAttrs}):ri((I(),ge(no(i.as),Ae({key:0,class:i.cx("root"),"data-p":s.dataP},s.attrs),{default:Hn(function(){return[on(i.$slots,"default",{},function(){return[i.loading?on(i.$slots,"loadingicon",Ae({key:0,class:[i.cx("loadingIcon"),i.cx("icon")]},i.ptm("loadingIcon")),function(){return[i.loadingIcon?(I(),D("span",Ae({key:0,class:[i.cx("loadingIcon"),i.cx("icon"),i.loadingIcon]},i.ptm("loadingIcon")),null,16)):(I(),ge(o,Ae({key:1,class:[i.cx("loadingIcon"),i.cx("icon")],spin:""},i.ptm("loadingIcon")),null,16,["class"]))]}):on(i.$slots,"icon",Ae({key:1,class:[i.cx("icon")]},i.ptm("icon")),function(){return[i.icon?(I(),D("span",Ae({key:0,class:[i.cx("icon"),i.icon,i.iconClass],"data-p":s.dataIconP},i.ptm("icon")),null,16,vIe)):Y("",!0)]}),i.label?(I(),D("span",Ae({key:2,class:i.cx("label")},i.ptm("label"),{"data-p":s.dataLabelP}),kt(i.label),17,yIe)):Y("",!0),i.badge?(I(),ge(a,{key:3,value:i.badge,class:$(i.badgeClass),severity:i.badgeSeverity,unstyled:i.unstyled,pt:i.ptm("pcBadge")},null,8,["value","class","severity","unstyled","pt"])):Y("",!0)]})]}),_:3},16,["class","data-p"])),[[l]])}e5.render=bIe;var cF={name:"EyeIcon",extends:is};function CIe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z",fill:"currentColor"},null,-1)]),16)}cF.render=CIe;var dF={name:"RefreshIcon",extends:is};function wIe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z",fill:"currentColor"},null,-1)]),16)}dF.render=wIe;var hF={name:"SearchMinusIcon",extends:is};function _Ie(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z",fill:"currentColor"},null,-1)]),16)}hF.render=_Ie;var fF={name:"SearchPlusIcon",extends:is};function IIe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z",fill:"currentColor"},null,-1)]),16)}fF.render=IIe;var pF={name:"UndoIcon",extends:is};function EIe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z",fill:"currentColor"},null,-1)]),16)}pF.render=EIe;var SIe=Nn.extend({name:"focustrap-directive"}),TIe=hn.extend({style:SIe});function Zm(i){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(i)}function tV(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function nV(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(t),!0).forEach(function(n){xIe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):tV(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function xIe(i,e,t){return(e=PIe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function PIe(i){var e=RIe(i,"string");return Zm(e)=="symbol"?e:e+""}function RIe(i,e){if(Zm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var kIe=TIe.extend("focustrap",{mounted:function(e,t){var n=t.value||{},r=n.disabled;r||(this.createHiddenFocusableElements(e,t),this.bind(e,t),this.autoElementFocus(e,t)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,t){var n=t.value||{},r=n.disabled;r&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,t){var n=this,r=t.value||{},s=r.onFocusIn,o=r.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(a){a.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var u=function(h){var f=mA(h)?mA(h,n.getComputedSelector(e.$_pfocustrap_focusableselector))?h:Jh(e,n.getComputedSelector(e.$_pfocustrap_focusableselector)):Jh(h);return cn(f)?f:h.nextSibling&&u(h.nextSibling)};xr(u(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(a){return s&&s(a)},e.$_pfocustrap_focusoutlistener=function(a){return o&&o(a)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:nV(nV({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,t){var n=t.value||{},r=n.autoFocusSelector,s=r===void 0?"":r,o=n.firstFocusableSelector,a=o===void 0?"":o,l=n.autoFocus,u=l===void 0?!1:l,c=Jh(e,"[autofocus]".concat(this.getComputedSelector(s)));u&&!c&&(c=Jh(e,this.getComputedSelector(a))),xr(c)},onFirstHiddenElementFocus:function(e){var t,n=e.currentTarget,r=e.relatedTarget,s=r===n.$_pfocustrap_lasthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(r))?Jh(n.parentElement,this.getComputedSelector(n.$_pfocustrap_focusableselector)):n.$_pfocustrap_lasthiddenfocusableelement;xr(s)},onLastHiddenElementFocus:function(e){var t,n=e.currentTarget,r=e.relatedTarget,s=r===n.$_pfocustrap_firsthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(r))?VM(n.parentElement,this.getComputedSelector(n.$_pfocustrap_focusableselector)):n.$_pfocustrap_firsthiddenfocusableelement;xr(s)},createHiddenFocusableElements:function(e,t){var n=this,r=t.value||{},s=r.tabIndex,o=s===void 0?0:s,a=r.firstFocusableSelector,l=a===void 0?"":a,u=r.lastFocusableSelector,c=u===void 0?"":u,h=function(_){return om("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:o,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:_==null?void 0:_.bind(n)})},f=h(this.onFirstHiddenElementFocus),m=h(this.onLastHiddenElementFocus);f.$_pfocustrap_lasthiddenfocusableelement=m,f.$_pfocustrap_focusableselector=l,f.setAttribute("data-pc-section","firstfocusableelement"),m.$_pfocustrap_firsthiddenfocusableelement=f,m.$_pfocustrap_focusableselector=c,m.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(f),e.append(m)}}});function AIe(){TCe({variableName:JM("scrollbar.width").name})}function iV(){PCe({variableName:JM("scrollbar.width").name})}var VIe=`
    .p-image-mask {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-image-preview {
        position: relative;
        display: inline-flex;
        line-height: 0;
    }

    .p-image-preview-mask {
        position: absolute;
        inset-inline-start: 0;
        inset-block-start: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s;
        border: 0 none;
        padding: 0;
        cursor: pointer;
        background: transparent;
        color: dt('image.preview.mask.color');
        transition: background dt('image.transition.duration');
    }

    .p-image-preview:hover > .p-image-preview-mask {
        opacity: 1;
        cursor: pointer;
        background: dt('image.preview.mask.background');
    }

    .p-image-preview-icon {
        font-size: dt('image.preview.icon.size');
        width: dt('image.preview.icon.size');
        height: dt('image.preview.icon.size');
    }

    .p-image-toolbar {
        position: absolute;
        inset-block-start: dt('image.toolbar.position.top');
        inset-inline-end: dt('image.toolbar.position.right');
        inset-inline-start: dt('image.toolbar.position.left');
        inset-block-end: dt('image.toolbar.position.bottom');
        display: flex;
        z-index: 1;
        padding: dt('image.toolbar.padding');
        background: dt('image.toolbar.background');
        backdrop-filter: blur(dt('image.toolbar.blur'));
        border-color: dt('image.toolbar.border.color');
        border-style: solid;
        border-width: dt('image.toolbar.border.width');
        border-radius: dt('image.toolbar.border.radius');
        gap: dt('image.toolbar.gap');
    }

    .p-image-action {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        color: dt('image.action.color');
        background: transparent;
        width: dt('image.action.size');
        height: dt('image.action.size');
        margin: 0;
        padding: 0;
        border: 0 none;
        cursor: pointer;
        user-select: none;
        border-radius: dt('image.action.border.radius');
        outline-color: transparent;
        transition:
            background dt('image.transition.duration'),
            color dt('image.transition.duration'),
            outline-color dt('image.transition.duration'),
            box-shadow dt('image.transition.duration');
    }

    .p-image-action:hover {
        color: dt('image.action.hover.color');
        background: dt('image.action.hover.background');
    }

    .p-image-action:focus-visible {
        box-shadow: dt('image.action.focus.ring.shadow');
        outline: dt('image.action.focus.ring.width') dt('image.action.focus.ring.style') dt('image.action.focus.ring.color');
        outline-offset: dt('image.action.focus.ring.offset');
    }

    .p-image-action .p-icon {
        font-size: dt('image.action.icon.size');
        width: dt('image.action.icon.size');
        height: dt('image.action.icon.size');
    }

    .p-image-action.p-disabled {
        pointer-events: auto;
    }

    .p-image-original {
        transition: transform 0.15s;
        max-width: 100vw;
        max-height: 100vh;
    }

    .p-image-original-enter-active {
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-image-original-leave-active {
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .p-image-original-enter-from,
    .p-image-original-leave-to {
        opacity: 0;
        transform: scale(0.7);
    }
`,LIe={root:function(e){var t=e.props;return["p-image p-component",{"p-image-preview":t.preview}]},previewMask:"p-image-preview-mask",previewIcon:"p-image-preview-icon",mask:"p-image-mask p-overlay-mask p-overlay-mask-enter",toolbar:"p-image-toolbar",rotateRightButton:"p-image-action p-image-rotate-right-button",rotateLeftButton:"p-image-action p-image-rotate-left-button",zoomOutButton:function(e){var t=e.instance;return["p-image-action p-image-zoom-out-button",{"p-disabled":t.isZoomOutDisabled}]},zoomInButton:function(e){var t=e.instance;return["p-image-action p-image-zoom-in-button",{"p-disabled":t.isZoomInDisabled}]},closeButton:"p-image-action p-image-close-button",original:"p-image-original"},OIe=Nn.extend({name:"image",style:VIe,classes:LIe}),DIe={name:"BaseImage",extends:fa,props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null},indicatorIcon:{type:String,default:void 0},previewIcon:{type:String,default:void 0},zoomInDisabled:{type:Boolean,default:!1},zoomOutDisabled:{type:Boolean,default:!1}},style:OIe,provide:function(){return{$pcImage:this,$parentInstance:this}}},gF={name:"Image",extends:DIe,inheritAttrs:!1,emits:["show","hide","error"],mask:null,data:function(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount:function(){this.mask&&uo.clear(this.container)},methods:{maskRef:function(e){this.mask=e},toolbarRef:function(e){this.toolbarRef=e},onImageClick:function(){var e=this;this.preview&&(AIe(),this.maskVisible=!0,setTimeout(function(){e.previewVisible=!0},25))},onPreviewImageClick:function(){this.previewClick=!0},onMaskClick:function(e){var t=FCe(e.target,"data-pc-section-group","action")||e.target.closest('[data-pc-section-group="action"]');!this.previewClick&&!t&&(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1},onMaskKeydown:function(e){var t=this;switch(e.code){case"Escape":this.hidePreview(),setTimeout(function(){xr(t.$refs.previewButton)},200),e.preventDefault();break}},onError:function(){this.$emit("error")},rotateRight:function(){this.rotate+=90,this.previewClick=!0},rotateLeft:function(){this.rotate-=90,this.previewClick=!0},zoomIn:function(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut:function(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter:function(){uo.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter:function(){this.focus(),this.$emit("show")},onBeforeLeave:function(){!this.isUnstyled&&Om(this.mask,"p-overlay-mask-leave")},onLeave:function(){iV(),this.$emit("hide")},onAfterLeave:function(e){uo.clear(e),this.maskVisible=!1},focus:function(){var e=this.mask.querySelector("[autofocus]");e&&e.focus()},hidePreview:function(){this.previewVisible=!1,this.rotate=0,this.scale=1,iV()}},computed:{containerClass:function(){return[this.cx("root"),this.class]},rotateClass:function(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle:function(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},isZoomInDisabled:function(){return this.zoomInDisabled||this.scale>=1.5},isZoomOutDisabled:function(){return this.zoomOutDisabled||this.scale<=.5},rightAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},zoomImageAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomImage:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:EC,EyeIcon:cF,RefreshIcon:dF,UndoIcon:pF,SearchMinusIcon:hF,SearchPlusIcon:fF,TimesIcon:SC},directives:{focustrap:kIe}};function Xm(i){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(i)}function rV(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Jy(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(t),!0).forEach(function(n){NIe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):rV(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function NIe(i,e,t){return(e=MIe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function MIe(i){var e=FIe(i,"string");return Xm(e)=="symbol"?e:e+""}function FIe(i,e){if(Xm(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var $Ie=["aria-label"],BIe=["aria-modal"],qIe=["aria-label"],UIe=["aria-label"],HIe=["disabled","aria-label"],zIe=["disabled","aria-label"],jIe=["aria-label"],QIe=["src"];function WIe(i,e,t,n,r,s){var o=Ri("RefreshIcon"),a=Ri("UndoIcon"),l=Ri("SearchMinusIcon"),u=Ri("SearchPlusIcon"),c=Ri("TimesIcon"),h=Ri("Portal"),f=pv("focustrap");return I(),D("span",Ae({class:s.containerClass,style:i.style},i.ptmi("root")),[on(i.$slots,"image",{errorCallback:s.onError},function(){return[te("img",Ae({style:i.imageStyle,class:i.imageClass,onError:e[0]||(e[0]=function(){return s.onError&&s.onError.apply(s,arguments)})},Jy(Jy({},i.$attrs),i.ptm("image"))),null,16)]}),i.preview?(I(),D("button",Ae({key:0,ref:"previewButton","aria-label":s.zoomImageAriaLabel,type:"button",class:i.cx("previewMask"),onClick:e[1]||(e[1]=function(){return s.onImageClick&&s.onImageClick.apply(s,arguments)})},Jy(Jy({},i.previewButtonProps),i.ptm("previewMask"))),[on(i.$slots,i.$slots.previewicon?"previewicon":"indicatoricon",{},function(){return[(I(),ge(no(i.previewIcon||i.indicatorIcon?"i":"EyeIcon"),Ae({class:[i.cx("previewIcon"),i.previewIcon]},i.ptm("previewIcon")),null,16,["class"]))]})],16,$Ie)):Y("",!0),he(h,null,{default:Hn(function(){return[r.maskVisible?ri((I(),D("div",Ae({key:0,ref:s.maskRef,role:"dialog",class:i.cx("mask"),"aria-modal":r.maskVisible,onClick:e[8]||(e[8]=function(){return s.onMaskClick&&s.onMaskClick.apply(s,arguments)}),onKeydown:e[9]||(e[9]=function(){return s.onMaskKeydown&&s.onMaskKeydown.apply(s,arguments)})},i.ptm("mask")),[te("div",Ae({class:i.cx("toolbar")},i.ptm("toolbar")),[te("button",Ae({class:i.cx("rotateRightButton"),onClick:e[2]||(e[2]=function(){return s.rotateRight&&s.rotateRight.apply(s,arguments)}),type:"button","aria-label":s.rightAriaLabel},i.ptm("rotateRightButton"),{"data-pc-group-section":"action"}),[on(i.$slots,"refresh",{},function(){return[he(o,xa(fc(i.ptm("rotateRightIcon"))),null,16)]})],16,qIe),te("button",Ae({class:i.cx("rotateLeftButton"),onClick:e[3]||(e[3]=function(){return s.rotateLeft&&s.rotateLeft.apply(s,arguments)}),type:"button","aria-label":s.leftAriaLabel},i.ptm("rotateLeftButton"),{"data-pc-group-section":"action"}),[on(i.$slots,"undo",{},function(){return[he(a,xa(fc(i.ptm("rotateLeftIcon"))),null,16)]})],16,UIe),te("button",Ae({class:i.cx("zoomOutButton"),onClick:e[4]||(e[4]=function(){return s.zoomOut&&s.zoomOut.apply(s,arguments)}),type:"button",disabled:s.isZoomOutDisabled,"aria-label":s.zoomOutAriaLabel},i.ptm("zoomOutButton"),{"data-pc-group-section":"action"}),[on(i.$slots,"zoomout",{},function(){return[he(l,xa(fc(i.ptm("zoomOutIcon"))),null,16)]})],16,HIe),te("button",Ae({class:i.cx("zoomInButton"),onClick:e[5]||(e[5]=function(){return s.zoomIn&&s.zoomIn.apply(s,arguments)}),type:"button",disabled:s.isZoomInDisabled,"aria-label":s.zoomInAriaLabel},i.ptm("zoomInButton"),{"data-pc-group-section":"action"}),[on(i.$slots,"zoomin",{},function(){return[he(u,xa(fc(i.ptm("zoomInIcon"))),null,16)]})],16,zIe),te("button",Ae({class:i.cx("closeButton"),type:"button",onClick:e[6]||(e[6]=function(){return s.hidePreview&&s.hidePreview.apply(s,arguments)}),"aria-label":s.closeAriaLabel,autofocus:""},i.ptm("closeButton"),{"data-pc-group-section":"action"}),[on(i.$slots,"close",{},function(){return[he(c,xa(fc(i.ptm("closeIcon"))),null,16)]})],16,jIe)],16),he(p7,Ae({name:"p-image-original",onBeforeEnter:s.onBeforeEnter,onEnter:s.onEnter,onLeave:s.onLeave,onBeforeLeave:s.onBeforeLeave,onAfterLeave:s.onAfterLeave},i.ptm("transition")),{default:Hn(function(){return[r.previewVisible?(I(),D("div",xa(Ae({key:0},i.ptm("originalContainer"))),[on(i.$slots,i.$slots.original?"original":"preview",{class:$(i.cx("original")),style:Ft(s.imagePreviewStyle),previewCallback:s.onPreviewImageClick},function(){return[te("img",Ae({src:i.$attrs.src,class:i.cx("original"),style:s.imagePreviewStyle,onClick:e[7]||(e[7]=function(){return s.onPreviewImageClick&&s.onPreviewImageClick.apply(s,arguments)})},i.ptm("original")),null,16,QIe)]})],16)):Y("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],16,BIe)),[[f]]):Y("",!0)]}),_:3})],16)}gF.render=WIe;var mF={name:"BarsIcon",extends:is};function GIe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z",fill:"currentColor"},null,-1)]),16)}mF.render=GIe;var KIe=`
    .p-menubar {
        display: flex;
        align-items: center;
        background: dt('menubar.background');
        border: 1px solid dt('menubar.border.color');
        border-radius: dt('menubar.border.radius');
        color: dt('menubar.color');
        padding: dt('menubar.padding');
        gap: dt('menubar.gap');
    }

    .p-menubar-start,
    .p-megamenu-end {
        display: flex;
        align-items: center;
    }

    .p-menubar-root-list,
    .p-menubar-submenu {
        display: flex;
        margin: 0;
        padding: 0;
        list-style: none;
        outline: 0 none;
    }

    .p-menubar-root-list {
        align-items: center;
        flex-wrap: wrap;
        gap: dt('menubar.gap');
    }

    .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content {
        border-radius: dt('menubar.base.item.border.radius');
    }

    .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {
        padding: dt('menubar.base.item.padding');
    }

    .p-menubar-item-content {
        transition:
            background dt('menubar.transition.duration'),
            color dt('menubar.transition.duration');
        border-radius: dt('menubar.item.border.radius');
        color: dt('menubar.item.color');
    }

    .p-menubar-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('menubar.item.padding');
        gap: dt('menubar.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-menubar-item-label {
        line-height: 1;
    }

    .p-menubar-item-icon {
        color: dt('menubar.item.icon.color');
    }

    .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.color');
        margin-left: auto;
        font-size: dt('menubar.submenu.icon.size');
        width: dt('menubar.submenu.icon.size');
        height: dt('menubar.submenu.icon.size');
    }

    .p-menubar-submenu .p-menubar-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-menubar-item.p-focus > .p-menubar-item-content {
        color: dt('menubar.item.focus.color');
        background: dt('menubar.item.focus.background');
    }

    .p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-item-icon {
        color: dt('menubar.item.icon.focus.color');
    }

    .p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.focus.color');
    }

    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover {
        color: dt('menubar.item.focus.color');
        background: dt('menubar.item.focus.background');
    }

    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-item-icon {
        color: dt('menubar.item.icon.focus.color');
    }

    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.focus.color');
    }

    .p-menubar-item-active > .p-menubar-item-content {
        color: dt('menubar.item.active.color');
        background: dt('menubar.item.active.background');
    }

    .p-menubar-item-active > .p-menubar-item-content .p-menubar-item-icon {
        color: dt('menubar.item.icon.active.color');
    }

    .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.active.color');
    }

    .p-menubar-submenu {
        display: none;
        position: absolute;
        min-width: 12.5rem;
        z-index: 1;
        background: dt('menubar.submenu.background');
        border: 1px solid dt('menubar.submenu.border.color');
        border-radius: dt('menubar.submenu.border.radius');
        box-shadow: dt('menubar.submenu.shadow');
        color: dt('menubar.submenu.color');
        flex-direction: column;
        padding: dt('menubar.submenu.padding');
        gap: dt('menubar.submenu.gap');
    }

    .p-menubar-submenu .p-menubar-separator {
        border-block-start: 1px solid dt('menubar.separator.border.color');
    }

    .p-menubar-submenu .p-menubar-item {
        position: relative;
    }

    .p-menubar-submenu > .p-menubar-item-active > .p-menubar-submenu {
        display: block;
        left: 100%;
        top: 0;
    }

    .p-menubar-end {
        margin-left: auto;
        align-self: center;
    }

    .p-menubar-end:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-menubar-button {
        display: none;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        width: dt('menubar.mobile.button.size');
        height: dt('menubar.mobile.button.size');
        position: relative;
        color: dt('menubar.mobile.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('menubar.mobile.button.border.radius');
        transition:
            background dt('menubar.transition.duration'),
            color dt('menubar.transition.duration'),
            outline-color dt('menubar.transition.duration');
        outline-color: transparent;
    }

    .p-menubar-button:hover {
        color: dt('menubar.mobile.button.hover.color');
        background: dt('menubar.mobile.button.hover.background');
    }

    .p-menubar-button:focus-visible {
        box-shadow: dt('menubar.mobile.button.focus.ring.shadow');
        outline: dt('menubar.mobile.button.focus.ring.width') dt('menubar.mobile.button.focus.ring.style') dt('menubar.mobile.button.focus.ring.color');
        outline-offset: dt('menubar.mobile.button.focus.ring.offset');
    }

    .p-menubar-mobile {
        position: relative;
    }

    .p-menubar-mobile .p-menubar-button {
        display: flex;
    }

    .p-menubar-mobile .p-menubar-root-list {
        position: absolute;
        display: none;
        width: 100%;
        flex-direction: column;
        top: 100%;
        left: 0;
        z-index: 1;
        padding: dt('menubar.submenu.padding');
        background: dt('menubar.submenu.background');
        border: 1px solid dt('menubar.submenu.border.color');
        box-shadow: dt('menubar.submenu.shadow');
        border-radius: dt('menubar.submenu.border.radius');
        gap: dt('menubar.submenu.gap');
    }

    .p-menubar-mobile .p-menubar-root-list:dir(rtl) {
        left: auto;
        right: 0;
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {
        padding: dt('menubar.item.padding');
    }

    .p-menubar-mobile-active .p-menubar-root-list {
        display: flex;
    }

    .p-menubar-mobile .p-menubar-root-list .p-menubar-item {
        width: 100%;
        position: static;
    }

    .p-menubar-mobile .p-menubar-root-list .p-menubar-separator {
        border-block-start: 1px solid dt('menubar.separator.border.color');
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon {
        margin-left: auto;
        transition: transform 0.2s;
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon:dir(rtl),
    .p-menubar-mobile .p-menubar-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
        transform: rotate(-180deg);
    }

    .p-menubar-mobile .p-menubar-submenu .p-menubar-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-menubar-mobile .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
        transform: rotate(-90deg);
    }

    .p-menubar-mobile .p-menubar-submenu {
        width: 100%;
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('menubar.submenu.mobile.indent');
        padding-inline-end: 0;
    }
`,JIe={submenu:function(e){var t=e.instance,n=e.processedItem;return{display:t.isItemActive(n)?"flex":"none"}}},YIe={root:function(e){var t=e.instance;return["p-menubar p-component",{"p-menubar-mobile":t.queryMatches,"p-menubar-mobile-active":t.mobileActive}]},start:"p-menubar-start",button:"p-menubar-button",rootList:"p-menubar-root-list",item:function(e){var t=e.instance,n=e.processedItem;return["p-menubar-item",{"p-menubar-item-active":t.isItemActive(n),"p-focus":t.isItemFocused(n),"p-disabled":t.isItemDisabled(n)}]},itemContent:"p-menubar-item-content",itemLink:"p-menubar-item-link",itemIcon:"p-menubar-item-icon",itemLabel:"p-menubar-item-label",submenuIcon:"p-menubar-submenu-icon",submenu:"p-menubar-submenu",separator:"p-menubar-separator",end:"p-menubar-end"},ZIe=Nn.extend({name:"menubar",style:KIe,classes:YIe,inlineStyles:JIe}),vF={name:"AngleDownIcon",extends:is};function XIe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"},null,-1)]),16)}vF.render=XIe;var yF={name:"AngleRightIcon",extends:is};function eEe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"},null,-1)]),16)}yF.render=eEe;var tEe={name:"BaseMenubar",extends:fa,props:{model:{type:Array,default:null},buttonProps:{type:null,default:null},breakpoint:{type:String,default:"960px"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ZIe,provide:function(){return{$pcMenubar:this,$parentInstance:this}}},bF={name:"MenubarSub",hostName:"Menubar",extends:fa,emits:["item-mouseenter","item-click","item-mousemove"],props:{items:{type:Array,default:null},root:{type:Boolean,default:!1},popup:{type:Boolean,default:!1},mobileActive:{type:Boolean,default:!1},templates:{type:Object,default:null},level:{type:Number,default:0},menuId:{type:String,default:null},focusedItemId:{type:String,default:null},activeItemPath:{type:Object,default:null}},list:null,methods:{getItemId:function(e){return"".concat(this.menuId,"_").concat(e.key)},getItemKey:function(e){return this.getItemId(e)},getItemProp:function(e,t,n){return e&&e.item?Ds(e.item[t],n):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},getItemLabelId:function(e){return"".concat(this.menuId,"_").concat(e.key,"_label")},getPTOptions:function(e,t,n){return this.ptm(n,{context:{item:e.item,index:t,active:this.isItemActive(e),focused:this.isItemFocused(e),disabled:this.isItemDisabled(e),level:this.level}})},isItemActive:function(e){return this.activeItemPath.some(function(t){return t.key===e.key})},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemFocused:function(e){return this.focusedItemId===this.getItemId(e)},isItemGroup:function(e){return cn(e.items)},onItemClick:function(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.$emit("item-click",{originalEvent:e,processedItem:t,isFocus:!0})},onItemMouseEnter:function(e,t){this.$emit("item-mouseenter",{originalEvent:e,processedItem:t})},onItemMouseMove:function(e,t){this.$emit("item-mousemove",{originalEvent:e,processedItem:t})},getAriaPosInset:function(e){return e-this.calculateAriaSetSize.slice(0,e).length+1},getMenuItemProps:function(e,t){return{action:Ae({class:this.cx("itemLink"),tabindex:-1},this.getPTOptions(e,t,"itemLink")),icon:Ae({class:[this.cx("itemIcon"),this.getItemProp(e,"icon")]},this.getPTOptions(e,t,"itemIcon")),label:Ae({class:this.cx("itemLabel")},this.getPTOptions(e,t,"itemLabel")),submenuicon:Ae({class:this.cx("submenuIcon")},this.getPTOptions(e,t,"submenuIcon"))}}},computed:{calculateAriaSetSize:function(){var e=this;return this.items.filter(function(t){return e.isItemVisible(t)&&e.getItemProp(t,"separator")})},getAriaSetSize:function(){var e=this;return this.items.filter(function(t){return e.isItemVisible(t)&&!e.getItemProp(t,"separator")}).length}},components:{AngleRightIcon:yF,AngleDownIcon:vF},directives:{ripple:TC}},nEe=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-setsize","aria-posinset","data-p-active","data-p-focused","data-p-disabled"],iEe=["onClick","onMouseenter","onMousemove"],rEe=["href","target"],sEe=["id"],oEe=["id"];function aEe(i,e,t,n,r,s){var o=Ri("MenubarSub",!0),a=pv("ripple");return I(),D("ul",Ae({class:t.level===0?i.cx("rootList"):i.cx("submenu")},t.level===0?i.ptm("rootList"):i.ptm("submenu")),[(I(!0),D(xt,null,en(t.items,function(l,u){return I(),D(xt,{key:s.getItemKey(l)},[s.isItemVisible(l)&&!s.getItemProp(l,"separator")?(I(),D("li",Ae({key:0,id:s.getItemId(l),style:s.getItemProp(l,"style"),class:[i.cx("item",{processedItem:l}),s.getItemProp(l,"class")],role:"menuitem","aria-label":s.getItemLabel(l),"aria-disabled":s.isItemDisabled(l)||void 0,"aria-expanded":s.isItemGroup(l)?s.isItemActive(l):void 0,"aria-haspopup":s.isItemGroup(l)&&!s.getItemProp(l,"to")?"menu":void 0,"aria-setsize":s.getAriaSetSize,"aria-posinset":s.getAriaPosInset(u)},{ref_for:!0},s.getPTOptions(l,u,"item"),{"data-p-active":s.isItemActive(l),"data-p-focused":s.isItemFocused(l),"data-p-disabled":s.isItemDisabled(l)}),[te("div",Ae({class:i.cx("itemContent"),onClick:function(h){return s.onItemClick(h,l)},onMouseenter:function(h){return s.onItemMouseEnter(h,l)},onMousemove:function(h){return s.onItemMouseMove(h,l)}},{ref_for:!0},s.getPTOptions(l,u,"itemContent")),[t.templates.item?(I(),ge(no(t.templates.item),{key:1,item:l.item,root:t.root,hasSubmenu:s.getItemProp(l,"items"),label:s.getItemLabel(l),props:s.getMenuItemProps(l,u)},null,8,["item","root","hasSubmenu","label","props"])):ri((I(),D("a",Ae({key:0,href:s.getItemProp(l,"url"),class:i.cx("itemLink"),target:s.getItemProp(l,"target"),tabindex:"-1"},{ref_for:!0},s.getPTOptions(l,u,"itemLink")),[t.templates.itemicon?(I(),ge(no(t.templates.itemicon),{key:0,item:l.item,class:$(i.cx("itemIcon"))},null,8,["item","class"])):s.getItemProp(l,"icon")?(I(),D("span",Ae({key:1,class:[i.cx("itemIcon"),s.getItemProp(l,"icon")]},{ref_for:!0},s.getPTOptions(l,u,"itemIcon")),null,16)):Y("",!0),te("span",Ae({id:s.getItemLabelId(l),class:i.cx("itemLabel")},{ref_for:!0},s.getPTOptions(l,u,"itemLabel")),kt(s.getItemLabel(l)),17,sEe),s.getItemProp(l,"items")?(I(),D(xt,{key:2},[t.templates.submenuicon?(I(),ge(no(t.templates.submenuicon),{key:0,root:t.root,active:s.isItemActive(l),class:$(i.cx("submenuIcon"))},null,8,["root","active","class"])):(I(),ge(no(t.root?"AngleDownIcon":"AngleRightIcon"),Ae({key:1,class:i.cx("submenuIcon")},{ref_for:!0},s.getPTOptions(l,u,"submenuIcon")),null,16,["class"]))],64)):Y("",!0)],16,rEe)),[[a]])],16,iEe),s.isItemVisible(l)&&s.isItemGroup(l)?(I(),ge(o,{key:0,id:s.getItemId(l)+"_list",menuId:t.menuId,role:"menu",style:Ft(i.sx("submenu",!0,{processedItem:l})),focusedItemId:t.focusedItemId,items:l.items,mobileActive:t.mobileActive,activeItemPath:t.activeItemPath,templates:t.templates,level:t.level+1,"aria-labelledby":s.getItemLabelId(l),pt:i.pt,unstyled:i.unstyled,onItemClick:e[0]||(e[0]=function(c){return i.$emit("item-click",c)}),onItemMouseenter:e[1]||(e[1]=function(c){return i.$emit("item-mouseenter",c)}),onItemMousemove:e[2]||(e[2]=function(c){return i.$emit("item-mousemove",c)})},null,8,["id","menuId","style","focusedItemId","items","mobileActive","activeItemPath","templates","level","aria-labelledby","pt","unstyled"])):Y("",!0)],16,nEe)):Y("",!0),s.isItemVisible(l)&&s.getItemProp(l,"separator")?(I(),D("li",Ae({key:1,id:s.getItemId(l),class:[i.cx("separator"),s.getItemProp(l,"class")],style:s.getItemProp(l,"style"),role:"separator"},{ref_for:!0},i.ptm("separator")),null,16,oEe)):Y("",!0)],64)}),128))],16)}bF.render=aEe;var CF={name:"Menubar",extends:tEe,inheritAttrs:!1,emits:["focus","blur"],matchMediaListener:null,data:function(){return{mobileActive:!1,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],dirty:!1,query:null,queryMatches:!1}},watch:{activeItemPath:function(e){cn(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())}},outsideClickListener:null,container:null,menubar:null,mounted:function(){this.bindMatchMediaListener()},beforeUnmount:function(){this.mobileActive=!1,this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),this.container&&uo.clear(this.container),this.container=null},methods:{getItemProp:function(e,t){return e?Ds(e[t]):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemGroup:function(e){return cn(this.getItemProp(e,"items"))},isItemSeparator:function(e){return this.getItemProp(e,"separator")},getProccessedItemLabel:function(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup:function(e){return e&&cn(e.items)},toggle:function(e){var t=this;this.mobileActive?(this.mobileActive=!1,uo.clear(this.menubar),this.hide()):(this.mobileActive=!0,uo.set("menu",this.menubar,this.$primevue.config.zIndex.menu),setTimeout(function(){t.show()},1)),this.bindOutsideClickListener(),e.preventDefault()},show:function(){xr(this.menubar)},hide:function(e,t){var n=this;this.mobileActive&&(this.mobileActive=!1,setTimeout(function(){xr(n.$refs.menubutton)},0)),this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},t&&xr(this.menubar),this.dirty=!1},onFocus:function(e){this.focused=!0,this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:this.findFirstFocusedItemIndex(),level:0,parentKey:""},this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.dirty=!1,this.$emit("blur",e)},onKeyDown:function(e){var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&$M(e.key)&&this.searchItems(e,e.key);break}},onItemChange:function(e,t){var n=e.processedItem,r=e.isFocus;if(!$r(n)){var s=n.index,o=n.key,a=n.level,l=n.parentKey,u=n.items,c=cn(u),h=this.activeItemPath.filter(function(f){return f.parentKey!==l&&f.parentKey!==o});c&&h.push(n),this.focusedItemInfo={index:s,level:a,parentKey:l},c&&(this.dirty=!0),r&&xr(this.menubar),!(t==="hover"&&this.queryMatches)&&(this.activeItemPath=h)}},onItemClick:function(e){var t=e.originalEvent,n=e.processedItem,r=this.isProccessedItemGroup(n),s=$r(n.parent),o=this.isSelected(n);if(o){var a=n.index,l=n.key,u=n.level,c=n.parentKey;this.activeItemPath=this.activeItemPath.filter(function(f){return l!==f.key&&l.startsWith(f.key)}),this.focusedItemInfo={index:a,level:u,parentKey:c},this.dirty=!s,xr(this.menubar)}else if(r)this.onItemChange(e);else{var h=s?n:this.activeItemPath.find(function(f){return f.parentKey===""});this.hide(t),this.changeFocusedItemIndex(t,h?h.index:-1),this.mobileActive=!1,xr(this.menubar)}},onItemMouseEnter:function(e){this.dirty&&this.onItemChange(e,"hover")},onItemMouseMove:function(e){this.focused&&this.changeFocusedItemIndex(e,e.processedItem.index)},menuButtonClick:function(e){this.toggle(e)},menuButtonKeydown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&this.menuButtonClick(e)},onArrowDownKey:function(e){var t=this.visibleItems[this.focusedItemInfo.index],n=t?$r(t.parent):null;if(n){var r=this.isProccessedItemGroup(t);r&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowRightKey(e))}else{var s=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,s)}e.preventDefault()},onArrowUpKey:function(e){var t=this,n=this.visibleItems[this.focusedItemInfo.index],r=$r(n.parent);if(r){var s=this.isProccessedItemGroup(n);if(s){this.onItemChange({originalEvent:e,processedItem:n}),this.focusedItemInfo={index:-1,parentKey:n.key};var o=this.findLastItemIndex();this.changeFocusedItemIndex(e,o)}}else{var a=this.activeItemPath.find(function(u){return u.key===n.parentKey});if(this.focusedItemInfo.index===0)this.focusedItemInfo={index:-1,parentKey:a?a.parentKey:""},this.searchValue="",this.onArrowLeftKey(e),this.activeItemPath=this.activeItemPath.filter(function(u){return u.parentKey!==t.focusedItemInfo.parentKey});else{var l=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,l)}}e.preventDefault()},onArrowLeftKey:function(e){var t=this,n=this.visibleItems[this.focusedItemInfo.index],r=n?this.activeItemPath.find(function(o){return o.key===n.parentKey}):null;if(r)this.onItemChange({originalEvent:e,processedItem:r}),this.activeItemPath=this.activeItemPath.filter(function(o){return o.parentKey!==t.focusedItemInfo.parentKey}),e.preventDefault();else{var s=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,s),e.preventDefault()}},onArrowRightKey:function(e){var t=this.visibleItems[this.focusedItemInfo.index],n=t?this.activeItemPath.find(function(o){return o.key===t.parentKey}):null;if(n){var r=this.isProccessedItemGroup(t);r&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowDownKey(e))}else{var s=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,s),e.preventDefault()}},onHomeKey:function(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey:function(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey:function(e){if(this.focusedItemInfo.index!==-1){var t=bu(this.menubar,'li[id="'.concat("".concat(this.focusedItemId),'"]')),n=t&&bu(t,'a[data-pc-section="itemlink"]');n?n.click():t&&t.click();var r=this.visibleItems[this.focusedItemInfo.index],s=this.isProccessedItemGroup(r);!s&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},onEscapeKey:function(e){if(this.focusedItemInfo.level!==0){var t=this.focusedItemInfo;this.hide(e,!1),this.focusedItemInfo={index:Number(t.parentKey.split("_")[0]),level:0,parentKey:""}}e.preventDefault()},onTabKey:function(e){if(this.focusedItemInfo.index!==-1){var t=this.visibleItems[this.focusedItemInfo.index],n=this.isProccessedItemGroup(t);!n&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){var n=e.container&&!e.container.contains(t.target),r=!(e.target&&(e.target===t.target||e.target.contains(t.target)));n&&r&&e.hide()},document.addEventListener("click",this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener,!0),this.outsideClickListener=null)},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(t){JT()||e.hide(t,!0),e.mobileActive=!1},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindMatchMediaListener:function(){var e=this;if(!this.matchMediaListener){var t=matchMedia("(max-width: ".concat(this.breakpoint,")"));this.query=t,this.queryMatches=t.matches,this.matchMediaListener=function(){e.queryMatches=t.matches,e.mobileActive=!1},this.query.addEventListener("change",this.matchMediaListener)}},unbindMatchMediaListener:function(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)},isItemMatched:function(e){var t;return this.isValidItem(e)&&((t=this.getProccessedItemLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase()))},isValidItem:function(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)},isValidSelectedItem:function(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected:function(e){return this.activeItemPath.some(function(t){return t.key===e.key})},findFirstItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(t){return e.isValidItem(t)})},findLastItemIndex:function(){var e=this;return U0(this.visibleItems,function(t){return e.isValidItem(t)})},findNextItemIndex:function(e){var t=this,n=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(function(r){return t.isValidItem(r)}):-1;return n>-1?n+e+1:e},findPrevItemIndex:function(e){var t=this,n=e>0?U0(this.visibleItems.slice(0,e),function(r){return t.isValidItem(r)}):-1;return n>-1?n:e},findSelectedItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(t){return e.isValidSelectedItem(t)})},findFirstFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems:function(e,t){var n=this;this.searchValue=(this.searchValue||"")+t;var r=-1,s=!1;return this.focusedItemInfo.index!==-1?(r=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(function(o){return n.isItemMatched(o)}),r=r===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(function(o){return n.isItemMatched(o)}):r+this.focusedItemInfo.index):r=this.visibleItems.findIndex(function(o){return n.isItemMatched(o)}),r!==-1&&(s=!0),r===-1&&this.focusedItemInfo.index===-1&&(r=this.findFirstFocusedItemIndex()),r!==-1&&this.changeFocusedItemIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500),s},changeFocusedItemIndex:function(e,t){this.focusedItemInfo.index!==t&&(this.focusedItemInfo.index=t,this.scrollInView())},scrollInView:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,t=e!==-1?"".concat(this.$id,"_").concat(e):this.focusedItemId,n=bu(this.menubar,'li[id="'.concat(t,'"]'));n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",o=[];return e&&e.forEach(function(a,l){var u=(s!==""?s+"_":"")+l,c={item:a,index:l,level:n,key:u,parent:r,parentKey:s};c.items=t.createProcessedItems(a.items,n+1,c,u),o.push(c)}),o},containerRef:function(e){this.container=e},menubarRef:function(e){this.menubar=e?e.$el:void 0}},computed:{processedItems:function(){return this.createProcessedItems(this.model||[])},visibleItems:function(){var e=this,t=this.activeItemPath.find(function(n){return n.key===e.focusedItemInfo.parentKey});return t?t.items:this.processedItems},focusedItemId:function(){return this.focusedItemInfo.index!==-1?"".concat(this.$id).concat(cn(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:"","_").concat(this.focusedItemInfo.index):null}},components:{MenubarSub:bF,BarsIcon:mF}};function ev(i){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(i)}function sV(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function oV(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sV(Object(t),!0).forEach(function(n){lEe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):sV(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function lEe(i,e,t){return(e=uEe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function uEe(i){var e=cEe(i,"string");return ev(e)=="symbol"?e:e+""}function cEe(i,e){if(ev(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var dEe=["aria-haspopup","aria-expanded","aria-controls","aria-label"];function hEe(i,e,t,n,r,s){var o=Ri("BarsIcon"),a=Ri("MenubarSub");return I(),D("div",Ae({ref:s.containerRef,class:i.cx("root")},i.ptmi("root")),[i.$slots.start?(I(),D("div",Ae({key:0,class:i.cx("start")},i.ptm("start")),[on(i.$slots,"start")],16)):Y("",!0),on(i.$slots,i.$slots.button?"button":"menubutton",{id:i.$id,class:$(i.cx("button")),toggleCallback:function(u){return s.menuButtonClick(u)}},function(){var l;return[i.model&&i.model.length>0?(I(),D("a",Ae({key:0,ref:"menubutton",role:"button",tabindex:"0",class:i.cx("button"),"aria-haspopup":!!(i.model.length&&i.model.length>0),"aria-expanded":r.mobileActive,"aria-controls":i.$id,"aria-label":(l=i.$primevue.config.locale.aria)===null||l===void 0?void 0:l.navigation,onClick:e[0]||(e[0]=function(u){return s.menuButtonClick(u)}),onKeydown:e[1]||(e[1]=function(u){return s.menuButtonKeydown(u)})},oV(oV({},i.buttonProps),i.ptm("button"))),[on(i.$slots,i.$slots.buttonicon?"buttonicon":"menubuttonicon",{},function(){return[he(o,xa(fc(i.ptm("buttonicon"))),null,16)]})],16,dEe)):Y("",!0)]}),he(a,{ref:s.menubarRef,id:i.$id+"_list",role:"menubar",items:s.processedItems,templates:i.$slots,root:!0,mobileActive:r.mobileActive,tabindex:"0","aria-activedescendant":r.focused?s.focusedItemId:void 0,menuId:i.$id,focusedItemId:r.focused?s.focusedItemId:void 0,activeItemPath:r.activeItemPath,level:0,"aria-labelledby":i.ariaLabelledby,"aria-label":i.ariaLabel,pt:i.pt,unstyled:i.unstyled,onFocus:s.onFocus,onBlur:s.onBlur,onKeydown:s.onKeyDown,onItemClick:s.onItemClick,onItemMouseenter:s.onItemMouseEnter,onItemMousemove:s.onItemMouseMove},null,8,["id","items","templates","mobileActive","aria-activedescendant","menuId","focusedItemId","activeItemPath","aria-labelledby","aria-label","pt","unstyled","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter","onItemMousemove"]),i.$slots.end?(I(),D("div",Ae({key:1,class:i.cx("end")},i.ptm("end")),[on(i.$slots,"end")],16)):Y("",!0)],16)}CF.render=hEe;const fEe=[{title:"Back to Dashboard",icon:"pi pi-arrow-left",buttonLink:{name:"Home"},requiresSuperAdmin:!1,requiresAdmin:!1,project:"ALL",category:"Home"},{title:"Groups",buttonLink:{name:"ListGroups"},requiresSuperAdmin:!1,requiresAdmin:!0,project:"ALL",category:"Groups"},{title:"View Assignments",icon:"pi pi-list",buttonLink:{name:"Home"},requiresSuperAdmin:!1,requiresAdmin:!0,project:"ALL",category:"Assignments"},{title:"Create Assignment",icon:"pi pi-sliders-h",buttonLink:{name:"CreateAssignment"},requiresSuperAdmin:!0,requiresAdmin:!0,project:"ALL",category:"Assignments"},{title:"Manage Tasks",icon:"pi pi-pencil",buttonLink:{name:"ManageTasksVariants"},requiresSuperAdmin:!0,project:"ALL",category:"Assignments"},{title:"Add Users",icon:"pi pi-user-plus",buttonLink:{name:"Add Users"},requiresSuperAdmin:!0,requiresAdmin:!0,project:"LEVANTE",category:"Users"},{title:"Link Users",icon:"pi pi-link",buttonLink:{name:"Link Users"},requiresSuperAdmin:!0,requiresAdmin:!0,project:"LEVANTE",category:"Users"},{title:"Register administrator",icon:"pi pi-user-plus",buttonLink:{name:"CreateAdministrator"},requiresSuperAdmin:!0,project:"ALL",category:"Users"}],pEe=({isSuperAdmin:i=!1,isAdmin:e=!1})=>fEe.filter(t=>t.project==="LEVANTE"||t.project==="ALL"?!!(t.requiresAdmin&&e||t.requiresSuperAdmin&&i||!t.requiresAdmin&&!t.requiresSuperAdmin):!1),gEe=(i,e)=>{const t=fv(e?{...ab(e)}:{}),n="enabled"in t?c7(t).enabled:void 0,r=Ze(()=>{const o=i.every(l=>$d(l)),a=n===void 0?!0:$d(n);return o&&a}),s=e?{...e}:{};return delete s.enabled,{isQueryEnabled:r,options:s}};function wF(i,e){return function(){return i.apply(e,arguments)}}const{toString:mEe}=Object.prototype,{getPrototypeOf:t5}=Object,{iterator:PC,toStringTag:_F}=Symbol,RC=(i=>e=>{const t=mEe.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),za=i=>(i=i.toLowerCase(),e=>RC(e)===i),kC=i=>e=>typeof e===i,{isArray:Vp}=Array,tv=kC("undefined");function ey(i){return i!==null&&!tv(i)&&i.constructor!==null&&!tv(i.constructor)&&co(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const IF=za("ArrayBuffer");function vEe(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&IF(i.buffer),e}const yEe=kC("string"),co=kC("function"),EF=kC("number"),ty=i=>i!==null&&typeof i=="object",bEe=i=>i===!0||i===!1,L1=i=>{if(RC(i)!=="object")return!1;const e=t5(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_F in i)&&!(PC in i)},CEe=i=>{if(!ty(i)||ey(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},wEe=za("Date"),_Ee=za("File"),IEe=za("Blob"),EEe=za("FileList"),SEe=i=>ty(i)&&co(i.pipe),TEe=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||co(i.append)&&((e=RC(i))==="formdata"||e==="object"&&co(i.toString)&&i.toString()==="[object FormData]"))},xEe=za("URLSearchParams"),[PEe,REe,kEe,AEe]=["ReadableStream","Request","Response","Headers"].map(za),VEe=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ny(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let n,r;if(typeof i!="object"&&(i=[i]),Vp(i))for(n=0,r=i.length;n<r;n++)e.call(null,i[n],n,i);else{if(ey(i))return;const s=t?Object.getOwnPropertyNames(i):Object.keys(i),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,i[a],a,i)}}function SF(i,e){if(ey(i))return null;e=e.toLowerCase();const t=Object.keys(i);let n=t.length,r;for(;n-- >0;)if(r=t[n],e===r.toLowerCase())return r;return null}const zd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ao,TF=i=>!tv(i)&&i!==zd;function QI(){const{caseless:i}=TF(this)&&this||{},e={},t=(n,r)=>{const s=i&&SF(e,r)||r;L1(e[s])&&L1(n)?e[s]=QI(e[s],n):L1(n)?e[s]=QI({},n):Vp(n)?e[s]=n.slice():e[s]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&ny(arguments[n],t);return e}const LEe=(i,e,t,{allOwnKeys:n}={})=>(ny(e,(r,s)=>{t&&co(r)?i[s]=wF(r,t):i[s]=r},{allOwnKeys:n}),i),OEe=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),DEe=(i,e,t,n)=>{i.prototype=Object.create(e.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},NEe=(i,e,t,n)=>{let r,s,o;const a={};if(e=e||{},i==null)return e;do{for(r=Object.getOwnPropertyNames(i),s=r.length;s-- >0;)o=r[s],(!n||n(o,i,e))&&!a[o]&&(e[o]=i[o],a[o]=!0);i=t!==!1&&t5(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},MEe=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const n=i.indexOf(e,t);return n!==-1&&n===t},FEe=i=>{if(!i)return null;if(Vp(i))return i;let e=i.length;if(!EF(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},$Ee=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&t5(Uint8Array)),BEe=(i,e)=>{const n=(i&&i[PC]).call(i);let r;for(;(r=n.next())&&!r.done;){const s=r.value;e.call(i,s[0],s[1])}},qEe=(i,e)=>{let t;const n=[];for(;(t=i.exec(e))!==null;)n.push(t);return n},UEe=za("HTMLFormElement"),HEe=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),aV=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),zEe=za("RegExp"),xF=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),n={};ny(t,(r,s)=>{let o;(o=e(r,s,i))!==!1&&(n[s]=o||r)}),Object.defineProperties(i,n)},jEe=i=>{xF(i,(e,t)=>{if(co(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=i[t];if(co(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},QEe=(i,e)=>{const t={},n=r=>{r.forEach(s=>{t[s]=!0})};return Vp(i)?n(i):n(String(i).split(e)),t},WEe=()=>{},GEe=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function KEe(i){return!!(i&&co(i.append)&&i[_F]==="FormData"&&i[PC])}const JEe=i=>{const e=new Array(10),t=(n,r)=>{if(ty(n)){if(e.indexOf(n)>=0)return;if(ey(n))return n;if(!("toJSON"in n)){e[r]=n;const s=Vp(n)?[]:{};return ny(n,(o,a)=>{const l=t(o,r+1);!tv(l)&&(s[a]=l)}),e[r]=void 0,s}}return n};return t(i,0)},YEe=za("AsyncFunction"),ZEe=i=>i&&(ty(i)||co(i))&&co(i.then)&&co(i.catch),PF=((i,e)=>i?setImmediate:e?((t,n)=>(zd.addEventListener("message",({source:r,data:s})=>{r===zd&&s===t&&n.length&&n.shift()()},!1),r=>{n.push(r),zd.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",co(zd.postMessage)),XEe=typeof queueMicrotask<"u"?queueMicrotask.bind(zd):typeof lm<"u"&&lm.nextTick||PF,eSe=i=>i!=null&&co(i[PC]),xe={isArray:Vp,isArrayBuffer:IF,isBuffer:ey,isFormData:TEe,isArrayBufferView:vEe,isString:yEe,isNumber:EF,isBoolean:bEe,isObject:ty,isPlainObject:L1,isEmptyObject:CEe,isReadableStream:PEe,isRequest:REe,isResponse:kEe,isHeaders:AEe,isUndefined:tv,isDate:wEe,isFile:_Ee,isBlob:IEe,isRegExp:zEe,isFunction:co,isStream:SEe,isURLSearchParams:xEe,isTypedArray:$Ee,isFileList:EEe,forEach:ny,merge:QI,extend:LEe,trim:VEe,stripBOM:OEe,inherits:DEe,toFlatObject:NEe,kindOf:RC,kindOfTest:za,endsWith:MEe,toArray:FEe,forEachEntry:BEe,matchAll:qEe,isHTMLForm:UEe,hasOwnProperty:aV,hasOwnProp:aV,reduceDescriptors:xF,freezeMethods:jEe,toObjectSet:QEe,toCamelCase:HEe,noop:WEe,toFiniteNumber:GEe,findKey:SF,global:zd,isContextDefined:TF,isSpecCompliantForm:KEe,toJSONObject:JEe,isAsyncFn:YEe,isThenable:ZEe,setImmediate:PF,asap:XEe,isIterable:eSe};function fn(i,e,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}xe.inherits(fn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const RF=fn.prototype,kF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{kF[i]={value:i}});Object.defineProperties(fn,kF);Object.defineProperty(RF,"isAxiosError",{value:!0});fn.from=(i,e,t,n,r,s)=>{const o=Object.create(RF);return xe.toFlatObject(i,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),fn.call(o,i.message,e,t,n,r),o.cause=i,o.name=i.name,s&&Object.assign(o,s),o};const tSe=null;function WI(i){return xe.isPlainObject(i)||xe.isArray(i)}function AF(i){return xe.endsWith(i,"[]")?i.slice(0,-2):i}function lV(i,e,t){return i?i.concat(e).map(function(r,s){return r=AF(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function nSe(i){return xe.isArray(i)&&!i.some(WI)}const iSe=xe.toFlatObject(xe,{},null,function(e){return/^is[A-Z]/.test(e)});function AC(i,e,t){if(!xe.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=xe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!xe.isUndefined(E[_])});const n=t.metaTokens,r=t.visitor||c,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(e);if(!xe.isFunction(r))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(xe.isDate(b))return b.toISOString();if(xe.isBoolean(b))return b.toString();if(!l&&xe.isBlob(b))throw new fn("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(b)||xe.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):HB.from(b):b}function c(b,_,E){let k=b;if(b&&!E&&typeof b=="object"){if(xe.endsWith(_,"{}"))_=n?_:_.slice(0,-2),b=JSON.stringify(b);else if(xe.isArray(b)&&nSe(b)||(xe.isFileList(b)||xe.endsWith(_,"[]"))&&(k=xe.toArray(b)))return _=AF(_),k.forEach(function(M,q){!(xe.isUndefined(M)||M===null)&&e.append(o===!0?lV([_],q,s):o===null?_:_+"[]",u(M))}),!1}return WI(b)?!0:(e.append(lV(E,_,s),u(b)),!1)}const h=[],f=Object.assign(iSe,{defaultVisitor:c,convertValue:u,isVisitable:WI});function m(b,_){if(!xe.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(b),xe.forEach(b,function(k,j){(!(xe.isUndefined(k)||k===null)&&r.call(e,k,xe.isString(j)?j.trim():j,_,f))===!0&&m(k,_?_.concat(j):[j])}),h.pop()}}if(!xe.isObject(i))throw new TypeError("data must be an object");return m(i),e}function uV(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function n5(i,e){this._pairs=[],i&&AC(i,this,e)}const VF=n5.prototype;VF.append=function(e,t){this._pairs.push([e,t])};VF.toString=function(e){const t=e?function(n){return e.call(this,n,uV)}:uV;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function rSe(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LF(i,e,t){if(!e)return i;const n=t&&t.encode||rSe;xe.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(r?s=r(e,t):s=xe.isURLSearchParams(e)?e.toString():new n5(e,t).toString(n),s){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+s}return i}class cV{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){xe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const OF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sSe=typeof URLSearchParams<"u"?URLSearchParams:n5,oSe=typeof FormData<"u"?FormData:null,aSe=typeof Blob<"u"?Blob:null,lSe={isBrowser:!0,classes:{URLSearchParams:sSe,FormData:oSe,Blob:aSe},protocols:["http","https","file","blob","url","data"]},i5=typeof window<"u"&&typeof document<"u",GI=typeof navigator=="object"&&navigator||void 0,uSe=i5&&(!GI||["ReactNative","NativeScript","NS"].indexOf(GI.product)<0),cSe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dSe=i5&&window.location.href||"http://localhost",hSe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:i5,hasStandardBrowserEnv:uSe,hasStandardBrowserWebWorkerEnv:cSe,navigator:GI,origin:dSe},Symbol.toStringTag,{value:"Module"})),bs={...hSe,...lSe};function fSe(i,e){return AC(i,new bs.classes.URLSearchParams,{visitor:function(t,n,r,s){return bs.isNode&&xe.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function pSe(i){return xe.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gSe(i){const e={},t=Object.keys(i);let n;const r=t.length;let s;for(n=0;n<r;n++)s=t[n],e[s]=i[s];return e}function DF(i){function e(t,n,r,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&xe.isArray(r)?r.length:o,l?(xe.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):((!r[o]||!xe.isObject(r[o]))&&(r[o]=[]),e(t,n,r[o],s)&&xe.isArray(r[o])&&(r[o]=gSe(r[o])),!a)}if(xe.isFormData(i)&&xe.isFunction(i.entries)){const t={};return xe.forEachEntry(i,(n,r)=>{e(pSe(n),r,t,0)}),t}return null}function mSe(i,e,t){if(xe.isString(i))try{return(e||JSON.parse)(i),xe.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(i)}const iy={transitional:OF,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=xe.isObject(e);if(s&&xe.isHTMLForm(e)&&(e=new FormData(e)),xe.isFormData(e))return r?JSON.stringify(DF(e)):e;if(xe.isArrayBuffer(e)||xe.isBuffer(e)||xe.isStream(e)||xe.isFile(e)||xe.isBlob(e)||xe.isReadableStream(e))return e;if(xe.isArrayBufferView(e))return e.buffer;if(xe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fSe(e,this.formSerializer).toString();if((a=xe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return AC(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),mSe(e)):e}],transformResponse:[function(e){const t=this.transitional||iy.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(xe.isResponse(e)||xe.isReadableStream(e))return e;if(e&&xe.isString(e)&&(n&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?fn.from(a,fn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bs.classes.FormData,Blob:bs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],i=>{iy.headers[i]={}});const vSe=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ySe=i=>{const e={};let t,n,r;return i&&i.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!t||e[t]&&vSe[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},dV=Symbol("internals");function cg(i){return i&&String(i).trim().toLowerCase()}function O1(i){return i===!1||i==null?i:xe.isArray(i)?i.map(O1):String(i)}function bSe(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(i);)e[n[1]]=n[2];return e}const CSe=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function y2(i,e,t,n,r){if(xe.isFunction(n))return n.call(this,e,t);if(r&&(e=t),!!xe.isString(e)){if(xe.isString(n))return e.indexOf(n)!==-1;if(xe.isRegExp(n))return n.test(e)}}function wSe(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function _Se(i,e){const t=xe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+t,{value:function(r,s,o){return this[n].call(this,e,r,s,o)},configurable:!0})})}let ho=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(a,l,u){const c=cg(l);if(!c)throw new Error("header name must be a non-empty string");const h=xe.findKey(r,c);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||l]=O1(a))}const o=(a,l)=>xe.forEach(a,(u,c)=>s(u,c,l));if(xe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(xe.isString(e)&&(e=e.trim())&&!CSe(e))o(ySe(e),t);else if(xe.isObject(e)&&xe.isIterable(e)){let a={},l,u;for(const c of e){if(!xe.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?xe.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,t)}else e!=null&&s(t,e,n);return this}get(e,t){if(e=cg(e),e){const n=xe.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return bSe(r);if(xe.isFunction(t))return t.call(this,r,n);if(xe.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=cg(e),e){const n=xe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||y2(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function s(o){if(o=cg(o),o){const a=xe.findKey(n,o);a&&(!t||y2(n,n[a],a,t))&&(delete n[a],r=!0)}}return xe.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];(!e||y2(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return xe.forEach(this,(r,s)=>{const o=xe.findKey(n,s);if(o){t[o]=O1(r),delete t[s];return}const a=e?wSe(s):String(s).trim();a!==s&&delete t[s],t[a]=O1(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return xe.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&xe.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[dV]=this[dV]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=cg(o);n[a]||(_Se(r,o),n[a]=!0)}return xe.isArray(e)?e.forEach(s):s(e),this}};ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(ho.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(n){this[t]=n}}});xe.freezeMethods(ho);function b2(i,e){const t=this||iy,n=e||t,r=ho.from(n.headers);let s=n.data;return xe.forEach(i,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function NF(i){return!!(i&&i.__CANCEL__)}function Lp(i,e,t){fn.call(this,i??"canceled",fn.ERR_CANCELED,e,t),this.name="CanceledError"}xe.inherits(Lp,fn,{__CANCEL__:!0});function MF(i,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?i(t):e(new fn("Request failed with status code "+t.status,[fn.ERR_BAD_REQUEST,fn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ISe(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function ESe(i,e){i=i||10;const t=new Array(i),n=new Array(i);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),t[r]=l,n[r]=u;let h=s,f=0;for(;h!==r;)f+=t[h++],h=h%i;if(r=(r+1)%i,r===s&&(s=(s+1)%i),u-o<e)return;const m=c&&u-c;return m?Math.round(f*1e3/m):void 0}}function SSe(i,e){let t=0,n=1e3/e,r,s;const o=(u,c=Date.now())=>{t=c,r=null,s&&(clearTimeout(s),s=null),i(...u)};return[(...u)=>{const c=Date.now(),h=c-t;h>=n?o(u,c):(r=u,s||(s=setTimeout(()=>{s=null,o(r)},n-h)))},()=>r&&o(r)]}const W0=(i,e,t=3)=>{let n=0;const r=ESe(50,250);return SSe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,u=r(l),c=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};i(h)},t)},hV=(i,e)=>{const t=i!=null;return[n=>e[0]({lengthComputable:t,total:i,loaded:n}),e[1]]},fV=i=>(...e)=>xe.asap(()=>i(...e)),TSe=bs.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,bs.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(bs.origin),bs.navigator&&/(msie|trident)/i.test(bs.navigator.userAgent)):()=>!0,xSe=bs.hasStandardBrowserEnv?{write(i,e,t,n,r,s){const o=[i+"="+encodeURIComponent(e)];xe.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),xe.isString(n)&&o.push("path="+n),xe.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PSe(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function RSe(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function FF(i,e,t){let n=!PSe(e);return i&&(n||t==!1)?RSe(i,e):e}const pV=i=>i instanceof ho?{...i}:i;function hh(i,e){e=e||{};const t={};function n(u,c,h,f){return xe.isPlainObject(u)&&xe.isPlainObject(c)?xe.merge.call({caseless:f},u,c):xe.isPlainObject(c)?xe.merge({},c):xe.isArray(c)?c.slice():c}function r(u,c,h,f){if(xe.isUndefined(c)){if(!xe.isUndefined(u))return n(void 0,u,h,f)}else return n(u,c,h,f)}function s(u,c){if(!xe.isUndefined(c))return n(void 0,c)}function o(u,c){if(xe.isUndefined(c)){if(!xe.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,h){if(h in e)return n(u,c);if(h in i)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,h)=>r(pV(u),pV(c),h,!0)};return xe.forEach(Object.keys({...i,...e}),function(c){const h=l[c]||r,f=h(i[c],e[c],c);xe.isUndefined(f)&&h!==a||(t[c]=f)}),t}const $F=i=>{const e=hh({},i);let{data:t,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=ho.from(o),e.url=LF(FF(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(xe.isFormData(t)){if(bs.hasStandardBrowserEnv||bs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(bs.hasStandardBrowserEnv&&(n&&xe.isFunction(n)&&(n=n(e)),n||n!==!1&&TSe(e.url))){const u=r&&s&&xSe.read(s);u&&o.set(r,u)}return e},kSe=typeof XMLHttpRequest<"u",ASe=kSe&&function(i){return new Promise(function(t,n){const r=$F(i);let s=r.data;const o=ho.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=r,c,h,f,m,b;function _(){m&&m(),b&&b(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function k(){if(!E)return;const M=ho.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),J={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:M,config:i,request:E};MF(function(L){t(L),_()},function(L){n(L),_()},J),E=null}"onloadend"in E?E.onloadend=k:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(k)},E.onabort=function(){E&&(n(new fn("Request aborted",fn.ECONNABORTED,i,E)),E=null)},E.onerror=function(){n(new fn("Network Error",fn.ERR_NETWORK,i,E)),E=null},E.ontimeout=function(){let q=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const J=r.transitional||OF;r.timeoutErrorMessage&&(q=r.timeoutErrorMessage),n(new fn(q,J.clarifyTimeoutError?fn.ETIMEDOUT:fn.ECONNABORTED,i,E)),E=null},s===void 0&&o.setContentType(null),"setRequestHeader"in E&&xe.forEach(o.toJSON(),function(q,J){E.setRequestHeader(J,q)}),xe.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),a&&a!=="json"&&(E.responseType=r.responseType),u&&([f,b]=W0(u,!0),E.addEventListener("progress",f)),l&&E.upload&&([h,m]=W0(l),E.upload.addEventListener("progress",h),E.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(c=M=>{E&&(n(!M||M.type?new Lp(null,i,E):M),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const j=ISe(r.url);if(j&&bs.protocols.indexOf(j)===-1){n(new fn("Unsupported protocol "+j+":",fn.ERR_BAD_REQUEST,i));return}E.send(s||null)})},VSe=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let n=new AbortController,r;const s=function(u){if(!r){r=!0,a();const c=u instanceof Error?u:this.reason;n.abort(c instanceof fn?c:new Lp(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new fn(`timeout ${e} of ms exceeded`,fn.ETIMEDOUT))},e);const a=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),i=null)};i.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>xe.asap(a),l}},LSe=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let n=0,r;for(;n<t;)r=n+e,yield i.slice(n,r),n=r},OSe=async function*(i,e){for await(const t of DSe(i))yield*LSe(t,e)},DSe=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},gV=(i,e,t,n)=>{const r=OSe(i,e);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await r.next();if(u){a(),l.close();return}let h=c.byteLength;if(t){let f=s+=h;t(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},VC=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",BF=VC&&typeof ReadableStream=="function",NSe=VC&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),qF=(i,...e)=>{try{return!!i(...e)}catch{return!1}},MSe=BF&&qF(()=>{let i=!1;const e=new Request(bs.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),mV=64*1024,KI=BF&&qF(()=>xe.isReadableStream(new Response("").body)),G0={stream:KI&&(i=>i.body)};VC&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!G0[e]&&(G0[e]=xe.isFunction(i[e])?t=>t[e]():(t,n)=>{throw new fn(`Response type '${e}' is not supported`,fn.ERR_NOT_SUPPORT,n)})})})(new Response);const FSe=async i=>{if(i==null)return 0;if(xe.isBlob(i))return i.size;if(xe.isSpecCompliantForm(i))return(await new Request(bs.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(i)||xe.isArrayBuffer(i))return i.byteLength;if(xe.isURLSearchParams(i)&&(i=i+""),xe.isString(i))return(await NSe(i)).byteLength},$Se=async(i,e)=>{const t=xe.toFiniteNumber(i.getContentLength());return t??FSe(e)},BSe=VC&&(async i=>{let{url:e,method:t,data:n,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:f}=$F(i);u=u?(u+"").toLowerCase():"text";let m=VSe([r,s&&s.toAbortSignal()],o),b;const _=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let E;try{if(l&&MSe&&t!=="get"&&t!=="head"&&(E=await $Se(c,n))!==0){let J=new Request(e,{method:"POST",body:n,duplex:"half"}),Z;if(xe.isFormData(n)&&(Z=J.headers.get("content-type"))&&c.setContentType(Z),J.body){const[L,y]=hV(E,W0(fV(l)));n=gV(J.body,mV,L,y)}}xe.isString(h)||(h=h?"include":"omit");const k="credentials"in Request.prototype;b=new Request(e,{...f,signal:m,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:k?h:void 0});let j=await fetch(b,f);const M=KI&&(u==="stream"||u==="response");if(KI&&(a||M&&_)){const J={};["status","statusText","headers"].forEach(w=>{J[w]=j[w]});const Z=xe.toFiniteNumber(j.headers.get("content-length")),[L,y]=a&&hV(Z,W0(fV(a),!0))||[];j=new Response(gV(j.body,mV,L,()=>{y&&y(),_&&_()}),J)}u=u||"text";let q=await G0[xe.findKey(G0,u)||"text"](j,i);return!M&&_&&_(),await new Promise((J,Z)=>{MF(J,Z,{data:q,headers:ho.from(j.headers),status:j.status,statusText:j.statusText,config:i,request:b})})}catch(k){throw _&&_(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new fn("Network Error",fn.ERR_NETWORK,i,b),{cause:k.cause||k}):fn.from(k,k&&k.code,i,b)}}),JI={http:tSe,xhr:ASe,fetch:BSe};xe.forEach(JI,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const vV=i=>`- ${i}`,qSe=i=>xe.isFunction(i)||i===null||i===!1,UF={getAdapter:i=>{i=xe.isArray(i)?i:[i];const{length:e}=i;let t,n;const r={};for(let s=0;s<e;s++){t=i[s];let o;if(n=t,!qSe(t)&&(n=JI[(o=String(t)).toLowerCase()],n===void 0))throw new fn(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+s]=n}if(!n){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(vV).join(`
`):" "+vV(s[0]):"as no adapter specified";throw new fn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:JI};function C2(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Lp(null,i)}function yV(i){return C2(i),i.headers=ho.from(i.headers),i.data=b2.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),UF.getAdapter(i.adapter||iy.adapter)(i).then(function(n){return C2(i),n.data=b2.call(i,i.transformResponse,n),n.headers=ho.from(n.headers),n},function(n){return NF(n)||(C2(i),n&&n.response&&(n.response.data=b2.call(i,i.transformResponse,n.response),n.response.headers=ho.from(n.response.headers))),Promise.reject(n)})}const HF="1.11.0",LC={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{LC[i]=function(n){return typeof n===i||"a"+(e<1?"n ":" ")+i}});const bV={};LC.transitional=function(e,t,n){function r(s,o){return"[Axios v"+HF+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new fn(r(o," has been removed"+(t?" in "+t:"")),fn.ERR_DEPRECATED);return t&&!bV[o]&&(bV[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};LC.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function USe(i,e,t){if(typeof i!="object")throw new fn("options must be an object",fn.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let r=n.length;for(;r-- >0;){const s=n[r],o=e[s];if(o){const a=i[s],l=a===void 0||o(a,s,i);if(l!==!0)throw new fn("option "+s+" must be "+l,fn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new fn("Unknown option "+s,fn.ERR_BAD_OPTION)}}const D1={assertOptions:USe,validators:LC},ol=D1.validators;let Zd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new cV,response:new cV}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=hh(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;n!==void 0&&D1.assertOptions(n,{silentJSONParsing:ol.transitional(ol.boolean),forcedJSONParsing:ol.transitional(ol.boolean),clarifyTimeoutError:ol.transitional(ol.boolean)},!1),r!=null&&(xe.isFunction(r)?t.paramsSerializer={serialize:r}:D1.assertOptions(r,{encode:ol.function,serialize:ol.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),D1.assertOptions(t,{baseUrl:ol.spelling("baseURL"),withXsrfToken:ol.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&xe.merge(s.common,s[t.method]);s&&xe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),t.headers=ho.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,h=0,f;if(!l){const b=[yV.bind(this),void 0];for(b.unshift(...a),b.push(...u),f=b.length,c=Promise.resolve(t);h<f;)c=c.then(b[h++],b[h++]);return c}f=a.length;let m=t;for(h=0;h<f;){const b=a[h++],_=a[h++];try{m=b(m)}catch(E){_.call(this,E);break}}try{c=yV.call(this,m)}catch(b){return Promise.reject(b)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=hh(this.defaults,e);const t=FF(e.baseURL,e.url,e.allowAbsoluteUrls);return LF(t,e.params,e.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(e){Zd.prototype[e]=function(t,n){return this.request(hh(n||{},{method:e,url:t,data:(n||{}).data}))}});xe.forEach(["post","put","patch"],function(e){function t(n){return function(s,o,a){return this.request(hh(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Zd.prototype[e]=t(),Zd.prototype[e+"Form"]=t(!0)});let HSe=class zF{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(r=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](r);n._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(r);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new Lp(s,o,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new zF(function(r){e=r}),cancel:e}}};function zSe(i){return function(t){return i.apply(null,t)}}function jSe(i){return xe.isObject(i)&&i.isAxiosError===!0}const YI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(YI).forEach(([i,e])=>{YI[e]=i});function jF(i){const e=new Zd(i),t=wF(Zd.prototype.request,e);return xe.extend(t,Zd.prototype,e,{allOwnKeys:!0}),xe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return jF(hh(i,r))},t}const dr=jF(iy);dr.Axios=Zd;dr.CanceledError=Lp;dr.CancelToken=HSe;dr.isCancel=NF;dr.VERSION=HF;dr.toFormData=AC;dr.AxiosError=fn;dr.Cancel=dr.CanceledError;dr.all=function(e){return Promise.all(e)};dr.spread=zSe;dr.isAxiosError=jSe;dr.mergeConfig=hh;dr.AxiosHeaders=ho;dr.formToJSON=i=>DF(xe.isHTMLForm(i)?new FormData(i):i);dr.getAdapter=UF.getAdapter;dr.HttpStatusCode=YI;dr.default=dr;const{Axios:_He,AxiosError:IHe,CanceledError:EHe,isCancel:SHe,CancelToken:THe,VERSION:xHe,all:PHe,Cancel:RHe,isAxiosError:kHe,spread:AHe,toFormData:VHe,AxiosHeaders:LHe,HttpStatusCode:OHe,formToJSON:DHe,getAdapter:NHe,mergeConfig:MHe}=dr;var QSe=FD,WSe=Iv,GSe=Sv,KSe=WSe(function(i,e){return GSe(i)?QSe(i,e):[]}),JSe=KSe;const QF=Mo(JSe),Op={ADMIN:"admin"},YSe={ADMINISTRATIONS:"administrations",CLASSES:"classes",DISTRICTS:"districts",GROUPS:"groups",SCHOOLS:"schools",TASKS:"tasks",USER_CLAIMS:"userClaims",USERS:"users"},ZSe="https://firestore.googleapis.com/v1/",Gc=i=>{const e=["nullValue","booleanValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue"],t=["integerValue","doubleValue"];return K2(i).map(([n,r])=>{if(e.includes(n))return r;if(t.includes(n))return Number(r);if(n==="arrayValue")return(r.values??[]).map(s=>Gc(s));if(n==="mapValue")return v9(K2(r.fields).map(([s,o])=>[s,Gc(o)]))})[0]},FHe=(i,e)=>QF(i.map(n=>{var r,s,o;if((r=n.document)!=null&&r.fields){const a=(((s=n.document)==null?void 0:s.name)??"").split("/"),l={...(o=n.document)==null?void 0:o.fields,id:{stringValue:tye(a)}};return e&&(l.parentDoc={stringValue:a[a.length-3]}),l}}),void 0).map(n=>kp(n,r=>Gc(r))),$He=[{field:{fieldPath:"normalizedName"},direction:"ASCENDING"}],BHe=[{field:{fieldPath:"name"},direction:"ASCENDING"}],XSe=(i="admin")=>{var n,r;const e=ud(),{roarfirekit:t}=_b(e);return(r=(n=t.value.roarConfig)==null?void 0:n[i])==null?void 0:r.projectId},fh=()=>`projects/${XSe()}/databases/(default)/documents`,ry=(i=Op.ADMIN,e=!1)=>{const t=ud(),{roarfirekit:n}=_b(t),r=l_(n.value.restConfig,i)??{};if(r.baseURL=ZSe,e&&delete r.headers,!r.baseURL)throw new Error("Base URL is not set.");return dr.create(r)},qHe=(i,e)=>{const t=i.map(L9),n=lte(...t.map(Object.keys)),r=nJ.unparse(t,{columns:n}),s=new Blob([r]),o=document.createElement("a");o.href=URL.createObjectURL(s,{type:"text/plain"}),o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o)},ZI=async(i,e,t,n=Op.ADMIN,r=!1)=>{const s=$d(i),o=$d(e);if(!$d(s)||!$d(e))return console.warn(`fetchDocById: Collection or docId not provided. Called with collection "${s}" and docId "${o}"`),{};const a=`/${s}/${o}`,l=ry(n,r),u=(t??[]).map(f=>`mask.fieldPaths=${f}`),c=u.length>0?`?${u.join("&")}`:"",{data:h}=await l.get(fh()+a+c);return{id:o,collectionValue:s,...kp(h.fields,f=>Gc(f))}},UHe=async(i,e,t=[],n=Op.ADMIN)=>{const r=ry(n),o={documents:$d(e).map(a=>`${fh()}/${i}/${a}`)};(t==null?void 0:t.length)>0&&(o.mask={fieldPaths:t});try{return(await r.post(`${fh()}:batchGet`,o)).data.filter(({found:l})=>l).map(({found:l})=>{const u=l.name.split("/"),c=u.pop(),h=u.pop();return{id:c,collection:h,...kp(l.fields,f=>Gc(f))}})}catch(a){return console.error("fetchDocumentsById: Error fetching documents by ID:",a),[]}},HHe=async(i,e=Op.ADMIN)=>{if(UE(i))return console.warn("FetchDocsById: No documents provided!"),[];const t=ry(e),n=[];for(const{collection:r,docId:s,select:o}of i){const a=`/${r}/${s}`,l=(o??[]).map(c=>`mask.fieldPaths=${c}`),u=l.length>0?`?${l.join("&")}`:"";n.push(t.get(fh()+a+u).then(({data:c})=>({id:s,collection:r,...kp(c.fields,h=>Gc(h))})).catch(c=>(console.error("fetchDocsById: Error fetching document:",c),[])))}return Promise.all(n)},zHe=async(i,e=[],t=Op.ADMIN)=>{if(UE(i))return[];const n=ry(t),r=i.map(o=>`${fh()}/${o}`),s=await n.post(`${fh()}:batchGet`,{documents:r,...e.length>0&&{mask:{fieldPaths:e}}}).then(({data:o})=>QF(o.map(({found:a})=>{if(a){const l=a.name.split("/");return{name:a.name,data:{id:l.pop(),collection:l.pop(),...kp(a.fields,u=>Gc(u))}}}}),void 0));return i.map(o=>s.find(a=>a.name.includes(o))).map(o=>o==null?void 0:o.data)},jHe=async(i,e,t=[],n=Op.ADMIN)=>{var l;const r=ry(n),s=`/${i}/${e}`,o=t.map(u=>`mask.fieldPaths=${u}`).join("&"),a=o?`?${o}`:"";try{return((await r.get(fh()+s+a)).data.documents??[]).map(h=>({id:h.name.split("/").pop(),...kp(h.fields,f=>Gc(f))}))}catch(u){return console.error("Failed to fetch subcollection: ",u),{error:((l=u.response)==null?void 0:l.status)===404?"Subcollection not found":u.message}}},QHe="administrations",WHe="administrations-list",GHe="administrations-stats",KHe="administration-assignments",JHe="classes",YHe="districts",ZHe="districts-list",XHe="district-schools",eze="dsgf-orgs",tze="groups",nze="groups-list",ize="legal-docs",rze="org-users",sze="orgs-table",oze="schools",aze="school-classes",lze="tasks",uze="task-variants",cze="user",dze="user-assignments",eTe="user-claims",hze="user-student",fze="org-mutation",tTe=i=>{const e=ud(),{uid:t}=_b(e),n=[()=>!!t.value],{isQueryEnabled:r,options:s}=gEe(n,i);return LB({queryKey:[eTe,t],queryFn:()=>ZI(YSe.USER_CLAIMS,t),enabled:r,...s})},nv={HOME:"/",SIGN_IN:"/signin",SSO:"/sso",PROGRESS_REPORT:"/administration/:administrationId/:orgType/:orgId",SCORE_REPORT:"/scores/:administrationId/:orgType/:orgId",CHILD_REPORT:"/scores/:administrationId/:orgType/:orgId/user/:userId",ACCOUNT_PROFILE:"/profile",LIST_ORGS:"/list-orgs"},pze=["administration-upsert"],gze=["administration-delete"],mze=["consent-update"],nTe=["sign-out"],vze=["task-add"],yze=["task-update"],bze=["task-variant-add"],Cze=["task-variant-update"],wze=["assessment","complete"],iTe=NE("surveyStore",()=>{const i=Qe(!1),e=Qe(null),t=Qe(0),n=Qe(0),r=Qe(null),s=Qe(!1),o=Qe({}),a=Qe(!1),l=Qe([]),u=Qe([]),c=Qe(0),h=Qe([]),f=Qe(0),m=Qe(!1),b=Qe(!1),_=Qe(!1),E=Qe({});function k(){i.value=!0}function j(){_.value=!0}function M(Me){e.value=vE(Me)}function q(Me,qe){t.value=Me,n.value=qe}function J(Me){r.value=Me}function Z(Me){s.value=Me}function L(Me,qe){o.value[Me]=qe}function y(Me){a.value=Me}function w(Me){l.value=Me}function R(Me){u.value=Me}function U(Me){c.value=Me}function H(Me){h.value=Me}function B(Me){f.value=Me}function Oe(Me){m.value=Me}function De(Me){b.value=Me}function tt(Me){E.value=Me}function Ne(){i.value=!1,e.value=null,t.value=0,n.value=0,r.value=null,s.value=!1,o.value={},a.value=!1,l.value=[],u.value=[],c.value=0,h.value=[],f.value=0,m.value=!1,b.value=!1,_.value=!1,E.value={}}return{requireRefresh:i,survey:e,numGeneralPages:t,numSpecificPages:n,currentSurveyAudioSource:r,isSavingSurveyResponses:s,surveyAudioPlayerBuffers:o,surveyAudioLoading:a,allSurveyPages:l,allSpecificPages:u,currentPageIndex:c,specificSurveyRelationData:h,specificSurveyRelationIndex:f,isGeneralSurveyComplete:m,isSpecificSurveyComplete:b,isSurveyCompleted:_,audioLinkMap:E,requireHomeRefresh:k,setSurveyCompleted:j,setSurvey:M,setNumberOfSurveyPages:q,setCurrentSurveyAudioSource:J,setIsSavingSurveyResponses:Z,setSurveyAudioPlayerBuffers:L,setSurveyAudioLoading:y,setAllSurveyPages:w,setAllSpecificPages:R,setCurrentPageIndex:U,setSpecificSurveyRelationData:H,setSpecificSurveyRelationIndex:B,setIsGeneralSurveyComplete:Oe,setIsSpecificSurveyComplete:De,setAudioLinkMap:tt,reset:Ne}});var XI={},sy={},r5={},pa={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.FLOAT_COMPRESSION_PRECISION=1e3,i.DATE_LOW_PRECISION=1e5,i.FLOAT_FULL_PRECISION_DELIMITER=",",i.FLOAT_REDUCED_PRECISION_DELIMITER=".",i.INTEGER_TOKEN="¢",i.FLOAT_TOKEN="£",i.STRING_TOKEN="¨",i.DATE_TOKEN="ø",i.LP_DATE_TOKEN="±",i.UNREFERENCED_INTEGER_TOKEN="¤",i.UNREFERENCED_FLOAT_TOKEN="¥",i.UNREFERENCED_STRING_TOKEN="´",i.UNREFERENCED_DATE_TOKEN="¿",i.UNREFERENCED_LP_DATE_TOKEN="ÿ",i.REF_INTEGER_TOKEN="º",i.REF_FLOAT_TOKEN="Ý",i.REF_STRING_TOKEN="ß",i.REF_DATE_TOKEN="×",i.REF_LP_DATE_TOKEN="ü",i.NULL_TOKEN="§",i.UNDEFINED_TOKEN="µ",i.BOOLEAN_TRUE_TOKEN="»",i.BOOLEAN_FALSE_TOKEN="«",i.ESCAPE_CHARACTER="\\",i.ESCAPED_STRING_TOKEN=""+i.ESCAPE_CHARACTER+i.STRING_TOKEN,i.ESCAPED_UNREFERENCED_STRING_TOKEN=""+i.ESCAPE_CHARACTER+i.UNREFERENCED_STRING_TOKEN,i.REGEX_ESCAPE_CHARACTER=new RegExp(i.ESCAPE_CHARACTER.replace("\\","\\\\"),"g"),i.REGEX_ESCAPED_ESCAPE_CHARACTER=new RegExp(i.ESCAPE_CHARACTER.replace("\\","\\\\")+i.ESCAPE_CHARACTER.replace("\\","\\\\"),"g"),i.REGEX_STRING_TOKEN=new RegExp(i.STRING_TOKEN,"g"),i.REGEX_ESCAPED_STRING_TOKEN=new RegExp(i.ESCAPE_CHARACTER+i.ESCAPED_STRING_TOKEN,"g"),i.REGEX_UNREFERENCED_STRING_TOKEN=new RegExp(i.UNREFERENCED_STRING_TOKEN,"g"),i.REGEX_UNREFERENCED_ESCAPED_STRING_TOKEN=new RegExp(i.ESCAPE_CHARACTER+i.ESCAPED_UNREFERENCED_STRING_TOKEN,"g"),i.DATE_REGEX=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z/,i.OBJECT_START_TOKEN="{",i.OBJECT_END_TOKEN="}",i.TEMPLATE_OBJECT_START="¦",i.TEMPLATE_OBJECT_END="‡",i.TEMPLATE_OBJECT_FINAL="—",i.ARRAY_START_TOKEN="|",i.ARRAY_END_TOKEN="÷",i.ARRAY_REPEAT_TOKEN="þ",i.ARRAY_REPEAT_MANY_TOKEN="^",i.ARRAY_REPEAT_COUNT_THRESHOLD=4,i.REFERENCE_HEADER_LENGTH=1,i.DELIMITING_TOKENS_THRESHOLD=122,i.STRING_IDENT_PREFIX="$",i.INTEGER_SMALL_EXCLUSIVE_BOUND_LOWER=-10,i.INTEGER_SMALL_EXCLUSIVE_BOUND_UPPER=10,i.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_LOWER=191,i.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_UPPER=211,i.INTEGER_SMALL_TOKEN_OFFSET=-201,i.INTEGER_SMALL_TOKEN_ELEMENT_OFFSET=9,i.INTEGER_SMALL_TOKENS=["À","Á","Â","Ã","Ä","Å","Æ","Ç","È","É","Ê","Ë","Ì","Í","Î","Ï","Ð","Ñ","Ò"]})(pa);Object.defineProperty(r5,"__esModule",{value:!0});var Yy=pa;function rTe(i,e,t,n,r,s){var o=typeof t;o==="number"?i.number(i,e,t,n,r,s):o==="string"?i.string(i,e,t,n,r,s):o==="boolean"?r.write(t?Yy.BOOLEAN_TRUE_TOKEN:Yy.BOOLEAN_FALSE_TOKEN):t===null?r.write(Yy.NULL_TOKEN):t===void 0?r.write(Yy.UNDEFINED_TOKEN):Array.isArray(t)?i.array(i,e,t,n,r,s):t instanceof Date?i.date(i,e,t.getTime(),n,r,s):i.object(i,e,t,n,r,s)}r5.compressAny=rTe;var s5={},Kf={},sTe=Zi&&Zi.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Kf,"__esModule",{value:!0});var WF=function(){function i(){}return i}();Kf.ZipsonWriter=WF;var oTe=function(i){sTe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.value="",t}return e.prototype.write=function(t){this.value+=t},e.prototype.end=function(){},e}(WF);Kf.ZipsonStringWriter=oTe;var Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});var jd=pa,aTe=2147483648,lTe=-2147483649,uTe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function N1(i){if(i===0)return"0";for(var e="",t=i<0?-i:i,n=0,r;t>0;)t=t/62,r=t%1,n=r*62+.1<<0,t-=r,e=uTe[n]+e;return e=i<0?"-"+e:e,e}Ml.compressInteger=N1;function M1(i){var e=0;if(i[0]==="0")return e;for(var t=i[0]==="-",n=1,r=t?1:0,s=i.length-1;s>=r;s--){var o=i.charCodeAt(s),a=o-48;o>=97?a-=13:o>=65&&(a-=7),e+=a*n,n*=62}return t?-e:e}Ml.decompressInteger=M1;function cTe(i,e){if(e===void 0&&(e=!1),e){var t=i.toString().split("."),n=t[0],r=t[1],s=n==="-0"?"-":"";return""+s+N1(parseInt(n))+jd.FLOAT_FULL_PRECISION_DELIMITER+r}else{var n=i>=aTe?Math.floor(i):i<=lTe?Math.ceil(i):i<<0,r=Math.round(jd.FLOAT_COMPRESSION_PRECISION*(i%1));return""+N1(n)+jd.FLOAT_REDUCED_PRECISION_DELIMITER+N1(r)}}Ml.compressFloat=cTe;function dTe(i){if(i.indexOf(jd.FLOAT_FULL_PRECISION_DELIMITER)>-1){var e=i.split(jd.FLOAT_FULL_PRECISION_DELIMITER),t=e[0],n=e[1],r=t==="-0"?-1:1,s=M1(t);return r*parseFloat(s+"."+n)}else{var o=i.split(jd.FLOAT_REDUCED_PRECISION_DELIMITER),t=o[0],n=o[1],s=M1(t),a=M1(n);return s+a/jd.FLOAT_COMPRESSION_PRECISION}}Ml.decompressFloat=dTe;Object.defineProperty(s5,"__esModule",{value:!0});var dg=pa,hTe=Kf,CV=Ml;function fTe(i,e,t,n,r,s){e.arrayLevel++,e.arrayLevel>e.arrayItemWriters.length&&e.arrayItemWriters.push(new hTe.ZipsonStringWriter);var o=e.arrayItemWriters[e.arrayLevel-1],a=e.arrayItemWriters[e.arrayLevel-2]||r;a.write(dg.ARRAY_START_TOKEN);var l="",u=0,c=0,h=new i.template.Object(t[0],t[1]);h.isTemplating&&h.compressTemplate(i,e,n,a,s);for(var f=0;f<t.length;f++){var m=t[f];o.value="",m===void 0&&(m=null),f>1&&h.isTemplating&&h.isNextTemplateable(t[f],a),h.isTemplating?h.compressTemplateValues(i,e,n,o,s,t[f]):i.any(i,e,m,n,o,s),o.value===l?(u++,u>=dg.ARRAY_REPEAT_COUNT_THRESHOLD?(c===0&&a.write(dg.ARRAY_REPEAT_MANY_TOKEN),c++):a.write(dg.ARRAY_REPEAT_TOKEN)):(u=0,c>0&&(a.write(CV.compressInteger(c)),c=0),a.write(o.value),l=o.value)}c>0&&a.write(CV.compressInteger(c)),h.isTemplating&&h.end(a),a.write(dg.ARRAY_END_TOKEN),e.arrayLevel--}s5.compressArray=fTe;var o5={};Object.defineProperty(o5,"__esModule",{value:!0});var Nr=pa,pTe=Ml;function gTe(i,e,t,n,r,s){var o,a=Nr.STRING_IDENT_PREFIX+t;if(s.detectUtcTimestamps&&t[t.length-1]==="Z"&&t.match(Nr.DATE_REGEX)){var l=Date.parse(t);i.date(i,e,l,n,r,s)}else if((o=n.stringMap[a])!==void 0)r.write(""+Nr.REF_STRING_TOKEN+o);else{var u=pTe.compressInteger(n.stringCount),c=""+Nr.STRING_TOKEN+t.replace(Nr.REGEX_ESCAPE_CHARACTER,Nr.ESCAPE_CHARACTER+Nr.ESCAPE_CHARACTER).replace(Nr.REGEX_STRING_TOKEN,Nr.ESCAPED_STRING_TOKEN)+Nr.STRING_TOKEN;u.length+Nr.REFERENCE_HEADER_LENGTH+1<c.length?(n.stringMap[a]=u,n.stringCount++,r.write(c)):r.write(""+Nr.UNREFERENCED_STRING_TOKEN+t.replace(Nr.REGEX_ESCAPE_CHARACTER,Nr.ESCAPE_CHARACTER+Nr.ESCAPE_CHARACTER).replace(Nr.REGEX_UNREFERENCED_STRING_TOKEN,Nr.ESCAPED_UNREFERENCED_STRING_TOKEN)+Nr.UNREFERENCED_STRING_TOKEN)}}o5.compressString=gTe;var a5={};Object.defineProperty(a5,"__esModule",{value:!0});var Zo=pa,Zy=Ml;function mTe(i,e,t,n,r,s){var o;if(t%1===0)if(t<Zo.INTEGER_SMALL_EXCLUSIVE_BOUND_UPPER&&t>Zo.INTEGER_SMALL_EXCLUSIVE_BOUND_LOWER)r.write(Zo.INTEGER_SMALL_TOKENS[t+Zo.INTEGER_SMALL_TOKEN_ELEMENT_OFFSET]);else if((o=n.integerMap[t])!==void 0)r.write(""+Zo.REF_INTEGER_TOKEN+o);else{var a=Zy.compressInteger(n.integerCount),l=Zy.compressInteger(t),u=""+Zo.INTEGER_TOKEN+l;a.length+Zo.REFERENCE_HEADER_LENGTH<u.length?(n.integerMap[t]=a,n.integerCount++,r.write(u)):r.write(""+Zo.UNREFERENCED_INTEGER_TOKEN+l)}else{var c=Zy.compressFloat(t,s.fullPrecisionFloats);if((o=n.floatMap[c])!==void 0)r.write(""+Zo.REF_FLOAT_TOKEN+o);else{var a=Zy.compressInteger(n.floatCount),u=""+Zo.FLOAT_TOKEN+c;a.length+Zo.REFERENCE_HEADER_LENGTH<u.length?(n.floatMap[c]=a,n.floatCount++,r.write(u)):r.write(""+Zo.UNREFERENCED_FLOAT_TOKEN+c)}}}a5.compressNumber=mTe;var l5={};Object.defineProperty(l5,"__esModule",{value:!0});var wV=pa;function vTe(i,e,t,n,r,s){r.write(wV.OBJECT_START_TOKEN);var o=Object.keys(t),a=new i.template.Object(t[o[0]],t[o[1]]);a.isTemplating&&a.compressTemplate(i,e,n,r,s);for(var l=0;l<o.length;l++)if(l>1&&a.isTemplating&&a.isNextTemplateable(t[o[l]],r),a.isTemplating)i.string(i,e,o[l],n,r,s),a.compressTemplateValues(i,e,n,r,s,t[o[l]]);else{var u=o[l],c=t[u];c!==void 0&&(i.string(i,e,u,n,r,s),i.any(i,e,c,n,r,s))}a.isTemplating&&a.end(r),r.write(wV.OBJECT_END_TOKEN)}l5.compressObject=vTe;var u5={};Object.defineProperty(u5,"__esModule",{value:!0});var iu=pa,Xy=Ml;function yTe(i,e,t,n,r,s){var o,a=t/iu.DATE_LOW_PRECISION,l=a%1===0;if(l)if((o=n.lpDateMap[a])!==void 0)r.write(""+iu.REF_LP_DATE_TOKEN+o);else{var u=Xy.compressInteger(n.lpDateCount),c=Xy.compressInteger(a),h=""+iu.LP_DATE_TOKEN+c;u.length+iu.REFERENCE_HEADER_LENGTH<h.length?(n.lpDateMap[a]=u,n.lpDateCount++,r.write(h)):r.write(""+iu.UNREFERENCED_LP_DATE_TOKEN+c)}else if((o=n.dateMap[t])!==void 0)r.write(""+iu.REF_DATE_TOKEN+o);else{var u=Xy.compressInteger(n.dateCount),c=Xy.compressInteger(t),h=""+iu.DATE_TOKEN+c;u.length+iu.REFERENCE_HEADER_LENGTH<h.length?(n.dateMap[t]=u,n.dateCount++,r.write(h)):r.write(""+iu.UNREFERENCED_DATE_TOKEN+c)}}u5.compressDate=yTe;var c5={},d5={};Object.defineProperty(d5,"__esModule",{value:!0});function bTe(i){var e=typeof i;return e==="number"||e==="string"||e==="boolean"||i===null||Array.isArray(i)||i instanceof Date?!1:i!==void 0}d5.isObject=bTe;Object.defineProperty(c5,"__esModule",{value:!0});var K0=pa,Dg=d5,CTe=function(){function i(e,t){this.isTemplating=!1,this.struct=[],e!=null&&t!=null&&(this.isTemplating=GF(e,t,this.struct))}return i.prototype.compressTemplate=function(e,t,n,r,s){JF(e,t,n,r,s,this.struct)},i.prototype.compressTemplateValues=function(e,t,n,r,s,o){YF(e,t,n,r,s,this.struct,o)},i.prototype.isNextTemplateable=function(e,t){this.isTemplating=KF(this.struct,e),this.isTemplating||t.write(K0.TEMPLATE_OBJECT_FINAL)},i.prototype.end=function(e){e.write(K0.TEMPLATE_OBJECT_FINAL)},i}();c5.TemplateObject=CTe;function GF(i,e,t,n){if(n===void 0&&(n=0),n>6)return!1;var r=Object.keys(i),s=Object.keys(e);if(r.length!==s.length||r.length>10)return!1;r.sort(function(f,m){return f.localeCompare(m)}),s.sort(function(f,m){return f.localeCompare(m)});for(var o=0;o<r.length;o++){var a=r[o],l=s[o];if(a!==l)return!1;var u=i[a],c=e[l];if(Dg.isObject(u)){if(!Dg.isObject(c))return!1;var h=[];if(t.push([a,h]),!GF(u,c,h,n+1))return!1}else{if(Dg.isObject(c))return!1;t.push([a])}}return n>0||Dg.isObject(i)}function KF(i,e){if(!e||Object.keys(e).length!==i.length)return!1;for(var t=0;t<i.length;t++){var n=i[t][0],r=i[t].length>1;if(e[n]===void 0)return!1;if(r){var s=i[t];if(s[1],!KF(i[t][1],e[n]))return!1}else if(Dg.isObject(e[n]))return!1}return!0}function JF(i,e,t,n,r,s){n.write(K0.TEMPLATE_OBJECT_START);for(var o=0;o<s.length;o++){var a=s[o][0],l=s[o].length>1;i.string(i,e,a,t,n,r),l&&JF(i,e,t,n,r,s[o][1])}n.write(K0.TEMPLATE_OBJECT_END)}function YF(i,e,t,n,r,s,o){for(var a=0;a<s.length;a++){var l=s[a][0],u=o[l],c=s[a].length>1;c?YF(i,e,t,n,r,s[a][1],u):i.any(i,e,u,t,n,r)}}Object.defineProperty(sy,"__esModule",{value:!0});var wTe=r5,_Te=s5,ITe=o5,ETe=a5,STe=l5,TTe=u5,xTe=c5,_V={any:wTe.compressAny,array:_Te.compressArray,object:STe.compressObject,string:ITe.compressString,date:TTe.compressDate,number:ETe.compressNumber,template:{Object:xTe.TemplateObject}};function PTe(){return{arrayItemWriters:[],arrayLevel:0}}sy.makeCompressContext=PTe;function RTe(){return{stringMap:{},integerMap:{},floatMap:{},dateMap:{},lpDateMap:{},stringCount:0,integerCount:0,floatCount:0,dateCount:0,lpDateCount:0}}sy.makeInvertedIndex=RTe;function kTe(i,e,t,n,r){_V.any(_V,i,e,t,n,r)}sy.compress=kTe;var oy={},Dp={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.SKIP_SCALAR={},function(e){e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.SCALAR="SCALAR",e.TEMPLATE_OBJECT="TEMPLATE_OBJECT",e.TEMPLATE_OBJECT_PROPERTIES="TEMPLATE_OBJECT_PROPERTIES",e.TEMPLATE_OBJECT_ELEMENTS="TEMPLATE_OBJECT_ELEMENTS"}(i.TargetType||(i.TargetType={}))})(Dp);var h5={},OC={};Object.defineProperty(OC,"__esModule",{value:!0});var _n=pa,ATe=Dp,Ys=Ml;function VTe(i,e,t,n){var r=t.index,s=t.index+1,o;if(i===_n.STRING_TOKEN&&(o=_n.STRING_TOKEN)||i===_n.UNREFERENCED_STRING_TOKEN&&(o=_n.UNREFERENCED_STRING_TOKEN)){for(var a=!0;a&&s<e.length;){s=e.indexOf(o,s);var l=1;for(a=!1;e[s-l]===_n.ESCAPE_CHARACTER;)a=l%2===1,l++;s++}s<=r&&(s=e.length)}else for(;!(e.charCodeAt(s)>_n.DELIMITING_TOKENS_THRESHOLD)&&s<e.length;)s++;if(!t.drain&&s===e.length)return ATe.SKIP_SCALAR;t.index=s-1;var u=i.charCodeAt(0);if(u>_n.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_LOWER&&u<_n.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_UPPER)return u+_n.INTEGER_SMALL_TOKEN_OFFSET;if(i===_n.ARRAY_REPEAT_MANY_TOKEN)return Ys.decompressInteger(e.substring(r+1,s));if(i===_n.REF_STRING_TOKEN)return n.strings[Ys.decompressInteger(e.substring(r+1,s))];if(i===_n.REF_INTEGER_TOKEN)return n.integers[Ys.decompressInteger(e.substring(r+1,s))];if(i===_n.REF_FLOAT_TOKEN)return n.floats[Ys.decompressInteger(e.substring(r+1,s))];if(i===_n.REF_DATE_TOKEN)return n.dates[Ys.decompressInteger(e.substring(r+1,s))];if(i===_n.REF_LP_DATE_TOKEN)return n.lpDates[Ys.decompressInteger(e.substring(r+1,s))];if(i===_n.STRING_TOKEN)return n.strings[n.strings.length]=e.substring(r+1,s-1).replace(_n.REGEX_ESCAPED_ESCAPE_CHARACTER,_n.ESCAPE_CHARACTER).replace(_n.REGEX_ESCAPED_STRING_TOKEN,_n.STRING_TOKEN);if(i===_n.INTEGER_TOKEN)return n.integers[n.integers.length]=Ys.decompressInteger(e.substring(r+1,s));if(i===_n.FLOAT_TOKEN)return n.floats[n.floats.length]=Ys.decompressFloat(e.substring(r+1,s));if(i===_n.DATE_TOKEN)return n.dates[n.dates.length]=new Date(Ys.decompressInteger(e.substring(r+1,s))).toISOString();if(i===_n.LP_DATE_TOKEN)return n.lpDates[n.lpDates.length]=new Date(_n.DATE_LOW_PRECISION*Ys.decompressInteger(e.substring(r+1,s))).toISOString();if(i===_n.UNREFERENCED_STRING_TOKEN)return e.substring(r+1,s-1).replace(_n.REGEX_ESCAPED_ESCAPE_CHARACTER,_n.ESCAPE_CHARACTER).replace(_n.REGEX_UNREFERENCED_ESCAPED_STRING_TOKEN,_n.UNREFERENCED_STRING_TOKEN);if(i===_n.UNREFERENCED_INTEGER_TOKEN)return Ys.decompressInteger(e.substring(r+1,s));if(i===_n.UNREFERENCED_FLOAT_TOKEN)return Ys.decompressFloat(e.substring(r+1,s));if(i===_n.UNREFERENCED_DATE_TOKEN)return new Date(Ys.decompressInteger(e.substring(r+1,s))).toISOString();if(i===_n.UNREFERENCED_LP_DATE_TOKEN)return new Date(_n.DATE_LOW_PRECISION*Ys.decompressInteger(e.substring(r+1,s))).toISOString();if(i===_n.BOOLEAN_TRUE_TOKEN)return!0;if(i===_n.BOOLEAN_FALSE_TOKEN)return!1;if(i===_n.NULL_TOKEN)return null;if(i===_n.UNDEFINED_TOKEN)return;throw new Error("Unexpected scalar "+i+" at "+r+"-"+s)}OC.decompressScalar=VTe;var f5={},DC={};Object.defineProperty(DC,"__esModule",{value:!0});function ZF(i,e){for(var t=i.paths[i.currentPathIndex],n=0,r=i.currentObject;n<t.length-1;n++){var s=t[n];r=r[s]=r[s]||{}}e!==void 0&&(r[t[n]]=e)}function LTe(i,e){i.currentPathIndex===-1?i.value[e]=i.currentObject={}:ZF(i,e),++i.currentPathIndex===i.expectedPaths&&(i.currentPathIndex=-1)}DC.appendTemplateObjectPropertiesValue=LTe;function OTe(i,e){i.currentPathIndex===0&&(i.currentObject={},i.value.push(i.currentObject)),ZF(i,e),++i.currentPathIndex===i.expectedPaths&&(i.currentPathIndex=0)}DC.appendTemplateObjectElementsValue=OTe;Object.defineProperty(f5,"__esModule",{value:!0});var IV=pa,Td=Dp,DTe=OC,EV=DC;function NTe(i,e,t,n){var r;if(i===IV.ARRAY_END_TOKEN||i===IV.OBJECT_END_TOKEN)r=e.currentTarget.value,e.currentTarget=e.stack[e.pointer-1],e.pointer--;else if(r=DTe.decompressScalar(i,t,e,n),r===Td.SKIP_SCALAR)return!1;return e.currentTarget.type===Td.TargetType.SCALAR?e.currentTarget.value=r:e.currentTarget.type===Td.TargetType.ARRAY?e.currentTarget.value[e.currentTarget.value.length]=r:e.currentTarget.type===Td.TargetType.OBJECT?e.currentTarget.key!=null?(e.currentTarget.value[e.currentTarget.key]=r,e.currentTarget.key=void 0):e.currentTarget.key=r:e.currentTarget.type===Td.TargetType.TEMPLATE_OBJECT?(e.currentTarget.currentToken=r,e.currentTarget.currentTokens.push(r)):e.currentTarget.type===Td.TargetType.TEMPLATE_OBJECT_PROPERTIES?EV.appendTemplateObjectPropertiesValue(e.currentTarget,r):e.currentTarget.type===Td.TargetType.TEMPLATE_OBJECT_ELEMENTS&&EV.appendTemplateObjectElementsValue(e.currentTarget,r),!0}f5.decompressElement=NTe;Object.defineProperty(h5,"__esModule",{value:!0});var xd=pa,Yr=Dp,MTe=OC,FTe=f5;function $Te(i,e,t){for(;i.index<e.length;i.index++){var n=e[i.index];if(n===xd.ARRAY_START_TOKEN)i.currentTarget={type:Yr.TargetType.ARRAY,value:[]},i.stack[++i.pointer]=i.currentTarget;else if(n===xd.OBJECT_START_TOKEN)i.currentTarget={type:Yr.TargetType.OBJECT,value:{}},i.stack[++i.pointer]=i.currentTarget;else if(n===xd.ARRAY_REPEAT_TOKEN&&(i.currentTarget.type===Yr.TargetType.ARRAY||i.currentTarget.type===Yr.TargetType.TEMPLATE_OBJECT_ELEMENTS)){var r=i.currentTarget.value[i.currentTarget.value.length-1];i.currentTarget.value.push(r)}else if(n===xd.ARRAY_REPEAT_MANY_TOKEN&&(i.currentTarget.type===Yr.TargetType.ARRAY||i.currentTarget.type===Yr.TargetType.TEMPLATE_OBJECT_ELEMENTS)){var s=MTe.decompressScalar(e[i.index],e,i,t);if(s===Yr.SKIP_SCALAR)return;for(var r=i.currentTarget.value[i.currentTarget.value.length-1],o=0;o<s;o++)i.currentTarget.value.push(r)}else if(n===xd.TEMPLATE_OBJECT_START&&(i.currentTarget.type===Yr.TargetType.TEMPLATE_OBJECT||i.currentTarget.type===Yr.TargetType.OBJECT||i.currentTarget.type===Yr.TargetType.ARRAY))if(i.currentTarget.type!==Yr.TargetType.TEMPLATE_OBJECT){var a=i.currentTarget;i.currentTarget={type:Yr.TargetType.TEMPLATE_OBJECT,value:void 0,currentTokens:[],currentRoute:[],paths:[],level:0,parentTarget:a},i.stack[++i.pointer]=i.currentTarget}else{for(var o=0;o<i.currentTarget.currentTokens.length-1;o++){var l=i.currentTarget.currentTokens[o];i.currentTarget.paths[i.currentTarget.paths.length]=i.currentTarget.currentRoute.concat(l)}i.currentTarget.currentToken!=null&&i.currentTarget.currentRoute.push(i.currentTarget.currentToken),i.currentTarget.currentTokens=[],i.currentTarget.level++}else if(n===xd.TEMPLATE_OBJECT_END&&i.currentTarget.type===Yr.TargetType.TEMPLATE_OBJECT){for(var o=0;o<i.currentTarget.currentTokens.length;o++){var l=i.currentTarget.currentTokens[o];i.currentTarget.paths[i.currentTarget.paths.length]=i.currentTarget.currentRoute.concat(l)}if(i.currentTarget.currentTokens=[],i.currentTarget.currentRoute=i.currentTarget.currentRoute.slice(0,-1),i.currentTarget.level--,i.currentTarget.level<0){var u=i.currentTarget.paths,a=i.currentTarget.parentTarget;i.pointer--,a.type===Yr.TargetType.ARRAY?i.currentTarget={type:Yr.TargetType.TEMPLATE_OBJECT_ELEMENTS,value:a.value,paths:u,currentPathIndex:0,expectedPaths:u.length,currentObject:{}}:a.type===Yr.TargetType.OBJECT&&(i.currentTarget={type:Yr.TargetType.TEMPLATE_OBJECT_PROPERTIES,value:a.value,paths:u,currentPathIndex:-1,expectedPaths:u.length,currentObject:{}}),i.stack[++i.pointer]=i.currentTarget}}else if(n===xd.TEMPLATE_OBJECT_FINAL)i.currentTarget=i.stack[--i.pointer];else if(!FTe.decompressElement(n,i,e,t))return}}h5.decompressStages=$Te;Object.defineProperty(oy,"__esModule",{value:!0});var BTe=Dp,XF=h5;function qTe(){return{strings:[],integers:[],floats:[],dates:[],lpDates:[]}}oy.makeOrderedIndex=qTe;function e$(i){var e={type:BTe.TargetType.SCALAR,value:void 0},t=new Array(10);return t[0]=e,{index:0,rootTarget:e,stack:t,currentTarget:e,pointer:0,drain:i}}function UTe(i,e){var t=e$(!0);return XF.decompressStages(t,i,e),t.rootTarget.value}oy.decompress=UTe;function HTe(i){var e=e$(!1),t="";function n(r){if(r===null)e.drain=!0;else{if(r.length===0)return;t+=r}var s=e.index;XF.decompressStages(e,t,i);var o=e.index-s;o>0&&(t=t.substring(o),e.index-=o)}return{increment:n,cursor:e}}oy.decompressIncremental=HTe;(function(i){function e(u){for(var c in u)i.hasOwnProperty(c)||(i[c]=u[c])}Object.defineProperty(i,"__esModule",{value:!0});var t=sy,n=Kf,r=oy;e(Kf),e(Dp);function s(u){var c=r.makeOrderedIndex();return r.decompress(u,c)}i.parse=s;function o(){var u=r.makeOrderedIndex(),c=r.decompressIncremental(u),h=c.cursor,f=c.increment;return function(m){if(f(m),m===null)return h.rootTarget.value}}i.parseIncremental=o;function a(u,c,h){h===void 0&&(h={});var f=t.makeInvertedIndex(),m=t.makeCompressContext();t.compress(m,u,f,c,h),c.end()}i.stringifyTo=a;function l(u,c){var h=new n.ZipsonStringWriter;return a(u,h,c),h.value}i.stringify=l})(XI);const zTe=()=>NE({id:"gameStore",state:()=>({selectedAdmin:void 0,requireRefresh:!1}),actions:{requireHomeRefresh(){this.requireRefresh=!0}},persist:{storage:sessionStorage,debug:!1,serializer:{deserialize:XI.parse,serialize:XI.stringify}}})(),jTe=()=>{const i=ud(),e=iTe(),t=zTe(),n=Pb(),r=OB();return DB({mutationKey:nTe,mutationFn:async()=>{await i.roarfirekit.signOut()},onSuccess:async()=>{await r.cancelQueries(),i.$reset(),t.$reset(),e.reset(),sessionStorage.removeItem("authStore"),sessionStorage.removeItem("gameStore"),r.clear(),await i.initFirekit(),n.push({path:nv.SIGN_IN})},onError:s=>{y7(s)}})};var gs={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},_ze={AND:"and",OR:"or"};function SV(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=QTe(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){t=t.call(i)},n:function(){var u=t.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw s}}}}function QTe(i,e){if(i){if(typeof i=="string")return TV(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?TV(i,e):void 0}}function TV(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}var WTe={filter:function(e,t,n,r,s){var o=[];if(!e)return o;var a=SV(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[r](u,n,s)){o.push(u);continue}}else{var c=SV(t),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,m=uu(u,f);if(this.filters[r](m,n,s)){o.push(u);break}}}catch(b){c.e(b)}finally{c.f()}}}}catch(b){a.e(b)}finally{a.f()}return o},filters:{startsWith:function(e,t,n){if(t==null||t==="")return!0;if(e==null)return!1;var r=Yo(t.toString()).toLocaleLowerCase(n),s=Yo(e.toString()).toLocaleLowerCase(n);return s.slice(0,r.length)===r},contains:function(e,t,n){if(t==null||t==="")return!0;if(e==null)return!1;var r=Yo(t.toString()).toLocaleLowerCase(n),s=Yo(e.toString()).toLocaleLowerCase(n);return s.indexOf(r)!==-1},notContains:function(e,t,n){if(t==null||t==="")return!0;if(e==null)return!1;var r=Yo(t.toString()).toLocaleLowerCase(n),s=Yo(e.toString()).toLocaleLowerCase(n);return s.indexOf(r)===-1},endsWith:function(e,t,n){if(t==null||t==="")return!0;if(e==null)return!1;var r=Yo(t.toString()).toLocaleLowerCase(n),s=Yo(e.toString()).toLocaleLowerCase(n);return s.indexOf(r,s.length-r.length)!==-1},equals:function(e,t,n){return t==null||t===""?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()===t.getTime():Yo(e.toString()).toLocaleLowerCase(n)==Yo(t.toString()).toLocaleLowerCase(n)},notEquals:function(e,t,n){return t==null||t===""?!1:e==null?!0:e.getTime&&t.getTime?e.getTime()!==t.getTime():Yo(e.toString()).toLocaleLowerCase(n)!=Yo(t.toString()).toLocaleLowerCase(n)},in:function(e,t){if(t==null||t.length===0)return!0;for(var n=0;n<t.length;n++)if(YT(e,t[n]))return!0;return!1},between:function(e,t){return t==null||t[0]==null||t[1]==null?!0:e==null?!1:e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1]},lt:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<t.getTime():e<t},lte:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t},gt:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>t.getTime():e>t},gte:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t},dateIs:function(e,t){return t==null?!0:e==null?!1:e.toDateString()===t.toDateString()},dateIsNot:function(e,t){return t==null?!0:e==null?!1:e.toDateString()!==t.toDateString()},dateBefore:function(e,t){return t==null?!0:e==null?!1:e.getTime()<t.getTime()},dateAfter:function(e,t){return t==null?!0:e==null?!1:e.getTime()>t.getTime()}},register:function(e,t){this.filters[e]=t}},t$={name:"BlankIcon",extends:is};function GTe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1)]),16)}t$.render=GTe;var n$={name:"ChevronDownIcon",extends:is};function KTe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1)]),16)}n$.render=KTe;var i$={name:"SearchIcon",extends:is};function JTe(i,e,t,n,r,s){return I(),D("svg",Ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.pti()),e[0]||(e[0]=[te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1)]),16)}i$.render=JTe;var YTe=`
    .p-iconfield {
        position: relative;
        display: block;
    }

    .p-inputicon {
        position: absolute;
        top: 50%;
        margin-top: calc(-1 * (dt('icon.size') / 2));
        color: dt('iconfield.icon.color');
        line-height: 1;
        z-index: 1;
    }

    .p-iconfield .p-inputicon:first-child {
        inset-inline-start: dt('form.field.padding.x');
    }

    .p-iconfield .p-inputicon:last-child {
        inset-inline-end: dt('form.field.padding.x');
    }

    .p-iconfield .p-inputtext:not(:first-child),
    .p-iconfield .p-inputwrapper:not(:first-child) .p-inputtext {
        padding-inline-start: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-iconfield .p-inputtext:not(:last-child) {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-iconfield:has(.p-inputfield-sm) .p-inputicon {
        font-size: dt('form.field.sm.font.size');
        width: dt('form.field.sm.font.size');
        height: dt('form.field.sm.font.size');
        margin-top: calc(-1 * (dt('form.field.sm.font.size') / 2));
    }

    .p-iconfield:has(.p-inputfield-lg) .p-inputicon {
        font-size: dt('form.field.lg.font.size');
        width: dt('form.field.lg.font.size');
        height: dt('form.field.lg.font.size');
        margin-top: calc(-1 * (dt('form.field.lg.font.size') / 2));
    }
`,ZTe={root:"p-iconfield"},XTe=Nn.extend({name:"iconfield",style:YTe,classes:ZTe}),e5e={name:"BaseIconField",extends:fa,style:XTe,provide:function(){return{$pcIconField:this,$parentInstance:this}}},r$={name:"IconField",extends:e5e,inheritAttrs:!1};function t5e(i,e,t,n,r,s){return I(),D("div",Ae({class:i.cx("root")},i.ptmi("root")),[on(i.$slots,"default")],16)}r$.render=t5e;var n5e={root:"p-inputicon"},i5e=Nn.extend({name:"inputicon",classes:n5e}),r5e={name:"BaseInputIcon",extends:fa,style:i5e,props:{class:null},provide:function(){return{$pcInputIcon:this,$parentInstance:this}}},s$={name:"InputIcon",extends:r5e,inheritAttrs:!1,computed:{containerClass:function(){return[this.cx("root"),this.class]}}};function s5e(i,e,t,n,r,s){return I(),D("span",Ae({class:s.containerClass},i.ptmi("root"),{"aria-hidden":"true"}),[on(i.$slots,"default")],16)}s$.render=s5e;var o5e={name:"BaseEditableHolder",extends:fa,emits:["update:modelValue","value-change"],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue!==void 0?this.defaultValue:this.modelValue}},watch:{modelValue:function(e){this.d_value=e},defaultValue:function(e){this.d_value=e},$formName:{immediate:!0,handler:function(e){var t,n;this.formField=((t=this.$pcForm)===null||t===void 0||(n=t.register)===null||n===void 0?void 0:n.call(t,e,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(e){var t,n;this.formField=((t=this.$pcForm)===null||t===void 0||(n=t.register)===null||n===void 0?void 0:n.call(t,this.$formName,e))||{}}},$formDefaultValue:{immediate:!0,handler:function(e){this.d_value!==e&&(this.d_value=e)}},$formValue:{immediate:!1,handler:function(e){var t;(t=this.$pcForm)!==null&&t!==void 0&&t.getFieldState(this.$formName)&&e!==this.d_value&&(this.d_value=e)}}},formField:{},methods:{writeValue:function(e,t){var n,r;this.controlled&&(this.d_value=e,this.$emit("update:modelValue",e)),this.$emit("value-change",e),(n=(r=this.formField).onChange)===null||n===void 0||n.call(r,{originalEvent:t,value:e})},findNonEmpty:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(cn)}},computed:{$filled:function(){return cn(this.d_value)},$invalid:function(){var e,t;return!this.$formNovalidate&&this.findNonEmpty(this.invalid,(e=this.$pcFormField)===null||e===void 0||(e=e.$field)===null||e===void 0?void 0:e.invalid,(t=this.$pcForm)===null||t===void 0||(t=t.getFieldState(this.$formName))===null||t===void 0?void 0:t.invalid)},$formName:function(){var e;return this.$formNovalidate?void 0:this.name||((e=this.$formControl)===null||e===void 0?void 0:e.name)},$formControl:function(){var e;return this.formControl||((e=this.$pcFormField)===null||e===void 0?void 0:e.formControl)},$formNovalidate:function(){var e;return(e=this.$formControl)===null||e===void 0?void 0:e.novalidate},$formDefaultValue:function(){var e,t;return this.findNonEmpty(this.d_value,(e=this.$pcFormField)===null||e===void 0?void 0:e.initialValue,(t=this.$pcForm)===null||t===void 0||(t=t.initialValues)===null||t===void 0?void 0:t[this.$formName])},$formValue:function(){var e,t;return this.findNonEmpty((e=this.$pcFormField)===null||e===void 0||(e=e.$field)===null||e===void 0?void 0:e.value,(t=this.$pcForm)===null||t===void 0||(t=t.getFieldState(this.$formName))===null||t===void 0?void 0:t.value)},controlled:function(){return this.$inProps.hasOwnProperty("modelValue")||!this.$inProps.hasOwnProperty("modelValue")&&!this.$inProps.hasOwnProperty("defaultValue")},filled:function(){return this.$filled}}},o$={name:"BaseInput",extends:o5e,props:{size:{type:String,default:null},fluid:{type:Boolean,default:null},variant:{type:String,default:null}},inject:{$parentInstance:{default:void 0},$pcFluid:{default:void 0}},computed:{$variant:function(){var e;return(e=this.variant)!==null&&e!==void 0?e:this.$primevue.config.inputStyle||this.$primevue.config.inputVariant},$fluid:function(){var e;return(e=this.fluid)!==null&&e!==void 0?e:!!this.$pcFluid},hasFluid:function(){return this.$fluid}}},a5e=`
    .p-inputtext {
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: dt('inputtext.color');
        background: dt('inputtext.background');
        padding-block: dt('inputtext.padding.y');
        padding-inline: dt('inputtext.padding.x');
        border: 1px solid dt('inputtext.border.color');
        transition:
            background dt('inputtext.transition.duration'),
            color dt('inputtext.transition.duration'),
            border-color dt('inputtext.transition.duration'),
            outline-color dt('inputtext.transition.duration'),
            box-shadow dt('inputtext.transition.duration');
        appearance: none;
        border-radius: dt('inputtext.border.radius');
        outline-color: transparent;
        box-shadow: dt('inputtext.shadow');
    }

    .p-inputtext:enabled:hover {
        border-color: dt('inputtext.hover.border.color');
    }

    .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
        box-shadow: dt('inputtext.focus.ring.shadow');
        outline: dt('inputtext.focus.ring.width') dt('inputtext.focus.ring.style') dt('inputtext.focus.ring.color');
        outline-offset: dt('inputtext.focus.ring.offset');
    }

    .p-inputtext.p-invalid {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.p-variant-filled {
        background: dt('inputtext.filled.background');
    }

    .p-inputtext.p-variant-filled:enabled:hover {
        background: dt('inputtext.filled.hover.background');
    }

    .p-inputtext.p-variant-filled:enabled:focus {
        background: dt('inputtext.filled.focus.background');
    }

    .p-inputtext:disabled {
        opacity: 1;
        background: dt('inputtext.disabled.background');
        color: dt('inputtext.disabled.color');
    }

    .p-inputtext::placeholder {
        color: dt('inputtext.placeholder.color');
    }

    .p-inputtext.p-invalid::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }

    .p-inputtext-sm {
        font-size: dt('inputtext.sm.font.size');
        padding-block: dt('inputtext.sm.padding.y');
        padding-inline: dt('inputtext.sm.padding.x');
    }

    .p-inputtext-lg {
        font-size: dt('inputtext.lg.font.size');
        padding-block: dt('inputtext.lg.padding.y');
        padding-inline: dt('inputtext.lg.padding.x');
    }

    .p-inputtext-fluid {
        width: 100%;
    }
`,l5e={root:function(e){var t=e.instance,n=e.props;return["p-inputtext p-component",{"p-filled":t.$filled,"p-inputtext-sm p-inputfield-sm":n.size==="small","p-inputtext-lg p-inputfield-lg":n.size==="large","p-invalid":t.$invalid,"p-variant-filled":t.$variant==="filled","p-inputtext-fluid":t.$fluid}]}},u5e=Nn.extend({name:"inputtext",style:a5e,classes:l5e}),c5e={name:"BaseInputText",extends:o$,style:u5e,provide:function(){return{$pcInputText:this,$parentInstance:this}}};function iv(i){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(i)}function d5e(i,e,t){return(e=h5e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function h5e(i){var e=f5e(i,"string");return iv(e)=="symbol"?e:e+""}function f5e(i,e){if(iv(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var a$={name:"InputText",extends:c5e,inheritAttrs:!1,methods:{onInput:function(e){this.writeValue(e.target.value,e)}},computed:{attrs:function(){return Ae(this.ptmi("root",{context:{filled:this.$filled,disabled:this.disabled}}),this.formField)},dataP:function(){return sa(d5e({invalid:this.$invalid,fluid:this.$fluid,filled:this.$variant==="filled"},this.size,this.size))}}},p5e=["value","name","disabled","aria-invalid","data-p"];function g5e(i,e,t,n,r,s){return I(),D("input",Ae({type:"text",class:i.cx("root"),value:i.d_value,name:i.name,disabled:i.disabled,"aria-invalid":i.$invalid||void 0,"data-p":s.dataP,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.attrs),null,16,p5e)}a$.render=g5e;var m5e=Xv(),v5e=`
    .p-virtualscroller-loader {
        background: dt('virtualscroller.loader.mask.background');
        color: dt('virtualscroller.loader.mask.color');
    }

    .p-virtualscroller-loading-icon {
        font-size: dt('virtualscroller.loader.icon.size');
        width: dt('virtualscroller.loader.icon.size');
        height: dt('virtualscroller.loader.icon.size');
    }
`,y5e=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}

.p-virtualscroller .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    inset-block-start: 0;
    inset-inline-start: 0;
}
`,xV=Nn.extend({name:"virtualscroller",css:y5e,style:v5e}),b5e={name:"BaseVirtualScroller",extends:fa,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:xV,provide:function(){return{$pcVirtualScroller:this,$parentInstance:this}},beforeMount:function(){var e;xV.loadCSS({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function rv(i){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(i)}function PV(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function hg(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(t),!0).forEach(function(n){l$(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):PV(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function l$(i,e,t){return(e=C5e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function C5e(i){var e=w5e(i,"string");return rv(e)=="symbol"?e:e+""}function w5e(i,e){if(rv(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var u$={name:"VirtualScroller",extends:b5e,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,resizeObserver:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,t){this.lazy&&e!==t&&e!==this.d_loading&&(this.d_loading=e)},items:{handler:function(e,t){(!t||t.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},deep:!0},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){q0(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.defaultWidth=Fd(this.element),this.defaultHeight=Md(this.element),this.defaultContentWidth=Fd(this.content),this.defaultContentHeight=Md(this.content),this.initialized=!0),this.element&&this.bindResizeListener()},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",r=this.isBoth(),s=this.isHorizontal(),o=r?e.every(function(L){return L>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,m=this.calculateNumItems(),b=m.numToleratedItems,_=this.getContentPosition(),E=this.itemSize,k=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,w=arguments.length>1?arguments[1]:void 0;return y<=w?0:y},j=function(y,w,R){return y*w+R},M=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.scrollTo({left:y,top:w,behavior:n})},q=r?{rows:0,cols:0}:0,J=!1,Z=!1;r?(q={rows:k(e[0],b[0]),cols:k(e[1],b[1])},M(j(q.cols,E[1],_.left),j(q.rows,E[0],_.top)),Z=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,J=q.rows!==a.rows||q.cols!==a.cols):(q=k(e,b),s?M(j(q,E,_.left),c):M(f,j(q,E,_.top)),Z=this.lastScrollPos!==(s?f:c),J=q!==a),this.isRangeChanged=J,Z&&(this.first=q)}},scrollInView:function(e,t){var n=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(t){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(E){return E>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:k,top:j,behavior:r})},f=t==="to-start",m=t==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var b=(c.first-1)*this.itemSize;o?h(b,0):h(0,b)}}else if(m){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var _=(c.first+1)*this.itemSize;o?h(_,0):h(0,_)}}}}else this.scrollToIndex(e,r)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},t=this.first,n=0;if(this.element){var r=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(r)t={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},n={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols};else{var u=s?l:a;t=e(u,this.itemSize),n=t+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:t,last:n}}},calculateNumItems:function(){var e=this.isBoth(),t=this.isHorizontal(),n=this.itemSize,r=this.getContentPosition(),s=this.element?this.element.offsetWidth-r.left:0,o=this.element?this.element.offsetHeight-r.top:0,a=function(f,m){return Math.ceil(f/(m||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,n[0]),cols:a(s,n[1])}:a(t?s:o,n),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,t=this.isBoth(),n=this.first,r=this.calculateNumItems(),s=r.numItemsInViewport,o=r.numToleratedItems,a=function(c,h,f){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,m)},l=t?{rows:a(n.rows,s.rows,o[0]),cols:a(n.cols,s.cols,o[1],!0)}:a(n,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=t?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?t?{rows:0,cols:n.cols}:0:n,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var t=e.isBoth(),n=e.isHorizontal(),r=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[Fd(e.element),Md(e.element)],o=s[0],a=s[1];(t||n)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(t||r)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(r?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((t=this.items)===null||t===void 0?void 0:t.length)||0,n):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),n=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),r=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:n,top:r,bottom:s,x:t+n,y:r+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var t=this.isBoth(),n=this.isHorizontal(),r=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||r.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||r.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};t||n?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,t=this.items;if(t){var n=this.isBoth(),r=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=hg(hg({},e.spacerStyle),l$({},"".concat(l),(u||[]).length*c+h+"px"))};n?(o("height",t,this.itemSize[0],s.y),o("width",this.columns||t[1],this.itemSize[1],s.x)):r?o("width",this.columns||t,this.itemSize,s.x):o("height",t,this.itemSize,s.y)}},setContentPosition:function(e){var t=this;if(this.content&&!this.appendOnly){var n=this.isBoth(),r=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.contentStyle=hg(hg({},t.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(n)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);r?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var t=this,n=e.target,r=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(U,H){return U?U>H?U-H:U:0},l=function(U,H){return Math.floor(U/(H||U))},u=function(U,H,B,Oe,De,tt){return U<=De?De:tt?B-Oe-De:H+De-1},c=function(U,H,B,Oe,De,tt,Ne,Me){if(U<=tt)return 0;var qe=Math.max(0,Ne?U<H?B:U-tt:U>H?B:U-2*tt),Ue=t.getLast(qe,Me);return qe>Ue?Ue-De:qe},h=function(U,H,B,Oe,De,tt){var Ne=H+Oe+2*De;return U>=De&&(Ne+=De+1),t.getLast(Ne,tt)},f=a(n.scrollTop,o.top),m=a(n.scrollLeft,o.left),b=r?{rows:0,cols:0}:0,_=this.last,E=!1,k=this.lastScrollPos;if(r){var j=this.lastScrollPos.top<=f,M=this.lastScrollPos.left<=m;if(!this.appendOnly||this.appendOnly&&(j||M)){var q={rows:l(f,this.itemSize[0]),cols:l(m,this.itemSize[1])},J={rows:u(q.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],j),cols:u(q.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],M)};b={rows:c(q.rows,J.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],j),cols:c(q.cols,J.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],M,!0)},_={rows:h(q.rows,b.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(q.cols,b.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},E=b.rows!==this.first.rows||_.rows!==this.last.rows||b.cols!==this.first.cols||_.cols!==this.last.cols||this.isRangeChanged,k={top:f,left:m}}}else{var Z=s?m:f,L=this.lastScrollPos<=Z;if(!this.appendOnly||this.appendOnly&&L){var y=l(Z,this.itemSize),w=u(y,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,L);b=c(y,w,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,L),_=h(y,b,this.last,this.numItemsInViewport,this.d_numToleratedItems),E=b!==this.first||_!==this.last||this.isRangeChanged,k=Z}}return{first:b,last:_,isRangeChanged:E,scrollPos:k}},onScrollChange:function(e){var t=this.onScrollPositionChange(e),n=t.first,r=t.last,s=t.isRangeChanged,o=t.scrollPos;if(s){var a={first:n,last:r};if(this.setContentPosition(a),this.first=n,this.last=r,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(n)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(n)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):n,last:Math.min(this.step?(this.getPageByFirst(n)+1)*this.step:r,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var t=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var n=this.onScrollPositionChange(e),r=n.isRangeChanged,s=r||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){t.onScrollChange(e),t.d_loading&&t.showLoader&&(!t.lazy||t.loading===void 0)&&(t.d_loading=!1,t.page=t.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(q0(e.element)){var t=e.isBoth(),n=e.isVertical(),r=e.isHorizontal(),s=[Fd(e.element),Md(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=t?l||u:r?l:n?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=Fd(e.content),e.defaultContentHeight=Md(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener),this.resizeObserver=new ResizeObserver(function(){e.onResize()}),this.resizeObserver.observe(this.element))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)},getOptions:function(e){var t=(this.items||[]).length,n=this.isBoth()?this.first.rows+e:this.first+e;return{index:n,count:t,first:n===0,last:n===t-1,even:n%2===0,odd:n%2!==0}},getLoaderOptions:function(e,t){var n=this.loaderArr.length;return hg({index:e,count:n,first:e===0,last:e===n-1,even:e%2===0,odd:e%2!==0},t)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step&&!this.lazy?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||bu(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-virtualscroller-loader-mask":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(t){return e.columns?t:t.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),t=this.isHorizontal();if(e||t)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:xC}},_5e=["tabindex"];function I5e(i,e,t,n,r,s){var o=Ri("SpinnerIcon");return i.disabled?(I(),D(xt,{key:1},[on(i.$slots,"default"),on(i.$slots,"content",{items:i.items,rows:i.items,columns:s.loadedColumns})],64)):(I(),D("div",Ae({key:0,ref:s.elementRef,class:s.containerClass,tabindex:i.tabindex,style:i.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},i.ptmi("root")),[on(i.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:r.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:i.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:r.spacerStyle,contentStyle:r.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[te("div",Ae({ref:s.contentRef,class:s.contentClass,style:r.contentStyle},i.ptm("content")),[(I(!0),D(xt,null,en(s.loadedItems,function(a,l){return on(i.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),i.showSpacer?(I(),D("div",Ae({key:0,class:"p-virtualscroller-spacer",style:r.spacerStyle},i.ptm("spacer")),null,16)):Y("",!0),!i.loaderDisabled&&i.showLoader&&r.d_loading?(I(),D("div",Ae({key:1,class:s.loaderClass},i.ptm("loader")),[i.$slots&&i.$slots.loader?(I(!0),D(xt,{key:0},en(r.loaderArr,function(a,l){return on(i.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:i.d_numItemsInViewport.cols})})}),128)):Y("",!0),on(i.$slots,"loadingicon",{},function(){return[he(o,Ae({spin:"",class:"p-virtualscroller-loading-icon"},i.ptm("loadingIcon")),null,16)]})],16)):Y("",!0)],16,_5e))}u$.render=I5e;var E5e=`
    .p-select {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('select.background');
        border: 1px solid dt('select.border.color');
        transition:
            background dt('select.transition.duration'),
            color dt('select.transition.duration'),
            border-color dt('select.transition.duration'),
            outline-color dt('select.transition.duration'),
            box-shadow dt('select.transition.duration');
        border-radius: dt('select.border.radius');
        outline-color: transparent;
        box-shadow: dt('select.shadow');
    }

    .p-select:not(.p-disabled):hover {
        border-color: dt('select.hover.border.color');
    }

    .p-select:not(.p-disabled).p-focus {
        border-color: dt('select.focus.border.color');
        box-shadow: dt('select.focus.ring.shadow');
        outline: dt('select.focus.ring.width') dt('select.focus.ring.style') dt('select.focus.ring.color');
        outline-offset: dt('select.focus.ring.offset');
    }

    .p-select.p-variant-filled {
        background: dt('select.filled.background');
    }

    .p-select.p-variant-filled:not(.p-disabled):hover {
        background: dt('select.filled.hover.background');
    }

    .p-select.p-variant-filled:not(.p-disabled).p-focus {
        background: dt('select.filled.focus.background');
    }

    .p-select.p-invalid {
        border-color: dt('select.invalid.border.color');
    }

    .p-select.p-disabled {
        opacity: 1;
        background: dt('select.disabled.background');
    }

    .p-select-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        color: dt('select.clear.icon.color');
        inset-inline-end: dt('select.dropdown.width');
    }

    .p-select-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('select.dropdown.color');
        width: dt('select.dropdown.width');
        border-start-end-radius: dt('select.border.radius');
        border-end-end-radius: dt('select.border.radius');
    }

    .p-select-label {
        display: block;
        white-space: nowrap;
        overflow: hidden;
        flex: 1 1 auto;
        width: 1%;
        padding: dt('select.padding.y') dt('select.padding.x');
        text-overflow: ellipsis;
        cursor: pointer;
        color: dt('select.color');
        background: transparent;
        border: 0 none;
        outline: 0 none;
        font-size: 1rem;
    }

    .p-select-label.p-placeholder {
        color: dt('select.placeholder.color');
    }

    .p-select.p-invalid .p-select-label.p-placeholder {
        color: dt('select.invalid.placeholder.color');
    }

    .p-select:has(.p-select-clear-icon) .p-select-label {
        padding-inline-end: calc(1rem + dt('select.padding.x'));
    }

    .p-select.p-disabled .p-select-label {
        color: dt('select.disabled.color');
    }

    .p-select-label-empty {
        overflow: hidden;
        opacity: 0;
    }

    input.p-select-label {
        cursor: default;
    }

    .p-select-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('select.overlay.background');
        color: dt('select.overlay.color');
        border: 1px solid dt('select.overlay.border.color');
        border-radius: dt('select.overlay.border.radius');
        box-shadow: dt('select.overlay.shadow');
        min-width: 100%;
    }

    .p-select-header {
        padding: dt('select.list.header.padding');
    }

    .p-select-filter {
        width: 100%;
    }

    .p-select-list-container {
        overflow: auto;
    }

    .p-select-option-group {
        cursor: auto;
        margin: 0;
        padding: dt('select.option.group.padding');
        background: dt('select.option.group.background');
        color: dt('select.option.group.color');
        font-weight: dt('select.option.group.font.weight');
    }

    .p-select-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        padding: dt('select.list.padding');
        gap: dt('select.list.gap');
        display: flex;
        flex-direction: column;
    }

    .p-select-option {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        padding: dt('select.option.padding');
        border: 0 none;
        color: dt('select.option.color');
        background: transparent;
        transition:
            background dt('select.transition.duration'),
            color dt('select.transition.duration'),
            border-color dt('select.transition.duration'),
            box-shadow dt('select.transition.duration'),
            outline-color dt('select.transition.duration');
        border-radius: dt('select.option.border.radius');
    }

    .p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
        background: dt('select.option.focus.background');
        color: dt('select.option.focus.color');
    }

    .p-select-option.p-select-option-selected {
        background: dt('select.option.selected.background');
        color: dt('select.option.selected.color');
    }

    .p-select-option.p-select-option-selected.p-focus {
        background: dt('select.option.selected.focus.background');
        color: dt('select.option.selected.focus.color');
    }

    .p-select-option-blank-icon {
        flex-shrink: 0;
    }

    .p-select-option-check-icon {
        position: relative;
        flex-shrink: 0;
        margin-inline-start: dt('select.checkmark.gutter.start');
        margin-inline-end: dt('select.checkmark.gutter.end');
        color: dt('select.checkmark.color');
    }

    .p-select-empty-message {
        padding: dt('select.empty.message.padding');
    }

    .p-select-fluid {
        display: flex;
        width: 100%;
    }

    .p-select-sm .p-select-label {
        font-size: dt('select.sm.font.size');
        padding-block: dt('select.sm.padding.y');
        padding-inline: dt('select.sm.padding.x');
    }

    .p-select-sm .p-select-dropdown .p-icon {
        font-size: dt('select.sm.font.size');
        width: dt('select.sm.font.size');
        height: dt('select.sm.font.size');
    }

    .p-select-lg .p-select-label {
        font-size: dt('select.lg.font.size');
        padding-block: dt('select.lg.padding.y');
        padding-inline: dt('select.lg.padding.x');
    }

    .p-select-lg .p-select-dropdown .p-icon {
        font-size: dt('select.lg.font.size');
        width: dt('select.lg.font.size');
        height: dt('select.lg.font.size');
    }
`,S5e={root:function(e){var t=e.instance,n=e.props,r=e.state;return["p-select p-component p-inputwrapper",{"p-disabled":n.disabled,"p-invalid":t.$invalid,"p-variant-filled":t.$variant==="filled","p-focus":r.focused,"p-inputwrapper-filled":t.$filled,"p-inputwrapper-focus":r.focused||r.overlayVisible,"p-select-open":r.overlayVisible,"p-select-fluid":t.$fluid,"p-select-sm p-inputfield-sm":n.size==="small","p-select-lg p-inputfield-lg":n.size==="large"}]},label:function(e){var t=e.instance,n=e.props;return["p-select-label",{"p-placeholder":!n.editable&&t.label===n.placeholder,"p-select-label-empty":!n.editable&&!t.$slots.value&&(t.label==="p-emptylabel"||t.label.length===0)}]},clearIcon:"p-select-clear-icon",dropdown:"p-select-dropdown",loadingicon:"p-select-loading-icon",dropdownIcon:"p-select-dropdown-icon",overlay:"p-select-overlay p-component",header:"p-select-header",pcFilter:"p-select-filter",listContainer:"p-select-list-container",list:"p-select-list",optionGroup:"p-select-option-group",optionGroupLabel:"p-select-option-group-label",option:function(e){var t=e.instance,n=e.props,r=e.state,s=e.option,o=e.focusedOption;return["p-select-option",{"p-select-option-selected":t.isSelected(s)&&n.highlightOnSelect,"p-focus":r.focusedOptionIndex===o,"p-disabled":t.isOptionDisabled(s)}]},optionLabel:"p-select-option-label",optionCheckIcon:"p-select-option-check-icon",optionBlankIcon:"p-select-option-blank-icon",emptyMessage:"p-select-empty-message"},T5e=Nn.extend({name:"select",style:E5e,classes:S5e}),x5e={name:"BaseSelect",extends:o$,props:{options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"14rem"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},labelId:{type:String,default:null},labelClass:{type:[String,Object],default:null},labelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:T5e,provide:function(){return{$pcSelect:this,$parentInstance:this}}};function sv(i){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(i)}function P5e(i){return V5e(i)||A5e(i)||k5e(i)||R5e()}function R5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5e(i,e){if(i){if(typeof i=="string")return eE(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eE(i,e):void 0}}function A5e(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function V5e(i){if(Array.isArray(i))return eE(i)}function eE(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function RV(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function kV(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(t),!0).forEach(function(n){Ld(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):RV(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Ld(i,e,t){return(e=L5e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function L5e(i){var e=O5e(i,"string");return sv(e)=="symbol"?e:e+""}function O5e(i,e){if(sv(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var tE={name:"Select",extends:x5e,inheritAttrs:!1,emits:["change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,matchMediaOrientationListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1,queryOrientation:null}},watch:{modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.autoUpdateModel(),this.bindLabelClickListener(),this.bindMatchMediaOrientationListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.unbindMatchMediaOrientationListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(uo.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel:function(e){return this.optionLabel?uu(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?uu(e,this.optionValue):e},getOptionRenderKey:function(e,t){return(this.dataKey?uu(e,this.dataKey):this.getOptionLabel(e))+"_"+t},getPTItemOptions:function(e,t,n,r){return this.ptm(r,{context:{option:e,index:n,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(n,t),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?uu(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return uu(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return uu(e,this.optionGroupChildren)},getAriaPosInset:function(e){var t=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(n){return t.isOptionGroup(n)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&xr(this.$refs.focusInput)},hide:function(e){var t=this,n=function(){t.$emit("before-hide"),t.overlayVisible=!1,t.clicked=!1,t.focusedOptionIndex=-1,t.searchValue="",t.resetFilterOnHide&&(t.filterValue=null),e&&xr(t.$refs.focusInput)};setTimeout(function(){n()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){var t=this;setTimeout(function(){var n,r;t.focused=!1,t.focusedOptionIndex=-1,t.searchValue="",t.$emit("blur",e),(n=(r=t.formField).onBlur)===null||n===void 0||n.call(r,e)},100)},onKeyDown:function(e){if(this.disabled){e.preventDefault();return}if(MCe())switch(e.code){case"Backspace":this.onBackspaceKey(e,this.editable);break;case"Enter":case"NumpadDecimal":this.onEnterKey(e);break;default:e.preventDefault();return}var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t&&$M(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var t=e.target.value;this.searchValue="";var n=this.searchOptions(e,t);!n&&(this.focusedOptionIndex=-1),this.updateModel(e,t),!this.overlayVisible&&cn(t)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?Jh(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xr(t)},onLastHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?VM(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xr(t)},onOptionSelect:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=this.getOptionValue(t)!==""?this.getOptionValue(t):this.getOptionLabel(t);this.updateModel(e,r),n&&this.hide(!0)},onOptionMouseMove:function(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onFilterChange:function(e){var t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){if(!e.isComposing)switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){m5e.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t)}e.preventDefault()},onArrowUpKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var n=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var n=e.currentTarget;e.shiftKey?n.setSelectionRange(0,e.target.selectionStart):(n.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var n=e.currentTarget;if(e.shiftKey)n.setSelectionRange(e.target.selectionStart,n.value.length);else{var r=n.value.length;n.setSelectionRange(r,r),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide(!0)):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!t&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t||(this.overlayVisible&&this.hasFocusableElements()?(xr(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){var t=this;uo.set("overlay",e,this.$primevue.config.zIndex.overlay),ACe(e,{position:"absolute",top:"0"}),this.alignOverlay(),this.scrollInView(),this.$attrSelector&&e.setAttribute(this.$attrSelector,""),setTimeout(function(){t.autoFilterFocus&&t.filter&&xr(t.$refs.filterInput.$el),t.autoUpdateModel()},1)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){var e=this;this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.autoFilterFocus&&this.filter&&!this.editable&&this.$nextTick(function(){e.$refs.filterInput&&xr(e.$refs.filterInput.$el)}),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){uo.clear(e)},alignOverlay:function(){this.appendTo==="self"?VCe(this.overlay,this.$el):this.overlay&&(this.overlay.style.minWidth=au(this.$el)+"px",kCe(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){var n=t.composedPath();e.overlayVisible&&e.overlay&&!n.includes(e.$el)&&!n.includes(e.overlay)&&e.hide()},document.addEventListener("click",this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener,!0),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new qM(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!JT()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var t=document.querySelector('label[for="'.concat(this.labelId,'"]'));t&&q0(t)&&(this.labelClickListener=function(){xr(e.$refs.focusInput)},t.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.labelId,'"]'));e&&q0(e)&&e.removeEventListener("click",this.labelClickListener)}},bindMatchMediaOrientationListener:function(){var e=this;if(!this.matchMediaOrientationListener){var t=matchMedia("(orientation: portrait)");this.queryOrientation=t,this.matchMediaOrientationListener=function(){e.alignOverlay()},this.queryOrientation.addEventListener("change",this.matchMediaOrientationListener)}},unbindMatchMediaOrientationListener:function(){this.matchMediaOrientationListener&&(this.queryOrientation.removeEventListener("change",this.matchMediaOrientationListener),this.queryOrientation=null,this.matchMediaOrientationListener=null)},hasFocusableElements:function(){return KT(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionExactMatched:function(e){var t;return this.isValidOption(e)&&typeof this.getOptionLabel(e)=="string"&&((t=this.getOptionLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase(this.filterLocale))==this.searchValue.toLocaleLowerCase(this.filterLocale)},isOptionStartsWith:function(e){var t;return this.isValidOption(e)&&typeof this.getOptionLabel(e)=="string"&&((t=this.getOptionLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return cn(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return YT(this.d_value,this.getOptionValue(e)!==""?this.getOptionValue(e):this.getOptionLabel(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(t){return e.isValidOption(t)})},findLastOptionIndex:function(){var e=this;return U0(this.visibleOptions,function(t){return e.isValidOption(t)})},findNextOptionIndex:function(e){var t=this,n=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(r){return t.isValidOption(r)}):-1;return n>-1?n+e+1:e},findPrevOptionIndex:function(e){var t=this,n=e>0?U0(this.visibleOptions.slice(0,e),function(r){return t.isValidOption(r)}):-1;return n>-1?n:e},findSelectedOptionIndex:function(){var e=this;return this.$filled?this.visibleOptions.findIndex(function(t){return e.isValidSelectedOption(t)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,t){var n=this;this.searchValue=(this.searchValue||"")+t;var r=-1,s=!1;return cn(this.searchValue)&&(r=this.visibleOptions.findIndex(function(o){return n.isOptionExactMatched(o)}),r===-1&&(r=this.visibleOptions.findIndex(function(o){return n.isOptionStartsWith(o)})),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[t],!1))},scrollInView:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var n=t!==-1?"".concat(e.$id,"_").concat(t):e.focusedOptionId,r=bu(e.list,'li[id="'.concat(n,'"]'));r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(t!==-1?t:e.focusedOptionIndex)})},autoUpdateModel:function(){this.autoOptionFocus&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex()),this.selectOnFocus&&this.autoOptionFocus&&!this.$filled&&this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1)},updateModel:function(e,t){this.writeValue(t,e),this.$emit("change",{originalEvent:e,value:t})},flatOptions:function(e){var t=this;return(e||[]).reduce(function(n,r,s){n.push({optionGroup:r,group:!0,index:s});var o=t.getOptionGroupChildren(r);return o&&o.forEach(function(a){return n.push(a)}),n},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,t){this.list=e,t&&t(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,t=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var n=WTe.filter(t,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var r=this.options||[],s=[];return r.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return n.includes(u)});l.length>0&&s.push(kV(kV({},o),{},Ld({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",P5e(l))))}),this.flatOptions(s)}return n}return t},hasSelectedOption:function(){return this.$filled},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.d_value||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return cn(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.$filled?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.$id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(t){return!e.isOptionGroup(t)}).length},isClearIconVisible:function(){return this.showClear&&this.d_value!=null&&cn(this.options)},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},containerDataP:function(){return sa(Ld({invalid:this.$invalid,disabled:this.disabled,focus:this.focused,fluid:this.$fluid,filled:this.$variant==="filled"},this.size,this.size))},labelDataP:function(){return sa(Ld(Ld({placeholder:!this.editable&&this.label===this.placeholder,clearable:this.showClear,disabled:this.disabled,editable:this.editable},this.size,this.size),"empty",!this.editable&&!this.$slots.value&&(this.label==="p-emptylabel"||this.label.length===0)))},dropdownIconDataP:function(){return sa(Ld({},this.size,this.size))},overlayDataP:function(){return sa(Ld({},"portal-"+this.appendTo,"portal-"+this.appendTo))}},directives:{ripple:TC},components:{InputText:a$,VirtualScroller:u$,Portal:EC,InputIcon:s$,IconField:r$,TimesIcon:SC,ChevronDownIcon:n$,SpinnerIcon:xC,SearchIcon:i$,CheckIcon:Q0,BlankIcon:t$}},D5e=["id","data-p"],N5e=["name","id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid","data-p"],M5e=["name","id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid","aria-disabled","data-p"],F5e=["data-p"],$5e=["id"],B5e=["id"],q5e=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onMousedown","onMousemove","data-p-selected","data-p-focused","data-p-disabled"];function U5e(i,e,t,n,r,s){var o=Ri("SpinnerIcon"),a=Ri("InputText"),l=Ri("SearchIcon"),u=Ri("InputIcon"),c=Ri("IconField"),h=Ri("CheckIcon"),f=Ri("BlankIcon"),m=Ri("VirtualScroller"),b=Ri("Portal"),_=pv("ripple");return I(),D("div",Ae({ref:"container",id:i.$id,class:i.cx("root"),onClick:e[12]||(e[12]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)}),"data-p":s.containerDataP},i.ptmi("root")),[i.editable?(I(),D("input",Ae({key:0,ref:"focusInput",name:i.name,id:i.labelId||i.inputId,type:"text",class:[i.cx("label"),i.inputClass,i.labelClass],style:[i.inputStyle,i.labelStyle],value:s.editableInputValue,placeholder:i.placeholder,tabindex:i.disabled?-1:i.tabindex,disabled:i.disabled,autocomplete:"off",role:"combobox","aria-label":i.ariaLabel,"aria-labelledby":i.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":r.overlayVisible,"aria-controls":i.$id+"_list","aria-activedescendant":r.focused?s.focusedOptionId:void 0,"aria-invalid":i.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)}),"data-p":s.labelDataP},i.ptm("label")),null,16,N5e)):(I(),D("span",Ae({key:1,ref:"focusInput",name:i.name,id:i.labelId||i.inputId,class:[i.cx("label"),i.inputClass,i.labelClass],style:[i.inputStyle,i.labelStyle],tabindex:i.disabled?-1:i.tabindex,role:"combobox","aria-label":i.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":i.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":r.overlayVisible,"aria-controls":i.$id+"_list","aria-activedescendant":r.focused?s.focusedOptionId:void 0,"aria-invalid":i.invalid||void 0,"aria-disabled":i.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),"data-p":s.labelDataP},i.ptm("label")),[on(i.$slots,"value",{value:i.d_value,placeholder:i.placeholder},function(){var E;return[Ng(kt(s.label==="p-emptylabel"?" ":(E=s.label)!==null&&E!==void 0?E:"empty"),1)]})],16,M5e)),s.isClearIconVisible?on(i.$slots,"clearicon",{key:2,class:$(i.cx("clearIcon")),clearCallback:s.onClearClick},function(){return[(I(),ge(no(i.clearIcon?"i":"TimesIcon"),Ae({ref:"clearIcon",class:[i.cx("clearIcon"),i.clearIcon],onClick:s.onClearClick},i.ptm("clearIcon"),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):Y("",!0),te("div",Ae({class:i.cx("dropdown")},i.ptm("dropdown")),[i.loading?on(i.$slots,"loadingicon",{key:0,class:$(i.cx("loadingIcon"))},function(){return[i.loadingIcon?(I(),D("span",Ae({key:0,class:[i.cx("loadingIcon"),"pi-spin",i.loadingIcon],"aria-hidden":"true"},i.ptm("loadingIcon")),null,16)):(I(),ge(o,Ae({key:1,class:i.cx("loadingIcon"),spin:"","aria-hidden":"true"},i.ptm("loadingIcon")),null,16,["class"]))]}):on(i.$slots,"dropdownicon",{key:1,class:$(i.cx("dropdownIcon"))},function(){return[(I(),ge(no(i.dropdownIcon?"span":"ChevronDownIcon"),Ae({class:[i.cx("dropdownIcon"),i.dropdownIcon],"aria-hidden":"true","data-p":s.dropdownIconDataP},i.ptm("dropdownIcon")),null,16,["class","data-p"]))]})],16),he(b,{appendTo:i.appendTo},{default:Hn(function(){return[he(p7,Ae({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},i.ptm("transition")),{default:Hn(function(){return[r.overlayVisible?(I(),D("div",Ae({key:0,ref:s.overlayRef,class:[i.cx("overlay"),i.panelClass,i.overlayClass],style:[i.panelStyle,i.overlayStyle],onClick:e[10]||(e[10]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[11]||(e[11]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)}),"data-p":s.overlayDataP},i.ptm("overlay")),[te("span",Ae({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},i.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),on(i.$slots,"header",{value:i.d_value,options:s.visibleOptions}),i.filter?(I(),D("div",Ae({key:0,class:i.cx("header")},i.ptm("header")),[he(c,{unstyled:i.unstyled,pt:i.ptm("pcFilterContainer")},{default:Hn(function(){return[he(a,{ref:"filterInput",type:"text",value:r.filterValue,onVnodeMounted:s.onFilterUpdated,onVnodeUpdated:s.onFilterUpdated,class:$(i.cx("pcFilter")),placeholder:i.filterPlaceholder,variant:i.variant,unstyled:i.unstyled,role:"searchbox",autocomplete:"off","aria-owns":i.$id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:s.onFilterKeyDown,onBlur:s.onFilterBlur,onInput:s.onFilterChange,pt:i.ptm("pcFilter"),formControl:{novalidate:!0}},null,8,["value","onVnodeMounted","onVnodeUpdated","class","placeholder","variant","unstyled","aria-owns","aria-activedescendant","onKeydown","onBlur","onInput","pt"]),he(u,{unstyled:i.unstyled,pt:i.ptm("pcFilterIconContainer")},{default:Hn(function(){return[on(i.$slots,"filtericon",{},function(){return[i.filterIcon?(I(),D("span",Ae({key:0,class:i.filterIcon},i.ptm("filterIcon")),null,16)):(I(),ge(l,xa(Ae({key:1},i.ptm("filterIcon"))),null,16))]})]}),_:3},8,["unstyled","pt"])]}),_:3},8,["unstyled","pt"]),te("span",Ae({role:"status","aria-live":"polite",class:"p-hidden-accessible"},i.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),kt(s.filterResultMessageText),17)],16)):Y("",!0),te("div",Ae({class:i.cx("listContainer"),style:{"max-height":s.virtualScrollerDisabled?i.scrollHeight:""}},i.ptm("listContainer")),[he(m,Ae({ref:s.virtualScrollerRef},i.virtualScrollerOptions,{items:s.visibleOptions,style:{height:i.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:i.ptm("virtualScroller")}),g7({content:Hn(function(E){var k=E.styleClass,j=E.contentRef,M=E.items,q=E.getItemOptions,J=E.contentStyle,Z=E.itemSize;return[te("ul",Ae({ref:function(y){return s.listRef(y,j)},id:i.$id+"_list",class:[i.cx("list"),k],style:J,role:"listbox"},i.ptm("list")),[(I(!0),D(xt,null,en(M,function(L,y){return I(),D(xt,{key:s.getOptionRenderKey(L,s.getOptionIndex(y,q))},[s.isOptionGroup(L)?(I(),D("li",Ae({key:0,id:i.$id+"_"+s.getOptionIndex(y,q),style:{height:Z?Z+"px":void 0},class:i.cx("optionGroup"),role:"option"},{ref_for:!0},i.ptm("optionGroup")),[on(i.$slots,"optiongroup",{option:L.optionGroup,index:s.getOptionIndex(y,q)},function(){return[te("span",Ae({class:i.cx("optionGroupLabel")},{ref_for:!0},i.ptm("optionGroupLabel")),kt(s.getOptionGroupLabel(L.optionGroup)),17)]})],16,B5e)):ri((I(),D("li",Ae({key:1,id:i.$id+"_"+s.getOptionIndex(y,q),class:i.cx("option",{option:L,focusedOption:s.getOptionIndex(y,q)}),style:{height:Z?Z+"px":void 0},role:"option","aria-label":s.getOptionLabel(L),"aria-selected":s.isSelected(L),"aria-disabled":s.isOptionDisabled(L),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(y,q)),onMousedown:function(R){return s.onOptionSelect(R,L)},onMousemove:function(R){return s.onOptionMouseMove(R,s.getOptionIndex(y,q))},onClick:e[8]||(e[8]=NB(function(){},["stop"])),"data-p-selected":!i.checkmark&&s.isSelected(L),"data-p-focused":r.focusedOptionIndex===s.getOptionIndex(y,q),"data-p-disabled":s.isOptionDisabled(L)},{ref_for:!0},s.getPTItemOptions(L,q,y,"option")),[i.checkmark?(I(),D(xt,{key:0},[s.isSelected(L)?(I(),ge(h,Ae({key:0,class:i.cx("optionCheckIcon")},{ref_for:!0},i.ptm("optionCheckIcon")),null,16,["class"])):(I(),ge(f,Ae({key:1,class:i.cx("optionBlankIcon")},{ref_for:!0},i.ptm("optionBlankIcon")),null,16,["class"]))],64)):Y("",!0),on(i.$slots,"option",{option:L,selected:s.isSelected(L),index:s.getOptionIndex(y,q)},function(){return[te("span",Ae({class:i.cx("optionLabel")},{ref_for:!0},i.ptm("optionLabel")),kt(s.getOptionLabel(L)),17)]})],16,q5e)),[[_]])],64)}),128)),r.filterValue&&(!M||M&&M.length===0)?(I(),D("li",Ae({key:0,class:i.cx("emptyMessage"),role:"option"},i.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[on(i.$slots,"emptyfilter",{},function(){return[Ng(kt(s.emptyFilterMessageText),1)]})],16)):!i.options||i.options&&i.options.length===0?(I(),D("li",Ae({key:1,class:i.cx("emptyMessage"),role:"option"},i.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[on(i.$slots,"empty",{},function(){return[Ng(kt(s.emptyMessageText),1)]})],16)):Y("",!0)],16,$5e)]}),_:2},[i.$slots.loader?{name:"loader",fn:Hn(function(E){var k=E.options;return[on(i.$slots,"loader",{options:k})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),on(i.$slots,"footer",{value:i.d_value,options:s.visibleOptions}),!i.options||i.options&&i.options.length===0?(I(),D("span",Ae({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},i.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),kt(s.emptyMessageText),17)):Y("",!0),te("span",Ae({role:"status","aria-live":"polite",class:"p-hidden-accessible"},i.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),kt(s.selectedMessageText),17),te("span",Ae({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[9]||(e[9]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},i.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16,F5e)):Y("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,D5e)}tE.render=U5e;const H5e={key:0},z5e={class:"flex gap-2 align-items-center justify-content-center"},j5e={key:1,class:"flex gap-2 options-wrapper"},Q5e=Pe({__name:"UserActions",props:{isBasicView:{type:Boolean}},setup(i){const e=fb(),t=Pb(),{mutate:n}=jTe(),r=Qe(null),s=i,o=[{label:"Researcher Documentation",value:"researcherDocumentation"},{label:"Report an Issue",value:"reportAnIssue"}],a=[{label:"Settings",value:"settings"},{label:e.t("navBar.signOut"),value:"signout"}],l=c=>{c.value==="researcherDocumentation"?window.open("https://researcher.levante-network.org/","_blank"):c.value==="reportAnIssue"&&window.open("https://levante-support.freshdesk.com","_blank")},u=c=>{c.value==="settings"?t.push({path:nv.ACCOUNT_PROFILE}):c.value==="signout"&&n()};return(c,h)=>(I(),D("div",null,[s.isBasicView?(I(),D("div",H5e,[te("div",z5e,[he(Xe(e5),{"data-cy":"button-sign-out",onClick:Xe(n)},{default:Hn(()=>[h[0]||(h[0]=te("i",{class:"pi pi-sign-out"},null,-1)),Ng(" "+kt(c.$t("navBar.signOut")),1)]),_:1,__:[0]},8,["onClick"])])])):(I(),D("div",j5e,[he(Xe(tE),{options:o,optionValue:f=>f.value,optionLabel:f=>f.label,class:"options-help",onChange:l},{value:Hn(()=>h[1]||(h[1]=[te("i",{class:"pi pi-question-circle"},null,-1)])),_:1},8,["optionValue","optionLabel"]),te("button",{ref_key:"feedbackButton",ref:r,style:{display:"none"}},"Give me feedback",512),he(Xe(tE),{options:a,optionValue:f=>f.value,optionLabel:f=>f.label,class:"options-settings",onChange:u},{value:Hn(()=>h[2]||(h[2]=[te("i",{class:"pi pi-user"},null,-1)])),_:1},8,["optionValue","optionLabel"])]))]))}});function W5e(i){const e=Ze(()=>{if(!i.value)return;const s=i.value.claims;if(s!=null&&s.super_admin)return Fh.SUPER_ADMIN;const o=(s==null?void 0:s.adminOrgs)||{};return Object.values(o).some(l=>!UE(l))?Fh.ADMIN:Fh.PARTICIPANT}),t=Ze(()=>e.value===Fh.ADMIN),n=Ze(()=>e.value===Fh.PARTICIPANT),r=Ze(()=>e.value===Fh.SUPER_ADMIN);return{userType:e,isAdmin:t,isParticipant:n,isSuperAdmin:r}}const G5e={id:"site-header",class:"navbar-container"},K5e={class:"flex flex-row align-items-center justify-content-between w-full"},J5e={id:"navBarRightEnd",class:"flex flex-row align-items-center justify-content-start w-full gap-1"},Y5e={class:"flex align-items-center justify-content-center w-full"},Z5e={class:"navbar-logo mx-3 levante-logo"},X5e=Pe({__name:"NavBar",setup(i){const e=Pb(),t=ud(),{roarfirekit:n}=_b(t),r=Qe(!1),s=Qe(),o=Qe(window.innerWidth);let a;const l=()=>{a&&a(),r.value=!0};a=t.$subscribe(async(j,M)=>{var q;(q=M.roarfirekit)!=null&&q.restConfig&&l()});const u=()=>{o.value=window.innerWidth};Zn(()=>{var j;(j=n.value)!=null&&j.restConfig&&l(),window.addEventListener("resize",u)}),ns(()=>{window.removeEventListener("resize",u)});const{data:c}=tTe({queryKey:["userClaims"],enabled:r}),h=Ze(()=>{const j=[],M=E.value.find(J=>J.category==="Groups");M&&j.push({label:M.title,icon:M.icon,command:()=>{e.push(M.buttonLink)}});const q=["Users","Assignments"];for(const J of q){const Z=E.value.filter(L=>L.category===J).map(L=>({label:L.title,icon:L.icon,command:()=>{e.push(L.buttonLink)}}));Z.length>0&&j.push({label:J,items:Z})}return j}),{isAdmin:f,isSuperAdmin:m}=W5e(c),b=Ze(()=>c.value?!m.value&&!f.value:!1),_=Ze(()=>e.currentRoute.value.fullPath==="/"),E=Ze(()=>pEe({isSuperAdmin:m.value,isAdmin:t.isUserAdmin,includeHomeLink:!_.value})),k=j=>{s.value.toggle(j)};return(j,M)=>{const q=Ri("router-link");return I(),D("header",G5e,[te("nav",K5e,[te("div",J5e,[te("div",Y5e,[he(Xe(CF),{model:h.value,class:"w-full"},{start:Hn(()=>[he(q,{to:{path:Xe(nv).HOME}},{default:Hn(()=>[te("div",Z5e,[he(Xe(gF),{src:"/LEVANTE/Levante_Logo.png",width:"200",alt:"LEVANTE Logo"})])]),_:1},8,["to"])]),buttonicon:Hn(()=>[he(Xe(e5),{icon:"pi pi-bars",class:"bg-primary text-white p-2 mr-2 border-none border-round hover:bg-red-900",onClick:k})]),item:Hn(({item:J,props:Z,hasSubmenu:L,root:y})=>[te("a",Ae({class:"flex items-center"},Z.action),[J.icon?(I(),D("i",{key:0,class:$(["mr-2",J.icon])},null,2)):Y("",!0),te("span",null,kt(J.label),1),J.badge?(I(),ge(Xe(XT),{key:1,class:$([J.badgeClass,{"ml-auto":!y,"ml-2":y}]),value:J.badge},null,8,["class","value"])):Y("",!0),L?(I(),D("i",{key:2,class:$(["pi ml-auto",{"pi-angle-down":y,"pi-angle-right":!y}])},null,2)):Y("",!0)],16)]),end:Hn(()=>[he(Q5e,{isBasicView:b.value},null,8,["isBasicView"])]),_:1},8,["model"])])])])])}}}),p5=(i,e)=>{const t=i.__vccOpts||i;for(const[n,r]of e)t[n]=r;return t},exe=p5(X5e,[["__scopeId","data-v-4ad36b48"]]),txe=["width","height"],nxe=Pe({__name:"LevanteSpinner",props:{fullscreen:{type:Boolean,default:!1},size:{default:void 0}},setup(i){const e=i,t=Ze(()=>e.size!==void 0?e.size:e.fullscreen?200:80),n=Ze(()=>["levante-spinner-container",{"levante-spinner-container--fullscreen":e.fullscreen}]),r=Ze(()=>{const s={};return e.fullscreen||(s.width=`${t.value}px`,s.height=`${t.value}px`),s});return(s,o)=>(I(),D("div",{class:$(n.value),style:Ft(r.value)},[(I(),D("svg",{id:"levante-logo-loading",viewBox:"0 0 620 620",width:t.value,height:t.value,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},o[0]||(o[0]=[m7('<path d="M0 0 C24.09 0 48.18 0 73 0 C73.02578125 9.21035156 73.0515625 18.42070312 73.078125 27.91015625 C73.10330942 33.76629693 73.12949358 39.6224053 73.16015625 45.47851562 C73.20857611 54.76114635 73.25306661 64.0436696 73.27099609 73.32641602 C73.28407714 80.08918842 73.31120425 86.85174028 73.35461307 93.61438841 C73.37708434 97.18918321 73.39291942 100.76370749 73.39188385 104.33857918 C73.39256883 127.11586982 74.23570821 146.37753421 90.7109375 163.90234375 C107.7336873 179.50168956 126.19678116 180.0085557 149 181 C149 201.46 149 221.92 149 243 C137.3984375 243.0928125 137.3984375 243.0928125 125.5625 243.1875 C121.9574353 243.22846802 121.9574353 243.22846802 118.27954102 243.27026367 C89.84890928 243.45838537 62.7303181 237.3912908 41 218 C40.195625 217.33742187 39.39125 216.67484375 38.5625 215.9921875 C15.62349402 196.56571681 3.1542582 167.45107438 0 138 C-0.60820541 127.98024643 -0.48418408 117.93638697 -0.40557575 107.90311861 C-0.38014294 104.09424643 -0.37818782 100.28535391 -0.37347412 96.47640991 C-0.36116486 89.30174746 -0.32851125 82.1273361 -0.28807616 74.95278299 C-0.23450338 65.23091629 -0.21331532 55.50897828 -0.19006729 45.78700066 C-0.15273718 30.52447994 -0.07296807 15.26248845 0 0 Z " fill="#DB6D4D" transform="translate(196,0)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="0s" data-v-b89d6902></animate></path><path d="M0 0 C11.37841346 8.89805809 18.73092589 19.52930095 21 34 C22.1080213 50.42051238 18.52116018 63.60192587 8.25 76.6875 C-1.02678931 86.93062153 -13.86891708 91.96497271 -27.39453125 93.22265625 C-40.74614178 93.7187581 -53.20738631 89.38311632 -63.25 80.6875 C-74.02276382 70.48883331 -79.85558558 59.20121837 -81.25390625 44.29296875 C-81.58878931 30.11625272 -76.74215899 17.13488118 -67.4453125 6.47265625 C-49.54816026 -11.62462389 -20.98880433 -14.72964304 0 0 Z " fill="#DB6D4D" transform="translate(366,74)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="0s" data-v-b89d6902></animate></path><path d="M0 0 C12.51011518 36.24822591 12.51011518 36.24822591 18.3125 54.125 C18.69075928 55.27774414 19.06901855 56.43048828 19.45874023 57.61816406 C19.96836304 59.20322754 19.96836304 59.20322754 20.48828125 60.8203125 C20.92974487 62.18567139 20.92974487 62.18567139 21.38012695 63.57861328 C22 66 22 66 22 70 C12.96644407 72.96724191 3.93255713 75.93347463 -5.10151291 78.89915085 C-7.30484958 79.62248843 -9.5081552 80.34592052 -11.7114563 81.06936646 C-26.21102811 85.82998317 -40.71066204 90.59012886 -55.2265625 95.30078125 C-56.20511703 95.61847473 -57.18367157 95.93616821 -58.19187927 96.26348877 C-62.61363753 97.69852205 -67.03621701 99.13093815 -71.46020508 100.55908203 C-79.09042671 103.02746897 -86.70343688 105.54264752 -94.28125 108.16796875 C-94.97008774 108.40257309 -95.65892548 108.63717743 -96.36863708 108.87889099 C-110.54784019 113.85273609 -121.18811853 123.69114156 -128 137 C-136.99975018 158.53898413 -133.07868152 176.70799748 -126 198 C-132.88225468 200.84509207 -139.81998016 203.3616014 -146.8984375 205.671875 C-148.39451035 206.16279633 -148.39451035 206.16279633 -149.92080688 206.66363525 C-152.00930547 207.34762463 -154.09837388 208.02987634 -156.18798828 208.71044922 C-159.38929256 209.754662 -162.58724517 210.80872909 -165.78515625 211.86328125 C-167.82272058 212.52924609 -169.8604744 213.19463149 -171.8984375 213.859375 C-172.85261566 214.17493347 -173.80679382 214.49049194 -174.78988647 214.81561279 C-176.1224498 215.24671356 -176.1224498 215.24671356 -177.48193359 215.68652344 C-178.64914444 216.06813629 -178.64914444 216.06813629 -179.8399353 216.4574585 C-182 217 -182 217 -186 217 C-187.80586082 211.56279281 -189.60185987 206.12245568 -191.3894043 200.67919922 C-191.99683258 198.83394101 -192.60679082 196.98951338 -193.21948242 195.14599609 C-203.87785511 163.05758381 -207.6994984 131.07930289 -192.25 99.75 C-173.86339677 64.08112015 -142.60268168 45.20781506 -105.5 33.3125 C-103.67842985 32.71806925 -101.85723081 32.12250022 -100.03637695 31.52587891 C-96.25652937 30.28983576 -92.47437187 29.06129422 -88.68994141 27.83935547 C-83.12619954 26.04280109 -77.56841759 24.22835842 -72.01171875 22.41015625 C-63.98212309 19.78464066 -55.94801637 17.17331753 -47.91146851 14.56916809 C-42.55631958 12.83276545 -37.2044956 11.08653766 -31.8553009 9.33187866 C-28.39236749 8.19620294 -24.92837755 7.06377153 -21.46426392 5.93170166 C-19.83451375 5.3981865 -18.20525212 4.86317644 -16.57650757 4.32659912 C-14.34395845 3.59133454 -12.10971646 2.86145827 -9.875 2.1328125 C-9.21780472 1.91481995 -8.56060944 1.69682739 -7.88349915 1.472229 C-5.11661779 0.57530632 -2.93271586 0 0 0 Z " fill="#E2A1C1" transform="translate(564,83)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="1s" data-v-b89d6902></animate></path><path d="M0 0 C10.26936887 9.37737469 15.16600426 22.67108026 16.00390625 36.26953125 C16.00390625 51.32581634 11.0212786 63.27511318 1.00390625 74.4140625 C-11.45158925 85.69486306 -25.45429345 89.3003282 -41.83642578 88.59326172 C-54.48816802 87.5434789 -65.41276982 80.86599259 -73.9609375 71.8203125 C-84.21738579 59.6936865 -87.14147747 45.90900195 -86.17626953 30.39648438 C-85.11900523 18.76371184 -78.43860464 7.30488456 -69.99609375 -0.5859375 C-48.66002535 -18.14411857 -21.34509255 -16.95911463 0 0 Z " fill="#E2A1C1" transform="translate(531.99609375,214.5859375)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="1s" data-v-b89d6902></animate></path><path d="M0 0 C10.61057853 9.04046744 19.67440674 18.97280644 27.83154297 30.26245117 C28.31558594 30.92873535 28.79962891 31.59501953 29.29833984 32.28149414 C32.01271735 36.0201812 34.71451386 39.76770134 37.40966797 43.52026367 C40.84583511 48.29578643 44.33391073 53.03184415 47.83154297 57.76245117 C55.11141789 67.61619203 62.27985122 77.54820147 69.43603516 87.49194336 C71.04619787 89.72855236 72.65747913 91.96435157 74.26904297 94.19995117 C74.79481934 94.93052734 75.3205957 95.66110352 75.86230469 96.41381836 C78.77279119 100.44806868 81.7135334 104.45695544 84.69091797 108.44213867 C85.329729 109.2994458 85.96854004 110.15675293 86.62670898 111.04003906 C87.85936429 112.69126601 89.09661202 114.33907774 90.33911133 115.98291016 C93.04740313 119.61363934 95.47469374 122.87676431 96.83154297 127.26245117 C90.03551221 133.07503903 83.00099885 138.34687314 75.67138672 143.45556641 C70.01170659 147.40700461 64.43976784 151.4653244 58.89404297 155.57495117 C52.60349114 160.23412663 46.29414934 164.84329103 39.83154297 169.26245117 C36.55752085 167.87611776 34.90341049 166.41738405 32.83544922 163.54370117 C32.28373047 162.78573242 31.73201172 162.02776367 31.16357422 161.24682617 C30.28765625 160.01706055 30.28765625 160.01706055 29.39404297 158.76245117 C28.77787109 157.91166992 28.16169922 157.06088867 27.52685547 156.18432617 C25.62066917 153.54918929 23.7256113 150.90630657 21.83154297 148.26245117 C20.72688087 146.73061914 19.62145049 145.19934077 18.51513672 143.66870117 C16.91801219 141.45883719 15.32152834 139.24854324 13.72827148 137.03588867 C9.79993936 131.58359878 5.82537165 126.16690367 1.83154297 120.76245117 C-2.70596936 114.62228548 -7.20790785 108.45875203 -11.66845703 102.26245117 C-17.94196118 93.55581489 -24.25522548 84.87968255 -30.66894531 76.27563477 C-31.94427699 74.5634262 -33.21153392 72.84520796 -34.47705078 71.12573242 C-44.22747925 58.31480729 -57.65258442 50.1113869 -73.60595703 47.75463867 C-92.77426409 45.87774194 -108.70355195 52.03913547 -123.54345703 63.76245117 C-124.59360497 64.62622207 -125.64314324 65.49073505 -126.69189453 66.35620117 C-129.16845703 68.26245117 -129.16845703 68.26245117 -131.16845703 68.26245117 C-132.38256836 66.89575195 -132.38256836 66.89575195 -133.75048828 64.95776367 C-134.52042114 63.87833496 -134.52042114 63.87833496 -135.3059082 62.77709961 C-135.85867432 61.98851562 -136.41144043 61.19993164 -136.98095703 60.38745117 C-138.16045251 58.72846047 -139.34014555 57.06961021 -140.52001953 55.41088867 C-141.12491211 54.55591797 -141.72980469 53.70094727 -142.35302734 52.82006836 C-145.16054744 48.86477243 -148.00958788 44.93982775 -150.85595703 41.01245117 C-156.32248065 33.44976662 -161.75504638 25.86322189 -167.16845703 18.26245117 C-164.08975342 14.98296254 -160.72033888 12.38392245 -157.04345703 9.82495117 C-152.91785218 6.92926854 -148.81467865 4.01422035 -144.77392578 1.00073242 C-101.02996257 -31.5115448 -44.00783623 -35.93908897 0 0 Z " fill="#E79E42" transform="translate(501.16845703125,331.737548828125)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="2s" data-v-b89d6902></animate></path><path d="M0 0 C10.30912429 9.80184992 15.69012279 21.70190093 16.22045898 35.89086914 C16.39947804 50.94474432 11.59944137 63.75226253 0.9375 75.125 C-10.15044071 85.49211856 -23.65114495 89.60050792 -38.7109375 89.1328125 C-53.58537599 87.78656089 -65.30974123 80.87734477 -75.0703125 69.734375 C-84.99925677 57.06125016 -86.54781164 43.48357553 -85.25 27.8125 C-82.81625534 13.32781588 -75.45494151 1.50198351 -64.90234375 -6.85742188 C-44.22034547 -20.48505256 -18.00176966 -16.12828232 0 0 Z " fill="#E79E42" transform="translate(451.25,409.1875)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="2s" data-v-b89d6902></animate></path><path d="M0 0 C4.88157637 1.57409756 8.44018064 4.40154619 12.4375 7.5 C17.0707642 11.04518137 21.7162226 14.53703151 26.51342773 17.85766602 C52.51478097 35.89740709 69.59229597 60.60519879 75.53051758 91.78564453 C77.99571018 108.6638171 77.15662352 127.75822746 72 144 C71.79632813 144.69125977 71.59265625 145.38251953 71.3828125 146.09472656 C65.96412958 164.34933275 55.98444025 179.62037717 44.67333984 194.75 C41.90695744 198.46972282 39.20681466 202.23683755 36.5 206 C35.41698764 207.50023176 34.33365416 209.00023176 33.25 210.5 C32.71375 211.2425 32.1775 211.985 31.625 212.75 C30 215 28.375 217.25 26.75 219.5 C26.21383057 220.24241943 25.67766113 220.98483887 25.12524414 221.74975586 C24.04121584 223.2506555 22.95706858 224.75146922 21.87280273 226.25219727 C19.17412345 229.98773967 16.47748688 233.72472254 13.78515625 237.46484375 C7.59265435 246.06204578 1.35700505 254.62457933 -4.95605469 263.13378906 C-7.68875219 266.82516555 -10.38855985 270.53020992 -13 274.30859375 C-13.45737549 274.96698242 -13.91475098 275.62537109 -14.38598633 276.30371094 C-15.23058877 277.52617434 -16.06690593 278.75441958 -16.89331055 279.98925781 C-18.01171875 281.60546875 -18.01171875 281.60546875 -20 284 C-23.38420514 284 -23.97116449 283.55796384 -26.59765625 281.61328125 C-27.30728516 281.09378906 -28.01691406 280.57429688 -28.74804688 280.0390625 C-29.89370117 279.18441406 -29.89370117 279.18441406 -31.0625 278.3125 C-32.69908188 277.11049071 -34.33580449 275.90867301 -35.97265625 274.70703125 C-36.80941895 274.08908691 -37.64618164 273.47114258 -38.50830078 272.83447266 C-42.31909972 270.02883448 -46.15978521 267.26515797 -50 264.5 C-51.48064993 263.43124055 -52.96111749 262.36222839 -54.44140625 261.29296875 C-55.18148926 260.75849121 -55.92157227 260.22401367 -56.68408203 259.67333984 C-59.13251265 257.90425451 -61.58000038 256.13387032 -64.02734375 254.36328125 C-64.84912109 253.76902344 -65.67089844 253.17476562 -66.51757812 252.5625 C-68.09602805 251.42102209 -69.67416785 250.27911518 -71.25195312 249.13671875 C-71.96158203 248.62367188 -72.67121094 248.110625 -73.40234375 247.58203125 C-74.33808228 246.90491089 -74.33808228 246.90491089 -75.29272461 246.21411133 C-76.84109387 245.11300446 -78.41912991 244.05391339 -80 243 C-79.39295849 239.90071349 -78.41654477 237.87660113 -76.55078125 235.33984375 C-76.03942627 234.63827148 -75.52807129 233.93669922 -75.0012207 233.21386719 C-74.44394287 232.46266602 -73.88666504 231.71146484 -73.3125 230.9375 C-72.7352417 230.14891602 -72.1579834 229.36033203 -71.56323242 228.54785156 C-69.71538603 226.02699796 -67.85853419 223.51298165 -66 221 C-64.7914256 219.3608548 -63.5830892 217.72153409 -62.375 216.08203125 C-60.59263206 213.66397319 -58.80976401 211.24629621 -57.02490234 208.83007812 C-52.80867222 203.11753884 -48.66011649 197.36112402 -44.546875 191.57421875 C-41.61457164 187.45110281 -38.65135832 183.35046443 -35.6875 179.25 C-34.8677771 178.11510132 -34.8677771 178.11510132 -34.03149414 176.95727539 C-31.24870703 173.1058459 -28.4615849 169.25764487 -25.66796875 165.4140625 C-22.95480242 161.67870044 -20.25465264 157.93427623 -17.56542969 154.18164062 C-16.52762647 152.73531974 -15.48664181 151.29127603 -14.44238281 149.84960938 C-3.55927908 134.78711565 4.04212266 119.83573302 1.5703125 100.66796875 C-1.61357925 81.58427191 -11.52777514 68.27881812 -27 57 C-29.96430385 54.9417 -32.95724033 52.94031052 -36 51 C-34.72757348 48.33851091 -33.34399338 45.92766173 -31.63671875 43.5234375 C-31.16854736 42.86174561 -30.70037598 42.20005371 -30.21801758 41.51831055 C-29.71294678 40.81101807 -29.20787598 40.10372559 -28.6875 39.375 C-28.15987061 38.6322583 -27.63224121 37.8895166 -27.08862305 37.12426758 C-25.39661001 34.74648502 -23.6993083 32.37257367 -22 30 C-21.4421582 29.22092285 -20.88431641 28.4418457 -20.30957031 27.63916016 C-13.64545716 18.34549741 -6.91310802 9.11029739 0 0 Z " fill="#F9DB57" transform="translate(273,323)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="3s" data-v-b89d6902></animate></path><path d="M0 0 C10.14825309 9.6488946 15.66164055 21.48455313 16.22070312 35.48193359 C16.41521963 50.95572131 11.59944137 63.75226253 0.9375 75.125 C-10.15044071 85.49211856 -23.65114495 89.60050792 -38.7109375 89.1328125 C-53.58537599 87.78656089 -65.30974123 80.87734477 -75.0703125 69.734375 C-84.99925677 57.06125016 -86.54781164 43.48357553 -85.25 27.8125 C-82.81625534 13.32781588 -75.45494151 1.50198351 -64.90234375 -6.85742188 C-44.22034547 -20.48505256 -18.00176966 -16.12828232 0 0 Z " fill="#F9DB57" transform="translate(241.25,393.1875)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="3s" data-v-b89d6902></animate></path><path d="M0 0 C7.10882683 1.45341757 13.91774477 3.45782092 20.81640625 5.6953125 C21.91347397 6.04761932 23.01054169 6.39992615 24.14085388 6.76290894 C27.61596225 7.8798367 31.08924411 9.00232657 34.5625 10.125 C36.93021972 10.88708802 39.29805711 11.64881055 41.66601562 12.41015625 C47.44537842 14.26921152 53.22325523 16.13282654 59 18 C58.42918066 24.06798254 57.10842941 29.42521287 55.15625 35.1875 C54.86826538 36.04827148 54.58028076 36.90904297 54.28356934 37.79589844 C53.67229886 39.61254534 53.05686574 41.42779634 52.4375 43.24169922 C51.51391584 45.95905699 50.61579725 48.68394273 49.71875 51.41015625 C44.51155973 66.92259458 37.83953817 80.58380173 27 93 C26.43410156 93.72058594 25.86820313 94.44117188 25.28515625 95.18359375 C8.05690097 116.33250231 -20.01616086 127.95307792 -46.56591797 130.7890625 C-65.12447693 132.39734685 -82.8328286 130.14353075 -100.5546875 124.55078125 C-101.66775269 124.20380692 -102.78081787 123.85683258 -103.9276123 123.49934387 C-118.09221883 119.06437005 -132.20916109 114.4786749 -146.32568359 109.89349365 C-150.637994 108.49330012 -154.9511399 107.09568156 -159.26437378 105.69833565 C-162.83420797 104.54160046 -166.40338845 103.38292664 -169.97119141 102.21994019 C-176.72226537 100.02128395 -183.47806904 97.84186339 -190.25389862 95.72051907 C-193.43668931 94.72327553 -196.61673466 93.71743489 -199.79664612 92.71105385 C-201.31938174 92.23193247 -202.84349802 91.75717565 -204.3690033 91.28694725 C-206.47547675 90.63737464 -208.57685429 89.97330993 -210.67773438 89.3059082 C-211.87732788 88.93198441 -213.07692139 88.55806061 -214.31286621 88.17280579 C-215.19962036 87.78577988 -216.08637451 87.39875397 -217 87 C-218.26191736 83.21424791 -217.53515889 81.8128261 -216.30932617 78.04736328 C-215.91529099 76.82244171 -215.5212558 75.59752014 -215.11528015 74.33547974 C-214.67474682 72.99701259 -214.23397034 71.65862544 -213.79296875 70.3203125 C-213.34719815 68.94675897 -212.90216548 67.57296576 -212.45783997 66.19894409 C-211.28453619 62.57819626 -210.10026943 58.96112195 -208.91400146 55.34460449 C-207.95031322 52.40034786 -206.99449784 49.45356548 -206.03910351 46.50660896 C-204.89729452 42.98528573 -203.75184539 39.46515101 -202.60546875 35.9453125 C-202.38782553 35.27666294 -202.1701823 34.60801338 -201.94594383 33.91910172 C-201.32551892 32.01591046 -200.70224512 30.11364864 -200.07885742 28.21142578 C-199.72498459 27.13015411 -199.37111176 26.04888245 -199.0065155 24.93484497 C-198.08568339 22.24983964 -197.08109797 19.62397708 -196 17 C-189.60904884 18.33168207 -183.46374859 20.01138745 -177.2578125 22.02734375 C-176.32020584 22.32833481 -175.38259918 22.62932587 -174.4165802 22.93943787 C-172.38316093 23.59287079 -170.35034843 24.24819434 -168.31808472 24.9052124 C-165.07075307 25.95503741 -161.82182228 26.99978038 -158.57250977 28.04345703 C-148.04334571 31.4279984 -137.51993842 34.83030417 -126.99833679 38.23826694 C-121.61591722 39.98160171 -116.2327416 41.72259008 -110.84918213 43.46240139 C-106.94066979 44.7258988 -103.03352324 45.99351244 -99.1273737 47.26429462 C-96.09506142 48.24969405 -93.06104777 49.22983271 -90.02734375 50.2109375 C-88.3991143 50.74272865 -88.3991143 50.74272865 -86.73799133 51.28526306 C-68.94792644 57.02101886 -52.17082265 58.64783248 -34.7109375 50.45703125 C-13.92197296 38.95731289 -6.79270886 21.69293485 0 0 Z " fill="#F5D7BB" transform="translate(221,238)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="4s" data-v-b89d6902></animate></path><path d="M0 0 C9.23330394 9.96751847 13.94129582 22.44842451 14.6875 35.9375 C13.9784103 49.76474924 9.15683775 62.8308106 -0.42578125 72.90625 C-13.0046043 84.20329315 -26.97026457 87.78323285 -43.41796875 87.11230469 C-55.95614884 86.14658428 -67.35285191 79.25379406 -75.83984375 70.2265625 C-86.05674223 57.56884049 -89.31962282 43.86294784 -87.6875 27.8125 C-84.90395416 13.32781588 -77.10766305 1.50198351 -64.91918945 -6.85742188 C-44.22034547 -20.48505256 -18.00176966 -16.12828232 0 0 Z " fill="#F5D7BB" transform="translate(193.6875,190.0625)" opacity="0" data-v-b89d6902><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="4s" data-v-b89d6902></animate></path>',10)]),8,txe))],6))}}),ixe=p5(nxe,[["__scopeId","data-v-b89d6902"]]),rxe={key:0},sxe={key:1},oxe={__name:"App",setup(i){const e=W5(()=>pi(()=>import("./SessionTimer-C_wkNlb8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),t=W5(()=>pi(()=>import("./index-0rxCaP5H.js"),[]).then(c=>c.VueQueryDevtools)),n=Qe(!1),r=Qe(!1),s=ud(),o=nZ(),a=Ze(()=>{var m;const c=J2.global.locale.value,h=J2.global.fallbackLocale.value,f=(m=o.meta)==null?void 0:m.pageTitle;if(typeof f=="object"&&f!==null){const b=f[c],_=f[h];if(typeof b=="string")return b;if(typeof _=="string")return _}return typeof f=="string"?f:"Levante"}),l=Ze(()=>n.value&&s.isAuthenticated),u=Qe(["SignIn","Register","Maintenance","PlayApp","SWR","SRE","PA"]);return u7(async()=>{await s.initFirekit(),await s.initStateFromRedirect().then(async()=>{if(s.uid){const c=await ZI("userClaims",s.uid);s.setUserClaims(c)}if(s.roarUid){const c=await ZI("users",s.roarUid);s.setUserData(c)}}),n.value=!0}),Zn(()=>{}),(c,h)=>{const f=Ri("router-view");return I(),D(xt,null,[he(Xe(j2e),null,{default:Hn(()=>[te("title",null,"Levante - "+kt(a.value),1),h[0]||(h[0]=te("meta",{name:"description",content:"The LEVANTE Platform"},null,-1)),h[1]||(h[1]=te("meta",{property:"og:title",content:"LEVANTE"},null,-1)),h[2]||(h[2]=te("meta",{property:"og:description",content:"The LEVANTE Platform"},null,-1)),h[3]||(h[3]=te("meta",{name:"twitter:title",content:"LEVANTE"},null,-1)),h[4]||(h[4]=te("meta",{name:"twitter:description",content:"The LEVANTE Platform"},null,-1)),h[5]||(h[5]=te("link",{rel:"icon",href:"/favicon-levante.ico"},null,-1))]),_:1,__:[0,1,2,3,4,5]}),n.value?(I(),D("div",rxe,[he(Xe(uF),{position:"bottom-center"}),typeof c.$route.name=="string"&&!u.value.includes(c.$route.name)?(I(),ge(exe,{key:0})):Y("",!0),(I(),ge(f,{key:c.$route.fullPath})),l.value?(I(),ge(Xe(e),{key:1})):Y("",!0)])):(I(),D("div",sxe,[he(ixe,{fullscreen:""})])),r.value?(I(),ge(Xe(t),{key:2})):Y("",!0)],64)}}},axe={},lxe={class:"spinner"};function uxe(i,e){return I(),D("div",lxe,e[0]||(e[0]=[te("div",{class:"bounce1"},null,-1),te("div",{class:"bounce2"},null,-1),te("div",{class:"bounce3"},null,-1)]))}const cxe=p5(axe,[["render",uxe],["__scopeId","data-v-8a70c3a4"]]);function ov(i){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(i)}function AV(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function e1(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(t),!0).forEach(function(n){dxe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):AV(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function dxe(i,e,t){return(e=hxe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function hxe(i){var e=fxe(i,"string");return ov(e)=="symbol"?e:e+""}function fxe(i,e){if(ov(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var pxe={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[gs.STARTS_WITH,gs.CONTAINS,gs.NOT_CONTAINS,gs.ENDS_WITH,gs.EQUALS,gs.NOT_EQUALS],numeric:[gs.EQUALS,gs.NOT_EQUALS,gs.LESS_THAN,gs.LESS_THAN_OR_EQUAL_TO,gs.GREATER_THAN,gs.GREATER_THAN_OR_EQUAL_TO],date:[gs.DATE_IS,gs.DATE_IS_NOT,gs.DATE_BEFORE,gs.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},gxe=Symbol();function mxe(i,e){var t={config:fv(e)};return i.config.globalProperties.$primevue=t,i.provide(gxe,t),vxe(),yxe(i,t),t}var rf=[];function vxe(){es.clear(),rf.forEach(function(i){return i==null?void 0:i()}),rf=[]}function yxe(i,e){var t=Qe(!1),n=function(){var u;if(((u=e.config)===null||u===void 0?void 0:u.theme)!=="none"&&!ci.isStyleNameLoaded("common")){var c,h,f=((c=Nn.getCommonTheme)===null||c===void 0?void 0:c.call(Nn))||{},m=f.primitive,b=f.semantic,_=f.global,E=f.style,k={nonce:(h=e.config)===null||h===void 0||(h=h.csp)===null||h===void 0?void 0:h.nonce};Nn.load(m==null?void 0:m.css,e1({name:"primitive-variables"},k)),Nn.load(b==null?void 0:b.css,e1({name:"semantic-variables"},k)),Nn.load(_==null?void 0:_.css,e1({name:"global-variables"},k)),Nn.loadStyle(e1({name:"global-style"},k),E),ci.setLoadedStyleName("common")}};es.on("theme:change",function(l){t.value||(i.config.globalProperties.$primevue.config.theme=l,t.value=!0)});var r=Ji(e.config,function(l,u){Ic.emit("config:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),s=Ji(function(){return e.config.ripple},function(l,u){Ic.emit("config:ripple:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),o=Ji(function(){return e.config.theme},function(l,u){t.value||ci.setTheme(l),e.config.unstyled||n(),t.value=!1,Ic.emit("config:theme:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!1}),a=Ji(function(){return e.config.unstyled},function(l,u){!l&&e.config.theme&&n(),Ic.emit("config:unstyled:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0});rf.push(r),rf.push(s),rf.push(o),rf.push(a)}var bxe={install:function(e,t){var n=QCe(pxe,t);mxe(e,n)}},VV=Xv(),c$=Symbol();function Ize(){var i=Vo(c$);if(!i)throw new Error("No PrimeVue Confirmation provided!");return i}var Cxe={install:function(e){var t={require:function(r){VV.emit("confirm",r)},close:function(){VV.emit("close")}};e.config.globalProperties.$confirm=t,e.provide(c$,t)}},d$=Symbol();function Eze(){var i=Vo(d$);if(!i)throw new Error("No PrimeVue Toast provided!");return i}var wxe={install:function(e){var t={add:function(r){na.emit("add",r)},remove:function(r){na.emit("remove",r)},removeGroup:function(r){na.emit("remove-group",r)},removeAllGroups:function(){na.emit("remove-all-groups")}};e.config.globalProperties.$toast=t,e.provide(d$,t)}};function _xe(i){if(Object.keys(i.query).length)return{path:i.path,query:{},hash:i.hash}}function Ixe(i){if(i.hash)return{path:i.path,query:i.query,hash:""}}const Exe=[{path:"/",name:"Home",component:()=>pi(()=>import("./HomeSelector-d44zKX5b.js").then(i=>i.H),__vite__mapDeps([9,10,3])),meta:{pageTitle:{"en-US":Ax.home,en:kx.home,es:Vx.home,"es-CO":Lx.home}}},{path:"/debug",name:"Debug",component:()=>pi(()=>import("./Debug-C9YktZgW.js"),__vite__mapDeps([11,4,3,5,6,7,12])),meta:{pageTitle:"Debug Information"}},{path:"/game/swr",name:"SWR",component:()=>pi(()=>import("./TaskSWR-3wC1NSXN.js"),__vite__mapDeps([13,14,3,5,6,7,15])),props:{taskId:"swr"},meta:{pageTitle:"SWR"}},{path:"/game/pa",name:"PA",component:()=>pi(()=>import("./TaskPA-DjPoHwOt.js"),__vite__mapDeps([16,14,3,5,6,7,17])),props:{taskId:"pa"},meta:{pageTitle:"PA"}},{path:"/game/sre",name:"SRE",component:()=>pi(()=>import("./TaskSRE-Cvg1fTwl.js"),__vite__mapDeps([18,14,3,5,6,7,19])),props:{taskId:"sre"},meta:{pageTitle:"SRE"}},{path:"/game/core-tasks/:taskId",name:"Core Tasks",component:()=>pi(()=>import("./TaskLevante-JMOTknX_.js"),__vite__mapDeps([20,14,3,5,6,7,21])),props:!0,meta:{pageTitle:"Core Tasks"}},{path:"/manage-tasks-variants",name:"ManageTasksVariants",component:()=>pi(()=>import("./ManageTasksVariants-Be7JgfNz.js"),__vite__mapDeps([22,23,3,24,25,26,27,28,29,30,7,31,32,33,5,6,34])),meta:{pageTitle:"Manage Tasks",requireAdmin:!0,requireSuperAdmin:!0}},{path:nv.SIGN_IN,name:"SignIn",component:()=>pi(()=>import("./SignIn-B1F_smuR.js"),__vite__mapDeps([35,36,3,37,2,38,27,39,7,40,41,42,43,44,45,46,47,5,6,48])),meta:{pageTitle:{"en-US":Ax.signIn,en:kx.signIn,es:Vx.signIn,"es-CO":Lx.signIn}}},{path:"/auth-email-link",name:"AuthEmailLink",beforeRouteLeave:[_xe,Ixe],component:()=>pi(()=>import("./AuthEmailLink-Dz42O4jl.js"),__vite__mapDeps([49,3,5,6,7,50])),meta:{pageTitle:"Email Link Authentication"}},{path:"/auth-email-sent",name:"AuthEmailSent",component:()=>pi(()=>import("./AuthEmailSent-CZ2-JTbO.js"),__vite__mapDeps([51,3,5,6,7])),meta:{pageTitle:"Authentication Email Sent"}},{path:"/administrator",name:"Administrator",component:()=>pi(()=>import("./HomeAdministrator-Cpnkq2hP.js"),__vite__mapDeps([52,3,53,54,55,29,26,28,56,57,58,59,7,60,40,61,62,63,64,5,6,65,66,31,32,67,68])),meta:{pageTitle:"Administrator",requireAdmin:!0}},{path:"/create-assignment",name:"CreateAssignment",component:()=>pi(()=>import("./CreateAssignment-CINJrQnd.js"),__vite__mapDeps([69,70,3,71,25,26,28,41,55,29,56,72,7,73,74,75,76,60,40,77,27,78,33,32,39,79,80,81,82,83,61,54,23,24,84,2,63,85,86,67,5,6,87])),meta:{pageTitle:"Create Assignment",requireAdmin:!0,requireSuperAdmin:!0}},{path:"/edit-assignment/:adminId",name:"EditAssignment",props:!0,component:()=>pi(()=>import("./CreateAssignment-CINJrQnd.js"),__vite__mapDeps([69,70,3,71,25,26,28,41,55,29,56,72,7,73,74,75,76,60,40,77,27,78,33,32,39,79,80,81,82,83,61,54,23,24,84,2,63,85,86,67,5,6,87])),meta:{pageTitle:"Edit an Assignment",requireAdmin:!0,requireSuperAdmin:!0}},{path:"/create-administrator",name:"CreateAdministrator",component:()=>pi(()=>import("./CreateAdministrator-DM1IuFni.js"),__vite__mapDeps([88,28,3,41,85,7,75,80,81,82,83,61,54,79,56,23,24,25,26,70,84,67,5,6,89])),meta:{pageTitle:"Create an administrator account",requireAdmin:!0}},{path:"/list-groups",name:"ListGroups",component:()=>pi(()=>import("./ListGroups-BbIqIdIp.js"),__vite__mapDeps([90,2,3,57,58,59,7,60,40,23,24,25,26,83,61,91,92,39,93,54,37,38,67,94,71,55,29,28,56,70,76,73,74,75,95,82,64,5,6,65,42,96,97,81,27,53,98])),meta:{pageTitle:"Groups",requireAdmin:!0}},{path:"/list-users/:orgType/:orgId/:orgName",name:"ListUsers",props:!0,component:()=>pi(()=>import("./ListUsers-DUArrvHv.js"),__vite__mapDeps([99,27,3,93,53,54,71,25,26,28,37,2,38,94,55,29,56,70,76,7,60,40,73,74,75,95,92,82,64,5,6,65,42,96,97,100])),meta:{pageTitle:"List users",requireAdmin:!0}},{path:"/administration/:administrationId/:orgType/:orgId",name:"ProgressReport",props:!0,component:()=>pi(()=>import("./ProgressReport-DkkXbFCv.js"),__vite__mapDeps([101,91,7,92,3,61,94,71,25,26,54,55,29,28,56,70,76,60,40,73,74,75,95,82,64,5,6,65,42,96,97,62,30,78,77,102,32,66,31,10,58,59,103])),meta:{pageTitle:"View Administration",requireAdmin:!0}},{path:nv.ACCOUNT_PROFILE,name:"Profile",component:()=>pi(()=>import("./AdminProfile-CCQMFQ_u.js"),__vite__mapDeps([104,3,5,6,7,105])),children:[{path:"accounts",name:"ProfileAccounts",component:()=>pi(()=>import("./LinkAccountsView-DIT8UHG_.js"),__vite__mapDeps([106,36,54,3,1,2,5,6,7,107])),meta:{requireAdmin:!0}},{path:"settings",name:"ProfileSettings",component:()=>pi(()=>import("./Settings-Cl47D9Ik.js"),__vite__mapDeps([108,43,44,45,7,46,3,47,5,6]))}],meta:{pageTitle:"Profile"}},{path:"/enable-cookies",name:"EnableCookies",component:()=>pi(()=>import("./EnableCookies-C87lpJHZ.js"),__vite__mapDeps([109,110,3,5,6,7])),meta:{pageTitle:"Enable Cookies"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>pi(()=>import("./NotFound-I2ogaewK.js"),__vite__mapDeps([111,3,5,6,7])),meta:{pageTitle:"Whoops! 404 Page!"}},{path:"/add-users",name:"Add Users",component:()=>pi(()=>import("./AddUsers-aFobcBMP.js"),__vite__mapDeps([112,85,7,75,74,73,81,82,95,92,59,60,40,46,79,28,3,56,61,55,29,26,41,113,110,114,67,5,6,115])),meta:{pageTitle:"Add Users",requireAdmin:!0,project:"LEVANTE"}},{path:"/link-users",name:"Link Users",component:()=>pi(()=>import("./LinkUsers-Dghj31u6.js"),__vite__mapDeps([116,79,28,3,56,46,55,29,26,113,110,114,74,7,75,73,95,92,82,67,5,6,117])),meta:{pageTitle:"Link Users",requireAdmin:!0,project:"LEVANTE"}},{path:"/survey",name:"Survey",component:()=>pi(()=>import("./UserSurvey-BKzeIYGE.js"),__vite__mapDeps([118,45,7,46,3,5,6,119])),meta:{pageTitle:"Survey",project:"LEVANTE"}},{path:"/maintenance",name:"Maintenance",component:()=>pi(()=>import("./MaintenancePage-CHyDw8ww.js"),__vite__mapDeps([120,3,5,6,7])),meta:{pageTitle:"Down for Maintenance"}}],Sxe=(i,e,t)=>t||(i.hash?{el:i.hash,behavior:"smooth"}:{left:0,top:0}),g5=eZ({history:RY("/"),routes:Exe,scrollBehavior:Sxe});g5.beforeEach(async(i,e,t)=>{const n=ud(),r=["SignIn","Maintenance","AuthEmailLink","AuthEmailSent","Debug"];if(i.name==="Maintenance")return t({name:"Home"}),!1;if(!i.path.includes("__/auth/handler")&&!n.isAuthenticated&&!r.includes(i.name)){t({name:"SignIn"});return}const s=l_(i,"meta.requireAdmin",!1),o=l_(i,"meta.requireSuperAdmin",!1),a=n.isUserAdmin;if(n.isUserSuperAdmin){t();return}else if(a){if(s){t();return}else if(o){t({name:"Home"});return}t();return}if(o||s){t({name:"Home"});return}t()});g5.afterEach((i,e)=>{RI.capture("pageview",{to:i,from:e})});var w2=null;function Txe(i){return w2||(w2=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),w2(i)}var _2=null;function xxe(i){_2||(_2=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),_2(i)}function Pxe(i){var e=document.createElement("style");return e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i)),(document.querySelector("head")||document.body).appendChild(e),e}function t1(i,e){e===void 0&&(e={});var t=document.createElement(i);return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function h$(i,e,t){var n=window.getComputedStyle(i,null)||{display:"none"};return n[e]}function nE(i){if(!document.documentElement.contains(i))return{detached:!0,rendered:!1};for(var e=i;e!==document;){if(h$(e,"display")==="none")return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}var Rxe='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',iE=0,F1=null;function kxe(i,e){i.__resize_mutation_handler__||(i.__resize_mutation_handler__=Lxe.bind(i));var t=i.__resize_listeners__;if(!t){if(i.__resize_listeners__=[],window.ResizeObserver){var n=i.offsetWidth,r=i.offsetHeight,s=new ResizeObserver(function(){!i.__resize_observer_triggered__&&(i.__resize_observer_triggered__=!0,i.offsetWidth===n&&i.offsetHeight===r)||J0(i)}),o=nE(i),a=o.detached,l=o.rendered;i.__resize_observer_triggered__=a===!1&&l===!1,i.__resize_observer__=s,s.observe(i)}else if(i.attachEvent&&i.addEventListener)i.__resize_legacy_resize_handler__=function(){J0(i)},i.attachEvent("onresize",i.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",i.__resize_mutation_handler__);else if(iE||(F1=Pxe(Rxe)),Oxe(i),i.__resize_rendered__=nE(i).rendered,window.MutationObserver){var u=new MutationObserver(i.__resize_mutation_handler__);u.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),i.__resize_mutation_observer__=u}}i.__resize_listeners__.push(e),iE++}function Axe(i,e){var t=i.__resize_listeners__;if(t){if(e&&t.splice(t.indexOf(e),1),!t.length||!e){if(i.detachEvent&&i.removeEventListener){i.detachEvent("onresize",i.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",i.__resize_mutation_handler__);return}i.__resize_observer__?(i.__resize_observer__.unobserve(i),i.__resize_observer__.disconnect(),i.__resize_observer__=null):(i.__resize_mutation_observer__&&(i.__resize_mutation_observer__.disconnect(),i.__resize_mutation_observer__=null),i.removeEventListener("scroll",m5),i.removeChild(i.__resize_triggers__.triggers),i.__resize_triggers__=null),i.__resize_listeners__=null}!--iE&&F1&&F1.parentNode.removeChild(F1)}}function Vxe(i){var e=i.__resize_last__,t=e.width,n=e.height,r=i.offsetWidth,s=i.offsetHeight;return r!==t||s!==n?{width:r,height:s}:null}function Lxe(){var i=nE(this),e=i.rendered,t=i.detached;e!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(v5(this),this.addEventListener("scroll",m5,!0)),this.__resize_rendered__=e,J0(this))}function m5(){var i=this;v5(this),this.__resize_raf__&&xxe(this.__resize_raf__),this.__resize_raf__=Txe(function(){var e=Vxe(i);e&&(i.__resize_last__=e,J0(i))})}function J0(i){!i||!i.__resize_listeners__||i.__resize_listeners__.forEach(function(e){e.call(i,i)})}function Oxe(i){var e=h$(i,"position");(!e||e==="static")&&(i.style.position="relative"),i.__resize_old_position__=e,i.__resize_last__={};var t=t1("div",{className:"resize-triggers"}),n=t1("div",{className:"resize-expand-trigger"}),r=t1("div"),s=t1("div",{className:"resize-contract-trigger"});n.appendChild(r),t.appendChild(n),t.appendChild(s),i.appendChild(t),i.__resize_triggers__={triggers:t,expand:n,expandChild:r,contract:s},v5(i),i.addEventListener("scroll",m5,!0),i.__resize_last__={width:i.offsetWidth,height:i.offsetHeight}}function v5(i){var e=i.__resize_triggers__,t=e.expand,n=e.expandChild,r=e.contract,s=r.scrollWidth,o=r.scrollHeight,a=t.offsetWidth,l=t.offsetHeight,u=t.scrollWidth,c=t.scrollHeight;r.scrollLeft=s,r.scrollTop=o,n.style.width=a+1+"px",n.style.height=l+1+"px",t.scrollLeft=u,t.scrollTop=c}const Dxe=["aria-label"];var f$=Pe({__name:"text-clamp",props:{text:{type:String,required:!0},maxHeight:{type:[String,Number],required:!1},maxLines:{type:Number,required:!1},expanded:{type:Boolean,required:!1,default:!1},location:{type:String,required:!1,default:"end"},ellipsis:{type:String,required:!1,default:"…"},autoResize:{type:Boolean,required:!1,default:!1}},emits:["clamp-change","update:expanded"],setup(i,{emit:e}){const t=i,n=Qe(null),r=Qe(null),s=Qe(null),o=fv({offset:0,localExpanded:!!t.expanded,unregisterResizeCallback:null}),a=Ze(()=>{if(!o.localExpanded&&t.maxHeight)return typeof(t==null?void 0:t.maxHeight)=="number"?`${t==null?void 0:t.maxHeight}px`:t==null?void 0:t.maxHeight}),l=()=>{s.value&&(s.value.textContent=J.value)},u=()=>{o.localExpanded||(l(),(f()||q.value)&&b())},c=()=>{t.text&&(o.offset=t.text.length,h(),t.autoResize&&n.value&&(kxe(n.value,u),o.unregisterResizeCallback=()=>{n.value&&Axe(n.value,u)}),u())},h=()=>{var R;(R=o.unregisterResizeCallback)==null||R.call(o)},f=()=>!(!t.maxLines&&!t.maxHeight)&&!!n.value&&(!!(t.maxLines&&m()>t.maxLines)||!!(t.maxHeight&&n.value.scrollHeight>n.value.offsetHeight)),m=()=>r.value?Object.keys(Array.prototype.slice.call(r.value.getClientRects()).reduce((R,{top:U,bottom:H})=>{const B=`${U}/${H}`;return R[B]||(R[B]=!0),R},{})).length:0,b=(...R)=>{const[U=0,H=o.offset]=R;if(H-U<=3)return void E();const B=Math.floor((H+U)/2);_(B),f()?b(U,B):b(B,H)},_=R=>{o.offset=R,l()},E=()=>{k(),j()},k=()=>{for(;(!f()||m()<2)&&o.offset<t.text.length;)M(1)},j=()=>{for(;f()&&m()>1&&o.offset>0;)M(-1)},M=R=>{_(o.offset+R)},q=Ze(()=>!!t.text&&o.offset!==t.text.length);Ji(()=>q.value,R=>{setTimeout(()=>{e("clamp-change",R)},0)},{immediate:!0});const J=Ze(()=>q.value?Z.value:t.text),Z=Ze(()=>{if(t.location==="start")return t.ellipsis+(t.text.slice(-o.offset)||"").trim();if(t.location==="middle"){const R=Math.floor(o.offset/2);return(t.text.slice(0,R)||"").trim()+t.ellipsis+(t.text.slice(-R)||"").trim()}return(t.text.slice(0,o.offset)||"").trim()+t.ellipsis}),L=()=>{o.localExpanded=!0},y=()=>{o.localExpanded=!1},w=()=>{o.localExpanded=!o.localExpanded};return Ji(()=>t.expanded,R=>{o.localExpanded=R}),Ji(()=>o.localExpanded,R=>{R?_(t.text.length):u(),t.expanded!==R&&e("update:expanded",R)}),Ji(()=>[t.maxLines,t.maxHeight,t.ellipsis,t.location,q.value].join(),()=>{Oc(()=>{u()})}),Ji(()=>[t.text,t.autoResize].join(),()=>{Oc(()=>{c()})}),ns(()=>{h()}),Zn(()=>{c()}),(R,U)=>(I(),D("div",{ref_key:"textClampRef",ref:n,class:"text-clamp",style:Ft({overflow:"hidden",maxHeight:Xe(a)})},[te("span",{ref_key:"contentRef",ref:r},[on(R.$slots,"before",{expand:L,collapse:y,toggle:w,clamped:Xe(q),expanded:o.localExpanded}),te("span",{ref_key:"textRef",ref:s,"aria-label":i.text},null,8,Dxe),on(R.$slots,"after",{expand:L,collapse:y,toggle:w,clamped:Xe(q),expanded:o.localExpanded})],512)],4))}});f$.__file="package/text-clamp.vue";const Nxe=i=>(i.install=function(e){e.component(i.__name,i)},i),Mxe=Nxe(f$);/*!
 * surveyjs - Survey JavaScript library v2.3.1
 * Copyright (c) 2015-2025 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */class Bt{static isAvailable(){return typeof window<"u"}static isFileReaderAvailable(){return Bt.isAvailable()?!!window.FileReader:!1}static getLocation(){if(Bt.isAvailable())return window.location}static getVisualViewport(){return Bt.isAvailable()?window.visualViewport:null}static getInnerWidth(){if(Bt.isAvailable())return window.innerWidth}static getInnerHeight(){return Bt.isAvailable()?window.innerHeight:null}static getDevicePixelRatio(){return Bt.isAvailable()?window.devicePixelRatio:null}static getWindow(){if(Bt.isAvailable())return window}static hasOwn(e){if(Bt.isAvailable())return e in window}static getSelection(){if(Bt.isAvailable()&&window.getSelection)return window.getSelection()}static requestAnimationFrame(e){if(Bt.isAvailable())return window.requestAnimationFrame(e)}static addEventListener(e,t){Bt.isAvailable()&&window.addEventListener(e,t)}static removeEventListener(e,t){Bt.isAvailable()&&window.removeEventListener(e,t)}static matchMedia(e){return!Bt.isAvailable()||typeof window.matchMedia>"u"?null:window.matchMedia(e)}}class St{static isAvailable(){return typeof document<"u"}static getBody(){if(St.isAvailable())return document.body}static getDocumentElement(){if(St.isAvailable())return document.documentElement}static getDocument(){if(St.isAvailable())return document}static getCookie(){if(St.isAvailable())return document.cookie}static setCookie(e){St.isAvailable()&&(document.cookie=e)}static activeElementBlur(){if(!St.isAvailable())return;const e=document.activeElement;e&&e.blur&&e.blur()}static createElement(e){if(St.isAvailable())return document.createElement(e)}static getComputedStyle(e){return St.isAvailable()?document.defaultView.getComputedStyle(e):new CSSStyleDeclaration}static addEventListener(e,t){St.isAvailable()&&document.addEventListener(e,t)}static removeEventListener(e,t){St.isAvailable()&&document.removeEventListener(e,t)}}function Hr(i,e){if(!e)return new Date;!oe.storeUtcDates&&typeof e=="string"&&Fxe(e)&&(e+="T00:00:00");const t=new Date(e);return oe.onDateCreated(t,i,e)}function Fxe(i){return i.indexOf("T")>0||!/\d{4}-\d{2}-\d{2}/.test(i)?!1:!isNaN(new Date(i).getTime())}class se{static isValueEmpty(e){if(Array.isArray(e)&&e.length===0)return!0;if(e&&se.isValueObject(e)&&e.constructor===Object){for(var t in e)if(!se.isValueEmpty(e[t]))return!1;return!0}return!e&&e!==0&&e!==!1}static isValueUndefined(e){return e==null||typeof e=="number"&&isNaN(e)}static isArrayContainsEqual(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++){for(var r=0;r<t.length&&!se.isTwoValueEquals(e[n],t[r]);r++);if(r===t.length)return!1}return!0}static checkIfArraysEqual(e,t,n){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;if(n.ignoreOrder!==void 0?n.ignoreOrder:!1){for(var s=[],o=[],a=0;a<e.length;a++)s.push(e[a]),o.push(t[a]);s.sort(),o.sort(),e=s,t=o}for(var a=0;a<e.length;a++)if(!se.checkIfValuesEqual(e[a],t[a],n))return!1;return!0}static isArraysEqual(e,t,n=!1,r,s){return se.checkIfArraysEqual(e,t,{ignoreOrder:n,caseSensitive:r,trimStrings:s})}static compareStrings(e,t){const n=oe.comparator.normalizeTextCallback;if(e&&(e=n(e,"compare").trim()),t&&(t=n(t,"compare").trim()),!e&&!t)return 0;if(!e)return-1;if(!t)return 1;if(e===t)return 0;let r=-1;for(let s=0;s<e.length&&s<t.length;s++){if(this.isCharDigit(e[s])&&this.isCharDigit(t[s])){r=s;break}if(e[s]!==t[s])break}if(r>-1){let s=this.getNumberFromStr(e,r),o=this.getNumberFromStr(t,r);if(!Number.isNaN(s)&&!Number.isNaN(o)&&s!==o)return s>o?1:-1}return e>t?1:-1}static checkIfValuesEqual(e,t,n){if(e===t||Array.isArray(e)&&e.length===0&&typeof t>"u"||Array.isArray(t)&&t.length===0&&typeof e>"u"||e==null&&t===""||t==null&&e==="")return!0;const r=n.caseSensitive!==void 0?n.caseSensitive:oe.comparator.caseSensitive,s=n.trimStrings!==void 0?n.trimStrings:oe.comparator.trimStrings;if(typeof e=="string"&&typeof t=="string"){const c=oe.comparator.normalizeTextCallback;return e=c(e,"compare"),t=c(t,"compare"),s&&(e=e.trim(),t=t.trim()),r||(e=e.toLowerCase(),t=t.toLowerCase()),e===t}if(e instanceof Date&&t instanceof Date)return e.getTime()==t.getTime();const o=!n.doNotConvertNumbers;if(o&&se.isConvertibleToNumber(e)&&se.isConvertibleToNumber(t)&&parseInt(e)===parseInt(t)&&parseFloat(e)===parseFloat(t))return!0;if(!se.isValueEmpty(e)&&se.isValueEmpty(t)||se.isValueEmpty(e)&&!se.isValueEmpty(t))return!1;if((e===!0||e===!1)&&typeof t=="string")return e.toString()===t.toLocaleLowerCase();if((t===!0||t===!1)&&typeof e=="string")return t.toString()===e.toLocaleLowerCase();const a=se.isValueObject(e),l=se.isValueObject(t);if(!a&&!l&&(o||typeof e!="number"&&typeof t!="number"))return e==t;if(!a||!l)return!1;if(e.equals&&t.equals)return e.equals(t);if(Array.isArray(e)&&Array.isArray(t))return se.checkIfArraysEqual(e,t,n);for(var u in e)if(e.hasOwnProperty(u)&&(!t.hasOwnProperty(u)||!this.checkIfValuesEqual(e[u],t[u],n)))return!1;for(u in t)if(t.hasOwnProperty(u)&&!e.hasOwnProperty(u))return!1;return!0}static isTwoValueEquals(e,t,n=!1,r,s){return this.checkIfValuesEqual(e,t,{ignoreOrder:n,caseSensitive:r,trimStrings:s})}static randomizeArray(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}static getUnbindValue(e){if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t.push(se.getUnbindValue(e[n]));return t}return e&&se.isValueObject(e)&&!(e instanceof Date)?JSON.parse(JSON.stringify(e)):e}static createCopy(e){return this.createCopyWithPrefix(e,void 0)}static createCopyWithPrefix(e,t){var n={};if(!e)return n;for(var r in e){const s=t?t+r:r;n[s]=e[r]}return n}static isConvertibleToNumber(e){return e!=null&&!Array.isArray(e)&&!isNaN(e)}static isValueObject(e,t){return e instanceof Object&&(!t||!Array.isArray(e))}static isNumber(e){return!isNaN(this.getNumber(e))}static getNumber(e){const t=se.getNumberCore(e);return oe.parseNumber(e,t)}static getNumberCore(e){if(typeof e=="string"){if(e=e.trim(),!e)return NaN;if(e.indexOf("0x")==0)return e.length>32?NaN:parseInt(e);if(e.length>15&&se.isDigitsOnly(e))return NaN;if(se.isStringHasOperator(e))return NaN}e=this.prepareStringToNumber(e);const t=parseFloat(e);return isNaN(t)||!isFinite(e)?NaN:t}static isStringHasOperator(e){if(e.lastIndexOf("-")>0||e.lastIndexOf("+")>0)return!1;const t="*^/%";for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}static prepareStringToNumber(e){if(typeof e!="string"||!e)return e;let t=e.indexOf(",");return t>-1&&e.indexOf(",",t+1)<0?e.replace(",","."):e}static getMaxLength(e,t){return e<0&&(e=t),e>0?e:null}static getRemainingCharacterCounterText(e,t){return!t||t<=0||!oe.showMaxLengthIndicator?"":[e?e.length:"0",t].join("/")}static getNumberByIndex(e,t,n){if(e<0)return"";var r=1,s="",o=".",a=!0,l="A",u="";const c=_=>{if(!_)return!1;for(var E=0;E<_.length;E++)if(se.isCharDigit(_[E]))return!0;return!1};if(t){u=t;for(var h=u.length-1,f=c(u),m=function(){return f&&!se.isCharDigit(u[h])||se.isCharNotLetterAndDigit(u[h])};h>=0&&m();)h--;var b="";for(h<u.length-1&&(b=u.substring(h+1),u=u.substring(0,h+1)),h=u.length-1;h>=0&&!(m()||(h--,!f)););l=u.substring(h+1),s=u.substring(0,h+1),parseInt(l)?r=parseInt(l):l.length==1&&(a=!1),(b||s)&&(o=b)}if(n>-1&&c(s)&&(s=this.getNumberByIndex(n,s)),a){let _=(e+r).toString();for(;_.length<l.length;)_="0"+_;return s+_+o}return s+String.fromCharCode(l.charCodeAt(0)+e)+o}static isCharNotLetterAndDigit(e){return e.toUpperCase()==e.toLowerCase()&&!se.isCharDigit(e)}static isCharDigit(e){return e>="0"&&e<="9"}static isDigitsOnly(e){if(!e)return!1;for(let t=0;t<e.length;t++)if(!se.isCharDigit(e[t]))return!1;return!0}static getNumberFromStr(e,t){if(!this.isCharDigit(e[t]))return NaN;let n="";for(;t<e.length&&this.isCharDigit(e[t]);)n+=e[t],t++;return n?this.getNumber(n):NaN}static countDecimals(e){if(se.isNumber(e)&&Math.floor(e)!==e){const t=e.toString().split(".");return t.length>1&&t[1].length||0}return 0}static correctAfterPlusMinis(e,t,n){const r=se.countDecimals(e),s=se.countDecimals(t);if(r>0||s>0){const o=Math.max(r,s);n=parseFloat(n.toFixed(o))}return n}static sumAnyValues(e,t){if(!se.isNumber(e)||!se.isNumber(t)){if(Array.isArray(e)&&Array.isArray(t))return[].concat(e).concat(t);if(Array.isArray(e)||Array.isArray(t)){const r=Array.isArray(e)?e:t,s=r===e?t:e;if(typeof s=="string"){const o=r.join(", ");return r===e?o+s:s+o}if(typeof s=="number"){let o=0;for(var n=0;n<r.length;n++)typeof r[n]=="number"&&(o=se.correctAfterPlusMinis(o,r[n],o+r[n]));return se.correctAfterPlusMinis(o,s,o+s)}}return e+t}return typeof e=="string"||typeof t=="string"?e+t:se.correctAfterPlusMinis(e,t,e+t)}static correctAfterMultiple(e,t,n){const r=se.countDecimals(e)+se.countDecimals(t);return r>0&&(n=parseFloat(n.toFixed(r))),n}static findObjByPropValue(e,t,n){for(var r=0;r<e.length;r++)if(se.isTwoValueEquals(e[r][t],n))return e[r]}static convertArrayObjectToValue(e,t){const n=new Array;if(!e||!Array.isArray(e))return n;for(var r=0;r<e.length;r++){const s=e[r]?e[r][t]:void 0;se.isValueEmpty(s)||n.push(s)}return n}static convertDateToString(e){const t=n=>n<10?"0"+n.toString():n.toString();return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())}static convertDateTimeToString(e){const t=n=>n<10?"0"+n.toString():n.toString();return this.convertDateToString(e)+" "+t(e.getHours())+":"+t(e.getMinutes())}static convertValToQuestionVal(e,t){return e instanceof Date?t==="datetime-local"?se.convertDateTimeToString(e):se.convertDateToString(e):this.getUnbindValue(e)}static compareVerions(e,t){if(!e&&!t)return 0;const n=e.split("."),r=t.split("."),s=n.length,o=r.length;for(let a=0;a<s&&a<o;a++){const l=n[a],u=r[a];if(l.length===u.length){if(l!==u)return l<u?-1:1}else return l.length<u.length?-1:1}return s===o?0:s<o?-1:1}static isUrlYoutubeVideo(e){if(!e)return!1;const t=["www.youtube.com","m.youtube.com","youtube.com","youtu.be"];e=e.toLowerCase(),e=e.replace(/^https?:\/\//,"");for(let n=0;n<t.length;n++)if(e.indexOf(t[n]+"/")===0)return!0;return!1}}String.prototype.format||(String.prototype.format=function(){var i=arguments;return this.replace(/{(\d+)}/g,function(e,t){return typeof i[t]<"u"?i[t]:e})});var $xe={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",commentText:"Please leave a comment",otherItemText:"Other (describe)",noneItemText:"None",refuseItemText:"Refuse to answer",dontKnowItemText:"Don't know",selectAllItemText:"Select All",deselectAllItemText:"Deselect all",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain any visible elements.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"You have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",buttongroupOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",eachRowUniqueError:"Each row must have a unique value.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textNoDigitsAllow:"Numbers are not allowed.",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} option(s).",maxSelectError:"Please select no more than {0} option(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",noUploadFilesHandler:"Files cannot be uploaded. Please add a handler for the 'onUploadFiles' event.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file selected",filePlaceholder:"Drag and drop a file here or click the button below to select a file to upload.",confirmDelete:"Are you sure you want to delete this record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",noRowsText:"There are no rows.",rowIndexTemplateTitle:"Row {rowIndex}",rowNameTemplateTitle:"{rowTitle}",addPanel:"Add new",removePanel:"Remove",showDetails:"Show Details",hideDetails:"Hide Details",choices_Item:"item",choices_Choice:"Choice option",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",savingExceedSize:"Your response exceeds 64KB. Please reduce the size of your file(s) and try again or contact the survey owner.",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",selectCaption:"Select",signaturePlaceHolder:"Sign here",signaturePlaceHolderReadOnly:"No signature",chooseFileCaption:"Select File",takePhotoCaption:"Take Photo",photoPlaceholder:"Click the button below to take a photo using the camera.",fileOrPhotoPlaceholder:"Drag and drop or select a file to upload or take a photo using the camera.",replaceFileCaption:"Replace file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",loadingPage:"Loading...",loadingData:"Loading...",noEntriesText:`No entries yet.
Click the button below to add a new entry.`,noEntriesReadonlyText:"No entries",tabTitlePlaceholder:"New Panel",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are selected for ranking",selectToRankEmptyUnrankedAreaText:"Drag choices here to rank them",ok:"OK",cancel:"Cancel",createCustomItem:'Create "{0}" item...',toc:"Table of contents",progressbar:"Progress bar"},To={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},localeNamesInEnglish:{},localeDirections:{},supportedLocales:[],useEnglishNames:!1,get showNamesInEnglish(){return this.useEnglishNames},set showNamesInEnglish(i){this.useEnglishNames=i},setupLocale(i){const e=i.localeCode;this.locales[e]=i.strings,this.localeNames[e]=i.nativeName,this.localeNamesInEnglish[e]=i.englishName,i.rtl!==void 0&&(this.localeDirections[e]=i.rtl?"rtl":"ltr")},get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(i){this.currentLocaleValue=this.getCorrectLocaleName(i)},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(i){this.defaultLocaleValue=this.getCorrectLocaleName(i)},getCorrectLocaleName(i){return i==="cz"&&(i="cs"),i==="gr"&&(i="el"),i==="rs"&&(i="sr"),i==="ua"&&(i="uk"),i},getLocaleStrings(i){return this.locales[i]},getString:function(i,e=null){const t=new Array,n=s=>{const o=this.locales[s];o&&t.push(o)},r=s=>{if(!s)return;n(s);const o=s.indexOf("-");o<1||(s=s.substring(0,o),n(s))};r(e),r(this.currentLocale),r(this.defaultLocale),this.defaultLocale!=="en"&&n("en");for(let s=0;s<t.length;s++){const o=t[s][i];if(o!==void 0)return o}return this.onGetExternalString(i,e)},getLocaleName(i,e){if(!i)return"";e===void 0&&(e=this.showNamesInEnglish);const t=e?this.localeNamesInEnglish:this.localeNames,n=e?this.localeNames:this.localeNamesInEnglish;return t[i]||n[i]||i},getLocales:function(i=!1){var e=[];e.push("");var t=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){t={};for(var n=0;n<this.supportedLocales.length;n++)t[this.supportedLocales[n]]=!0}for(var r in t)i&&r==this.defaultLocale||e.push(r);var s=o=>this.getLocaleName(o).toLowerCase();return e.sort((o,a)=>{var l=s(o),u=s(a);return l===u?0:l<u?-1:1}),e},onGetExternalString:function(i,e){}};function ur(i,e=null){return To.getString(i,e)}To.locales.en=$xe;To.localeNames.en="english";function rE(i,e,t){let n=i.getLocalizableString(t);if(!n){let r;typeof e.localizable=="object"&&e.localizable.defaultStr&&(r=e.localizable.defaultStr),n=i.createLocalizableString(t,i,!0,r),typeof e.localizable=="object"&&typeof e.localizable.onGetTextCallback=="function"&&(n.onGetTextCallback=e.localizable.onGetTextCallback)}}function Bxe(i,e,t){rE(i,e,t);let n=i.getLocalizableStringText(t);if(n)return n;if(typeof e.localizable=="object"&&e.localizable.defaultStr){const r=i.getLocale?i.getLocale():"";return ur(e.localizable.defaultStr,r)}return""}function G(i={}){return function(e,t){let n=(r,s)=>{if(s&&typeof s=="object"&&s.type===Un.ComputedUpdaterType){Ut.startCollectDependencies(()=>r[t]=s.updater(),r,t);const o=s.updater(),a=Ut.finishCollectDependencies();return s.setDependencies(a),r.dependencies[t]&&r.dependencies[t].dispose(),r.dependencies[t]=s,o}return s};!i||!i.localizable?Object.defineProperty(e,t,{get:function(){let r=null;return i&&(typeof i.getDefaultValue=="function"&&(r=i.getDefaultValue(this)),i.defaultValue!==void 0&&(r=i.defaultValue)),this.getPropertyValue(t,r)},set:function(r){const s=n(this,r),o=this.getPropertyValue(t);s!==o&&(this.setPropertyValue(t,s),i&&i.onSet&&i.onSet(s,this,o))}}):(Object.defineProperty(e,t,{get:function(){return Bxe(this,i,t)},set:function(r){rE(this,i,t);const s=n(this,r);this.setLocalizableStringText(t,s),i&&i.onSet&&i.onSet(s,this)}}),Object.defineProperty(e,typeof i.localizable=="object"&&i.localizable.name?i.localizable.name:"loc"+t.charAt(0).toUpperCase()+t.slice(1),{get:function(){return rE(this,i,t),this.getLocalizableString(t)}}))}}function LV(i,e,t){i.ensureArray(t,(n,r)=>{const s=e?e.onPush:null;s&&s(n,r,i)},(n,r)=>{const s=e?e.onRemove:null;s&&s(n,r,i)})}function rs(i){return function(e,t){Object.defineProperty(e,t,{get:function(){return LV(this,i,t),this.getPropertyValue(t)},set:function(n){LV(this,i,t);const r=this.getPropertyValue(t);n!==r&&(r?r.splice(0,r.length,...n||[]):this.setPropertyValue(t,n),i&&i.onSet&&i.onSet(n,this))}})}}class yl{constructor(e,t,n=!1){this.name=t,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=e,this.isRequiredValue=n,this.idValue=yl.Index++}get id(){return this.idValue}get classInfo(){return this.classInfoValue}get type(){return this.typeValue?this.typeValue:"string"}set type(e){e==="itemvalues"&&(e="itemvalue[]"),e==="textitems"&&(e="textitem[]"),this.typeValue=e,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))}get locationInTable(){return this.locationInTableValue||"column"}set locationInTable(e){this.locationInTableValue=e}get showMode(){const e=this.locationInTableValue;return e==="detail"?"form":e==="column"?"list":""}set showMode(e){this.locationInTable=e==="form"?"detail":e==="list"?"column":void 0}get isRequired(){return this.isRequiredValue}set isRequired(e){e!==this.isRequired&&(this.isRequiredValue=e,this.classInfo&&this.classInfo.resetAllProperties())}get isUnique(){return this.isUniqueValue}set isUnique(e){this.isUniqueValue=e}get uniquePropertyName(){return this.uniquePropertyValue}set uniquePropertyName(e){this.uniquePropertyValue=e}isPropertySerializable(e){return this.isSerializableFunc?this.isSerializableFunc(e):this.isSerializable}getDefaultValue(e){let t=this.defaultValueFunc?this.defaultValueFunc(e):this.defaultValueValue;return yl.getItemValuesDefaultValue&&me.isDescendantOf(this.className,"itemvalue")&&(t=yl.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),t}get defaultValue(){return this.getDefaultValue(void 0)}set defaultValue(e){this.defaultValueValue=e,e!==void 0&&(this.defaultValueFunc=void 0)}isDefaultValue(e){return this.isDefaultValueByObj(void 0,e)}isDefaultValueByObj(e,t){if(this.isLocalizable)return t==null;const n=this.getDefaultValue(e);return n!==void 0?typeof n!="object"?n===t:se.isTwoValueEquals(t,n,!1,!0,!1):t===!1&&(this.type=="boolean"||this.type=="switch")&&!this.defaultValueFunc||t===""||se.isValueEmpty(t)}getSerializableValue(e,t){if(this.onSerializeValue)return this.onSerializeValue(e);const n=this.getValue(e);if(n!=null&&!(!t&&this.isDefaultValueByObj(e,n)))return n}getValue(e){return this.onGetValue?(e=this.getOriginalObj(e),this.onGetValue(e)):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].getJson():e[this.name]}getPropertyValue(e){return this.isLocalizable?e[this.serializationProperty]?e[this.serializationProperty].text:null:this.getValue(e)}get hasToUseSetValue(){return this.onSetValue||this.serializationProperty}settingValue(e,t){return!this.onSettingValue||e.isLoadingFromJson?t:this.onSettingValue(e,t)}setValue(e,t,n){this.onSetValue?(e=this.getOriginalObj(e),this.onSetValue(e,t,n)):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].setJson(t,!0):(t&&typeof t=="string"&&(this.type=="number"&&(t=parseInt(t)),(this.type=="boolean"||this.type=="switch")&&(t=t.toLowerCase()==="true")),e[this.name]=t)}validateValue(e){const t=this.choices;return!Array.isArray(t)||t.length===0?!0:t.indexOf(e)>-1}getObjType(e){return this.classNamePart?e.replace(this.classNamePart,""):e}get choices(){return this.getChoices(null)}get hasChoices(){return!!this.choicesValue||!!this.choicesfunc}getChoices(e,t=null){return this.choicesValue!=null?this.choicesValue:this.choicesfunc!=null?this.choicesfunc(e,t):null}setChoices(e,t=null){this.choicesValue=e,this.choicesfunc=t}getBaseValue(){return this.baseValue?typeof this.baseValue=="function"?this.baseValue():this.baseValue:""}setBaseValue(e){this.baseValue=e}get readOnly(){return this.readOnlyValue!=null?this.readOnlyValue:!1}set readOnly(e){this.readOnlyValue=e}isEnable(e){return this.readOnly?!1:!e||!this.enableIf?!0:this.enableIf(this.getOriginalObj(e))}isVisible(e,t=null){let n=!this.layout||!e||this.layout===e;return!this.visible||!n?!1:this.visibleIf&&t?this.visibleIf(this.getOriginalObj(t)):!0}getOriginalObj(e){if(e&&e.getOriginalObj){const t=e.getOriginalObj();if(t&&me.findProperty(t.getType(),this.name))return t}return e}get visible(){return this.visibleValue!=null?this.visibleValue:!0}set visible(e){this.visibleValue=e}isAvailableInVersion(e){return this.alternativeName||this.oldName?!0:this.isAvailableInVersionCore(e)}getSerializedName(e){return this.alternativeName?this.isAvailableInVersionCore(e)?this.name:this.alternativeName||this.oldName:this.name}getSerializedProperty(e,t){return!this.oldName||this.isAvailableInVersionCore(t)?this:!e||!e.getType?null:me.findProperty(e.getType(),this.oldName)}isAvailableInVersionCore(e){return!e||!this.version?!0:se.compareVerions(this.version,e)<=0}get isLocalizable(){return this.isLocalizableValue!=null?this.isLocalizableValue:!1}set isLocalizable(e){this.isLocalizableValue=e}get dataList(){return Array.isArray(this.dataListValue)?this.dataListValue:[]}set dataList(e){this.dataListValue=e}mergeWith(e){for(var t=yl.mergableValues,n=0;n<t.length;n++)this.mergeValue(e,t[n])}addDependedProperty(e){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(e)<0&&this.dependedProperties.push(e)}getDependedProperties(){return this.dependedProperties?this.dependedProperties:[]}schemaType(){if(this.className!=="choicesByUrl")return this.className==="string"?this.className:this.className||this.baseClassName?"array":this.type=="switch"?"boolean":this.type=="boolean"||this.type=="number"?this.type:"string"}schemaRef(){if(this.className)return this.className}mergeValue(e,t){this[t]==null&&e[t]!=null&&(this[t]=e[t])}}yl.Index=1;yl.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","oldName","layout","version","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","locationInTable","dependedProperties","visibleIf","enableIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"];class _i{static addProperty(e,t){e=e.toLowerCase();var n=_i.properties;n[e]||(n[e]=[]),n[e].push(t)}static removeProperty(e,t){e=e.toLowerCase();var n=_i.properties;if(n[e]){for(var r=n[e],s=0;s<r.length;s++)if(r[s].name==t){n[e].splice(s,1);break}}}static removeAllProperties(e){e=e.toLowerCase(),delete _i.properties[e]}static addClass(e,t){e=e.toLowerCase(),t&&(t=t.toLowerCase()),_i.parentClasses[e]=t}static getProperties(e){e=e.toLowerCase();for(var t=[],n=_i.properties;e;){var r=n[e];if(r)for(var s=0;s<r.length;s++)t.push(r[s]);e=_i.parentClasses[e]}return t}static createProperties(e){!e||!e.getType||_i.createPropertiesCore(e,e.getType())}static createPropertiesCore(e,t){var n=_i.properties;n[t]&&_i.createPropertiesInObj(e,n[t]);var r=_i.parentClasses[t];r&&_i.createPropertiesCore(e,r)}static createPropertiesInObj(e,t){for(var n=0;n<t.length;n++)_i.createPropertyInObj(e,t[n])}static createPropertyInObj(e,t){if(!_i.checkIsPropertyExists(e,t.name)&&!(t.serializationProperty&&_i.checkIsPropertyExists(e,t.serializationProperty))){if(t.isLocalizable&&t.serializationProperty&&e.createCustomLocalizableObj){const o=e.createCustomLocalizableObj(t.name);o.defaultValue=t.getDefaultValue(e);var n={get:function(){return e.getLocalizableString(t.name)}};Object.defineProperty(e,t.serializationProperty,n);var r={get:function(){return e.getLocalizableStringText(t.name)},set:function(a){e.setLocalizableStringText(t.name,a)}};Object.defineProperty(e,t.name,r)}else{var s=t.isArray||t.type==="multiplevalues";if(typeof e.createNewArray=="function"&&(me.isDescendantOf(t.className,"itemvalue")?(e.createNewArray(t.name,function(o){o.locOwner=e,o.ownerPropertyName=t.name}),s=!0):s&&e.createNewArray(t.name),s)){const o=t.getDefaultValue(e);Array.isArray(o)&&e.setPropertyValue(t.name,o)}if(e.getPropertyValue&&e.setPropertyValue){var r={get:()=>t.onGetValue?t.onGetValue(e):e.getPropertyValue(t.name,void 0),set:function(a){t.onSetValue?t.onSetValue(e,a,null):e.setPropertyValue(t.name,a)}};Object.defineProperty(e,t.name,r)}}(t.type==="condition"||t.type==="expression")&&t.onExecuteExpression&&e.addExpressionProperty(t.name,t.onExecuteExpression)}}static checkIsPropertyExists(e,t){return e.hasOwnProperty(t)||e[t]}}_i.properties={};_i.parentClasses={};class Jf{constructor(e,t,n=null,r=null){this.name=e,this.creator=n,this.parentName=r,e=e.toLowerCase(),this.isCustomValue=!n&&e!=="survey",this.parentName&&(this.parentName=this.parentName.toLowerCase(),_i.addClass(e,this.parentName),n&&this.makeParentRegularClass()),this.properties=new Array;for(var s=0;s<t.length;s++)this.createProperty(t[s],this.isCustom)}find(e){for(var t=0;t<this.properties.length;t++)if(this.properties[t].name==e)return this.properties[t];return null}findProperty(e){return this.fillAllProperties(),this.hashProperties[e]}getAllProperties(){return this.fillAllProperties(),this.allProperties}getRequiredProperties(){if(this.requiredProperties)return this.requiredProperties;this.requiredProperties=[];const e=this.getAllProperties();for(let t=0;t<e.length;t++)e[t].isRequired&&this.requiredProperties.push(e[t]);return this.requiredProperties}resetAllProperties(){this.allProperties=void 0,this.requiredProperties=void 0,this.hashProperties=void 0;for(var e=me.getChildrenClasses(this.name),t=0;t<e.length;t++)e[t].resetAllProperties()}get isCustom(){return this.isCustomValue}fillAllProperties(){if(this.allProperties)return;this.allProperties=[],this.hashProperties={};const e={};this.properties.forEach(n=>e[n.name]=n);const t=this.parentName?me.findClass(this.parentName):null;t&&t.getAllProperties().forEach(r=>{const s=e[r.name];s?(s.mergeWith(r),this.addPropCore(s)):this.addPropCore(r)}),this.properties.forEach(n=>{this.hashProperties[n.name]||this.addPropCore(n)})}addPropCore(e){this.allProperties.push(e),this.hashProperties[e.name]=e,e.alternativeName&&(this.hashProperties[e.alternativeName]=e)}isOverridedProp(e){return!!this.parentName&&!!me.findProperty(this.parentName,e)}hasRegularChildClass(){if(this.isCustom){this.isCustomValue=!1;for(var e=0;e<this.properties.length;e++)this.properties[e].isCustom=!1;_i.removeAllProperties(this.name),this.makeParentRegularClass()}}makeParentRegularClass(){if(!this.parentName)return;const e=me.findClass(this.parentName);e&&e.hasRegularChildClass()}createProperty(e,t=!1){var n=typeof e=="string"?e:e.name;if(n){var r=null,s=n.indexOf(Jf.typeSymbol);s>-1&&(r=n.substring(s+1),n=n.substring(0,s));var o=this.getIsPropertyNameRequired(n)||!!e.isRequired;n=this.getPropertyName(n);var a=new yl(this,n,o);if(r&&(a.type=r),typeof e=="object"){if(e.type&&(a.type=e.type),e.default!==void 0&&(a.defaultValue=e.default),e.defaultFunc!==void 0&&(a.defaultValueFunc=e.defaultFunc),se.isValueEmpty(e.isSerializable)||(a.isSerializable=e.isSerializable),se.isValueEmpty(e.isSerializableFunc)||(a.isSerializableFunc=e.isSerializableFunc),se.isValueEmpty(e.isLightSerializable)||(a.isLightSerializable=e.isLightSerializable),se.isValueEmpty(e.maxLength)||(a.maxLength=e.maxLength),e.displayName!==void 0&&(a.displayName=e.displayName),se.isValueEmpty(e.category)||(a.category=e.category),se.isValueEmpty(e.categoryIndex)||(a.categoryIndex=e.categoryIndex),se.isValueEmpty(e.nextToProperty)||(a.nextToProperty=e.nextToProperty),se.isValueEmpty(e.overridingProperty)||(a.overridingProperty=e.overridingProperty),se.isValueEmpty(e.visibleIndex)||(a.visibleIndex=e.visibleIndex),se.isValueEmpty(e.showMode)||(a.showMode=e.showMode),se.isValueEmpty(e.locationInTable)||(a.locationInTable=e.locationInTable),se.isValueEmpty(e.maxValue)||(a.maxValue=e.maxValue),se.isValueEmpty(e.minValue)||(a.minValue=e.minValue),se.isValueEmpty(e.dataList)||(a.dataList=e.dataList),se.isValueEmpty(e.isDynamicChoices)||(a.isDynamicChoices=e.isDynamicChoices),se.isValueEmpty(e.isBindable)||(a.isBindable=e.isBindable),se.isValueEmpty(e.isUnique)||(a.isUnique=e.isUnique),se.isValueEmpty(e.uniqueProperty)||(a.uniquePropertyName=e.uniqueProperty),se.isValueEmpty(e.isArray)||(a.isArray=e.isArray),(e.visible===!0||e.visible===!1)&&(a.visible=e.visible),e.visibleIf&&(a.visibleIf=e.visibleIf),e.enableIf&&(a.enableIf=e.enableIf),e.onExecuteExpression&&(a.onExecuteExpression=e.onExecuteExpression),e.onPropertyEditorUpdate&&(a.onPropertyEditorUpdate=e.onPropertyEditorUpdate),e.readOnly===!0&&(a.readOnly=!0),e.availableInMatrixColumn===!0&&(a.availableInMatrixColumn=!0),e.choices){var l=typeof e.choices=="function"?e.choices:null,u=typeof e.choices!="function"?e.choices:null;a.setChoices(u,l)}e.baseValue&&a.setBaseValue(e.baseValue),e.onSerializeValue&&(a.onSerializeValue=e.onSerializeValue),e.onGetValue&&(a.onGetValue=e.onGetValue),e.onSetValue&&(a.onSetValue=e.onSetValue),e.onSettingValue&&(a.onSettingValue=e.onSettingValue),e.isLocalizable&&(e.serializationProperty="loc"+a.name),e.serializationProperty&&(a.serializationProperty=e.serializationProperty,a.serializationProperty&&a.serializationProperty.indexOf("loc")==0&&(a.isLocalizable=!0)),e.isLocalizable&&(a.isLocalizable=e.isLocalizable),e.className&&(a.className=e.className),e.baseClassName&&(a.baseClassName=e.baseClassName,a.isArray=!0),a.isArray===!0&&(a.isArray=!0),e.classNamePart&&(a.classNamePart=e.classNamePart),e.alternativeName&&(a.alternativeName=e.alternativeName),e.oldName&&(a.oldName=e.oldName),e.layout&&(a.layout=e.layout),e.version&&(a.version=e.version),e.dependsOn&&this.addDependsOnProperties(a,e.dependsOn)}return this.properties.push(a),t&&!this.isOverridedProp(a.name)&&(a.isCustom=!0,_i.addProperty(this.name,a)),a}}addDependsOnProperties(e,t){const n=Array.isArray(t)?t:[t];e.dependsOn=n;for(var r=0;r<n.length;r++)this.addDependsOnProperty(e,n[r])}addDependsOnProperty(e,t){var n=this.find(t);n||(n=me.findProperty(this.parentName,t)),n&&n.addDependedProperty(e.name)}getIsPropertyNameRequired(e){return e.length>0&&e[0]==Jf.requiredSymbol}getPropertyName(e){return this.getIsPropertyNameRequired(e)&&(e=e.slice(1)),e}}Jf.requiredSymbol="!";Jf.typeSymbol=":";class qxe{constructor(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.dynamicPropsCache={}}getObjPropertyValue(e,t){if(this.isObjWrapper(e)&&this.isNeedUseObjWrapper(e,t)){const r=e.getOriginalObj(),s=me.findProperty(r.getType(),t);if(s)return this.getObjPropertyValueCore(r,s)}const n=me.findProperty(e.getType(),t);return n?this.getObjPropertyValueCore(e,n):e[t]}setObjPropertyValue(e,t,n){if(e[t]!==n)if(e[t]&&e[t].setJson)e[t].setJson(n,!0);else{if(Array.isArray(n)){const s=[];for(var r=0;r<n.length;r++)s.push(n[r]);n=s}e[t]=n}}getObjPropertyValueCore(e,t){if(!t.isPropertySerializable(e))return e[t.name];if(t.isLocalizable){if(t.isArray)return e[t.name];const n=e.getLocalizableString(t.name);if(n)return n.isDefautlLocale?n.text:n.getValue(n.locale);if(t.serializationProperty)return e[t.serializationProperty].text}return e.getPropertyValue(t.name)}isObjWrapper(e){return!!e.getOriginalObj&&!!e.getOriginalObj()}isNeedUseObjWrapper(e,t){if(!e.getDynamicProperties)return!0;const n=e.getDynamicProperties();if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(n[r].name===t)return!0;return!1}addClass(e,t,n=null,r=null){e=e.toLowerCase();var s=new Jf(e,t,n,r);if(this.classes[e]=s,r){r=r.toLowerCase();var o=this.childrenClasses[r];o||(this.childrenClasses[r]=[]),this.childrenClasses[r].push(s)}return s}removeClass(e){var t=this.findClass(e);if(t&&(delete this.classes[t.name],t.parentName)){var n=this.childrenClasses[t.parentName].indexOf(t);n>-1&&this.childrenClasses[t.parentName].splice(n,1)}}overrideClassCreatore(e,t){this.overrideClassCreator(e,t)}overrideClassCreator(e,t){e=e.toLowerCase();var n=this.findClass(e);n&&(n.creator=t)}getProperties(e){var t=this.findClass(e);return t?t.getAllProperties():[]}getPropertiesByObj(e){const t=e&&e.getType?e.getType():void 0;if(!t)return[];const n=this.getProperties(t),r=this.getDynamicPropertiesByObj(e);for(let s=r.length-1;s>=0;s--)this.findProperty(t,r[s].name)&&r.splice(s,1);return r.length===0?n:[].concat(n).concat(r)}addDynamicPropertiesIntoObj(e,t,n){n.forEach(r=>{this.addDynamicPropertyIntoObj(e,t,r.name,!1),r.serializationProperty&&this.addDynamicPropertyIntoObj(e,t,r.serializationProperty,!0),r.alternativeName&&this.addDynamicPropertyIntoObj(e,t,r.alternativeName,!1)})}addDynamicPropertyIntoObj(e,t,n,r){var s={configurable:!0,get:function(){return t[n]}};r||(s.set=function(o){t[n]=o}),Object.defineProperty(e,n,s)}getDynamicPropertiesByObj(e,t=null){if(!e||!e.getType)return[];if(e.getDynamicProperties)return e.getDynamicProperties();if(!e.getDynamicType&&!t)return[];const n=t||e.getDynamicType();return this.getDynamicPropertiesByTypes(e.getType(),n)}getDynamicPropertiesByTypes(e,t,n){if(!t)return[];const r=t+"-"+e;if(this.dynamicPropsCache[r])return this.dynamicPropsCache[r];var s=this.getProperties(t);if(!s||s.length==0)return[];const o={},a=this.getProperties(e);for(var l=0;l<a.length;l++)o[a[l].name]=a[l];const u=[];n||(n=[]);for(let c=0;c<s.length;c++){const h=s[c];this.canAddDybamicProp(h,o[h.name])&&(n.indexOf(h.name)>-1&&(h.visible=!1,h.isSerializable=!1),u.push(h))}return this.dynamicPropsCache[r]=u,u}canAddDybamicProp(e,t){if(!t)return!0;if(e===t)return!1;let n=e.classInfo;for(;n&&n.parentName;){if(e=this.findProperty(n.parentName,e.name),e&&e===t)return!0;n=e?e.classInfo:void 0}return!1}hasOriginalProperty(e,t){return!!this.getOriginalProperty(e,t)}getOriginalProperty(e,t){var n=this.findProperty(e.getType(),t);return n||(this.isObjWrapper(e)?this.findProperty(e.getOriginalObj().getType(),t):null)}getProperty(e,t){const n=this.findProperty(e,t);if(!n)return n;const r=this.findClass(e);if(n.classInfo===r)return n;const s=new yl(r,n.name,n.isRequired);return s.mergeWith(n),s.isArray=n.isArray,r.properties.push(s),r.resetAllProperties(),s}findProperty(e,t){const n=this.findClass(e);return n?n.findProperty(t):null}findProperties(e,t){var n=new Array;const r=this.findClass(e);if(!r)return n;for(var s=0;s<t.length;s++){var o=r.findProperty(t[s]);o&&n.push(o)}return n}getAllPropertiesByName(e){for(var t=new Array,n=this.getAllClasses(),r=0;r<n.length;r++)for(var s=this.findClass(n[r]),o=0;o<s.properties.length;o++)if(s.properties[o].name==e){t.push(s.properties[o]);break}return t}getAllClasses(){var e=new Array;for(var t in this.classes)e.push(t);return e}createClass(e,t=void 0){e=e.toLowerCase();var n=this.findClass(e);if(!n)return null;if(n.creator)return n.creator(t);for(var r=n.parentName;r;){if(n=this.findClass(r),!n)return null;if(r=n.parentName,n.creator)return this.createCustomType(e,n.creator,t)}return null}createCustomType(e,t,n=void 0){e=e.toLowerCase();var r=t(n),s=e,o=r.getTemplate?r.getTemplate():r.getType();return r.getType=function(){return s},r.getTemplate=function(){return o},_i.createProperties(r),r}getChildrenClasses(e,t=!1){e=e.toLowerCase();var n=[];return this.fillChildrenClasses(e,t,n),n}getRequiredProperties(e){const t=this.findClass(e);if(!t)return[];const n=t.getRequiredProperties();for(var r=[],s=0;s<n.length;s++)r.push(n[s].name);return r}addProperties(e,t){e=e.toLowerCase();for(var n=this.findClass(e),r=0;r<t.length;r++)this.addCustomPropertyCore(n,t[r])}addProperty(e,t){return this.addCustomPropertyCore(this.findClass(e),t)}addCustomPropertyCore(e,t){if(!e)return null;var n=e.createProperty(t,!0);return n&&(this.clearDynamicPropsCache(e),e.resetAllProperties()),n}removeProperty(e,t){var n=this.findClass(e);if(!n)return!1;var r=n.find(t);r&&(this.clearDynamicPropsCache(n),this.removePropertyFromClass(n,r),n.resetAllProperties(),_i.removeProperty(n.name,t))}clearDynamicPropsCache(e){this.dynamicPropsCache={}}removePropertyFromClass(e,t){var n=e.properties.indexOf(t);n<0||e.properties.splice(n,1)}fillChildrenClasses(e,t,n){var r=this.childrenClasses[e];if(r)for(var s=0;s<r.length;s++)(!t||r[s].creator)&&n.push(r[s]),this.fillChildrenClasses(r[s].name,t,n)}findClass(e){e=e.toLowerCase();var t=this.classes[e];if(!t){var n=this.alternativeNames[e];if(n&&n!=e)return this.findClass(n)}return t}isDescendantOf(e,t){if(!e||!t)return!1;e=e.toLowerCase(),t=t.toLowerCase();var n=this.findClass(e);if(!n)return!1;var r=n;do{if(r.name===t)return!0;r=this.classes[r.parentName]}while(r);return!1}addAlterNativeClassName(e,t){this.alternativeNames[t.toLowerCase()]=e.toLowerCase()}generateSchema(e=void 0){e||(e="survey");var t=this.findClass(e);if(!t)return null;var n={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(t,n,n.definitions,!0),n}generateLocStrClass(){const e={},t=me.findProperty("survey","locale");if(t){const n=t.getChoices(null);Array.isArray(n)&&(n.indexOf("en")<0&&n.splice(0,0,"en"),n.splice(0,0,"default"),n.forEach(r=>{r&&(e[r]={type:"string"})}))}return{$id:"locstring",type:"object",properties:e}}generateSchemaProperties(e,t,n,r){if(!e)return;const s=t.properties,o=[];e.name==="question"&&(s.type={type:"string"},o.push("type"));for(let a=0;a<e.properties.length;a++){const l=e.properties[a];l.isSerializable!==!1&&(e.parentName&&me.findProperty(e.parentName,l.name)||(s[l.name]=this.generateSchemaProperty(l,n,r),l.isRequired&&o.push(l.name)))}o.length>0&&(t.required=o)}generateSchemaProperty(e,t,n){if(e.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",n)}]};const r=e.schemaType(),s=e.schemaRef();var o={};if(r&&(o.type=r),e.hasChoices){const c=e.getChoices(null);Array.isArray(c)&&c.length>0&&(o.enum=this.getChoicesValues(c))}if(s&&(r==="array"?e.className==="string"?o.items={type:e.className}:o.items={$ref:this.getChemeRefName(e.className,n)}:o.$ref=this.getChemeRefName(s,n),this.generateChemaClass(e.className,t,!1)),e.baseClassName){var a=this.getChildrenClasses(e.baseClassName,!0);e.baseClassName=="question"&&a.push(this.findClass("panel")),o.items={anyOf:[]};for(var l=0;l<a.length;l++){var u=a[l].name;o.items.anyOf.push({$ref:this.getChemeRefName(u,n)}),this.generateChemaClass(u,t,!1)}}return o}getChemeRefName(e,t){return t?"#/definitions/"+e:e}generateChemaClass(e,t,n){if(t[e])return;var r=this.findClass(e);if(!r)return;var s=!!r.parentName&&r.parentName!="base";s&&this.generateChemaClass(r.parentName,t,n);const o={type:"object",$id:e};t[e]=o;const a={properties:{}};this.generateSchemaProperties(r,a,t,n),s?o.allOf=[{$ref:this.getChemeRefName(r.parentName,n)},{properties:a.properties}]:o.properties=a.properties,Array.isArray(a.required)&&(o.required=a.required)}getChoicesValues(e){const t=new Array;return e.forEach(n=>{typeof n=="object"&&n.value!==void 0?t.push(n.value):t.push(n)}),t}}class ay{constructor(e,t){this.type=e,this.message=t,this.description="",this.at=-1,this.end=-1}getFullDescription(){return this.message+(this.description?`
`+this.description:"")}}class Uxe extends ay{constructor(e,t){super("unknownproperty","Unknown property in class '"+t+"': '"+e+"'."),this.propertyName=e,this.className=t}}class p$ extends ay{constructor(e,t,n){super(t,n),this.baseClassName=e,this.type=t,this.message=n}}class Hxe extends p${constructor(e,t){super(t,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+e+"'."),this.propertyName=e,this.baseClassName=t}}class zxe extends p${constructor(e,t){super(t,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+e+"'."),this.propertyName=e,this.baseClassName=t}}class jxe extends ay{constructor(e,t){super("requiredproperty","The property '"+e+"' is required in class '"+t+"'."),this.propertyName=e,this.className=t}}class Qxe extends ay{constructor(e,t){super("arrayproperty","The property '"+e+"' should be an array in '"+t+"'."),this.propertyName=e,this.className=t}}class Wxe extends ay{constructor(e,t){super("incorrectvalue","The property value: '"+t+"' is incorrect for property '"+e.name+"'."),this.property=e,this.value=t}}class Si{constructor(){this.errors=new Array,this.lightSerializing=!1}static get metaData(){return Si.metaDataValue}toJsonObject(e,t){return this.toJsonObjectCore(e,null,t)}toObject(e,t,n){this.toObjectCore(e,t,n);var r=this.getRequiredError(t,e);r&&this.addNewError(r,e,t)}toObjectCore(e,t,n){if(!e)return;var r=null,s=void 0,o=!0;if(t.getType&&(s=t.getType(),r=me.getProperties(s),o=!!s&&!me.isDescendantOf(s,"itemvalue")),!r)return;t.startLoadingFromJson&&t.startLoadingFromJson(e),r=this.addDynamicProperties(t,e,r),this.options=n;const a={};a[Si.typePropertyName]=!0;const l={};for(var u in e)this.setPropertyValueToObj(e,t,u,r,a,l,s,o,n);this.options=void 0,t.endLoadingFromJson&&t.endLoadingFromJson()}setPropertyValueToObj(e,t,n,r,s,o,a,l,u){if(s[n])return;if(n===Si.positionPropertyName){t[n]=e[n];return}const c=this.findProperty(r,n);if(!c&&l&&this.addNewError(new Uxe(n.toString(),a),e,t),c){const h=c.dependsOn;Array.isArray(h)&&(o[n]=!0,h.forEach(f=>{o[f]||this.setPropertyValueToObj(e,t,f,r,s,o,a,!1,u)})),this.valueToObj(e[n],t,c,e,u),s[n]=!0}}toJsonObjectCore(e,t,n){if(!e||!e.getType)return e;if(!e.isSurvey&&typeof e.getData=="function")return e.getData();var r={};t!=null&&!t.className&&(r[Si.typePropertyName]=t.getObjType(e.getType()));const s=n===!0;return(!n||n===!0)&&(n={}),s&&(n.storeDefaults=s),this.propertiesToJson(e,me.getProperties(e.getType()),r,n),this.propertiesToJson(e,this.getDynamicProperties(e),r,n),r}getDynamicProperties(e){return me.getDynamicPropertiesByObj(e)}addDynamicProperties(e,t,n){if(!e.getDynamicPropertyName&&!e.getDynamicProperties)return n;if(e.getDynamicPropertyName){const s=e.getDynamicPropertyName();if(!s)return n;s&&t[s]&&(e[s]=t[s])}const r=this.getDynamicProperties(e);return r.length===0?n:[].concat(n).concat(r)}propertiesToJson(e,t,n,r){for(var s=0;s<t.length;s++)this.valueToJson(e,n,t[s],r)}valueToJson(e,t,n,r){r||(r={}),!(!n.isPropertySerializable(e)||n.isLightSerializable===!1&&this.lightSerializing)&&(r.version&&!n.isAvailableInVersion(r.version)||this.valueToJsonCore(e,t,n,r))}valueToJsonCore(e,t,n,r){const s=n.getSerializedProperty(e,r.version);if(s&&s!==n){this.valueToJsonCore(e,t,s,r);return}var o=n.getSerializableValue(e,r.storeDefaults);if(o===void 0)return;if(this.isValueArray(o)){for(var a=[],l=0;l<o.length;l++)a.push(this.toJsonObjectCore(o[l],n,r));o=a.length>0?a:null}else o=this.toJsonObjectCore(o,n,r);if(o==null)return;const u=n.getSerializedName(r.version);var c=typeof e.getPropertyValue=="function"&&e.getPropertyValue(u,null)!==null;(r.storeDefaults&&c||!n.isDefaultValueByObj(e,o))&&(!me.onSerializingProperty||!me.onSerializingProperty(e,n,o,t))&&(t[u]=this.removePosOnValueToJson(n,o))}valueToObj(e,t,n,r,s){if(e!=null){if(this.removePos(n,e),n!=null&&n.hasToUseSetValue){n.setValue(t,e,this);return}if(n.isArray&&!Array.isArray(e)&&e){e=[e];const a=r&&n.alternativeName&&r[n.alternativeName]?n.alternativeName:n.name;this.addNewError(new Qxe(a,t.getType()),r||e,t)}if(this.isValueArray(e)){this.valueToArray(e,t,n.name,n,s);return}var o=this.createNewObj(e,n);o.newObj&&(this.toObjectCore(e,o.newObj,s),e=o.newObj),o.error||(n!=null?(n.setValue(t,e,this),s&&s.validatePropertyValues&&(n.validateValue(e)||this.addNewError(new Wxe(n,e),r,t))):t[n.name]=e)}}removePosOnValueToJson(e,t){return!e.isCustom||!t||this.removePosFromObj(t),t}removePos(e,t){!e||!e.type||e.type.indexOf("value")<0||this.removePosFromObj(t)}removePosFromObj(e){if(!(!e||typeof e.getType=="function")){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.removePosFromObj(e[t]);if(typeof e=="object"){e[Si.positionPropertyName]&&delete e[Si.positionPropertyName];for(let n in e)this.removePosFromObj(e[n])}}}isValueArray(e){return e&&Array.isArray(e)}createNewObj(e,t){var n={newObj:null,error:null};const r=this.getClassNameForNewObj(e,t);return n.newObj=r?me.createClass(r,e):null,n.error=this.checkNewObjectOnErrors(n.newObj,e,t,r),n}getClassNameForNewObj(e,t){var n=t!=null&&t.className?t.className:void 0;if(n||(n=e[Si.typePropertyName]),!n)return n;n=n.toLowerCase();const r=t.classNamePart;return r&&n.indexOf(r)<0&&(n+=r),n}checkNewObjectOnErrors(e,t,n,r){var s=null;return e?s=this.getRequiredError(e,t):n.baseClassName&&(r?s=new zxe(n.name,n.baseClassName):s=new Hxe(n.name,n.baseClassName)),s&&this.addNewError(s,t,e),s}getRequiredError(e,t){if(!e.getType||typeof e.getData=="function")return null;const n=me.findClass(e.getType());if(!n)return null;const r=n.getRequiredProperties();if(!Array.isArray(r))return null;for(var s=0;s<r.length;s++){const o=r[s];if(se.isValueEmpty(o.defaultValue)&&!t[o.name])return new jxe(o.name,e.getType())}return null}addNewError(e,t,n){if(e.jsonObj=t,e.element=n,this.errors.push(e),!t)return;const r=t[Si.positionPropertyName];r&&(e.at=r.start,e.end=r.end)}valueToArray(e,t,n,r,s){if(!(t[n]&&!this.isValueArray(t[n]))){t[n]&&e.length>0&&t[n].splice(0,t[n].length);var o=t[n]?t[n]:[];this.addValuesIntoArray(e,o,r,s),t[n]||(t[n]=o)}}addValuesIntoArray(e,t,n,r){for(var s=0;s<e.length;s++){var o=this.createNewObj(e[s],n);o.newObj?(e[s].name&&(o.newObj.name=e[s].name),e[s].valueName&&(o.newObj.valueName=e[s].valueName.toString()),t.push(o.newObj),this.toObjectCore(e[s],o.newObj,r)):o.error||t.push(e[s])}}findProperty(e,t){if(!e)return null;for(var n=0;n<e.length;n++){var r=e[n];if(r.name==t||r.alternativeName==t)return r}return null}}Si.typePropertyName="type";Si.positionPropertyName="pos";Si.metaDataValue=new qxe;var me=Si.metaData;class Ec{constructor(){}getValueInfo(e){const t=this.getValueInfoCore(e);return!t.isFound&&t.value===void 0&&e.name.endsWith(".length")&&(t.isFound=!0,t.value=0),t}getValueInfoCore(e){const t=e.name,n=e.context;let r=this.run(e.name,n,e.createObjects);if((!r||!r.isFound)&&n&&n.getRootObj){const o=n.getRootObj();if(o)return e.context=o.getValueGetterContext(),this.getValueInfo(e)}const s={isFound:!1,value:void 0};return!r||!r.isFound||(s.isFound=!0,s.value=r.value,s.strictCompare=r.requireStrictCompare,r.context&&(e.isText&&r.context.getTextValue&&(s.value=r.context.getTextValue(t,s.value,e.isDisplayValue)),r.context.getQuestion&&(s.question=r.context.getQuestion()))),s}getValue(e,t,n,r){const s=this.getValueInfo({name:e,context:t,isText:n,isDisplayValue:r});return s.isFound?s.value:void 0}getDisplayValue(e,t,n=!0){return this.getValue(e,t,!0,n)}isAnyKeyChanged(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(!o)continue;const a=o.toLowerCase();if(e.hasOwnProperty(o)||o!==a&&e.hasOwnProperty(a))return!0;const l=this.getPath(o),u=l.length>0?l[0].name:"";if(!e.hasOwnProperty(u))continue;if(o===u)return!0;const c=e[u];if(c==null)continue;if(!c.hasOwnProperty("oldValue")||!c.hasOwnProperty("newValue"))return!0;const h={};h[u]=c.oldValue;var r=this.getValueFromObject(h,o);h[u]=c.newValue;var s=this.getValueFromObject(h,o);if(!se.isTwoValueEquals(r,s,!1,!1,!1))return!0}return!1}getValueFromObject(e,t){const n=this.getValueInfo({name:t,context:new Oo(e)});return n.isFound?n.value:void 0}run(e,t,n){if(!t)return;let r=this.getPath(e);const s=t.getValue(r,!0,-1,n);return s&&s.isFound?s:void 0}getPath(e){const t=[],n=e.split(".");for(let r=0;r<n.length;r++)t.push(this.getValueItem(n[r]));return t}getValueItem(e){e=e.trim();let t;if(e.lastIndexOf("]")===e.length-1){const r=e.lastIndexOf("[");if(r>-1){const s=e.substring(r+1,e.length-1);t=se.getNumber(s),(isNaN(t)||t<0)&&(t=void 0),t!==void 0&&(e=e.substring(0,r))}}const n={name:e};return t!==void 0&&(n.index=t),n}}class xh{constructor(){}getValue(e,t,n,r){let s=0;const o={isFound:!1,value:this.getInitialvalue(),context:this};for(;s<e.length;){if(s=this.checkValueByPath(e,s,o),!o.isFound)return;const a=e[s];if(s++,o.context!==this&&o.context)return o.context.getValue([].concat(e.slice(s)),!1,a.index,r);if(a.index!==void 0&&(this.updateItemByIndex(a.index,o),!o.isFound))return}return o}isSearchNameRevert(){return!1}checkValueByPath(e,t,n){const r=this.isSearchNameRevert(),s=t,o=this.getMaxIndexByPath(e,t);for(n.isFound=!1,r&&(t=o);!n.isFound&&t<=o&&t>=s;){const a=this.getNameByPath(e,s,t+1);if(this.updateValueByItem(a,n),n.isFound)break;t+=r?-1:1}return t}getNameByPath(e,t,n){let r="";for(let s=t;s<n;s++)s>t&&(r+="."),r+=e[s].name;return r}getMaxIndexByPath(e,t){let n=t;for(;n<e.length&&e[n].index===void 0;)n++;return n<e.length?n:e.length-1}getTextValue(e,t,n){return n?t==null?"":t.toString():t}getInitialvalue(){}updateValueByItem(e,t){}updateItemByIndex(e,t){}}class Oo extends xh{constructor(e){super(),this.variables=e}getInitialvalue(){return this.variables}isSearchNameRevert(){return!0}updateValueByItem(e,t){const n=this.getValueByItemCore(t.value,e);t.isFound=n!==void 0,t.isFound&&(t.value=n)}updateItemByIndex(e,t){const n=t.value;Array.isArray(n)&&e<n.length?(t.value=n[e],t.isFound=!0):t.isFound=!1}getValueByItemCore(e,t){if(!e||!t)return;const n=t.toLowerCase();if(t==="length"&&(Array.isArray(e)||typeof e=="string"))return e.length;let r=n[0],s=t[0].toLocaleUpperCase();for(var o in e){var a=o[0];if(a===r||a===s){var l=o.toLowerCase();if(l==n)return e[o]}}}}class Gxe{constructor(e){this.properties=null,this.asyncValues={},this.contextValue=e}get context(){return this.contextValue}hasValue(e){return this.context?this.getValueInfoByContext(e).isFound:!1}getValue(e){if(this.context)return this.getValueInfoByContext(e).value}getValueInfoByContext(e){return new Ec().getValueInfo({name:e,context:this.context,isText:!1})}getValueInfo(e){if(this.context){const t=this.getValueInfoByContext(e.name);e.value=t.value,e.hasValue=t.isFound,e.strictCompare=t.strictCompare;return}return{hasValue:!1}}}class ha{static disposedObjectChangedProperty(e,t){ha.warn('An attempt to set a property "'+e+'" of a disposed object "'+t+'"')}static inCorrectQuestionValue(e,t){const n=JSON.stringify(t,null,3);ha.warn("An attempt to assign an incorrect value"+n+' to the following question: "'+e+'"')}static warn(e){console.warn(e)}static error(e){console.error(e)}}class Tn{constructor(){this.functionHash={},this.isAsyncHash={}}register(e,t,n=!1){this.functionHash[e]=t,n&&(this.isAsyncHash[e]=!0)}unregister(e){delete this.functionHash[e],delete this.isAsyncHash[e]}hasFunction(e){return!!this.functionHash[e]}isAsyncFunction(e){return!!this.isAsyncHash[e]}clear(){this.functionHash={}}getAll(){var e=[];for(var t in this.functionHash)e.push(t);return e.sort()}run(e,t,n=null,r){const s=this.functionHash[e];if(!s)return ha.warn(this.getUnknownFunctionErrorText(e,n)),null;let o={func:s};if(n)for(var a in n)o[a]=n[a];return o.func(t,r)}getUnknownFunctionErrorText(e,t){return"Unknown function name: '"+e+"'."+Yf.getQuestionErrorText(t)}}Tn.Instance=new Tn;Tn.Instance.register;function Ph(i,e){if(i!=null)if(Array.isArray(i))for(var t=0;t<i.length;t++)Ph(i[t],e);else se.isNumber(i)&&(i=se.getNumber(i)),e.push(i)}function g$(i){var e=[];Ph(i,e);for(var t=0,n=0;n<e.length;n++)t=se.correctAfterPlusMinis(t,e[n],t+e[n]);return t}Tn.Instance.register("sum",g$);function m$(i,e){var t=[];Ph(i,t);for(var n=void 0,r=0;r<t.length;r++)n===void 0&&(n=t[r]),e?n>t[r]&&(n=t[r]):n<t[r]&&(n=t[r]);return n}function Kxe(i){return m$(i,!0)}Tn.Instance.register("min",Kxe);function Jxe(i){return m$(i,!1)}Tn.Instance.register("max",Jxe);function Yxe(i){var e=[];return Ph(i,e),e.length}Tn.Instance.register("count",Yxe);function Zxe(i){var e=[];Ph(i,e);const t=g$(i);return e.length>0?t/e.length:0}Tn.Instance.register("avg",Zxe);function Xxe(i){var e=[];if(Ph(i,e),e.length>0){const t=e[0],n=e[1]||0;if(se.isNumber(t)&&se.isNumber(n)){const r=Math.pow(10,n),s=t*r*(1+Number.EPSILON);return Math.round(s)/r}}return NaN}Tn.Instance.register("round",Xxe);function ePe(i){var e=[];if(Ph(i,e),e.length>0){const t=e[0],n=e[1]||-1;if(se.isNumber(t)&&se.isNumber(n)){const r=new RegExp("^-?\\d+(?:.\\d{0,"+n+"})?");return Number(t.toString().match(r)[0])}}return NaN}Tn.Instance.register("trunc",ePe);function tPe(i,e){if(i.length<2||i.length>3)return null;const t=i[0];if(!t||!Array.isArray(t)&&!Array.isArray(Object.keys(t)))return null;const n=i[1];if(typeof n!="string"&&!(n instanceof String))return null;let r=i.length>2?i[2]:void 0;if(typeof r!="string"&&!(r instanceof String)&&(r=void 0),!r){const s=Array.isArray(e)&&e.length>2?e[2]:void 0;s&&s.toString()&&(r=s.toString())}return{data:t,name:n,expression:r}}function nPe(i){return typeof i=="string"?se.isNumber(i)?se.getNumber(i):void 0:i}function OV(i,e,t,n,r,s){if(!i||se.isValueEmpty(i[e])||s&&!s.runValues(i))return t;const o=r?nPe(i[e]):1;return n(t,o)}function NC(i,e,t,n=!0){var r=tPe(i,e);if(!r)return;let s=r.expression?new Do(r.expression):void 0;s&&s.isAsync&&(s=void 0);var o=void 0;if(Array.isArray(r.data))for(var a=0;a<r.data.length;a++)o=OV(r.data[a],r.name,o,t,n,s);else for(var l in r.data)o=OV(r.data[l],r.name,o,t,n,s);return o}function v$(i,e){var t=NC(i,e,function(n,r){return n==null&&(n=0),r==null||r==null?n:se.correctAfterPlusMinis(n,r,n+r)});return t!==void 0?t:0}Tn.Instance.register("sumInArray",v$);function iPe(i,e){return NC(i,e,function(t,n){return t==null?n:n==null||n==null||t<n?t:n})}Tn.Instance.register("minInArray",iPe);function rPe(i,e){return NC(i,e,function(t,n){return t==null?n:n==null||n==null||t>n?t:n})}Tn.Instance.register("maxInArray",rPe);function y$(i,e){var t=NC(i,e,function(n,r){return n==null&&(n=0),r==null||r==null?n:n+1},!1);return t!==void 0?t:0}Tn.Instance.register("countInArray",y$);function sPe(i,e){var t=y$(i,e);return t==0?0:v$(i,e)/t}Tn.Instance.register("avgInArray",sPe);function oPe(i){if(!Array.isArray(i)||i.length<2)return null;const e=i.length>2?i[2]:void 0;return i[0]?i[1]:e}Tn.Instance.register("iif",oPe);function aPe(i){return!Array.isArray(i)||i.length<1||!i[0]?null:Hr("function-getDate",i[0])}Tn.Instance.register("getDate",aPe);function b$(i,e,t){if(t==="days")return w$([i,e]);const n=Hr("function-dateDiffMonths",i),r=Hr("function-dateDiffMonths",e),s=r.getFullYear()-n.getFullYear();t=t||"years";let o=s*12+r.getMonth()-n.getMonth();return r.getDate()<n.getDate()&&(o-=1),t==="months"?o:~~(o/12)}function lPe(i){return!Array.isArray(i)||i.length<1||!i[0]?null:b$(i[0],void 0,(i.length>1?i[1]:"")||"years")}Tn.Instance.register("age",lPe);function uPe(i){if(!Array.isArray(i)||i.length<2||!i[0]||!i[1])return null;const e=(i.length>2?i[2]:"")||"days",t=e==="hours"||e==="minutes"||e==="seconds",n=t?"days":e;let r=b$(i[0],i[1],n);if(t){const s=Hr("function-dateDiffMonths",i[0]),o=Hr("function-dateDiffMonths",i[1]);(o.getHours()>s.getHours()||e!=="hours"&&o.getHours()===s.getHours()&&o.getMinutes()>s.getMinutes())&&(r-=1);let a=r*24+o.getHours()-s.getHours();if(e==="hours")return a;o.getMinutes()<s.getMinutes()&&(a-=1);const l=a*60+o.getMinutes()-s.getMinutes();return e==="minutes"?l:l*60+o.getSeconds()-s.getSeconds()}return r}Tn.Instance.register("dateDiff",uPe);function cPe(i){if(!Array.isArray(i)||i.length<2||!i[0]||!i[1])return null;const e=Hr("function-dateAdd",i[0]),t=i[1],n=i[2]||"days";return n==="days"&&e.setDate(e.getDate()+t),n==="months"&&e.setMonth(e.getMonth()+t),n==="years"&&e.setFullYear(e.getFullYear()+t),e}Tn.Instance.register("dateAdd",cPe);function DV(i){if(!i)return!1;for(var e=i.questions,t=0;t<e.length;t++)if(!e[t].validate(!1))return!1;return!0}function dPe(i){if(!i&&i.length<1||!i[0]||!this.survey)return!1;const e=i[0];let t=this.survey.getPageByName(e);if(t||(t=this.survey.getPanelByName(e)),!t){const n=this.survey.getQuestionByName(e);if(!n||!Array.isArray(n.panels))return!1;if(i.length>1)i[1]<n.panels.length&&(t=n.panels[i[1]]);else{for(let r=0;r<n.panels.length;r++)if(!DV(n.panels[r]))return!1;return!0}}return DV(t)}Tn.Instance.register("isContainerReady",dPe);function hPe(){return this.survey&&this.survey.isDisplayMode}Tn.Instance.register("isDisplayMode",hPe);function fPe(){return Hr("function-currentDate")}Tn.Instance.register("currentDate",fPe);function C$(i){var e=Hr("function-today");return oe.localization.useLocalTimeZone?e.setHours(0,0,0,0):e.setUTCHours(0,0,0,0),Array.isArray(i)&&i.length==1&&e.setDate(e.getDate()+i[0]),e}Tn.Instance.register("today",C$);function pPe(i){if(!(i.length!==1||!i[0]))return Hr("function-getYear",i[0]).getFullYear()}Tn.Instance.register("getYear",pPe);function gPe(){return Hr("function-currentYear").getFullYear()}Tn.Instance.register("currentYear",gPe);function w$(i){if(!Array.isArray(i)||i.length!==2||!i[0]||!i[1])return 0;const e=Hr("function-diffDays",i[0]),t=Hr("function-diffDays",i[1]),n=Math.abs(t-e);return Math.ceil(n/(1e3*60*60*24))}Tn.Instance.register("diffDays",w$);function MC(i,e){let t=C$(void 0);return e&&e[0]&&(t=Hr("function-"+i,e[0])),t}function mPe(i){return MC("year",i).getFullYear()}Tn.Instance.register("year",mPe);function vPe(i){return MC("month",i).getMonth()+1}Tn.Instance.register("month",vPe);function yPe(i){return MC("day",i).getDate()}Tn.Instance.register("day",yPe);function bPe(i){return MC("weekday",i).getDay()}Tn.Instance.register("weekday",bPe);function _$(i,e){if(!i||!e)return;let t=i.question;for(;t&&t.parent;){const r=t.parent.getQuestionByName(e);if(r)return r;t=t.parentQuestion}const n=["row","panel","survey"];for(let r=0;r<n.length;r++){const s=i[n[r]];if(s&&s.getQuestionByName){const o=s.getQuestionByName(e);if(o)return o}}return null}function NV(i,e){return e.length>1&&!se.isValueEmpty(e[1])?i.getDisplayValue(!0,e[1]):i.displayValue}function CPe(i){const e=_$(this,i[0]);if(!e)return"";if(e.isReady)this.returnResult(NV(e,i));else{const t=(n,r)=>{n.isReady&&(n.onReadyChanged.remove(t),this.returnResult(NV(n,i)))};e.onReadyChanged.add(t)}}Tn.Instance.register("displayValue",CPe,!0);function wPe(i){if(i.length!==2||!i[0]||!i[1])return;const e=_$(this,i[0]);return e?e[i[1]]:void 0}Tn.Instance.register("propertyValue",wPe);function _Pe(i){if(i.length<2)return"";const e=i[0];if(!e||typeof e!="string")return"";const t=i[1];if(!se.isNumber(t))return"";const n=i.length>2?i[2]:void 0;return se.isNumber(n)?e.substring(t,n):e.substring(t)}Tn.Instance.register("substring",_Pe);class dd{constructor(){this._id=dd.counter++}get id(){return this._id}toString(e=void 0){return""}hasFunction(){return!1}hasAsyncFunction(){return!1}addToAsyncList(e){}addOperandsToList(e){e.push(this),this.addChildrenToList(e)}isEqual(e){return!!e&&e.getType()===this.getType()&&this.isContentEqual(e)}areOperatorsEquals(e,t){return!e&&!t||!!e&&e.isEqual(t)}addChildrenToList(e){}}dd.counter=1;class IPe extends dd{constructor(e,t=null,n=null,r=!1){super(),this.operatorName=e,this.left=t,this.right=n,this.isArithmeticValue=r,r?this.consumer=vn.binaryFunctions.arithmeticOp(e):this.consumer=vn.binaryFunctions[e],this.consumer==null&&vn.throwInvalidOperatorError(e)}get requireStrictCompare(){return this.getIsOperandRequireStrict(this.left)||this.getIsOperandRequireStrict(this.right)}getIsOperandRequireStrict(e){return!!e&&e.requireStrictCompare}getType(){return"binary"}get isArithmetic(){return this.isArithmeticValue}get isConjunction(){return this.operatorName=="or"||this.operatorName=="and"}get conjunction(){return this.isConjunction?this.operatorName:""}get operator(){return this.operatorName}get leftOperand(){return this.left}get rightOperand(){return this.right}isContentEqual(e){const t=e;return t.operator===this.operator&&this.areOperatorsEquals(this.left,t.left)&&this.areOperatorsEquals(this.right,t.right)}evaluateParam(e,t){return e==null?null:e.evaluate(t)}evaluate(e){return this.consumer.call(this,this.evaluateParam(this.left,e),this.evaluateParam(this.right,e),this.requireStrictCompare)}toString(e=void 0){if(e){var t=e(this);if(t)return t}return"("+vn.safeToString(this.left,e)+" "+vn.operatorToString(this.operatorName)+" "+vn.safeToString(this.right,e)+")"}setVariables(e){this.left!=null&&this.left.setVariables(e),this.right!=null&&this.right.setVariables(e)}hasFunction(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()}addChildrenToList(e){this.left&&this.left.addOperandsToList(e),this.right&&this.right.addOperandsToList(e)}hasAsyncFunction(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()}addToAsyncList(e){this.left&&this.left.addToAsyncList(e),this.right&&this.right.addToAsyncList(e)}}class MV extends dd{constructor(e,t){super(),this.expressionValue=e,this.operatorName=t,this.consumer=vn.unaryFunctions[t],this.consumer==null&&vn.throwInvalidOperatorError(t)}get operator(){return this.operatorName}get expression(){return this.expressionValue}getType(){return"unary"}toString(e=void 0){if(e){var t=e(this);if(t)return t}const n=vn.operatorToString(this.operator),r=this.expression.toString(e);return this.isRigtOperator?r+" "+n:n+" "+r}get isRigtOperator(){const e=this.operatorName.toLowerCase();return e==="notempty"||e==="empty"}isContentEqual(e){const t=e;return t.operator==this.operator&&this.areOperatorsEquals(this.expression,t.expression)}hasFunction(){return this.expression.hasFunction()}addChildrenToList(e){this.expression.addOperandsToList(e)}hasAsyncFunction(){return this.expression.hasAsyncFunction()}addToAsyncList(e){this.expression.addToAsyncList(e)}evaluate(e){let t=this.expression.evaluate(e);return this.consumer.call(this,t)}setVariables(e){this.expression.setVariables(e)}}class sE extends dd{constructor(e){super(),this.values=e}getType(){return"array"}toString(e=void 0){if(e){var t=e(this);if(t)return t}return"["+this.values.map(function(n){return n.toString(e)}).join(", ")+"]"}evaluate(e){return this.values.map(function(t){return t.evaluate(e)})}setVariables(e){this.values.forEach(t=>{t.setVariables(e)})}hasFunction(){return this.values.some(e=>e.hasFunction())}addChildrenToList(e){this.values.forEach(t=>{t.addOperandsToList(e)})}hasAsyncFunction(){return this.values.some(e=>e.hasAsyncFunction())}addToAsyncList(e){this.values.forEach(t=>t.addToAsyncList(e))}isContentEqual(e){const t=e;if(t.values.length!==this.values.length)return!1;for(var n=0;n<this.values.length;n++)if(!t.values[n].isEqual(this.values[n]))return!1;return!0}}class I$ extends dd{constructor(e){super(),this.value=e}getType(){return"const"}toString(e=void 0){if(e){var t=e(this);if(t)return t}return this.value.toString()}get correctValue(){return this.getCorrectValue(this.value)}get requireStrictCompare(){return!1}evaluate(){return this.getCorrectValue(this.value)}setVariables(e){}getCorrectValue(e){if(!e||typeof e!="string")return e;if(vn.isBooleanValue(e))return e.toLowerCase()==="true";if(e.length>1&&this.isQuote(e[0])&&this.isQuote(e[e.length-1]))return e.substring(1,e.length-1);if(se.isNumber(e)){if(e[0]==="0"&&e.indexOf("0x")!=0){const t=e.length,n=t>1&&(e[1]==="."||e[1]===",");if(!n&&t>1||n&&t<2)return e}return se.getNumber(e)}return e}isContentEqual(e){return e.value==this.value}isQuote(e){return e=="'"||e=='"'}}class Y0 extends I${static get DisableConversionChar(){return oe.expressionDisableConversionChar}static set DisableConversionChar(e){oe.expressionDisableConversionChar=e}constructor(e){super(e),this.variableName=e,this.valueInfo={},this.useValueAsItIs=!1,this.variableName&&this.variableName.length>1&&this.variableName[0]===Y0.DisableConversionChar&&(this.variableName=this.variableName.substring(1),this.useValueAsItIs=!0)}get requireStrictCompare(){return this.valueInfo.strictCompare===!0}getType(){return"variable"}toString(e=void 0){if(e){var t=e(this);if(t)return t}var n=this.useValueAsItIs?Y0.DisableConversionChar:"";return"{"+n+this.variableName+"}"}get variable(){return this.variableName}evaluate(e){if(this.valueInfo.name=this.variableName,e.getValueInfo(this.valueInfo),!this.valueInfo.hasValue)return null;let t=this.valueInfo.value;return this.valueInfo.onProcessValue&&(t=this.valueInfo.onProcessValue(t)),this.getCorrectValue(t)}setVariables(e){e.push(this.variableName)}getCorrectValue(e){return this.useValueAsItIs?e:super.getCorrectValue(e)}isContentEqual(e){return e.variable==this.variable}}class EPe extends dd{constructor(e,t){super(),this.originalValue=e,this.parameters=t,Array.isArray(t)&&t.length===0&&(this.parameters=new sE([]))}getType(){return"function"}evaluate(e){const t=this.getAsynValue(e);return t?t.value:this.evaluateCore(e)}evaluateCore(e){let t=e.properties;if(this.isAsyncFunction){t=se.createCopy(e.properties);const n=this.id,r=e.asyncValues,s=e.onCompleteAsyncFunc,o=this;t.returnResult=a=>{r[n]={value:a},s(o)}}return Tn.Instance.run(this.originalValue,this.parameters.evaluate(e),t,this.parameters.values)}toString(e=void 0){if(e){var t=e(this);if(t)return t}return this.originalValue+"("+this.parameters.toString(e)+")"}setVariables(e){this.parameters.setVariables(e)}isReady(e){return!!this.getAsynValue(e)}addChildrenToList(e){this.parameters.addOperandsToList(e)}getAsynValue(e){return e.asyncValues[this.id]}hasFunction(){return!0}hasAsyncFunction(){return this.isAsyncFunction()||this.parameters.hasAsyncFunction()}isAsyncFunction(){return Tn.Instance.isAsyncFunction(this.originalValue)}addToAsyncList(e){let t;if(this.isAsyncFunction()&&(t={operand:this}),this.parameters.hasAsyncFunction()){const n=new Array;this.parameters.addToAsyncList(n),n.forEach(r=>r.parent=t),t||(t={}),t.children=n}t&&e.push(t)}isContentEqual(e){const t=e;return t.originalValue==this.originalValue&&this.areOperatorsEquals(t.parameters,this.parameters)}}class vn{static throwInvalidOperatorError(e){throw new Error("Invalid operator: '"+e+"'")}static safeToString(e,t){return e==null?"":e.toString(t)}static toOperandString(e){return e&&!se.isNumber(e)&&!vn.isBooleanValue(e)&&(e="'"+e+"'"),e}static isBooleanValue(e){return!!e&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")}static countDecimals(e){if(se.isNumber(e)&&Math.floor(e)!==e){const t=e.toString().split(".");return t.length>1&&t[1].length||0}return 0}static plusMinus(e,t,n){const r=vn.countDecimals(e),s=vn.countDecimals(t);if(r>0||s>0){const o=Math.max(r,s);n=parseFloat(n.toFixed(o))}return n}static isTwoValueEquals(e,t,n=!0){return e==="undefined"&&(e=void 0),t==="undefined"&&(t=void 0),se.isTwoValueEquals(e,t,n)}static operatorToString(e){let t=vn.signs[e];return t??e}static convertValForDateCompare(e,t){if(t instanceof Date&&typeof e=="string"){let n=Hr("expression-operand",e);return n.setHours(0,0,0),n}return e}}vn.unaryFunctions={empty:function(i){return se.isValueEmpty(i)},notempty:function(i){return!vn.unaryFunctions.empty(i)},negate:function(i){return!i}};vn.binaryFunctions={arithmeticOp(i){const e=(t,n)=>se.isValueEmpty(t)?typeof n=="number"?0:typeof t=="string"?t:typeof n=="string"?"":Array.isArray(n)?[]:0:t;return function(t,n){t=e(t,n),n=e(n,t);let r=vn.binaryFunctions[i];return r==null?null:r.call(this,t,n)}},and:function(i,e){return i&&e},or:function(i,e){return i||e},plus:function(i,e){return se.sumAnyValues(i,e)},minus:function(i,e){return se.correctAfterPlusMinis(i,e,i-e)},mul:function(i,e){return se.correctAfterMultiple(i,e,i*e)},div:function(i,e){return e?i/e:null},mod:function(i,e){return e?i%e:null},power:function(i,e){return Math.pow(i,e)},greater:function(i,e){return i==null||e==null?!1:(i=vn.convertValForDateCompare(i,e),e=vn.convertValForDateCompare(e,i),i>e)},less:function(i,e){return i==null||e==null?!1:(i=vn.convertValForDateCompare(i,e),e=vn.convertValForDateCompare(e,i),i<e)},greaterorequal:function(i,e){return vn.binaryFunctions.equal(i,e)?!0:vn.binaryFunctions.greater(i,e)},lessorequal:function(i,e){return vn.binaryFunctions.equal(i,e)?!0:vn.binaryFunctions.less(i,e)},equal:function(i,e,t){return i=vn.convertValForDateCompare(i,e),e=vn.convertValForDateCompare(e,i),vn.isTwoValueEquals(i,e,t!==!0)},notequal:function(i,e,t){return!vn.binaryFunctions.equal(i,e,t)},contains:function(i,e){return vn.binaryFunctions.containsCore(i,e,!0)},notcontains:function(i,e){return!i&&!se.isValueEmpty(e)?!0:vn.binaryFunctions.containsCore(i,e,!1)},anyof:function(i,e){if(se.isValueEmpty(i)&&se.isValueEmpty(e))return!0;if(se.isValueEmpty(i)||!Array.isArray(i)&&i.length===0)return!1;if(se.isValueEmpty(e))return!0;if(!Array.isArray(i))return vn.binaryFunctions.contains(e,i);if(!Array.isArray(e))return vn.binaryFunctions.contains(i,e);for(var t=0;t<e.length;t++)if(vn.binaryFunctions.contains(i,e[t]))return!0;return!1},allof:function(i,e){if(!i&&!se.isValueEmpty(e))return!1;if(!Array.isArray(e))return vn.binaryFunctions.contains(i,e);for(var t=0;t<e.length;t++)if(!vn.binaryFunctions.contains(i,e[t]))return!1;return!0},containsCore:function(i,e,t){if(!i&&i!==0&&i!==!1)return!1;if(i.length||(i=i.toString(),(typeof e=="string"||e instanceof String)&&(i=i.toUpperCase(),e=e.toUpperCase())),typeof i=="string"||i instanceof String){if(!e)return!1;e=e.toString();var n=i.indexOf(e)>-1;return t?n:!n}for(var r=Array.isArray(e)?e:[e],s=0;s<r.length;s++){var o=0;for(e=r[s];o<i.length&&!vn.isTwoValueEquals(i[o],e);o++);if(o==i.length)return!t}return t}};vn.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"};let oE=class E$ extends Error{static buildMessage(e,t){function n(u){return u.charCodeAt(0).toString(16).toUpperCase()}function r(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,c=>"\\x0"+n(c)).replace(/[\x10-\x1F\x7F-\x9F]/g,c=>"\\x"+n(c))}function s(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,c=>"\\x0"+n(c)).replace(/[\x10-\x1F\x7F-\x9F]/g,c=>"\\x"+n(c))}function o(u){switch(u.type){case"literal":return'"'+r(u.text)+'"';case"class":const c=u.parts.map(h=>Array.isArray(h)?s(h[0])+"-"+s(h[1]):s(h));return"["+(u.inverted?"^":"")+c+"]";case"any":return"any character";case"end":return"end of input";case"other":return u.description}}function a(u){const c=u.map(o);let h,f;if(c.sort(),c.length>0){for(h=1,f=1;h<c.length;h++)c[h-1]!==c[h]&&(c[f]=c[h],f++);c.length=f}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}function l(u){return u?'"'+r(u)+'"':"end of input"}return"Expected "+a(e)+" but "+l(t)+" found."}constructor(e,t,n,r){super(),this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,E$)}};function SPe(i,e){e=e!==void 0?e:{};const t={},n={Expression:hs};let r=hs;const s=function(x,A){return Qp(x,A,!0)},o="||",a=Ot("||",!1),l="or",u=Ot("or",!0),c=function(){return"or"},h="&&",f=Ot("&&",!1),m="and",b=Ot("and",!0),_=function(){return"and"},E=function(x,A){return Qp(x,A)},k="<=",j=Ot("<=",!1),M="lessorequal",q=Ot("lessorequal",!0),J=function(){return"lessorequal"},Z=">=",L=Ot(">=",!1),y="greaterorequal",w=Ot("greaterorequal",!0),R=function(){return"greaterorequal"},U="==",H=Ot("==",!1),B="equal",Oe=Ot("equal",!0),De=function(){return"equal"},tt="=",Ne=Ot("=",!1),Me="!=",qe=Ot("!=",!1),Ue="notequal",We=Ot("notequal",!0),Re=function(){return"notequal"},Le="<",Ct=Ot("<",!1),It="less",Dt=Ot("less",!0),fe=function(){return"less"},ve=">",Ee=Ot(">",!1),$e="greater",Fe=Ot("greater",!0),Vt=function(){return"greater"},at="+",de=Ot("+",!1),Ke=function(){return"plus"},$t="-",Jt=Ot("-",!1),jt=function(){return"minus"},yn="*",ne=Ot("*",!1),re=function(){return"mul"},ke="/",pt=Ot("/",!1),Wt=function(){return"div"},Tt="%",le=Ot("%",!1),Se=function(){return"mod"},Yt="^",Cn=Ot("^",!1),xi="power",Gn=Ot("power",!0),Bn=function(){return"power"},Ir="*=",os=Ot("*=",!1),Fs="contains",Wa=Ot("contains",!0),Li="contain",as=Ot("contain",!0),rt=function(){return"contains"},Ye="notcontains",it=Ot("notcontains",!0),mt="notcontain",qt=Ot("notcontain",!0),Qt=function(){return"notcontains"},xn="anyof",bn=Ot("anyof",!0),Hi=function(){return"anyof"},Wr="allof",Gr=Ot("allof",!0),un=function(){return"allof"},Oi="(",zi=Ot("(",!1),ls=")",$l=Ot(")",!1),fo=function(x){return x},us=function(x,A){return new EPe(x,A)},Nu="!",Ga=Ot("!",!1),Bo="negate",Bl=Ot("negate",!0),Lr=function(x){return new MV(x,"negate")},$s=function(x,A){return new MV(x,A)},Ss="empty",Ka=Ot("empty",!0),po=function(){return"empty"},go="notempty",qo=Ot("notempty",!0),ql=function(){return"notempty"},Uo="undefined",Mu=Ot("undefined",!1),ga="null",mo=Ot("null",!1),Fi=function(){return null},vo=function(x){return new I$(x)},Er="{",Ts=Ot("{",!1),Ho="}",Ul=Ot("}",!1),ji=function(x){return new Y0(x)},ma=function(x){return x},Di="''",Ja=Ot("''",!1),yo=function(){return""},bo='""',Bs=Ot('""',!1),Ya="'",Za=Ot("'",!1),va=function(x){return"'"+x+"'"},zo='"',cs=Ot('"',!1),Kr="[",Co=Ot("[",!1),qs="]",jo=Ot("]",!1),zn=function(x){return x},ya=",",Us=Ot(",",!1),xs=function(x,A){if(x==null)return new sE([]);var ue=[x];if(Array.isArray(A))for(var K=Gl(A),pe=3;pe<K.length;pe+=4)ue.push(K[pe]);return new sE(ue)},Hl="true",zl=Ot("true",!0),jl=function(){return!0},Fu="false",$u=Ot("false",!0),ba=function(){return!1},Ps="0x",Or=Ot("0x",!1),wo=function(){return parseInt(ei(),16)},Rs=/^[\-]/,Xa=nr(["-"],!1,!1),Qo=function(x,A){return x==null?A:-A},pd=".",Bu=Ot(".",!1),qu=function(){return parseFloat(ei())},Hs=function(){return parseInt(ei(),10)},zs="0",ds=Ot("0",!1),js=function(){return 0},ks=function(x){return x.join("")},Ca="\\'",kn=Ot("\\'",!1),Qs=function(){return"'"},Ws='\\"',_o=Ot('\\"',!1),bi=function(){return'"'},Uu=/^[^"']/,gd=nr(['"',"'"],!0,!1),O=function(){return ei()},V=/^[^{}]/,ee=nr(["{","}"],!0,!1),ie=/^[0-9]/,ae=nr([["0","9"]],!1,!1),Te=/^[1-9]/,et=nr([["1","9"]],!1,!1),Nt=/^[a-zA-Z_]/,Et=nr([["a","z"],["A","Z"],"_"],!1,!1),Zt=As("whitespace"),mn=/^[ \t\n\r]/,Xn=nr([" ","	",`
`,"\r"],!1,!1);let T=0,lt=0;const di=[{line:1,column:1}];let ai=0,An=[],nt=0;const ct={};let hi;if(e.startRule!==void 0){if(!(e.startRule in n))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');r=n[e.startRule]}function ei(){return i.substring(lt,T)}function Ot(x,A){return{type:"literal",text:x,ignoreCase:A}}function nr(x,A,ue){return{type:"class",parts:x,inverted:A,ignoreCase:ue}}function el(){return{type:"end"}}function As(x){return{type:"other",description:x}}function pr(x){let A=di[x],ue;if(A)return A;for(ue=x-1;!di[ue];)ue--;for(A=di[ue],A={line:A.line,column:A.column};ue<x;)i.charCodeAt(ue)===10?(A.line++,A.column=1):A.column++,ue++;return di[x]=A,A}function tl(x,A){const ue=pr(x),K=pr(A);return{start:{offset:x,line:ue.line,column:ue.column},end:{offset:A,line:K.line,column:K.column}}}function ft(x){T<ai||(T>ai&&(ai=T,An=[]),An.push(x))}function md(x,A,ue){return new oE(oE.buildMessage(x,A),x,A,ue)}function hs(){let x,A,ue,K,pe,Be,gt,Rt,In;const jn=T*34+0,Vs=ct[jn];if(Vs)return T=Vs.nextPos,Vs.result;if(x=T,A=ln(),A!==t)if(ue=Hu(),ue!==t){for(K=[],pe=T,Be=ln(),Be!==t?(gt=ir(),gt!==t?(Rt=ln(),Rt!==t?(In=Hu(),In!==t?(Be=[Be,gt,Rt,In],pe=Be):(T=pe,pe=t)):(T=pe,pe=t)):(T=pe,pe=t)):(T=pe,pe=t);pe!==t;)K.push(pe),pe=T,Be=ln(),Be!==t?(gt=ir(),gt!==t?(Rt=ln(),Rt!==t?(In=Hu(),In!==t?(Be=[Be,gt,Rt,In],pe=Be):(T=pe,pe=t)):(T=pe,pe=t)):(T=pe,pe=t)):(T=pe,pe=t);K!==t?(pe=ln(),pe!==t?(lt=x,A=s(ue,K),x=A):(T=x,x=t)):(T=x,x=t)}else T=x,x=t;else T=x,x=t;return ct[jn]={nextPos:T,result:x},x}function ir(){let x,A;const ue=T*34+1,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.substr(T,2)===o?(A=o,T+=2):(A=t,nt===0&&ft(a)),A===t&&(i.substr(T,2).toLowerCase()===l?(A=i.substr(T,2),T+=2):(A=t,nt===0&&ft(u))),A!==t&&(lt=x,A=c()),x=A,ct[ue]={nextPos:T,result:x},x)}function Hu(){let x,A,ue,K,pe,Be,gt,Rt;const In=T*34+2,jn=ct[In];if(jn)return T=jn.nextPos,jn.result;if(x=T,A=Io(),A!==t){for(ue=[],K=T,pe=ln(),pe!==t?(Be=fi(),Be!==t?(gt=ln(),gt!==t?(Rt=Io(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);K!==t;)ue.push(K),K=T,pe=ln(),pe!==t?(Be=fi(),Be!==t?(gt=ln(),gt!==t?(Rt=Io(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);ue!==t?(lt=x,A=s(A,ue),x=A):(T=x,x=t)}else T=x,x=t;return ct[In]={nextPos:T,result:x},x}function fi(){let x,A;const ue=T*34+3,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.substr(T,2)===h?(A=h,T+=2):(A=t,nt===0&&ft(f)),A===t&&(i.substr(T,3).toLowerCase()===m?(A=i.substr(T,3),T+=3):(A=t,nt===0&&ft(b))),A!==t&&(lt=x,A=_()),x=A,ct[ue]={nextPos:T,result:x},x)}function Io(){let x,A,ue,K,pe,Be,gt,Rt;const In=T*34+4,jn=ct[In];if(jn)return T=jn.nextPos,jn.result;if(x=T,A=C(),A!==t){for(ue=[],K=T,pe=ln(),pe!==t?(Be=p(),Be!==t?(gt=ln(),gt!==t?(Rt=C(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);K!==t;)ue.push(K),K=T,pe=ln(),pe!==t?(Be=p(),Be!==t?(gt=ln(),gt!==t?(Rt=C(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);ue!==t?(lt=x,A=E(A,ue),x=A):(T=x,x=t)}else T=x,x=t;return ct[In]={nextPos:T,result:x},x}function p(){let x,A;const ue=T*34+5,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.substr(T,2)===k?(A=k,T+=2):(A=t,nt===0&&ft(j)),A===t&&(i.substr(T,11).toLowerCase()===M?(A=i.substr(T,11),T+=11):(A=t,nt===0&&ft(q))),A!==t&&(lt=x,A=J()),x=A,x===t&&(x=T,i.substr(T,2)===Z?(A=Z,T+=2):(A=t,nt===0&&ft(L)),A===t&&(i.substr(T,14).toLowerCase()===y?(A=i.substr(T,14),T+=14):(A=t,nt===0&&ft(w))),A!==t&&(lt=x,A=R()),x=A,x===t&&(x=T,i.substr(T,2)===U?(A=U,T+=2):(A=t,nt===0&&ft(H)),A===t&&(i.substr(T,5).toLowerCase()===B?(A=i.substr(T,5),T+=5):(A=t,nt===0&&ft(Oe))),A!==t&&(lt=x,A=De()),x=A,x===t&&(x=T,i.charCodeAt(T)===61?(A=tt,T++):(A=t,nt===0&&ft(Ne)),A===t&&(i.substr(T,5).toLowerCase()===B?(A=i.substr(T,5),T+=5):(A=t,nt===0&&ft(Oe))),A!==t&&(lt=x,A=De()),x=A,x===t&&(x=T,i.substr(T,2)===Me?(A=Me,T+=2):(A=t,nt===0&&ft(qe)),A===t&&(i.substr(T,8).toLowerCase()===Ue?(A=i.substr(T,8),T+=8):(A=t,nt===0&&ft(We))),A!==t&&(lt=x,A=Re()),x=A,x===t&&(x=T,i.charCodeAt(T)===60?(A=Le,T++):(A=t,nt===0&&ft(Ct)),A===t&&(i.substr(T,4).toLowerCase()===It?(A=i.substr(T,4),T+=4):(A=t,nt===0&&ft(Dt))),A!==t&&(lt=x,A=fe()),x=A,x===t&&(x=T,i.charCodeAt(T)===62?(A=ve,T++):(A=t,nt===0&&ft(Ee)),A===t&&(i.substr(T,7).toLowerCase()===$e?(A=i.substr(T,7),T+=7):(A=t,nt===0&&ft(Fe))),A!==t&&(lt=x,A=Vt()),x=A)))))),ct[ue]={nextPos:T,result:x},x)}function C(){let x,A,ue,K,pe,Be,gt,Rt;const In=T*34+6,jn=ct[In];if(jn)return T=jn.nextPos,jn.result;if(x=T,A=Q(),A!==t){for(ue=[],K=T,pe=ln(),pe!==t?(Be=P(),Be!==t?(gt=ln(),gt!==t?(Rt=Q(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);K!==t;)ue.push(K),K=T,pe=ln(),pe!==t?(Be=P(),Be!==t?(gt=ln(),gt!==t?(Rt=Q(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);ue!==t?(lt=x,A=s(A,ue),x=A):(T=x,x=t)}else T=x,x=t;return ct[In]={nextPos:T,result:x},x}function P(){let x,A;const ue=T*34+7,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.charCodeAt(T)===43?(A=at,T++):(A=t,nt===0&&ft(de)),A!==t&&(lt=x,A=Ke()),x=A,x===t&&(x=T,i.charCodeAt(T)===45?(A=$t,T++):(A=t,nt===0&&ft(Jt)),A!==t&&(lt=x,A=jt()),x=A),ct[ue]={nextPos:T,result:x},x)}function Q(){let x,A,ue,K,pe,Be,gt,Rt;const In=T*34+8,jn=ct[In];if(jn)return T=jn.nextPos,jn.result;if(x=T,A=we(),A!==t){for(ue=[],K=T,pe=ln(),pe!==t?(Be=ce(),Be!==t?(gt=ln(),gt!==t?(Rt=we(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);K!==t;)ue.push(K),K=T,pe=ln(),pe!==t?(Be=ce(),Be!==t?(gt=ln(),gt!==t?(Rt=we(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);ue!==t?(lt=x,A=s(A,ue),x=A):(T=x,x=t)}else T=x,x=t;return ct[In]={nextPos:T,result:x},x}function ce(){let x,A;const ue=T*34+9,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.charCodeAt(T)===42?(A=yn,T++):(A=t,nt===0&&ft(ne)),A!==t&&(lt=x,A=re()),x=A,x===t&&(x=T,i.charCodeAt(T)===47?(A=ke,T++):(A=t,nt===0&&ft(pt)),A!==t&&(lt=x,A=Wt()),x=A,x===t&&(x=T,i.charCodeAt(T)===37?(A=Tt,T++):(A=t,nt===0&&ft(le)),A!==t&&(lt=x,A=Se()),x=A)),ct[ue]={nextPos:T,result:x},x)}function we(){let x,A,ue,K,pe,Be,gt,Rt;const In=T*34+10,jn=ct[In];if(jn)return T=jn.nextPos,jn.result;if(x=T,A=Vn(),A!==t){for(ue=[],K=T,pe=ln(),pe!==t?(Be=st(),Be!==t?(gt=ln(),gt!==t?(Rt=Vn(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);K!==t;)ue.push(K),K=T,pe=ln(),pe!==t?(Be=st(),Be!==t?(gt=ln(),gt!==t?(Rt=Vn(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);ue!==t?(lt=x,A=s(A,ue),x=A):(T=x,x=t)}else T=x,x=t;return ct[In]={nextPos:T,result:x},x}function st(){let x,A;const ue=T*34+11,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.charCodeAt(T)===94?(A=Yt,T++):(A=t,nt===0&&ft(Cn)),A===t&&(i.substr(T,5).toLowerCase()===xi?(A=i.substr(T,5),T+=5):(A=t,nt===0&&ft(Gn))),A!==t&&(lt=x,A=Bn()),x=A,ct[ue]={nextPos:T,result:x},x)}function Vn(){let x,A,ue,K,pe,Be,gt,Rt;const In=T*34+12,jn=ct[In];if(jn)return T=jn.nextPos,jn.result;if(x=T,A=wn(),A!==t){for(ue=[],K=T,pe=ln(),pe!==t?(Be=Kn(),Be!==t?(gt=ln(),gt!==t?(Rt=wn(),Rt===t&&(Rt=null),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);K!==t;)ue.push(K),K=T,pe=ln(),pe!==t?(Be=Kn(),Be!==t?(gt=ln(),gt!==t?(Rt=wn(),Rt===t&&(Rt=null),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);ue!==t?(lt=x,A=E(A,ue),x=A):(T=x,x=t)}else T=x,x=t;return ct[In]={nextPos:T,result:x},x}function Kn(){let x,A;const ue=T*34+13,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.substr(T,2)===Ir?(A=Ir,T+=2):(A=t,nt===0&&ft(os)),A===t&&(i.substr(T,8).toLowerCase()===Fs?(A=i.substr(T,8),T+=8):(A=t,nt===0&&ft(Wa)),A===t&&(i.substr(T,7).toLowerCase()===Li?(A=i.substr(T,7),T+=7):(A=t,nt===0&&ft(as)))),A!==t&&(lt=x,A=rt()),x=A,x===t&&(x=T,i.substr(T,11).toLowerCase()===Ye?(A=i.substr(T,11),T+=11):(A=t,nt===0&&ft(it)),A===t&&(i.substr(T,10).toLowerCase()===mt?(A=i.substr(T,10),T+=10):(A=t,nt===0&&ft(qt))),A!==t&&(lt=x,A=Qt()),x=A,x===t&&(x=T,i.substr(T,5).toLowerCase()===xn?(A=i.substr(T,5),T+=5):(A=t,nt===0&&ft(bn)),A!==t&&(lt=x,A=Hi()),x=A,x===t&&(x=T,i.substr(T,5).toLowerCase()===Wr?(A=i.substr(T,5),T+=5):(A=t,nt===0&&ft(Gr)),A!==t&&(lt=x,A=un()),x=A))),ct[ue]={nextPos:T,result:x},x)}function wn(){let x,A,ue,K,pe,Be;const gt=T*34+14,Rt=ct[gt];return Rt?(T=Rt.nextPos,Rt.result):(x=T,i.charCodeAt(T)===40?(A=Oi,T++):(A=t,nt===0&&ft(zi)),A!==t?(ue=ln(),ue!==t?(K=hs(),K!==t?(pe=ln(),pe!==t?(i.charCodeAt(T)===41?(Be=ls,T++):(Be=t,nt===0&&ft($l)),Be===t&&(Be=null),Be!==t?(lt=x,A=fo(K),x=A):(T=x,x=t)):(T=x,x=t)):(T=x,x=t)):(T=x,x=t)):(T=x,x=t),x===t&&(x=gr(),x===t&&(x=rr(),x===t&&(x=mr(),x===t&&(x=Wl())))),ct[gt]={nextPos:T,result:x},x)}function gr(){let x,A,ue,K,pe;const Be=T*34+15,gt=ct[Be];return gt?(T=gt.nextPos,gt.result):(x=T,A=kh(),A!==t?(i.charCodeAt(T)===40?(ue=Oi,T++):(ue=t,nt===0&&ft(zi)),ue!==t?(K=vd(),K!==t?(i.charCodeAt(T)===41?(pe=ls,T++):(pe=t,nt===0&&ft($l)),pe===t&&(pe=null),pe!==t?(lt=x,A=us(A,K),x=A):(T=x,x=t)):(T=x,x=t)):(T=x,x=t)):(T=x,x=t),ct[Be]={nextPos:T,result:x},x)}function rr(){let x,A,ue,K;const pe=T*34+16,Be=ct[pe];return Be?(T=Be.nextPos,Be.result):(x=T,i.charCodeAt(T)===33?(A=Nu,T++):(A=t,nt===0&&ft(Ga)),A===t&&(i.substr(T,6).toLowerCase()===Bo?(A=i.substr(T,6),T+=6):(A=t,nt===0&&ft(Bl))),A!==t?(ue=ln(),ue!==t?(K=hs(),K!==t?(lt=x,A=Lr(K),x=A):(T=x,x=t)):(T=x,x=t)):(T=x,x=t),x===t&&(x=T,A=mr(),A!==t?(ue=ln(),ue!==t?(K=Wo(),K!==t?(lt=x,A=$s(A,K),x=A):(T=x,x=t)):(T=x,x=t)):(T=x,x=t)),ct[pe]={nextPos:T,result:x},x)}function Wo(){let x,A;const ue=T*34+17,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.substr(T,5).toLowerCase()===Ss?(A=i.substr(T,5),T+=5):(A=t,nt===0&&ft(Ka)),A!==t&&(lt=x,A=po()),x=A,x===t&&(x=T,i.substr(T,8).toLowerCase()===go?(A=i.substr(T,8),T+=8):(A=t,nt===0&&ft(qo)),A!==t&&(lt=x,A=ql()),x=A),ct[ue]={nextPos:T,result:x},x)}function mr(){let x,A,ue,K,pe;const Be=T*34+18,gt=ct[Be];return gt?(T=gt.nextPos,gt.result):(x=T,A=ln(),A!==t?(i.substr(T,9)===Uo?(ue=Uo,T+=9):(ue=t,nt===0&&ft(Mu)),ue===t&&(i.substr(T,4)===ga?(ue=ga,T+=4):(ue=t,nt===0&&ft(mo))),ue!==t?(lt=x,A=Fi(),x=A):(T=x,x=t)):(T=x,x=t),x===t&&(x=T,A=ln(),A!==t?(ue=Ql(),ue!==t?(lt=x,A=vo(ue),x=A):(T=x,x=t)):(T=x,x=t),x===t&&(x=T,A=ln(),A!==t?(i.charCodeAt(T)===123?(ue=Er,T++):(ue=t,nt===0&&ft(Ts)),ue!==t?(K=py(),K!==t?(i.charCodeAt(T)===125?(pe=Ho,T++):(pe=t,nt===0&&ft(Ul)),pe!==t?(lt=x,A=ji(K),x=A):(T=x,x=t)):(T=x,x=t)):(T=x,x=t)):(T=x,x=t))),ct[Be]={nextPos:T,result:x},x)}function Ql(){let x,A,ue,K;const pe=T*34+19,Be=ct[pe];return Be?(T=Be.nextPos,Be.result):(x=T,A=fy(),A!==t&&(lt=x,A=ma(A)),x=A,x===t&&(x=T,A=Rh(),A!==t&&(lt=x,A=ma(A)),x=A,x===t&&(x=T,A=kh(),A!==t&&(lt=x,A=ma(A)),x=A,x===t&&(x=T,i.substr(T,2)===Di?(A=Di,T+=2):(A=t,nt===0&&ft(Ja)),A!==t&&(lt=x,A=yo()),x=A,x===t&&(x=T,i.substr(T,2)===bo?(A=bo,T+=2):(A=t,nt===0&&ft(Bs)),A!==t&&(lt=x,A=yo()),x=A,x===t&&(x=T,i.charCodeAt(T)===39?(A=Ya,T++):(A=t,nt===0&&ft(Za)),A!==t?(ue=zu(),ue!==t?(i.charCodeAt(T)===39?(K=Ya,T++):(K=t,nt===0&&ft(Za)),K!==t?(lt=x,A=va(ue),x=A):(T=x,x=t)):(T=x,x=t)):(T=x,x=t),x===t&&(x=T,i.charCodeAt(T)===34?(A=zo,T++):(A=t,nt===0&&ft(cs)),A!==t?(ue=zu(),ue!==t?(i.charCodeAt(T)===34?(K=zo,T++):(K=t,nt===0&&ft(cs)),K!==t?(lt=x,A=va(ue),x=A):(T=x,x=t)):(T=x,x=t)):(T=x,x=t))))))),ct[pe]={nextPos:T,result:x},x)}function Wl(){let x,A,ue,K;const pe=T*34+20,Be=ct[pe];return Be?(T=Be.nextPos,Be.result):(x=T,i.charCodeAt(T)===91?(A=Kr,T++):(A=t,nt===0&&ft(Co)),A!==t?(ue=vd(),ue!==t?(i.charCodeAt(T)===93?(K=qs,T++):(K=t,nt===0&&ft(jo)),K!==t?(lt=x,A=zn(ue),x=A):(T=x,x=t)):(T=x,x=t)):(T=x,x=t),ct[pe]={nextPos:T,result:x},x)}function vd(){let x,A,ue,K,pe,Be,gt,Rt;const In=T*34+21,jn=ct[In];if(jn)return T=jn.nextPos,jn.result;if(x=T,A=hs(),A===t&&(A=null),A!==t){for(ue=[],K=T,pe=ln(),pe!==t?(i.charCodeAt(T)===44?(Be=ya,T++):(Be=t,nt===0&&ft(Us)),Be!==t?(gt=ln(),gt!==t?(Rt=hs(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);K!==t;)ue.push(K),K=T,pe=ln(),pe!==t?(i.charCodeAt(T)===44?(Be=ya,T++):(Be=t,nt===0&&ft(Us)),Be!==t?(gt=ln(),gt!==t?(Rt=hs(),Rt!==t?(pe=[pe,Be,gt,Rt],K=pe):(T=K,K=t)):(T=K,K=t)):(T=K,K=t)):(T=K,K=t);ue!==t?(lt=x,A=xs(A,ue),x=A):(T=x,x=t)}else T=x,x=t;return ct[In]={nextPos:T,result:x},x}function fy(){let x,A;const ue=T*34+22,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.substr(T,4).toLowerCase()===Hl?(A=i.substr(T,4),T+=4):(A=t,nt===0&&ft(zl)),A!==t&&(lt=x,A=jl()),x=A,x===t&&(x=T,i.substr(T,5).toLowerCase()===Fu?(A=i.substr(T,5),T+=5):(A=t,nt===0&&ft($u)),A!==t&&(lt=x,A=ba()),x=A),ct[ue]={nextPos:T,result:x},x)}function Rh(){let x,A,ue;const K=T*34+23,pe=ct[K];return pe?(T=pe.nextPos,pe.result):(x=T,i.substr(T,2)===Ps?(A=Ps,T+=2):(A=t,nt===0&&ft(Or)),A!==t?(ue=nl(),ue!==t?(lt=x,A=wo(),x=A):(T=x,x=t)):(T=x,x=t),x===t&&(x=T,Rs.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(Xa)),A===t&&(A=null),A!==t?(ue=sw(),ue!==t?(lt=x,A=Qo(A,ue),x=A):(T=x,x=t)):(T=x,x=t)),ct[K]={nextPos:T,result:x},x)}function sw(){let x,A,ue,K;const pe=T*34+24,Be=ct[pe];return Be?(T=Be.nextPos,Be.result):(x=T,A=nl(),A!==t?(i.charCodeAt(T)===46?(ue=pd,T++):(ue=t,nt===0&&ft(Bu)),ue!==t?(K=nl(),K!==t?(lt=x,A=qu(),x=A):(T=x,x=t)):(T=x,x=t)):(T=x,x=t),x===t&&(x=T,A=gy(),A!==t?(ue=nl(),ue===t&&(ue=null),ue!==t?(lt=x,A=Hs(),x=A):(T=x,x=t)):(T=x,x=t),x===t&&(x=T,i.charCodeAt(T)===48?(A=zs,T++):(A=t,nt===0&&ft(ds)),A!==t&&(lt=x,A=js()),x=A)),ct[pe]={nextPos:T,result:x},x)}function py(){let x,A,ue;const K=T*34+25,pe=ct[K];if(pe)return T=pe.nextPos,pe.result;if(x=T,A=[],ue=jp(),ue!==t)for(;ue!==t;)A.push(ue),ue=jp();else A=t;return A!==t&&(lt=x,A=ks(A)),x=A,ct[K]={nextPos:T,result:x},x}function zu(){let x,A,ue;const K=T*34+26,pe=ct[K];if(pe)return T=pe.nextPos,pe.result;if(x=T,A=[],ue=zp(),ue!==t)for(;ue!==t;)A.push(ue),ue=zp();else A=t;return A!==t&&(lt=x,A=ks(A)),x=A,ct[K]={nextPos:T,result:x},x}function zp(){let x,A;const ue=T*34+27,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,i.substr(T,2)===Ca?(A=Ca,T+=2):(A=t,nt===0&&ft(kn)),A!==t&&(lt=x,A=Qs()),x=A,x===t&&(x=T,i.substr(T,2)===Ws?(A=Ws,T+=2):(A=t,nt===0&&ft(_o)),A!==t&&(lt=x,A=bi()),x=A,x===t&&(x=T,Uu.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(gd)),A!==t&&(lt=x,A=O()),x=A)),ct[ue]={nextPos:T,result:x},x)}function jp(){let x,A;const ue=T*34+28,K=ct[ue];return K?(T=K.nextPos,K.result):(x=T,V.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(ee)),A!==t&&(lt=x,A=O()),x=A,ct[ue]={nextPos:T,result:x},x)}function kh(){let x,A,ue,K,pe,Be,gt;const Rt=T*34+29,In=ct[Rt];if(In)return T=In.nextPos,In.result;if(x=T,A=il(),A!==t){if(ue=[],K=T,pe=nl(),pe!==t){for(Be=[],gt=il();gt!==t;)Be.push(gt),gt=il();Be!==t?(pe=[pe,Be],K=pe):(T=K,K=t)}else T=K,K=t;for(;K!==t;)if(ue.push(K),K=T,pe=nl(),pe!==t){for(Be=[],gt=il();gt!==t;)Be.push(gt),gt=il();Be!==t?(pe=[pe,Be],K=pe):(T=K,K=t)}else T=K,K=t;ue!==t?(lt=x,A=O(),x=A):(T=x,x=t)}else T=x,x=t;return ct[Rt]={nextPos:T,result:x},x}function nl(){let x,A;const ue=T*34+30,K=ct[ue];if(K)return T=K.nextPos,K.result;if(x=[],ie.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(ae)),A!==t)for(;A!==t;)x.push(A),ie.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(ae));else x=t;return ct[ue]={nextPos:T,result:x},x}function gy(){let x,A;const ue=T*34+31,K=ct[ue];if(K)return T=K.nextPos,K.result;if(x=[],Te.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(et)),A!==t)for(;A!==t;)x.push(A),Te.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(et));else x=t;return ct[ue]={nextPos:T,result:x},x}function il(){let x,A;const ue=T*34+32,K=ct[ue];if(K)return T=K.nextPos,K.result;if(x=[],Nt.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(Et)),A!==t)for(;A!==t;)x.push(A),Nt.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(Et));else x=t;return ct[ue]={nextPos:T,result:x},x}function ln(){let x,A;const ue=T*34+33,K=ct[ue];if(K)return T=K.nextPos,K.result;for(nt++,x=[],mn.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(Xn));A!==t;)x.push(A),mn.test(i.charAt(T))?(A=i.charAt(T),T++):(A=t,nt===0&&ft(Xn));return nt--,x===t&&(A=t,nt===0&&ft(Zt)),ct[ue]={nextPos:T,result:x},x}function Qp(x,A,ue=!1){return A.reduce(function(K,pe){return new IPe(pe[1],K,pe[3],ue)},x)}function Gl(x){return[].concat.apply([],x)}if(hi=r(),hi!==t&&T===i.length)return hi;throw hi!==t&&T<i.length&&ft(el()),md(An,ai<i.length?i.charAt(ai):null,ai<i.length?tl(ai,ai+1):tl(ai,ai))}const TPe=SPe;class xPe{constructor(e,t){this.at=e,this.code=t}}class PPe{patchExpression(e){return e.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")}createCondition(e){return this.parseExpression(e)}parseExpression(e){try{return TPe(this.patchExpression(e))}catch(t){t instanceof oE&&(this.conditionError=new xPe(t.location.start.offset,t.message))}}get error(){return this.conditionError}}class RPe{constructor(e,t,n,r,s){this.operand=e,this.id=t,this.onComplete=n,this.processValue=new Gxe(s),this.processValue.properties=r}run(e){if(!e)return this.runValues();this.processValue.onCompleteAsyncFunc=n=>{const r=this.getAsyncItemByOperand(n,this.asyncFuncList);r&&this.doAsyncFunctionReady(r)},this.asyncFuncList=new Array,this.operand.addToAsyncList(this.asyncFuncList);for(var t=0;t<this.asyncFuncList.length;t++)this.runAsyncItem(this.asyncFuncList[t]);return!1}getAsyncItemByOperand(e,t){if(!Array.isArray(t))return null;for(let n=0;n<t.length;n++){if(t[n].operand===e)return t[n];const r=this.getAsyncItemByOperand(e,t[n].children);if(r)return r}return null}runAsyncItem(e){e.children?e.children.forEach(t=>this.runAsyncItem(t)):this.runAsyncItemCore(e)}runAsyncItemCore(e){e.operand?e.operand.evaluate(this.processValue):this.doAsyncFunctionReady(e)}doAsyncFunctionReady(e){if(e.parent&&this.isAsyncChildrenReady(e)){this.runAsyncItemCore(e.parent);return}for(var t=0;t<this.asyncFuncList.length;t++)if(!this.isAsyncFuncReady(this.asyncFuncList[t]))return;this.runValues()}isAsyncFuncReady(e){return e.operand&&!e.operand.isReady(this.processValue)?!1:this.isAsyncChildrenReady(e)}isAsyncChildrenReady(e){if(e.children){for(let t=0;t<e.children.length;t++)if(!this.isAsyncFuncReady(e.children[t]))return!1}return!0}runValues(){var e=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(e,this.id),e}}class Yf{static getQuestionErrorText(e){if(e){const t=e.question;if(t&&t.name)return" It is used in the question: '"+t.name+"'."}return""}constructor(e){this.parser=new PPe,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(e)}get expression(){return this.expressionValue}setExpression(e){this.expression!==e&&(this.expressionValue=e,this.operand=this.parser.parseExpression(e),this.hasFunctionValue=this.canRun()?this.operand.hasFunction():!1,this.isAsyncValue=this.hasFunction()?this.operand.hasAsyncFunction():!1)}getVariables(){if(!this.operand)return[];var e=[];return this.operand.setVariables(e),e}hasFunction(){return this.hasFunctionValue}get isAsync(){return this.isAsyncValue}canRun(){return!!this.operand}run(e,t=null,n){return this.runContext(new Oo(e),t,n)}runContext(e,t=null,n){return this.operand?new RPe(this.operand,n,this.onComplete,t,e).run(this.isAsync):(this.expression&&ha.warn("Invalid expression: '"+this.expression+"'."+Yf.getQuestionErrorText(t)),null)}}Yf.createExpressionExecutor=i=>new Yf(i);class ly{constructor(e){this.expression=e}get expression(){return this.expressionExecutor?this.expressionExecutor.expression:""}set expression(e){this.expressionExecutor&&e===this.expression||(this.expressionExecutor=Yf.createExpressionExecutor(e),this.expressionExecutor.onComplete=(t,n)=>{this.doOnComplete(t,n)},this.variables=void 0,this.containsFunc=void 0)}getVariables(){return this.variables===void 0&&(this.variables=this.expressionExecutor.getVariables()),this.variables}hasFunction(){return this.containsFunc===void 0&&(this.containsFunc=this.expressionExecutor.hasFunction()),this.containsFunc}get isAsync(){return this.expressionExecutor.isAsync}canRun(){return this.expressionExecutor.canRun()}runContextCore(e,t){const n=ly.IdRunnerCounter++;return this.onBeforeAsyncRun&&this.isAsync&&this.onBeforeAsyncRun(n),this.expressionExecutor.runContext(e,t,n)}doOnComplete(e,t){this.onAfterAsyncRun&&this.isAsync&&this.onAfterAsyncRun(t)}}ly.IdRunnerCounter=1;class Do extends ly{runValues(e,t=null){return this.runContext(new Oo(e),t)}runContext(e,t){return this.runContextCore(e,t)==!0}doOnComplete(e,t){this.onRunComplete&&this.onRunComplete(e==!0),super.doOnComplete(e,t)}}class y5 extends ly{runValues(e,t=null){return this.runContext(new Oo(e),t)}runContext(e,t){return this.runContextCore(e,t)}doOnComplete(e,t){this.onRunComplete&&this.onRunComplete(e),super.doOnComplete(e,t)}}class kPe{constructor(e){this.obj=e,this.properties=null,this.values=null}getType(){return"bindings"}get isSurveyObj(){return!0}getNames(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)this.properties[t].isVisible("",this.obj)&&e.push(this.properties[t].name);return e}getProperties(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)e.push(this.properties[t]);return e}setBinding(e,t){this.values||(this.values={});const n=this.getJson();n!==t&&(t?this.values[e]=t:(delete this.values[e],Object.keys(this.values).length==0&&(this.values=null)),this.onChangedJSON(n))}clearBinding(e){this.setBinding(e,"")}isEmpty(){if(!this.values)return!0;for(var e in this.values)return!1;return!0}getValueNameByPropertyName(e){if(this.values)return this.values[e]}getPropertiesByValueName(e){if(!this.values)return[];var t=[];for(var n in this.values)this.values[n]==e&&t.push(n);return t}getJson(){if(this.isEmpty())return;const e={};return this.getNames().forEach(t=>{this.values[t]!==void 0&&(e[t]=this.values[t])}),e}setJson(e,t){const n=this.getJson();this.values=null,e&&this.getNames().forEach(r=>{e[r]!==void 0&&(this.values||(this.values={}),this.values[r]=e[r])}),!t&&!se.isTwoValueEquals(n,this.values)&&this.onChangedJSON(n)}fillProperties(){if(this.properties===null){this.properties=[];for(var e=me.getPropertiesByObj(this.obj),t=0;t<e.length;t++)e[t].isBindable&&this.properties.push(e[t])}}onChangedJSON(e){this.obj&&this.obj.onBindingChanged(e,this.getJson())}}class FC{constructor(e,t,n){this.currentDependency=e,this.target=t,this.property=n,this.dependencies=[],this.id=""+ ++FC.DependenciesCount}addDependency(e,t){this.target===e&&this.property===t||this.dependencies.some(n=>n.obj===e&&n.prop===t)||(this.dependencies.push({obj:e,prop:t,id:this.id}),e.registerPropertyChangedHandlers([t],this.currentDependency,this.id))}dispose(){this.dependencies.forEach(e=>{e.obj.unregisterPropertyChangedHandlers([e.prop],e.id)})}}FC.DependenciesCount=0;class Un{constructor(e){this._updater=e,this.dependencies=void 0,this.type=Un.ComputedUpdaterType}get updater(){return this._updater}setDependencies(e){this.clearDependencies(),this.dependencies=e}getDependencies(){return this.dependencies}clearDependencies(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)}dispose(){this.clearDependencies(),this._updater=void 0}}Un.ComputedUpdaterType="__dependency_computed";class Ut{static finishCollectDependencies(){const e=Ut.currentDependencis;return Ut.currentDependencis=void 0,e}static startCollectDependencies(e,t,n){if(Ut.currentDependencis!==void 0)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");Ut.currentDependencis=new FC(e,t,n)}static collectDependency(e,t){Ut.currentDependencis!==void 0&&Ut.currentDependencis.addDependency(e,t)}static get commentSuffix(){return oe.commentSuffix}static set commentSuffix(e){oe.commentSuffix=e}static get commentPrefix(){return Ut.commentSuffix}static set commentPrefix(e){Ut.commentSuffix=e}isValueEmpty(e,t=!0){return t&&(e=this.trimValue(e)),se.isValueEmpty(e)}equals(e){return!e||this.isDisposed||e.isDisposed||this.getType()!=e.getType()?!1:this.equalsCore(e)}equalsCore(e){return this.name!==e.name?!1:se.isTwoValueEquals(this.toJSON(),e.toJSON(),!1,!0,!1)}trimValue(e){return e&&(typeof e=="string"||e instanceof String)?e.trim():e}static createPropertiesHash(){return{}}constructor(){this.dependencies={},this.propertyHash=Ut.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onNestedPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.animationAllowedLock=0,this.supportOnElementRerenderedEvent=!0,this.onElementRerenderedEventEnabled=!1,this._onElementRerendered=new Na,_i.createProperties(this),this.onBaseCreating(),this.isCreating=!1}dispose(){for(var e=0;e<this.eventList.length;e++)this.eventList[e].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0,Object.keys(this.dependencies).forEach(t=>this.dependencies[t].dispose()),Object.keys(this.propertyHash).forEach(t=>{const n=this.getPropertyValueCore(this.propertyHash,t);n&&n.type==Un.ComputedUpdaterType&&n.dispose()})}get isDisposed(){return this.isDisposedValue===!0}get isSurveyObj(){return!0}addEvent(){const e=new Na;return this.eventList.push(e),e}onBaseCreating(){}getType(){return"base"}isDescendantOf(e){return me.isDescendantOf(this.getType(),e)}getSurvey(e=!1){return null}getValueGetterContext(){const e=this.getSurvey();return e?e.getValueGetterContext():new Oo({})}get isDesignMode(){const e=this.getSurvey();return!!e&&e.isDesignMode}get inSurvey(){return!!this.getSurvey(!0)}get bindings(){return this.bindingsValue||(this.bindingsValue=new kPe(this)),this.bindingsValue}isBindingEmpty(){return!this.bindingsValue||this.bindingsValue.isEmpty()}checkBindings(e,t){}updateBindings(e,t){if(this.bindingsValue){var n=this.bindings.getValueNameByPropertyName(e);n&&this.updateBindingValue(n,t)}}updateBindingValue(e,t){}getTemplate(){return this.getType()}get isLoadingFromJson(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()}getIsLoadingFromJson(){return this.loadingOwner&&this.loadingOwner.isLoadingFromJson?!0:this.isLoadingFromJsonValue}startLoadingFromJson(e){this.isLoadingFromJsonValue=!0,this.jsonObj=e}endLoadingFromJson(){this.isLoadingFromJsonValue=!1}toJSON(e){return new Si().toJsonObject(this,e)}fromJSON(e,t){new Si().toObject(e,this,t),this.onSurveyLoad()}onSurveyLoad(){}clone(){var e=me.createClass(this.getType());return e.fromJSON(this.toJSON()),e}getPropertyByName(e){const t=this.getType();return(!this.classMetaData||this.classMetaData.name!==t)&&(this.classMetaData=me.findClass(t)),this.classMetaData?this.classMetaData.findProperty(e):null}isPropertyVisible(e){const t=this.getPropertyByName(e);return t?t.isVisible("",this):!1}static createProgressInfo(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}}getProgressInfo(){return Ut.createProgressInfo()}localeChanged(){}locStrsChanged(){if(this.arraysInfo)for(let t in this.arraysInfo){let n=this.arraysInfo[t];if(n&&n.isItemValues){var e=this.getPropertyValue(t);e&&Ut.itemValueLocStrChanged&&Ut.itemValueLocStrChanged(e)}}if(this.localizableStrings)for(let t in this.localizableStrings){let n=this.getLocalizableString(t);n&&n.strChanged()}}getPropertyValue(e,t,n){const r=this.getPropertyValueWithoutDefault(e);if(n&&Array.isArray(r)&&r.length===0&&r.isReset===!0)return delete r.isReset,this.setArrayPropertyDirectly(e,n(),!1),r;if(this.isValueUndefined(r)){const s=this.localizableStrings?this.localizableStrings[e]:void 0;if(s)return s.text;if(!this.isValueUndefined(t))return t;if(n){const a=n();if(a!==void 0)if(Array.isArray(a)){const l=this.createNewArray(e);return l.splice(0,0,...a),l}else return this.setPropertyValueDirectly(e,a),a}const o=this.getDefaultPropertyValue(e);if(o!==void 0)return o}return r}isValueUndefined(e){return se.isValueUndefined(e)}getDefaultPropertyValue(e){const t=this.getPropertyByName(e);if(!t||t.isCustom&&this.isCreating)return;if(t.defaultValueFunc)return t.defaultValueFunc(this);const n=t.getDefaultValue(this);if(!this.isValueUndefined(n)&&!Array.isArray(n))return n;const r=this.localizableStrings?this.localizableStrings[e]:void 0;if(r&&r.localizationName)return this.getLocalizationString(r.localizationName);if(t.type=="boolean"||t.type=="switch")return!1;if(t.isCustom&&t.onGetValue)return t.onGetValue(this)}hasDefaultPropertyValue(e){return this.getDefaultPropertyValue(e)!==void 0}resetPropertyValue(e){const t=this.localizableStrings?this.localizableStrings[e]:void 0;t?(this.setLocalizableStringText(e,void 0),t.clear()):this.setPropertyValue(e,void 0)}getPropertyValueWithoutDefault(e){return this.getPropertyValueCore(this.propertyHash,e)}getPropertyValueCore(e,t){return this.isLoadingFromJson||Ut.collectDependency(this,t),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(e,t):e[t]}geValueFromHash(){return this.propertyHash.value}setPropertyValueCore(e,t,n){this.setPropertyValueCoreHandler?this.isDisposedValue?ha.disposedObjectChangedProperty(t,this.getType()):this.setPropertyValueCoreHandler(e,t,n):e[t]=n}get isEditingSurveyElement(){var e=this.getSurvey();return!!e&&e.isEditingSurveyElement}iteratePropertiesHash(e){var t=[];for(var n in this.propertyHash)n==="value"&&this.isEditingSurveyElement&&Array.isArray(this.value)||t.push(n);t.forEach(r=>e(this.propertyHash,r))}setPropertyValue(e,t){if(!this.isDisposedValue){if(!this.isLoadingFromJson){const r=this.getPropertyByName(e);r&&(t=r.settingValue(this,t))}var n=this.getPropertyValue(e);n&&Array.isArray(n)&&this.arraysInfo&&(!t||Array.isArray(t))?this.isTwoValueEquals(n,t)||this.setArrayPropertyDirectly(e,t):t!==n&&(this.setPropertyValueDirectly(e,t),this.isTwoValueEquals(n,t)||this.propertyValueChanged(e,n,t))}}setArrayPropertyDirectly(e,t,n=!0){var r=this.arraysInfo[e];this.setArray(e,this.getPropertyValue(e),t,r?r.isItemValues:!1,r?n&&r.onPush:null)}setPropertyValueDirectly(e,t){this.setPropertyValueCore(this.propertyHash,e,t)}clearPropertyValue(e){this.setPropertyValueCore(this.propertyHash,e,null),delete this.propertyHash[e]}onPropertyValueChangedCallback(e,t,n,r,s){}itemValuePropertyChanged(e,t,n,r){this.onItemValuePropertyChanged.fire(this,{obj:e,name:t,oldValue:n,newValue:r,propertyName:e.ownerPropertyName})}onPropertyValueChanged(e,t,n){}propertyValueChanged(e,t,n,r,s){if(!this.isLoadingFromJson&&(this.updateBindings(e,n),this.onPropertyValueChanged(e,t,n),this.onPropertyChanged.fire(this,{name:e,oldValue:t,newValue:n,arrayChanges:r,target:s}),this.doPropertyValueChangedCallback(e,t,n,r,this),this.checkConditionPropertyChanged(e),!!this.onPropChangeFunctions))for(var o=0;o<this.onPropChangeFunctions.length;o++)this.onPropChangeFunctions[o].name==e&&this.onPropChangeFunctions[o].func(n,r)}onBindingChanged(e,t){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",e,t)}get isInternal(){return!1}doPropertyValueChangedCallback(e,t,n,r,s){const o=l=>{l&&l.onPropertyValueChangedCallback&&l.onPropertyValueChangedCallback(e,t,n,s,r)};if(this.isInternal){o(this);return}s||(s=this);var a=this.getSurvey();a||(a=this),o(a),a!==this&&o(this)}addExpressionProperty(e,t,n){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[e]={onExecute:t,canRun:n}}getDataFilteredProperties(){return{}}runConditionCore(e){if(this.expressionInfo)for(var t in this.expressionInfo)this.runConditionItemCore(t,e)}canRunConditions(){return!this.isDesignMode}checkConditionPropertyChanged(e){!this.expressionInfo||!this.expressionInfo[e]||this.canRunConditions()&&this.runConditionItemCore(e,this.getDataFilteredProperties())}runConditionItemCore(e,t){const n=this.expressionInfo[e],r=this.getPropertyValue(e);r&&(n.canRun&&!n.canRun(this)||(n.runner||(n.runner=this.createExpressionRunner(r),n.runner.onRunComplete=s=>{n.onExecute(this,s)}),n.runner.expression=r,n.runner.runContext(this.getValueGetterContext(),t)))}doBeforeAsynRun(e){this.asynExpressionHash||(this.asynExpressionHash={});const t=!this.isAsyncExpressionRunning;this.asynExpressionHash[e]=!0,t&&this.onAsyncRunningChanged()}doAfterAsynRun(e){this.asynExpressionHash&&(delete this.asynExpressionHash[e],this.isAsyncExpressionRunning||this.onAsyncRunningChanged())}onAsyncRunningChanged(){}get isAsyncExpressionRunning(){return!!this.asynExpressionHash&&Object.keys(this.asynExpressionHash).length>0}createExpressionRunner(e){const t=new y5(e);return t.onBeforeAsyncRun=n=>{this.doBeforeAsynRun(n)},t.onAfterAsyncRun=n=>{this.doAfterAsynRun(n)},t}registerPropertyChangedHandlers(e,t,n=null){for(var r=0;r<e.length;r++)this.registerFunctionOnPropertyValueChanged(e[r],t,n)}unregisterPropertyChangedHandlers(e,t=null){for(var n=0;n<e.length;n++)this.unRegisterFunctionOnPropertyValueChanged(e[n],t)}registerFunctionOnPropertyValueChanged(e,t,n=null){if(this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),n)for(var r=0;r<this.onPropChangeFunctions.length;r++){var s=this.onPropChangeFunctions[r];if(s.name==e&&s.key==n){s.func=t;return}}this.onPropChangeFunctions.push({name:e,func:t,key:n})}registerFunctionOnPropertiesValueChanged(e,t,n=null){this.registerPropertyChangedHandlers(e,t,n)}unRegisterFunctionOnPropertyValueChanged(e,t=null){if(this.onPropChangeFunctions)for(var n=0;n<this.onPropChangeFunctions.length;n++){var r=this.onPropChangeFunctions[n];if(r.name==e&&r.key==t)return this.onPropChangeFunctions.splice(n,1)}}unRegisterFunctionOnPropertiesValueChanged(e,t=null){this.unregisterPropertyChangedHandlers(e,t)}createCustomLocalizableObj(e){const t=this.getLocalizableString(e);return t||this.createLocalizableString(e,this,!1,!0)}getLocale(){const e=this.getSurvey();return e?e.getLocale():""}getLocalizationString(e){return ur(e,this.getLocale())}getLocalizationFormatString(e,...t){const n=this.getLocalizationString(e);return!n||!n.format?"":n.format(...t)}createLocalizableString(e,t,n=!1,r=!1){let s;r&&(s=r===!0?e:r);const o=new Ar(t,n,e,s);o.onStrChanged=(l,u)=>{this.propertyValueChanged(e,l,u)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[e]=o;const a=this.getPropertyByName(e);return o.disableLocalization=a&&a.isLocalizable===!1,o}removeLocalizableString(e){this.localizableStrings&&delete this.localizableStrings[e]}getLocalizableString(e){return this.localizableStrings?this.localizableStrings[e]:null}getLocalizableStringText(e,t=""){Ut.collectDependency(this,e);var n=this.getLocalizableString(e);if(!n)return"";var r=n.text;return r||t}setLocalizableStringText(e,t){let n=this.getLocalizableString(e);if(!n)return;n.text!=t&&(n.text=t)}addUsedLocales(e){if(this.localizableStrings)for(let t in this.localizableStrings){let n=this.getLocalizableString(t);n&&this.AddLocStringToUsedLocales(n,e)}if(this.arraysInfo)for(let t in this.arraysInfo){const n=this.getPropertyByName(t);if(!n||!n.isPropertySerializable(this))continue;let r=this.getPropertyValue(t);if(!(!r||!r.length))for(let s=0;s<r.length;s++){let o=r[s];o&&o.addUsedLocales&&o.addUsedLocales(e)}}}searchText(e,t){var n=[];this.getSearchableLocalizedStrings(n);for(var r=0;r<n.length;r++)n[r].setFindText(e)&&t.push({element:this,str:n[r]})}getSearchableLocalizedStrings(e){if(this.localizableStrings){let o=[];this.getSearchableLocKeys(o);for(var t=0;t<o.length;t++){let a=this.getLocalizableString(o[t]);a&&e.push(a)}}if(!this.arraysInfo)return;let n=[];this.getSearchableItemValueKeys(n);for(var t=0;t<n.length;t++){var r=this.getPropertyValue(n[t]);if(r)for(var s=0;s<r.length;s++)e.push(r[s].locText)}}getSearchableLocKeys(e){}getSearchableItemValueKeys(e){}AddLocStringToUsedLocales(e,t){for(var n=e.getLocales(),r=0;r<n.length;r++)t.indexOf(n[r])<0&&t.push(n[r])}createItemValues(e){var t=this,n=this.createNewArray(e,function(r){if(r.locOwner=t,r.ownerPropertyName=e,typeof r.getSurvey=="function"){const s=r.getSurvey();s&&typeof s.makeReactive=="function"&&s.makeReactive(r)}});return this.arraysInfo[e].isItemValues=!0,n}notifyArrayChanged(e,t){e.onArrayChanged&&e.onArrayChanged(t)}createNewArrayCore(e){var t=null;return this.createArrayCoreHandler&&(t=this.createArrayCoreHandler(this.propertyHash,e)),t||(t=new Array,this.setPropertyValueCore(this.propertyHash,e,t)),t}ensureArray(e,t=null,n=null){if(!(this.arraysInfo&&this.arraysInfo[e]))return this.createNewArray(e,t,n)}createNewArray(e,t=null,n=null){var r=this.createNewArrayCore(e);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[e]={onPush:t,isItemValues:!1};var s=this;return r.push=function(o){var a=Object.getPrototypeOf(r).push.call(r,o);if(!s.isDisposedValue){t&&t(o,r.length-1);const l=new qh(r.length-1,0,[o],[]);s.propertyValueChanged(e,r,r,l),s.notifyArrayChanged(r,l)}return a},r.shift=function(){var o=Object.getPrototypeOf(r).shift.call(r);if(!s.isDisposedValue&&o){n&&n(o);const a=new qh(r.length-1,1,[],[]);s.propertyValueChanged(e,r,r,a),s.notifyArrayChanged(r,a)}return o},r.unshift=function(o){var a=Object.getPrototypeOf(r).unshift.call(r,o);if(!s.isDisposedValue){t&&t(o,r.length-1);const l=new qh(0,0,[o],[]);s.propertyValueChanged(e,r,r,l),s.notifyArrayChanged(r,l)}return a},r.pop=function(){var o=Object.getPrototypeOf(r).pop.call(r);if(!s.isDisposedValue){n&&n(o);const a=new qh(r.length-1,1,[],[]);s.propertyValueChanged(e,r,r,a),s.notifyArrayChanged(r,a)}return o},r.splice=function(o,a,...l){o||(o=0),a||(a=0);var u=Object.getPrototypeOf(r).splice.call(r,o,a,...l);if(l||(l=[]),!s.isDisposedValue){if(n&&u)for(var c=0;c<u.length;c++)n(u[c]);if(t)for(var c=0;c<l.length;c++)t(l[c],o+c);const h=new qh(o,a,l,u);s.propertyValueChanged(e,r,r,h),s.notifyArrayChanged(r,h)}return u},r}getItemValueType(){}setArray(e,t,n,r,s){var o=[].concat(t);if(Object.getPrototypeOf(t).splice.call(t,0,t.length),n){for(var a=0;a<n.length;a++){var l=n[a];r&&Ut.createItemValue&&(l=Ut.createItemValue(l,this.getItemValueType())),Object.getPrototypeOf(t).push.call(t,l),s&&s(t[a])}delete t.isReset}else t.isReset=!0;const u=new qh(0,o.length,t,o);this.propertyValueChanged(e,o,t,u),this.notifyArrayChanged(t,u)}isTwoValueEquals(e,t,n=!1,r=!1){return se.checkIfValuesEqual(e,t,{ignoreOrder:!1,caseSensitive:!n,trimStrings:r,doNotConvertNumbers:!0})}static copyObject(e,t){for(var n in t){var r=t[n];typeof r=="object"&&(r={},this.copyObject(r,t[n])),e[n]=r}}copyCssClasses(e,t){t&&(typeof t=="string"||t instanceof String?e.root=t:Ut.copyObject(e,t))}getValueInLowCase(e){return e&&typeof e=="string"?e.toLowerCase():e}getElementsInDesign(e=!1){return[]}get animationAllowed(){return this.getIsAnimationAllowed()}getIsAnimationAllowed(){return oe.animationEnabled&&this.animationAllowedLock>=0&&!this.isLoadingFromJson&&!this.isDisposed&&(!!this.onElementRerendered||!this.supportOnElementRerenderedEvent)}blockAnimations(){this.animationAllowedLock--}releaseAnimations(){this.animationAllowedLock++}enableOnElementRerenderedEvent(){this.onElementRerenderedEventEnabled=!0}disableOnElementRerenderedEvent(){var e;(e=this.onElementRerendered)===null||e===void 0||e.fire(this,{isCancel:!0}),this.onElementRerenderedEventEnabled=!1}get onElementRerendered(){return this.supportOnElementRerenderedEvent&&this.onElementRerenderedEventEnabled?this._onElementRerendered:void 0}afterRerender(){var e;(e=this.onElementRerendered)===null||e===void 0||e.fire(this,{isCancel:!1})}}Ut.currentDependencis=void 0;class qh{constructor(e,t,n,r){this.index=e,this.deleteCount=t,this.itemsToAdd=n,this.deletedItems=r}}let S$=class{get isEmpty(){return this.length===0}get length(){return this.callbacks?this.callbacks.length:0}fireByCreatingOptions(e,t){if(this.callbacks){for(var n=0;n<this.callbacks.length;n++)if(this.callbacks[n](e,t()),!this.callbacks)return}}fire(e,t){if(!this.callbacks)return;const n=[].concat(this.callbacks);for(var r=0;r<n.length;r++)if(n[r](e,t),!this.callbacks)return}clear(){this.callbacks=void 0}add(e){this.hasFunc(e)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(e),this.fireCallbackChanged())}remove(e){if(this.hasFunc(e)){var t=this.callbacks.indexOf(e,0);this.callbacks.splice(t,1),this.fireCallbackChanged()}}hasFunc(e){return this.callbacks==null?!1:this.callbacks.indexOf(e,0)>-1}fireCallbackChanged(){this.onCallbacksChanged&&this.onCallbacksChanged()}};class Na extends S${}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function W(i,e,t,n){var r=arguments.length,s=r<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}class APe{constructor(e,t,n){this.container=e,this.model=t,this.afterInitializeCallback=n,this.resizeObserver=void 0,this.isInitialized=!1,this.isResizeObserverStarted=!1,this.getComputedStyle=r=>St.getComputedStyle(r),this.isDisposed=!1,typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(r=>{Bt.requestAnimationFrame(()=>{this.isResizeObserverStarted=!0,this.process()})}),this.resizeObserver.observe(this.container.parentElement))}getDimensions(e){return{scroll:e.scrollWidth,offset:e.offsetWidth}}getAvailableSpace(){const e=this.getComputedStyle(this.container);let t=this.container.offsetWidth;return e.boxSizing==="border-box"&&(t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)),t}getGap(){const e=this.getComputedStyle(this.container);if(e.display=="flex"){const t=parseFloat(e.rowGap);return isNaN(t)?0:t}return 0}calcItemSize(e){return e.offsetWidth||e.getBoundingClientRect().width}updateItemsDimensions(e){if(!this.container)return;const t=this.isInitialized?this.model.renderedActions.filter(s=>s.needUpdateMaxDimension||s.needUpdateMinDimension):this.model.renderedActions;let n=t.length;n==0&&e();const r=()=>{--n<=0&&e()};t.forEach(s=>{const o=!this.isInitialized||s.needUpdateMaxDimension,l=!this.isInitialized||s.needUpdateMinDimension?o?void 0:"small":"large";s.updateDimensions(u=>this.calcItemSize(u),()=>{s.needUpdateMaxDimension=!1,s.needUpdateMinDimension=!1,r()},l)})}get isContainerVisible(){return!!this.container&&I5(this.container)}shouldProcessResponsiveness(){return this.isContainerVisible&&!this.model.isResponsivenessDisabled&&!this.isDisposed}process(){this.shouldProcessResponsiveness()&&this.updateItemsDimensions(()=>{this.shouldProcessResponsiveness()&&this.model.fit({availableSpace:this.getAvailableSpace(),gap:this.getGap()}),this.isInitialized||(this.isInitialized=!0,this.afterInitializeCallback&&this.afterInitializeCallback())})}update(e){this.isResizeObserverStarted&&(this.model.isResponsivenessDisabled||(e&&(this.isInitialized=!1),this.process()))}dispose(){this.isDisposed=!0,this.resizeObserver&&this.resizeObserver.disconnect(),this.isResizeObserverStarted=!1,this.resizeObserver=void 0,this.container=void 0}}class Ie{constructor(){this.classes=[]}isEmpty(){return this.toString()===""}append(e,t=!0){return e&&t&&(typeof e=="string"&&(e=e.trim()),this.classes.push(e)),this}toString(){return this.classes.join(" ")}}function T$(i){let e=!1,t=!1,n;const r=()=>{t=!0,n=void 0};return{run:(...s)=>{t=!1,n=s,e||(e=!0,queueMicrotask(()=>{t||i.apply(this,n),n=void 0,t=!1,e=!1}))},cancel:r,getLastArguments:()=>n,flushSync:()=>{!t&&e&&(i.apply(this,n),r())}}}let $a={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemWithTitle:"",itemAsIcon:"sv-action-bar-item--icon",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"};class wr extends Ut{constructor(){super(...arguments),this.id=wr.ContainerID++,this.visibleActions=[],this.sizeMode="default",this.raiseUpdateCallback=T$(e=>{this.update(e)}),this.onActionPropertyChangedCallback=this.onActionPropertyChanged.bind(this)}getMarkdownHtml(e,t,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,n):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}getLocale(){return this.locOwner?this.locOwner.getLocale():""}getRenderedActions(){return this.visibleActions}locStrsChanged(){super.locStrsChanged(),this.actions.forEach(e=>{e.locTitle&&e.locTitle.strChanged(),e.locStrsChanged()})}flushUpdates(){this.raiseUpdateCallback.flushSync()}raiseUpdate(e){var t;const n=this.raiseUpdateCallback.getLastArguments(),r=(t=n&&n[0])!==null&&t!==void 0?t:{};this.raiseUpdateCallback.run(this.mergeUpdateOptions(e,r))}mergeUpdateOptions(e,t){const n=Object.assign({},e);return n.needUpdateActions=!!n.needUpdateActions||!!t.needUpdateActions,n.needUpdateIsEmpty=!!n.needUpdateIsEmpty||!!t.needUpdateIsEmpty,n}update(e){e!=null&&e.needUpdateActions&&this.updateVisibleActions(),e!=null&&e.needUpdateIsEmpty&&this.updateIsEmpty()}updateVisibleActions(){this.visibleActions=this.getVisibleActions()}updateIsEmpty(){this.isEmpty=this.getIsEmpty()}getIsEmpty(){return this.visibleActions.length<=0}getVisibleActions(){return this.actions.filter(e=>e.visible!==!1)}onSet(){this.actions.forEach(e=>{this.patchAction(e)})}onPush(e){this.patchAction(e),this.raiseUpdate({needUpdateActions:!0,needUpdateIsEmpty:!0})}onRemove(e){this.unPatchAction(e),this.raiseUpdate({needUpdateActions:!0,needUpdateIsEmpty:!0})}onActionPropertyChanged(e,t){t.name=="_visible"&&this.raiseUpdate({needUpdateActions:!0,needUpdateIsEmpty:!0})}patchAction(e){this.setActionCssClasses(e),e.owner=this,e.onPropertyChanged.add(this.onActionPropertyChangedCallback)}unPatchAction(e){e.owner=null,e.onPropertyChanged.remove(this.onActionPropertyChangedCallback)}setActionCssClasses(e){e.cssClasses=this.cssClasses}get hasActions(){return(this.actions||[]).length>0}get hasVisibleActions(){return!this.isEmpty}get renderedActions(){return this.getRenderedActions()}getRootStyle(){}getRootCss(){const e=this.sizeMode==="small"?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return new Ie().append(this.cssClasses.root+(e?" "+e:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()}getDefaultCssClasses(){return $a}getAllActions(){return this.actions}setCssClasses(e,t=!0){this.cssClassesValue={},t&&this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),av(e,this.cssClasses),this.getAllActions().forEach(n=>{this.setActionCssClasses(n)})}set cssClasses(e){this.setCssClasses(e)}get cssClasses(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue}createAction(e){return e instanceof si?e:new Xt(e)}addAction(e,t=!0){const n=this.createAction(e);if(t&&!this.isActionVisible(n))return n;const r=[].concat(this.actions,n);return this.sortItems(r),this.actions=r,n}setItems(e,t=!0){const n=[];e.forEach(r=>{(!t||this.isActionVisible(r))&&n.push(this.createAction(r))}),t&&this.sortItems(n),this.actions=n}sortItems(e){this.hasSetVisibleIndex(e)&&e.sort(this.compareByVisibleIndex)}hasSetVisibleIndex(e){for(let t=0;t<e.length;t++){const n=e[t].visibleIndex;if(n!==void 0&&n>=0)return!0}return!1}compareByVisibleIndex(e,t){return e.visibleIndex-t.visibleIndex}isActionVisible(e){return e.visibleIndex>=0||e.visibleIndex===void 0}popupAfterShowCallback(e){}mouseOverHandler(e){e.isHovered=!0;let t=!1,n=!1;if(this.actions.forEach(r=>{r===e&&e.popupModel&&(t=!0),r.popupModel&&r.popupModel.isVisible&&(n=!0)}),t){const r=n?Math.max(this.subItemsShowDelay,this.subItemsHideDelay):this.subItemsShowDelay;e.showPopupDelayed(r),this.popupAfterShowCallback(e)}}initResponsivityManager(e,t){}resetResponsivityManager(){}getActionById(e){for(var t=0;t<this.actions.length;t++)if(this.actions[t].id===e)return this.actions[t];return null}dispose(){super.dispose(),this.resetResponsivityManager(),this.actions.forEach(e=>e.dispose()),this.actions.length=0}}wr.ContainerID=1;W([rs({})],wr.prototype,"visibleActions",void 0);W([rs({onSet:(i,e)=>{e.onSet()},onPush:(i,e,t)=>{t.onPush(i)},onRemove:(i,e,t)=>{t.onRemove(i)}})],wr.prototype,"actions",void 0);W([G({})],wr.prototype,"containerCss",void 0);W([G({defaultValue:!0})],wr.prototype,"isEmpty",void 0);W([G({defaultValue:300})],wr.prototype,"subItemsShowDelay",void 0);W([G({defaultValue:300})],wr.prototype,"subItemsHideDelay",void 0);class Uh{static focusElement(e){e&&e.focus()}static visibility(e){var t=St.getComputedStyle(e);return t.display==="none"||t.visibility==="hidden"?!1:e.parentElement?this.visibility(e.parentElement):!0}static getNextElementPreorder(e){const t=e.nextElementSibling?e.nextElementSibling:e.parentElement.firstElementChild;return this.visibility(t)?t:this.getNextElementPreorder(t)}static getNextElementPostorder(e){const t=e.previousElementSibling?e.previousElementSibling:e.parentElement.lastElementChild;return this.visibility(t)?t:this.getNextElementPostorder(t)}static hasHorizontalScroller(e){return e?e.scrollWidth>e.offsetWidth:!1}static hasVerticalScroller(e){return e?e.scrollHeight>e.offsetHeight:!1}}let aE=!1,x$=null;typeof navigator<"u"&&navigator&&Bt.isAvailable()&&(x$=navigator.userAgent||navigator.vendor||Bt.hasOwn("opera"));(function(i){i&&(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0||navigator.platform==="iPad"||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substring(0,4)))&&(aE=!0)})(x$);let VPe=!1;const b5=aE||VPe;var P$={get isTouch(){return!this.hasMouse&&this.hasTouchEvent},get hasTouchEvent(){return Bt.isAvailable()&&(Bt.hasOwn("ontouchstart")||navigator.maxTouchPoints>0)},hasMouse:!0};const LPe=Bt.matchMedia;P$.hasMouse=DPe(LPe);let Gi=P$.isTouch;function OPe(i,e,t=600){const n=i||Bt.getInnerWidth(),r=e||Bt.getInnerHeight();return Math.min(n,r)>=t}function DPe(i){if(!i||b5)return!1;const e=i("(pointer:fine)"),t=i("(any-hover:hover)");return!!e&&e.matches||!!t&&t.matches}let NPe={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemGroup:"sv-list__item--group",itemGroupSelected:"sv-list__item--group-selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemHovered:"sv-list__item--hovered",itemTextWrap:"sv-list__item-text--wrap",itemIcon:"sv-list__item-icon",itemMarkerIcon:"sv-list-item__marker-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"};class Ni extends wr{hasText(e,t){if(!t)return!0;const n=e.title||"";if(this.onTextSearchCallback)return this.onTextSearchCallback(e,t);let r=n.toLocaleLowerCase();return r=oe.comparator.normalizeTextCallback(r,"filter"),r.indexOf(t.toLocaleLowerCase())>-1}isItemVisible(e){return e.id===this.loadingIndicator.id?e.visible:e.visible&&this.hasText(e,this.filterString)}getRenderedActions(){let e=super.getRenderedActions();if(this.filterString){let t=[];return e.forEach(n=>{t.push(n),n.items&&n.items.forEach(r=>{const s=new Xt(r);s.iconName||(s.iconName=n.iconName),t.push(s)})}),t}return e}get visibleItems(){return this.actions.filter(e=>this.isItemVisible(e))}onFilterStringChanged(e){this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(e),this.raiseUpdate({needUpdateIsEmpty:!0})}getIsEmpty(){return!this.renderedActions.some(e=>this.isItemVisible(e))}scrollToItem(e,t=0){setTimeout(()=>{if(!this.listContainerHtmlElement)return;const n=this.listContainerHtmlElement.querySelector(ko(e));n&&setTimeout(()=>{n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},t)},t)}constructor(e,t,n,r,s){if(super(),this.onSelectionChanged=t,this.allowSelection=n,this.elementId=s,this.onItemClick=o=>{if(this.isItemDisabled(o))return;this.isExpanded=!1,this.allowSelection&&(this.selectedItem=o),this.onSelectionChanged&&this.onSelectionChanged(o);const a=o.action;a&&a(o)},this.onItemHover=o=>{this.mouseOverHandler(o)},this.isItemDisabled=o=>o.enabled!==void 0&&!o.enabled,this.getA11yItemAriaSelected=o=>{if(this.listItemRole=="option")return this.isItemSelected(o)?"true":"false"},this.getA11yItemAriaChecked=o=>{if(this.listItemRole=="menuitemradio")return this.isItemSelected(o)?"true":"false"},this.isItemSelected=o=>this.areSameItems(this.selectedItem,o),this.isItemFocused=o=>this.areSameItems(this.focusedItem,o),this.getListClass=()=>new Ie().append(this.cssClasses.itemsContainer).append(this.cssClasses.itemsContainerFiltering,!!this.filterString&&this.visibleActions.length!==this.visibleItems.length).toString(),this.getItemClass=o=>{const a=this.isItemSelected(o);return new Ie().append(this.cssClasses.item).append(this.cssClasses.itemWithIcon,!!o.iconName).append(this.cssClasses.itemDisabled,this.isItemDisabled(o)).append(this.cssClasses.itemFocused,this.isItemFocused(o)).append(this.cssClasses.itemSelected,!o.hasSubItems&&a).append(this.cssClasses.itemGroup,o.hasSubItems).append(this.cssClasses.itemGroupSelected,o.hasSubItems&&a).append(this.cssClasses.itemHovered,o.isHovered).append(this.cssClasses.itemTextWrap,this.textWrapEnabled).append(o.css).toString()},this.getItemStyle=o=>({"--sjs-list-item-level":(o.level||0)+1}),Object.keys(e).indexOf("items")!==-1){const o=e;Object.keys(o).forEach(a=>{switch(a){case"items":this.setItems(o.items);break;case"onFilterStringChangedCallback":this.setOnFilterStringChangedCallback(o.onFilterStringChangedCallback);break;case"onTextSearchCallback":this.setOnTextSearchCallback(o.onTextSearchCallback);break;default:this[a]=o[a]}}),this.updateActionsIds()}else this.setItems(e),this.selectedItem=r}setOnFilterStringChangedCallback(e){this.onFilterStringChangedCallback=e}setOnTextSearchCallback(e){this.onTextSearchCallback=e}setItems(e,t=!0){super.setItems(e,t),this.updateActionsIds(),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)}updateActionsIds(){this.elementId&&this.actions.forEach(e=>{e.elementId=this.elementId+e.id})}setSearchEnabled(e){this.searchEnabled=e,this.showSearchClearButton=e}onSet(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>Ni.MINELEMENTCOUNT),super.onSet()}getDefaultCssClasses(){return NPe}popupAfterShowCallback(e){this.addScrollEventListener(()=>{e.hidePopup()})}onItemLeave(e){e.hidePopupDelayed(this.subItemsHideDelay)}areSameItems(e,t){return this.areSameItemsCallback?this.areSameItemsCallback(e,t):!!e&&!!t&&e.id==t.id}get a11ya11y_input_ariaLabel(){return this.listAriaLabel}get filterStringPlaceholder(){return this.getLocalizationString("filterStringPlaceholder")}get emptyMessage(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.getLocalizationString("loadingData")}get scrollableContainer(){return this.listContainerHtmlElement.querySelector(ko(this.cssClasses.itemsContainer))}get loadingIndicator(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new Xt({id:"loadingIndicator",title:this.getLocalizationString("loadingPage"),action:()=>{},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue}goToItems(e){if(e.key==="ArrowDown"||e.keyCode===40){const n=e.target.parentElement.parentElement.querySelector("ul"),r=eRe(n);n&&r&&(Uh.focusElement(r),e.preventDefault())}}onMouseMove(e){this.resetFocusedItem()}onKeyDown(e){const t=e.target;e.key==="ArrowDown"||e.keyCode===40?(Uh.focusElement(Uh.getNextElementPreorder(t)),e.preventDefault()):(e.key==="ArrowUp"||e.keyCode===38)&&(Uh.focusElement(Uh.getNextElementPostorder(t)),e.preventDefault())}onPointerDown(e,t){}refresh(){this.filterString!==""?this.filterString="":this.raiseUpdate({needUpdateIsEmpty:!0}),this.resetFocusedItem()}onClickSearchClearButton(e){e.currentTarget.parentElement.querySelector("input").focus(),this.refresh()}resetFocusedItem(){this.focusedItem=void 0}focusFirstVisibleItem(){Gi||(this.focusedItem=this.visibleItems[0])}focusLastVisibleItem(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]}initFocusedItem(){this.focusedItem=this.visibleItems.filter(e=>e.visible&&this.isItemSelected(e))[0],this.focusedItem||this.focusFirstVisibleItem()}focusNextVisibleItem(){if(!this.focusedItem)this.initFocusedItem();else{const e=this.visibleItems,t=e.indexOf(this.focusedItem),n=e[t+1];n?this.focusedItem=n:this.focusFirstVisibleItem()}}focusPrevVisibleItem(){if(!this.focusedItem)this.initFocusedItem();else{const e=this.visibleItems,t=e.indexOf(this.focusedItem),n=e[t-1];n?this.focusedItem=n:this.focusLastVisibleItem()}}selectFocusedItem(){this.focusedItem&&this.onItemClick(this.focusedItem)}initListContainerHtmlElement(e){this.listContainerHtmlElement=e}onLastItemRended(e){this.isAllDataLoaded||e===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=Uh.hasVerticalScroller(this.scrollableContainer))}scrollToFocusedItem(){this.scrollToItem(this.cssClasses.itemFocused)}scrollToSelectedItem(){this.selectedItem&&this.selectedItem.items&&this.selectedItem.items.length>0?this.scrollToItem(this.cssClasses.itemGroupSelected,110):this.scrollToItem(this.cssClasses.itemSelected,110)}addScrollEventListener(e){e&&(this.removeScrollEventListener(),this.scrollHandler=e),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)}removeScrollEventListener(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)}dispose(){super.dispose(),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose(),this.listContainerHtmlElement=void 0}}Ni.INDENT=16;Ni.MINELEMENTCOUNT=10;W([G({defaultValue:!0,onSet:(i,e)=>{e.onSet()}})],Ni.prototype,"searchEnabled",void 0);W([G({defaultValue:!1})],Ni.prototype,"showFilter",void 0);W([G({defaultValue:!1})],Ni.prototype,"forceShowFilter",void 0);W([G({defaultValue:!1})],Ni.prototype,"isExpanded",void 0);W([G({})],Ni.prototype,"selectedItem",void 0);W([G()],Ni.prototype,"focusedItem",void 0);W([G({onSet:(i,e)=>{e.onFilterStringChanged(e.filterString)}})],Ni.prototype,"filterString",void 0);W([G({defaultValue:!1})],Ni.prototype,"hasVerticalScroller",void 0);W([G({defaultValue:!0})],Ni.prototype,"isAllDataLoaded",void 0);W([G({defaultValue:!1})],Ni.prototype,"showSearchClearButton",void 0);W([G({defaultValue:!0})],Ni.prototype,"renderElements",void 0);W([G({defaultValue:!1})],Ni.prototype,"textWrapEnabled",void 0);W([G({defaultValue:"sv-list-item-content"})],Ni.prototype,"itemComponent",void 0);W([G({defaultValue:"listbox"})],Ni.prototype,"listRole",void 0);W([G({defaultValue:"option"})],Ni.prototype,"listItemRole",void 0);W([G()],Ni.prototype,"listAriaLabel",void 0);class Qr extends Ut{refreshInnerModel(){const e=this.contentComponentData.model;e&&e.refresh&&e.refresh()}constructor(e,t,n){if(super(),this.focusFirstInputSelector="",this.onCancel=()=>{},this.onApply=()=>!0,this.onHide=()=>{},this.onShow=()=>{},this.onDispose=()=>{},this.onVisibilityChanged=this.addEvent(),this.onFooterActionsCreated=this.addEvent(),this.onRecalculatePosition=this.addEvent(),this.contentComponentName=e,this.contentComponentData=t,n)for(var r in n)this[r]=n[r]}get isVisible(){return this.getPropertyValue("isVisible",!1)}set isVisible(e){this.isVisible!==e&&(this.setPropertyValue("isVisible",e),this.onVisibilityChanged.fire(this,{model:this,isVisible:e}))}toggleVisibility(){this.isVisible=!this.isVisible}show(){this.isVisible||(this.isVisible=!0)}hide(){this.isVisible&&(this.isVisible=!1)}recalculatePosition(e){this.onRecalculatePosition.fire(this,{isResetHeight:e})}updateFooterActions(e){const t={actions:e};return this.onFooterActionsCreated.fire(this,t),t.actions}getDisplayMode(){if(this.isModal)return this.displayMode==="popup"?"modal-popup":"modal-overlay";if(this.displayMode==="popup")return"menu-popup";{let e;switch(this.overlayDisplayMode){case"plain":{e="menu-popup";break}case"dropdown-overlay":{e="menu-overlay";break}case"tablet-dropdown-overlay":{e="menu-popup-overlay";break}case"auto":{Gi?e="menu-popup-overlay":e="menu-popup";break}}return e}}updateDisplayMode(e){let t,n;switch(e){case"dropdown":{t="popup",n="auto";break}case"popup":{t="overlay",n="tablet-dropdown-overlay";break}case"overlay":{t="overlay",n="dropdown-overlay";break}}if(this.displayMode!==t){const r=e==="dropdown";this.setWidthByTarget=r,this.isFocusedContent=!r}return this.displayMode!==t||this.overlayDisplayMode!==n?(this.displayMode=t,this.overlayDisplayMode=n,!0):!1}onHiding(){this.refreshInnerModel(),this.onHide()}dispose(){super.dispose(),this.onDispose()}}W([G()],Qr.prototype,"contentComponentName",void 0);W([G()],Qr.prototype,"contentComponentData",void 0);W([G({defaultValue:"bottom"})],Qr.prototype,"verticalPosition",void 0);W([G({defaultValue:"left"})],Qr.prototype,"horizontalPosition",void 0);W([G({defaultValue:!0})],Qr.prototype,"showPointer",void 0);W([G({defaultValue:!1})],Qr.prototype,"isModal",void 0);W([G({defaultValue:!0})],Qr.prototype,"canShrink",void 0);W([G({defaultValue:!0})],Qr.prototype,"isFocusedContent",void 0);W([G({defaultValue:!0})],Qr.prototype,"isFocusedContainer",void 0);W([G({defaultValue:""})],Qr.prototype,"cssClass",void 0);W([G({defaultValue:""})],Qr.prototype,"title",void 0);W([G({defaultValue:"auto"})],Qr.prototype,"overlayDisplayMode",void 0);W([G({defaultValue:"popup"})],Qr.prototype,"displayMode",void 0);W([G({defaultValue:"flex"})],Qr.prototype,"positionMode",void 0);function MPe(i,e,t){var n;const r=e.onSelectionChanged;e.onSelectionChanged=(l,...u)=>{a.hasTitle&&(a.title=l.title),r&&r(l,u)};const s=R$(e,t);s.getTargetCallback=FPe;const o=Object.assign({},i,{component:"sv-action-bar-item-dropdown",popupModel:s,action:(l,u)=>{i.action&&i.action(),s.isFocusedContent=s.isFocusedContent||!u,s.show()}}),a=new Xt(o);return a.data=(n=s.contentComponentData)===null||n===void 0?void 0:n.model,a}function R$(i,e){i.listRole||(i.listRole="menu"),i.listItemRole||(i.listItemRole=i.allowSelection?"menuitemradio":"menuitem");const t=new Ni(i);t.onSelectionChanged=s=>{i.onSelectionChanged&&i.onSelectionChanged(s),r.hide()};const n=e||{};n.onDispose=()=>{t.dispose()};const r=new Qr("sv-list",{model:t},n);return r.isFocusedContent=t.showFilter,r.onShow=()=>{n.onShow&&n.onShow(),t.scrollToSelectedItem()},r}function FPe(i){return i==null?void 0:i.previousElementSibling}class si extends Ut{constructor(){super(...arguments),this.rendredIdValue=si.getNextRendredId()}static getNextRendredId(){return si.renderedId++}get data(){return this._data}set data(e){this._data=e}addVisibilityChangedCallback(e){}removeVisibilityChangedCallback(e){}get renderedId(){return this.rendredIdValue}get owner(){return this.ownerValue}set owner(e){e!==this.owner&&(this.ownerValue=e,this.locStrsChanged())}get visible(){return this.getVisible()}set visible(e){this.setVisible(e)}get enabled(){return this.getEnabled()}set enabled(e){this.setEnabled(e)}get component(){return this.getComponent()}set component(e){this.setComponent(e)}get locTitle(){return this.getLocTitle()}set locTitle(e){this.setLocTitle(e)}get title(){return this.getTitle()}set title(e){this.setTitle(e)}set cssClasses(e){this.cssClassesValue=e}get cssClasses(){return this.cssClassesValue||$a}get isVisible(){return this.visible&&this.mode!=="popup"&&this.mode!=="removed"}get disabled(){return this.enabled!==void 0&&!this.enabled}get canShrink(){return!this.disableShrink&&!!this.iconName}get hasTitle(){return(this.mode!="small"&&(this.showTitle||this.showTitle===void 0)||!this.iconName)&&!!this.title}get hasSubItems(){return!!this.items&&this.items.length>0}getActionBarItemTitleCss(){return new Ie().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()}getActionBarItemCss(){const e=this.hasTitle;return new Ie().append(this.cssClasses.item).append(this.cssClasses.itemWithTitle,e).append(this.cssClasses.itemAsIcon,!e).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()}getActionRootCss(){return new Ie().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()}getTooltip(){return this.tooltip||this.title}getIsTrusted(e){return e.originalEvent?e.originalEvent.isTrusted:e.isTrusted}showPopup(){this.popupModel&&this.popupModel.show()}hidePopup(){this.popupModel&&this.popupModel.hide()}clearPopupTimeouts(){this.showPopupTimeout&&clearTimeout(this.showPopupTimeout),this.hidePopupTimeout&&clearTimeout(this.hidePopupTimeout)}showPopupDelayed(e){this.clearPopupTimeouts(),this.showPopupTimeout=setTimeout(()=>{this.clearPopupTimeouts(),this.showPopup()},e)}hidePopupDelayed(e){var t;!((t=this.popupModel)===null||t===void 0)&&t.isVisible?(this.clearPopupTimeouts(),this.hidePopupTimeout=setTimeout(()=>{this.clearPopupTimeouts(),this.hidePopup(),this.isHovered=!1},e)):(this.clearPopupTimeouts(),this.isHovered=!1)}}si.renderedId=1;W([G()],si.prototype,"tooltip",void 0);W([G()],si.prototype,"showTitle",void 0);W([G()],si.prototype,"innerCss",void 0);W([G()],si.prototype,"active",void 0);W([G()],si.prototype,"pressed",void 0);W([G()],si.prototype,"popupModel",void 0);W([G()],si.prototype,"needSeparator",void 0);W([G()],si.prototype,"template",void 0);W([G({defaultValue:"large"})],si.prototype,"mode",void 0);W([G()],si.prototype,"visibleIndex",void 0);W([G()],si.prototype,"disableTabStop",void 0);W([G()],si.prototype,"disableShrink",void 0);W([G()],si.prototype,"disableHide",void 0);W([G({defaultValue:!1})],si.prototype,"needSpace",void 0);W([G()],si.prototype,"ariaChecked",void 0);W([G()],si.prototype,"ariaExpanded",void 0);W([G({defaultValue:"button"})],si.prototype,"ariaRole",void 0);W([G()],si.prototype,"iconName",void 0);W([G({defaultValue:24})],si.prototype,"iconSize",void 0);W([G()],si.prototype,"markerIconName",void 0);W([G()],si.prototype,"css",void 0);W([G({defaultValue:!1})],si.prototype,"isPressed",void 0);W([G({defaultValue:!1})],si.prototype,"isHovered",void 0);class Xt extends si{constructor(e){super(),this.locTitleChanged=()=>{const r=this.locTitle.renderedHtml;this.setPropertyValue("_title",r||void 0)},this.needUpdateMaxDimension=!1,this.needUpdateMinDimension=!1;const t=e instanceof Xt?e.innerItem:e;if(this.innerItem=t,this.locTitle=t?t.locTitle:null,t)for(var n in t)n==="locTitle"||n==="title"&&this.locTitle&&this.title||(this[n]=t[n]);this.locTitleName&&this.locTitleChanged(),this.locStrChangedInPopupModel()}createLocTitle(){return this.createLocalizableString("title",this,!0)}setSubItems(e){this.markerIconName="icon-next_16x16",this.component=this.getGroupComponentName(),this.items=[...e.items],this.popupModel?this.popupModel.contentComponentData.model.setItems(this.items):this.createPopupForSubitems(e)}createPopupForSubitems(e){const t=Object.assign({},e);t.searchEnabled=!1;const n=R$(t,{horizontalPosition:"right",showPointer:!1,canShrink:!1});n.cssClass="sv-popup-inner",this.popupModel=n}getLocTitle(){return this.locTitleValue}setLocTitle(e){!e&&!this.locTitleValue&&(e=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=e,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()}getTitle(){return this._title}setTitle(e){this._title=e}get locTitleName(){return this.locTitle.localizationName}set locTitleName(e){this.locTitle.localizationName=e}locStrsChanged(){super.locStrsChanged(),this.locTooltipChanged(),this.locStrChangedInPopupModel()}doAction(e){const t=e.originalEvent?e.originalEvent:e;return this.action(this,t.isTrusted),t.preventDefault(),t.stopPropagation(),!0}doMouseDown(e){this.isMouseDown=!0}doFocus(e){if(this.onFocus){const t=e.originalEvent?e.originalEvent:e;this.onFocus(this.isMouseDown,t)}this.isMouseDown=!1}locStrChangedInPopupModel(){if(!this.popupModel||!this.popupModel.contentComponentData||!this.popupModel.contentComponentData.model)return;const e=this.popupModel.contentComponentData.model;Array.isArray(e.actions)&&e.actions.forEach(n=>{n.locStrsChanged&&n.locStrsChanged()})}locTooltipChanged(){this.locTooltipName&&(this.tooltip=ur(this.locTooltipName,this.locTitle.locale))}getLocale(){return this.owner?this.owner.getLocale():""}getMarkdownHtml(e,t,n){return this.owner?this.owner.getMarkdownHtml(e,t,n):void 0}getProcessedText(e){return this.owner?this.owner.getProcessedText(e):e}getRenderer(e){return this.owner?this.owner.getRenderer(e):null}getRendererContext(e){return this.owner?this.owner.getRendererContext(e):e}setVisible(e){this.visible!==e&&(this._visible=e)}getVisible(){return this._visible}setEnabled(e){this._enabled=e}getEnabled(){return this.enabledIf?this.enabledIf():this._enabled}setComponent(e){this._component=e}getComponent(){return this._component}getGroupComponentName(){return"sv-list-item-group"}dispose(){this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleChanged=void 0,this.action=void 0,super.dispose(),this.popupModel&&this.popupModel.dispose()}updateDimension(e,t,n){const r=e=="small"?"minDimension":"maxDimension";if(t){const s=t;s.classList.contains("sv-action--hidden")?(s.classList.remove("sv-action--hidden"),this[r]=n(t),s.classList.add("sv-action--hidden")):this[r]=n(t)}}afterRender(){this.afterRenderCallback&&this.afterRenderCallback()}updateMode(e,t){this.updateModeCallback?this.updateModeCallback(e,t):this.afterRenderCallback=()=>{this.updateModeCallback(e,t),this.afterRenderCallback=void 0}}updateDimensions(e,t,n){const r=!n||n=="large"&&this.mode!=="small"?this.mode:n;this.updateMode(r,(s,o)=>{this.updateDimension(s,o,e),n?t():this.updateMode(s!=="small"?"small":"large",(a,l)=>{this.updateDimension(a,l,e),t()})})}}W([G()],Xt.prototype,"id",void 0);W([G({defaultValue:!0})],Xt.prototype,"_visible",void 0);W([G({onSet:(i,e)=>{e.locTooltipChanged()}})],Xt.prototype,"locTooltipName",void 0);W([G()],Xt.prototype,"_enabled",void 0);W([G()],Xt.prototype,"action",void 0);W([G()],Xt.prototype,"onFocus",void 0);W([G()],Xt.prototype,"_component",void 0);W([G()],Xt.prototype,"items",void 0);W([G({onSet:(i,e)=>{e.locTitleValue.text!==i&&(e.locTitleValue.text=i)}})],Xt.prototype,"_title",void 0);class $Pe{constructor(e){this.item=e,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}setupPopupCallbacks(){const e=this.popupModel=this.item.popupModel;e&&e.registerPropertyChangedHandlers(["isVisible"],()=>{e.isVisible?this.item.pressed=!0:this.item.pressed=!1},this.funcKey)}removePopupCallbacks(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)}dispose(){this.removePopupCallbacks()}}var hc;(function(i){i[i.None=0]="None",i[i.Light=1]="Light",i[i.Hard=3]="Hard"})(hc||(hc={}));class $C extends wr{hideItemsGreaterN(e){const t=this.getActionsToHide();e=Math.max(e,this.minVisibleItemsCount-(this.visibleActions.length-t.length));const n=[];t.forEach(r=>{e<=0&&(r.mode="popup",n.push(r.innerItem)),e--}),this.hiddenItemsListModel.setItems(n)}getActionsToHide(){return this.visibleActions.filter(e=>!e.disableHide)}updateItemMode(e,t){const n=this.visibleActions;for(let r=n.length-1;r>=0;r--)t>e&&!n[r].disableShrink?(t-=n[r].maxDimension-n[r].minDimension,n[r].mode="small"):n[r].mode="large"}constructor(){super(),this.minVisibleItemsCount=0,this.isResponsivenessDisabled=!1,this.isInitialized=!1,this.dotsItem=MPe({id:"dotsItem-id"+this.id++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:ur("more")},{items:[],allowSelection:!1})}get hiddenItemsListModel(){return this.dotsItem.data}onSet(){super.onSet(),this.raiseUpdate({updateResponsivenessMode:hc.Hard})}onPush(e){super.onPush(e),this.raiseUpdate({updateResponsivenessMode:hc.Hard})}onRemove(e){super.onRemove(e),this.raiseUpdate({updateResponsivenessMode:hc.Hard})}onActionPropertyChanged(e,t){super.onActionPropertyChanged(e,t),(t.name=="_visible"||t.name=="_title")&&(e.needUpdateMaxDimension=e.visible,e.needUpdateMinDimension=e.visible,this.raiseUpdate({updateResponsivenessMode:hc.Light})),t.name=="disableHide"&&t.newValue&&e.mode=="popup"&&this.raiseUpdate({updateResponsivenessMode:hc.Light})}getRenderedActions(){const e=super.getRenderedActions();return e.length==0||e.length===1&&e[0].iconName?e:e.concat([this.dotsItem])}getAllActions(){return this.actions.concat(this.dotsItem)}getActionMinDimension(e){return e.disableShrink?e.maxDimension:e.minDimension}getVisibleItemsCount(e){let{availableSpace:t,gap:n}=e;t-=this.dotsItem.minDimension+n;let r=0;this.visibleActions[0].disableHide?t+=n:r-=n,this.visibleActions.filter(o=>o.disableHide).forEach(o=>t-=this.getActionMinDimension(o)+n);const s=this.getActionsToHide();if(s.length===1&&s[0].iconName)return 1;for(let o=0;o<s.length;o++)if(r+=this.getActionMinDimension(s[o])+n,r>t)return o}fit(e){var t;if(e.availableSpace<=0)return;e.gap=(t=e.gap)!==null&&t!==void 0?t:0;const{availableSpace:n,gap:r}=e;this.dotsItem.visible=!1;const s=this.visibleActions;let o=-1*e.gap,a=-1*e.gap;s.forEach(l=>{o+=this.getActionMinDimension(l)+r,a+=l.maxDimension+r}),n>=a?this.setActionsMode("large"):n<o?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(e)),this.dotsItem.visible=!!this.hiddenItemsListModel.actions.length):this.updateItemMode(e.availableSpace,a)}createResponsivityManager(e){return new APe(e,this)}mergeUpdateOptions(e,t){const n=super.mergeUpdateOptions(e,t);return n.updateResponsivenessMode=n.updateResponsivenessMode|t.updateResponsivenessMode,n}raiseUpdate(e){super.raiseUpdate(e)}update(e){var t;super.update(e),e.updateResponsivenessMode&&((t=this.responsivityManager)===null||t===void 0||t.update(e.updateResponsivenessMode==hc.Hard))}initResponsivityManager(e){if(this.responsivityManager){if(this.responsivityManager.container==e)return;this.responsivityManager.dispose()}this.isInitialized=!1,this.responsivityManager=this.createResponsivityManager(e),this.responsivityManager.afterInitializeCallback=()=>{this.isInitialized=!0}}resetResponsivityManager(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)}getRootStyle(){if(!this.isInitialized&&!this.isResponsivenessDisabled)return{opacity:0}}setActionsMode(e){this.actions.forEach(t=>{e=="small"&&t.disableShrink?t.mode="large":t.mode=e})}dispose(){super.dispose(),this.dotsItem.data.dispose(),this.dotsItem.dispose(),this.resetResponsivityManager()}}W([G()],$C.prototype,"isInitialized",void 0);class k${constructor(){this.cancelQueue=[]}getMsFromRule(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}reflow(e){return e.offsetHeight}getAnimationsCount(e){let t="";return getComputedStyle&&(t=getComputedStyle(e).animationName),t&&t!="none"?t.split(", ").length:0}getAnimationDuration(e){const t=getComputedStyle(e),n=t.animationDelay.split(", "),r=t.animationDuration.split(", ");let s=0;for(let o=0;o<Math.max(r.length,n.length);o++)s=Math.max(s,this.getMsFromRule(r[o%r.length])+this.getMsFromRule(n[o%n.length]));return s}addCancelCallback(e){this.cancelQueue.push(e)}removeCancelCallback(e){this.cancelQueue.indexOf(e)>=0&&this.cancelQueue.splice(this.cancelQueue.indexOf(e),1)}onAnimationEnd(e,t,n){let r,s=this.getAnimationsCount(e);const o=(l=!0)=>{t(l),clearTimeout(r),this.removeCancelCallback(o),e.removeEventListener("animationend",a)},a=l=>{l.target==l.currentTarget&&--s<=0&&o(!1)};s>0?(e.addEventListener("animationend",a),this.addCancelCallback(o),r=setTimeout(()=>{o(!1)},this.getAnimationDuration(e)+10)):t(!0)}afterAnimationRun(e,t){e&&t&&t.onAfterRunAnimation&&t.onAfterRunAnimation(e)}beforeAnimationRun(e,t){e&&t&&t.onBeforeRunAnimation&&t.onBeforeRunAnimation(e)}getCssClasses(e){return e.cssClass.replace(/\s+$/,"").split(/\s+/)}runAnimation(e,t,n){e&&(t!=null&&t.cssClass)?(this.reflow(e),this.getCssClasses(t).forEach(r=>{e.classList.add(r)}),this.onAnimationEnd(e,n,t)):n(!0)}clearHtmlElement(e,t){e&&t.cssClass&&this.getCssClasses(t).forEach(n=>{e.classList.remove(n)}),this.afterAnimationRun(e,t)}onNextRender(e,t=!1){if(!t&&Bt.isAvailable()){let n;const r=()=>{e(!0),cancelAnimationFrame(n)};n=Bt.requestAnimationFrame(()=>{n=Bt.requestAnimationFrame(()=>{e(!1),this.removeCancelCallback(r)})}),this.addCancelCallback(r)}else e(!0)}cancel(){[].concat(this.cancelQueue).forEach(t=>t()),this.cancelQueue=[]}}class BPe extends k${onEnter(e){const t=e.getAnimatedElement(),n=e.getEnterOptions?e.getEnterOptions():{};this.beforeAnimationRun(t,n),this.runAnimation(t,n,()=>{this.clearHtmlElement(t,n)})}onLeave(e,t){const n=e.getAnimatedElement(),r=e.getLeaveOptions?e.getLeaveOptions():{};this.beforeAnimationRun(n,r),this.runAnimation(n,r,s=>{t(),this.onNextRender(()=>{this.clearHtmlElement(n,r)},s)})}}class A$ extends k${runGroupAnimation(e,t,n,r,s){const o={isAddingRunning:t.length>0,isDeletingRunning:n.length>0,isReorderingRunning:r.length>0},a=t.map(_=>e.getAnimatedElement(_)),l=t.map(_=>e.getEnterOptions?e.getEnterOptions(_,o):{}),u=n.map(_=>e.getAnimatedElement(_)),c=n.map(_=>e.getLeaveOptions?e.getLeaveOptions(_,o):{}),h=r.map(_=>e.getAnimatedElement(_.item)),f=r.map(_=>e.getReorderOptions?e.getReorderOptions(_.item,_.movedForward,o):{});t.forEach((_,E)=>{this.beforeAnimationRun(a[E],l[E])}),n.forEach((_,E)=>{this.beforeAnimationRun(u[E],c[E])}),r.forEach((_,E)=>{this.beforeAnimationRun(h[E],f[E])});let m=t.length+n.length+h.length;const b=_=>{--m<=0&&(s&&s(),this.onNextRender(()=>{t.forEach((E,k)=>{this.clearHtmlElement(a[k],l[k])}),n.forEach((E,k)=>{this.clearHtmlElement(u[k],c[k])}),r.forEach((E,k)=>{this.clearHtmlElement(h[k],f[k])})},_))};t.forEach((_,E)=>{this.runAnimation(a[E],l[E],b)}),n.forEach((_,E)=>{this.runAnimation(u[E],c[E],b)}),r.forEach((_,E)=>{this.runAnimation(h[E],f[E],b)})}}class C5{constructor(e,t,n){this.animationOptions=e,this.update=t,this.getCurrentValue=n,this._debouncedSync=T$(r=>{this.cancelAnimations();try{this._sync(r)}catch{this.update(r)}})}onNextRender(e,t){const n=this.animationOptions.getRerenderEvent();if(n){const r=()=>{n.remove(s),this.cancelCallback=void 0},s=(o,a)=>{a.isCancel?t&&t():e(),r()};this.cancelCallback=()=>{t&&t(),r()},n.add(s)}else if(Bt.isAvailable()){const r=Bt.requestAnimationFrame(()=>{e(),this.cancelCallback=void 0});this.cancelCallback=()=>{t&&t(),cancelAnimationFrame(r),this.cancelCallback=void 0}}else throw new Error("Can't get next render")}sync(e){this.animationOptions.isAnimationEnabled()?this._debouncedSync.run(e):(this.cancel(),this.update(e))}cancel(){this._debouncedSync.cancel(),this.cancelAnimations()}cancelAnimations(){this.cancelCallback&&this.cancelCallback(),this.animation.cancel()}}class V$ extends C5{constructor(){super(...arguments),this.animation=new BPe}_sync(e){e!==this.getCurrentValue()?e?(this.onNextRender(()=>{this.animation.onEnter(this.animationOptions)}),this.update(e)):this.animation.onLeave(this.animationOptions,()=>{this.update(e)}):this.update(e)}}class ph extends C5{constructor(){super(...arguments),this.animation=new A$}_sync(e){var t,n;e=[].concat(e);const r=[].concat(this.getCurrentValue()),s=(t=this.animationOptions.allowSyncRemovalAddition)!==null&&t!==void 0?t:!0;let o=iRe(r,e,(n=this.animationOptions.getKey)!==null&&n!==void 0?n:f=>f);!s&&(o.reorderedItems.length>0||o.addedItems.length>0)&&(o.deletedItems=[],o.mergedItems=e),this.animationOptions.onCompareArrays&&this.animationOptions.onCompareArrays(o);let{addedItems:a,reorderedItems:l,deletedItems:u,mergedItems:c}=o;const h=()=>{this.animation.runGroupAnimation(this.animationOptions,a,u,l,()=>{u.length>0&&this.update(e)})};[a,u,l].some(f=>f.length>0)?u.length<=0||l.length>0||a.length>0?(this.onNextRender(h,()=>{this.update(e)}),this.update(c)):h():this.update(e)}}class L$ extends C5{constructor(e,t,n,r){super(e,t,n),this.mergeValues=r,this.animation=new A$}_sync(e){const t=[].concat(this.getCurrentValue());if(t[0]!==e[0]){const n=this.mergeValues?this.mergeValues(e,t):[].concat(t,e);this.onNextRender(()=>{this.animation.runGroupAnimation(this.animationOptions,e,t,[],()=>{this.update(e)})},()=>this.update(e)),this.update(n,!0)}else this.update(e)}}class BC extends Ut{constructor(){super(),this.createLocTitleProperty()}createLocTitleProperty(){return this.createLocalizableString("title",this,!0)}get isPage(){return!1}get isPanel(){return!1}get isQuestion(){return!1}get isSurvey(){return!1}get title(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())}set title(e){this.setTitleValue(e)}get locTitle(){return this.getLocalizableString("title")}get locRenderedTitle(){return this.locTitle}getDefaultTitleValue(){}setTitleValue(e){this.setLocalizableStringText("title",e)}get hasDescription(){return this.getPropertyValue("hasDescription",void 0,()=>this.calcDescriptionVisibility())}set hasDescription(e){this.setPropertyValue("hasDescription",e)}calcDescriptionVisibility(){const e=this.description;let t=!1;if(this.isDesignMode){const n=me.findProperty(this.getType(),"description");t=!!(n!=null&&n.placeholder)}return!!e||t&&this.isDesignMode}resetDescriptionVisibility(){this.resetPropertyValue("hasDescription")}get locDescription(){return this.getLocalizableString("description")}get titleTagName(){let e=this.getDefaultTitleTagName();const t=this.getSurvey();return t?t.getElementTitleTagName(this,e):e}getDefaultTitleTagName(){return oe.titleTags[this.getType()]}get hasTitle(){return this.title.length>0}get hasTitleActions(){return!1}get hasTitleEvents(){return this.hasTitleActions}getTitleToolbar(){return null}getTitleOwner(){}get isTitleOwner(){return!!this.getTitleOwner()}get isTitleRenderedAsString(){return this.getIsTitleRenderedAsString()}toggleState(){}get cssClasses(){return{}}get cssTitle(){return""}get ariaTitleId(){}get ariaDescriptionId(){}get titleTabIndex(){}get titleAriaExpanded(){}get titleAriaRole(){}get ariaLabel(){return this.locTitle.renderedHtml}get titleAriaLabel(){return this.ariaLabel}getIsTitleRenderedAsString(){return!this.isTitleOwner}}W([G({localizable:!0,onSet:(i,e)=>{e.resetDescriptionVisibility()}})],BC.prototype,"description",void 0);class ni extends BC{static getProgressInfoByElements(e,t){const n=Ut.createProgressInfo();for(let r=0;r<e.length;r++){if(!e[r].isVisible)continue;const s=e[r].getProgressInfo();n.questionCount+=s.questionCount,n.answeredQuestionCount+=s.answeredQuestionCount,n.requiredQuestionCount+=s.requiredQuestionCount,n.requiredAnsweredQuestionCount+=s.requiredAnsweredQuestionCount}return t&&n.questionCount>0&&(n.requiredQuestionCount==0&&(n.requiredQuestionCount=1),n.answeredQuestionCount>0&&(n.requiredAnsweredQuestionCount=1)),n}static IsNeedScrollIntoView(e,t,n){const r=n?-1:e.getBoundingClientRect().top;let s=r<0,o=-1;if(!s&&t&&(o=e.getBoundingClientRect().left,s=o<0),!s&&Bt.isAvailable()){const a=Bt.getInnerHeight();if(s=a>0&&a<r,!s&&t){const l=Bt.getInnerWidth();s=l>0&&l<o}}return s}static ScrollIntoView(e,t,n){if(e.scrollIntoView(t),typeof n=="function"){let r=null,s=0;const o=()=>{const a=e.getBoundingClientRect().top;if(a===r){if(s++>2){n();return}}else r=a,s=0;requestAnimationFrame(o)};Bt.requestAnimationFrame(o)}}static ScrollElementToTop(e,t,n,r){return ni.ScrollElementToViewCore(e,!1,t,n,r)}static ScrollElementToViewCore(e,t,n,r,s){if(!e||!e.scrollIntoView)return s&&s(),!1;const o=ni.IsNeedScrollIntoView(e,t,n);return o?ni.ScrollIntoView(e,r,s):s&&s(),o}static GetFirstNonTextElement(e,t=!1){if(!e||!e.length||e.length==0)return null;if(t){let n=e[0];n.nodeName==="#text"&&(n.data=""),n=e[e.length-1],n.nodeName==="#text"&&(n.data="")}for(let n=0;n<e.length;n++)if(e[n].nodeName!="#text"&&e[n].nodeName!="#comment")return e[n];return null}static FocusElement(e,t,n){if(!e||!St.isAvailable())return!1;const r=t?!1:ni.focusElementCore(e,n);return r||setTimeout(()=>{ni.focusElementCore(e,n)},t?100:10),r}static focusElementCore(e,t){const{root:n}=oe.environment;if(!n&&!t)return!1;const r=t?t.querySelector(`#${CSS.escape(e)}`):n.getElementById(e);return r&&!r.disabled&&r.style.display!=="none"&&r.offsetParent!==null?(ni.ScrollElementToViewCore(r,!0,!1),r.focus(),!0):!1}get effectiveColSpan(){const e=this.getPropertyValueWithoutDefault("effectiveColSpan");return e!==void 0?e:(this.setRootStyle(),this.getPropertyValue("effectiveColSpan"))}get colSpan(){return this.getPropertyValue("colSpan",1)}set colSpan(e){this.setPropertyValue("colSpan",e)}constructor(e){super(),this.selectedElementInDesignValue=this,this.disableDesignActions=ni.CreateDisabledDesignElements,this.parentQuestionValue=null,this.isContentElement=!1,this.isEditableTemplateElement=!1,this.isInteractiveDesignElement=!0,this.isSingleInRow=!0,this._renderedIsExpanded=!0,this._isAnimatingCollapseExpand=!1,this.animationCollapsed=new V$(this.getExpandCollapseAnimationOptions(),t=>{this._renderedIsExpanded=t,this.animationAllowed&&(t?this.isAnimatingCollapseExpand=!0:this.updateElementCss(!1))},()=>this.renderedIsExpanded),this.onAfterRenderElement=this.addEvent(),this.setPropertyValueDirectly("name",this.getValidName(e)),this.createNewArray("errors"),this.createNewArray("titleActions"),this.registerPropertyChangedHandlers(["isReadOnly"],()=>{this.onReadOnlyChanged()}),this.registerPropertyChangedHandlers(["errors"],()=>{this.updateVisibleErrors()}),this.registerPropertyChangedHandlers(["isSingleInRow"],()=>{this.updateElementCss(!1)}),this.registerPropertyChangedHandlers(["minWidth","maxWidth","renderWidth","allowRootStyle","parent"],()=>{this.updateRootStyle()}),this.registerPropertyChangedHandlers(["effectiveColSpan"],t=>{this.colSpan=t})}onPropertyValueChanged(e,t,n){super.onPropertyValueChanged(e,t,n),e==="state"&&(this.updateElementCss(!1),this.notifyStateChanged(t),this.stateChangedCallback&&this.stateChangedCallback())}getSkeletonComponentNameCore(){return this.survey?this.survey.getSkeletonComponentName(this):"sv-skeleton"}get parentQuestion(){return this.parentQuestionValue}setParentQuestion(e){this.parentQuestionValue=e,this.onParentQuestionChanged()}onParentQuestionChanged(){}updateElementVisibility(){this.setPropertyValue("isVisible",this.isVisible)}get skeletonComponentName(){return this.getSkeletonComponentNameCore()}get state(){return this.getPropertyValue("state")}set state(e){this.setPropertyValue("state",e),this.renderedIsExpanded=!this.isCollapsed}notifyStateChanged(e){this.survey&&this.survey.elementContentVisibilityChanged(this)}get isCollapsed(){return this.state==="collapsed"&&!this.isDesignMode}get isExpanded(){return this.state==="expanded"}collapse(){this.isDesignMode||(this.state="collapsed")}expand(){this.state="expanded"}toggleState(){return this.isCollapsed?(this.expand(),!0):this.isExpanded?(this.collapse(),!1):!0}get hasStateButton(){return this.isExpanded||this.isCollapsed}get shortcutText(){return this.title||this.name}getTitleToolbar(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.locOwner=this,this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions()),this.titleToolbarValue.flushUpdates()),this.titleToolbarValue}createActionContainer(e){const t=e?new $C:new wr;return this.survey&&this.survey.getCss().actionBar&&(t.cssClasses=this.survey.getCss().actionBar),t}get titleActions(){return this.getPropertyValue("titleActions")}getTitleActions(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions}getDefaultTitleActions(){return[]}updateTitleActions(){let e=this.getDefaultTitleActions();this.survey&&(e=this.survey.getUpdatedElementTitleActions(this,e)),this.setPropertyValue("titleActions",e)}locStrsChanged(){super.locStrsChanged(),this.titleToolbarValue&&this.titleToolbarValue.locStrsChanged()}get hasTitleActions(){return this.getTitleActions().length>0}get hasTitleEvents(){return this.state!==void 0&&this.state!=="default"}get titleTabIndex(){return!this.isPage&&this.state!=="default"?0:void 0}get titleAriaExpanded(){if(!(this.isPage||this.state==="default"))return this.state==="expanded"?"true":"false"}get titleAriaRole(){if(!(this.isPage||this.state==="default"))return"button"}setSurveyImpl(e,t){this.surveyImplValue=e,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.createTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null,this.textProcessorValue=null),this.survey&&(this.resetDescriptionVisibility(),this.clearCssClasses()),this.blockAnimations(),this.renderedIsExpanded=!this.isCollapsed,this.releaseAnimations()}getValueGetterContext(){const e=this.data;return e?e.getValueGetterContext():super.getValueGetterContext()}createTextProcessor(){return this.surveyImplValue.getTextProcessor()}canRunConditions(){return super.canRunConditions()&&!!this.data}getDataFilteredProperties(){var e=this.data?this.data.getFilteredProperties():{};return e.question=this,e}get surveyImpl(){return this.surveyImplValue}__setData(e){this.surveyDataValue=e}get data(){return this.surveyDataValue}get survey(){return this.getSurvey()}getSurvey(e=!1){return this.surveyValue?this.surveyValue:(this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue)}setSurveyCore(e){this.surveyValue=e,this.surveyChangedCallback&&this.surveyChangedCallback()}get skeletonHeight(){let e;return this.survey&&this.survey.skeletonHeight&&(e=this.survey.skeletonHeight+"px"),e}get isInternal(){return this.isContentElement}get areInvisibleElementsShowing(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement}get isVisible(){return!0}get isReadOnly(){return this.readOnly}get readOnly(){return this.getPropertyValue("readOnly")}set readOnly(e){this.readOnly!=e&&(this.setPropertyValue("readOnly",e),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))}onReadOnlyChanged(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()}get css(){return this.survey?this.survey.getCss():{}}get cssClassesValue(){let e=this.getPropertyValueWithoutDefault("cssClassesValue");return!e&&!this.isCssValueCalculating&&(this.isCssValueCalculating=!0,e=this.createCssClassesValue(),this.isCssValueCalculating=!1),e}createCssClassesValue(){const e=this.calcCssClasses(this.css);return this.setPropertyValue("cssClassesValue",e),this.onCalcCssClasses(e),this.updateElementCssCore(this.cssClassesValue),e}onCalcCssClasses(e){}get cssClasses(){return this.cssClassesValue,this.survey?(this.cssClassesValue||this.createCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)}get cssTitleNumber(){const e=this.cssClasses;return e.number?e.number:e.panel?e.panel.number:void 0}get cssRequiredMark(){const e=this.cssClasses;return e.requiredMark||e.panel&&e.panel.requiredMark}getCssTitleExpandableSvg(){return this.state==="default"?null:this.cssClasses.titleExpandableSvg}calcCssClasses(e){}updateElementCssCore(e){}get cssError(){return""}updateElementCss(e){this.clearCssClasses()}clearCssClasses(){this.resetPropertyValue("cssClassesValue")}getIsLoadingFromJson(){return super.getIsLoadingFromJson()?!0:this.surveyValue?this.surveyValue.isLoadingFromJson:!1}get name(){return this.getPropertyValue("name","")}set name(e){var t=this.name;this.setPropertyValue("name",this.getValidName(e)),!this.isLoadingFromJson&&t&&this.onNameChanged(t)}getValidName(e){return e}onNameChanged(e){}updateBindingValue(e,t){this.data&&!this.isTwoValueEquals(t,this.data.getValue(e))&&this.data.setValue(e,t,!1)}get errors(){return this.getPropertyValue("errors")}set errors(e){this.setPropertyValue("errors",e)}updateVisibleErrors(){for(var e=0,t=0;t<this.errors.length;t++)this.errors[t].visible&&e++;this.hasVisibleErrors=e>0}get containsErrors(){return this.getPropertyValue("containsErrors",!1)}updateContainsErrors(){this.setPropertyValue("containsErrors",this.getContainsErrors())}getContainsErrors(){return this.errors.length>0}get selectedElementInDesign(){return this.selectedElementInDesignValue}set selectedElementInDesign(e){this.selectedElementInDesignValue=e}updateCustomWidgets(){}onSurveyLoad(){}get wasRendered(){return!!this.wasRenderedValue}resetWasRendered(){this.wasRenderedValue=!1}onFirstRendering(){this.wasRendered||(this.wasRenderedValue=!0,this.onFirstRenderingCore())}onFirstRenderingCore(){}endLoadingFromJson(){super.endLoadingFromJson(),this.survey||this.onSurveyLoad()}setVisibleIndex(e){return 0}delete(e){}getLocale(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""}getMarkdownHtml(e,t,n){return this.survey?this.survey.getSurveyMarkdownHtml(this,e,t,n):this.locOwner?this.locOwner.getMarkdownHtml(e,t,n):void 0}getRenderer(e){return this.survey&&typeof this.survey.getRendererForString=="function"?this.survey.getRendererForString(this,e):this.locOwner&&typeof this.locOwner.getRenderer=="function"?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.survey&&typeof this.survey.getRendererContextForString=="function"?this.survey.getRendererContextForString(this,e):this.locOwner&&typeof this.locOwner.getRendererContext=="function"?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.isLoadingFromJson?e:this.textProcessor?this.textProcessor.processText(e,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(e):e}getUseDisplayValuesInDynamicTexts(){return!0}removeSelfFromList(e){if(!e||!Array.isArray(e))return;const t=e.indexOf(this);t>-1&&e.splice(t,1)}get textProcessor(){return this.textProcessorValue}getProcessedHtml(e){return!e||!this.textProcessor?e:this.textProcessor.processText(e,!0)}onSetData(){}get parent(){return this.getPropertyValue("parent",null)}set parent(e){this.setPropertyValue("parent",e)}getPage(e){for(;e&&e.parent;)e=e.parent;return e&&e.isPage?e:null}moveToBase(e,t,n=null){if(!t)return!1;e.removeElement(this);let r=-1;return se.isNumber(n)&&(r=parseInt(n)),r==-1&&n&&n.getType&&(r=t.indexOf(n)),t.addElement(this,r),!0}setPage(e,t){const n=this.getPage(e);this.prevSurvey=this.survey,typeof t=="string"&&this.getSurvey().pages.forEach(s=>{t===s.name&&(t=s)}),n!==t&&(e&&e.removeElement(this),t&&t.addElement(this,-1),this.prevSurvey=void 0)}getSearchableLocKeys(e){e.push("title"),e.push("description")}get hasParent(){return this.parent&&!this.parent.isPage||this.parent===void 0}shouldAddRunnerStyles(){return!this.isDesignMode}get isCompact(){return this.survey&&this.survey.isCompact}canHaveFrameStyles(){var e;return((e=this.survey)===null||e===void 0?void 0:e.currentSingleElement)===this?!0:this.parent!==void 0&&(!this.hasParent||this.parent&&this.parent.showPanelAsPage)}getHasFrameV2(){return this.shouldAddRunnerStyles()&&this.canHaveFrameStyles()}getIsNested(){return this.shouldAddRunnerStyles()&&!this.canHaveFrameStyles()}getCssRoot(e){const t=!!this.isCollapsed||!!this.isExpanded;return new Ie().append(e.withFrame,this.getHasFrameV2()&&!this.isCompact).append(e.compact,this.isCompact&&this.getHasFrameV2()).append(e.collapsed,!!this.isCollapsed).append(e.expandableAnimating,t&&this.isAnimatingCollapseExpand).append(e.expanded,!!this.isExpanded&&this.renderedIsExpanded).append(e.expandable,t).append(e.nested,this.getIsNested()).toString()}get width(){return this.getPropertyValue("width","")}set width(e){this.setPropertyValue("width",e)}get minWidth(){return this.getPropertyValue("minWidth")}set minWidth(e){this.setPropertyValue("minWidth",e)}get maxWidth(){return this.getPropertyValue("maxWidth")}set maxWidth(e){this.setPropertyValue("maxWidth",e)}get renderWidth(){return this.getPropertyValue("renderWidth","")}set renderWidth(e){this.setPropertyValue("renderWidth",e)}get indent(){return this.getPropertyValue("indent")}set indent(e){this.setPropertyValue("indent",e)}get rightIndent(){return this.getPropertyValue("rightIndent",0)}set rightIndent(e){this.setPropertyValue("rightIndent",e)}getRootStyle(){const e={};return this.paddingLeft&&(e["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(e["--sv-element-add-padding-right"]=this.paddingRight),e}get paddingLeft(){return this.getPropertyValue("paddingLeft",void 0,()=>this.calcPaddingLeft())}calcPaddingLeft(){return""}get paddingRight(){return this.getPropertyValue("paddingRight",void 0,()=>this.calcPaddingRight())}set paddingRight(e){this.setPropertyValue("paddingRight",e)}calcPaddingRight(){return""}resetIndents(){this.resetPropertyValue("paddingLeft"),this.resetPropertyValue("paddingRight")}get rootStyle(){return this.getPropertyValue("rootStyle",void 0,()=>this.calcRootStyle())}set rootStyle(e){this.setPropertyValue("rootStyle",e)}updateRootStyle(){this.getPropertyValueWithoutDefault("rootStyle")?this.setRootStyle():this.resetPropertyValue("effectiveColSpan")}setRootStyle(){this.rootStyle=this.calcRootStyle()}calcRootStyle(){const e={};let t;if(this.parent&&(t=this.parent.getColumsForElement(this).reduce((r,s)=>s.effectiveWidth+r,0),t&&t!==100&&(e.flexGrow=1,e.flexShrink=0,e.flexBasis=t+"%",e.minWidth=void 0,e.maxWidth=this.maxWidth)),Object.keys(e).length==0){let n=""+this.minWidth;if(n&&n!="auto"){if(n.indexOf("px")!=-1&&this.survey){n=n.replace("px","");let r=parseFloat(n);isNaN(r)||(n=r*this.survey.widthScale/100,n=""+n+"px")}n="min(100%, "+n+")"}this.allowRootStyle&&this.renderWidth&&(e.flexGrow=1,e.flexShrink=1,e.flexBasis=this.renderWidth,e.minWidth=n,e.maxWidth=this.maxWidth)}return e}isContainsSelection(e){let t;const n=St.getDocument();if(St.isAvailable()&&n&&n.selection)t=n.selection.createRange().parentElement();else{var r=Bt.getSelection();if(r&&r.rangeCount>0){const s=r.getRangeAt(0);s.startOffset!==s.endOffset&&(t=s.startContainer.parentNode)}}return t==e}get clickTitleFunction(){if(this.needClickTitleFunction())return e=>{if(!(e&&this.isContainsSelection(e.target)))return this.processTitleClick()}}needClickTitleFunction(){return this.state!=="default"}processTitleClick(){this.state!=="default"&&this.toggleState()}get hasAdditionalTitleToolbar(){return!1}get additionalTitleToolbar(){return this.getAdditionalTitleToolbar()}getAdditionalTitleToolbar(){return null}getCssTitle(e){if(!e)return"";const t=this.state!=="default";return new Ie().append(e.title).append(e.titleNumInline,(this.no||"").length>4||t).append(e.titleExpandable,t).append(e.titleExpanded,this.isExpanded).append(e.titleCollapsed,this.isCollapsed).append(e.titleDisabled,this.isDisabledStyle).append(e.titleReadOnly,this.isReadOnly).append(e.titleOnError,this.containsErrors).toString()}get isDisabledStyle(){return this.getIsDisableAndReadOnlyStyles(!1)[1]}get isReadOnlyStyle(){return this.getIsDisableAndReadOnlyStyles(!1)[0]}getIsDisableAndReadOnlyStyles(e){const t=this.isPreviewStyle;return[(e||this.isReadOnly)&&!t,!1]}get isPreviewStyle(){return!!this.survey&&this.survey.state==="preview"}localeChanged(){super.localeChanged(),this.resetDescriptionVisibility(),this.errors.length>0&&this.errors.forEach(e=>{e.updateText()})}setWrapperElement(e){this.wrapperElement=e}getWrapperElement(){return this.wrapperElement}set isAnimatingCollapseExpand(e){e!==this._isAnimatingCollapseExpand&&(this._isAnimatingCollapseExpand=e,this.updateElementCss(!1))}get isAnimatingCollapseExpand(){return this._isAnimatingCollapseExpand||this._renderedIsExpanded!=this.isExpanded}onElementExpanded(e){}getExpandCollapseAnimationOptions(){const e=n=>{this.isAnimatingCollapseExpand=!0,Su(n)},t=n=>{this.isAnimatingCollapseExpand=!1,oa(n)};return{getRerenderEvent:()=>this.onElementRerendered,getEnterOptions:()=>({cssClass:(this.isPanel?this.cssClasses.panel:this.cssClasses).contentEnter,onBeforeRunAnimation:e,onAfterRunAnimation:r=>{t(r),this.onElementExpanded(!0)}}),getLeaveOptions:()=>({cssClass:(this.isPanel?this.cssClasses.panel:this.cssClasses).contentLeave,onBeforeRunAnimation:e,onAfterRunAnimation:t}),getAnimatedElement:()=>{var n;const r=this.isPanel?this.cssClasses.panel:this.cssClasses;if(r.content){const s=ko(r.content);if(s)return(n=this.getWrapperElement())===null||n===void 0?void 0:n.querySelector(`:scope ${s}`)}},isAnimationEnabled:()=>this.isExpandCollapseAnimationEnabled}}get isExpandCollapseAnimationEnabled(){return this.animationAllowed&&!this.isDesignMode}set renderedIsExpanded(e){const t=this._renderedIsExpanded;this.animationCollapsed.sync(e),!this.isExpandCollapseAnimationEnabled&&!t&&this.renderedIsExpanded&&this.onElementExpanded(!1)}get renderedIsExpanded(){return!!this._renderedIsExpanded}getIsAnimationAllowed(){return super.getIsAnimationAllowed()&&!!this.survey&&!this.survey.isEndLoadingFromJson}afterRenderCore(e){this.onAfterRenderElement.fire(this,{htmlElement:e})}dispose(){super.dispose(),this.titleToolbarValue&&this.titleToolbarValue.dispose()}}ni.CreateDisabledDesignElements=!1;W([G({defaultValue:!1})],ni.prototype,"hasVisibleErrors",void 0);W([G({defaultValue:!0})],ni.prototype,"isSingleInRow",void 0);W([G({defaultValue:!0})],ni.prototype,"allowRootStyle",void 0);W([G()],ni.prototype,"_renderedIsExpanded",void 0);class qPe{constructor(e,t,n=100){this._elements=e,this._renderedHandler=t,this._elementsToRenderCount=0,this._elementsToRenderTimer=void 0,this._elementRenderedHandler=(r,s)=>{var o;(o=r.onAfterRenderElement)===null||o===void 0||o.remove(this._elementRenderedHandler),this._elementsToRenderCount--,this._elementsToRenderCount<=0&&this.visibleElementsRendered()},this._elements.forEach(r=>{r.onAfterRenderElement&&(r.onAfterRenderElement.add(this._elementRenderedHandler),this._elementsToRenderCount++)}),this._elementsToRenderCount>0?this._elementsToRenderTimer=setTimeout(()=>{this._elementsToRenderCount>0&&this.visibleElementsRendered()},n):this.visibleElementsRendered()}stopWaitingForElementsRendering(){this._elementsToRenderTimer&&(clearTimeout(this._elementsToRenderTimer),this._elementsToRenderTimer=void 0),this._elements.forEach(e=>{var t;(t=e.onAfterRenderElement)===null||t===void 0||t.remove(this._elementRenderedHandler)}),this._elementsToRenderCount=0}visibleElementsRendered(){const e=this._renderedHandler;this.dispose(),typeof e=="function"&&e()}dispose(){this.stopWaitingForElementsRendering(),this._elements=void 0,this._renderedHandler=void 0}}class Ar{static get defaultLocale(){return oe.localization.defaultLocaleName}static set defaultLocale(e){oe.localization.defaultLocaleName=e}get localizationName(){return this._localizationName}set localizationName(e){this._localizationName!=e&&(this._localizationName=e,this.strChanged())}get allowLineBreaks(){var e;return this._allowLineBreaks===void 0&&(this._allowLineBreaks=!1,this.name&&this.owner instanceof BC&&(this._allowLineBreaks=((e=me.findProperty(this.owner.getType(),this.name))===null||e===void 0?void 0:e.type)=="text")),this._allowLineBreaks}constructor(e,t=!1,n,r){this.owner=e,this.useMarkdown=t,this.name=n,this.values={},this.htmlValues={},this.onStringChanged=new Na,this._localizationName=r,this.onCreating()}getIsMultiple(){return!1}get locale(){if(this.owner&&this.owner.getLocale){const e=this.owner.getLocale();if(e||!this.sharedData)return e}return this.sharedData?this.sharedData.locale:""}get isDefautlLocale(){const e=this.locale;return!e||e===oe.defaultLocaleName}strChanged(){this.isTextRequested&&(this.searchableText=void 0,!(this.renderedText===void 0&&this.isEmpty&&!this.onGetTextCallback&&!this.localizationName)&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{})))}get text(){return this.pureText}set text(e){this.setLocaleText(this.locale,e)}get calculatedText(){return this.renderedText=this.calculatedTextValue!==void 0?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText}getPlaceholder(){let e="";if(!this.isDefautlLocale){const t=this.getRootDialect(this.locale);e=this.getLocaleText(t||oe.defaultLocaleName)}return!e&&this.onGetTextCallback&&(e=this.onGetTextCallback("","")),e}calcText(){const e=this.pureText;let t=e;return t&&this.owner&&this.owner.getProcessedText&&t.indexOf("{")>-1&&(t=this.owner.getProcessedText(t)),this.onGetTextCallback&&(t=this.onGetTextCallback(t,e)),t}get pureText(){this.isTextRequested=!0;var e=this.locale;e||(e=this.defaultLoc);var t=this.getValue(e);if(this.isValueEmpty(t)&&e===this.defaultLoc&&(t=this.getValue(To.defaultLocale)),this.isValueEmpty(t)){const n=this.getRootDialect(e);n&&(t=this.getValue(n))}return this.isValueEmpty(t)&&e!==this.defaultLoc&&(t=this.getValue(this.defaultLoc)),this.isValueEmpty(t)&&this.getLocalizationName()&&(t=this.getLocalizationStr()),t||(t=this.defaultValue||""),t}getRootDialect(e){if(!e)return e;const t=e.indexOf("-");return t>-1?e.substring(0,t):""}getLocalizationName(){return this.sharedData?this.sharedData.localizationName:this.localizationName}getLocalizationStr(){const e=this.getLocalizationName();return e?ur(e,this.locale):""}get hasHtml(){return this.hasHtmlValue()}get html(){return this.hasHtml?this.getHtmlValue():""}get isEmpty(){return this.getValuesKeys().length==0}get textOrHtml(){return this.hasHtml?this.getHtmlValue():this.calculatedText}get renderedHtml(){return this.textOrHtml}getLocaleText(e){const t=this.getLocaleTextCore(e);return t||""}getLocaleTextCore(e){return e||(e=this.defaultLoc),this.getValue(e)}isLocaleTextEqualsWithDefault(e,t){let n=this.getLocaleTextCore(e);return n===t?!0:this.isValueEmpty(n)&&this.isValueEmpty(t)}clear(){this.setJson(void 0)}clearLocale(e){this.setLocaleText(e,void 0)}setLocaleText(e,t){if(e=this.getValueLoc(e),this.lastChangedLoc=e,e&&t===void 0){const s=this.getValue(e);s!==void 0&&(this.deleteValue(e),this.fireStrChanged(e,s));return}if(!this.storeDefaultText&&this.isLocaleTextEqualsWithDefault(e,t)){if(!this.isValueEmpty(t)||e&&e!==this.defaultLoc)return;let s=To.defaultLocale,o=this.getValue(s);s&&!this.isValueEmpty(o)&&(this.setValue(s,t),this.fireStrChanged(s,o));return}if(!(!oe.localization.storeDuplicatedTranslations&&!this.isValueEmpty(t)&&e&&e!=this.defaultLoc&&!this.getValue(e)&&t==this.getLocaleText(this.defaultLoc))){var n=this.curLocale;e||(e=this.defaultLoc);var r=this.onStrChanged&&e===n?this.pureText:void 0;delete this.htmlValues[e],this.isValueEmpty(t)?this.deleteValue(e):typeof t=="string"&&(this.canRemoveLocValue(e,t)?this.setLocaleText(e,null):(this.setValue(e,t),e==this.defaultLoc&&this.deleteValuesEqualsToDefault(t))),this.fireStrChanged(e,r)}}isValueEmpty(e){return e==null?!0:this.localizationName?!1:e===""}get curLocale(){return this.locale?this.locale:this.defaultLoc}canRemoveLocValue(e,t){if(oe.localization.storeDuplicatedTranslations||e===this.defaultLoc)return!1;const n=this.getRootDialect(e);if(n){const r=this.getLocaleText(n);return r?r==t:this.canRemoveLocValue(n,t)}else return t==this.getLocaleText(this.defaultLoc)}fireStrChanged(e,t){if(this.strChanged(),!this.onStrChanged)return;const n=this.pureText;(e!==this.curLocale||t!==n)&&this.onStrChanged(t,n)}hasNonDefaultText(){var e=this.getValuesKeys();return e.length==0?!1:e.length>1||e[0]!=this.defaultLoc}getLocales(){var e=this.getValuesKeys();return e.length==0?[]:e}getJson(){if(this.sharedData)return this.sharedData.getJson();const e=this.getValuesKeys();if(e.length==0){if(this.serializeCallBackText){const n=this.calcText();if(n)return n}return null}if(e.length==1&&e[0]==oe.localization.defaultLocaleName&&!oe.serialization.localizableStringSerializeAsObject)return this.values[e[0]];const t={};for(let n in this.values)t[n]=this.values[n];return t}setJson(e,t){if(this.sharedData){this.sharedData.setJson(e,t);return}if(this.lastChangedLoc=void 0,this.values={},this.htmlValues={},e!=null)if(t)typeof e=="string"?this.values[oe.defaultLocaleName]=e:(this.values=e,delete this.values.pos);else{if(typeof e=="string")this.setLocaleText(null,e);else for(var n in e)this.setLocaleText(n,e[n]);this.strChanged()}}get renderAs(){return!this.owner||typeof this.owner.getRenderer!="function"?Ar.defaultRenderer:this.owner.getRenderer(this.name)||Ar.defaultRenderer}get renderAsData(){return!this.owner||typeof this.owner.getRendererContext!="function"?this:this.owner.getRendererContext(this)||this}equals(e){return this.sharedData?this.sharedData.equals(e):!e||!e.values?!1:se.isTwoValueEquals(this.values,e.values,!1,!0,!1)}setFindText(e){if(this.searchText!=e){if(this.searchText=e,!this.searchableText){let r=this.textOrHtml;this.searchableText=r?r.toLowerCase():""}var t=this.searchableText,n=t&&e?t.indexOf(e):void 0;return n<0&&(n=void 0),(n!=null||this.searchIndex!=n)&&(this.searchIndex=n,this.onSearchChanged&&this.onSearchChanged()),this.searchIndex!=null}}onChanged(){}onCreating(){}hasHtmlValue(){if(!this.owner||!this.useMarkdown)return!1;let e=this.locale;if(e||(e=this.defaultLoc),this.htmlValues[e]!==void 0)return!!this.htmlValues[e];let t=this.calculatedText;if(!t)return this.setHtmlValue(e,""),!1;if(this.getLocalizationName()&&t===this.getLocalizationStr())return this.setHtmlValue(e,""),!1;const n=this.owner.getMarkdownHtml(t,this.name);return this.setHtmlValue(e,n),!!n}setHtmlValue(e,t){this.htmlValues[e]=t}getHtmlValue(){var e=this.locale;return e||(e=this.defaultLoc),this.htmlValues[e]}deleteValuesEqualsToDefault(e){if(!oe.localization.storeDuplicatedTranslations)for(var t=this.getValuesKeys(),n=0;n<t.length;n++)t[n]!=this.defaultLoc&&this.getValue(t[n])==e&&this.deleteValue(t[n])}getValue(e){return this.sharedData?this.sharedData.getValue(e):this.values[this.getValueLoc(e)]}setValue(e,t){this.sharedData?this.sharedData.setValue(e,t):this.values[this.getValueLoc(e)]=t}deleteValue(e){this.sharedData?this.sharedData.deleteValue(e):delete this.values[this.getValueLoc(e)]}getValueLoc(e){return this.disableLocalization?oe.localization.defaultLocaleName:e}getValuesKeys(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)}get defaultLoc(){return oe.localization.defaultLocaleName}}Ar.SerializeAsObject=!1;Ar.defaultRenderer="sv-string-viewer";Ar.editableRenderer="sv-string-editor";class UPe{constructor(e){this.owner=e,this.values={}}getIsMultiple(){return!0}get locale(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""}get value(){return this.getValue("")}set value(e){this.setValue("",e)}get text(){return Array.isArray(this.value)?this.value.join(`
`):""}set text(e){this.value=e?e.split(`
`):[]}getLocaleText(e){var t=this.getValueCore(e,!e||e===this.locale);return!t||!Array.isArray(t)||t.length==0?"":t.join(`
`)}setLocaleText(e,t){var n=t?t.split(`
`):null;this.setValue(e,n)}getValue(e){return this.getValueCore(e)}getValueCore(e,t=!0){if(e=this.getLocale(e),this.values[e])return this.values[e];if(t){var n=oe.localization.defaultLocaleName;if(e!==n&&this.values[n])return this.values[n]}return[]}setValue(e,t){e=this.getLocale(e);const n=se.createCopy(this.values);!t||t.length==0?delete this.values[e]:this.values[e]=t,this.onValueChanged&&this.onValueChanged(n,this.values)}hasValue(e=""){return!this.isEmpty&&this.getValue(e).length>0}get isEmpty(){return this.getValuesKeys().length==0}getLocale(e){return e||(e=this.locale,e||oe.localization.defaultLocaleName)}getLocales(){var e=this.getValuesKeys();return e.length==0?[]:e}getJson(){var e=this.getValuesKeys();return e.length==0?null:e.length==1&&e[0]==oe.localization.defaultLocaleName&&!oe.serialization.localizableStringSerializeAsObject?this.values[e[0]]:se.createCopy(this.values)}setJson(e){if(this.values={},!!e)if(Array.isArray(e))this.setValue(null,e);else for(var t in e)this.setValue(t,e[t])}getValuesKeys(){return Object.keys(this.values)}}function HPe(i){return oe&&oe.confirmActionFunc?oe.confirmActionFunc(i):confirm(i)}function Z0(i){const e=t=>{t?i.funcOnYes():i.funcOnNo&&i.funcOnNo()};if(oe&&oe.confirmActionFunc){e(HPe(i.message));return}oe&&oe.confirmActionAsync?oe.confirmActionAsync(i.message,e,i):N$(i.message,e,i)}function $1(){if(typeof $1.isIEOrEdge>"u"){const i=navigator.userAgent,e=i.indexOf("MSIE "),t=i.indexOf("Trident/"),n=i.indexOf("Edge/");$1.isIEOrEdge=n>0||t>0||e>0}return $1.isIEOrEdge}function zPe(i,e){try{const t=atob(i.split(",")[1]),n=i.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),s=new Uint8Array(r);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);const o=new Blob([r],{type:n});navigator&&navigator.msSaveBlob&&navigator.msSaveOrOpenBlob(o,e)}catch{}}const X0=i=>!!i&&!!("host"in i&&i.host),jPe=i=>{const{root:e}=oe.environment;return typeof i=="string"?e.getElementById(i):i};function QPe(i,e=0){if(typeof oe.environment>"u"||!i.offsetHeight)return!1;const{root:t}=oe.environment,n=X0(t)?t.host.clientHeight:t.documentElement.clientHeight,r=i.getBoundingClientRect(),s=Math.max(n,Bt.getInnerHeight()),o=-e,a=s+e,l=r.top,u=r.bottom,c=Math.max(o,l),h=Math.min(a,u);return c<=h}function qC(i){if(!i)return St.isAvailable()?St.getDocument().documentElement:void 0;if(i.scrollHeight>i.clientHeight&&(getComputedStyle(i).overflowY==="scroll"||getComputedStyle(i).overflowY==="auto")||i.scrollWidth>i.clientWidth&&(getComputedStyle(i).overflowX==="scroll"||getComputedStyle(i).overflowX==="auto"))return i;if(!i.parentElement){const e=i.getRootNode();if(e instanceof Document||e instanceof ShadowRoot)return X0(e)?e.host:e.documentElement}return qC(i.parentElement)}function I2(i){if(!i)return;const e=qC(i);e&&setTimeout(()=>e.dispatchEvent(new CustomEvent("scroll")),10)}function WPe(i){const e=Bt.getLocation();!i||!e||(e.href=ZPe(i))}function w5(i){return i?["url(",i,")"].join(""):""}function GPe(i){return typeof i=="string"?/^data:((?:\w+\/(?:(?!;).)+)?)((?:;[^;]+?)*),(.+)$/.test(i):null}const O$={changecamera:"flip-24x24",clear:"clear-24x24",cancel:"cancel-24x24",closecamera:"close-24x24",defaultfile:"file-72x72",choosefile:"folder-24x24",file:"toolbox-file-24x24",left:"chevronleft-16x16",modernbooleancheckchecked:"plus-32x32",modernbooleancheckunchecked:"minus-32x32",more:"more-24x24",navmenu_24x24:"navmenu-24x24",removefile:"error-24x24",takepicture:"camera-32x32",takepicture_24x24:"camera-24x24",v2check:"check-16x16",checked:"check-16x16",v2check_24x24:"check-24x24","back-to-panel_16x16":"restoredown-16x16",clear_16x16:"clear-16x16",close_16x16:"close-16x16",collapsedetail:"collapsedetails-16x16",expanddetail:"expanddetails-16x16","full-screen_16x16":"maximize-16x16",loading:"loading-48x48",minimize_16x16:"minimize-16x16",next_16x16:"chevronright-16x16",previous_16x16:"chevronleft-16x16","no-image":"noimage-48x48","ranking-dash":"rankingundefined-16x16","drag-n-drop":"drag-24x24","ranking-arrows":"reorder-24x24",restore_16x16:"fullsize-16x16",reset:"restore-24x24",search:"search-24x24",average:"smiley-rate5-24x24",excellent:"smiley-rate9-24x24",good:"smiley-rate7-24x24",normal:"smiley-rate6-24x24","not-good":"smiley-rate4-24x24",perfect:"smiley-rate10-24x24",poor:"smiley-rate3-24x24",terrible:"smiley-rate1-24x24","very-good":"smiley-rate8-24x24","very-poor":"smiley-rate2-24x24",add_16x16:"add-16x16",add_24x24:"add-24x24",alert_24x24:"warning-24x24",apply:"apply-24x24","arrow-down":"arrowdown-24x24","arrow-left":"arrowleft-24x24","arrow-left_16x16":"arrowleft-16x16",arrowleft:"arrowleft-16x16","arrow-right":"arrowright-24x24","arrow-right_16x16":"arrowright-16x16",arrowright:"arrowright-16x16","arrow-up":"arrowup-24x24",boolean:"toolbox-boolean-24x24","change-question-type_16x16":"speechbubble-16x16",checkbox:"toolbox-checkbox-24x24","collapse-detail_16x16":"minusbox-16x16","collapse-panel":"collapse-pg-24x24",collapse_16x16:"collapse-16x16","color-picker":"dropper-16x16",comment:"toolbox-longtext-24x24",config:"wrench-24x24",copy:"copy-24x24",default:"toolbox-customquestion-24x24",delete_16x16:"delete-16x16",delete_24x24:"delete-24x24",delete:"delete-24x24","description-hide":"hidehint-16x16",description:"hint-16x16","device-desktop":"desktop-24x24","device-phone":"phone-24x24","device-rotate":"rotate-24x24","device-tablet":"tablet-24x24",download:"download-24x24","drag-area-indicator":"drag-24x24","drag-area-indicator_24x16":"draghorizontal-24x16",v2dragelement_16x16:"draghorizontal-24x16","drop-down-arrow":"chevrondown-24x24","drop-down-arrow_16x16":"chevrondown-16x16",chevron_16x16:"chevrondown-16x16",dropdown:"toolbox-dropdown-24x24",duplicate_16x16:"copy-16x16",edit:"edit-24x24",edit_16x16:"edit-16x16","editing-finish":"finishedit-24x24",error:"error-16x16","expand-detail_16x16":"plusbox-16x16","expand-panel":"expand-pg-24x24",expand_16x16:"expand-16x16",expression:"toolbox-expression-24x24","fast-entry":"textedit-24x24",fix:"fix-24x24",html:"toolbox-html-24x24",image:"toolbox-image-24x24",imagepicker:"toolbox-imagepicker-24x24",import:"import-24x24","invisible-items":"invisible-24x24",language:"language-24x24",load:"import-24x24","logic-collapse":"collapse-24x24","logic-expand":"expand-24x24",logo:"image-48x48",matrix:"toolbox-matrix-24x24",matrixdropdown:"toolbox-multimatrix-24x24",matrixdynamic:"toolbox-dynamicmatrix-24x24",multipletext:"toolbox-multipletext-24x24",panel:"toolbox-panel-24x24",paneldynamic:"toolbox-dynamicpanel-24x24",preview:"preview-24x24",radiogroup:"toolbox-radiogroup-24x24",ranking:"toolbox-ranking-24x24",rating:"toolbox-rating-24x24",slider:"toolbox-slider-24x24",redo:"redo-24x24",remove_16x16:"remove-16x16",required:"required-16x16",save:"save-24x24","select-page":"selectpage-24x24",settings:"settings-24x24",settings_16x16:"settings-16x16",signaturepad:"toolbox-signature-24x24","switch-active_16x16":"switchon-16x16","switch-inactive_16x16":"switchoff-16x16",tagbox:"toolbox-tagbox-24x24",text:"toolbox-singleline-24x24",theme:"theme-24x24",toolbox:"toolbox-24x24",undo:"undo-24x24",visible:"visible-24x24",wizard:"wand-24x24",searchclear:"clear-16x16","chevron-16x16":"chevrondown-16x16",chevron:"chevrondown-24x24",progressbuttonv2:"arrowleft-16x16",right:"chevronright-16x16","add-lg":"add-24x24",add:"add-24x24"};function KPe(i){return JPe(i)||lE(i)}function lE(i){const e="icon-",t=i.replace(e,""),n=O$[t]||t;return e+n}function JPe(i){let e=oe.customIcons[i];return e?lE(e):(i=lE(i),e=oe.customIcons[i],e||null)}function YPe(i,e,t,n,r,s){if(!r)return;i!=="auto"&&(r.style.width=(i||e||16)+"px",r.style.height=(i||t||16)+"px");const o=r.childNodes[0],a=KPe(n);o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+a);let l=r.getElementsByTagName("title")[0];if(s)l||(l=St.getDocument().createElementNS("http://www.w3.org/2000/svg","title"),r.appendChild(l));else{l&&r.removeChild(l);return}l.textContent=s}function ZPe(i){return i&&(i.toLocaleLowerCase().indexOf("javascript:")>-1?encodeURIComponent(i):i)}function gh(i){if(typeof i=="string")if(isNaN(Number(i))){if(i.includes("px"))return parseFloat(i)}else return Number(i);if(typeof i=="number")return i}function eb(i){if(gh(i)===void 0)return i}const uE="sv-focused--by-key";function D$(i){const e=i.target;!e||!e.classList||e.classList.remove(uE)}function _5(i,e){if(i.target&&i.target.contentEditable==="true")return;const t=i.target;if(!t)return;const n=i.which||i.keyCode;if(n===9){t.classList&&!t.classList.contains(uE)&&t.classList.add(uE);return}if(e){if(!e.__keyDownReceived)return;e.__keyDownReceived=!1}n===13||n===32?t.click&&t.click():(!e||e.processEsc)&&n===27&&t.blur&&t.blur()}function XPe(i,e={processEsc:!0}){if(e&&(e.__keyDownReceived=!0),i.target&&i.target.contentEditable==="true")return;var t=i.which||i.keyCode;const n=[13,32];e.processEsc&&n.push(27),n.indexOf(t)!==-1&&i.preventDefault()}function FV(i,e){if(!i)return;e||(e=n=>St.getComputedStyle(n));const t=e(i);i.style.height="auto",i.scrollHeight&&(i.style.height=i.scrollHeight+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth)+"px")}function $V(i){i.preventDefault(),i.stopPropagation()}function ko(i){if(!i)return i;const e=/\s*?([\w-]+)\s*?/g;return i.replace(e,".$1")}function cE(i){return getComputedStyle?Number.parseFloat(getComputedStyle(i).width):i.offsetWidth}function I5(i){return!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length)}function eRe(i){let e;for(let t=0;t<i.children.length;t++)!e&&getComputedStyle(i.children[t]).display!=="none"&&(e=i.children[t]);return e}function av(i,e){if(!(!e||!i)&&typeof e=="object")for(var t in i){var n=i[t];!Array.isArray(n)&&n&&typeof n=="object"?((!e[t]||typeof e[t]!="object")&&(e[t]={}),av(n,e[t])):e[t]=n}}function UC(i,e){const t={};av(e.list,t),av(i.list,t),i.list=t}function N$(i,e,t={}){const n=new Ar(void 0,!1);n.defaultValue=i||t.message;const r=oe.showDialog({componentName:"sv-string-viewer",data:{locStr:n,locString:n,model:n},onApply:()=>(e(!0),!0),onCancel:()=>(e(!1),!1),displayMode:"popup",isFocusedContent:!1,cssClass:t.cssClass||"sv-popup--confirm"},t.rootElement),s=r.footerToolbar,o=s.getActionById("apply"),a=s.getActionById("cancel");return a.title=ur("cancel",t.locale),o.title=t.applyTitle||ur("ok",t.locale),o.innerCss="sd-btn--danger",tRe(r),!0}function tRe(i){i.width="min-content"}function nRe(i,e){Bt.isFileReaderAvailable()&&(i.value="",i.onchange=t=>{if(!Bt.isFileReaderAvailable()||!i||!i.files||i.files.length<1)return;let n=[];for(let r=0;r<i.files.length;r++)n.push(i.files[r]);e(n)},i.click())}function iRe(i,e,t){const n=new Map,r=new Map,s=new Map,o=new Map;i.forEach(E=>{const k=t(E);if(!n.has(k))n.set(t(E),E);else throw new Error("keys must be unique")}),e.forEach(E=>{const k=t(E);if(!r.has(k))r.set(k,E);else throw new Error("keys must be unique")});const a=[],l=[];r.forEach((E,k)=>{n.has(k)?s.set(k,s.size):a.push(E)}),n.forEach((E,k)=>{r.has(k)?o.set(k,o.size):l.push(E)});const u=[];s.forEach((E,k)=>{const j=o.get(k),M=r.get(k);j!==E&&u.push({item:M,movedForward:j<E})});const c=new Array(i.length);let h=0;const f=Array.from(s.keys());i.forEach((E,k)=>{s.has(t(E))?(c[k]=r.get(f[h]),h++):c[k]=E});const m=new Map;let b=[];c.forEach(E=>{const k=t(E);r.has(k)?b.length>0&&(m.set(k,b),b=[]):b.push(E)});const _=new Array;return r.forEach((E,k)=>{m.has(k)&&m.get(k).forEach(j=>{_.push(j)}),_.push(E)}),b.forEach(E=>{_.push(E)}),{reorderedItems:u,deletedItems:l,addedItems:a,mergedItems:_}}function rRe(i){if(St.isAvailable()){const{paddingTop:e,paddingBottom:t,borderTopWidth:n,borderBottomWidth:r,marginTop:s,marginBottom:o,boxSizing:a}=St.getComputedStyle(i);let l=i.offsetHeight+"px";if(a=="content-box"){let u=i.offsetHeight;[r,n,t,e].forEach(c=>{u-=parseFloat(c)}),l=u+"px"}return{paddingTop:e,paddingBottom:t,borderTopWidth:n,borderBottomWidth:r,marginTop:s,marginBottom:o,heightFrom:"0px",heightTo:l}}else return}function lv(i,e,t="--animation-"){var n;i.__sv_created_properties=(n=i.__sv_created_properties)!==null&&n!==void 0?n:[],Object.keys(e).forEach(r=>{const s=`${t}${r.split(/\.?(?=[A-Z])/).join("-").toLowerCase()}`;i.style.setProperty(s,e[r]),i.__sv_created_properties.push(s)})}function Su(i){lv(i,rRe(i))}function oa(i){Array.isArray(i.__sv_created_properties)&&(i.__sv_created_properties.forEach(e=>{i.style.removeProperty(e)}),delete i.__sv_created_properties)}function sRe(i){return Math.floor(i*100)/100}const n1=typeof globalThis<"u"?globalThis.document:(void 0).document,oRe=n1?{root:n1,_rootElement:St.getBody(),get rootElement(){var i;return(i=this._rootElement)!==null&&i!==void 0?i:St.getBody()},set rootElement(i){this._rootElement=i},_popupMountContainer:St.getBody(),get popupMountContainer(){var i;return(i=this._popupMountContainer)!==null&&i!==void 0?i:St.getBody()},set popupMountContainer(i){this._popupMountContainer=i},svgMountContainer:n1.head,stylesSheetsMountContainer:n1.head}:void 0,aRe={file:{minWidth:"240px"},comment:{minWidth:"200px"}};var oe={version:"",designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(i){this.designMode.showEmptyDescriptions=i},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(i){this.designMode.showEmptyTitles=i},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(i){this.localization.useLocalTimeZone=i},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(i){this.localization.storeDuplicatedTranslations=i},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(i){this.localization.defaultLocaleName=i},web:{onBeforeRequestChoices:(i,e)=>{},encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(i){this.web.encodeUrlParams=i},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(i){this.web.cacheLoadedChoices=i},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(i){this.web.cacheLoadedChoices=i},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(i){this.web.disableQuestionWhileLoadingChoices=i},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(i){this.triggers.executeCompleteOnValueChanged=i},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(i){this.triggers.changeNavigationButtonsOnComplete=i},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(i){this.triggers.executeSkipOnValueChanged=i},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1,matrixDropdownColumnSerializeTitle:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(i){this.serialization.itemValueSerializeAsObject=i},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(i){this.serialization.itemValueSerializeDisplayText=i},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(i){this.serialization.localizableStringSerializeAsObject=i},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(i){this.lazyRender.enabled=i},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(i){this.lazyRender.firstBatchSize=i},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:aRe,rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(i){this.matrix.defaultRowName=i},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(i){this.matrix.defaultCellType=i},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(i){this.matrix.totalsSuffix=i},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(i){this.matrix.maxRowCount=i},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(i){this.matrix.maxRowCountInCondition=i},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(i){this.matrix.renderRemoveAsIcon=i},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(i){this.panel.maxPanelCountInCondition=i},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(i){this.panel.maxPanelCount=i},readOnly:{enableValidation:!1,commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(i){this.readOnly.commentRenderMode=i},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(i){this.readOnly.textRenderMode=i},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(i){this.numbering.includeQuestionsWithHiddenTitle=i},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(i){this.numbering.includeQuestionsWithHiddenNumber=i},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:(i,e)=>i},expressionDisableConversionChar:"#",get commentPrefix(){return oe.commentSuffix},set commentPrefix(i){oe.commentSuffix=i},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,dropdownSearchDelay:500,confirmActionFunc:void 0,confirmActionAsync:(i,e,t)=>{N$(i,e,t)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},autoAdvanceDelay:300,itemFlowDirection:"column",get showItemsInOrder(){return oe.itemFlowDirection},set showItemsInOrder(i){oe.itemFlowDirection=i},noneItemValue:"none",refuseItemValue:"refused",dontKnowItemValue:"dontknow",specialChoicesOrder:{selectAllItem:[-1],noneItem:[1],refuseItem:[2],dontKnowItem:[3],otherItem:[4]},choicesSeparator:", ",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},expressionVariables:{question:"self",matrix:"matrix",composite:"composite",item:"item",choice:"choice",row:"row",totalRow:"totalRow",rowIndex:"rowIndex",rowValue:"rowValue",rowName:"rowName",rowTitle:"rowTitle",panel:"panel",parentPanel:"parentPanel",panelIndex:"panelIndex",visiblePanelIndex:"visiblePanelIndex",unwrapPostfix:"-unwrapped"},minDate:"",maxDate:"",showDialog:void 0,showDefaultItemsInCreator:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:oRe,showMaxLengthIndicator:!0,animationEnabled:!0,titleTags:{survey:"div",page:"div",panel:"div",question:"div"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},legacyProgressBarView:!1,maskSettings:{patternPlaceholderChar:"_",patternEscapeChar:"\\",patternDefinitions:{9:/[0-9]/,a:/[a-zA-Z]/,"#":/[a-zA-Z0-9]/}},storeUtcDates:!1,onDateCreated:(i,e,t)=>i,parseNumber:(i,e)=>e};class Fo{constructor(e=null,t=null){this.text=e,this.errorOwner=t,this.visible=!0,this.onUpdateErrorTextCallback=void 0}equals(e){return!e||!e.getErrorType||this.getErrorType()!==e.getErrorType()?!1:this.text===e.text&&this.visible===e.visible}get locText(){return this.locTextValue||(this.locTextValue=new Ar(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue}getText(){var e=this.text;return e||(e=this.getDefaultText()),this.errorOwner&&(e=this.errorOwner.getErrorCustomText(e,this)),e}getErrorType(){return"base"}getDefaultText(){return""}getLocale(){return this.errorOwner?this.errorOwner.getLocale():""}getLocalizationString(e){return ur(e,this.getLocale())}updateText(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()}}class lRe extends Fo{constructor(e=null,t=null){super(e,t),this.text=e}getErrorType(){return"required"}getDefaultText(){return this.getLocalizationString("requiredError")}}class uRe extends Fo{constructor(e=null,t=null){super(e,t),this.text=e}getErrorType(){return"requireoneanswer"}getDefaultText(){return this.getLocalizationString("requiredErrorInPanel")}}class cRe extends Fo{constructor(e=null,t=null){super(e,t),this.text=e}getErrorType(){return"requirenumeric"}getDefaultText(){return this.getLocalizationString("numericError")}}class dRe extends Fo{constructor(e,t=null){super(null,t),this.maxSize=e,this.locText.text=this.getText()}getErrorType(){return"exceedsize"}getDefaultText(){return this.getLocalizationString("exceedMaxSize").format(this.getTextSize())}getTextSize(){var e=["Bytes","KB","MB","GB","TB"],t=[0,0,2,3,3];if(this.maxSize===0)return"0 Byte";var n=Math.floor(Math.log(this.maxSize)/Math.log(1024)),r=this.maxSize/Math.pow(1024,n);return r.toFixed(t[n])+" "+e[n]}}class BV extends Fo{constructor(e,t,n=null){super(null,n),this.status=e,this.response=t}getErrorType(){return"webrequest"}getDefaultText(){const e=this.getLocalizationString("urlRequestError");return e?e.format(this.status,this.response):""}}class hRe extends Fo{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"webrequestempty"}getDefaultText(){return this.getLocalizationString("urlGetChoicesError")}}class fRe extends Fo{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"otherempty"}getDefaultText(){return this.getLocalizationString("otherRequiredError")}}class i1 extends Fo{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"uploadingfile"}getDefaultText(){return this.getLocalizationString("uploadingFile")}}class pRe extends Fo{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"requiredinallrowserror"}getDefaultText(){return this.getLocalizationString("requiredInAllRowsError")}}class gRe extends Fo{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"eachrowuniqueeerror"}getDefaultText(){return this.getLocalizationString("eachRowUniqueError")}}class mRe extends Fo{constructor(e,t=null){super(null,t),this.minRowCount=e}getErrorType(){return"minrowcounterror"}getDefaultText(){return this.getLocalizationString("minRowCountError").format(this.minRowCount)}}class M$ extends Fo{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"keyduplicationerror"}getDefaultText(){return this.getLocalizationString("keyDuplicationError")}}class Ma extends Fo{constructor(e,t=null){super(e,t),this.text=e}getErrorType(){return"custom"}}class Tl{constructor(e,t=null){this.value=e,this.error=t}}class Np extends Ut{constructor(){super(),this.createLocalizableString("text",this,!0)}get isValidator(){return!0}getSurvey(e=!1){return this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null}get text(){return this.getLocalizableStringText("text")}set text(e){this.setLocalizableStringText("text",e)}get isValidateAllValues(){return!1}get locText(){return this.getLocalizableString("text")}getErrorText(e){return this.text?this.text:this.getDefaultErrorText(e)}getDefaultErrorText(e){return""}validate(e,t=null,n=null){return null}get isRunning(){return!1}get isAsync(){return!1}getLocale(){return this.errorOwner?this.errorOwner.getLocale():""}getMarkdownHtml(e,t,n){return this.errorOwner?this.errorOwner.getMarkdownHtml(e,t,n):void 0}getRenderer(e){return this.errorOwner?this.errorOwner.getRenderer(e):null}getRendererContext(e){return this.errorOwner?this.errorOwner.getRendererContext(e):e}getProcessedText(e){return this.errorOwner?this.errorOwner.getProcessedText(e):e}createCustomError(e){const t=new Ma(this.getErrorText(e),this.errorOwner);return t.onUpdateErrorTextCallback=n=>n.text=this.getErrorText(e),t}toString(){var e=this.getType().replace("validator","");return this.text&&(e+=", "+this.text),e}}class vRe{run(e){var t=[],n=null;this.prepareAsyncValidators();for(var r=[],s=e.getValidators(),o=0;o<s.length;o++){var a=s[o];n=e.getDataFilteredProperties(),a.isAsync&&(this.asyncValidators.push(a),a.onAsyncCompleted=u=>{if(u&&u.error&&r.push(u.error),!!this.onAsyncCompleted){for(var c=0;c<this.asyncValidators.length;c++)if(this.asyncValidators[c].isRunning)return;this.onAsyncCompleted(r)}})}s=e.getValidators();for(var o=0;o<s.length;o++){var a=s[o],l=a.validate(e.validatedValue,e.getValidatorTitle(),n);l&&l.error&&t.push(l.error)}return this.asyncValidators.length==0&&this.onAsyncCompleted&&this.onAsyncCompleted([]),t}prepareAsyncValidators(){if(this.asyncValidators)for(var e=0;e<this.asyncValidators.length;e++)this.asyncValidators[e].onAsyncCompleted=null;this.asyncValidators=[]}}class yRe extends Np{constructor(e=null,t=null){super(),this.minValue=e,this.maxValue=t}getType(){return"numericvalidator"}validate(e,t=null,n=null){if(this.isValueEmpty(e))return null;if(!se.isNumber(e))return new Tl(null,new cRe(this.text,this.errorOwner));var r=new Tl(se.getNumber(e));return this.minValue!==null&&this.minValue>r.value?(r.error=this.createCustomError(t),r):this.maxValue!==null&&this.maxValue<r.value?(r.error=this.createCustomError(t),r):typeof e=="number"?null:r}getDefaultErrorText(e){var t=e||this.getLocalizationString("value");return this.minValue!==null&&this.maxValue!==null?this.getLocalizationFormatString("numericMinMax",t,this.minValue,this.maxValue):this.minValue!==null?this.getLocalizationFormatString("numericMin",t,this.minValue):this.getLocalizationFormatString("numericMax",t,this.maxValue)}get minValue(){return this.getPropertyValue("minValue")}set minValue(e){this.setPropertyValue("minValue",e)}get maxValue(){return this.getPropertyValue("maxValue")}set maxValue(e){this.setPropertyValue("maxValue",e)}}class bRe extends Np{constructor(){super()}getType(){return"textvalidator"}validate(e,t=null,n=null){if(this.isValueEmpty(e))return null;if(!this.allowDigits){var r=/\d+$/;if(r.test(e))return new Tl(null,this.createCustomError("textNoDigitsAllow"))}return this.minLength>0&&e.length<this.minLength?new Tl(null,this.createCustomError(t)):this.maxLength>0&&e.length>this.maxLength?new Tl(null,this.createCustomError(t)):null}getDefaultErrorText(e){return e==="textNoDigitsAllow"?this.getLocalizationString(e):this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)}get minLength(){return this.getPropertyValue("minLength")}set minLength(e){this.setPropertyValue("minLength",e)}get maxLength(){return this.getPropertyValue("maxLength")}set maxLength(e){this.setPropertyValue("maxLength",e)}get allowDigits(){return this.getPropertyValue("allowDigits")}set allowDigits(e){this.setPropertyValue("allowDigits",e)}}class CRe extends Np{constructor(e=null,t=null){super(),this.minCount=e,this.maxCount=t}getType(){return"answercountvalidator"}validate(e,t=null,n=null){if(e==null||e.constructor!=Array)return null;var r=e.length;return r==0?null:this.minCount&&r<this.minCount?new Tl(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&r>this.maxCount?new Tl(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null}getDefaultErrorText(e){return e}get minCount(){return this.getPropertyValue("minCount")}set minCount(e){this.setPropertyValue("minCount",e)}get maxCount(){return this.getPropertyValue("maxCount")}set maxCount(e){this.setPropertyValue("maxCount",e)}}class wRe extends Np{constructor(e=null){super(),this.regex=e}getType(){return"regexvalidator"}validate(e,t=null,n=null){if(!this.regex||this.isValueEmpty(e))return null;var r=this.createRegExp();if(Array.isArray(e))for(var s=0;s<e.length;s++){var o=this.hasError(r,e[s],t);if(o)return o}return this.hasError(r,e,t)}hasError(e,t,n){return e.test(t)?null:new Tl(t,this.createCustomError(n))}get regex(){return this.getPropertyValue("regex")}set regex(e){this.setPropertyValue("regex",e)}get caseInsensitive(){return this.getPropertyValue("caseInsensitive")}set caseInsensitive(e){this.setPropertyValue("caseInsensitive",e)}get insensitive(){return this.caseInsensitive}set insensitive(e){this.caseInsensitive=e}createRegExp(){return new RegExp(this.regex,this.caseInsensitive?"i":"")}}class F$ extends Np{constructor(){super(),this.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i}getType(){return"emailvalidator"}validate(e,t=null,n=null){return!e||this.re.test(e)?null:new Tl(e,this.createCustomError(t))}getDefaultErrorText(e){return this.getLocalizationString("invalidEmail")}}class _Re extends Np{constructor(e=null){super(),this.conditionRunner=null,this.isRunningValue=!1,this.expression=e}getType(){return"expressionvalidator"}get isValidateAllValues(){return!0}get isAsync(){return this.ensureConditionRunner(!1)?this.conditionRunner.isAsync:!1}get isRunning(){return this.isRunningValue}validate(e,t=null,n=null){if(!this.expression)return null;this.conditionRunner&&(this.conditionRunner.onRunComplete=null),this.ensureConditionRunner(!0),this.conditionRunner.onRunComplete=s=>{this.isRunningValue=!1,this.onAsyncCompleted&&this.onAsyncCompleted(this.generateError(s,e,t))},this.isRunningValue=!0;var r=this.conditionRunner.runContext(this.getValueGetterContext(),n);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(r,e,t))}generateError(e,t,n){return e?null:new Tl(t,this.createCustomError(n))}getDefaultErrorText(e){return this.getLocalizationFormatString("invalidExpression",this.expression)}ensureConditionRunner(e){return this.expression?(e||!this.conditionRunner?this.conditionRunner=new Do(this.expression):this.conditionRunner.expression=this.expression,!0):!1}get expression(){return this.getPropertyValue("expression")}set expression(e){this.setPropertyValue("expression",e)}getValueGetterContext(){const e=this.errorOwner;return e&&e.getValueGetterContext?e.getValueGetterContext():super.getValueGetterContext()}}me.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]);me.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new yRe},"surveyvalidator");me.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new bRe},"surveyvalidator");me.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new CRe},"surveyvalidator");me.addClass("regexvalidator",["regex",{name:"caseInsensitive:boolean",alternativeName:"insensitive"}],function(){return new wRe},"surveyvalidator");me.addClass("emailvalidator",[],function(){return new F$},"surveyvalidator");me.addClass("expressionvalidator",["expression:condition"],function(){return new _Re},"surveyvalidator");class IRe{constructor(e,t){this.name=e,this.widgetJson=t,this.htmlTemplate=t.htmlTemplate?t.htmlTemplate:""}afterRender(e,t){this.widgetJson.afterRender&&(e.localeChangedCallback=()=>{this.widgetJson.willUnmount&&this.widgetJson.willUnmount(e,t),this.widgetJson.afterRender(e,t)},this.widgetJson.afterRender(e,t))}willUnmount(e,t){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(e,t)}getDisplayValue(e,t=void 0){return this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(e,t):null}validate(e){if(this.widgetJson.validate)return this.widgetJson.validate(e)}isFit(e){return this.isLibraryLoaded()&&this.widgetJson.isFit?this.widgetJson.isFit(e):!1}get canShowInToolbox(){return this.widgetJson.showInToolbox===!1||tb.Instance.getActivatedBy(this.name)!="customtype"?!1:!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded()}get showInToolbox(){return this.widgetJson.showInToolbox!==!1}set showInToolbox(e){this.widgetJson.showInToolbox=e}init(){this.widgetJson.init&&this.widgetJson.init()}activatedByChanged(e){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(e)}isLibraryLoaded(){return this.widgetJson.widgetIsLoaded?this.widgetJson.widgetIsLoaded()==!0:!0}get isDefaultRender(){return this.widgetJson.isDefaultRender}get pdfQuestionType(){return this.widgetJson.pdfQuestionType}get pdfRender(){return this.widgetJson.pdfRender}}class tb{constructor(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new S$}get widgets(){return this.widgetsValues}add(e,t="property"){this.addCustomWidget(e,t)}addCustomWidget(e,t="property"){var n=e.name;n||(n="widget_"+this.widgets.length+1);var r=new IRe(n,e);return this.widgetsValues.push(r),r.init(),this.widgetsActivatedBy[n]=t,r.activatedByChanged(t),this.onCustomWidgetAdded.fire(r,null),r}getActivatedBy(e){var t=this.widgetsActivatedBy[e];return t||"property"}setActivatedBy(e,t){if(!(!e||!t)){var n=this.getCustomWidgetByName(e);n&&(this.widgetsActivatedBy[e]=t,n.activatedByChanged(t))}}clear(){this.widgetsValues=[]}getCustomWidgetByName(e){for(var t=0;t<this.widgets.length;t++)if(this.widgets[t].name==e)return this.widgets[t];return null}getCustomWidget(e){for(var t=0;t<this.widgetsValues.length;t++)if(this.widgetsValues[t].isFit(e))return this.widgetsValues[t];return null}}tb.Instance=new tb;class Kc{constructor(){this.renderersHash={},this.defaultHash={}}unregisterRenderer(e,t){delete this.renderersHash[e][t],this.defaultHash[e]===t&&delete this.defaultHash[e]}registerRenderer(e,t,n,r=!1){this.renderersHash[e]||(this.renderersHash[e]={}),this.renderersHash[e][t]=n,r&&(this.defaultHash[e]=t)}getRenderer(e,t){const n=this.renderersHash[e];if(n){if(t&&n[t])return n[t];const r=this.defaultHash[e];if(r&&n[r])return n[r]}return"default"}getRendererByQuestion(e){return this.getRenderer(e.getType(),e.renderAs)}clear(){this.renderersHash={}}}Kc.Instance=new Kc;class E5{updateElement(){this.element&&this.autoGrow&&setTimeout(()=>FV(this.element),1)}constructor(e){this.options=e,this.onPropertyChangedCallback=()=>{this.element&&(this.element.value=this.getTextValue(),this.updateElement())},this.question.registerFunctionOnPropertiesValueChanged(this.options.propertyNames,this.onPropertyChangedCallback,"__textarea")}setElement(e){e&&(this.element=e,this.updateElement())}resetElement(){this.element=void 0}getTextValue(){return this.options.getTextValue&&this.options.getTextValue()||""}onTextAreaChange(e){this.options.onTextAreaChange&&this.options.onTextAreaChange(e)}onTextAreaInput(e){this.options.onTextAreaInput&&this.options.onTextAreaInput(e),this.element&&this.autoGrow&&FV(this.element)}onTextAreaKeyDown(e){this.options.onTextAreaKeyDown&&this.options.onTextAreaKeyDown(e)}onTextAreaBlur(e){this.onTextAreaChange(e),this.options.onTextAreaBlur&&this.options.onTextAreaBlur(e)}onTextAreaFocus(e){var t;this.options.onTextAreaFocus&&this.options.onTextAreaFocus(e),this.isReadOnlyAttr&&((t=e==null?void 0:e.target)===null||t===void 0||t.select())}get question(){return this.options.question}get id(){return this.options.id()}get placeholder(){return this.options.placeholder()}get className(){return this.options.className()}get maxLength(){if(this.options.maxLength)return this.options.maxLength()}get autoGrow(){if(this.options.autoGrow)return this.options.autoGrow()}get rows(){if(this.options.rows)return this.options.rows()}get cols(){if(this.options.cols)return this.options.cols()}get isDisabledAttr(){return this.options.isDisabledAttr()}get isReadOnlyAttr(){if(this.options.isReadOnlyAttr)return this.options.isReadOnlyAttr()}get ariaRequired(){if(this.options.ariaRequired)return this.options.ariaRequired()}get ariaLabel(){if(this.options.ariaLabel)return this.options.ariaLabel()}get ariaInvalid(){if(this.options.ariaInvalid)return this.options.ariaInvalid()}get ariaLabelledBy(){if(this.options.ariaLabelledBy)return this.options.ariaLabelledBy()}get ariaDescribedBy(){if(this.options.ariaDescribedBy)return this.options.ariaDescribedBy()}get ariaErrormessage(){if(this.options.ariaErrormessage)return this.options.ariaErrormessage()}dispose(){this.question&&this.question.unRegisterFunctionOnPropertiesValueChanged(this.options.propertyNames,"__textarea"),this.resetElement()}}class ERe{constructor(e,t,n){this.name=e,this.canRun=t,this.doComplete=n,this.getSecondRunner=()=>{}}}class HC{constructor(e,t){this.question=e,this.isUnwrapped=t}getValue(e,t,n,r){const s=oe.expressionVariables;if(e.length===0||e.length===1&&e[0].name===s.question)return this.getQuestionValue(n);if(e.length>1&&e[0].name===s.panel){const o=this.question.parent;if(o&&o.isPanel)return e.shift(),new S5(o.questions).getValue(e,!1,n,r)}if(!this.question.isEmpty()){let o=this.question.value;if(n>=0){if(!Array.isArray(o||n>=o.length))return;o=o[n]}return new Oo(o).getValue(e,!1,n,r)}}getTextValue(e,t,n){return n?this.question.getDisplayValue(!0,t):t}getRootObj(){return this.question.data}getQuestion(){return this.question}getSurveyValue(e,t){const n=this.question.getSurvey();if(n)return n.getValueGetterContext().getValue(e,!1,t,!1)}getQuestionValue(e){const t=this.question;let n=t.getFilteredValue(this.isUnwrapped);return e>-1&&Array.isArray(n)&&(n=e<n.length?n[e]:void 0),{isFound:!0,context:this,value:n,requireStrictCompare:t.requireStrictCompare}}}class $$ extends xh{getValueFromBindedQuestions(e,t){typeof t!="object"&&(t=void 0);const n=e.length===1?e[0].name:"",r=this.getQuestionsBySameValueNames();for(let s=0;s<r.length;s++){const o=r[s];if(n&&o.valuePropertyName===n&&t&&t.hasOwnProperty(n))return{isFound:!0,value:t[n],context:o.getValueGetterContext()};const a=o.getValueGetterContext().getValue(e,!1,this.getIndex(),!1);if(a&&a.isFound)return a}}getQuestionsBySameValueNames(){const e=new Array,t=this.getQuestionData();return!t||!t.isQuestion||(t.parent&&t.parent.isPanel&&this.fillQuestions(t.parent.getQuestionsByValueName(t.getValueName()),t,e),e.length===0&&t.survey&&this.fillQuestions(t.survey.getQuestionsByValueName(t.getValueName()),t,e)),e}fillQuestions(e,t,n){e.forEach(r=>{r!==t&&n.push(r)})}getRootObj(){return this.getQuestionData()}}class S5 extends xh{constructor(e){super(),this.questions=e}updateValueByItem(e,t){const n=e.toLocaleLowerCase(),r=oe.expressionVariables.unwrapPostfix;for(let s=0;s<this.questions.length;s++){const o=this.questions[s],a=o.getFilteredName().toLocaleLowerCase();if(a.toLocaleLowerCase()===n){t.isFound=!0,t.context=o.getValueGetterContext(a.endsWith(r));break}}}}class hr extends ni{static getQuestionId(){return"sq_"+hr.questionCounter++}isReadOnlyRenderDiv(){return this.isReadOnly&&oe.readOnly.commentRenderMode==="div"}allowMobileInDesignMode(){return!1}updateIsMobileFromSurvey(){this.setIsMobile(this.survey._isMobile)}setIsMobile(e){const t=e&&(this.allowMobileInDesignMode()||!this.isDesignMode);this.isMobile=t}getIsMobile(){return this._isMobile}get isMobile(){return this.getIsMobile()}set isMobile(e){this._isMobile=e}themeChanged(e){}get _isMobile(){return this.getPropertyValue("_isMobile",!1)}set _isMobile(e){this.setPropertyValue("_isMobile",e)}get forceIsInputReadOnly(){return this.getPropertyValue("forceIsInputReadOnly")}set forceIsInputReadOnly(e){this.setPropertyValue("forceIsInputReadOnly",e)}get ariaExpanded(){return this.isNewA11yStructure?null:this.getPropertyValue("ariaExpanded")}set ariaExpanded(e){this.setPropertyValue("ariaExpanded",e)}constructor(e){super(e),this.customWidgetData={isNeedRender:!0},this.hasCssErrorCallback=()=>!1,this.isReadyValue=!0,this.dependedQuestions=[],this.onReadyChanged=this.addEvent(),this.triggersInfo=[],this.isRunningValidatorsValue=!1,this.isValueChangedInSurvey=!1,this.allowNotifyValueChanged=!0,this._syncPropertiesChanging=!1,this.setPropertyValueDirectly("id",hr.getQuestionId()),this.onCreating(),this.createNewArray("validators",n=>{n.errorOwner=this}),this.addExpressionProperty("visibleIf",(n,r)=>{this.visible=r===!0}),this.addExpressionProperty("enableIf",(n,r)=>{this.readOnly=r===!1}),this.addExpressionProperty("requiredIf",(n,r)=>{this.isRequired=r===!0}),this.createLocalizableString("commentText",this,!0,!0),this.createLocalizableString("requiredErrorText",this),this.createLocalizableString("commentPlaceholder",this),this.createLocalizableString("defaultDisplayValue",this),this.addTriggerInfo("resetValueIf",()=>!this.isEmpty(),()=>{this.startSetValueOnExpression(),this.updateValueWithDefaultsOrClear(),this.finishSetValueOnExpression()});const t=this.addTriggerInfo("setValueIf",()=>!0,()=>this.runSetValueExpression());t.getSecondRunner=()=>this.getSetValueExpressionRunner(),this.registerPropertyChangedHandlers(["width"],()=>{this.updateQuestionCss(),this.parent&&this.parent.elementWidthChanged(this)}),this.registerPropertyChangedHandlers(["isRequired"],()=>{!this.isRequired&&this.errors.length>0&&this.validate(),this.locTitle.strChanged(),this.clearCssClasses()}),this.registerPropertyChangedHandlers(["indent","rightIndent"],()=>{this.resetIndents()}),this.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],()=>{this.initCommentFromSurvey()}),this.registerPropertyChangedHandlers(["commentPlaceholder"],()=>{this.resetRenderedCommentPlaceholder()}),this.registerFunctionOnPropertiesValueChanged(["no","readOnly","hasVisibleErrors","containsErrors"],()=>{this.updateQuestionCss()}),this.registerPropertyChangedHandlers(["_isMobile"],()=>{this.onMobileChanged()}),this.registerPropertyChangedHandlers(["colSpan"],()=>{var n;(n=this.parent)===null||n===void 0||n.updateColumns()})}getDefaultTitle(){return this.name}createLocTitleProperty(){const e=super.createLocTitleProperty();return e.storeDefaultText=!0,e.onGetTextCallback=(t,n)=>(!t&&!n&&(t=this.getDefaultTitle()),this.survey?this.survey.getUpdatedQuestionTitle(this,t):t),this.locProcessedTitle=new Ar(this,!0),this.locProcessedTitle.sharedData=e,e}get locRenderedTitle(){return this.isSingleInputActive&&this.singleInputLocTitle?this.singleInputLocTitle:this.locTitle}get commentTextAreaModel(){return this.commentTextAreaModelValue||(this.commentTextAreaModelValue=new E5(this.getCommentTextAreaOptions())),this.commentTextAreaModelValue}getCommentTextAreaOptions(){return{question:this,id:()=>this.commentId,propertyNames:["comment"],className:()=>this.cssClasses.comment,placeholder:()=>this.renderedCommentPlaceholder,isDisabledAttr:()=>this.isInputReadOnly||!1,rows:()=>this.commentAreaRows,autoGrow:()=>this.autoGrowComment,maxLength:()=>this.getOthersMaxLength(),ariaRequired:()=>this.a11y_input_ariaRequired,ariaLabel:()=>this.a11y_input_ariaLabel,getTextValue:()=>this.comment,onTextAreaChange:t=>{this.onCommentChange(t)},onTextAreaInput:t=>{this.onCommentInput(t)}}}getSurvey(e=!1){return e?this.parent?this.parent.getSurvey(e):null:this.onGetSurvey?this.onGetSurvey():super.getSurvey()}getValueName(){return this.valueName?this.valueName.toString():this.name}get valueName(){return this.getPropertyValue("valueName","")}set valueName(e){var t=this.getValueName();this.setPropertyValue("valueName",e),this.onValueNameChanged(t)}onValueNameChanged(e){this.survey&&(this.survey.questionRenamed(this,this.name,e||this.name),this.initDataFromSurvey())}onNameChanged(e){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,e,this.valueName?this.valueName:e)}get isReady(){return this.isReadyValue}onAsyncRunningChanged(){this.updateIsReady()}ensureQuestionIsReady(){this.displayValue}waitForQuestionIsReady(e){return new Promise(t=>{if(this.ensureQuestionIsReady(),this.isReady)t(),e&&e();else{const n=(r,s)=>{s.isReady&&(this.onReadyChanged.remove(n),t(),e&&e())};this.onReadyChanged.add(n)}})}updateIsReady(){let e=this.getIsQuestionReady();if(e){const t=this.getIsReadyDependsOn();for(let n=0;n<t.length;n++)if(!t[n].getIsQuestionReady()){e=!1;break}}this.setIsReady(e)}getIsQuestionReady(){return!this.isAsyncExpressionRunning&&this.getAreNestedQuestionsReady()}getAreNestedQuestionsReady(){const e=this.getIsReadyNestedQuestions();if(!Array.isArray(e))return!0;for(let t=0;t<e.length;t++)if(!e[t].isReady)return!1;return!0}getIsReadyNestedQuestions(){return this.getNestedQuestions()}setIsReady(e){const t=this.isReadyValue;this.isReadyValue=e,t!=e&&(this.getIsReadyDependends().forEach(n=>n.updateIsReady()),this.onReadyChanged.fire(this,{question:this,isReady:e,oldIsReady:t}))}getIsReadyDependsOn(){return this.getIsReadyDependendCore(!0)}getIsReadyDependends(){return this.getIsReadyDependendCore(!1)}getDependedQuestionsByValueName(e){return this.survey.questionsByValueName(this.getValueName())}getIsReadyDependendCore(e){if(!this.survey)return[];const t=this.getDependedQuestionsByValueName(e),n=new Array;return t.forEach(r=>{r!==this&&n.push(r)}),e||(this.parentQuestion&&n.push(this.parentQuestion),this.dependedQuestions.length>0&&this.dependedQuestions.forEach(r=>n.push(r))),n}choicesLoaded(){}get page(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)}set page(e){this.setPage(this.parent,e)}getPanel(){return null}delete(e=!0){this.removeFromParent(),e?this.dispose():this.resetDependedQuestions()}removeFromParent(){this.parent&&this.removeSelfFromList(this.parent.elements)}addDependedQuestion(e){!e||this.dependedQuestions.indexOf(e)>-1||this.dependedQuestions.push(e)}removeDependedQuestion(e){if(e){var t=this.dependedQuestions.indexOf(e);t>-1&&this.dependedQuestions.splice(t,1)}}updateDependedQuestions(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].updateDependedQuestion()}updateDependedQuestion(){}resetDependedQuestion(){}get isFlowLayout(){return this.getLayoutType()==="flow"}getLayoutType(){return this.parent?this.parent.getChildrenLayoutType():"row"}isLayoutTypeSupported(e){return e!=="flow"}get visible(){return this.getPropertyValue("visible")}set visible(e){e!=this.visible&&(this.setPropertyValue("visible",e),this.onVisibleChangedCore(),this.notifySurveyVisibilityChanged())}onVisibleChanged(){const e=this.getPropertyValue("isVisible");this.onVisibleChangedCore();const t=this.getPropertyValue("isVisible");e!==void 0&&e!==t&&this.notifySurveyVisibilityChanged()}onVisibleChangedCore(){this.updateIsVisibleProp(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])}notifyStateChanged(e){super.notifyStateChanged(e),this.isCollapsed&&this.onHidingContent()}updateElementVisibility(){this.updateIsVisibleProp()}updateIsVisibleProp(){const e=this.getPropertyValue("isVisible"),t=this.isVisible;e!==t&&(this.setPropertyValue("isVisible",t),t||this.onHidingContent()),t!==this.visible&&this.areInvisibleElementsShowing&&this.updateQuestionCss(!0)}get useDisplayValuesInDynamicTexts(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")}set useDisplayValuesInDynamicTexts(e){this.setPropertyValue("useDisplayValuesInDynamicTexts",e)}getUseDisplayValuesInDynamicTexts(){return this.useDisplayValuesInDynamicTexts}get visibleIf(){return this.getPropertyValue("visibleIf","")}set visibleIf(e){this.setPropertyValue("visibleIf",e)}get isVisible(){return this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty()?!1:this.areInvisibleElementsShowing?!0:this.isVisibleCore()}get isVisibleInSurvey(){return this.isVisible&&this.isParentVisible}isVisibleCore(){return this.visible}get visibleIndex(){return this.getPropertyValue("visibleIndex",-1)}onHidingContent(){}get showNumber(){return this.getPropertyValue("showNumber")}set showNumber(e){this.setPropertyValue("showNumber",e),this.notifySurveyVisibilityChanged()}get hideNumber(){return!this.showNumber}set hideNumber(e){this.showNumber=!e}get isAllowTitleLeft(){return!0}getType(){return"question"}get isQuestion(){return!0}moveTo(e,t=null){return this.moveToBase(this.parent,e,t)}getProgressInfo(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:super.getProgressInfo()}ensureSetValueExpressionRunner(){this.setValueExpressionRunner?this.setValueExpressionRunner.expression=this.setValueExpression:(this.setValueExpressionRunner=this.createExpressionRunner(this.setValueExpression),this.setValueExpressionRunner.onRunComplete=e=>{this.runExpressionSetValue(e)})}runSetValueExpression(){this.setValueExpression?(this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner.runContext(this.getValueGetterContext(),this.getDataFilteredProperties())):this.clearValue()}getSetValueExpressionRunner(){return this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner}addTriggerInfo(e,t,n){const r=new ERe(e,t,n);return this.triggersInfo.push(r),r}runTriggerInfo(e,t){const n=this[e.name];!n&&!e.getSecondRunner()||e.isRunning||!e.canRun()||(e.runner?e.runner.expression=n:(e.runner=this.createExpressionRunner(n),e.runner.onRunComplete=r=>{r===!0&&e.doComplete(),e.isRunning=!1}),this.canExecuteTriggerByKeys(t,e.runner,e.getSecondRunner())&&(e.isRunning=!0,!n&&e.getSecondRunner()?(e.doComplete(),e.isRunning=!1):e.runner.runContext(this.getValueGetterContext(),this.getDataFilteredProperties())))}canExecuteTriggerByKeys(e,t,n){!t&&n&&(t=n,n=void 0);const r=this.canExecuteTriggerByKeysCore(e,t);return r==="var"?!0:n?this.canExecuteTriggerByKeysCore(e,n)!=="":r==="func"||r==="const"}canExecuteTriggerByKeysCore(e,t){if(!t.expression)return"";const n=t.getVariables();return!Array.isArray(n)||n.length===0?t.hasFunction()?"func":"const":new Ec().isAnyKeyChanged(e,n)?"var":""}getValueGetterContext(e){return new HC(this,e)}runTriggers(e,t,n){this.isSettingQuestionValue||this.parentQuestion&&this.parentQuestion.getValueName()===e||(n||(n={},n[e]=t),this.triggersInfo.forEach(r=>{this.runTriggerInfo(r,n)}))}runConditions(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredProperties()),this.locStrsChanged())}setSurveyImpl(e,t){super.setSurveyImpl(e),this.survey&&(this.survey.questionCreated(this),t!==!0&&this.runConditions(),this.visible||this.updateIsVisibleProp(),this.updateIsMobileFromSurvey())}get parent(){return this.getPropertyValue("parent",null)}set parent(e){this.parent!==e&&(this.removeFromParent(),this.setPropertyValue("parent",e),e&&this.updateQuestionCss(),this.onParentChanged())}onParentChanged(){}calculateSingleInputQuestion(){if(!this.isSingleInputActive)return;const e=this.getSingleInputQuestions();if(Array.isArray(e)&&e.length>0){const t=e[0];return this.onBeforeSetSingleInputQuestion(t),t}}get singleInputQuestion(){const e=this.survey;if(!(!e||!e.isSingleVisibleInput))return this.getPropertyValue("singleInputQuestion",void 0,()=>this.calculateSingleInputQuestion())}get currentSingleInputQuestion(){let e=this.singleInputQuestion;for(;e&&e.singleInputQuestion&&e.singleInputQuestion!==e;)e=e.singleInputQuestion;return e}get currentSingleInputParentQuestion(){const e=this.currentSingleInputQuestion;return e?e.singleInputQuestion===e?e:e.parentQuestion||this:this}get singleInputSummary(){return this.getPropertyValue("singleInputSummary",void 0,()=>{if(!this.supportNestedSingleInput())return;const e=this.singleInputQuestion;if(!e||e!==this)return;const t=this.createSingleInputSummary();return t&&(this.calcSingleInputActions(),this.resetPropertyValue("singleInputLocTitle")),t})}createSingleInputSummary(){}get rootParentQuestion(){let e=this;for(;e.parentQuestion;)e=e.parentQuestion;return e}getParentQuestions(){const e=new Array;let t=this;for(;t.parentQuestion;)e.push(t.parentQuestion),t=t.parentQuestion;return e}resetSingleInput(){this.resetSingleInputCore()}resetSingleInputCore(){const e=this.singleInputQuestion;this.resetPropertyValue("singleInputQuestion"),e&&this.onSingleInputChanged()}onSingleInputChanged(e=!0){var t,n;e&&this.resetSingleInputSummary(),(t=this.singleInputLocTitle)===null||t===void 0||t.strChanged(),this.resetPropertyValue("singleInputLocTitle"),this.calcSingleInputActions(),(n=this.survey)===null||n===void 0||n.updateNavigationElements()}resetSingleInputSummary(){var e;(e=this.singleInputSummary)===null||e===void 0||e.dispose(),this.resetPropertyValue("singleInputSummary")}validateSingleInput(e=!0,t=null){const n=this.currentSingleInputQuestion;if(!n)return!0;t=t||{fireCallback:e,focusOnFirstError:e,firstErrorQuestion:null,result:!1};const r=n.validate(e,t);return!r&&t.focusOnFirstError&&t.firstErrorQuestion&&t.firstErrorQuestion.focus(!0),r}getSingleInputElementPos(){if(this.singleInputQuestion===this)return 0;const e=this.currentSingleInputParentQuestion;if(e!==this&&e.getSingleInputElementPos()===2)return 2;const t=this.singleInputQuestion,n=this.getSingleInputQuestions();if(n.length<2)return 0;let r=n.indexOf(t);return r===0?-1:r>=n.length-1?1:2}get isSingleInputActive(){const e=this.survey;if(!e||!e.isSingleVisibleInput)return!1;const t=e.currentSingleQuestion;return!!t&&t===this.rootParentQuestion}singleInputOnAddItem(e){this.isSingleInputActive&&(e&&this.singleInputSummary?this.resetSingleInputSummary():this.setSingleQuestionOnChange(Number.MAX_VALUE))}singleInputOnRemoveItem(e){this.isSingleInputActive&&(this.singleInputSummary?this.onSingleInputChanged():this.setSingleQuestionOnChange(e))}getSingleQuestionOnChange(e){return null}setSingleQuestionOnChange(e){const t=this.getSingleQuestionOnChange(e);t?this.setSingleInputQuestion(t):this.resetSingleInput()}onSetAsSingleInput(){this.isSingleInputSummaryShown=!1;const e=!this.wasRendered||this.singleInputSummary;this.onFirstRendering(),e&&(this.resetSingleInputSummary(),this.resetPropertyValue("singleInputQuestion"),this.resetPropertyValue("singleInputLocTitle"))}nextSingleInput(){return this.nextPrevSingleInput(1)}prevSingleInput(){return this.nextPrevSingleInput(-1)}getSingleInputAddText(){const e=this.currentSingleInputQuestion;return e&&e.singleInputSummary?e.getSingleInputAddTextCore():void 0}singleInputAddItem(e){const t={fireCallback:!0,focusOnFirstError:!0};e&&!this.validateSingleInput(!0,t)?t.firstErrorQuestion&&t.firstErrorQuestion.focus(!0):this.currentSingleInputQuestion.singleInputAddItemCore()}singleInputRemoveItem(){const e=this.singleInputQuestion;e&&e!==this.singleInputParentQuestion&&this.singleInputRemoveItemCore(e)}get singleInputLocTitle(){return this.getPropertyValue("singleInputLocTitle",void 0,()=>this.getSingleQuestionLocTitle())}get singleInputActions(){return this.getPropertyValue("singleInputActions",void 0,()=>this.createSingleInputActions())}get singleInputHasActions(){return this.getPropertyValue("singleInputHasActions",void 0,()=>this.createSingleInputActions())}get singleInputHideHeader(){var e;return!!((e=this.singleInputQuestion)===null||e===void 0?void 0:e.singleInputQuestion)&&this.singleInputQuestion!==this}set sinleInputHasActions(e){this.setPropertyValue("singleInputHasActions",e)}get singleInputParentQuestion(){var e;return((e=this.singleInputQuestion)===null||e===void 0?void 0:e.parentQuestion)||this}createSingleInputActions(){var e;if(((e=this.survey)===null||e===void 0?void 0:e.currentSingleQuestion)!==this)return;const t=new wr;return t.actions=this.getSingleQuestionActions(),t}calcSingleInputActions(){if(this.parentQuestion)this.parentQuestion.calcSingleInputActions();else{const e=this.getSingleQuestionActions();this.singleInputActions&&(this.singleInputActions.actions=e),this.sinleInputHasActions=e.length>0?!0:void 0}}getSingleQuestionActions(){const e=new Array,t=this.currentSingleInputParentQuestion;if(!t||t===this)return e;const n=t.getSingleInputQuestions(),r=new Array;let s;n.length>1&&n[0]===t&&(s=t,r.push(t));let o=t.parentQuestion;for(;o;)r.push(o),o=o.parentQuestion;for(let a=r.length-1;a>=0;a--){const l=r[a];if(l!==s){const u=l.singleInputLocTitle,c=new Xt({id:"single-action"+l.id,locTitle:u,css:this.cssClasses.breadcrumbsItem,innerCss:this.cssClasses.breadcrumbsItemButton,action:()=>{l.singleInputMoveToFirst()}});c.cssClasses={},e.push(c)}}return e}singleInputMoveToFirst(){const e=this.singleInputQuestion;e&&e!==this&&e.singleInputMoveToFirst(),this.singleInputMoveToFirstCore()}singleInputMoveToFirstCore(){}getSingleQuestionLocTitle(){return this.singleInputSummary?void 0:this.getSingleQuestionLocTitleCore()}getSingleQuestionLocTitleCore(){}supportNestedSingleInput(){var e;return(e=this.survey)===null||e===void 0?void 0:e.supportsNestedSingleInput(this)}getSingleInputQuestions(){if(!this.supportNestedSingleInput())return[];const e=this.getPropertyValue("singleInputQuestion");if(e===this)return[this];const t=this.getSingleInputQuestionsCore(e,!e||!this.isSingleInputSummaryShown);return t.forEach(n=>{n!==this&&this.onSingleInputQuestionAdded(n)}),t}getSingleInputQuestionsCore(e,t){return this.getNestedQuestions(!0,!1)}onSingleInputQuestionAdded(e){}fillSingleInputQuestionsInContainer(e,t){}getSingleInputQuestionsForDynamic(e,t){const n=new Array;return e&&e!==this&&t.indexOf(e)<0&&this.fillSingleInputQuestionsInContainer(n,e),t.forEach(r=>n.push(r)),this.isSingleInputSummaryShown&&n.length>0&&n.unshift(this),n.push(this),n}getSingleInputAddTextCore(){}singleInputAddItemCore(){}singleInputRemoveItemCore(e){}setSingleInputQuestionCore(e){this.onBeforeSetSingleInputQuestion(e),this.setPropertyValue("singleInputQuestion",e)}onBeforeSetSingleInputQuestion(e){e.onFirstRendering(),e===this&&(this.isSingleInputSummaryShown=!0)}setSingleInputQuestion(e,t){this.singleInputQuestion!==e&&(this.setSingleInputQuestionCore(e),this.onSingleInputChanged(!t||e!==this))}nextPrevSingleInput(e){let t=this.currentSingleInputParentQuestion;for(;t&&t!==this;){if(t.nextPrevSingleInput(e))return!0;t=t.parentQuestion}const n=this.singleInputQuestion;if(!n)return!1;const r=this.getSingleInputQuestions();let s=r.indexOf(n);if(s<0){if(r.length===0)return!1;s=0,e=0}return s+=e,s<0||s>=r.length?!1:(this.setSingleInputQuestion(r[s],e<0),!0)}get hasTitle(){return this.getTitleLocation()!=="hidden"}get titleLocation(){return this.getPropertyValue("titleLocation")}set titleLocation(e){var t=this.titleLocation=="hidden"||e=="hidden";this.setPropertyValue("titleLocation",e.toLowerCase()),this.updateQuestionCss(),t&&this.notifySurveyVisibilityChanged()}get showTitle(){return this.getTitleLocation()!=="hidden"}set showTitle(e){this.titleLocation=e?"default":"hidden"}getTitleOwner(){return this}getIsTitleRenderedAsString(){return this.titleLocation==="hidden"}notifySurveyOnChildrenVisibilityChanged(){return!1}notifySurveyVisibilityChanged(){if(!this.survey||this.isLoadingFromJson)return;this.survey.questionVisibilityChanged(this,this.isVisible,!this.parentQuestion||this.parentQuestion.notifySurveyOnChildrenVisibilityChanged());const e=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(e),e&&this.isVisibleInSurvey&&this.updateValueWithDefaults()}clearValueOnHidding(e){e&&this.clearValueIfInvisible()}get titleWidth(){if(this.parent&&this.getTitleLocation()==="left"){const e=this.parent.getColumsForElement(this),t=e.length;if(t!==0&&e[0].questionTitleWidth)return e[0].questionTitleWidth;const n=this.getQuestionParentTitleWidth(),r=this.getPercentQuestionTitleWidth(n);if(!r&&this.parent){let s=n;return s&&!isNaN(s)&&(s=s+"px"),s}return r/(t||1)+"%"}}getQuestionParentTitleWidth(){if(!this.parent)return;const e=this.parent.getQuestionTitleWidth();return!e&&this.parentQuestion?this.parentQuestion.getQuestionParentTitleWidth():e}getPercentQuestionTitleWidth(e){if(e&&e[e.length-1]==="%")return parseInt(e)}getTitleLocation(){if(this.isFlowLayout)return"hidden";var e=this.getTitleLocationCore();return e==="left"&&!this.isAllowTitleLeft&&(e="top"),e}getTitleLocationCore(){return this.titleLocation!=="default"?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"}get hasTitleOnLeft(){return this.hasTitle&&this.getTitleLocation()==="left"}get hasTitleOnTop(){return this.hasTitle&&this.getTitleLocation()==="top"}get hasTitleOnBottom(){return this.hasTitle&&this.getTitleLocation()==="bottom"}get hasTitleOnLeftTop(){if(!this.hasTitle)return!1;const e=this.getTitleLocation();return e==="left"||e==="top"}get errorLocation(){return this.getPropertyValue("errorLocation")}set errorLocation(e){this.setPropertyValue("errorLocation",e)}getErrorLocation(){return this.errorLocation!=="default"?this.errorLocation:this.parentQuestion?this.parentQuestion.getChildErrorLocation(this):this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"}getChildErrorLocation(e){return this.getErrorLocation()}get hasInput(){return!0}get hasSingleInput(){return this.hasInput}get inputId(){return this.id+"i"}getDefaultTitleValue(){return this.name}getDefaultTitleTagName(){return oe.titleTags.question}get descriptionLocation(){return this.getPropertyValue("descriptionLocation")}set descriptionLocation(e){this.setPropertyValue("descriptionLocation",e),this.updateQuestionCss()}get hasDescriptionUnderTitle(){return this.getDescriptionLocation()=="underTitle"&&this.hasDescription}get hasDescriptionUnderInput(){return this.getDescriptionLocation()=="underInput"&&this.hasDescription}getDescriptionLocation(){return this.descriptionLocation!=="default"?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"}needClickTitleFunction(){return super.needClickTitleFunction()||this.hasInput}processTitleClick(){if(super.processTitleClick(),!this.isCollapsed)return setTimeout(()=>{this.focus()},1),!0}get requiredErrorText(){return this.getLocalizableStringText("requiredErrorText")}set requiredErrorText(e){this.setLocalizableStringText("requiredErrorText",e)}get locRequiredErrorText(){return this.getLocalizableString("requiredErrorText")}get commentText(){return this.getLocalizableStringText("commentText")}set commentText(e){this.setLocalizableStringText("commentText",e)}get locCommentText(){return this.getLocalizableString("commentText")}get commentPlaceholder(){return this.getLocalizableStringText("commentPlaceholder")}set commentPlaceholder(e){this.setLocalizableStringText("commentPlaceholder",e)}get locCommentPlaceholder(){return this.getLocalizableString("commentPlaceholder")}get commentPlaceHolder(){return this.commentPlaceholder}set commentPlaceHolder(e){this.commentPlaceholder=e}get renderedCommentPlaceholder(){var e;return(e=this.getPropertyValue("renderedCommentPlaceholder"))!==null&&e!==void 0?e:this.isReadOnly?void 0:this.commentPlaceHolder}resetRenderedCommentPlaceholder(){this.resetPropertyValue("renderedCommentPlaceholder")}get defaultDisplayValue(){return this.getLocalizableStringText("defaultDisplayValue")}set defaultDisplayValue(e){this.setLocalizableStringText("defaultDisplayValue",e)}get locDefaultDisplayValue(){return this.getLocalizableString("defaultDisplayValue")}getAllErrors(){return this.errors.slice()}getErrorByType(e){for(let t=0;t<this.errors.length;t++)if(this.errors[t].getErrorType()===e)return this.errors[t];return null}get customWidget(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue}updateCustomWidget(){this.customWidgetValue=tb.Instance.getCustomWidget(this)}localeChanged(){super.localeChanged(),this.resetRenderedCommentPlaceholder(),this.localeChangedCallback&&this.localeChangedCallback()}get isCompositeQuestion(){return!1}get isContainer(){return!1}onCommentInput(e){this.isInputTextUpdate&&e.target&&(this.comment=e.target.value)}onCommentChange(e){this.comment=e.target.value,this.comment!==e.target.value&&(e.target.value=this.comment)}afterRenderQuestionElement(e){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,e)}afterRender(e){this.afterRenderCore(e),this.survey&&(this.survey.afterRenderQuestion(this,e),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,e),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(t=>{const n=e==null?void 0:e.querySelector(`#${t}`);n&&this.commentElements.push(n)})),this.checkForResponsiveness(e))}afterRenderCore(e){super.afterRenderCore(e)}getCommentElementsId(){return[this.commentId]}beforeDestroyQuestionElement(e){this.commentElements=void 0}get processedTitle(){var e=this.locProcessedTitle.textOrHtml;return e||this.name}get fullTitle(){return this.locTitle.renderedHtml}get titlePattern(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"}get isRequireTextOnStart(){return this.isRequired&&this.titlePattern=="requireNumTitle"}get isRequireTextBeforeTitle(){return this.isRequired&&this.titlePattern=="numRequireTitle"&&this.requiredMark!==""}get isRequireTextAfterTitle(){return this.isRequired&&this.titlePattern=="numTitleRequire"&&this.requiredMark!==""}get startWithNewLine(){return this.getPropertyValue("startWithNewLine")}set startWithNewLine(e){this.startWithNewLine!=e&&this.setPropertyValue("startWithNewLine",e)}calcCssClasses(e){const t={error:{}};return this.copyCssClasses(t,e.question),this.copyCssClasses(t.error,e.error),this.updateCssClasses(t,e),t}onCalcCssClasses(e){super.onCalcCssClasses(e),this.survey&&this.survey.updateQuestionCssClasses(this,e),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(e)}get cssRoot(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")}setCssRoot(e){this.setPropertyValue("cssRoot",e)}getCssRoot(e){const t=this.hasCssError();return new Ie().append(super.getCssRoot(e)).append(this.isFlowLayout&&!this.isDesignMode?e.flowRoot:e.mainRoot).append(e.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(e.titleTopRoot,!this.isFlowLayout&&this.hasTitleOnTop).append(e.titleBottomRoot,!this.isFlowLayout&&this.hasTitleOnBottom).append(e.descriptionUnderInputRoot,!this.isFlowLayout&&this.hasDescriptionUnderInput).append(e.hasError,t).append(e.hasErrorTop,t&&this.getErrorLocation()=="top").append(e.hasErrorBottom,t&&this.getErrorLocation()=="bottom").append(e.small,!this.width).append(e.answered,this.isAnswered).append(e.noPointerEventsMode,this.isReadOnlyAttr).toString()}get cssHeader(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")}setCssHeader(e){this.setPropertyValue("cssHeader",e)}getCssHeader(e){return new Ie().append(e.header).append(e.headerTop,this.hasTitleOnTop).append(e.headerLeft,this.hasTitleOnLeft).append(e.headerBottom,this.hasTitleOnBottom).toString()}supportContainerQueries(){return!1}get cssContent(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")}setCssContent(e){this.setPropertyValue("cssContent",e)}getCssContent(e){return new Ie().append(e.content).append(e.contentSupportContainerQueries,this.supportContainerQueries()).append(e.contentLeft,this.hasTitleOnLeft).toString()}get cssTitle(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")}setCssTitle(e){this.setPropertyValue("cssTitle",e)}getCssTitle(e){return new Ie().append(super.getCssTitle(e)).append(e.singleInputTitle,!!this.singleInputQuestion).append(e.titleOnAnswer,!this.containsErrors&&this.isAnswered).append(e.titleEmpty,!this.title.trim()).toString()}get cssDescription(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")}setCssDescription(e){this.setPropertyValue("cssDescription",e)}getCssDescription(e){return new Ie().append(e.description).append(e.descriptionUnderInput,this.getDescriptionLocation()=="underInput").toString()}get showErrorsAboveQuestion(){return this.getErrorLocation()==="top"}get showErrorsBelowQuestion(){return this.getErrorLocation()==="bottom"}get cssError(){return this.ensureElementCss(),this.getPropertyValue("cssError","")}setCssError(e){this.setPropertyValue("cssError",e)}getCssError(e){return new Ie().append(e.error.root).append(e.errorsContainer).append(e.errorsContainerTop,this.showErrorsAboveQuestion).append(e.errorsContainerBottom,this.showErrorsBelowQuestion).toString()}hasCssError(){return this.errors.length>0||this.hasCssErrorCallback()}get isSingleInputQuestionMode(){var e;return!!this.parentQuestion&&((e=this.survey)===null||e===void 0?void 0:e.isSingleVisibleInput)}getIsNested(){return this.isSingleInputQuestionMode?!1:super.getIsNested()}getHasFrameV2(){return this.isSingleInputQuestionMode?!0:super.getHasFrameV2()}getRootCss(){return new Ie().append(this.cssRoot,!this.singleInputQuestion).append(this.cssClasses.mobile,this.isMobile).append(this.cssClasses.readOnly,this.isReadOnlyStyle).append(this.cssClasses.disabled,this.isDisabledStyle).append(this.cssClasses.preview,this.isPreviewStyle).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()}getQuestionRootCss(){return new Ie().append(this.cssClasses.root).append(this.cssClasses.rootMobile,this.isMobile).toString()}updateElementCss(e){this.wasRendered?(super.updateElementCss(e),e&&this.updateQuestionCss(!0)):this.clearCssClasses(),this.resetIndents()}updateQuestionCss(e){this.isLoadingFromJson||!this.survey||(this.wasRendered?this.updateElementCssCore(this.cssClasses):this.isRequireUpdateElements=!0)}ensureElementCss(){this.cssClassesValue||this.updateQuestionCss(!0)}updateElementCssCore(e){this.setCssRoot(this.getCssRoot(e)),this.setCssHeader(this.getCssHeader(e)),this.setCssContent(this.getCssContent(e)),this.setCssTitle(this.getCssTitle(e)),this.setCssDescription(this.getCssDescription(e)),this.setCssError(this.getCssError(e))}updateCssClasses(e,t){if(!t.question)return;const n=t[this.getCssType()],r=new Ie().append(e.title).append(t.question.titleRequired,this.isRequired);e.title=r.toString();const s=new Ie().append(e.root).append(n,this.isRequired&&!!t.question.required);if(n==null)e.root=s.toString();else if(typeof n=="string"||n instanceof String)e.root=s.append(n.toString()).toString();else{e.root=s.toString();for(const o in n)e[o]=n[o]}}getCssType(){return this.getType()}get renderCssRoot(){return this.cssClasses.root||void 0}calcPaddingLeft(){return this.getIndentSize(this.indent)}calcPaddingRight(){return this.getIndentSize(this.rightIndent)}getIndentSize(e){return e<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":e*this.cssClasses.indent+"px"}focus(e=!1,t){if(this.isDesignMode||!this.isVisible||!this.survey)return;let n=this.page;const r=!!n&&this.survey.activePage!==n,s=this.survey.isSingleVisibleInput;if(r&&!s)this.survey.focusQuestionByInstance(this,e);else if(s){this.survey.currentSingleQuestion=this.rootParentQuestion;const o=this.getParentQuestions();for(let a=o.length-1;a>=1;a--)a===o.length-1&&o[a].setSingleInputQuestion(o[a-1]);o.length>0&&o[0].setSingleInputQuestion(this),this.focusInputElement(e)}else{this.expandAllParents();const o=this.survey.isSmoothScrollEnabled?{behavior:"smooth"}:void 0;this.survey.scrollElementToTop(this,this,null,this.id,t,o,void 0,()=>{this.focusInputElement(e)})}}focusInputElement(e){var t;const n=e?this.getFirstErrorInputElementId():this.getFirstInputElementId(),r=(t=this.survey)===null||t===void 0?void 0:t.rootElement;ni.FocusElement(n,!1,r)&&this.fireCallback(this.focusCallback)}get isValidateVisitedEmptyFields(){return this.supportEmptyValidation()&&!!this.survey&&this.survey.getValidateVisitedEmptyFields()&&this.isEmpty()}supportEmptyValidation(){return!1}onBlur(e){this.onBlurCore(e)}onFocus(e){this.onFocusCore(e)}onBlurCore(e){this.isFocusEmpty&&this.isEmpty()&&this.validate(!0)}onFocusCore(e){this.isFocusEmpty=this.isValidateVisitedEmptyFields}expandAllParents(){this.expandAllParentsCore(this)}expandAllParentsCore(e){e&&(e.isCollapsed&&e.expand(),this.expandAllParentsCore(e.parent),this.expandAllParentsCore(e.parentQuestion))}focusIn(){!this.survey||this.isDisposed||this.isContainer||this.survey.whenQuestionFocusIn(this)}fireCallback(e){e&&e()}getOthersMaxLength(){return this.survey&&this.survey.maxCommentLength>0?this.survey.maxCommentLength:null}onCreating(){}getFirstQuestionToFocus(e){return this.hasInput&&(!e||this.currentErrorCount>0)?this:null}getFirstInputElementId(){return this.inputId}getFirstErrorInputElementId(){return this.getFirstInputElementId()}supportComment(){const e=this.getPropertyByName("showCommentArea");return!e||e.visible}supportOther(){return!1}get isRequired(){return this.getPropertyValue("isRequired")}set isRequired(e){this.setPropertyValue("isRequired",e)}get requiredIf(){return this.getPropertyValue("requiredIf","")}set requiredIf(e){this.setPropertyValue("requiredIf",e)}get showCommentArea(){return this.getPropertyValue("showCommentArea",!1)}set showCommentArea(e){this.supportComment()&&this.setPropertyValue("showCommentArea",e)}get hasComment(){return this.showCommentArea}set hasComment(e){this.showCommentArea=e}get id(){return this.getPropertyValue("id")}set id(e){this.setPropertyValue("id",e)}get ariaTitleId(){return this.id+"_ariaTitle"}get ariaDescriptionId(){return this.id+"_ariaDescription"}get commentId(){return this.id+"_comment"}get requireUpdateCommentValue(){return this.hasComment}get isReadOnly(){const e=!!this.parent&&this.parent.isReadOnly,t=!!this.parentQuestion&&this.parentQuestion.isReadOnly,n=!!this.survey&&this.survey.isDisplayMode,r=!!this.readOnlyCallback&&this.readOnlyCallback();return this.readOnly||e||n||t||r}get isInputReadOnly(){return this.forceIsInputReadOnly!==void 0?this.forceIsInputReadOnly:this.isReadOnly||this.isDesignMode}get renderedInputReadOnly(){return this.isInputReadOnly?"":void 0}get renderedInputDisabled(){return this.isInputReadOnly?"":void 0}get isReadOnlyAttr(){return this.isReadOnly}get isDisabledAttr(){return this.isDesignMode||!!this.readOnlyCallback&&this.readOnlyCallback()}onReadOnlyChanged(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),super.onReadOnlyChanged(),this.isReadOnly&&this.clearErrors(),this.updateQuestionCss(),this.resetRenderedCommentPlaceholder()}get enableIf(){return this.getPropertyValue("enableIf","")}set enableIf(e){this.setPropertyValue("enableIf",e)}surveyChoiceItemVisibilityChange(){}runCondition(e){this.isDesignMode||(e||(e={}),e.question=this,this.runConditionCore(e),!this.isValueChangedDirectly&&(!this.isClearValueOnHidden||this.isVisibleInSurvey)&&(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,e)))}get isInDesignMode(){return!this.isContentElement&&this.isDesignMode}get no(){return this.getPropertyValue("no")}calcNo(){if(!this.hasTitle||!this.showNumber)return"";let e;this.parent&&(e=this.parent.visibleIndex);let t=se.getNumberByIndex(this.visibleIndex,this.getStartIndex(),e);return this.parent&&(t=this.parent.addNoFromChild(t)),this.survey&&(t=this.survey.getUpdatedQuestionNo(this,t)),t}getStartIndex(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""}onSurveyLoad(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey()}onSetData(){super.onSetData(),!this.isDesignMode&&this.survey&&!this.isLoadingFromJson&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.updateIsAnswered())}initDataFromSurvey(){if(this.data){const e=this.data.getValue(this.getValueName());(!se.isValueEmpty(e)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(e),this.initCommentFromSurvey()}}initCommentFromSurvey(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")}runExpression(e){if(!(!this.survey||!e))return this.survey.runExpression(e)}get commentAreaRows(){return this.survey&&this.survey.commentAreaRows}get autoGrowComment(){return this.survey&&this.survey.autoGrowComment}get allowResizeComment(){return this.survey&&this.survey.allowResizeComment}get questionValue(){return this.getPropertyValueWithoutDefault("value")}set questionValue(e){this.setPropertyValue("value",e)}get questionComment(){return this.getPropertyValueWithoutDefault("comment")}set questionComment(e){this.setPropertyValue("comment",e),this.fireCallback(this.commentChangedCallback)}get isValueArray(){return!1}get value(){return this.getValueCore()}set value(e){this.setNewValue(e)}get hasFilteredValue(){return!1}getFilteredValue(e){return this.value}getFilteredName(){return this.getValueName()}get valueForSurvey(){return this.valueForSurveyCore(this.value)}valueForSurveyCore(e){return this.valueToDataCallback?this.valueToDataCallback(e):e}valueFromDataCore(e){return this.valueFromDataCallback?this.valueFromDataCallback(e):e}clearValue(e){this.value!==void 0&&(this.value=void 0),this.comment&&e!==!0&&(this.comment=void 0),this.setValueChangedDirectly(!1)}clearValueOnly(){this.clearValue(!0)}unbindValue(){this.clearValue()}createValueCopy(){return this.getUnbindValue(this.value)}initDataUI(){}getUnbindValue(e){return this.isValueSurveyElement(e)?e:se.getUnbindValue(e)}isValueSurveyElement(e){return e?Array.isArray(e)?e.length>0?this.isValueSurveyElement(e[0]):!1:e.isSurveyObj===!0:!1}canClearValueAsInvisible(e){return e==="onHiddenContainer"&&!this.isParentVisible?!0:this.isVisibleInSurvey||this.page&&this.page.isStartPage?!1:this.survey?!this.survey.hasVisibleQuestionByValueName(this.getValueName()):!0}get isParentVisible(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var e=this.parent;e;){if(!e.isVisible)return!1;e=e.parent}return!0}clearValueIfInvisible(e="onHidden"){const t=this.getClearIfInvisible();t!=="none"&&(e==="onHidden"&&t==="onComplete"||e==="onHiddenContainer"&&t!==e||this.clearValueIfInvisibleCore(e))}clearValueIfInvisibleCore(e){this.canClearValueAsInvisible(e)&&this.clearValue()}get clearIfInvisible(){return this.getPropertyValue("clearIfInvisible")}set clearIfInvisible(e){this.setPropertyValue("clearIfInvisible",e)}getClearIfInvisible(){const e=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(e):e!=="default"?e:"onComplete"}get displayValue(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)}getDisplayValue(e,t=void 0){var n=this.calcDisplayValue(e,t);return this.survey&&(n=this.survey.getQuestionDisplayValue(this,n)),this.displayValueCallback?this.displayValueCallback(n):n}calcDisplayValue(e,t=void 0){if(this.customWidget){var n=this.customWidget.getDisplayValue(this,t);if(n)return n}return t=t??this.createValueCopy(),this.isValueEmpty(t)&&!this.locDefaultDisplayValue.isEmpty&&(t=this.defaultDisplayValue),this.isValueEmpty(t,!this.allowSpaceAsAnswer)?this.getDisplayValueEmpty():this.getDisplayValueCore(e,t)}getDisplayValueCore(e,t){return t}getDisplayValueEmpty(){return""}get defaultValue(){return this.getPropertyValue("defaultValue")}set defaultValue(e){if(this.isValueExpression(e)){this.defaultValueExpression=e.substring(1);return}this.setPropertyValue("defaultValue",this.valueToData(e)),this.updateValueWithDefaults()}get defaultValueExpression(){return this.getPropertyValue("defaultValueExpression")}set defaultValueExpression(e){this.setPropertyValue("defaultValueExpression",e),this.defaultValueRunner=void 0,this.updateValueWithDefaults()}get resetValueIf(){return this.getPropertyValue("resetValueIf")}set resetValueIf(e){this.setPropertyValue("resetValueIf",e)}get setValueIf(){return this.getPropertyValue("setValueIf")}set setValueIf(e){this.setPropertyValue("setValueIf",e)}get setValueExpression(){return this.getPropertyValue("setValueExpression")}set setValueExpression(e){this.setPropertyValue("setValueExpression",e)}get resizeStyle(){return this.allowResizeComment?"both":"none"}getPlainData(e){if(e||(e={includeEmpty:!0,includeQuestionTypes:!1}),e.includeEmpty||!this.isEmpty()){var t={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:n=>typeof n=="object"?JSON.stringify(n):n};return e.includeQuestionTypes===!0&&(t.questionType=this.getType()),(e.calculations||[]).forEach(n=>{t[n.propertyName]=this.getPlainDataCalculatedValue(n.propertyName)}),this.hasComment&&(t.isNode=!0,t.data=[{name:0,isComment:!0,title:"Comment",value:oe.commentSuffix,displayValue:this.comment,getString:n=>typeof n=="object"?JSON.stringify(n):n,isNode:!1}]),t}}getPlainDataCalculatedValue(e){return this[e]}get correctAnswer(){return this.getPropertyValue("correctAnswer")}set correctAnswer(e){this.setPropertyValue("correctAnswer",this.valueToData(e))}get quizQuestionCount(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0}get correctAnswerCount(){return!this.isEmpty()&&!this.isValueEmpty(this.correctAnswer)?this.getCorrectAnswerCount():0}getQuizQuestionCount(){return 1}getCorrectAnswerCount(){return this.checkIfAnswerCorrect()?1:0}checkIfAnswerCorrect(){const e=se.isTwoValueEquals(this.value,this.correctAnswer,this.getAnswerCorrectIgnoreOrder(),oe.comparator.caseSensitive,!0),t=e?1:0,n=this.quizQuestionCount-t,r={result:e,correctAnswers:t,correctAnswerCount:t,incorrectAnswers:n,incorrectAnswerCount:n};return this.survey&&this.survey.onCorrectQuestionAnswer(this,r),r.result}getAnswerCorrectIgnoreOrder(){return!1}isAnswerCorrect(){return this.correctAnswerCount==this.quizQuestionCount}updateValueWithDefaults(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()}get isValueDefault(){return!this.isEmpty()&&(this.isTwoValueEquals(this.defaultValue,this.value)||!this.isValueChangedDirectly&&!!this.defaultValueExpression)}get isClearValueOnHidden(){const e=this.getClearIfInvisible();return e==="none"||e==="onComplete"?!1:e==="onHidden"||e==="onHiddenContainer"}getQuestionFromArray(e,t){return null}getDefaultValue(){return this.defaultValue}isDefaultValueEmpty(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue,!this.allowSpaceAsAnswer)}getDefaultRunner(e,t){return!e&&t&&(e=this.createExpressionRunner(t)),e&&(e.expression=t),e}setDefaultValue(){this.setDefaultValueCore(e=>{e=this.convertToCorrectValue(e),this.isTwoValueEquals(this.value,e)||this.setDefaultIntoValue(e)})}setDefaultIntoValue(e){this.value=e}setDefaultValueCore(e){this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),t=>e(t))}updateValueWithDefaultsOrClear(){this.isDesignMode||this.isLoadingFromJson||(this.isDefaultValueEmpty()?this.clearValue():this.setDefaultValue())}isValueExpression(e){return!!e&&typeof e=="string"&&e.length>0&&e[0]=="="}setValueAndRunExpression(e,t,n,r=null){const s=o=>{this.runExpressionSetValueCore(o,n)};this.runDefaultValueExpression(e,r,s)||s(t)}convertFuncValuetoQuestionValue(e){return se.convertValToQuestionVal(e)}runExpressionSetValueCore(e,t){t(this.convertFuncValuetoQuestionValue(e))}runExpressionSetValue(e){this.runExpressionSetValueCore(e,t=>{this.isTwoValueEquals(this.value,t)||(this.startSetValueOnExpression(),this.value=t,this.finishSetValueOnExpression())})}startSetValueOnExpression(){var e;(e=this.survey)===null||e===void 0||e.startSetValueOnExpression()}finishSetValueOnExpression(){var e;(e=this.survey)===null||e===void 0||e.finishSetValueOnExpression()}runDefaultValueExpression(e,t=null,n){return!e||!this.data?!1:(n||(n=r=>{this.runExpressionSetValue(r)}),t||(t=this.defaultValueExpression?this.data.getFilteredProperties():{},t.question=this),e&&e.canRun&&(e.onRunComplete=r=>{r==null&&(r=this.defaultValue),this.isChangingViaDefaultValue=!0,n(r),this.isChangingViaDefaultValue=!1},e.runContext(this.getValueGetterContext(),t)),!0)}get comment(){return this.getQuestionComment()}set comment(e){if(e){const t=e.toString().trim();t!==e&&(e=t,e===this.comment&&this.setPropertyValueDirectly("comment",e))}this.comment!=e&&this.setNewComment(e)}getCommentAreaCss(e=!1){return new Ie().append("form-group",e).append(this.cssClasses.formGroup,!e).append(this.cssClasses.commentArea).append(this.cssClasses.otherArea,e).toString()}getQuestionComment(){return this.questionComment}isEmpty(){return this.isValueEmpty(this.value,!this.allowSpaceAsAnswer)}get isAnswered(){return this.getPropertyValue("isAnswered")||!1}set isAnswered(e){this.setPropertyValue("isAnswered",e)}updateIsAnswered(){const e=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),e!==this.isAnswered&&this.updateQuestionCss()}getIsAnswered(){return!this.isEmpty()}get validators(){return this.getPropertyValue("validators")}set validators(e){this.setPropertyValue("validators",e)}getValidators(){return this.validators}getSupportedValidators(){for(var e=[],t=this.getType();t;){var n=oe.supportedValidators[t];if(n)for(var r=n.length-1;r>=0;r--)e.splice(0,0,n[r]);var s=me.findClass(t);t=s.parentName}return e}addConditionObjectsByContext(e,t){e.push({name:this.getFilteredName(),text:this.processedTitle,question:this})}getNestedQuestions(e=!1,t=!0,n=!1){const r=[];return this.collectNestedQuestions(r,e,t,n),!n&&r.length===1&&r[0]===this?[]:r}collectNestedQuestions(e,t=!1,n=!0,r=!1){t&&!this.isVisible||this.collectNestedQuestionsCore(e,t,n,r)}collectNestedQuestionsCore(e,t,n,r){e.push(this)}addNestedQuestion(e,t,n,r){n?this.collectNestedQuestions(e,t,n,r):(!t||this.isVisible)&&e.push(this)}getConditionJson(e=null,t=null){const n=new Si().toJsonObject(this);return n.type=this.getType(),n}hasErrors(e=!0,t=null){const n=this.checkForErrors(!!t&&t.isOnValueChanged===!0,e);return e&&(this.errors=n,this.errors!==n&&this.errors.forEach(r=>r.locText.strChanged())),this.updateContainsErrors(),this.isCollapsed&&t&&e&&n.length>0&&this.expand(),n.length>0}validate(e=!0,t=null){return t&&t.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(e,t)}get currentErrorCount(){return this.errors.length}get requiredMark(){return this.survey!=null&&this.isRequired?this.survey.requiredMark:""}get requiredText(){return this.requiredMark}addError(e){if(!e)return;let t=null;typeof e=="string"||e instanceof String?t=this.addCustomError(e):t=e,this.errors.push(t)}addCustomError(e){return new Ma(e,this.survey)}removeError(e){if(!e)return!1;const t=this.errors,n=t.indexOf(e);return n!==-1&&t.splice(n,1),n!==-1}checkForErrors(e,t){var n=new Array;if(this.isVisible&&this.canCollectErrors()&&this.collectErrors(n,e,t),this.survey){if(this.validateValueCallback&&n.length===0){const r=this.validateValueCallback();r&&n.push(r)}this.survey.validateQuestion(this,n,t)}return n}canCollectErrors(){return!this.isReadOnly||oe.readOnly.enableValidation}collectErrors(e,t,n){if(this.onCheckForErrors(e,t,n),!(e.length>0||!this.canRunValidators(t))){var r=this.runValidators();if(r.length>0){e.length=0;for(var s=0;s<r.length;s++)e.push(r[s])}}}canRunValidators(e){return!0}onCheckForErrors(e,t,n){if((!t||this.isOldAnswered)&&this.hasRequiredError()){const r=new lRe(this.requiredErrorText,this);r.onUpdateErrorTextCallback=s=>{s.text=this.requiredErrorText},e.push(r)}if(!this.isEmpty()&&this.customWidget){const r=this.customWidget.validate(this);r&&e.push(this.addCustomError(r))}}hasRequiredError(){return this.isRequired&&this.isEmpty()}get isRunningValidators(){return this.getIsRunningValidators()}getIsRunningValidators(){return this.isRunningValidatorsValue}runValidators(){return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new vRe,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=e=>{this.doOnAsyncCompleted(e)},this.validatorRunner.run(this)}doOnAsyncCompleted(e){for(var t=0;t<e.length;t++)this.errors.push(e[t]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()}raiseOnCompletedAsyncValidators(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)}setNewValue(e){this.isNewValueEqualsToValue(e)||this.checkIsValueCorrect(e)&&(this.isOldAnswered=this.isAnswered,this.isSettingQuestionValue=!0,this.setNewValueInData(e),this.allowNotifyValueChanged&&this.onValueChanged(),this.isSettingQuestionValue=!1,this.isAnswered!==this.isOldAnswered&&this.updateQuestionCss(),this.isOldAnswered=void 0,this.parent&&this.parent.onQuestionValueChanged(this))}checkIsValueCorrect(e){const t=this.isValueEmpty(e,!this.allowSpaceAsAnswer)||this.isNewValueCorrect(e);return t||ha.inCorrectQuestionValue(this.name,e),t}isNewValueCorrect(e){return!0}isNewValueEqualsToValue(e){const t=this.value;return this.isTwoValueEquals(e,t,!1,!1)?!(e===t&&!!t&&(Array.isArray(t)||typeof t=="object")):!1}isTextValue(){return!1}getIsInputTextUpdate(){return this.survey?this.survey.isUpdateValueTextOnTyping:!1}get requireStrictCompare(){return!1}getExpressionValue(e){return e}getDataLocNotification(){return this.isInputTextUpdate?"text":!1}get isInputTextUpdate(){return this.getIsInputTextUpdate()&&this.isTextValue()}setNewValueInData(e){e=this.valueToData(e),this.isValueChangedInSurvey||this.setValueCore(e)}getValueCore(){return this.questionValue}setValueCore(e){this.setQuestionValue(e),this.data!=null&&this.canSetValueToSurvey()&&(e=this.valueForSurvey,this.data.setValue(this.getValueName(),e,this.getDataLocNotification(),this.allowNotifyValueChanged,this.name)),this.isMouseDown=!1}canSetValueToSurvey(){return!0}valueFromData(e){return e}valueToData(e){return e}convertToCorrectValue(e){return e}onValueChanged(){}onMouseDown(){this.isMouseDown=!0}setNewComment(e){this.questionComment!==e&&(this.questionComment=e,this.setCommentIntoData(e))}setCommentIntoData(e){this.data!=null&&this.data.setComment(this.getValueName(),e,this.getIsInputTextUpdate()?"text":!1)}getValidName(e){return dE(e)}updateValueFromSurvey(e,t=!1){if(e=this.getUnbindValue(e),e=this.valueFromDataCore(e),!this.checkIsValueCorrect(e))return;const n=this.isValueEmpty(e);!n&&this.defaultValueExpression?this.setDefaultValueCore(r=>{this.updateValueFromSurveyCore(e,this.isTwoValueEquals(e,r))}):(this.updateValueFromSurveyCore(e,this.data!==this.getSurvey()),t&&n&&(this.isValueChangedDirectly=!1)),this.updateDependedQuestions(),this.updateIsAnswered()}updateValueFromSurveyCore(e,t){this.isChangingViaDefaultValue=t,e=this.valueFromData(e);const n=this.isTwoValueEquals(this.questionValue,this.convertToCorrectValue(e));this.setQuestionValue(e),n||this.resetSingleInput(),this.isChangingViaDefaultValue=!1}updateCommentFromSurvey(e){this.questionComment=e}onChangeQuestionValue(e){}setValueChangedDirectly(e){this.isValueChangedDirectly=e,this.setValueChangedDirectlyCallback&&this.setValueChangedDirectlyCallback(e)}setQuestionValue(e,t=!0){e=this.convertToCorrectValue(e);const n=this.isTwoValueEquals(this.questionValue,e);!n&&!this.isChangingViaDefaultValue&&!this.isParentChangingViaDefaultValue&&this.setValueChangedDirectly(!0),this.questionValue=e,n||this.onChangeQuestionValue(e),!n&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),t&&this.updateIsAnswered()}get isParentChangingViaDefaultValue(){var e;return((e=this.data)===null||e===void 0?void 0:e.isChangingViaDefaultValue)===!0}onSurveyValueChanged(e){}setVisibleIndex(e){return e>-1&&(!this.isVisible||!this.hasTitle&&!oe.numbering.includeQuestionsWithHiddenTitle||!this.showNumber&&!oe.numbering.includeQuestionsWithHiddenNumber)&&(e=-1),this.setPropertyValue("visibleIndex",e),this.setPropertyValue("no",this.calcNo()),e<0?0:1}removeElement(e){return!1}supportGoNextPageAutomatic(){return this.supportAutoAdvance()}supportAutoAdvance(){return!1}supportGoNextPageError(){return!0}clearIncorrectValues(){}clearOnDeletingContainer(){}clearErrors(){this.errors=[]}clearUnusedValues(){}onAnyValueChanged(e,t){}checkBindings(e,t){if(!(this.bindings.isEmpty()||!this.data))for(var n=this.bindings.getPropertiesByValueName(e),r=0;r<n.length;r++){const s=n[r];this.isValueEmpty(t)&&se.isNumber(this[s])&&(t=0),this.updateBindingProp(s,t)}}updateBindingProp(e,t){this[e]=t}getComponentName(){return Kc.Instance.getRendererByQuestion(this)}isDefaultRendering(){return!!this.customWidget||this.getComponentName()==="default"}get renderAs(){return this.getPropertyValue("renderAs")}set renderAs(e){this.setPropertyValue("renderAs",e)}get inMatrixMode(){return this.getPropertyValue("inMatrixMode",!1)}set inMatrixMode(e){this.setPropertyValue("inMatrixMode",e)}getErrorCustomText(e,t){return this.survey?this.survey.getSurveyErrorCustomText(this,e,t):e}getValidatorTitle(){return null}get validatedValue(){return this.value}set validatedValue(e){this.value=e}getAllValues(){return this.data?this.data.getAllValues():null}processPopupVisiblilityChanged(e,t){this.survey.processPopupVisiblityChanged(this,e,t)}processOpenDropdownMenu(e){this.survey.processOpenDropdownMenu(this,e)}onTextKeyDownHandler(e){e.keyCode===13&&this.survey.questionEditFinishCallback(this,e)}transformToMobileView(){}transformToDesktopView(){}needResponsiveWidth(){return!1}supportResponsiveness(){return!1}needResponsiveness(){return this.supportResponsiveness()&&!this.isDesignMode}checkForResponsiveness(e){if(this.needResponsiveness())if(this.isCollapsed){const t=()=>{this.isExpanded&&(this.initResponsiveness(e),this.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))};this.registerPropertyChangedHandlers(["state"],t,"for-responsiveness")}else this.initResponsiveness(e)}getObservedElementSelector(){return".sd-scrollable-container"}onMobileChanged(){this.onMobileChangedCallback&&this.onMobileChangedCallback()}triggerResponsiveness(e=!0){this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(e)}initResponsiveness(e){if(St.isAvailable()&&(this.destroyResizeObserver(),e&&this.isDefaultRendering())){const t=this.getObservedElementSelector();if(!t||!e.querySelector(t))return;let r=!1,s;this.triggerResponsivenessCallback=o=>{o&&(s=void 0,this.renderAs="default",r=!1);const a=()=>{const l=e.querySelector(t);if(this.isDefaultRendering()&&(s=l.scrollWidth),r||!I5(l))r=!1;else{const u=cE(l);r=this.processResponsiveness(s,u)}};o?setTimeout(a,1):a()},this.resizeObserver=new ResizeObserver(o=>{Bt.requestAnimationFrame(()=>{this.triggerResponsiveness(!1)})}),this.onMobileChangedCallback=()=>{setTimeout(()=>{const o=e.querySelector(t);this.processResponsiveness(s,cE(o))},0)},this.resizeObserver.observe(e)}}getCompactRenderAs(){return"default"}getDesktopRenderAs(){return"default"}onBeforeSetCompactRenderer(){}onBeforeSetDesktopRenderer(){}processResponsiveness(e,t){if(t=Math.round(t),Math.abs(e-t)>2){const n=this.renderAs;return e>t?(this.onBeforeSetCompactRenderer(),this.renderAs=this.getCompactRenderAs()):(this.onBeforeSetDesktopRenderer(),this.renderAs=this.getDesktopRenderAs()),n!==this.renderAs}return!1}destroyResizeObserver(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())}dispose(){super.dispose(),this.resetDependedQuestions(),this.destroyResizeObserver()}resetDependedQuestions(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].resetDependedQuestion()}get isNewA11yStructure(){return!1}get ariaLabel(){return this.isNewA11yStructure||this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml}get ariaRole(){return this.isNewA11yStructure?null:"textbox"}get ariaRequired(){return this.isNewA11yStructure?null:this.isRequired?"true":"false"}get ariaInvalid(){return this.isNewA11yStructure?null:this.hasCssError()?"true":"false"}get ariaLabelledBy(){return this.isNewA11yStructure||!this.hasTitle||this.parentQuestion?null:this.ariaTitleId}get ariaDescribedBy(){return this.isNewA11yStructure?null:this.hasTitle&&this.hasDescription?this.ariaDescriptionId:null}getContentAriaHidden(){return null}get contentAriaHidden(){return this.getContentAriaHidden()}get ariaErrormessage(){return this.isNewA11yStructure?null:this.hasCssError()?this.id+"_errors":null}get a11y_input_ariaRole(){return null}get a11y_input_ariaRequired(){return this.isRequired?"true":"false"}get a11y_input_ariaInvalid(){return this.hasCssError()?"true":"false"}get a11y_input_ariaLabel(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml}get a11y_input_ariaLabelledBy(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null}get a11y_input_ariaDescribedBy(){let e=null;return this.hasCssError()?e=this.id+"_errors":this.hasTitle&&!this.parentQuestion&&this.hasDescription&&this.descriptionLocation!=="hidden"&&(e=this.ariaDescriptionId),e}get a11y_input_ariaErrormessage(){return null}get a11y_input_ariaExpanded(){return this.getPropertyValue("ariaExpanded")}registerSychProperties(e,t){this.registerFunctionOnPropertiesValueChanged(e,()=>{this._syncPropertiesChanging||(this._syncPropertiesChanging=!0,t(),this._syncPropertiesChanging=!1)})}}hr.questionCounter=100;function dE(i){if(!i)return i;for(i=i.trim().replace(/[\{\}]+/g,"");i&&i[0]===oe.expressionDisableConversionChar;)i=i.substring(1);return i}me.addClass("question",[{name:"!name",onSettingValue:(i,e)=>dE(e)},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:()=>oe.minWidth},{name:"maxWidth",defaultFunc:()=>oe.maxWidth},{name:"colSpan:number",visible:!1,onSerializeValue:i=>i.getPropertyValue("colSpan")},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(i){return!!i&&!!i.survey&&i.survey.gridLayoutEnabled}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(i){var e=i?i.survey:null;return!e||!e.pages||e.pages.length>1},choices:function(i){var e=i?i.survey:null;return e?e.pages.map(t=>({value:t.name,text:t.title})):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(i,e){i&&e&&(e.placeholder=i.locTitle.getPlaceholder())}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"showTitle:boolean",isSerializable:!1,dependsOn:"titleLocation"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"showNumber:boolean",dependsOn:"titleLocation",default:!0,visibleIf:function(i){if(!i)return!0;if(i.titleLocation==="hidden")return!1;var e=i?i.parent:null,t=!e||e.showQuestionNumbers!=="off";if(!t)return!1;var n=i?i.survey:null;return!n||n.showQuestionNumbers!=="off"||!!e&&e.showQuestionNumbers==="onpanel"}},{name:"hideNumber:boolean",visible:!1,isSerializable:!1},{name:"valueName",onSettingValue:(i,e)=>dE(e)},"enableIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"errorLocation",default:"default",choices:["default","top","bottom"]},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",isSerializableFunc:i=>!i.isBindingEmpty(),visibleIf:function(i){return i.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea:switch",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(i){return i.showCommentArea},serializationProperty:"locCommentText"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(i){return i.hasComment}},{name:"defaultDisplayValue",serializationProperty:"locDefaultDisplayValue"}]);me.addAlterNativeClassName("question","questionbase");class SRe{constructor(e){this.item=e}getValue(e,t,n,r){if(e.length===1){const o=e[0].name;if(o==="item"||o==="choice")return{isFound:!0,value:this.item.value,context:this}}const s=this.item.locOwner;if(s&&s.getValueGetterContext)return s.getValueGetterContext().getValue(e,t,n,r)}getRootObj(){const e=this.item.locOwner;return e&&e.getValueGetterContext?e:this.item.getSurvey()}getTextValue(e,t,n){return n&&t===this.item.value?this.item.textOrHtml:t!=null?t.toString():""}}class Kt extends si{getMarkdownHtml(e,t,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,n||this):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}static get Separator(){return oe.itemValueSeparator}static set Separator(e){oe.itemValueSeparator=e}static setData(e,t,n){e.length=0;for(let r=0;r<t.length;r++){const s=t[r],o=s&&typeof s.getType=="function"?s.getType():n??"itemvalue",a=me.createClass(o);a.setData(s),s.originalItem&&(a.originalItem=s.originalItem),s.data&&(a.data=s.data),e.push(a)}}static getData(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].getData());return t}static getItemByValue(e,t){if(!Array.isArray(e))return null;const n=se.isValueEmpty(t);for(var r=0;r<e.length;r++)if(n&&se.isValueEmpty(e[r].value)||se.isTwoValueEquals(e[r].value,t,!1,!0,!1))return e[r];return null}static getTextOrHtmlByValue(e,t){var n=Kt.getItemByValue(e,t);return n!==null?n.textOrHtml:""}static locStrsChanged(e){for(var t=0;t<e.length;t++)e[t].locStrsChanged()}static runConditionsForItems(e,t,n,r,s=!0,o){return Kt.runConditionsForItemsCore(e,t,n,r,!0,s,o)}static runEnabledConditionsForItems(e,t,n,r){return Kt.runConditionsForItemsCore(e,null,t,n,!1,!0,r)}static runConditionsForItemsCore(e,t,n,r,s,o=!0,a){for(var l=!1,u=0;u<e.length;u++){var c=e[u],h=o&&c.getConditionRunner?c.getConditionRunner(s):!1;h||(h=n);var f=!0;h&&(f=h.runContext(c.getValueGetterContext(),r)),a&&(f=a(c,f)),t&&f&&t.push(c);var m=s?c.isVisible:c.isEnabled;f!=m&&(l=!0,s?c.setIsVisible&&c.setIsVisible(f):c.setIsEnabled&&c.setIsEnabled(f))}return l}constructor(e,t,n){super(),this.typeName=n,this.ownerPropertyName="",t&&(this.locText.text=t),e&&typeof e=="object"?this.setData(e,!0):this.setValue(e,!0),this.getType()!=this.getBaseType()&&_i.createProperties(this),this.onCreating()}onCreating(){}getType(){return this.typeName||this.getBaseType()}getBaseType(){return"itemvalue"}getSurvey(e=!1){return this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null}getLocale(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""}getLocalizableString(e){return e==="text"?this.locText:super.getLocalizableString(e)}getValueGetterContext(){return new SRe(this)}get isInternal(){return this.isGhost===!0}createLocText(){const e=new Ar(this,!0,"text");return e.onStrChanged=(t,n)=>{this.propertyValueChanged("text",t,n)},e.onGetTextCallback=t=>this.onGetText(t),e}onGetText(e){return e||this.getValueText()}getValueText(){const e=this.value;return se.isValueEmpty(e)?null:e.toString()}get locText(){return this.locTextValue||(this.locTextValue=this.createLocText()),this.locTextValue}setLocText(e){this.locTextValue=e}get locOwner(){return this._locOwner}set locOwner(e){this._locOwner=e,this.onLocOwnerChanged()}onLocOwnerChanged(){}get value(){return this.getPropertyValue("value")}set value(e){this.setValue(e,!1)}setValue(e,t){let n;if(e=this.getCorrectValue(e),!se.isValueEmpty(e)){var r=e.toString(),s=r.indexOf(oe.itemValueSeparator);s>-1&&(e=r.slice(0,s),n=r.slice(s+1))}t?this.setPropertyValueDirectly("value",e):this.setPropertyValue("value",e),n&&(this.text=n),this.id=this.value}getCorrectValue(e){return e}get normalizedId(){return(se.isValueEmpty(this.value)?"":this.value.toString()).replace(/[^a-zA-Z0-9_]/g,"_")}get hasText(){return!!this.pureText}get pureText(){var e;return((e=this.locTextValue)===null||e===void 0?void 0:e.pureText)||""}set pureText(e){this.text=e}get text(){return this.calculatedText}set text(e){this.locText.text=e}get textOrHtml(){return this.locTextValue?this.locText.textOrHtml:this.getValueText()}get calculatedText(){return this.locTextValue?this.locText.calculatedText:this.getValueText()}get shortcutText(){return this.text}canSerializeValue(){const e=this.value;return e==null?!1:!Array.isArray(e)&&typeof e!="object"}getData(){var e=this.toJSON();if(e.value&&e.value.pos&&delete e.value.pos,se.isValueEmpty(e.value))return e;const t=this.canSerializeValue();return(!t||!oe.serialization.itemValueSerializeAsObject&&!oe.serialization.itemValueSerializeDisplayText)&&Object.keys(e).length==1?this.value:(oe.serialization.itemValueSerializeDisplayText&&e.text===void 0&&t&&(e.text=this.value.toString()),e)}toJSON(){var e={},t=me.getProperties(this.getType());(!t||t.length==0)&&(t=me.getProperties(this.getBaseType()));for(var n=new Si,r=0;r<t.length;r++){const s=t[r];this.canAddPpropertyToJSON(s)&&n.valueToJson(this,e,s)}return e}canAddPpropertyToJSON(e){return!(e.name==="text"&&(!this.locTextValue||!this.locTextValue.hasNonDefaultText()&&se.isTwoValueEquals(this.value,this.locTextValue.getLocaleText(""),!1,!0,!1)))}setData(e,t){var n;if(!se.isValueEmpty(e)){if(typeof e.value>"u"&&typeof e.text<"u"&&Object.keys(e).length===1&&(e.value=e.text),typeof e.value<"u"){let r;typeof e.toJSON=="function"?r=e.toJSON():r=e,new Si().toObject(r,this)}else this.setValue(e,t);t||(n=this.locTextValue)===null||n===void 0||n.strChanged()}}get visibleIf(){return this.getPropertyValueWithoutDefault("visibleIf")||""}set visibleIf(e){this.setPropertyValue("visibleIf",e)}get enableIf(){return this.getPropertyValueWithoutDefault("enableIf")||""}set enableIf(e){this.setPropertyValue("enableIf",e)}get isVisible(){const e=this.getPropertyValueWithoutDefault("isVisible");return e!==void 0?e:!0}setIsVisible(e){this.setPropertyValue("isVisible",e)}get isEnabled(){const e=this.getPropertyValueWithoutDefault("isEnabled");return e!==void 0?e:!0}setIsEnabled(e){this.setPropertyValue("isEnabled",e)}addUsedLocales(e){this.locTextValue&&this.AddLocStringToUsedLocales(this.locTextValue,e)}locStrsChanged(){var e;super.locStrsChanged(),(e=this.locTextValue)===null||e===void 0||e.strChanged()}onPropertyValueChanged(e,t,n){var r;e==="value"&&!this.hasText&&((r=this.locTextValue)===null||r===void 0||r.strChanged());var s="itemValuePropertyChanged";!this.locOwner||!this.locOwner[s]||this.locOwner[s](this,e,t,n)}getConditionRunner(e){return e?this.getVisibleConditionRunner():this.getEnableConditionRunner()}getVisibleConditionRunner(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new Do(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null}getEnableConditionRunner(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new Do(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null}get selected(){const e=this._locOwner;return e instanceof hr&&e.isItemSelected&&this.selectedValue===void 0&&(this.selectedValue=new Un(()=>e.isItemSelected(this))),this.selectedValue}getComponent(){return this._locOwner instanceof hr?this.componentValue||this._locOwner.itemComponent:this.componentValue}setComponent(e){this.componentValue=e}setRootElement(e){this._htmlElement=e}getRootElement(){return this._htmlElement}getEnabled(){return this.isEnabled}setEnabled(e){this.setIsEnabled(e)}getVisible(){const e=this.isVisible===void 0?!0:this.isVisible,t=this._visible===void 0?!0:this._visible;return e&&t}setVisible(e){this.visible!==e&&(this._visible=e)}get _visible(){return this.getPropertyValue("visible",!0)}set _visible(e){this.setPropertyValue("visible",e)}getLocTitle(){return this.locText}getTitle(){return this.text}setLocTitle(e){}setTitle(e){}get icon(){return this.getPropertyValue("icon","")}set icon(e){this.setPropertyValue("icon",e)}}W([G()],Kt.prototype,"selectedValue",void 0);Ut.createItemValue=function(i,e){var t=null;return e?t=Si.metaData.createClass(e,{}):typeof i.getType=="function"?t=new Kt(null,void 0,i.getType()):t=new Kt(null),t.setData(i),t};Ut.itemValueLocStrChanged=function(i){Kt.locStrsChanged(i)};yl.getItemValuesDefaultValue=(i,e)=>{const t=new Array;return Kt.setData(t,Array.isArray(i)?i:[],e),t};me.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",locationInTable:"detail"},{name:"enableIf:condition",locationInTable:"detail",visibleIf:i=>!i||i.ownerPropertyName!=="rateValues"}],i=>new Kt(i));class TRe extends Ut{constructor(e=null,t=null){super(),this.expressionIsRunning=!1,this.isCalculated=!1,e&&(this.name=e),t&&(this.expression=t)}setOwner(e){this.data=e,this.rerunExpression()}getType(){return"calculatedvalue"}getSurvey(e=!1){return this.data&&this.data.getSurvey?this.data.getSurvey():null}get owner(){return this.data}get name(){return this.getPropertyValue("name")||""}set name(e){this.setPropertyValue("name",e)}get includeIntoResult(){return this.getPropertyValue("includeIntoResult")}set includeIntoResult(e){this.setPropertyValue("includeIntoResult",e)}get expression(){return this.getPropertyValue("expression")||""}set expression(e){this.setPropertyValue("expression",e),this.rerunExpression()}locCalculation(){this.expressionIsRunning=!0}unlocCalculation(){this.expressionIsRunning=!1}resetCalculation(){this.isCalculated=!1}doCalculation(e,t){this.isCalculated||(this.runExpressionCore(e,t),this.isCalculated=!0)}runExpression(e){this.runExpressionCore(null,e)}get value(){if(this.data)return this.data.getVariable(this.name)}setValue(e){this.data&&this.data.setVariable(this.name,e)}get canRunExpression(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name}rerunExpression(){this.canRunExpression&&this.runExpression(this.data.getFilteredProperties())}runExpressionCore(e,t){this.canRunExpression&&(this.ensureExpression(),this.locCalculation(),e&&this.runDependentExpressions(e,t),this.expressionRunner.runContext(this.getValueGetterContext(),t))}runDependentExpressions(e,t){var n=this.expressionRunner.getVariables();if(n)for(var r=0;r<e.length;r++){var s=e[r];s===this||n.indexOf(s.name)<0||s.doCalculation(e,t)}}ensureExpression(){this.expressionRunner||(this.expressionRunner=new y5(this.expression),this.expressionRunner.onRunComplete=e=>{se.isTwoValueEquals(e,this.value,!1,!0,!1)||this.setValue(e),this.unlocCalculation()})}}me.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new TRe},"base");class T5 extends Ut{constructor(e=null){super(),this.expression=e}getType(){return"expressionitem"}runCondition(e){return this.expression?new Do(this.expression).runContext(this.getValueGetterContext(),e):!1}get expression(){return this.getPropertyValue("expression","")}set expression(e){this.setPropertyValue("expression",e)}get locHtml(){return this.getLocalizableString("html")}getLocale(){return this.locOwner?this.locOwner.getLocale():""}getMarkdownHtml(e,t,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,n):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}getSurvey(e=!1){return this.locOwner}}class xRe extends T5{constructor(e=null,t=null){super(e),this.createLocalizableString("html",this),this.html=t}getType(){return"htmlconditionitem"}get html(){return this.getLocalizableStringText("html")}set html(e){this.setLocalizableStringText("html",e)}get locHtml(){return this.getLocalizableString("html")}}class PRe extends T5{constructor(e=null,t=null){super(e),this.createLocalizableString("url",this),this.url=t}getType(){return"urlconditionitem"}get url(){return this.getLocalizableStringText("url")}set url(e){this.setLocalizableStringText("url",e)}get locUrl(){return this.getLocalizableString("url")}}me.addClass("expressionitem",["expression:condition"],function(){return new T5},"base");me.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new xRe},"expressionitem");me.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new PRe},"expressionitem");class RRe{constructor(){this.parser=new DOMParser}assignValue(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]!==void 0?e[t]=[e[t]].concat(n):typeof n=="object"&&Object.keys(n).length===1&&Object.keys(n)[0]===t?e[t]=n[t]:e[t]=n}xml2Json(e,t){if(e.children&&e.children.length>0)for(let n=0;n<e.children.length;n++){let r=e.children[n],s={};this.xml2Json(r,s),this.assignValue(t,r.nodeName,s)}else this.assignValue(t,e.nodeName,e.textContent)}parseXmlString(e){let t=this.parser.parseFromString(e,"text/xml"),n={};return this.xml2Json(t,n),n}}class $i extends Ut{static get EncodeParameters(){return oe.web.encodeUrlParams}static set EncodeParameters(e){oe.web.encodeUrlParams=e}static clearCache(){$i.itemsResult={},$i.sendingSameRequests={}}static addSameRequest(e){if(!e.isUsingCache)return!1;var t=e.objHash,n=$i.sendingSameRequests[t];return n?(n.push(e),e.isRunningValue=!0,!0):($i.sendingSameRequests[e.objHash]=[],!1)}static unregisterSameRequests(e,t){if(e.isUsingCache){var n=$i.sendingSameRequests[e.objHash];if(delete $i.sendingSameRequests[e.objHash],!!n)for(var r=0;r<n.length;r++)n[r].isRunningValue=!1,n[r].getResultCallback&&n[r].getResultCallback(t)}}static get onBeforeSendRequest(){return oe.web.onBeforeRequestChoices}static set onBeforeSendRequest(e){oe.web.onBeforeRequestChoices=e}static getCachedItemsResult(e){var t=e.objHash,n=$i.itemsResult[t];return n?(e.getResultCallback&&e.getResultCallback(n),!0):!1}constructor(){super(),this.lastObjHash="",this.isRunningValue=!1,this.processedUrl="",this.processedPath="",this.isUsingCacheFromUrl=void 0,this.error=null,this.createItemValue=e=>new Kt(e),this.registerPropertyChangedHandlers(["url"],()=>{this.owner&&this.owner.setPropertyValue("isUsingRestful",!!this.url)})}getSurvey(e=!1){return this.owner?this.owner.survey:null}run(e=null){if(!(!this.url||!this.getResultCallback)){if(this.processedText(e),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&($i.addSameRequest(this)||this.sendRequest()))}}get isUsingCache(){return this.isUsingCacheFromUrl===!0?!0:this.isUsingCacheFromUrl===!1?!1:oe.web.cacheLoadedChoices}get isRunning(){return this.getIsRunning()}getIsRunning(){return this.isRunningValue}get isWaitingForParameters(){return this.url&&!this.processedUrl}useChangedItemsResults(){return $i.getCachedItemsResult(this)}doEmptyResultCallback(e){var t=[];this.updateResultCallback&&(t=this.updateResultCallback(t,e)),this.getResultCallback(t)}processedText(e){var t=this.url;if(t&&(t=t.replace($i.cacheText,"").replace($i.noCacheText,"")),e){var n=e.processTextEx({text:t,runAtDesign:!0}),r=e.processTextEx({text:this.path,runAtDesign:!0});!n.hasAllValuesOnLastRun||!r.hasAllValuesOnLastRun?(this.processedUrl="",this.processedPath=""):(this.processedUrl=n.text,this.processedPath=r.text)}else this.processedUrl=t,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)}parseResponse(e){let t;if(e&&typeof e.indexOf=="function"&&e.indexOf("<")===0){var n=new RRe;t=n.parseXmlString(e)}else try{t=JSON.parse(e)}catch{t=(e||"").split(`
`).map(s=>s.trim(" ")).filter(s=>!!s)}return t}sendRequest(){typeof XMLHttpRequest<"u"?this.sendXmlHttpRequest():typeof fetch<"u"?this.sendFetchRequest():(this.error=new BV("The browser does not support XMLHttpRequest or fetch API","",this.owner),this.doEmptyResultCallback(""))}sendXmlHttpRequest(){var e=new XMLHttpRequest;e.open("GET",this.processedUrl),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var t=this,n=this.objHash;e.onload=function(){t.beforeLoadRequest(),e.status===200?t.onLoad(t.parseResponse(e.response),n):t.onError(e.statusText,e.responseText)};var r={url:this.processedUrl,request:e};oe.web.onBeforeRequestChoices&&oe.web.onBeforeRequestChoices(this,r),this.beforeSendRequest(),r.request.send()}sendFetchRequest(){const e=this,t=this.objHash,s={url:this.processedUrl,fetchOptions:{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}}};oe.web.onBeforeRequestChoices&&oe.web.onBeforeRequestChoices(this,s),this.beforeSendRequest(),fetch(s.url,s.fetchOptions).then(o=>(e.beforeLoadRequest(),o.status===200?o.text().then(a=>{e.onLoad(e.parseResponse(a),t)}):o.text().then(a=>{e.onError(o.statusText,a)}))).catch(o=>{e.onError(o.message,"")})}getType(){return"choicesByUrl"}get isEmpty(){return!this.url&&!this.path}getCustomPropertiesNames(){for(var e=this.getCustomProperties(),t=new Array,n=0;n<e.length;n++)t.push(this.getCustomPropertyName(e[n].name));return t}getCustomPropertyName(e){return e+"Name"}getCustomProperties(){for(var e=me.getProperties(this.itemValueType),t=[],n=0;n<e.length;n++)e[n].name==="value"||e[n].name==="text"||e[n].name==="visibleIf"||e[n].name==="enableIf"||t.push(e[n]);return t}getAllPropertiesNames(){const e=new Array;return me.getPropertiesByObj(this).forEach(t=>e.push(t.name)),this.getCustomPropertiesNames().forEach(t=>e.push(t)),e}setData(e){e||(e={}),this.getAllPropertiesNames().forEach(t=>{this[t]=e[t]}),e.attachOriginalItems&&(this.attachData=e.attachOriginalItems)}getData(){const e={};let t=!1;return this.getAllPropertiesNames().forEach(n=>{const r=this[n];!this.isValueEmpty(r)&&r!==this.getDefaultPropertyValue(n)&&(e[n]=r,t=!0)}),t?e:null}get url(){return this.getPropertyValue("url")||""}set url(e){this.setPropertyValue("url",e),this.isUsingCacheFromUrl=void 0,e&&(e.indexOf($i.cacheText)>-1?this.isUsingCacheFromUrl=!0:e.indexOf($i.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))}get path(){return this.getPropertyValue("path")||""}set path(e){this.setPropertyValue("path",e)}get valueName(){return this.getPropertyValue("valueName")||""}set valueName(e){this.setPropertyValue("valueName",e)}get titleName(){return this.getPropertyValue("titleName")||""}set titleName(e){this.setPropertyValue("titleName",e)}get imageLinkName(){return this.getPropertyValue("imageLinkName")||""}set imageLinkName(e){this.setPropertyValue("imageLinkName",e)}get allowEmptyResponse(){return this.getPropertyValue("allowEmptyResponse")}set allowEmptyResponse(e){this.setPropertyValue("allowEmptyResponse",e)}get attachOriginalItems(){return this.attachData}set attachOriginalItems(e){this.attachData=e}get attachData(){return this.getPropertyValue("attachData")}set attachData(e){this.setPropertyValue("attachData",e)}get itemValueType(){if(!this.owner)return"itemvalue";var e=me.findProperty(this.owner.getType(),"choices");return!e||e.type=="itemvalue[]"?"itemvalue":e.type}clear(){this.setData(void 0)}beforeSendRequest(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()}beforeLoadRequest(){this.isRunningValue=!1}onLoad(e,t=null){t||(t=this.objHash);var n=new Array,r=this.getResultAfterPath(e);if(r&&r.length)for(var s=0;s<r.length;s++){var o=r[s];if(o){var a=this.getItemValueCallback?this.getItemValueCallback(o):this.getValue(o),l=this.createItemValue(a);this.setTitle(l,o),this.setCustomProperties(l,o),this.attachData&&(l.originalItem=o,l.data=o);var u=this.getImageLink(o);u&&(l.imageLink=u),n.push(l)}}else this.allowEmptyResponse||(this.error=new hRe(null,this.owner));this.updateResultCallback&&(n=this.updateResultCallback(n,e)),this.isUsingCache&&($i.itemsResult[t]=n),this.callResultCallback(n,t),$i.unregisterSameRequests(this,n)}callResultCallback(e,t){t==this.objHash&&this.getResultCallback(e)}setCustomProperties(e,t){for(var n=this.getCustomProperties(),r=0;r<n.length;r++){var s=n[r],o=this.getValueCore(t,this.getPropertyBinding(s.name));this.isValueEmpty(o)||(e[s.name]=o)}}getPropertyBinding(e){return this[this.getCustomPropertyName(e)]?this[this.getCustomPropertyName(e)]:this[e]?this[e]:e}onError(e,t){this.error=new BV(e,t,this.owner),this.doEmptyResultCallback(t),$i.unregisterSameRequests(this,[])}getResultAfterPath(e){if(!e||!this.processedPath)return e;for(var t=this.getPathes(),n=0;n<t.length;n++)if(e=e[t[n]],!e)return null;return e}getPathes(){var e=[];return this.processedPath.indexOf(";")>-1?e=this.path.split(";"):this.processedPath.indexOf(",")>-1?e=this.processedPath.split(","):e=this.processedPath.split("."),e.length==0&&e.push(this.processedPath),e}getValue(e){if(!e)return null;if(this.valueName)return this.getValueCore(e,this.valueName);if(!(e instanceof Object))return e;var t=Object.keys(e).length;return t<1?null:e[Object.keys(e)[0]]}setTitle(e,t){var n=this.titleName?this.titleName:"title",r=this.getValueCore(t,n);r&&(typeof r=="string"?e.text=r:e.locText.setJson(r))}getImageLink(e){var t=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(e,t)}getValueCore(e,t){if(!e)return null;if(t.indexOf(".")<0)return e[t];for(var n=t.split("."),r=0;r<n.length;r++)if(e=e[n[r]],!e)return null;return e}get objHash(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName}}$i.cacheText="{CACHE}";$i.noCacheText="{NOCACHE}";$i.itemsResult={};$i.sendingSameRequests={};me.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(i){return!!i&&!!i.owner&&i.owner.getType()=="imagepicker"}},{name:"allowEmptyResponse:boolean"},{name:"attachData:boolean",alternativeName:"attachOriginalItems",visible:!1}],function(){return new $i});class zC extends hr{createColumnValues(){return this.createItemValues("columns")}constructor(e){super(e),this.generatedVisibleRows=null,this.generatedTotalRow=null,this.filteredRows=null,this.columns=this.createColumnValues(),this.rows=this.createItemValues("rows")}getType(){return"matrixbase"}endLoadingFromJson(){super.endLoadingFromJson(),this.updateVisibilityBasedOnRows()}get isCompositeQuestion(){return!0}get showHeader(){return this.getPropertyValue("showHeader")}set showHeader(e){this.setPropertyValue("showHeader",e)}get columns(){return this.getPropertyValue("columns")}set columns(e){this.setPropertyValue("columns",e)}get visibleColumns(){const e=[];return this.columns.forEach(t=>{this.isColumnVisible(t)&&e.push(t)}),e}isColumnVisible(e){return e.isVisible}get rows(){return this.getPropertyValue("rows")}set rows(e){var t=this.processRowsOnSet(e);this.setPropertyValue("rows",t)}processRowsOnSet(e){return e}getVisibleRows(){return[]}get visibleRows(){return this.getVisibleRows()}get rowsVisibleIf(){return this.getPropertyValue("rowsVisibleIf","")}set rowsVisibleIf(e){this.setPropertyValue("rowsVisibleIf",e),this.isLoadingFromJsonValue||this.runCondition(this.getDataFilteredProperties())}get columnsVisibleIf(){return this.getPropertyValue("columnsVisibleIf","")}set columnsVisibleIf(e){this.setPropertyValue("columnsVisibleIf",e),this.isLoadingFromJson||this.runCondition(this.getDataFilteredProperties())}runConditionCore(e){super.runConditionCore(e),this.runItemsCondition(e)}onColumnsChanged(){}onRowsChanged(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)}updateVisibilityBasedOnRows(){this.hideIfRowsEmpty&&this.onVisibleChanged()}isVisibleCore(){var e;const t=super.isVisibleCore();return!t||!this.hideIfRowsEmpty?t:((e=this.visibleRows)===null||e===void 0?void 0:e.length)>0}shouldRunColumnExpression(){return!this.survey||!this.survey.areInvisibleElementsShowing}hasRowsAsItems(){return!0}runItemsCondition(e){let t=this.hasRowsAsItems()&&this.runConditionsForRows(e);const n=this.runConditionsForColumns(e);t=n||t,t&&(this.isClearValueOnHidden&&n&&this.clearInvisibleColumnValues(),this.clearGeneratedRows(),n&&this.onColumnsChanged(),this.onRowsChanged())}isRowsFiltered(){return!!this.filteredRows}clearGeneratedRows(){this.generatedVisibleRows=null}createRowsVisibleIfRunner(){return null}runConditionsForRows(e){const t=!!this.survey&&this.survey.areInvisibleElementsShowing,n=t?null:this.createRowsVisibleIfRunner();this.filteredRows=[];const r=Kt.runConditionsForItems(this.rows,this.filteredRows,n,e,!t);return Kt.runEnabledConditionsForItems(this.rows,void 0,e),this.filteredRows.length===this.rows.length&&(this.filteredRows=null),r}runConditionsForColumns(e){const n=!!this.survey&&!this.survey.areInvisibleElementsShowing&&this.columnsVisibleIf?new Do(this.columnsVisibleIf):null;return Kt.runConditionsForItems(this.columns,void 0,n,e,this.shouldRunColumnExpression())}clearInvisibleColumnValues(){}clearInvisibleValuesInRows(){}needResponsiveWidth(){return!0}get columnsAutoWidth(){return!this.isMobile&&!this.columns.some(e=>!!e.width)}getTableCss(){var e;return new Ie().append(this.cssClasses.root).append(this.cssClasses.columnsAutoWidth,this.columnsAutoWidth).append(this.cssClasses.noHeader,!this.showHeader).append(this.cssClasses.hasFooter,!!(!((e=this.renderedTable)===null||e===void 0)&&e.showAddRowOnBottom)).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,this.verticalAlign==="top").append(this.cssClasses.rootVerticalAlignMiddle,this.verticalAlign==="middle").toString()}get columnMinWidth(){return this.getPropertyValue("columnMinWidth")||""}set columnMinWidth(e){this.setPropertyValue("columnMinWidth",e)}get rowTitleWidth(){return this.getPropertyValue("rowTitleWidth")||""}set rowTitleWidth(e){this.setPropertyValue("rowTitleWidth",e)}set displayMode(e){this.setPropertyValue("displayMode",e)}get displayMode(){return this.getPropertyValue("displayMode")}getCellAriaLabel(e,t,n){let r=e.locText&&e.locText.renderedHtml?e.locText.renderedHtml:"";n&&(r=n);const s=t.locTitle&&t.locTitle.renderedHtml?t.locTitle.renderedHtml:"",o=(this.getLocalizationString("matrix_row")||"row").toLocaleLowerCase(),a=(this.getLocalizationString("matrix_column")||"column").toLocaleLowerCase();return`${o} ${r}, ${a} ${s}`}get isNewA11yStructure(){return!0}getIsMobile(){return this.displayMode=="auto"?super.getIsMobile():this.displayMode==="list"}}W([G()],zC.prototype,"verticalAlign",void 0);W([G()],zC.prototype,"alternateRows",void 0);me.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1},{name:"displayMode",default:"auto",choices:["auto","table","list"],visible:!1}],void 0,"question");class kRe{}class qV{constructor(e,t){this.name=e,this.returnDisplayValue=t,this.isExists=!1}}class B${constructor(){this._unObservableValues=[void 0]}get hasAllValuesOnLastRunValue(){return this._unObservableValues[0]}set hasAllValuesOnLastRunValue(e){this._unObservableValues[0]=e}process(e,t,n,r){if(this.hasAllValuesOnLastRunValue=!0,!e||!this.onProcess)return e;const s=this.getItems(e);for(let a=s.length-1;a>=0;a--){const l=s[a],u=this.getName(e.substring(l.start+1,l.end));if(u){const c=new qV(u,t===!0);if(this.onProcess(c),c.isExists||(this.hasAllValuesOnLastRunValue=!1),c.isExists||r){se.isValueEmpty(c.value)&&(this.hasAllValuesOnLastRunValue=!1);var o=se.isValueEmpty(c.value)?"":c.value;n&&(o=encodeURIComponent(o)),e=e.substring(0,l.start)+o+e.substring(l.end+1)}}}return e}processValue(e,t){var n=new qV(e,t);return this.onProcess&&this.onProcess(n),n}get hasAllValuesOnLastRun(){return!!this.hasAllValuesOnLastRunValue}processText(e,t){return this.process(e,t)}processTextEx(e){const t={hasAllValuesOnLastRun:!0,text:e.text};return t.text=this.process(e.text,e.returnDisplayValue,e.doEncoding,e.replaceUndefinedValues),t.hasAllValuesOnLastRun=this.hasAllValuesOnLastRun,t}getItems(e){for(var t=[],n=e.length,r=-1,s="",o=0;o<n;o++)if(s=e[o],s=="{"&&(r=o),s=="}"){if(r>-1){var a=new kRe;a.start=r,a.end=o,this.isValidItemName(e.substring(r+1,o))&&t.push(a)}r=-1}return t}isValidItemName(e){return!!e&&e.indexOf(":")<0}getName(e){if(e)return e.trim()}}class jC{constructor(e){this.obj=e,this.textPreProcessor=new B$,this.textPreProcessor.onProcess=t=>{this.getProcessedTextValue(t)}}processText(e,t){const n={text:e,returnDisplayValue:t};return this.processTextEx(n).text}processTextEx(e){var t;return!e.runAtDesign&&(!((t=this.survey)===null||t===void 0)&&t.isDesignMode)?{hasAllValuesOnLastRun:!0,text:e.text}:this.textPreProcessor.processTextEx(e)}get survey(){const e=this.obj;return e.getSurvey?e.getSurvey():null}getProcessedTextValue(e){const t=e.name.toLocaleLowerCase(),n=new Ec().getValueInfo({name:t,context:this.obj.getValueGetterContext(),isText:!0,isDisplayValue:e.returnDisplayValue});n.isFound&&(e.isExists=n.isFound,e.value=n.value)}}class ARe{constructor(e,t){this.name=e,this.json=t;var n=this;me.addClass(e,[],function(r){return uv.Instance.createQuestion(r?r.name:"",n)},"question"),this.onInit()}onInit(){this.json.onInit&&this.json.onInit()}onCreated(e){this.json.onCreated&&this.json.onCreated(e)}onLoaded(e){this.json.onLoaded&&this.json.onLoaded(e)}onAfterRender(e,t){this.json.onAfterRender&&this.json.onAfterRender(e,t)}onAfterRenderContentElement(e,t,n){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(e,t,n)}onUpdateQuestionCssClasses(e,t,n){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(e,t,n)}onSetQuestionValue(e,t){this.json.onSetQuestionValue&&this.json.onSetQuestionValue(e,t),this.json.onValueSet&&this.json.onValueSet(e,t)}onPropertyChanged(e,t,n){this.json.onPropertyChanged&&this.json.onPropertyChanged(e,t,n)}onValueChanged(e,t,n){this.json.onValueChanged&&this.json.onValueChanged(e,t,n)}onValueChanging(e,t,n){return this.json.onValueChanging?this.json.onValueChanging(e,t,n):n}onGetErrorText(e){if(this.json.getErrorText)return this.json.getErrorText(e)}onItemValuePropertyChanged(e,t,n,r,s){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(e,{obj:t,propertyName:n,name:r,newValue:s})}getDisplayValue(e,t,n){return this.json.getDisplayValue?this.json.getDisplayValue(n):n.getDisplayValue(e,t)}get defaultQuestionTitle(){return this.json.defaultQuestionTitle}setValueToQuestion(e){const t=this.json.valueToQuestion||this.json.setValue;return t?t(e):e}getValueFromQuestion(e){const t=this.json.valueFromQuestion||this.json.getValue;return t?t(e):e}get isComposite(){return!!this.json.elementsJSON||!!this.json.createElements}getDynamicProperties(){return Array.isArray(this.dynamicProperties)||(this.dynamicProperties=this.calcDynamicProperties()),this.dynamicProperties}calcDynamicProperties(){const e=this.json.inheritBaseProps;if(!e||!this.json.questionJSON)return[];const t=this.json.questionJSON.type;if(!t)return[];if(Array.isArray(e)){const r=[];return e.forEach(s=>{const o=me.findProperty(t,s);o&&r.push(o)}),r}const n=[];for(let r in this.json.questionJSON)n.push(r);return me.getDynamicPropertiesByTypes(this.name,t,n)}}class uv{constructor(){this.customQuestionValues=[]}add(e){if(!e)return;let t=e.name;if(!t)throw"Attribute name is missed";if(t=t.toLowerCase(),this.getCustomQuestionByName(t))throw"There is already registered custom question with name '"+t+"'";if(me.findClass(t))throw"There is already class with name '"+t+"'";var n=new ARe(t,e);this.onAddingJson&&this.onAddingJson(t,n.isComposite),this.customQuestionValues.push(n)}remove(e){if(!e)return!1;const t=this.getCustomQuestionIndex(e.toLowerCase());return t<0?!1:(this.removeByIndex(t),!0)}get items(){return this.customQuestionValues}getCustomQuestionByName(e){const t=this.getCustomQuestionIndex(e);return t>=0?this.customQuestionValues[t]:void 0}getCustomQuestionIndex(e){for(var t=0;t<this.customQuestionValues.length;t++)if(this.customQuestionValues[t].name===e)return t;return-1}removeByIndex(e){me.removeClass(this.customQuestionValues[e].name),this.customQuestionValues.splice(e,1)}clear(e){for(let t=this.customQuestionValues.length-1;t>=0;t--)(e||!this.customQuestionValues[t].json.internal)&&this.removeByIndex(t)}createQuestion(e,t){return t.isComposite?this.createCompositeModel(e,t):this.createCustomModel(e,t)}createCompositeModel(e,t){return this.onCreateComposite?this.onCreateComposite(e,t):new ORe(e,t)}createCustomModel(e,t){return this.onCreateCustom?this.onCreateCustom(e,t):new VRe(e,t)}}uv.Instance=new uv;class q$ extends hr{constructor(e,t){super(e),this.customQuestion=t,_i.createProperties(this),ni.CreateDisabledDesignElements=!0,this.locQuestionTitle=this.createLocalizableString("questionTitle",this),this.locQuestionTitle.setJson(this.customQuestion.defaultQuestionTitle),this.createWrapper(),ni.CreateDisabledDesignElements=!1,this.customQuestion&&this.customQuestion.onCreated(this)}getType(){return this.customQuestion?this.customQuestion.name:"custom"}locStrsChanged(){super.locStrsChanged(),this.getElement()&&this.getElement().locStrsChanged()}localeChanged(){super.locStrsChanged(),this.getElement()&&this.getElement().localeChanged()}getDefaultTitle(){return this.locQuestionTitle.isEmpty?super.getDefaultTitle():this.getProcessedText(this.locQuestionTitle.textOrHtml)}addUsedLocales(e){super.addUsedLocales(e),this.getElement()&&this.getElement().addUsedLocales(e)}needResponsiveWidth(){const e=this.getElement();return e?e.needResponsiveWidth():!1}createWrapper(){}onPropertyValueChanged(e,t,n){super.onPropertyValueChanged(e,t,n),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,e,n)}itemValuePropertyChanged(e,t,n,r){super.itemValuePropertyChanged(e,t,n,r),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,e,e.ownerPropertyName,t,r)}onFirstRenderingCore(){super.onFirstRenderingCore();const e=this.getElement();e&&e.onFirstRendering()}onHidingContent(){super.onHidingContent();const e=this.getElement();e&&e.onHidingContent()}getProgressInfo(){let e=super.getProgressInfo();return this.getElement()&&(e=this.getElement().getProgressInfo()),this.isRequired&&e.requiredQuestionCount==0&&(e.requiredQuestionCount=1,this.isEmpty()||(e.answeredQuestionCount=1)),e}initElement(e){e&&(e.setSurveyImpl(this),e.disableDesignActions=!0)}setSurveyImpl(e,t){this.isSettingValOnLoading=!0,super.setSurveyImpl(e,t),this.initElement(this.getElement()),this.isSettingValOnLoading=!1}onSurveyLoad(){super.onSurveyLoad(),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))}afterRenderQuestionElement(e){}afterRenderCore(e){super.afterRenderCore(e),this.customQuestion&&this.customQuestion.onAfterRender(this,e)}onUpdateQuestionCssClasses(e,t){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,e,t)}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),this.updateElementCss(),this.customQuestion&&this.customQuestion.onSetQuestionValue(this,e)}setNewValue(e){super.setNewValue(e),this.updateElementCss()}onCheckForErrors(e,t,n){if(super.onCheckForErrors(e,t,n),this.customQuestion){const r=this.customQuestion.onGetErrorText(this);r&&e.push(new Ma(r,this))}}getSurveyData(){return this}getTextProcessor(){return this.textProcessor}getValue(e){return this.value}setValue(e,t,n,r){if(!this.data)return;this.customQuestion&&this.customQuestion.onValueChanged(this,e,t);var s=this.convertDataName(e);let o=this.convertDataValue(e,t);this.valueToDataCallback&&(o=this.valueToDataCallback(o)),this.data.setValue(s,o,n,r),this.updateIsAnswered(),this.updateElementCss()}getQuestionByName(e){}isValueChanging(e,t){if(this.customQuestion){const n=t;if(t=this.customQuestion.onValueChanging(this,e,t),!se.isTwoValueEquals(t,n)){const r=this.getQuestionByName(e);if(r)return r.value=t,!0}}return!1}convertDataName(e){return this.getValueName()}convertDataValue(e,t){return t}getVariable(e){return this.data?this.data.getVariable(e):null}setVariable(e,t){this.data&&this.data.setVariable(e,t)}getComment(e){return this.data?this.data.getComment(this.getValueName()):""}setComment(e,t,n){this.data&&this.data.setComment(this.getValueName(),t,n)}getAllValues(){return this.data?this.data.getAllValues():{}}getFilteredProperties(){return this.data?this.data.getFilteredProperties():{}}findQuestionByName(e){return this.data?this.data.findQuestionByName(e):null}getEditingSurveyElement(){}addElement(e,t){}removeElement(e){return!1}getQuestionTitleLocation(){return"left"}getQuestionTitleWidth(){}getColumsForElement(e){return[]}updateColumns(){}getQuestionStartIndex(){return this.getStartIndex()}getChildrenLayoutType(){return"row"}elementWidthChanged(e){}get elements(){return[]}indexOf(e){return-1}ensureRowsVisibility(){}validateContainerOnly(){}onQuestionValueChanged(e){}getQuestionErrorLocation(){return this.getErrorLocation()}getContentAriaHidden(){return this.isDesignMode||super.getContentAriaHidden()}getContentDisplayValueCore(e,t,n){return n?this.customQuestion.getDisplayValue(e,t,n):super.getDisplayValueCore(e,t)}}class VRe extends q${getTemplate(){return"custom"}getDynamicProperties(){return this.customQuestion.getDynamicProperties()||[]}getDynamicType(){return this.questionWrapper?this.questionWrapper.getType():"question"}getOriginalObj(){return this.questionWrapper}createWrapper(){this.questionWrapper=this.createQuestion(),this.createDynamicProperties(this.questionWrapper),this.getDynamicProperties().length>0&&(this.questionWrapper.onPropertyValueChangedCallback=(e,t,n,r,s)=>{this.getDynamicProperty(e)&&this.propertyValueChanged(e,t,n,s)})}getDynamicProperty(e){const t=this.getDynamicProperties();for(let n=0;n<t.length;n++)if(t[n].name===e)return t[n];return null}getElement(){return this.contentQuestion}supportAutoAdvance(){return!!this.contentQuestion&&this.contentQuestion.supportAutoAdvance()}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(e,t)}getQuestionByName(e){return this.contentQuestion}getDefaultTitle(){return this.hasJSONTitle&&this.contentQuestion?this.getProcessedText(this.contentQuestion.title):super.getDefaultTitle()}setValue(e,t,n,r){this.isValueChanging(e,t)||super.setValue(e,t,n,r)}updateCommentFromSurvey(e){super.updateCommentFromSurvey(e);const t=this.contentQuestion;t&&t.updateCommentFromSurvey(e)}get requireUpdateCommentValue(){var e;return(e=this.contentQuestion)===null||e===void 0?void 0:e.requireUpdateCommentValue}onSetData(){super.onSetData(),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)}hasErrors(e=!0,t=null){if(!this.contentQuestion)return!1;var n=this.contentQuestion.hasErrors(e,t);this.errors=[];for(var r=0;r<this.contentQuestion.errors.length;r++)this.errors.push(this.contentQuestion.errors[r]);return n||(n=super.hasErrors(e,t)),this.updateElementCss(),n}focus(e=!1){this.contentQuestion?this.contentQuestion.focus(e):super.focus(e)}afterRenderCore(e){super.afterRenderCore(e),this.contentQuestion&&this.contentQuestion.afterRender(e)}get contentQuestion(){return this.questionWrapper}createQuestion(){var e=this.customQuestion.json,t=null;if(e.questionJSON){this.hasJSONTitle=!!e.questionJSON.title;let n=e.questionJSON.type;if(!n||!me.findClass(n))throw"type attribute in questionJSON is empty or incorrect";t=me.createClass(n),t.fromJSON(e.questionJSON),t=this.checkCreatedQuestion(t)}else e.createQuestion&&(t=this.checkCreatedQuestion(e.createQuestion()));return this.initElement(t),t&&(t.isContentElement=!0,t.name||(t.name="question"),t.onUpdateCssClassesCallback=n=>{this.onUpdateQuestionCssClasses(t,n)},t.hasCssErrorCallback=()=>this.errors.length>0,t.setValueChangedDirectlyCallback=n=>{this.setValueChangedDirectly(n)}),t}checkCreatedQuestion(e){return e&&(e.isQuestion||(Array.isArray(e.questions)&&e.questions.length>0?e=e.questions[0]:e=me.createClass("text"),ha.error("Could not create component: '"+this.getType()+"'. questionJSON should be a question.")),e)}onSurveyLoad(){super.onSurveyLoad(),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())}runConditionCore(e){super.runConditionCore(e),this.contentQuestion&&this.contentQuestion.runCondition(e)}convertDataName(e){const t=this.contentQuestion;if(!t||e===this.getValueName())return super.convertDataName(e);var n=e.replace(t.getValueName(),this.getValueName());return n.indexOf(this.getValueName())==0?n:super.convertDataName(e)}convertDataValue(e,t){return this.convertDataName(e)==super.convertDataName(e)?this.getContentQuestionValue():t}getContentQuestionValue(){if(!this.contentQuestion)return;let e=this.contentQuestion.value;return this.customQuestion&&(e=this.customQuestion.getValueFromQuestion(e)),e}setContentQuestionValue(e){this.contentQuestion&&(this.customQuestion&&(e=this.customQuestion.setValueToQuestion(e)),this.contentQuestion.value=e)}canSetValueToSurvey(){return!1}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),e)&&this.setContentQuestionValue(this.getUnbindValue(e))}onSurveyValueChanged(e){super.onSurveyValueChanged(e),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(e)}getValueCore(){return this.contentQuestion?this.getContentQuestionValue():super.getValueCore()}setValueChangedDirectly(e){this.isSettingValueChanged||(this.isSettingValueChanged=!0,super.setValueChangedDirectly(e),this.contentQuestion&&this.contentQuestion.setValueChangedDirectly(e),this.isSettingValueChanged=!1)}createDynamicProperties(e){if(!e)return;const t=this.getDynamicProperties();Array.isArray(t)&&me.addDynamicPropertiesIntoObj(this,e,t)}initElement(e){super.initElement(e),e&&(e.parent=this,e.afterRenderQuestionCallback=(t,n)=>{this.customQuestion&&this.customQuestion.onAfterRenderContentElement(this,t,n)})}updateElementCss(e){this.contentQuestion&&this.questionWrapper.updateElementCss(e),super.updateElementCss(e)}setIsMobile(e){super.setIsMobile(e),this.contentQuestion&&this.contentQuestion.setIsMobile(e)}updateElementCssCore(e){this.contentQuestion&&(e=this.contentQuestion.cssClasses),super.updateElementCssCore(e)}getDisplayValueCore(e,t){return super.getContentDisplayValueCore(e,t,this.contentQuestion)}}class LRe extends HC{constructor(e){super(e),this.question=e}getValue(e,t,n,r){const s=this.question;if(e.length>0){const o=e[0].name===oe.expressionVariables.composite;if(o||!t){o&&e.shift();const a=new S5(s.contentPanel.questions).getValue(e,!1,n,r);if(a&&a.isFound)return a}}return super.getValue(e,t,n,r)}}class ORe extends q${constructor(e,t){super(e,t),this.customQuestion=t,this.settingNewValue=!1,this.textProcessing=new jC(this)}createWrapper(){this.panelWrapper=this.createPanel()}getTemplate(){return"composite"}getElement(){return this.contentPanel}getCssRoot(e){return new Ie().append(super.getCssRoot(e)).append(e.composite).toString()}get contentPanel(){return this.panelWrapper}hasErrors(e=!0,t=null){var n=super.hasErrors(e,t);return this.contentPanel&&this.contentPanel.hasErrors(e,!1,t)||n}updateElementCss(e){super.updateElementCss(e),this.contentPanel&&this.contentPanel.updateElementCss(e)}dispose(){this.unConnectEditingObj(),super.dispose()}updateEditingObj(){var e;const t=(e=this.data)===null||e===void 0?void 0:e.getEditingSurveyElement();if(!t)return;let n=t[this.getValueName()];return n&&!n.onPropertyChanged&&(n=void 0),n!==this.editingObjValue&&(this.unConnectEditingObj(),this.editingObjValue=n,n&&(this.onEditingObjPropertyChanged=(r,s)=>{this.setNewValueIntoQuestion(s.name,this.editingObjValue[s.name])},n.onPropertyChanged.add(this.onEditingObjPropertyChanged))),this.editingObjValue}unConnectEditingObj(){this.editingObjValue&&!this.editingObjValue.isDisposed&&this.editingObjValue.onPropertyChanged.remove(this.onEditingObjPropertyChanged)}getEditingSurveyElement(){return this.editingObjValue}getTextProcessor(){return this.textProcessing}findQuestionByName(e){const t=this.getQuestionByName(e);return t||super.findQuestionByName(e)}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e);const t=this.contentPanel.questions;for(var n=0;n<t.length;n++)t[n].clearValueIfInvisible(e)}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t);for(var n=this.contentPanel.questions,r=0;r<n.length;r++)n[r].onAnyValueChanged(e,t)}get hasSingleInput(){return!1}get isContainer(){return!0}createPanel(){var e=me.createClass("panel");e.showQuestionNumbers="off",e.renderWidth="100%";var t=this.customQuestion.json;return t.elementsJSON&&e.fromJSON({elements:t.elementsJSON}),t.createElements&&t.createElements(e,this),this.initElement(e),e.readOnly=this.isReadOnly,e.questions.forEach(n=>{n.setParentQuestion(this),n.onUpdateCssClassesCallback=r=>{this.onUpdateQuestionCssClasses(n,r)}}),this.setAfterRenderCallbacks(e),e}onReadOnlyChanged(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),super.onReadOnlyChanged()}updateValueFromSurvey(e,t=!1){this.updateEditingObj(),super.updateValueFromSurvey(e,t)}onSurveyLoad(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),super.onSurveyLoad(),this.contentPanel){const e=this.getContentPanelValue();se.isValueEmpty(e)||(this.value=e)}this.isSettingValOnLoading=!1}setIsContentElement(e){e.isContentElement=!0;for(var t=e.elements,n=0;n<t.length;n++){var r=t[n];r.isPanel?this.setIsContentElement(r):r.isContentElement=!0}}setVisibleIndex(e){var t=super.setVisibleIndex(e);return this.isVisible&&this.contentPanel&&(t+=this.contentPanel.setVisibleIndex(e)),t}runConditionCore(e){super.runConditionCore(e),this.contentPanel&&this.contentPanel.runCondition(e)}onSurveyValueChanged(e){super.onSurveyValueChanged(e);const t=e||{};this.contentPanel&&this.contentPanel.questions.forEach(n=>{n.onSurveyValueChanged(t[n.getValueName()])})}getValue(e){var t=this.value;return t?t[e]:null}getQuestionByName(e){return this.contentPanel?this.contentPanel.getQuestionByName(e):void 0}setValue(e,t,n,r){if(this.settingNewValue){this.setNewValueIntoQuestion(e,t);return}if(!this.isValueChanging(e,t)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel){let s=0;const o=this.contentPanel.questions.length+1;for(;s<o&&this.updateValueCoreWithPanelValue();)s++}this.setNewValueIntoQuestion(e,t),super.setValue(e,t,n,r),this.settingNewValue=!1,this.runPanelTriggers(oe.expressionVariables.composite+"."+e,t)}}setComment(e,t,n){let r=this.getUnbindValue(this.value);const s=this.getCommentName(e);if(!r&&!t||t&&r&&r[s]===t)return;t?(r||(r={}),r[s]=t):delete r[s];const o=this.getQuestionByName(e);o&&o.comment!==t&&(o.comment=t),this.settingNewValue||(this.value=r)}getComment(e){const t=this.getQuestionByName(e);if(t)return t.comment;const n=this.value;return!!n&&n[this.getCommentName(e)]||""}getCommentName(e){return e+oe.commentSuffix}runPanelTriggers(e,t){this.contentPanel&&this.contentPanel.questions.forEach(n=>{n.runTriggers(e,t)})}updateValueCoreWithPanelValue(){const e=this.getContentPanelValue();return this.isTwoValueEquals(this.getValueCore(),e)?!1:(this.setValueCore(e),!0)}getContentPanelValue(e){return e||(e=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(e)}getValueForContentPanel(e){return this.customQuestion.getValueFromQuestion(e)}setNewValueIntoQuestion(e,t){var n=this.getQuestionByName(e);n&&!this.isTwoValueEquals(t,n.value)&&(n.value=t)}addConditionObjectsByContext(e,t){if(this.contentPanel)for(var n=this.contentPanel.questions,r=this.name,s=this.title,o=0;o<n.length;o++)e.push({name:r+"."+n[o].name,text:s+"."+n[o].title,question:n[o]})}collectNestedQuestionsCore(e,t,n,r){this.contentPanel&&(r&&e.push(this),this.contentPanel.questions.forEach(s=>s.addNestedQuestion(e,t,n,r)))}convertDataValue(e,t){var n=this.contentPanel&&!this.isEditingSurveyElement?this.contentPanel.getValue():this.getValueForContentPanel(this.value);return n||(n={}),n.getType||(n=se.getUnbindValue(n)),this.isValueEmpty(t)&&!this.isEditingSurveyElement?delete n[e]:n[e]=t,this.getContentPanelValue(n)}setQuestionValue(e,t=!0){this.setValuesIntoQuestions(e),!this.isEditingSurveyElement&&this.contentPanel&&(e=this.getContentPanelValue()),super.setQuestionValue(e,t)}setValuesIntoQuestions(e){if(!this.contentPanel||this.settingNewValue)return;e=this.getValueForContentPanel(e);const t=this.settingNewValue;this.settingNewValue=!0;const n=this.contentPanel.questions;for(var r=0;r<n.length;r++){const s=n[r],o=s.getValueName(),a=this.getCommentName(o),l=e?e[o]:void 0,u=!!e&&e[a]||"";!this.isTwoValueEquals(s.value,l)&&(l!==void 0||!s.isEmpty())&&(s.value=l),s.comment!==u&&(s.comment=u)}this.settingNewValue=t}getValueGetterContext(){return new LRe(this)}getDisplayValueCore(e,t){return super.getContentDisplayValueCore(e,t,this.contentPanel)}setAfterRenderCallbacks(e){if(!(!e||!this.customQuestion))for(var t=e.questions,n=0;n<t.length;n++)t[n].afterRenderQuestionCallback=(r,s)=>{this.customQuestion.onAfterRenderContentElement(this,r,s)}}get ariaRole(){return"group"}setIsMobile(e){super.setIsMobile(e),this.contentPanel&&this.contentPanel.questions.forEach(t=>{t.setIsMobile(e)})}}class Fn{static get DefaultChoices(){const e=ur("choices_Item");return[e+"1",e+"2",e+"3"]}static get DefaultColums(){var e=ur("matrix_column")+" ";return[e+"1",e+"2",e+"3"]}static get DefaultRows(){var e=ur("matrix_row")+" ";return[e+"1",e+"2"]}static get DefaultMutlipleTextItems(){var e=ur("multipletext_itemname");return[e+"1",e+"2"]}registerQuestion(e,t,n=!0){cu.Instance.registerElement(e,t,n)}registerCustomQuestion(e){cu.Instance.registerCustomQuestion(e)}unregisterElement(e,t=!1){cu.Instance.unregisterElement(e,t)}clear(){cu.Instance.clear()}getAllTypes(){return cu.Instance.getAllTypes()}createQuestion(e,t){return cu.Instance.createElement(e,t)}}Fn.Instance=new Fn;class cu{constructor(){this.creatorHash={},this.registerCustomQuestion=(e,t=!0)=>{const n=r=>{const s=me.createClass(e);return s&&(s.name=r),s};this.registerElement(e,n,t)}}registerElement(e,t,n=!0){this.creatorHash[e]={showInToolbox:n,creator:t}}clear(){this.creatorHash={}}unregisterElement(e,t=!1){delete this.creatorHash[e],t&&me.removeClass(e)}getAllToolboxTypes(){return this.getAllTypesCore(!0)}getAllTypes(){return this.getAllTypesCore(!1)}createElement(e,t){var n=this.creatorHash[e];if(n&&n.creator)return n.creator(t);const r=uv.Instance.getCustomQuestionByName(e);return r?uv.Instance.createQuestion(t,r):null}getAllTypesCore(e){var t=new Array;for(var n in this.creatorHash)(!e||this.creatorHash[n].showInToolbox)&&t.push(n);return t.sort()}}cu.Instance=new cu;class U$ extends hr{constructor(e){super(e),this.createLocalizableString("format",this),this.registerPropertyChangedHandlers(["expression"],()=>{this.expressionRunner&&(this.expressionRunner=this.createRunner())}),this.registerPropertyChangedHandlers(["format","currency","displayStyle"],()=>{this.updateFormatedValue()})}getType(){return"expression"}get hasInput(){return!1}get format(){return this.getLocalizableStringText("format","")}set format(e){this.setLocalizableStringText("format",e)}get locFormat(){return this.getLocalizableString("format")}get expression(){return this.getPropertyValue("expression","")}set expression(e){this.setPropertyValue("expression",e)}locCalculation(){this.expressionIsRunning=!0}unlocCalculation(){this.expressionIsRunning=!1}runConditionCore(e){super.runConditionCore(e),!(!this.expression||this.expressionIsRunning||!this.runIfReadOnly&&this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=this.createRunner()),this.expressionRunner.runContext(this.getValueGetterContext(),e))}canCollectErrors(){return!0}hasRequiredError(){return!1}createRunner(){const e=this.createExpressionRunner(this.expression);return e.onRunComplete=t=>{this.value=this.roundValue(t),this.unlocCalculation()},e}get maximumFractionDigits(){return this.getPropertyValue("maximumFractionDigits")}set maximumFractionDigits(e){e<-1||e>20||this.setPropertyValue("maximumFractionDigits",e)}get minimumFractionDigits(){return this.getPropertyValue("minimumFractionDigits")}set minimumFractionDigits(e){e<-1||e>20||this.setPropertyValue("minimumFractionDigits",e)}get runIfReadOnly(){return this.runIfReadOnlyValue===!0}set runIfReadOnly(e){this.runIfReadOnlyValue=e}get formatedValue(){return this.getPropertyValue("formatedValue","")}updateFormatedValue(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))}onValueChanged(){this.updateFormatedValue()}updateValueFromSurvey(e,t){super.updateValueFromSurvey(e,t),this.updateFormatedValue()}getDisplayValueCore(e,t){var n=t??this.defaultValue,r="";if(!this.isValueEmpty(n)){var s=this.getValueAsStr(n);r=this.format?this.format.format(s):s}return this.survey&&(r=this.survey.getExpressionDisplayValue(this,n,r)),r}get displayStyle(){return this.getPropertyValue("displayStyle")}set displayStyle(e){this.setPropertyValue("displayStyle",e)}get currency(){return this.getPropertyValue("currency")}set currency(e){QC().indexOf(e)<0||this.setPropertyValue("currency",e)}get useGrouping(){return this.getPropertyValue("useGrouping")}set useGrouping(e){this.setPropertyValue("useGrouping",e)}get precision(){return this.getPropertyValue("precision")}set precision(e){this.setPropertyValue("precision",e)}roundValue(e){if(e!==1/0)return this.precision<0||!se.isNumber(e)?e:parseFloat(e.toFixed(this.precision))}getValueAsStr(e){if(this.displayStyle=="date"){const r=Hr("question-expression",e);if(r&&r.toLocaleDateString)return r.toLocaleDateString()}if(this.displayStyle!="none"&&se.isNumber(e)){var t=this.getLocale();t||(t="en");var n={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(n.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(n.minimumFractionDigits=this.minimumFractionDigits),e.toLocaleString(t,n)}return e.toString()}get ariaRole(){return"presentation"}}function QC(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}function UV(i,e,t){let n=t?e:i;return i==-1||e==-1?n:i>e?t?i:e:n}me.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:()=>QC(),default:"USD",visibleIf:i=>i.displayStyle==="currency"},{name:"maximumFractionDigits:number",onSettingValue:(i,e)=>UV(i.minimumFractionDigits,e,!0),default:-1},{name:"minimumFractionDigits:number",onSettingValue:(i,e)=>UV(e,i.maximumFractionDigits,!1),default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1,isSerializable:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"readOnly",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1,isSerializable:!1},{name:"resetValueIf",visible:!1,isSerializable:!1},{name:"setValueIf",visible:!1,isSerializable:!1},{name:"setValueExpression",visible:!1,isSerializable:!1},{name:"defaultValueExpression",visible:!1,isSerializable:!1},{name:"defaultValue",visible:!1,isSerializable:!1},{name:"correctAnswer",visible:!1,isSerializable:!1},{name:"requiredIf",visible:!1,isSerializable:!1}],function(){return new U$("")},"question");Fn.Instance.registerQuestion("expression",i=>new U$(i));class DRe{constructor(e){this.column=e}getValue(e,t,n,r){if(e.length===1&&["name","item"].indexOf(e[0].name)>-1)return{isFound:!0,value:this.column.name}}getRootObj(){return this.column.colOwner}}function B1(i,e,t,n){i.storeOthersAsComment=t?t.storeOthersAsComment:!1,(!i.choices||i.choices.length==0)&&i.choicesByUrl.isEmpty&&(i.choices=t.choices),i.choicesByUrl.isEmpty||i.choicesByUrl.run(n.getTextProcessor())}function NRe(i,e,t,n){B1(i,e,t,n),i.locPlaceholder&&i.locPlaceholder.isEmpty&&!t.locPlaceholder.isEmpty&&(i.optionsCaption=t.optionsCaption)}var HV={dropdown:{onCellQuestionUpdate:(i,e,t,n)=>{NRe(i,e,t,n)}},checkbox:{onCellQuestionUpdate:(i,e,t,n)=>{B1(i,e,t,n),i.colCount=e.colCount>-1?e.colCount:t.columnColCount}},radiogroup:{onCellQuestionUpdate:(i,e,t,n)=>{B1(i,e,t,n),i.colCount=e.colCount>-1?e.colCount:t.columnColCount}},tagbox:{onCellQuestionUpdate:(i,e,t,n)=>{B1(i,e,t,n)}},text:{},comment:{},boolean:{onCellQuestionUpdate:(i,e,t,n)=>{i.renderAs=e.renderAs}},expression:{},rating:{}};class nb extends Ut{static getColumnTypes(){var e=[];for(var t in HV)e.push(t);return e}constructor(e,t,n){super(),this.indexValue=-1,this._hasVisibleCell=!0,this.isColumnsVisibleIf=!0,this.previousChoicesId=void 0,this.colOwnerValue=n,this.createLocalizableString("totalFormat",this),this.createLocalizableString("cellHint",this),this.registerPropertyChangedHandlers(["showInMultipleColumns"],()=>{this.doShowInMultipleColumnsChanged()}),this.registerPropertyChangedHandlers(["visible"],()=>{this.doColumnVisibilityChanged()}),this.updateTemplateQuestion(void 0,e,t)}getOriginalObj(){return this.templateQuestion}getClassNameProperty(){return"cellType"}getSurvey(e=!1){return this.colOwner?this.colOwner.survey:null}endLoadingFromJson(){super.endLoadingFromJson(),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=()=>this.getSurvey()}getDynamicPropertyName(){return"cellType"}getDynamicType(){return this.cellType==="default"?"question":this.calcCellQuestionType(null)}get colOwner(){return this.colOwnerValue}set colOwner(e){this.colOwnerValue=e,e&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))}getValueGetterContext(){return new DRe(this)}locStrsChanged(){super.locStrsChanged(),this.locTitle.strChanged()}addUsedLocales(e){super.addUsedLocales(e),this.templateQuestion.addUsedLocales(e)}get index(){return this.indexValue}setIndex(e){this.indexValue=e}getType(){return"matrixdropdowncolumn"}get cellType(){return this.getPropertyValue("cellType")}set cellType(e){e=e.toLocaleLowerCase(),this.updateTemplateQuestion(e),this.setPropertyValue("cellType",e),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)}get templateQuestion(){return this.templateQuestionValue}get value(){return this.templateQuestion.name}get isVisible(){return!0}get isColumnVisible(){return this.isDesignMode?!0:this.visible&&this.hasVisibleCell}get visible(){return this.templateQuestion.visible}set visible(e){this.templateQuestion.visible=e}get hasVisibleCell(){return this._hasVisibleCell}set hasVisibleCell(e){this._hasVisibleCell=e}getVisibleMultipleChoices(){const e=this.templateQuestion.visibleChoices;if(!Array.isArray(e))return[];if(!Array.isArray(this._visiblechoices))return e;const t=new Array;for(let n=0;n<e.length;n++){const r=e[n];this._visiblechoices.indexOf(r.value)>-1&&t.push(r)}return t}get getVisibleChoicesInCell(){if(Array.isArray(this._visiblechoices))return this._visiblechoices;const e=this.templateQuestion.visibleChoices;return Array.isArray(e)?e:[]}setVisibleChoicesInCell(e){this._visiblechoices=e}get isFilteredMultipleColumns(){if(!this.showInMultipleColumns)return!1;const e=this.templateQuestion.choices;if(!Array.isArray(e))return!1;for(let t=0;t<e.length;t++)if(e[t].visibleIf)return!0;return!1}get name(){return this.templateQuestion.name}set name(e){this.templateQuestion.name=e}get title(){return this.templateQuestion.title}set title(e){this.templateQuestion.title=e}get locTitle(){return this.templateQuestion.locTitle}get fullTitle(){return this.locTitle.textOrHtml}get defaultDisplayValue(){return this.templateQuestion.defaultDisplayValue}set defaultDisplayValue(e){this.templateQuestion.defaultDisplayValue=e}get locDefaultDisplayValue(){return this.templateQuestion.locDefaultDisplayValue}get isRequired(){return this.getPropertyValue("isRequired")}set isRequired(e){this.setPropertyValue("isRequired",e),this.templateQuestion.isRequired=e}get isRenderedRequired(){return this.getPropertyValue("isRenderedRequired",this.isRequired)}set isRenderedRequired(e){this.setPropertyValue("isRenderedRequired",e)}updateIsRenderedRequired(e){this.isRenderedRequired=e||this.isRequired}get requiredMark(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredMark:this.templateQuestion.requiredMark}get requiredErrorText(){return this.templateQuestion.requiredErrorText}set requiredErrorText(e){this.templateQuestion.requiredErrorText=e}get locRequiredErrorText(){return this.templateQuestion.locRequiredErrorText}get readOnly(){return this.templateQuestion.readOnly}set readOnly(e){this.templateQuestion.readOnly=e}get hasOther(){return this.templateQuestion.showOtherItem}set hasOther(e){this.templateQuestion.showOtherItem=e}get visibleIf(){return this.templateQuestion.visibleIf}set visibleIf(e){this.templateQuestion.visibleIf=e}get enableIf(){return this.templateQuestion.enableIf}set enableIf(e){this.templateQuestion.enableIf=e}get requiredIf(){return this.templateQuestion.requiredIf}set requiredIf(e){this.templateQuestion.requiredIf=e}get resetValueIf(){return this.templateQuestion.resetValueIf}set resetValueIf(e){this.templateQuestion.resetValueIf=e}get defaultValueExpression(){return this.templateQuestion.defaultValueExpression}set defaultValueExpression(e){this.templateQuestion.defaultValueExpression=e}get setValueIf(){return this.templateQuestion.setValueIf}set setValueIf(e){this.templateQuestion.setValueIf=e}get setValueExpression(){return this.templateQuestion.setValueExpression}set setValueExpression(e){this.templateQuestion.setValueExpression=e}get isUnique(){return this.getPropertyValue("isUnique")}set isUnique(e){this.setPropertyValue("isUnique",e)}get showInMultipleColumns(){return this.getPropertyValue("showInMultipleColumns")}set showInMultipleColumns(e){this.setPropertyValue("showInMultipleColumns",e)}get isSupportMultipleColumns(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1}get isShowInMultipleColumns(){return this.showInMultipleColumns&&this.isSupportMultipleColumns}get validators(){return this.templateQuestion.validators}set validators(e){this.templateQuestion.validators=e}get totalType(){return this.getPropertyValue("totalType")}set totalType(e){this.setPropertyValue("totalType",e)}get totalExpression(){return this.getPropertyValue("totalExpression")}set totalExpression(e){this.setPropertyValue("totalExpression",e)}get hasTotal(){return this.totalType!="none"||!!this.totalExpression}get totalFormat(){return this.getLocalizableStringText("totalFormat","")}set totalFormat(e){this.setLocalizableStringText("totalFormat",e)}get locTotalFormat(){return this.getLocalizableString("totalFormat")}get cellHint(){return this.getLocalizableStringText("cellHint","")}set cellHint(e){this.setLocalizableStringText("cellHint",e)}get locCellHint(){return this.getLocalizableString("cellHint")}get renderAs(){return this.getPropertyValue("renderAs")}set renderAs(e){this.setPropertyValue("renderAs",e),this.templateQuestion&&(this.templateQuestion.renderAs=e)}get totalMaximumFractionDigits(){return this.getPropertyValue("totalMaximumFractionDigits")}set totalMaximumFractionDigits(e){e<-1||e>20||this.setPropertyValue("totalMaximumFractionDigits",e)}get totalMinimumFractionDigits(){return this.getPropertyValue("totalMinimumFractionDigits")}set totalMinimumFractionDigits(e){e<-1||e>20||this.setPropertyValue("totalMinimumFractionDigits",e)}get totalDisplayStyle(){return this.getPropertyValue("totalDisplayStyle")}set totalDisplayStyle(e){this.setPropertyValue("totalDisplayStyle",e)}get totalAlignment(){return this.getPropertyValue("totalAlignment")}set totalAlignment(e){this.setPropertyValue("totalAlignment",e)}get totalCurrency(){return this.getPropertyValue("totalCurrency")}set totalCurrency(e){QC().indexOf(e)<0||this.setPropertyValue("totalCurrency",e)}get minWidth(){return this.getPropertyValue("minWidth","")}set minWidth(e){this.setPropertyValue("minWidth",e)}get width(){return this.templateQuestion.width}set width(e){this.templateQuestion.width=e}get colCount(){return this.getPropertyValue("colCount")}set colCount(e){e<-1||e>4||this.setPropertyValue("colCount",e)}getLocale(){return this.colOwner?this.colOwner.getLocale():""}getMarkdownHtml(e,t,n){return this.colOwner?this.colOwner.getMarkdownHtml(e,t,n):void 0}getRenderer(e){return this.colOwner?this.colOwner.getRenderer(e):null}getRendererContext(e){return this.colOwner?this.colOwner.getRendererContext(e):e}getProcessedText(e){return this.colOwner?this.colOwner.getProcessedText(e):e}createCellQuestion(e){var t=this.calcCellQuestionType(e),n=this.createNewQuestion(t);return this.callOnCellQuestionUpdate(n,e),n}startLoadingFromJson(e){super.startLoadingFromJson(e),e&&!e.cellType&&e.choices&&(e.cellType=this.colOwner.getCellType())}updateCellQuestion(e,t,n=null){this.setQuestionProperties(e,n)}callOnCellQuestionUpdate(e,t){var n=e.getType(),r=HV[n];r&&r.onCellQuestionUpdate&&r.onCellQuestionUpdate(e,this,this.colOwner,t)}defaultCellTypeChanged(){this.updateTemplateQuestion()}calcCellQuestionType(e){let t=this.getDefaultCellQuestionType();return e&&this.colOwner&&(t=this.colOwner.getCustomCellType(this,e,t)),t}getDefaultCellQuestionType(e){return e||(e=this.cellType),e!=="default"?e:this.colOwner?this.colOwner.getCellType():oe.matrix.defaultCellType}updateTemplateQuestion(e,t,n){const r=this.getDefaultCellQuestionType(e),s=this.templateQuestion?this.templateQuestion.getType():"";r!==s&&(this.templateQuestion&&this.removeProperties(s),this.templateQuestionValue=this.createNewQuestion(r),this.templateQuestion.locOwner=this,this.addProperties(r),t&&(this.name=t),n?this.title=n:this.templateQuestion.locTitle.strChanged(),oe.serialization.matrixDropdownColumnSerializeTitle&&(this.templateQuestion.locTitle.serializeCallBackText=!0),this.templateQuestion.onPropertyChanged.add((o,a)=>{this.propertyValueChanged(a.name,a.oldValue,a.newValue,a.arrayChanges,a.target)}),this.templateQuestion.onNestedPropertyChanged.add((o,a)=>{this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onColumnNestedPropertyChanged(this,a.name,a.nestedName,a.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add((o,a)=>{this.doItemValuePropertyChanged(a.propertyName,a.obj,a.name,a.newValue,a.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=()=>this.getSurvey()),this.templateQuestion.locTitle.strChanged())}createNewQuestion(e){var t=me.createClass(e);return t||(t=me.createClass("text")),t.loadingOwner=this,t.isEditableTemplateElement=!0,t.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(t),this.setParentQuestionToTemplate(t),t}setParentQuestionToTemplate(e){this.colOwner&&this.colOwner.isQuestion&&e.setParentQuestion(this.colOwner)}setQuestionProperties(e,t=null){if(this.templateQuestion){var n=new Si().toJsonObject(this.templateQuestion,!0);if(t&&t(n),n.type=e.getType(),this.cellType==="default"&&this.colOwner&&this.colOwner.hasChoices()&&delete n.choices,delete n.itemComponent,this.jsonObj&&n.type==="rating"&&this.isLoadingFromJson&&Object.keys(this.jsonObj).forEach(r=>{n[r]=this.jsonObj[r]}),n.choicesOrder==="random"){n.choicesOrder="none";const r=this.templateQuestion.visibleChoices;Array.isArray(r)&&(n.choices=r)}new Si().toObject(n,e),e.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,e.loadedChoicesFromServerCallback=()=>{if(!this.isShowInMultipleColumns||this.previousChoicesId&&this.previousChoicesId!==e.id)return;this.previousChoicesId=e.id;const r=e.visibleChoices;this.templateQuestion.choices=r,this.propertyValueChanged("choices",r,r)}}}propertyValueChanged(e,t,n,r,s){if(super.propertyValueChanged(e,t,n,r,s),e==="isRequired"&&this.updateIsRenderedRequired(n),!(!this.colOwner||this.isLoadingFromJson)){if(this.isShowInMultipleColumns){if(e==="choicesOrder")return;["visibleChoices","choices"].indexOf(e)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this)}me.hasOriginalProperty(this,e)&&this.colOwner.onColumnPropertyChanged(this,e,n)}}doItemValuePropertyChanged(e,t,n,r,s){me.hasOriginalProperty(t,n)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,e,t,n,r,s)}doShowInMultipleColumnsChanged(){this.colOwner!=null&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)}doColumnVisibilityChanged(){this.colOwner!=null&&!this.isDesignMode&&this.colOwner.onColumnVisibilityChanged(this)}getProperties(e){return me.getDynamicPropertiesByObj(this,e)}removeProperties(e){for(var t=this.getProperties(e),n=0;n<t.length;n++){var r=t[n];delete this[r.name],r.serializationProperty&&delete this[r.serializationProperty]}}addProperties(e){const t=this.getProperties(e);me.addDynamicPropertiesIntoObj(this,this.templateQuestion,t)}}me.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(i,e){i&&e&&(e.placeholder=i.locTitle.getPlaceholder())}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:()=>{var i=nb.getColumnTypes();return i.splice(0,0,"default"),i}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},{name:"isRequired:boolean",defaultFunc:i=>{const e=i==null?void 0:i.templateQuestion;return e&&me.findProperty(e.getType(),"isRequired").getDefaultValue(e)||!1}},"isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(i,e){i&&e&&(e.value=i.minWidth)}},"width",{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:i=>i.isSupportMultipleColumns},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",visibleIf:i=>!i.isShowInMultipleColumns,default:"none",choices:["none","sum","count","min","max","avg"]},{name:"totalExpression:expression",visibleIf:i=>!i.isShowInMultipleColumns},{name:"totalFormat",serializationProperty:"locTotalFormat",visibleIf:i=>i.hasTotal},{name:"totalDisplayStyle",visibleIf:i=>i.hasTotal,default:"none",choices:["none","decimal","currency","percent"]},{name:"totalAlignment",visibleIf:i=>i.hasTotal,default:"auto",choices:["auto","left","center","right"]},{name:"totalCurrency",visibleIf:i=>i.hasTotal,choices:()=>QC(),default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1,visibleIf:i=>i.hasTotal},{name:"totalMinimumFractionDigits:number",default:-1,visibleIf:i=>i.hasTotal},{name:"renderAs",default:"default",visible:!1},{name:"defaultDisplayValue",serializationProperty:"locDefaultDisplayValue"}],function(){return new nb("")});function H$(i,e,t){return i+(e?"-error":"")+(t?"-detail":"")}class ea{constructor(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isErrorsCell=!1,this.isDragHandlerCell=!1,this.isDetailRowCell=!1,this.classNameValue="",this.idValue=ea.counter++}get requiredMark(){return this.column&&this.column.isRenderedRequired?this.column.requiredMark:void 0}get hasQuestion(){return!!this.question&&!this.isErrorsCell}get hasTitle(){return!!this.locTitle}get hasPanel(){return!!this.panel}get id(){let e=this.question?this.question.id:this.idValue.toString();return this.isChoice&&(e+="-"+(Number.isInteger(this.choiceIndex)?"index"+this.choiceIndex.toString():this.item.id)),H$(e,this.isErrorsCell,this.isDetailRowCell)}get item(){return this.itemValue}set item(e){this.itemValue=e,e&&(e.hideCaption=!0)}get isChoice(){return!!this.item}get isItemChoice(){return this.isChoice&&!this.isOtherChoice}get choiceValue(){return this.isChoice?this.item.value:null}get isCheckbox(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")}get isRadio(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")}get isFirstChoice(){return this.choiceIndex===0}set className(e){this.classNameValue=e}get className(){const e=new Ie().append(this.classNameValue);return this.hasQuestion&&e.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),e.toString()}get cellQuestionWrapperClassName(){return this.cell.getQuestionWrapperClassName(this.matrix.cssClasses.cellQuestionWrapper)}get isVisible(){var e;return!this.hasQuestion&&!this.isErrorsCell||!(!((e=this.matrix)===null||e===void 0)&&e.isMobile)||this.question.isVisible}get showResponsiveTitle(){var e;return this.hasQuestion&&((e=this.matrix)===null||e===void 0?void 0:e.isMobile)}get responsiveTitleCss(){return new Ie().append(this.matrix.cssClasses.cellResponsiveTitle).toString()}get responsiveLocTitle(){return this.cell.column.locTitle}get headers(){if(this.cell&&this.cell.column){if(this.matrix.IsMultiplyColumn(this.cell.column))return this.item?this.item.locText.renderedHtml:"";let e=this.cell.column.cellHint;return e?e.trim()===""?"":this.cell.column.locCellHint.renderedHtml:this.hasQuestion&&this.question.isVisible&&this.question.title?this.question.title:this.cell.column.title}return this.hasQuestion&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""}getTitle(){return this.matrix&&this.matrix.showHeader?this.headers:""}calculateFinalClassName(e){const t=this.cell.question.cssClasses,n=new Ie().append(t.itemValue,!!t).append(t.asCell,!!t);return n.append(e.cell,n.isEmpty()&&!!e).append(e.choiceCell,this.isChoice).toString()}focusIn(){this.question&&this.question.focusIn()}}ea.counter=1;class Lu extends Ut{constructor(e,t=!1){super(),this.cssClasses=e,this.isDetailRow=t,this.hasEndActions=!1,this.isErrorsRow=!1,this.cells=[],this.idValue=Lu.counter++}get id(){var e;return H$(((e=this.row)===null||e===void 0?void 0:e.id)||this.idValue.toString(),this.isErrorsRow,this.isDetailRow)}get dropTargetId(){var e;return(e=this.row)===null||e===void 0?void 0:e.id}get attributes(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}}get className(){var e,t;return new Ie().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.rowHasPanel,(e=this.row)===null||e===void 0?void 0:e.hasPanel).append(this.cssClasses.expandedRow,((t=this.row)===null||t===void 0?void 0:t.isDetailPanelShowing)&&!this.isDetailRow).append(this.cssClasses.rowHasEndActions,this.hasEndActions).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()}setRootElement(e){this.rootElement=e}getRootElement(){return this.rootElement}focusCell(e){if(this.rootElement){const t=`:scope td:nth-of-type(${e+1}) input, :scope td:nth-of-type(${e+1}) button`,n=this.rootElement.querySelectorAll(t)[0];n&&n.focus()}}}Lu.counter=1;W([G({defaultValue:!1})],Lu.prototype,"isGhostRow",void 0);W([G({defaultValue:!1})],Lu.prototype,"isAdditionalClasses",void 0);W([G({defaultValue:!0})],Lu.prototype,"visible",void 0);class MRe extends Lu{constructor(e){super(e),this.isErrorsRow=!0}get attributes(){return{}}get className(){return new Ie().append(this.cssClasses.row).append(this.cssClasses.errorRow).toString()}onAfterCreated(){const e=()=>{this.visible=this.cells.some(t=>t.question&&t.question.hasVisibleErrors)};this.cells.forEach(t=>{t.question&&t.question.registerFunctionOnPropertyValueChanged("hasVisibleErrors",e)}),e()}}class FRe extends Lu{constructor(e,t){super(e),this.customId=t,this.isErrorsRow=!1}get attributes(){return{}}get dropTargetId(){return this.customId}get className(){return new Ie().append(this.cssClasses.row).append(this.cssClasses.rowEmpty).toString()}}class WC extends Ut{getIsAnimationAllowed(){return super.getIsAnimationAllowed()&&this.matrix.animationAllowed}getRenderedRowsAnimationOptions(){const e=n=>{n.querySelectorAll(":scope > td > *").forEach(r=>{Su(r)})},t=n=>{n.querySelectorAll(":scope > td > *").forEach(r=>{oa(r)})};return{isAnimationEnabled:()=>this.animationAllowed,getRerenderEvent:()=>this.onElementRerendered,getAnimatedElement(n){return n.getRootElement()},getLeaveOptions:()=>({cssClass:this.cssClasses.rowLeave,onBeforeRunAnimation:e,onAfterRunAnimation:t}),getEnterOptions:(n,r)=>({cssClass:this.cssClasses.rowEnter,onBeforeRunAnimation:e,onAfterRunAnimation:t}),getKey:n=>n.id}}updateRenderedRows(){this.renderedRows=this.rows}get renderedRows(){return this._renderedRows}set renderedRows(e){this.renderedRowsAnimation.sync(e)}constructor(e){super(),this.matrix=e,this._renderedRows=[],this.renderedRowsAnimation=new ph(this.getRenderedRowsAnimationOptions(),t=>{this._renderedRows=t},()=>this._renderedRows),this.hasActionCellInRowsValues={},this.build()}get showTable(){return this.getPropertyValue("showTable",!0)}get showHeader(){return this.getPropertyValue("showHeader")}get showAddRow(){return this.getPropertyValue("showAddRow",!1)}get showAddRowOnTop(){return this.getPropertyValue("showAddRowOnTop",!1)}get showAddRowOnBottom(){return this.getPropertyValue("showAddRowOnBottom",!1)}get showFooter(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal}get hasFooter(){return!!this.footerRow}get hasRemoveRows(){return this.hasRemoveRowsValue}isRequireReset(){return this.isRequireResetValue||this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal}requireReset(){this.isRequireResetValue=!0}get headerRow(){return this.headerRowValue}get footerRow(){return this.footerRowValue}get isRowsDragAndDrop(){return this.matrix.isRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal}get showCellErrorsTop(){return this.matrix.getErrorLocation()==="top"}get showCellErrorsBottom(){return this.matrix.getErrorLocation()==="bottom"}build(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.matrix.visibleRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()}updateShowTableAndAddRow(){const e=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",e);const t=this.matrix.isDesignMode,n=!t&&this.matrix.canAddRow&&e;let r=n,s=n;r&&(this.matrix.getAddRowLocation()==="default"?r=!this.matrix.isColumnLayoutHorizontal:r=this.matrix.getAddRowLocation()!=="bottom"),s&&this.matrix.getAddRowLocation()!=="topBottom"&&(s=!r),this.setPropertyValue("showAddRow",!t&&this.matrix.canAddRow),this.setPropertyValue("showAddRowOnTop",r),this.setPropertyValue("showAddRowOnBottom",s)}onAddedRow(e,t){if(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)return;let n=this.getRenderedRowIndexByIndex(t);this.rowsActions.splice(t,0,this.buildRowActions(e)),this.addHorizontalRow(this.rows,e,n),this.updateShowTableAndAddRow()}getRenderedRowIndexByIndex(e){let t=0,n=0;for(var r=0;r<this.rows.length;r++){if(n===e){(this.rows[r].isErrorsRow||this.rows[r].isDetailRow)&&(t++,r+1<this.rows.length&&this.rows[r+1].isDetailRow&&t++);break}t++,!this.rows[r].isErrorsRow&&!this.rows[r].isDetailRow&&n++}return n<e?this.rows.length:t}getRenderedDataRowCount(){for(var e=0,t=0;t<this.rows.length;t++)!this.rows[t].isErrorsRow&&!this.rows[t].isDetailRow&&e++;return e}onRemovedRow(e){var t=this.getRenderedRowIndex(e);if(!(t<0)){this.rowsActions.splice(t,1);var n=1;t<this.rows.length-1&&this.showCellErrorsBottom&&this.rows[t+1].isErrorsRow&&n++,t<this.rows.length-1&&(this.rows[t+1].isDetailRow||this.showCellErrorsBottom&&t+1<this.rows.length-1&&this.rows[t+2].isDetailRow)&&n++,t>0&&this.showCellErrorsTop&&this.rows[t-1].isErrorsRow&&(t--,n++),this.rows.splice(t,n),this.updateShowTableAndAddRow()}}onDetailPanelChangeVisibility(e,t){const n=this.getRenderedRowIndex(e);if(n<0)return;let r=n;this.showCellErrorsBottom&&r++;var s=r<this.rows.length-1&&this.rows[r+1].isDetailRow?r+1:-1;if(!(t&&s>-1||!t&&s<0))if(t){var o=this.createDetailPanelRow(e,this.rows[n]);this.rows.splice(r+1,0,o)}else this.rows.splice(s,1)}focusActionCell(e,t){let n=this.rows[this.rows.length-1];if(this.matrix.isColumnLayoutHorizontal){const r=this.getRenderedRowIndex(e);n=this.rows[r]}n==null||n.focusCell(t)}getRenderedRowIndex(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].row==e)return t;return-1}buildRowsActions(){this.rowsActions=[];for(var e=this.matrix.visibleRows,t=0;t<e.length;t++)this.rowsActions.push(this.buildRowActions(e[t]))}createRenderedRow(e,t=!1){return new Lu(e,t)}createErrorRenderedRow(e){return new MRe(e)}createEmptyRenderedRow(e){return new FRe(e,this.matrix.id)}buildHeader(){var e=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader,t=e||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",t),!!t){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null,"action",this.cssClasses.actionsCellDrag)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var n=0;n<this.matrix.columns.length;n++){var r=this.matrix.columns[n];r.isColumnVisible&&(this.matrix.IsMultiplyColumn(r)?this.createMutlipleColumnsHeader(r):this.headerRow.cells.push(this.createHeaderCell(r)))}else{for(var s=this.matrix.visibleRows,n=0;n<s.length;n++){const a=this.createTextCell(s[n].locText);this.setHeaderCellCssClasses(a),a.row=s[n],this.headerRow.cells.push(a)}if(this.matrix.hasFooter){const o=this.createTextCell(this.matrix.getFooterText());this.setHeaderCellCssClasses(o),this.headerRow.cells.push(o)}}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null,"action"))}}buildFooter(){if(this.showFooter){if(this.footerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText){const s=this.createTextCell(this.matrix.getFooterText());s.className=new Ie().append(s.className).append(this.cssClasses.footerTotalCell).toString(),this.footerRow.cells.push(s)}for(var e=this.matrix.visibleTotalRow.cells,t=0;t<e.length;t++){var n=e[t];if(n.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(n.column))this.createMutlipleColumnsFooter(this.footerRow,n);else{var r=this.createEditCell(n);n.column&&this.setCellWidth(n.column,r),r.className=new Ie().append(r.className).append(this.cssClasses.footerCell).toString(),this.footerRow.cells.push(r)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null,"action"))}}buildRows(){this.blockAnimations();var e=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=e,this.releaseAnimations()}hasActionCellInRows(e){return this.hasActionCellInRowsValues[e]===void 0&&(this.hasActionCellInRowsValues[e]=this.hasActionsCellInLocaltion(e)),this.hasActionCellInRowsValues[e]}hasActionsCellInLocaltion(e){return e=="end"&&this.hasRemoveRows?!0:this.matrix.visibleRows.some((t,n)=>!this.isValueEmpty(this.getRowActions(n,e)))}canRemoveRow(e){return this.matrix.canRemoveRow(e)}buildHorizontalRows(){var e=this.matrix.visibleRows,t=[];if(e.length==0&&this.matrix.allowRowReorder&&this.matrix.allowRowDragIn){const r=this.createEmptyRow(),s=this.createTextCell(this.matrix.locNoRowsText);s.colSpans=this.headerRow&&this.headerRow.cells.length||1,r.cells.push(s),t.push(r)}for(var n=0;n<e.length;n++)this.addHorizontalRow(t,e[n]);return t}addHorizontalRow(e,t,n=-1){const r=this.createHorizontalRow(t),s=this.createErrorRow(r);if(r.row=t,n<0&&(n=e.length),this.matrix.isMobile){const o=[];for(let a=0;a<r.cells.length;a++)this.showCellErrorsTop&&!s.cells[a].isEmpty&&o.push(s.cells[a]),o.push(r.cells[a]),this.showCellErrorsBottom&&!s.cells[a].isEmpty&&o.push(s.cells[a]);r.cells=o,e.splice(n,0,r)}else e.splice(n,0,...this.showCellErrorsTop?[s,r]:[r,s]),n++;t.isDetailPanelShowing&&e.splice(n+1,0,this.createDetailPanelRow(t,r))}getRowDragCell(e){const t=new ea,n=this.matrix.lockedRowCount;return t.isDragHandlerCell=n<1||e>=n,t.isEmpty=!t.isDragHandlerCell,t.className=this.getActionsCellClassName(t),t.row=this.matrix.visibleRows[e],t}getActionsCellClassName(e=null){const t=new Ie().append(this.cssClasses.actionsCell).append(this.cssClasses.actionsCellDrag,e==null?void 0:e.isDragHandlerCell).append(this.cssClasses.detailRowCell,e==null?void 0:e.isDetailRowCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal);if(e.isActionsCell){const n=e.item.value.actions;this.cssClasses.actionsCellPrefix&&n.forEach(r=>{t.append(this.cssClasses.actionsCellPrefix+"--"+r.id)})}return t.toString()}getRowActionsCell(e,t,n=!1){const r=this.getRowActions(e,t);if(!this.isValueEmpty(r)){const s=new ea,o=this.matrix.allowAdaptiveActions?new $C:new wr;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(o.cssClasses=this.matrix.survey.getCss().actionBar),o.setItems(r);const a=new Kt(o);return s.item=a,s.isActionsCell=!0,s.isDragHandlerCell=!1,s.isDetailRowCell=n,s.className=this.getActionsCellClassName(s),s.row=this.matrix.visibleRows[e],s}return null}getRowActions(e,t){var n=this.rowsActions[e];return Array.isArray(n)?n.filter(r=>(r.location||(r.location="start"),r.location===t)):[]}buildRowActions(e){var t=[];return this.setDefaultRowActions(e,t),this.matrix.survey&&(t=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,e,t)),t}get showRemoveButtonAsIcon(){return oe.matrix.renderRemoveAsIcon&&this.matrix.survey&&this.matrix.survey.css.root==="sd-root-modern"}setDefaultRowActions(e,t){const n=this.matrix;this.hasRemoveRows&&this.canRemoveRow(e)&&(this.showRemoveButtonAsIcon?t.push(new Xt({id:"remove-row",iconName:"icon-delete-24x24",iconSize:"auto",component:"sv-action-bar-item",innerCss:new Ie().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:n.removeRowText,enabled:!n.isInputReadOnly,data:{row:e,question:n},action:()=>{n.removeRowUI(e)}})):t.push(new Xt({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:e,question:this.matrix}}))),e.hasPanel&&(this.matrix.isMobile?t.unshift(new Xt({id:"show-detail-mobile",title:new Un(()=>e.isDetailPanelShowing?this.matrix.getLocalizationString("hideDetails"):this.matrix.getLocalizationString("showDetails")),showTitle:!0,location:"end",action:r=>{e.showHideDetailPanelClick()}})):t.push(new Xt({id:"show-detail",title:new Un(()=>e.isDetailPanelShowing?this.matrix.getLocalizationString("hideDetails"):this.matrix.getLocalizationString("showDetails")),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:e,question:this.matrix}})))}createErrorRow(e){const t=this.createErrorRenderedRow(this.cssClasses);for(let n=0;n<e.cells.length;n++){const r=e.cells[n];r.hasQuestion?this.matrix.IsMultiplyColumn(r.cell.column)?r.isFirstChoice?t.cells.push(this.createErrorCell(r.cell)):t.cells.push(this.createEmptyCell(!0)):t.cells.push(this.createErrorCell(r.cell)):t.cells.push(this.createEmptyCell(!0))}return t.onAfterCreated(),t}createEmptyRow(){return this.createEmptyRenderedRow(this.cssClasses)}createHorizontalRow(e){var t=this.createRenderedRow(this.cssClasses);if(this.isRowsDragAndDrop){var n=this.matrix.visibleRows.indexOf(e);t.cells.push(this.getRowDragCell(n))}if(this.addRowActionsCell(e,t,"start"),this.matrix.hasRowText){var r=this.createTextCell(e.locText);r.row=e,t.cells.push(r),this.setCellWidth(null,r),r.className=new Ie().append(r.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell,!this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.detailRowText,e.hasPanel).toString()}for(var s=0;s<e.cells.length;s++){let o=e.cells[s];if(o.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(o.column))this.createMutlipleEditCells(t,o);else{o.column.isShowInMultipleColumns&&o.question.visibleChoices.map(l=>l.hideCaption=!1);var r=this.createEditCell(o);t.cells.push(r),this.setCellWidth(o.column,r)}}return this.addRowActionsCell(e,t,"end"),t}addRowActionsCell(e,t,n){var r=this.matrix.visibleRows.indexOf(e);if(this.hasActionCellInRows(n)){const o=this.getRowActionsCell(r,n,t.isDetailRow);if(o)t.cells.push(o),t.hasEndActions=!0;else{var s=new ea;s.isEmpty=!0,s.isDetailRowCell=t.isDetailRow,t.cells.push(s)}}}createDetailPanelRow(e,t){const n=this.matrix.isDesignMode;var r=this.createRenderedRow(this.cssClasses,!0);r.row=e;var s=new ea;this.matrix.hasRowText&&(s.colSpans=2),s.isEmpty=!0,n||r.cells.push(s);var o=null;this.hasActionCellInRows("end")&&(o=new ea,o.isEmpty=!0);var a=new ea;return a.panel=e.detailPanel,a.colSpans=t.cells.length-(n?0:s.colSpans)-(o?o.colSpans:0),a.className=this.cssClasses.detailPanelCell,r.cells.push(a),o&&(this.matrix.isMobile?this.addRowActionsCell(e,r,"end"):r.cells.push(o)),typeof this.matrix.onCreateDetailPanelRenderedRowCallback=="function"&&this.matrix.onCreateDetailPanelRenderedRowCallback(r),r}buildVerticalRows(){for(var e=this.matrix.columns,t=[],n=0;n<e.length;n++){var r=e[n];if(r.isColumnVisible)if(this.matrix.IsMultiplyColumn(r))this.createMutlipleVerticalRows(t,r,n);else{const s=this.createVerticalRow(r,n),o=this.createErrorRow(s);this.showCellErrorsTop?(t.push(o),t.push(s)):(t.push(s),t.push(o))}}return this.hasActionCellInRows("end")&&t.push(this.createEndVerticalActionRow()),t}createMutlipleVerticalRows(e,t,n){var r=this.getMultipleColumnChoices(t);if(r)for(var s=0;s<r.length;s++){const o=this.createVerticalRow(t,n,r[s],s),a=this.createErrorRow(o);this.showCellErrorsTop?(e.push(a),e.push(o)):(e.push(o),e.push(a))}}createVerticalRow(e,t,n=null,r=-1){var s=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var o=n?n.locText:e.locTitle,a=this.createTextCell(o);a.column=e,a.className=new Ie().append(a.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell).toString(),s.cells.push(a)}for(var l=this.matrix.visibleRows,u=0;u<l.length;u++){var c=n,h=r>=0?r:u,f=l[u].cells[t],m=n?f.question.visibleChoices:void 0;m&&h<m.length&&(c=m[h]);var b=this.createEditCell(f,c);b.item=c,b.choiceIndex=h,s.cells.push(b)}return this.matrix.hasTotal&&s.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[t])),s}createEndVerticalActionRow(){var e=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&e.cells.push(this.createEmptyCell());for(var t=this.matrix.visibleRows,n=0;n<t.length;n++)e.cells.push(this.getRowActionsCell(n,"end"));return this.matrix.hasTotal&&e.cells.push(this.createEmptyCell()),e}createMutlipleEditCells(e,t,n=!1){var r=n?this.getMultipleColumnChoices(t.column):t.question.visibleChoices;if(r)for(var s=0;s<r.length;s++){var o=this.createEditCell(t,n?void 0:r[s]);n||(this.setItemCellCssClasses(o),o.choiceIndex=s),e.cells.push(o)}}setItemCellCssClasses(e){e.className=new Ie().append(this.cssClasses.cell).append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,e.isRadio).append(this.cssClasses.checkboxCell,e.isCheckbox).toString()}createEditCell(e,t=void 0){var n=new ea;return n.cell=e,n.row=e.row,n.column=e.column,n.question=e.question,n.matrix=this.matrix,n.item=t,n.isOtherChoice=!!t&&!!e.question&&e.question.otherItem===t,n.className=n.calculateFinalClassName(this.cssClasses),n}createErrorCell(e,t=void 0){var n=new ea;return n.question=e.question,n.row=e.row,n.matrix=this.matrix,n.isErrorsCell=!0,n.className=new Ie().append(this.cssClasses.cell).append(this.cssClasses.errorsCell).append(this.cssClasses.errorsCellTop,this.showCellErrorsTop).append(this.cssClasses.errorsCellBottom,this.showCellErrorsBottom).toString(),n}createMutlipleColumnsFooter(e,t){this.createMutlipleEditCells(e,t,!0)}createMutlipleColumnsHeader(e){var t=this.getMultipleColumnChoices(e);if(t)for(var n=0;n<t.length;n++){var r=this.createTextCell(t[n].locText);this.setHeaderCell(e,r),this.setHeaderCellCssClasses(r),this.headerRow.cells.push(r)}}getMultipleColumnChoices(e){var t=e.templateQuestion.choices;return t&&Array.isArray(t)&&t.length==0?[].concat(this.matrix.choices,e.getVisibleMultipleChoices()):(t=e.getVisibleMultipleChoices(),!t||!Array.isArray(t)?null:t)}setHeaderCellCssClasses(e,t,n){e.className=new Ie().append(this.cssClasses.headerCell).append(this.cssClasses.columnTitleCell,this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.emptyCell,!!e.isEmpty).append(this.cssClasses.cell+"--"+t,!!t).append(n,!!n).toString()}createHeaderCell(e,t=null,n){let r=e?this.createTextCell(e.locTitle):this.createEmptyCell();return r.column=e,this.setHeaderCell(e,r),t||(t=e&&e.cellType!=="default"?e.cellType:this.matrix.cellType),this.setHeaderCellCssClasses(r,t,n),r}setHeaderCell(e,t){this.setCellWidth(e,t)}setCellWidth(e,t){t.minWidth=e!=null?this.matrix.getColumnWidth(e):this.matrix.getRowTitleWidth(),t.width=e!=null?e.width:this.matrix.getRowTitleWidth()}createTextCell(e){var t=new ea;return t.locTitle=e,this.cssClasses.cell&&(t.className=this.cssClasses.cell),t}createEmptyCell(e=!1){const t=this.createTextCell(null);return t.isEmpty=!0,t.className=new Ie().append(this.cssClasses.cell).append(this.cssClasses.emptyCell).append(this.cssClasses.errorsCell,e).toString(),t}}W([rs({onPush:(i,e,t)=>{t.updateRenderedRows()},onRemove:(i,e,t)=>{t.updateRenderedRows()}})],WC.prototype,"rows",void 0);W([rs()],WC.prototype,"_renderedRows",void 0);class z${constructor(e,t,n){this.column=e,this.row=t,this.data=n,this.questionValue=this.createQuestion(e,t,n),this.questionValue.updateCustomWidget(),this.updateCellQuestionTitleDueToAccessebility(t)}updateCellQuestionTitleDueToAccessebility(e){this.questionValue.locTitle.onGetTextCallback=t=>{const n=e==null?void 0:e.getSurvey();if(!n||n.isSingleVisibleInput)return this.questionValue.title;const r=e.getAccessbilityText();return r?this.column.colOwner.getCellAriaLabel(e,this.column,r):this.questionValue.title}}locStrsChanged(){this.question.locStrsChanged()}createQuestion(e,t,n){const r=n.createQuestion(this.row,this.column);return r.readOnlyCallback=()=>!this.row.isRowEnabled(),r.validateValueCallback=function(){return n.validateCell(t,e.name,t.value)},_i.getProperties(e.getType()).forEach(s=>{let o=s.name;e[o]!==void 0&&(r[o]=e[o])}),r}get question(){return this.questionValue}get value(){return this.question.value}set value(e){this.question.value=e}getQuestionWrapperClassName(e){return e}runCondition(e){this.question.runCondition(e)}}class $Re extends z${constructor(e,t,n){super(e,t,n),this.column=e,this.row=t,this.data=n,this.updateCellQuestion()}createQuestion(e,t,n){var r=me.createClass("expression");return r.setSurveyImpl(t),r}locStrsChanged(){this.updateCellQuestion(),super.locStrsChanged()}updateCellQuestion(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(e){delete e.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0}getQuestionWrapperClassName(e){let t=super.getQuestionWrapperClassName(e);if(!t)return t;this.question.expression&&this.question.expression!="''"&&(t+=" "+e+"--expression");let n=this.column.totalAlignment;return n==="auto"&&this.column.cellType==="dropdown"&&(n="left"),t+" "+e+"--"+n}getTotalExpression(){if(this.column.totalExpression)return this.column.totalExpression;if(this.column.totalType=="none")return"''";var e=this.column.totalType+"InArray";return Tn.Instance.hasFunction(e)?e+"({matrix}, '"+this.column.name+"')":""}}class BRe extends $${constructor(e){super(),this.row=e}getIndex(){return this.row.rowIndex-1}getQuestionData(){return this.row.data}getValue(e,t,n,r){if(e.length===0)return;const s=oe.expressionVariables;if(e.length===1){const a=this.getRowValue(e[0].name);if(a!==void 0)return{isFound:!0,value:a};if(e[0].name===s.matrix){const l=this.row.data;return{isFound:!0,context:l.getValueGetterContext(),value:l.getFilteredData()}}}if(e.length>1&&e[0].name===s.totalRow){const a=this.row.data.visibleTotalRow;if(a)return e[0].name="row",a.getValueGetterContext().getValue(e,t,n,r)}const o=e[0].name===s.row;if(o||!t){o&&e.shift();let a=super.getValue(e,t,n,r);if(a&&a.isFound)return a;const l=this.row.getAllValues();return t&&(a=this.getValueFromBindedQuestions(e,l),a)?a:new Oo(l).getValue(e,t,n,r)}}getRootObj(){return this.row.data}updateValueByItem(e,t){const n=this.row.getQuestionsByValueName(e,!0);n.length>0&&(t.isFound=!0,t.context=n[0].getValueGetterContext())}getRowValue(e){const t=oe.expressionVariables;if(e=e.toLocaleLowerCase(),e===t.rowIndex.toLocaleLowerCase())return this.row.rowIndex;if([t.item,t.rowName.toLocaleLowerCase(),t.rowValue.toLocaleLowerCase()].indexOf(e)>-1)return this.row.rowName;if(e==t.rowTitle.toLocaleLowerCase())return this.row.rowTitle}}class mh{static getId(){return"srow_"+mh.idCounter++}constructor(e,t){this.data=e,this.isSettingValue=!1,this.detailPanelValue=null,this.visibleValue=!0,this.cells=[],this.visibleIndex=-1,this.isCreatingDetailPanel=!1,this.data=e,this.subscribeToChanges(t),this.textPreProcessor=new jC(this),this.showHideDetailPanelClick=()=>{if(this.getSurvey().isDesignMode)return!0;this.showHideDetailPanel()},this.idValue=mh.getId()}get id(){return this.idValue}get rowName(){return null}get rowTitle(){return this.rowName}get dataName(){return this.rowName}get text(){return this.rowName}getValueGetterContext(){return new BRe(this)}isRowEnabled(){return!0}isRowHasEnabledCondition(){return!1}get isVisible(){return this.visible&&this.isItemVisible()}get visible(){return this.visibleValue}set visible(e){var t;this.visible!==e&&(this.visibleValue=e,(t=this.data)===null||t===void 0||t.onRowVisibilityChanged(this))}isItemVisible(){return!0}get value(){return this.getValueCore(!1)}set value(e){this.isSettingValue=!0,this.subscribeToChanges(e);for(var t=this.questions,n=0;n<t.length;n++){var r=t[n],s=this.getCellValue(e,r.getValueName()),o=r.comment,a=e?e[r.getValueName()+Ut.commentSuffix]:"";a==null&&(a=""),r.updateValueFromSurvey(s),(a||this.isTwoValueEquals(o,r.comment))&&r.updateCommentFromSurvey(a),r.onSurveyValueChanged(s)}this.isSettingValue=!1}get filteredValue(){return this.getValueCore(!0)}getValueCore(e){for(var t={},n=this.questions,r=0;r<n.length;r++){var s=n[r];s.isEmpty()||(t[s.getValueName()]=e?s.getFilteredValue():s.value),s.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(t[s.getValueName()+Ut.commentSuffix]=s.comment)}return t}get locText(){return null}getAccessbilityText(){return this.locText&&this.locText.renderedHtml}get hasPanel(){return this.data?this.data.hasDetailPanel(this):!1}get detailPanel(){return this.detailPanelValue}get detailPanelId(){return this.detailPanel?this.detailPanel.id:""}get isDetailPanelShowing(){return this.data?this.data.getIsDetailPanelShowing(this):!1}setIsDetailPanelShowing(e){!e&&this.detailPanel&&this.detailPanel.onHidingContent(),this.data&&this.data.setIsDetailPanelShowing(this,e),e&&this.detailPanel&&this.detailPanel.onFirstRendering(),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()}showHideDetailPanel(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()}showDetailPanel(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)}hideDetailPanel(e=!1){this.setIsDetailPanelShowing(!1),e&&(this.detailPanelValue=null)}ensureDetailPanel(){if(!this.isCreatingDetailPanel&&!(this.detailPanelValue||!this.hasPanel||!this.data)){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var e=this.detailPanelValue.questions,t=this.getDataRowValue();if(!se.isValueEmpty(t))for(var n=0;n<e.length;n++){const r=e[n].getValueName(),s=this.editingObj?me.getObjPropertyValue(this.editingObj,r):t[r];se.isValueEmpty(s)||(e[n].value=s)}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}}getAllValues(){const e=this.value;if(this.data){const n=this.getDataRowValue();if(n)for(var t in n)e[t]===void 0&&(e[t]=n[t])}return e}getFilteredProperties(){return{survey:this.getSurvey(),row:this}}getDataRowValue(){return this.data?this.data.getRowValue(this.data.getRowIndex(this)):null}runCondition(e,t){if(!this.data)return;const n=se.createCopy(e);n[oe.expressionVariables.row]=this,t?this.visible=new Do(t).runContext(this.getValueGetterContext(),e):this.visible=!0;for(var r=0;r<this.cells.length;r++)this.cells[r].runCondition(n);this.detailPanel&&this.detailPanel.runCondition(n),this.isRowHasEnabledCondition()&&this.onQuestionReadOnlyChanged()}updateElementVisibility(){this.cells.forEach(e=>e.question.updateElementVisibility()),this.detailPanel&&this.detailPanel.updateElementVisibility()}getNamesWithDefaultValues(){const e=[];return this.questions.forEach(t=>{t.isValueDefault&&e.push(t.getValueName())}),e}clearValue(e){for(var t=this.questions,n=0;n<t.length;n++)t[n].clearValue(e)}onAnyValueChanged(e,t){for(var n=this.questions,r=0;r<n.length;r++)n[r].onAnyValueChanged(e,t)}getDataValueCore(e,t){var n=this.getSurvey();return n?n.getDataValueCore(e,t):e[t]}getValue(e){var t=this.getQuestionByName(e);return t?t.value:null}setValue(e,t){this.setValueCore(e,t,!1)}getVariable(e){}setVariable(e,t){}getComment(e){var t=this.getQuestionByName(e);return t?t.comment:""}setComment(e,t,n){this.setValueCore(e,t,!0)}findQuestionByName(e){if(!e)return;const t=oe.expressionVariables.row+".";if(e.indexOf(t)===0)return this.getQuestionByName(e.substring(t.length));const n=this.getSurvey();return n?n.getQuestionByName(e):null}getEditingSurveyElement(){}setValueCore(e,t,n){if(this.isSettingValue)return;this.updateQuestionsValue(e,t,n),n||this.updateSharedQuestionsValue(e,t);var r=this.value,s=n?e+Ut.commentSuffix:e,o=t,a=this.getQuestionByName(e),l=this.data.onRowChanging(this,s,r);if(a&&!this.isTwoValueEquals(l,o)&&(this.isSettingValue=!0,n?a.comment=l:a.value=l,this.isSettingValue=!1,r=this.value),this.data.isValidateOnValueChanging&&this.hasQuestonError(a))return;const u=t==null&&!a||n&&!t&&!!a;this.data.onRowChanged(this,s,r,u);const c=oe.expressionVariables.row;s&&this.runTriggers(c+"."+s,r),this.onAnyValueChanged(c,"")}updateQuestionsValue(e,t,n){if(this.detailPanel){var r=this.getQuestionByColumnName(e),s=this.detailPanel.getQuestionByName(e);if(!(!r||!s)){var o=this.isTwoValueEquals(t,n?r.comment:r.value),a=o?s:r;this.isSettingValue=!0,n?a.comment=t:a.value=t,this.isSettingValue=!1}}}updateSharedQuestionsValue(e,t){const n=this.getQuestionsByValueName(e);if(n.length>1)for(let r=0;r<n.length;r++)se.isTwoValueEquals(n[r].value,t)||(this.isSettingValue=!0,n[r].updateValueFromSurvey(t),this.isSettingValue=!1)}runTriggers(e,t,n){!e&&!n||this.questions.forEach(r=>r.runTriggers(e,t,n))}hasQuestonError(e){if(!e)return!1;if(e.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(e.isEmpty())return!1;var t=this.getCellByColumnName(e.name);return!t||!t.column||!t.column.isUnique?!1:this.data.checkIfValueInRowDuplicated(this,e)}get isEmpty(){var e=this.value;if(se.isValueEmpty(e))return!0;for(var t in e)if(e[t]!==void 0&&e[t]!==null)return!1;return!0}hasValueAnyQuestion(e){const t=e?this.visibleQuestions:this.questions;for(let n=0;n<t.length;n++)if(!t[n].isEmpty())return!0;return!1}getQuestionByColumn(e){var t=this.getCellByColumn(e);return t?t.question:null}getCellByColumn(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column==e)return this.cells[t];return null}getCellByColumnName(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column.name==e)return this.cells[t];return null}getQuestionByColumnName(e){var t=this.getCellByColumnName(e);return t?t.question:null}get questions(){for(var e=[],t=0;t<this.cells.length;t++)e.push(this.cells[t].question);for(var n=this.detailPanel?this.detailPanel.questions:[],t=0;t<n.length;t++)e.push(n[t]);return e}get visibleQuestions(){const e=[];return this.questions.forEach(t=>{t.isVisible&&e.push(t)}),e}getQuestionByName(e){var t=this.getQuestionByColumnName(e);return t||(this.detailPanel?this.detailPanel.getQuestionByName(e):null)}getQuestionsByName(e){let t=[],n=this.getQuestionByColumnName(e);return n&&t.push(n),this.detailPanel&&(n=this.detailPanel.getQuestionByName(e),n&&t.push(n)),t}getQuestionsByValueName(e,t){t&&(e=e.toLocaleLowerCase());let n=[];for(var r=0;r<this.cells.length;r++){const s=this.cells[r],o=s.question;if(!o)continue;let a=o.getValueName();t&&(a=a.toLocaleLowerCase()),a===e&&n.push(s.question)}return this.detailPanel&&(n=n.concat(this.detailPanel.getQuestionsByValueName(e,t))),n}getSharedQuestionByName(e){return this.data?this.data.getSharedQuestionByName(e,this):null}clearIncorrectValues(e){for(var t in e){var n=this.getQuestionByName(t);if(n){var r=n.value;n.clearIncorrectValues(),this.isTwoValueEquals(r,n.value)||this.setValue(t,n.value)}else!this.getSharedQuestionByName(t)&&t.indexOf(oe.matrix.totalsSuffix)<0&&this.setValue(t,null)}}getLocale(){return this.data?this.data.getLocale():""}getMarkdownHtml(e,t,n){return this.data?this.data.getMarkdownHtml(e,t,n):void 0}getRenderer(e){return this.data?this.data.getRenderer(e):null}getRendererContext(e){return this.data?this.data.getRendererContext(e):e}getProcessedText(e){return this.data?this.data.getProcessedText(e):e}locStrsChanged(){for(var e=0;e<this.cells.length;e++)this.cells[e].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()}updateCellQuestionOnColumnChanged(e,t,n){var r=this.getCellByColumn(e);r&&this.updateCellOnColumnChanged(r,t,n)}updateCellQuestionOnColumnItemValueChanged(e,t,n,r,s,o){var a=this.getCellByColumn(e);a&&this.updateCellOnColumnItemValueChanged(a,t,n,r,s,o)}onQuestionReadOnlyChanged(){const e=this.questions;for(var t=0;t<e.length;t++){const n=e[t];n.setPropertyValue("isReadOnly",n.isReadOnly)}if(this.detailPanel){const n=!!this.data&&this.data.isMatrixReadOnly();this.detailPanel.readOnly=n||!this.isRowEnabled()}}hasErrors(e,t,n){var r=!1,s=this.cells;if(!s)return r;const o=t==null?void 0:t.focusOnFirstError;for(var a=0;a<s.length;a++)if(s[a]){var l=s[a].question;!l||!l.visible||(l.onCompletedAsyncValidators=c=>{n()},!(t&&t.isOnValueChanged===!0&&l.isEmpty())&&(r=l.hasErrors(e,t)||r,r&&o&&!t.firstErrorQuestion&&(t.firstErrorQuestion=l)))}if(this.hasPanel){this.ensureDetailPanel();var u=this.detailPanel.hasErrors(e,!1,t);!t.hideErroredPanel&&u&&e&&(t.isSingleDetailPanel&&(t.hideErroredPanel=!0),this.showDetailPanel()),r=u||r}return r}updateCellOnColumnChanged(e,t,n){t==="choices"&&Array.isArray(n)&&n.length===0&&this.data&&(n=this.data.choices),e.question[t]=n}updateCellOnColumnItemValueChanged(e,t,n,r,s,o){var a=e.question[t];if(Array.isArray(a)){var l=r==="value"?o:n.value,u=Kt.getItemByValue(a,l);u&&(u[r]=s)}}buildCells(e){this.isSettingValue=!0;for(var t=this.data.columns,n=0;n<t.length;n++){var r=t[n],s=this.createCell(r);this.cells.push(s);var o=this.getCellValue(e,r.name);if(!se.isValueEmpty(o)){s.question.value=o;var a=r.name+Ut.commentSuffix;e&&!se.isValueEmpty(e[a])&&(s.question.comment=e[a])}}this.isSettingValue=!1}isTwoValueEquals(e,t){return se.isTwoValueEquals(e,t,!1,!0,!1)}getCellValue(e,t){return this.editingObj?me.getObjPropertyValue(this.editingObj,t):e?e[t]:void 0}createCell(e){return new z$(e,this,this.data)}getSurveyData(){return this}getSurvey(){return this.data?this.data.getSurvey():null}getTextProcessor(){return this.textPreProcessor}get rowIndex(){return this.getRowIndex()}getRowIndex(){return this.data?this.data.getRowIndex(this)+1:-1}get editingObj(){return this.editingObjValue}dispose(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)}subscribeToChanges(e){!e||!e.getType||!e.onPropertyChanged||e!==this.editingObj&&(this.editingObjValue=e,this.onEditingObjPropertyChanged=(t,n)=>{this.updateOnSetValue(n.name,n.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}updateOnSetValue(e,t){this.isSettingValue=!0;let n=this.getQuestionsByName(e);for(let r=0;r<n.length;r++)n[r].value=t;this.isSettingValue=!1}}mh.idCounter=1;class E2 extends mh{constructor(e){super(e,null),this.buildCells(null)}createCell(e){return new $Re(e,this,this.data)}setValue(e,t){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()}runCondition(e,t){var n=0,r;do r=se.getUnbindValue(this.value),super.runCondition(e,""),n++;while(!se.isTwoValueEquals(r,this.value)&&n<3)}updateCellOnColumnChanged(e,t,n){e.updateCellQuestion()}}class j${constructor(e,t){this.matrix=e,this.row=t}getLocale(){return this.matrix.getLocale()}getMarkdownHtml(e,t,n){return this.matrix.getMarkdownHtml(e,t,n)}getProcessedText(e){return this.matrix.processSingleInputTitle(e,this.row)}getRenderer(e){return this.matrix.getRenderer(e)}getRendererContext(e){return this.matrix.getRendererContext(e)}}class uy extends zC{static get defaultCellType(){return oe.matrix.defaultCellType}static set defaultCellType(e){oe.matrix.defaultCellType=e}static addDefaultColumns(e){for(var t=Fn.DefaultColums,n=0;n<t.length;n++)e.addColumn(t[n])}createColumnValues(){return this.createNewArray("columns",e=>{e.colOwner=this,this.onAddColumn&&this.onAddColumn(e),this.survey&&this.survey.matrixColumnAdded(this,e)},e=>{e.colOwner=null,this.onRemoveColumn&&this.onRemoveColumn(e)})}constructor(e){super(e),this.isRowChanging=!1,this.lockResetRenderedTable=!1,this.createItemValues("choices"),this.createLocalizableString("placeholder",this,!1,!0),this.createLocalizableString("keyDuplicationError",this,!1,!0),this.createLocalizableString("singleInputTitleTemplate",new j$(this),!0,this.getSingleInputTitleTemplate()),this.detailPanelValue=this.createNewDetailPanel(),this.detailPanel.selectedElementInDesign=this,this.detailPanel.renderWidth="100%",this.detailPanel.isInteractiveDesignElement=!1,this.detailPanel.showTitle=!1,this.registerPropertyChangedHandlers(["columns","cellType"],()=>{this.updateColumnsAndRows()}),this.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],()=>{this.clearRowsAndResetRenderedTable()}),this.registerPropertyChangedHandlers(["transposeData","addRowButtonLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode","displayMode"],()=>{this.resetRenderedTable()})}getType(){return"matrixdropdownbase"}dispose(){super.dispose(),this.clearGeneratedRows()}get hasSingleInput(){return!1}get isContainer(){return!0}get isRowsDynamic(){return!1}get isUpdateLocked(){return this.isLoadingFromJson||this.isUpdating}beginUpdate(){this.isUpdating=!0}endUpdate(){this.isUpdating=!1,this.updateColumnsAndRows()}updateColumnsAndRows(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()}itemValuePropertyChanged(e,t,n,r){super.itemValuePropertyChanged(e,t,n,r),e.ownerPropertyName==="choices"&&this.clearRowsAndResetRenderedTable()}get transposeData(){return this.getPropertyValue("transposeData")}set transposeData(e){this.setPropertyValue("transposeData",e)}get columnLayout(){return this.transposeData?"vertical":"horizontal"}set columnLayout(e){this.transposeData=e==="vertical"}get columnsLocation(){return this.columnLayout}set columnsLocation(e){this.columnLayout=e}get detailErrorLocation(){return this.getPropertyValue("detailErrorLocation")}set detailErrorLocation(e){this.setPropertyValue("detailErrorLocation",e.toLowerCase())}get cellErrorLocation(){return this.getPropertyValue("cellErrorLocation")}set cellErrorLocation(e){this.setPropertyValue("cellErrorLocation",e.toLowerCase())}getChildErrorLocation(e){const t=e.parent?this.detailErrorLocation:this.cellErrorLocation;return t!=="default"?t:super.getChildErrorLocation(e)}get isColumnLayoutHorizontal(){return this.isMobile?!0:!this.transposeData}get useCaseSensitiveComparison(){return this.useCaseSensitiveComparisonValue!==void 0?this.useCaseSensitiveComparisonValue:oe.comparator.caseSensitive}set useCaseSensitiveComparison(e){this.useCaseSensitiveComparisonValue=e}get isUniqueCaseSensitive(){return this.useCaseSensitiveComparison}set isUniqueCaseSensitive(e){this.useCaseSensitiveComparison=e}get detailPanelMode(){return this.getPropertyValue("detailPanelMode")}set detailPanelMode(e){this.setPropertyValue("detailPanelMode",e)}get detailPanel(){return this.detailPanelValue}getPanel(){return this.detailPanel}get detailElements(){return this.detailPanel.elements}createNewDetailPanel(){return me.createClass("panel")}get hasRowText(){return!0}getFooterText(){return null}get canAddRow(){return!1}get canRemoveRows(){return!1}canRemoveRow(e){return!0}onPointerDown(e,t){}onRowsChanged(){this.clearVisibleRows(),this.resetRenderedTable(),super.onRowsChanged();const e=this.visibleRows;for(let t=0;t<e.length;t++)e[t].visibleIndex=t}onStartRowAddingRemoving(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly(!0)}onEndRowAdding(){if(this.lockResetRenderedTable=!1,!!this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{const e=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[e],e)}}onEndRowRemoving(e){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():e&&this.renderedTable.onRemovedRow(e)}get renderedTableValue(){return this.getPropertyValue("renderedTable",null)}set renderedTableValue(e){this.setPropertyValue("renderedTable",e)}clearRowsAndResetRenderedTable(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)}resetRenderedTable(e){this.renderedTableValue&&(this.lockResetRenderedTable||this.isUpdateLocked?e&&this.renderedTableValue.requireReset():(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback)))}clearGeneratedRows(){if(this.clearVisibleRows(),!!this.generatedVisibleRows){for(var e=0;e<this.generatedVisibleRows.length;e++)this.generatedVisibleRows[e].dispose();super.clearGeneratedRows()}}get isRendredTableCreated(){return!!this.renderedTableValue}get renderedTable(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue}createRenderedTable(){return new WC(this)}getRowByQuestion(e){if(e)return e.data}onMatrixRowCreated(e){if(this.survey)for(var t={rowValue:e.value,row:e,column:null,columnName:null,cell:null,cellQuestion:null,value:null},n=0;n<this.columns.length;n++){t.column=this.columns[n],t.columnName=t.column.name;var r=e.cells[n];t.cell=r,t.cellQuestion=r.question,t.value=r.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(t),this.survey.matrixCellCreated(this,t)}}get cellType(){return this.getPropertyValue("cellType",oe.matrix.defaultCellType)}set cellType(e){e=e.toLowerCase(),this.setPropertyValue("cellType",e)}isSelectCellType(){return me.isDescendantOf(this.cellType,"selectbase")}updateColumnsCellType(){for(var e=0;e<this.columns.length;e++)this.columns[e].defaultCellTypeChanged()}updateColumnsIndexes(e){for(var t=0;t<e.length;t++)e[t].setIndex(t)}get columnColCount(){return this.getPropertyValue("columnColCount")}set columnColCount(e){e<0||e>4||this.setPropertyValue("columnColCount",e)}get horizontalScroll(){return this.getPropertyValue("horizontalScroll")}set horizontalScroll(e){this.setPropertyValue("horizontalScroll",e)}get allowAdaptiveActions(){return this.getPropertyValue("allowAdaptiveActions")}set allowAdaptiveActions(e){this.setPropertyValue("allowAdaptiveActions",e),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=e)}hasChoices(){return this.choices.length>0}onColumnPropertyChanged(e,t,n){if(this.updateHasFooter(),!!this.generatedVisibleRows){for(var r=0;r<this.generatedVisibleRows.length;r++)this.generatedVisibleRows[r].updateCellQuestionOnColumnChanged(e,t,n);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(e,t,n),this.onColumnsChanged(),t=="isRequired"&&this.resetRenderedTable()}}onColumnNestedPropertyChanged(e,t,n,r){if(this.generatedVisibleRows)for(var s=0;s<this.generatedVisibleRows.length;s++){const a=this.generatedVisibleRows[s].getQuestionByColumn(e);a&&a[t]&&(a[t][n]=r)}}onColumnItemValuePropertyChanged(e,t,n,r,s,o){if(this.generatedVisibleRows)for(var a=0;a<this.generatedVisibleRows.length;a++)this.generatedVisibleRows[a].updateCellQuestionOnColumnItemValueChanged(e,t,n,r,s,o)}onShowInMultipleColumnsChanged(e){this.resetTableAndRows()}onColumnVisibilityChanged(e){this.resetTableAndRows()}onColumnCellTypeChanged(e){this.updateDefaultRowValue(e),this.resetTableAndRows()}updateDefaultRowValue(e){let t=this.defaultRowValue;t&&e.cellType==="file"&&t[e.name]&&(delete t[e.name],Object.keys(t).length===0&&(t=void 0),this.defaultRowValue=t)}resetTableAndRows(){this.clearGeneratedRows(),this.resetRenderedTable()}getRowTitleWidth(){return""}get hasFooter(){return this.getPropertyValue("hasFooter",!1)}getAddRowLocation(){return"default"}getShowColumnsIfEmpty(){return!1}updateShowTableAndAddRow(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()}updateHasFooter(){this.setPropertyValue("hasFooter",this.hasTotal)}get hasTotal(){for(var e=0;e<this.columns.length;e++)if(this.columns[e].hasTotal)return!0;return!1}getCellType(){return this.cellType}getCustomCellType(e,t,n){if(!this.survey)return n;var r={rowValue:t.value,row:t,column:e,columnName:e.name,cellType:n};return this.survey.matrixCellCreating(this,r),r.cellType}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);let n="";for(let o=t.length-1;o>=0&&t[o]!=".";o--)n=t[o]+n;let r,s=this.getColumnByName(n);return s?r=s.createCellQuestion(null):this.detailPanelMode!=="none"&&(r=this.detailPanel.getQuestionByName(n)),r?r.getConditionJson(e):null}clearIncorrectValues(){if(!Array.isArray(this.visibleRows))return;const e=this.generatedVisibleRows;for(let t=0;t<e.length;t++)e[t].clearIncorrectValues(this.getRowValue(t))}clearErrors(){super.clearErrors(),this.runFuncForCellQuestions(e=>{e.clearErrors()})}localeChanged(){super.localeChanged(),this.runFuncForCellQuestions(e=>{e.localeChanged()})}runFuncForCellQuestions(e){const t=this.generatedVisibleRows;if(t)for(let n=0;n<t.length;n++){const r=t[n];if(r.isVisible)for(let s=0;s<r.cells.length;s++)e(r.cells[s].question)}}runConditionCore(e){super.runConditionCore(e);var t=0,n;do n=se.getUnbindValue(this.totalValue),this.runCellsCondition(e),this.runTotalsCondition(e),t++;while(!se.isTwoValueEquals(n,this.totalValue)&&t<3);this.updateVisibilityBasedOnRows()}runTriggers(e,t,n){super.runTriggers(e,t,n),this.runFuncForCellQuestions(r=>{r.runTriggers(e,t,n)})}updateElementVisibility(){super.updateElementVisibility();const e=this.generatedVisibleRows;e&&e.forEach(t=>t.updateElementVisibility()),this.updateShowTableAndAddRow()}shouldRunColumnExpression(){return!1}runCellsCondition(e){if(this.isDesignMode)return;const t=this.generatedVisibleRows;if(t)for(var n=0;n<t.length;n++)t[n].runCondition(e,this.rowsVisibleIf);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}runConditionsForColumns(e){return this.columns.forEach(t=>{if(!this.columnsVisibleIf)t.isColumnsVisibleIf=!0;else{const n=new Do(this.columnsVisibleIf);t.isColumnsVisibleIf=n.runContext(t.getValueGetterContext(),e)===!0}}),!1}checkColumnsVisibility(){if(!this.isDesignMode){for(var e=!1,t=0;t<this.columns.length;t++){const n=this.columns[t],r=!!n.visibleIf||n.isFilteredMultipleColumns;!r&&!this.columnsVisibleIf&&n.isColumnVisible||(e=this.isColumnVisibilityChanged(n,r)||e)}e&&this.resetRenderedTable(!0)}}checkColumnsRenderedRequired(){const e=this.generatedVisibleRows;if(e)for(var t=0;t<this.columns.length;t++){const r=this.columns[t];if(!r.requiredIf||!r.isColumnVisible)continue;let s=e.length>0;for(var n=0;n<e.length;n++)if(!e[n].cells[t].question.isRequired){s=!1;break}r.updateIsRenderedRequired(s)}}isColumnVisibilityChanged(e,t){const n=e.isColumnVisible;let r=!t;const s=this.generatedVisibleRows,o=t&&s,a=o&&e.isFilteredMultipleColumns,l=a?e.getVisibleChoicesInCell:[],u=new Array;if(o)for(let c=0;c<s.length;c++){const h=s[c].cells[e.index],f=h==null?void 0:h.question;if(f&&f.isVisible)if(r=!0,a)this.updateNewVisibleChoices(f,u);else break}return e.hasVisibleCell=r&&e.isColumnsVisibleIf,a&&(e.setVisibleChoicesInCell(u),!se.isArraysEqual(l,u,!0,!1,!1))?!0:n!==e.isColumnVisible}updateNewVisibleChoices(e,t){const n=e.visibleChoices;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];t.indexOf(s.value)<0&&t.push(s.value)}}runTotalsCondition(e){this.generatedTotalRow&&this.generatedTotalRow.runCondition(e)}IsMultiplyColumn(e){return e.isShowInMultipleColumns&&!this.isMobile}locStrsChanged(){super.locStrsChanged();for(var e=this.columns,t=0;t<e.length;t++)e[t].locStrsChanged();var n=this.generatedVisibleRows;if(n){for(var t=0;t<n.length;t++)n[t].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}}getColumnByName(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].name==e)return this.columns[t];return null}getColumnName(e){return this.getColumnByName(e)}getColumnWidth(e){var t;return e.minWidth?e.minWidth:this.columnMinWidth?this.columnMinWidth:((t=oe.matrix.columnWidthsByType[e.cellType])===null||t===void 0?void 0:t.minWidth)||""}get choices(){return this.getPropertyValue("choices")}set choices(e){this.setPropertyValue("choices",e)}get placeholder(){return this.getLocalizableStringText("placeholder")}set placeholder(e){this.setLocalizableStringText("placeholder",e)}get locPlaceholder(){return this.getLocalizableString("placeholder")}get optionsCaption(){return this.placeholder}set optionsCaption(e){this.placeholder=e}get keyDuplicationError(){return this.getLocalizableStringText("keyDuplicationError")}set keyDuplicationError(e){this.setLocalizableStringText("keyDuplicationError",e)}get locKeyDuplicationError(){return this.getLocalizableString("keyDuplicationError")}get singleInputTitleTemplate(){return this.getLocalizableStringText("singleInputTitleTemplate")}set singleInputTitleTemplate(e){this.setLocalizableStringText("singleInputTitleTemplate",e)}get locSingleInputTitleTemplate(){return this.getLocalizableString("singleInputTitleTemplate")}getSingleQuestionLocTitleCore(){return this.locSingleInputTitleTemplate}getSingleInputTitleTemplate(){return""}processSingleInputTitle(e,t){t||(t=this.getRowByQuestion(this.singleInputQuestion));const n=t?t.getTextProcessor():this.textProcessor;return n?n.processText(e,!0):e}singleInputMoveToFirstCore(){var e;const t=(e=this.singleInputQuestion)===null||e===void 0?void 0:e.data;this.singleInputEditRow(t)}singleInputEditRow(e){if(!e)return;const t=e.visibleQuestions;Array.isArray(t)&&t.length>0&&this.setSingleInputQuestion(t[0])}get storeOthersAsComment(){return this.survey?this.survey.storeOthersAsComment:!1}addColumn(e,t){var n=new nb(e,t,this);return this.columns.push(n),n}clearVisibleRows(){this.visibleRowsArray=null}isColumnVisible(e){return e.isColumnVisible}getVisibleRows(){return this.isUpdateLocked?null:this.isGenereatingRows?[]:this.visibleRowsArray?this.visibleRowsArray:(this.generateVisibleRowsIfNeeded(),this.visibleRowsArray=this.getVisibleFromGenerated(this.generatedVisibleRows),this.visibleRowsArray)}get allRows(){return this.isGenereatingRows?[]:(this.generateVisibleRowsIfNeeded(),this.generatedVisibleRows)}generateVisibleRowsIfNeeded(){if(!this.isUpdateLocked&&!this.generatedVisibleRows){this.isGenereatingRows=!0,this.generatedVisibleRows=this.generateRows(),this.isGenereatingRows=!1;for(var e=0;e<this.generatedVisibleRows.length;e++){const t=this.generatedVisibleRows[e];t.visibleIndex=e,this.onMatrixRowCreated(t)}this.data&&(this.runCellsCondition(this.data.getFilteredProperties()),this.isValueChangedWithoutRows&&(this.isValueChangedWithoutRows=!1,this.runTriggersOnNewRows())),this.generatedVisibleRows&&(this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered())}}runTriggersOnNewRows(){const e=this.value;this.generatedVisibleRows.forEach(t=>{const n=this.getRowValueCore(t,e);if(!se.isValueEmpty(n)){const r=se.createCopyWithPrefix(n,oe.expressionVariables.row+".");t.runTriggers("",void 0,r)}})}getVisibleFromGenerated(e){const t=[];return e?(e.forEach(n=>{n.isVisible&&t.push(n)}),t.length===e.length?e:t):t}updateValueOnRowsGeneration(e){for(var t=this.createNewValue(!0),n=this.createNewValue(),r=0;r<e.length;r++){var s=e[r];if(!s.editingObj){var o=this.getRowValue(r),a=s.value;this.isTwoValueEquals(o,a)||(n=this.getNewValueOnRowChanged(s,"",a,!1,n).value)}}this.isTwoValueEquals(t,n)||(this.isRowChanging=!0,this.setNewValue(n),this.isRowChanging=!1)}get totalValue(){return!this.hasTotal||!this.visibleTotalRow?{}:this.visibleTotalRow.value}getVisibleTotalRow(){return this.isUpdateLocked?null:(this.hasTotal?this.generatedTotalRow||(this.generatedTotalRow=this.generateTotalRow(),this.data&&this.runTotalsCondition({survey:this.survey})):this.generatedTotalRow=null,this.generatedTotalRow)}get visibleTotalRow(){return this.getVisibleTotalRow()}onSurveyLoad(){super.onSurveyLoad(),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()}getRowValue(e){if(e<0||!Array.isArray(this.visibleRows))return null;var t=this.generatedVisibleRows;if(e>=t.length)return null;const n=this.value,r=this.getRowValueCore(t[e],n);return this.isValueSurveyElement(n)?r:se.getUnbindValue(r)}checkIfValueInRowDuplicated(e,t){return this.generatedVisibleRows?this.isValueInColumnDuplicated(t.name,!0,e):!1}setRowValue(e,t){if(e<0)return null;var n=this.visibleRows;if(e>=n.length)return null;n[e].value=t,this.onRowChanged(n[e],"",t,!1)}generateRows(){return null}generateTotalRow(){return new E2(this)}createNewValue(e=!1){var t=this.value?this.createValueCopy():{};return e&&this.isMatrixValueEmpty(t)?null:t}getRowValueCore(e,t,n=!1){var r=t&&t[e.rowName]?t[e.rowName]:null;return!r&&n&&(r={},t&&(t[e.rowName]=r)),r}getRowObj(e){var t=this.getRowValueCore(e,this.value);return t&&t.getType?t:null}getRowDisplayValue(e,t,n){if(!n||t.editingObj)return n;for(var r=Object.keys(n),s=0;s<r.length;s++){var o=r[s],a=t.getQuestionByName(o);if(a||(a=this.getSharedQuestionByName(o,t)),a){var l=a.getDisplayValue(e,n[o]);e&&a.title&&a.title!==o?(n[a.title]=l,delete n[o]):n[o]=l}}return n}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t){t.isNode=!0;const n=Array.isArray(t.data)?[].concat(t.data):[];t.data=this.visibleRows.map(r=>{var s={name:r.dataName,title:r.text,value:r.value,displayValue:this.getRowDisplayValue(!1,r,r.value),getString:o=>typeof o=="object"?JSON.stringify(o):o,isNode:!0,data:r.cells.map(o=>o.question.getPlainData(e)).filter(o=>!!o)};return(e.calculations||[]).forEach(o=>{s[o.propertyName]=r[o.propertyName]}),s}),t.data=t.data.concat(n)}return t}addConditionObjectsByContext(e,t){let n=[].concat(this.columns);this.detailPanelMode!=="none"&&(n=n.concat(this.detailPanel.questions));const r=!!t&&n.indexOf(t)>-1,s=t===!0||r,o=this.getConditionObjectsRowIndeces();s&&o.push(-1);for(var a=0;a<o.length;a++){const u=o[a],c=u>-1?this.getConditionObjectRowName(u):"row";if(!c)continue;const h=u>-1?this.getConditionObjectRowText(u):"row",f=u>-1||t===!0,m=f&&u===-1?".":"",b=(f?this.getValueName():"")+m+c+".",_=(f?this.processedTitle:"")+m+h+".";for(var l=0;l<n.length;l++){const E=n[l];if(u===-1&&t===E)continue;const k={name:b+E.name,text:_+E.fullTitle,question:this};u===-1&&t===!0?k.context=this:r&&b.startsWith("row.")&&(k.context=t),e.push(k)}}}onHidingContent(){if(super.onHidingContent(),!this.generatedVisibleRows)return;const e=[];this.collectNestedQuestions(e,!0),e.forEach(t=>t.onHidingContent())}getIsReadyNestedQuestions(){if(!this.generatedVisibleRows)return[];const e=new Array;return this.collectNestedQuestonsInRows(this.generatedVisibleRows,e,!1,!0,!1),this.generatedTotalRow&&this.collectNestedQuestonsInRows([this.generatedTotalRow],e,!1,!0,!1),e}collectNestedQuestionsCore(e,t,n,r){r&&e.push(this),this.collectNestedQuestonsInRows(this.visibleRows,e,t,n,r)}collectNestedQuestonsInRows(e,t,n,r,s){Array.isArray(e)&&e.forEach(o=>{o.questions.forEach(a=>a.addNestedQuestion(t,n,r,s))})}getConditionObjectRowName(e){return""}getConditionObjectRowText(e){return this.getConditionObjectRowName(e)}getConditionObjectsRowIndeces(){return[]}getProgressInfo(){if(this.getIsRequireToGenerateRows()&&this.generateVisibleRowsIfNeeded(),this.generatedVisibleRows)return ni.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);const e=Ut.createProgressInfo();return this.updateProgressInfoByValues(e),e.requiredQuestionCount===0&&this.isRequired&&(e.requiredQuestionCount=1,e.requiredAnsweredQuestionCount=this.isEmpty()?0:1),e}getIsRequireToGenerateRows(){return!!this.rowsVisibleIf}updateProgressInfoByValues(e){}updateProgressInfoByRow(e,t){for(var n=0;n<this.columns.length;n++){const r=this.columns[n];if(!r.templateQuestion.hasInput)continue;const s=!se.isValueEmpty(t[r.name]);!s&&r.templateQuestion.visibleIf||(e.questionCount+=1,e.requiredQuestionCount+=r.isRequired,e.answeredQuestionCount+=s?1:0,e.requiredAnsweredQuestionCount+=s&&r.isRequired?1:0)}}getCellQuestions(){const e=[];return this.runFuncForCellQuestions(t=>{e.push(t)}),e}onBeforeValueChanged(e){}onSetQuestionValue(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0))){this.isRowChanging=!0;for(var e=this.createNewValue(),t=0;t<this.generatedVisibleRows.length;t++){var n=this.generatedVisibleRows[t];this.generatedVisibleRows[t].value=this.getRowValueCore(n,e)}this.isRowChanging=!1}}setQuestionValue(e){super.setQuestionValue(e,!1),this.onSetQuestionValue(),this.updateIsAnswered()}supportAutoAdvance(){var e=this.generatedVisibleRows;if(e||(e=this.visibleRows),!e)return!0;for(var t=0;t<e.length;t++){var n=this.generatedVisibleRows[t].cells;if(n)for(var r=0;r<n.length;r++){var s=n[r].question;if(s&&(!s.supportAutoAdvance()||!s.value))return!1}}return!0}getContainsErrors(){return super.getContainsErrors()||this.checkForAnswersOrErrors(e=>e.containsErrors,!1)}getIsAnswered(){return super.getIsAnswered()&&this.checkForAnswersOrErrors(e=>e.isAnswered,!0)}checkForAnswersOrErrors(e,t=!1){var n=this.generatedVisibleRows;if(!n)return!1;for(var r=0;r<n.length;r++){var s=n[r].cells;if(s){for(var o=0;o<s.length;o++)if(s[o]){var a=s[o].question;if(a&&a.isVisible){if(e(a)){if(!t)return!0}else if(t)return!1}}}}return!!t}hasErrors(e=!0,t=null){var n=this.hasErrorInRows(e,t),r=this.isValueDuplicated();return super.hasErrors(e,t)||n||r}getIsRunningValidators(){if(super.getIsRunningValidators())return!0;if(!this.generatedVisibleRows)return!1;for(var e=0;e<this.generatedVisibleRows.length;e++){var t=this.generatedVisibleRows[e].cells;if(t){for(var n=0;n<t.length;n++)if(t[n]){var r=t[n].question;if(r&&r.isRunningValidators)return!0}}}return!1}getAllErrors(){var e=super.getAllErrors(),t=this.generatedVisibleRows;if(t===null)return e;for(var n=0;n<t.length;n++)for(var r=t[n],s=0;s<r.cells.length;s++){var o=r.cells[s].question.getAllErrors();o&&o.length>0&&(e=e.concat(o))}return e}hasErrorInRows(e,t){let n=this.generatedVisibleRows;this.generatedVisibleRows||(n=this.visibleRows);var r=!1;if(t||(t={}),!n)return t;t.isSingleDetailPanel=this.detailPanelMode==="underRowSingle";for(var s=0;s<n.length;s++)n[s].isVisible&&(r=n[s].hasErrors(e,t,()=>{this.raiseOnCompletedAsyncValidators()})||r);return r}isValueDuplicated(){if(!this.generatedVisibleRows)return!1;for(var e=this.getUniqueColumnsNames(),t=!1,n=0;n<e.length;n++)t=this.isValueInColumnDuplicated(e[n],!0)||t;return t}getUniqueColumnsNames(){for(var e=new Array,t=0;t<this.columns.length;t++)this.columns[t].isUnique&&e.push(this.columns[t].name);return e}isValueInColumnDuplicated(e,t,n){const r=this.getDuplicatedRows(e);return t&&this.showDuplicatedErrorsInRows(r,e),this.removeDuplicatedErrorsInRows(r,e),n?r.indexOf(n)>-1:r.length>0}getDuplicatedRows(e){const t={},n=[],r=this.generatedVisibleRows;for(var s=0;s<r.length;s++){let o;const a=r[s].getQuestionByName(e);if(a)o=a.value;else{const l=this.getRowValue(s);o=l?l[e]:void 0}this.isValueEmpty(o)||(!this.useCaseSensitiveComparison&&typeof o=="string"&&(o=o.toLocaleLowerCase()),t[o]||(t[o]=[]),t[o].push(r[s]))}for(let o in t)t[o].length>1&&t[o].forEach(a=>n.push(a));return n}showDuplicatedErrorsInRows(e,t){e.forEach(n=>{let r=n.getQuestionByName(t);const s=this.detailPanel.getQuestionByName(t);!r&&s&&(n.showDetailPanel(),n.detailPanel&&(r=n.detailPanel.getQuestionByName(t))),r&&(s&&n.showDetailPanel(),this.addDuplicationError(r))})}removeDuplicatedErrorsInRows(e,t){this.generatedVisibleRows.forEach(n=>{if(e.indexOf(n)<0){const r=n.getQuestionByName(t);r&&this.removeDuplicationError(n,r)}})}getDuplicationError(e){const t=e.errors;for(let n=0;n<t.length;n++)if(t[n].getErrorType()==="keyduplicationerror")return t[n];return null}addDuplicationError(e){this.getDuplicationError(e)||e.addError(new M$(this.keyDuplicationError,this))}removeDuplicationError(e,t){t.removeError(this.getDuplicationError(t))&&t.errors.length===0&&e.editingObj&&(e.editingObj[t.getValueName()]=t.value)}getFirstQuestionToFocus(e){return this.getFirstCellQuestion(e)}getFirstInputElementId(){var e=this.getFirstCellQuestion(!1);return e?e.inputId:super.getFirstInputElementId()}getFirstErrorInputElementId(){var e=this.getFirstCellQuestion(!0);return e?e.inputId:super.getFirstErrorInputElementId()}getFirstCellQuestion(e){if(!this.generatedVisibleRows)return null;for(var t=0;t<this.generatedVisibleRows.length;t++)for(var n=this.generatedVisibleRows[t].cells,r=0;r<n.length;r++)if(!e||n[r].question.currentErrorCount>0)return n[r].question;return null}onReadOnlyChanged(){if(super.onReadOnlyChanged(),!!this.generateRows)for(var e=0;e<this.visibleRows.length;e++)this.visibleRows[e].onQuestionReadOnlyChanged()}createQuestion(e,t){return this.createQuestionCore(e,t)}createQuestionCore(e,t){var n=t.createCellQuestion(e);return n.setSurveyImpl(e),n.setParentQuestion(this),n.inMatrixMode=!0,n}deleteRowValue(e,t){return e&&(delete e[t.rowName],this.isObject(e)&&Object.keys(e).length==0?null:e)}onAnyValueChanged(e,t){if(!(this.isUpdateLocked||this.isDoingonAnyValueChanged)){if(!this.generatedVisibleRows){e===this.getValueName()&&(this.isValueChangedWithoutRows=!0);return}this.isDoingonAnyValueChanged=!0;for(var n=this.generatedVisibleRows,r=0;r<n.length;r++)n[r].onAnyValueChanged(e,t);var s=this.visibleTotalRow;s&&s.onAnyValueChanged(e,t),this.isDoingonAnyValueChanged=!1}}isObject(e){return e!==null&&typeof e=="object"}getOnCellValueChangedOptions(e,t,n){const r=s=>e.getQuestionByName(s);return{row:e,columnName:t,rowValue:n,value:n?n[t]:null,getCellQuestion:r,cellQuestion:e.getQuestionByName(t),column:this.getColumnByName(t)}}onCellValueChanged(e,t,n){if(this.survey){var r=this.getOnCellValueChangedOptions(e,t,n);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(r),this.survey.matrixCellValueChanged(this,r)}}validateCell(e,t,n){if(this.survey){var r=this.getOnCellValueChangedOptions(e,t,n);return this.survey.matrixCellValidate(this,r)}}get isValidateOnValueChanging(){return this.survey?this.survey.isValidateOnValueChanging:!1}get hasInvisibleRows(){const e=this.generatedVisibleRows;if(!Array.isArray(e))return!1;for(let t=0;t<e.length;t++)if(!e[t].isVisible)return!0;return!1}getFilteredData(){return this.isEmpty()||!this.generatedVisibleRows||this.isEditingSurveyElement?this.value:this.getFilteredDataCore()}getFilteredDataCore(){return this.value}onRowChanging(e,t,n){if(!this.survey&&!this.cellValueChangingCallback)return n?n[t]:null;var r=this.getOnCellValueChangedOptions(e,t,n),s=this.getRowValueCore(e,this.createNewValue(),!0);return r.oldValue=s?s[t]:null,this.cellValueChangingCallback&&(r.value=this.cellValueChangingCallback(e,t,r.value,r.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,r),r.value}getSharedQuestionFromArray(e,t){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,t):null}onRowChanged(e,t,n,r){var s=t?this.getRowObj(e):null;if(s){var o=null;n&&!r&&(o=n[t]),this.isRowChanging=!0,me.setObjPropertyValue(s,t,o),this.isRowChanging=!1,this.onCellValueChanged(e,t,s)}else{var a=this.createNewValue(!0),l=this.getNewValueOnRowChanged(e,t,n,r,this.createNewValue());if(this.isTwoValueEquals(a,l.value))return;this.isRowChanging=!0,this.setNewValue(l.value),this.isRowChanging=!1,t&&this.onCellValueChanged(e,t,l.rowValue)}this.getUniqueColumnsNames().indexOf(t)>-1&&this.isValueInColumnDuplicated(t,!!s)}getNewValueOnRowChanged(e,t,n,r,s){const o=this.getRowValueCore(e,s,!0);if(r&&delete o[t],e.questions.forEach(l=>{delete o[l.getValueName()]}),n){n=JSON.parse(JSON.stringify(n));for(var a in n)this.isValueEmpty(n[a])||(o[a]=n[a])}return this.isObject(o)&&Object.keys(o).length===0&&(s=this.deleteRowValue(s,e)),{value:s,rowValue:o}}getRowIndex(e){return Array.isArray(this.generatedVisibleRows)?this.generatedVisibleRows.indexOf(e):-1}getElementsInDesign(e=!1){let t;return this.detailPanelMode=="none"?t=super.getElementsInDesign(e):t=e?[this.detailPanel]:this.detailElements,this.columns.concat(t)}hasDetailPanel(e){return this.detailPanelMode=="none"?!1:this.isDesignMode?!0:this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(e):this.detailElements.length>0}getIsDetailPanelShowing(e){if(this.detailPanelMode=="none")return!1;if(this.isDesignMode){var t=this.visibleRows.indexOf(e)==0;return t&&(e.detailPanel||e.showDetailPanel()),t}return this.getPropertyValue("isRowShowing"+e.id,!1)}setIsDetailPanelShowing(e,t){if(t!=this.getIsDetailPanelShowing(e)&&(this.setPropertyValue("isRowShowing"+e.id,t),this.updateDetailPanelButtonCss(e),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(e,t),this.survey&&this.survey.matrixDetailPanelVisibleChanged(this,e.rowIndex-1,e,t),t&&this.detailPanelMode==="underRowSingle"))for(var n=this.visibleRows,r=0;r<n.length;r++)n[r].id!==e.id&&n[r].isDetailPanelShowing&&n[r].hideDetailPanel()}getDetailPanelButtonCss(e){const t=new Ie().append(this.getPropertyValue("detailButtonCss"+e.id));return t.append(this.cssClasses.detailButton,t.toString()==="").toString()}getDetailPanelIconCss(e){const t=new Ie().append(this.getPropertyValue("detailIconCss"+e.id));return t.append(this.cssClasses.detailIcon,t.toString()==="").toString()}getDetailPanelIconId(e){return this.getIsDetailPanelShowing(e)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId}updateDetailPanelButtonCss(e){const t=this.cssClasses,n=this.getIsDetailPanelShowing(e),r=new Ie().append(t.detailIcon).append(t.detailIconExpanded,n);this.setPropertyValue("detailIconCss"+e.id,r.toString());const s=new Ie().append(t.detailButton).append(t.detailButtonExpanded,n);this.setPropertyValue("detailButtonCss"+e.id,s.toString())}createRowDetailPanel(e){if(this.isDesignMode)return this.detailPanel;var t=this.createNewDetailPanel();t.readOnly=this.isReadOnly||!e.isRowEnabled(),t.setSurveyImpl(e);var n=this.detailPanel.toJSON();return new Si().toObject(n,t),t.renderWidth="100%",t.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(e,t),t.questions.forEach(r=>r.setParentQuestion(this)),t.onSurveyLoad(),t}getSharedQuestionByName(e,t){if(!this.survey||!this.valueName)return null;var n=this.getRowIndex(t);return n<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,e,n)}onTotalValueChanged(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+oe.matrix.totalsSuffix,this.totalValue,!1)}getParentTextProcessor(){if(!this.parentQuestion||!this.parent)return null;const e=this.parent.data;return e&&e.getTextProcessor?e.getTextProcessor():null}isMatrixReadOnly(){return this.isReadOnly}onRowVisibilityChanged(e){this.clearVisibleRows(),this.resetRenderedTable(),this.resetSingleInput()}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e),this.clearInvisibleValuesInRows()}clearInvisibleValuesInRows(){var e;if(this.isEmpty()||!this.isRowsFiltered())return;(((e=this.survey)===null||e===void 0?void 0:e.questionsByValueName(this.getValueName()))||[]).length<2&&(this.value=this.getFilteredData())}isRowsFiltered(){return super.isRowsFiltered()||this.visibleRows!==this.generatedVisibleRows}getQuestionFromArray(e,t){return t>=this.visibleRows.length?null:this.visibleRows[t].getQuestionByName(e)}isMatrixValueEmpty(e){if(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(this.isObject(e[t])&&Object.keys(e[t]).length>0)return!1;return!0}return Object.keys(e).length==0}}get SurveyModel(){return this.survey}getCellTemplateData(e){return this.SurveyModel.getMatrixCellTemplateData(e)}getCellWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName(e,e.row instanceof E2?"row-footer":"cell")}getCellWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData(e,e.row instanceof E2?"row-footer":"cell")}getColumnHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName(e,"column-header")}getColumnHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData(e,"column-header")}getRowHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName(e,"row-header")}getRowHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData(e,"row-header")}onMobileChanged(){super.onMobileChanged(),this.resetRenderedTable()}getRootCss(){return new Ie().append(super.getRootCss()).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()}afterRenderQuestionElement(e){super.afterRenderQuestionElement(e),this.setRootElement(e==null?void 0:e.parentElement)}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.setRootElement(void 0)}setRootElement(e){this.rootElement=e}getRootElement(){return this.rootElement}}me.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn",isArray:!0},{name:"columnLayout",alternativeName:"columnsLocation",choices:["horizontal","vertical"],visible:!1,isSerializable:!1},{name:"transposeData:boolean",version:"1.9.130",oldName:"columnLayout"},{name:"detailElements",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},{name:"cellErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"detailErrorLocation",default:"default",choices:["default","top","bottom"],visibleIf:i=>!!i&&i.detailPanelMode!="none"},{name:"horizontalScroll:boolean",visible:!1},{name:"choices:itemvalue[]",uniqueProperty:"value",visibleIf:i=>i.isSelectCellType()},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"singleInputTitleTemplate",serializationProperty:"locSingleInputTitleTemplate",visibleIf(i){var e;return((e=i.survey)===null||e===void 0?void 0:e.questionsOnPageMode)==="inputPerPage"}},{name:"cellType",default:"dropdown",choices:()=>nb.getColumnTypes()},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new uy("")},"matrixbase");class qRe extends xh{constructor(e){super(),this.question=e}getValue(e,t,n,r){if(!r&&this.question.isEmpty())return{isFound:e.length===0,value:void 0};if(e.length>0){const s=super.getValue(e,t,n,r);if(s&&s.isFound)return s}return new Oo(this.question.value).getValue(e,t,n,r)}getRootObj(){return this.question.data}updateValueByItem(e,t){var n;const r=this.question.visibleRows;e=e.toLocaleLowerCase();for(let s=0;s<r.length;s++){const o=r[s];if((((n=o.rowName)===null||n===void 0?void 0:n.toString())||"").toLocaleLowerCase()===e){t.isFound=!0,t.context=o.getValueGetterContext();return}}}}class URe extends mh{constructor(e,t,n,r){super(n,r),this.name=e,this.item=t,this.buildCells(r)}get rowName(){return this.name}get rowTitle(){return this.text}get text(){return this.item.text}get locText(){return this.item.locText}isItemVisible(){return this.item.isVisible}isRowEnabled(){return this.item.isEnabled}isRowHasEnabledCondition(){return!!this.item.enableIf}}class Q$ extends uy{constructor(e){super(e),this.defaultValuesInRows={},this.createLocalizableString("totalText",this,!0),this.registerPropertyChangedHandlers(["rows"],()=>{this.generatedVisibleRows&&(this.clearGeneratedRows(),this.resetRenderedTable(),this.getVisibleRows(),this.clearIncorrectValues())}),this.registerPropertyChangedHandlers(["hideIfRowsEmpty"],()=>{this.updateVisibilityBasedOnRows()})}getType(){return"matrixdropdown"}get totalText(){return this.getLocalizableStringText("totalText","")}set totalText(e){this.setLocalizableStringText("totalText",e)}get locTotalText(){return this.getLocalizableString("totalText")}getFooterText(){return this.locTotalText}getRowTitleWidth(){return this.rowTitleWidth}get hideIfRowsEmpty(){return this.getPropertyValue("hideIfRowsEmpty")}set hideIfRowsEmpty(e){this.setPropertyValue("hideIfRowsEmpty",e)}getSingleInputTitleTemplate(){return"rowNameTemplateTitle"}getValueGetterContext(){return new qRe(this)}getDisplayValueCore(e,t){if(!t)return t;var n=this.visibleRows,r={};if(!n)return r;for(var s=0;s<n.length;s++){var o=n[s].rowName,a=t[o];if(a){if(e){var l=Kt.getTextOrHtmlByValue(this.rows,o);l&&(o=l)}r[o]=this.getRowDisplayValue(e,n[s],a)}}return r}getConditionObjectRowName(e){return"."+this.rows[e].value}getConditionObjectRowText(e){return"."+this.rows[e].calculatedText}getConditionObjectsRowIndeces(){const e=[];for(var t=0;t<this.rows.length;t++)e.push(t);return e}isNewValueCorrect(e){return se.isValueObject(e,!0)}clearIncorrectValues(){if(!this.isEmpty()){this.getVisibleRows();const e={},t=this.value;for(let n in t){const r=this.getRowByKey(n);r&&r.isVisible&&(e[n]=t[n])}this.value=e}super.clearIncorrectValues()}getRowByKey(e){const t=this.generatedVisibleRows;if(!t)return null;for(let n=0;n<t.length;n++)if(t[n].rowName===e)return t[n];return null}clearGeneratedRows(){this.generatedVisibleRows&&(this.isDisposed||this.generatedVisibleRows.forEach(e=>{this.defaultValuesInRows[e.rowName]=e.getNamesWithDefaultValues()}),super.clearGeneratedRows())}getRowValueForCreation(e,t){const n=e[t];if(!n)return n;const r=this.defaultValuesInRows[t];return!Array.isArray(r)||r.length===0||r.forEach(s=>{delete n[s]}),n}generateRows(){var e=new Array,t=this.rows;if(!t||t.length===0)return e;var n=this.value;n||(n={});for(var r=0;r<t.length;r++){const s=t[r];this.isValueEmpty(s.value)||e.push(this.createMatrixRow(s,this.getRowValueForCreation(n,s.value)))}return e}createMatrixRow(e,t){return new URe(e.value,e,this,t)}getFilteredDataCore(){const e={};return this.generatedVisibleRows.forEach(t=>{t.isVisible&&!t.isEmpty&&(e[t.rowName]=t.filteredValue)}),e}getSearchableItemValueKeys(e){e.push("rows")}getIsRequireToGenerateRows(){if(super.getIsRequireToGenerateRows())return!0;for(let e=0;e<this.rows.length;e++)if(this.rows[e].visibleIf)return!0;return!1}updateProgressInfoByValues(e){let t=this.value;t||(t={});for(var n=0;n<this.rows.length;n++){const r=this.rows[n],s=t[r.value];this.updateProgressInfoByRow(e,s||{})}}}me.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new Q$("")},"matrixdropdownbase");Fn.Instance.registerQuestion("matrixdropdown",i=>{var e=new Q$(i);return e.choices=[1,2,3,4,5],e.rows=Fn.DefaultRows,uy.addDefaultColumns(e),e});typeof window<"u"&&window.addEventListener("touchmove",i=>{Zf.PreventScrolling&&i.preventDefault()},{passive:!1});class Zf{constructor(e,t=!0,n=!1){this.dd=e,this.longTap=t,this.fitToContainer=n,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=r=>{r.preventDefault(),this.currentX=r.pageX,this.currentY=r.pageY,!this.isMicroMovement&&(this.returnUserSelectBack(),this.stopLongTap())},this.stopLongTap=r=>{clearTimeout(this.timeoutID),this.timeoutID=null,document.removeEventListener("pointerup",this.stopLongTap),document.removeEventListener("pointermove",this.stopLongTapIfMoveEnough)},this.handlePointerCancel=r=>{this.clear()},this.handleEscapeButton=r=>{r.keyCode==27&&this.clear()},this.onContextMenu=r=>{r.preventDefault(),r.stopPropagation()},this.dragOver=r=>{this.moveShortcutElement(r),this.draggedElementShortcut.style.cursor="grabbing",this.dd.dragOver(r)},this.clear=()=>{cancelAnimationFrame(this.scrollIntervalId),document.removeEventListener("pointermove",this.dragOver),document.removeEventListener("pointercancel",this.handlePointerCancel),document.removeEventListener("keydown",this.handleEscapeButton),document.removeEventListener("pointerup",this.drop),this.draggedElementShortcut.removeEventListener("pointerup",this.drop),Gi&&this.draggedElementShortcut.removeEventListener("contextmenu",this.onContextMenu),this.draggedElementShortcut.parentElement.removeChild(this.draggedElementShortcut),this.dd.clear(),this.draggedElementShortcut=null,this.scrollIntervalId=null,Gi&&(this.savedTargetNode.style.cssText=null,this.savedTargetNode&&this.savedTargetNode.parentElement.removeChild(this.savedTargetNode),this.insertNodeToParentAtIndex(this.savedTargetNodeParent,this.savedTargetNode,this.savedTargetNodeIndex),Zf.PreventScrolling=!1),this.savedTargetNode=null,this.savedTargetNodeParent=null,this.savedTargetNodeIndex=null,this.returnUserSelectBack()},this.drop=()=>{this.dd.drop(),this.clear()},this.draggedElementShortcut=null}get documentOrShadowRoot(){const e=this.rootElement.getRootNode();return e instanceof Document||e instanceof ShadowRoot?e:void 0}get rootElement(){return X0(oe.environment.root)?this.rootContainer||oe.environment.root:this.rootContainer||oe.environment.root.documentElement||document.body}get viewRootElement(){return X0(this.rootElement)?this.rootElement.host:this.rootElement}get isMicroMovement(){const t=Math.abs(this.currentX-this.startX),n=Math.abs(this.currentY-this.startY);return t<5&&n<5}startLongTapProcessing(e,t,n,r,s=!1){this.startX=e.pageX,this.startY=e.pageY,document.body.style.setProperty("touch-action","none","important"),this.timeoutID=setTimeout(()=>{this.doStartDrag(e,t,n,r),s||(this.savedTargetNode=e.target,this.savedTargetNode.style.cssText=`
          position: absolute;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden;
          clip: rect(1px 1px 1px 1px);
          clip: rect(1px, 1px, 1px, 1px);
        `,this.savedTargetNodeParent=this.savedTargetNode.parentElement,this.savedTargetNodeIndex=this.getNodeIndexInParent(this.savedTargetNode),this.rootElement.appendChild(this.savedTargetNode)),this.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)}moveShortcutElement(e){let t=this.viewRootElement.getBoundingClientRect().x,n=this.viewRootElement.getBoundingClientRect().y,r=this.viewRootElement.scrollLeft,s=this.viewRootElement.scrollTop;this.doScroll(e.clientY,e.clientX);const o=this.draggedElementShortcut.offsetHeight,a=this.draggedElementShortcut.offsetWidth;let l=this.draggedElementShortcut.shortcutXOffset||a/2,u=this.draggedElementShortcut.shortcutYOffset||o/2;document.querySelectorAll("[dir='rtl']").length!==0&&(l=a/2,u=o/2);const c=document.documentElement.clientHeight,h=document.documentElement.clientWidth,f=e.pageX,m=e.pageY,b=e.clientX,_=e.clientY;t-=r,n-=s;const E=this.getShortcutBottomCoordinate(_,o,u);if(this.getShortcutRightCoordinate(b,a,l)>=h){this.draggedElementShortcut.style.left=h-a-t+"px",this.draggedElementShortcut.style.top=_-u-n+"px";return}if(b-l<=0){this.draggedElementShortcut.style.left=f-b-t+"px",this.draggedElementShortcut.style.top=_-n-u+"px";return}if(E>=c){this.draggedElementShortcut.style.left=b-l-t+"px",this.draggedElementShortcut.style.top=c-o-n+"px";return}if(_-u<=0){this.draggedElementShortcut.style.left=b-l-t+"px",this.draggedElementShortcut.style.top=m-_-n+"px";return}this.draggedElementShortcut.style.left=b-t-l+"px",this.draggedElementShortcut.style.top=_-n-u+"px"}getShortcutBottomCoordinate(e,t,n){return e+t-n}getShortcutRightCoordinate(e,t,n){return e+t-n}requestAnimationFrame(e){return requestAnimationFrame(e)}scrollByDrag(e,t,n){let s,o,a,l;e.tagName==="HTML"?(s=0,o=document.documentElement.clientHeight,a=0,l=document.documentElement.clientWidth):(s=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,a=e.getBoundingClientRect().left,l=e.getBoundingClientRect().right);const u=()=>{const c=t-s<=100,h=o-t<=100,f=n-a<=100,m=l-n<=100;c&&!f&&!m?e.scrollTop-=15:h&&!f&&!m?e.scrollTop+=15:m&&!c&&!h?e.scrollLeft+=15:f&&!c&&!h&&(e.scrollLeft-=15),this.scrollIntervalId=this.requestAnimationFrame(u)};this.scrollIntervalId=this.requestAnimationFrame(u)}doScroll(e,t){cancelAnimationFrame(this.scrollIntervalId);const n=this.draggedElementShortcut.style.display;this.draggedElementShortcut.style.display="none";let r=this.documentOrShadowRoot.elementFromPoint(t,e);this.draggedElementShortcut.style.display=n||"block";let s=qC(r);this.scrollByDrag(s,e,t)}doStartDrag(e,t,n,r){Gi&&(Zf.PreventScrolling=!0),e.which!==3&&(this.dd.dragInit(e,t,n,r),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(e),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),Gi?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))}returnUserSelectBack(){document.body.style.setProperty("touch-action","auto"),document.body.style.setProperty("user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto")}startDrag(e,t,n,r,s=!1){if(document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),Gi){this.startLongTapProcessing(e,t,n,r,s);return}this.doStartDrag(e,t,n,r)}getNodeIndexInParent(e){return[...e.parentElement.childNodes].indexOf(e)}insertNodeToParentAtIndex(e,t,n){e.insertBefore(t,e.childNodes[n])}}Zf.PreventScrolling=!1;class W${get isBottom(){return!!this._isBottom}set isBottom(e){this._isBottom=e,this.ghostPositionChanged()}ghostPositionChanged(){this.onGhostPositionChanged.fire({},{})}get dropTargetDataAttributeName(){return`[data-sv-drop-target-${this.draggedElementType}]`}get survey(){var e;return this.surveyValue||((e=this.creator)===null||e===void 0?void 0:e.survey)}constructor(e,t,n,r){var s;this.surveyValue=e,this.creator=t,this._isBottom=null,this.onGhostPositionChanged=new Na,this.onDragStart=new Na,this.onDragEnd=new Na,this.onDragClear=new Na,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=()=>{this.allowDropHere=!1,this.doBanDropHere(),this.dropTarget=null,this.domAdapter.draggedElementShortcut.style.cursor="not-allowed",this.isBottom=null},this.doBanDropHere=()=>{},this.domAdapter=r||new Zf(this,n,(s=this.survey)===null||s===void 0?void 0:s.fitToContainer)}startDrag(e,t,n,r,s=!1){this.domAdapter.rootContainer=this.getRootElement(this.survey,this.creator),this.domAdapter.startDrag(e,t,n,r,s)}getRootElement(e,t){return t?t.rootElement:e.rootElement}dragInit(e,t,n,r){this.draggedElement=t,this.parentElement=n;const s=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(s,r,e),this.onStartDrag(e);const o=this.draggedElement&&this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:o,draggedElement:this.draggedElement})}onStartDrag(e){}isDropTargetDoesntChanged(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom}getShortcutText(e){return e==null?void 0:e.shortcutText}createDraggedElementShortcut(e,t,n){const r=St.createElement("div");return r&&(r.innerText=e,r.className=this.getDraggedElementClass()),r}getDraggedElementClass(){return"sv-dragged-element-shortcut"}doDragOver(){}afterDragOver(e){}findDropTargetNodeFromPoint(e,t){const n=this.domAdapter.draggedElementShortcut.style.display;if(this.domAdapter.draggedElementShortcut.style.display="none",!St.isAvailable())return null;let r=this.domAdapter.documentOrShadowRoot.elementsFromPoint(e,t);this.domAdapter.draggedElementShortcut.style.display=n||"block";let s=0,o=r[s];for(;o&&o.className&&typeof o.className.indexOf=="function"&&o.className.indexOf("sv-drag-target-skipped")!=-1;)s++,o=r[s];return o?this.findDropTargetNodeByDragOverNode(o):null}getDataAttributeValueByNode(e){let t="svDropTarget";return this.draggedElementType.split("-").forEach(r=>{t+=this.capitalizeFirstLetter(r)}),e.dataset[t]}getDropTargetByNode(e,t){let n=this.getDataAttributeValueByNode(e);return this.getDropTargetByDataAttributeValue(n,e,t)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}calculateVerticalMiddleOfHTMLElement(e){const t=e.getBoundingClientRect();return t.y+t.height/2}calculateHorizontalMiddleOfHTMLElement(e){const t=e.getBoundingClientRect();return t.x+t.width/2}calculateIsBottom(e,t){return!1}findDropTargetNodeByDragOverNode(e){return e.closest(this.dropTargetDataAttributeName)}dragOver(e){const t=this.findDropTargetNodeFromPoint(e.clientX,e.clientY);if(!t){this.banDropHere();return}this.dropTarget=this.getDropTargetByNode(t,e);const n=this.isDropTargetValid(this.dropTarget,t);if(this.doDragOver(),!n){this.banDropHere();return}let r=this.calculateIsBottom(e.clientY,t);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(r)&&(this.isBottom=null,this.isBottom=r,this.draggedElement!=this.dropTarget&&this.afterDragOver(t),this.prevDropTarget=this.dropTarget)}drop(){if(this.allowDropHere){const e=this.draggedElement.parent,t=this.doDrop();this.onDragEnd.fire(this,{fromElement:e,draggedElement:t,toElement:this.dropTarget})}}clear(){const e={draggedElement:this.draggedElement};this.dropTarget=null,this.prevDropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null,this.onDragClear.fire(this,e)}}class HRe extends W${constructor(){super(...arguments),this.dropIsBanned=!1,this.matrixRowMap={},this.fromIndex=null,this.toIndex=null,this.toMatrix=null,this.doBanDropHere=()=>{this.dropIsBanned||(this.removeGhost(),this.parentElement.renderedTable.rows.splice(this.initialDraggedElementIndex,0,this.draggedRenderedRow),this.dropIsBanned=!0,this.lastDropTargetParentElement=this.parentElement)},this.doDrop=()=>{if(this.parentElement==this.toMatrix)this.fromIndex<this.toIndex&&this.toIndex--,this.parentElement.moveRowByIndex(this.fromIndex,this.toIndex);else if(this.toMatrix){const e=Object.assign({},this.parentElement.value[this.fromIndex]);this.toMatrix.addRowByIndex(e,this.toIndex),this.parentElement.removeRowByIndex(this.fromIndex)}return this.parentElement}}get draggedElementType(){return"matrix-row"}patchUserSelect(){const e=St.getBody();e&&(this.restoreUserSelectValue=e.style.userSelect,e.style.userSelect="none")}onStartDrag(){this.patchUserSelect();const e=this.parentElement.renderedTable.rows;let t=e.findIndex(s=>s.row===this.draggedElement);t>=0&&(this.draggedRenderedRow=e[t],this.initialDraggedElementIndex=t,this.draggedRenderedRow.isGhostRow=!0,this.lastDropTargetParentElement=this.parentElement);const n=[];function r(s){s.filter(a=>a.isDescendantOf("matrixdynamic")&&a.allowRowReorder).forEach(a=>{n.push(a),a.detailPanelMode!=="none"&&a.visibleRows.forEach(l=>{l.isDetailPanelShowing&&r(l.questions)})})}this.survey.onMatrixRowDragOver.isEmpty?n.push(this.parentElement):r(this.survey.getAllQuestions()),this.matrixRowMap={},n.forEach(s=>{s.visibleRows.forEach(o=>{this.matrixRowMap[o.id]={row:o,matrix:s}}),s.visibleRows.length==0&&(this.matrixRowMap[s.id]={row:s,matrix:s})}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement)}get shortcutClass(){return new Ie().append(this.parentElement.cssClasses.draggedRow).toString()}createDraggedElementShortcut(e,t,n){const r=St.createElement("div");if(!r)return;r.className=this.shortcutClass;const s=!0;if(t){const o=t.closest("[data-sv-drop-target-matrix-row]"),a=o.cloneNode(s);a.style.cssText=`
        width: ${o.offsetWidth}px;
      `,a.classList.remove("sv-matrix__drag-drop--moveup"),a.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,r.appendChild(a);const l=t.getBoundingClientRect();r.shortcutXOffset=n.clientX-l.x,r.shortcutYOffset=n.clientY-l.y}return r}getDropTargetByDataAttributeValue(e){const t=this.matrixRowMap[e];return(t==null?void 0:t.row)||(t==null?void 0:t.matrix)}canInsertIntoThisRow(e){const t=this.parentElement.lockedRowCount;return t<=0||e.rowIndex>t}isDropTargetValid(e,t){return this.canInsertIntoThisRow(e)}calculateIsBottom(e,t){const n=t.getBoundingClientRect();return e>=n.y+n.height/2}removeGhost(){const e=this.lastDropTargetParentElement.renderedTable.rows,t=e.indexOf(this.draggedRenderedRow);t>=0&&e.splice(t,1)}afterDragOver(e){if(!this.dropTarget)return;const t=this.matrixRowMap[this.dropTarget.id].matrix,n=this.matrixRowMap[this.dropTarget.id].row,r=this.isBottom?1:0;let s=0;const o={allow:t==this.parentElement,row:n,fromMatrix:this.parentElement,toMatrix:t};if(this.survey.onMatrixRowDragOver.fire(this.survey,o),!o.allow)return;this.removeGhost(),this.lastDropTargetParentElement=t;const a=t.renderedTable.rows;if(t.visibleRows.length>0){const l=a.findIndex(u=>u.row==this.dropTarget);l>=0&&a.splice(l+r,0,this.draggedRenderedRow),s=t.visibleRows.indexOf(this.dropTarget)+r}else t.renderedTable.headerRow||(a[0].cells[0].colSpans=this.draggedRenderedRow.cells.length),a.splice(0,0,this.draggedRenderedRow);this.toIndex=s,this.toMatrix=t,this.dropIsBanned=!1,super.ghostPositionChanged()}clear(){this.matrixRowMap={},this.parentElement.renderedTable.rows.forEach(n=>{n.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.toMatrix&&this.toMatrix.clearOnDrop(),this.fromIndex=null,this.toIndex=null;const t=St.getBody();t&&(t.style.userSelect=this.restoreUserSelectValue||"initial"),super.clear()}}class x5{constructor(e,t=!0){this.dragHandler=e,this.preventOnTouch=t,this.onPointerUp=n=>{this.clearListeners()},this.tryToStartDrag=n=>{if(this.currentX=n.pageX,this.currentY=n.pageY,!this.isMicroMovement)return this.clearListeners(),this.dragHandler(this.pointerDownEvent,this.targets,this.itemModel),!0}}onPointerDown(e,t){if(this.targets={currentTarget:e.currentTarget,target:e.target},Gi&&this.preventOnTouch){this.dragHandler(e,this.targets,t);return}this.pointerDownEvent=e,this.startX=e.pageX,this.startY=e.pageY,this.targets.currentTarget.getRootNode().addEventListener("pointermove",this.tryToStartDrag),this.targets.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=t}get isMicroMovement(){const t=Math.abs(this.currentX-this.startX),n=Math.abs(this.currentY-this.startY);return t<10&&n<10}clearListeners(){this.pointerDownEvent&&(this.targets.currentTarget.getRootNode().removeEventListener("pointermove",this.tryToStartDrag),this.targets.currentTarget.removeEventListener("pointerup",this.onPointerUp))}}class G${constructor(e,t,n){this.locText=e,this.btnEdit=t,this.btnRemove=n}get showRemove(){return!!this.btnRemove}}class K${constructor(e,t){this.question=e,this.noEntry=t,this.items=[]}isEmpty(){return this.items.length==0}dispose(){this.items.forEach(e=>{var t,n;(t=e.btnEdit)===null||t===void 0||t.dispose(),(n=e.btnRemove)===null||n===void 0||n.dispose()})}}class zRe extends HC{constructor(e){super(e),this.question=e}getValue(e,t,n,r){if(!r&&this.question.isEmpty())return{isFound:e.length===0,value:void 0};if(n>-1){const o=this.question.allRows;return n>=0&&n<o.length?o[n].getValueGetterContext().getValue(e,!1,n,r):{isFound:!1,value:void 0,context:this}}return super.getValue(e,t,n,r)}}class jRe extends mh{constructor(e,t,n){super(t,n),this.index=e,this.buildCells(n)}getRowIndex(){const e=super.getRowIndex();return e>0?e:this.index+1}get rowName(){return this.id}get dataName(){return"row"+(this.index+1)}get text(){return"row "+(this.visibleIndex+1)}getAccessbilityText(){return(this.visibleIndex+1).toString()}get shortcutText(){const t=this.data.visibleRows.indexOf(this)+1,n=this.cells.length>1?this.cells[1].questionValue:void 0,r=this.cells.length>0?this.cells[0].questionValue:void 0;return n&&n.value||r&&r.value||""+t}}class J$ extends uy{constructor(e){super(e),this.rowCounter=0,this.setRowCountValueFromData=!1,this.startDragMatrixRow=(n,r)=>{this.dragDropMatrixRows.startDrag(n,this.draggedRow,this,r.target)},this.initialRowCount=this.getDefaultPropertyValue("rowCount"),this.createLocalizableString("confirmDeleteText",this,!1,"confirmDelete");var t=this.createLocalizableString("addRowText",this);t.onGetTextCallback=n=>n||this.defaultAddRowText,this.createLocalizableString("removeRowText",this,!1,"removeRow"),this.createLocalizableString("noRowsText",this,!1,!0),this.createLocalizableString("editRowText",this,!1,"editText"),this.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],()=>{this.updateShowTableAndAddRow()}),this.registerPropertyChangedHandlers(["allowRowReorder","isReadOnly","lockedRowCount"],()=>{this.resetRenderedTable()}),this.registerPropertyChangedHandlers(["minRowCount"],()=>{this.onMinRowCountChanged()}),this.registerPropertyChangedHandlers(["maxRowCount"],()=>{this.onMaxRowCountChanged()}),this.dragOrClickHelper=new x5(this.startDragMatrixRow)}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.dragDropMatrixRows=new HRe(this.survey,null,!0)}isBanStartDrag(e){const t=e.target;return t.getAttribute("contenteditable")==="true"||t.nodeName==="INPUT"||!this.isDragHandleAreaValid(t)}isDragHandleAreaValid(e){return this.survey.matrixDragHandleArea==="icon"?e.classList.contains(this.cssClasses.dragElementDecorator):!0}onPointerDown(e,t){!t||!this.isRowsDragAndDrop||this.isDesignMode||this.isBanStartDrag(e)||t.isDetailPanelShowing||(this.draggedRow=t,this.dragOrClickHelper.onPointerDown(e))}getType(){return"matrixdynamic"}get isRowsDynamic(){return!0}get confirmDelete(){return this.getPropertyValue("confirmDelete")}set confirmDelete(e){this.setPropertyValue("confirmDelete",e)}get isValueArray(){return!0}get keyName(){return this.getPropertyValue("keyName","")}set keyName(e){this.setPropertyValue("keyName",e)}get defaultRowValue(){return this.getPropertyValue("defaultRowValue")}set defaultRowValue(e){this.setPropertyValue("defaultRowValue",e)}get copyDefaultValueFromLastEntry(){return this.getPropertyValue("copyDefaultValueFromLastEntry")}set copyDefaultValueFromLastEntry(e){this.setPropertyValue("copyDefaultValueFromLastEntry",e)}get defaultValueFromLastRow(){return this.copyDefaultValueFromLastEntry}set defaultValueFromLastRow(e){this.copyDefaultValueFromLastEntry=e}isDefaultValueEmpty(){return super.isDefaultValueEmpty()&&this.isValueEmpty(this.defaultRowValue)}valueFromData(e){if(this.minRowCount<1||this.isEmpty())return super.valueFromData(e);Array.isArray(e)||(e=[]);for(var t=e.length;t<this.minRowCount;t++)e.push({});return e}isNewValueCorrect(e){return Array.isArray(e)}setDefaultValue(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){super.setDefaultValue();return}if(!(!this.isEmpty()||this.rowCount==0)){for(var e=[],t=0;t<this.rowCount;t++)e.push(this.defaultRowValue);this.value=e}}moveRowByIndex(e,t){const n=this.createNewValue();if(!Array.isArray(n)&&Math.max(e,t)>=n.length)return;const r=n[e];n.splice(e,1),n.splice(t,0,r),this.value=n}addRowByIndex(e,t){const n=this.createNewValue();!Array.isArray(n)&&t>=n.length||(n.splice(t,0,e),this.rowCount++,this.value=n)}removeRowByIndex(e){const t=this.createNewValue();!Array.isArray(t)&&e>=t.length||(t.splice(e,1),this.rowCount--,this.value=t)}clearOnDrop(){this.isEditingSurveyElement||this.resetRenderedTable()}initDataUI(){this.generatedVisibleRows||this.getVisibleRows()}get rowCount(){return this.rowCountValue}set rowCount(e){if(e=se.getNumber(e),!(e<0||e>oe.matrix.maxRowCount||e===this.rowCount)){this.setRowCountValueFromData=!1;var t=this.rowCountValue;if(this.rowCountValue=e,this.value&&this.value.length>e){var n=this.value;n.splice(e),this.value=n}if(this.isUpdateLocked){this.initialRowCount=e;return}if(this.generatedVisibleRows||t==0){this.generatedVisibleRows||(this.clearGeneratedRows(),this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(e);for(var r=t;r<e;r++){var s=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(s),this.onMatrixRowCreated(s)}this.runCondition(this.getDataFilteredProperties())}this.onRowsChanged()}}updateBindingProp(e,t){super.updateBindingProp(e,t);const n=this.generatedVisibleRows;if(e!=="rowCount"||!Array.isArray(n))return;const r=this.getUnbindValue(this.value)||[];if(r.length<n.length){let s=!1;for(let o=r.length;o<n.length;o++)s||(s=!n[o].isEmpty),r.push(n[o].value||{});s&&(this.value=r)}}updateProgressInfoByValues(e){let t=this.value;Array.isArray(t)||(t=[]);for(var n=0;n<this.rowCount;n++){const r=n<t.length?t[n]:{};this.updateProgressInfoByRow(e,r)}}getValueForNewRow(){var e=null;return this.onGetValueForNewRowCallBack&&(e=this.onGetValueForNewRowCallBack(this)),e}get allowRowReorder(){return this.getPropertyValue("allowRowReorder")}set allowRowReorder(e){this.setPropertyValue("allowRowReorder",e)}get allowRowsDragAndDrop(){return this.allowRowReorder}set allowRowsDragAndDrop(e){this.allowRowReorder=e}get allowRowDragIn(){var e,t;return!(!((t=(e=this.survey)===null||e===void 0?void 0:e.onMatrixRowDragOver)===null||t===void 0)&&t.isEmpty)}get isRowsDragAndDrop(){return this.allowRowReorder&&!this.isReadOnly}get lockedRowCount(){return this.getPropertyValue("lockedRowCount",0)}set lockedRowCount(e){this.setPropertyValue("lockedRowCount",e)}get iconDragElement(){return this.cssClasses.iconDragElement}createRenderedTable(){return new QRe(this)}get rowCountValue(){return this.getPropertyValue("rowCount")}set rowCountValue(e){this.setPropertyValue("rowCount",e)}get minRowCount(){return this.getPropertyValue("minRowCount")}set minRowCount(e){e<0&&(e=0),this.setPropertyValue("minRowCount",e)}onMinRowCountChanged(){const e=this.minRowCount;e>this.maxRowCount&&(this.maxRowCount=e),this.initialRowCount<e&&(this.initialRowCount=e),this.rowCount<e&&(this.rowCount=e)}get maxRowCount(){return this.getPropertyValue("maxRowCount")}set maxRowCount(e){e<=0||(e>oe.matrix.maxRowCount&&(e=oe.matrix.maxRowCount),e!=this.maxRowCount&&this.setPropertyValue("maxRowCount",e))}onMaxRowCountChanged(){const e=this.maxRowCount;e<this.minRowCount&&(this.minRowCount=e),this.rowCount>e&&(this.rowCount=e)}get allowAddRows(){return this.getPropertyValue("allowAddRows")}set allowAddRows(e){this.setPropertyValue("allowAddRows",e)}get allowRemoveRows(){return this.getPropertyValue("allowRemoveRows")}set allowRemoveRows(e){this.setPropertyValue("allowRemoveRows",e),this.isUpdateLocked||this.resetRenderedTable()}get canAddRow(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount}get canRemoveRows(){var e=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(e):e}canRemoveRow(e){if(!this.survey)return!0;const t=e.rowIndex-1;return this.lockedRowCount>0&&t<this.lockedRowCount?!1:this.survey.matrixAllowRemoveRow(this,t,e)}addRowUI(){this.addRow(!0)}getQuestionToFocusOnAddingRow(){if(this.visibleRows.length===0)return null;for(var e=this.visibleRows[this.visibleRows.length-1],t=0;t<e.cells.length;t++){var n=e.cells[t].question;if(n&&n.isVisible&&!n.isReadOnly)return n}return null}addRow(e){const t=this.rowCount,n=this.canAddRow;var r={question:this,canAddRow:n,allow:n};if(this.survey&&this.survey.matrixBeforeRowAdded(r),!!(n!==r.allow?r.allow:n!==r.canAddRow?r.canAddRow:n)&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.singleInputOnAddItem(!1),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),e&&t!==this.rowCount)){const o=this.getQuestionToFocusOnAddingRow();o&&o.focus()}}get detailPanelShowOnAdding(){return this.getPropertyValue("detailPanelShowOnAdding")}set detailPanelShowOnAdding(e){this.setPropertyValue("detailPanelShowOnAdding",e)}hasRowsAsItems(){return!1}unbindValue(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,super.unbindValue()}isValueSurveyElement(e){return this.isEditingSurveyElement||super.isValueSurveyElement(e)}addRowCore(){var e=this.rowCount;this.rowCount=this.rowCount+1;var t=this.getDefaultRowValue(!0),n=null;if(this.isValueEmpty(t)||(n=this.createNewValue(),n.length==this.rowCount&&(n[n.length-1]=t,this.value=n)),this.data){this.runCellsCondition(this.getDataFilteredProperties());const r=this.generatedVisibleRows;if(this.isValueEmpty(t)&&r.length>0){const s=r[r.length-1];this.isValueEmpty(s.value)||(n||(n=this.createNewValue()),!this.isValueSurveyElement(n)&&!this.isTwoValueEquals(n[n.length-1],s.value)&&(n[n.length-1]=s.value,this.value=n))}}if(this.survey){const r=this.visibleRows;if(e+1==this.rowCount&&r.length>0){const s=r[r.length-1];this.survey.matrixRowAdded(this,s),this.onRowsChanged()}}}getDefaultRowValue(e){for(var t=null,n=0;n<this.columns.length;n++){var r=this.columns[n].templateQuestion;r&&!this.isValueEmpty(r.getDefaultValue())&&(t=t||{},t[this.columns[n].name]=r.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var s in this.defaultRowValue)t=t||{},t[s]=this.defaultRowValue[s];if(e&&this.copyDefaultValueFromLastEntry){var o=this.value;if(o&&Array.isArray(o)&&o.length>=this.rowCount-1){var a=o[this.rowCount-2];for(var s in a)t=t||{},t[s]=a[s]}}return t}focusAddBUtton(){const e=this.getRootElement();if(e&&this.cssClasses.buttonAdd){const t=e.querySelectorAll("."+this.cssClasses.buttonAdd)[0];t&&t.focus()}}getActionCellIndex(e){const t=this.showHeader?1:0;return this.isColumnLayoutHorizontal?e.cells.length-1+t:this.visibleRows.indexOf(e)+t}removeRowUI(e){if(e&&e.rowName){var t=this.visibleRows.indexOf(e);if(t<0)return;e=t}this.removeRow(e,void 0,()=>{const n=this.visibleRows.length,r=t>=n?n-1:t,s=r>-1?this.visibleRows[r]:void 0;setTimeout(()=>{s?this.renderedTable.focusActionCell(s,this.getActionCellIndex(s)):this.focusAddBUtton()},10)})}isRequireConfirmOnRowDelete(e){if(!this.confirmDelete||e<0||e>=this.rowCount)return!1;var t=this.createNewValue();return this.isValueEmpty(t)||!Array.isArray(t)||e>=t.length?!1:!this.isValueEmpty(t[e])}removeRow(e,t,n){if(this.canRemoveRows&&!(e<0||e>=this.rowCount)){var r=this.visibleRows&&e<this.visibleRows.length?this.visibleRows[e]:null;if(t===void 0&&(t=this.isRequireConfirmOnRowDelete(e)),t){Z0({message:this.confirmDeleteText,funcOnYes:()=>{this.removeRowAsync(e,r),n&&n()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.removeRowAsync(e,r),n&&n()}}removeRowAsync(e,t){t&&this.survey&&!this.survey.matrixRowRemoving(this,e,t)||(this.onStartRowAddingRemoving(),this.removeRowCore(e),this.singleInputOnRemoveItem(e),this.onEndRowRemoving(t))}removeRowCore(e){var t=this.generatedVisibleRows?this.generatedVisibleRows[e]:null;if(this.generatedVisibleRows&&e<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(e,1),this.rowCountValue--,this.value){var n=[];Array.isArray(this.value)&&e<this.value.length?n=this.createValueCopy():n=this.createNewValue(),n.splice(e,1),n=this.deleteRowValue(n,null),this.isRowChanging=!0,this.value=n,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,e,t)}onSingleInputQuestionAdded(e){this.showHeader||(e.titleLocation="hidden")}getSingleInputQuestionsCore(e,t){const n=new Array,r=this.visibleRows;if(t)for(let s=0;s<r.length;s++){const o=r[s];(!o.hasValueAnyQuestion(!0)||o.hasErrors(!1,{},()=>{}))&&this.fillSingleInputQuestionsByRow(n,o)}return this.getSingleInputQuestionsForDynamic(e,n)}fillSingleInputQuestionsInContainer(e,t){const n=this.getRowByQuestion(t);this.fillSingleInputQuestionsByRow(e,n)}fillSingleInputQuestionsByRow(e,t){t&&t.questions.forEach(n=>n.addNestedQuestion(e,!0,!1,!1))}getSingleInputAddTextCore(){if(this.canAddRow)return this.addRowText}singleInputAddItemCore(){this.addRowUI()}singleInputRemoveItemCore(e){this.removeRowUI(this.getRowByQuestion(e))}getSingleQuestionOnChange(e){const t=this.visibleRows;if(t.length>0){(e<0||e>=t.length)&&(e=t.length-1);const r=t[e].visibleQuestions;if(r.length>0)return r[0]}return null}createSingleInputSummary(){const e=new K$(this,this.locNoRowsText),t=new Array,n=this.canRemoveRows;return this.visibleRows.forEach(r=>{const s=new Ar(new j$(this,r),!0,void 0,this.getSingleInputTitleTemplate());s.setJson(this.locSingleInputTitleTemplate.getJson());const o=new Xt({locTitle:this.getLocalizableString("editRowText"),action:()=>{this.singleInputEditRow(r)}}),a=n&&this.canRemoveRow(r)?new Xt({locTitle:this.locRemoveRowText,action:()=>{this.removeRowUI(r)}}):void 0;t.push(new G$(s,o,a))}),e.items=t,e}get confirmDeleteText(){return this.getLocalizableStringText("confirmDeleteText")}set confirmDeleteText(e){this.setLocalizableStringText("confirmDeleteText",e)}get locConfirmDeleteText(){return this.getLocalizableString("confirmDeleteText")}get addRowText(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)}set addRowText(e){this.setLocalizableStringText("addRowText",e)}get locAddRowText(){return this.getLocalizableString("addRowText")}get defaultAddRowText(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")}getSingleInputTitleTemplate(){return"rowIndexTemplateTitle"}get addRowButtonLocation(){return this.getPropertyValue("addRowButtonLocation")}set addRowButtonLocation(e){this.setPropertyValue("addRowButtonLocation",e)}get addRowLocation(){return this.addRowButtonLocation}set addRowLocation(e){this.addRowButtonLocation=e}getAddRowLocation(){return this.addRowButtonLocation}get hideColumnsIfEmpty(){return this.getPropertyValue("hideColumnsIfEmpty")}set hideColumnsIfEmpty(e){this.setPropertyValue("hideColumnsIfEmpty",e)}getShowColumnsIfEmpty(){return this.hideColumnsIfEmpty}get removeRowText(){return this.getLocalizableStringText("removeRowText")}set removeRowText(e){this.setLocalizableStringText("removeRowText",e)}get locRemoveRowText(){return this.getLocalizableString("removeRowText")}get noRowsText(){return this.getLocalizableStringText("noRowsText")}set noRowsText(e){this.setLocalizableStringText("noRowsText",e)}get locNoRowsText(){return this.getLocalizableString("noRowsText")}get emptyRowsText(){return this.noRowsText}set emptyRowsText(e){this.noRowsText=e}get locEmptyRowsText(){return this.locNoRowsText}getValueGetterContext(){return new zRe(this)}getDisplayValueCore(e,t){if(!t||!Array.isArray(t))return t;for(var n=this.getUnbindValue(t),r=this.visibleRows,s=0;s<r.length&&s<n.length;s++){var o=n[s];o&&(n[s]=this.getRowDisplayValue(e,r[s],o))}return n}getConditionObjectRowName(e){return"["+e.toString()+"]"}getConditionObjectsRowIndeces(){const e=[],t=Math.max(this.rowCount,1);for(var n=0;n<Math.min(oe.matrix.maxRowCountInCondition,t);n++)e.push(n);return e}supportAutoAdvance(){return!1}get hasRowText(){return!1}onCheckForErrors(e,t,n){super.onCheckForErrors(e,t,n),!t&&this.hasErrorInMinRows()&&e.push(new mRe(this.minRowCount,this))}hasErrorInMinRows(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var e=0,t=0;t<this.generatedVisibleRows.length;t++){var n=this.generatedVisibleRows[t];n.isEmpty||e++}return e<this.minRowCount}getUniqueColumnsNames(){var e=super.getUniqueColumnsNames();const t=this.keyName;return t&&e.indexOf(t)<0&&e.push(t),e}generateRows(){var e=new Array;if(this.rowCount===0)return e;for(var t=this.createNewValue(),n=0;n<this.rowCount;n++)e.push(this.createMatrixRow(this.getRowValueByIndex(t,n)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=t),e}createMatrixRow(e){return new jRe(this.rowCounter++,this,e)}getInsertedDeletedIndex(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(t[r]!==e[r].editingObj)return r;return n}isEditingObjectValueChanged(){const e=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(e))return!1;let t=this.lastDeletedRow;this.lastDeletedRow=void 0;const n=this.generatedVisibleRows;if(!Array.isArray(e)||Math.abs(n.length-e.length)>1||n.length===e.length)return!1;const r=this.getInsertedDeletedIndex(n,e);if(n.length>e.length){this.lastDeletedRow=n[r];const s=n[r];n.splice(r,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(s)}else{let s;t&&t.editingObj===e[r]?s=t:(t=void 0,s=this.createMatrixRow(e[r])),n.splice(r,0,s),t||this.onMatrixRowCreated(s),this.isRendredTableCreated&&this.renderedTable.onAddedRow(s,r)}return this.setPropertyValueDirectly("rowCount",e.length),!0}updateValueFromSurvey(e,t=!1){if(this.setRowCountValueFromData=!0,this.minRowCount>0&&se.isValueEmpty(e)&&!se.isValueEmpty(this.defaultRowValue)){e=[];for(let n=0;n<this.minRowCount;n++)e.push(se.createCopy(this.defaultRowValue))}super.updateValueFromSurvey(e,t),this.setRowCountValueFromData=!1}getFilteredDataCore(){const e=[];return this.generatedVisibleRows.forEach(t=>{t.isVisible&&!t.isEmpty&&e.push(t.filteredValue)}),e}onBeforeValueChanged(e){if(!(!e||!Array.isArray(e))){var t=e.length;if(t!=this.rowCount&&!(!this.setRowCountValueFromData&&t<this.initialRowCount)&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=t,!!this.generatedVisibleRows)){if(t==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();const n=this.getRowValueByIndex(e,t-1),r=this.createMatrixRow(n);this.generatedVisibleRows.push(r),this.onMatrixRowCreated(r),this.onEndRowAdding()}else this.clearGeneratedRows(),this.getVisibleRows(),this.onRowsChanged();this.setRowCountValueFromData=!1}}}createNewValue(){var e=this.createValueCopy();(!e||!Array.isArray(e))&&(e=[]),e.length>this.rowCount&&e.splice(this.rowCount);var t=this.getDefaultRowValue(!1);t=t||{};for(var n=e.length;n<this.rowCount;n++)e.push(this.getUnbindValue(t));return e}deleteRowValue(e,t){if(!Array.isArray(e))return e;for(var n=!0,r=0;r<e.length;r++)if(this.isObject(e[r])&&Object.keys(e[r]).length>0){n=!1;break}return n?null:e}getRowValueByIndex(e,t){return Array.isArray(e)&&t>=0&&t<e.length?e[t]:null}getRowValueCore(e,t,n=!1){if(!this.generatedVisibleRows)return{};var r=this.getRowValueByIndex(t,this.generatedVisibleRows.indexOf(e));return!r&&n&&(r={}),r}getAddRowButtonCss(e=!1){return new Ie().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,e).toString()}getRemoveRowButtonCss(){return new Ie().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()}getRootCss(){var e;return new Ie().append(super.getRootCss()).append(this.cssClasses.empty,!(!((e=this.renderedTable)===null||e===void 0)&&e.showTable)).toString()}}class QRe extends WC{setDefaultRowActions(e,t){super.setDefaultRowActions(e,t)}}me.addClass("matrixdynamic",[{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:oe.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue",{name:"copyDefaultValueFromLastEntry:boolean",alternativeName:"defaultValueFromLastRow"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(i){return!i||i.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowButtonLocation",alternativeName:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"noRowsText:text",alternativeName:"emptyRowsText",serializationProperty:"locNoRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(i){return!i||i.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(i){return i.detailPanelMode!=="none"}},{name:"allowRowReorder:switch",alternativeName:"allowRowsDragAndDrop"}],function(){return new J$("")},"matrixdropdownbase");Fn.Instance.registerQuestion("matrixdynamic",i=>{var e=new J$(i);return e.choices=[1,2,3,4,5],uy.addDefaultColumns(e),e});var mf={currentType:"default",getCss:function(){var i=this.currentType?this[this.currentType]:hE;return i||(i=hE),i},getAvailableThemes:function(){return Object.keys(this).filter(i=>["currentType","getCss","getAvailableThemes"].indexOf(i)===-1)}},hE={root:"sd-root-modern",rootProgress:"sd-progress",rootMobile:"sd-root-modern--mobile",rootAnimationDisabled:"sd-root-modern--animation-disabled",rootReadOnly:"sd-root--readonly",rootCompact:"sd-root--compact",rootFitToContainer:"sd-root-modern--full-container",rootWrapper:"sd-root-modern__wrapper",rootWrapperFixed:"sd-root-modern__wrapper--fixed",rootWrapperHasImage:"sd-root-modern__wrapper--has-image",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",bodyLoading:"sd-body--loading",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",completedBeforePage:"sd-completed-before-page",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:"sd-btn sd-btn--small"},panel:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-element__content sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredMark:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",nested:"sd-element--nested sd-element--nested-with-borders",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact",errorsContainer:"sd-panel__errbox sd-element__erbox sd-element__erbox--above-element"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",iconRemove:"sd-hidden",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",nested:"sd-element--nested sd-element--nested-with-borders",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelsContainer:"sd-paneldynamic__panels-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",panelWrapperEnter:"sd-paneldynamic__panel-wrapper--enter",panelWrapperLeave:"sd-paneldynamic__panel-wrapper--leave",panelWrapperList:"sd-paneldynamic__panel-wrapper--list",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsContainer:"sd-paneldynamic__tabs-container",tabsContainerWithHeader:"sd-paneldynamic__tabs-container--with-header",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsRoot:"sd-progress-buttons",progressButtonsNumbered:"sd-progress-buttons--numbered",progressButtonsFitSurveyWidth:"sd-progress-buttons--fit-survey-width",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsConnector:"sd-progress-buttons__connector",progressButtonsButton:"sd-progress-buttons__button",progressButtonsButtonBackground:"sd-progress-buttons__button-background",progressButtonsButtonContent:"sd-progress-buttons__button-content",progressButtonsHeader:"sd-progress-buttons__header",progressButtonsFooter:"sd-progress-buttons__footer",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description",number:"sd-page__num",errorsContainer:"sd-page__errbox"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",rowEnter:"sd-row--enter",rowDelayedEnter:"sd-row--delayed-enter",rowLeave:"sd-row--leave",rowReplace:"sd-row--replace",pageRow:"sd-page__row",question:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",mobile:"sd-question--mobile",mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-element__content sd-question__content",contentSupportContainerQueries:"sd-question__content--support-container-queries",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleTopRoot:"sd-question--title-top",descriptionUnderInputRoot:"sd-question--description-under-input",titleBottomRoot:"sd-question--title-bottom",titleOnAnswer:"sd-question__title--answer",titleEmpty:"sd-question__title--empty",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleReadOnly:"sd-element__title--readonly",titleBar:"sd-action-title-bar",requiredMark:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-question__description--under-input",comment:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",hasErrorTop:"sd-question--error-top",hasErrorBottom:"sd-question--error-bottom",collapsed:"sd-element--collapsed",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex sd-composite",disabled:"sd-question--disabled",readOnly:"sd-question--readonly",preview:"sd-question--preview",noPointerEventsMode:"sd-question--no-pointer-events",errorsContainer:"sd-element__erbox sd-question__erbox",errorsContainerTop:"sd-element__erbox--above-element sd-question__erbox--above-question",errorsContainerBottom:"sd-question__erbox--below-question",confirmDialog:"sd-popup--confirm sv-popup--confirm",singleInputTitle:"sd-element__title--singleinput",singleInputWrapper:"sd-question__singleinput-wrapper",breadcrumbsRoot:"sd-breadcrumbs",breadcrumbsItem:"sd-breadcrumbs-item",breadcrumbsItemButton:"sd-breadcrumbs-item__button",breadcrumbsSeparator:"sd-breadcrumbs-separator",summary:"sd-summary",summaryRow:"sd-summary-row",summaryRowContent:"sd-summary-row__content",summaryRowActions:"sd-summary-row__actions",summaryRowAction:"sd-summary-row-action",summaryRowActionEdit:"sd-summary-row-action sd-summary-row-action--edit",summaryRowActionDelete:"sd-summary-row-action sd-summary-row-action--delete"},image:{mainRoot:"sd-element sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-element sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:"",nested:"sd-element--nested sd-html--nested"},error:{root:"sd-error",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemReadOnly:"sd-item--readonly sd-checkbox--readonly",itemPreview:"sd-item--preview sd-checkbox--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-check-16x16",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",otherArea:"sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",otherArea:"sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemExchanged:"sd-boolean--exchanged",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemReadOnly:"sd-boolean--readonly",itemPreview:"sd-boolean--preview",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",labelTrue:"sd-boolean__label--true",labelFalse:"sd-boolean__label--false",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",labelReadOnly:"sd-checkbox__label--readonly",labelPreview:"sd-checkbox__label--preview",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioItemDisabled:"sd-item--disabled sd-radio--disabled",radioItemReadOnly:"sd-item--readonly sd-radio--readonly",radioItemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-item--disabled sd-checkbox--disabled",checkboxItemReadOnly:"sd-item--readonly sd-checkbox--readonly",checkboxItemPreview:"sd-item--preview sd-checkbox--preview",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-check-16x16"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",constrolWithCharacterCounter:"sd-text__character-counter",characterCounterBig:"sd-text__character-counter--big",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",rootMobile:"sd-multipletext--mobile",itemLabel:"sd-multipletext__item-container sd-input",itemLabelReadOnly:"sd-input--readonly",itemLabelDisabled:"sd-input--disabled",itemLabelPreview:"sd-input--preview",itemLabelOnError:"sd-multipletext__item-container--error",itemLabelAllowFocus:"sd-multipletext__item-container--allow-focus",itemLabelAnswered:"sd-multipletext__item-container--answered",itemWithCharacterCounter:"sd-multipletext-item__character-counter",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell",cellError:"sd-multipletext__cell--error",cellErrorTop:"sd-multipletext__cell--error-top",cellErrorBottom:"sd-multipletext__cell--error-bottom"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",onError:"sd-input--error",label:"sd-selectbase__label",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButtonIconId:"icon-cancel",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootResponsive:"sd-imagepicker--responsive",rootStatic:"sd-imagepicker--static",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemReadOnly:"sd-imagepicker__item--readonly",itemPreview:"sd-imagepicker__item--preview",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-check-24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",rowDisabled:"sd-table__row-disabled",rowReadOnly:"sd-table__row-readonly",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-{type} sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-{type}__control",itemChecked:"sd-item--checked sd-{type}--checked",itemDisabled:"sd-item--disabled sd-{type}--disabled",itemReadOnly:"sd-item--readonly sd-{type}--readonly",itemPreview:"sd-item--preview sd-{type}--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemHover:"sd-{type}--allowhover",materialDecorator:"sd-item__decorator sd-{type}__decorator",itemDecorator:"sd-item__svg sd-{type}__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",itemCell:"sd-table__cell--item",row:"sd-table__row",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",expandedRow:"sd-table__row--expanded",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",columnTitleCell:"sd-table__cell--column-title",cellRequiredMark:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",row:"sd-table__row",rowEmpty:"sd-table__row--empty",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",expandedRow:"sd-table__row--expanded",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",columnTitleCell:"sd-table__cell--column-title",cellRequiredMark:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"sd-hidden",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-drag-24x24",footer:"sd-matrixdynamic__footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",noRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",draggedRow:"sv-matrixdynamic-dragged-row",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-rating--wrappable",rootLabelsTop:"sd-rating--labels-top",rootLabelsBottom:"sd-rating--labels-bottom",rootLabelsDiagonal:"sd-rating--labels-diagonal",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarReadOnly:"sd-rating__item-star--readonly",itemStarPreview:"sd-rating__item-star--preview",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyReadOnly:"sd-rating__item-smiley--readonly",itemSmileyPreview:"sd-rating__item-smiley--preview",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemReadOnly:"sd-rating__item--readonly",itemPreview:"sd-rating__item--preview",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},slider:{root:"sd-slider",rootSingleMode:"sd-slider--single",rootNegativeScaleMode:"sd-slider--negative-scale",rootDesignMode:"sd-slider--design-mode",rootAnimatedThumbMode:"sd-slider--animated-thumb-mode",visualContainer:"sd-slider-container",visualContainerSlider:"sd-slider-container__slider",rangeTrack:"sd-slider__track sd-slider__range-track",inverseTrackLeft:"sd-slider__track sd-slider__inverse-track sd-slider__inverse-track--left",inverseTrackRight:"sd-slider__track sd-slider__inverse-track sd-slider__inverse-track--right",thumbContainer:"sd-slider__thumb-container",thumbContainerIndeterminateMode:"sd-slider__thumb-container--indeterminate",thumbContainerFocusedMode:"sd-slider__thumb-container--focused",thumb:"sd-slider__thumb",thumbDot:"sd-slider__thumb-dot",tooltip:"sd-slider__tooltip",tooltipPanel:"sd-slider__tooltip-panel",tooltipOnHoverMode:"sd-slider__tooltip--on-hover",tooltipValue:"sd-slider__tooltip-value",input:"sd-slider__input",labelsContainer:"sd-slider-labels-container",label:"sd-slider__label",labelLongMod:"sd-slider__label--long",labelTick:"sd-slider__label-tick",labelText:"sd-slider__label-text",clearButton:""},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",rootDragging:"sd-file--dragging",rootAnswered:"sd-file--answered",rootDisabled:"sd-file--disabled",rootReadOnly:"sd-file--readonly",rootPreview:"sd-file--preview",placeholderInput:"sd-visuallyhidden",previewItem:"sd-file__preview-item",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",controlDisabled:"sd-file__choose-file-btn--disabled",removeButton:"sd-context-btn--negative",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-close_16x16",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn--small sd-context-btn--with-border sd-context-btn--colorful sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",imageWrapperDefaultImage:"sd-file__image-wrapper--default-image",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile",videoContainer:"sd-file__video-container",contextButton:"sd-context-btn",video:"sd-file__video",actionsContainer:"sd-file__actions-container",closeCameraButton:"sd-file__close-camera-button",changeCameraButton:"sd-file__change-camera-button",takePictureButton:"sd-file__take-picture-button",loadingIndicator:"sd-file__loading-indicator",page:"sd-file__page"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas sd-signaturepad__canvas",backgroundImage:"sjs_sp__background-image sd-signaturepad__background-image",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear",loadingIndicator:"sd-signaturepad__loading-indicator"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootReadOnly:"sd-ranking--readonly",rootPreview:"sd-ranking--preview",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankEmptyValueMod:"sv-ranking--select-to-rank-empty-value",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",itemReadOnly:"sv-ranking-item--readonly",itemPreview:"sv-ranking-item--preview",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sd-button-group-scrollable-container sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden",rootDropdown:"sd-button-group-scrollable-container sd-scrollable-container--compact sd-selectbase",selectWrapper:"sv-dropdown_select-wrapper",control:"sd-input sd-dropdown",controlEmpty:"sd-dropdown--empty",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",cleanButtonIconId:"icon-cancel",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused",itemHovered:"sv-list__item--hovered sd-list__item--hovered"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-check-16x16",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",cleanButtonIconId:"icon-cancel-24x24",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlEditable:"sd-input--editable",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}};const WRe="default";mf[WRe]=hE;var yc={setTimeout:i=>yc.safeTimeOut(i,1e3),clearTimeout:i=>{clearTimeout(i)},safeTimeOut:(i,e)=>e<=0?(i(),0):setTimeout(i,e),now(){return Date.now()}};class Sc{constructor(){this.listenerCounter=0,this.timerId=-1,this.onTimerTick=new Na,this.onTimer=this.onTimerTick}static get instance(){return Sc.instanceValue||(Sc.instanceValue=new Sc),Sc.instanceValue}start(e=null){e&&this.onTimerTick.add(e),this.prevTimeInMs=yc.now(),this.timerId<0&&(this.timerId=yc.setTimeout(()=>{this.doTimer()})),this.listenerCounter++}stop(e=null){e&&this.onTimerTick.remove(e),this.listenerCounter--,this.listenerCounter==0&&this.timerId>-1&&(yc.clearTimeout(this.timerId),this.timerId=-1)}doTimer(){if((this.onTimerTick.isEmpty||this.listenerCounter==0)&&(this.timerId=-1),this.timerId<0)return;const e=yc.now();let t=Math.floor((e-this.prevTimeInMs)/1e3);this.prevTimeInMs=e,t<0&&(t=1);const n=this.timerId;this.onTimerTick.fire(this,{seconds:t}),n===this.timerId&&(this.timerId=yc.setTimeout(()=>{this.doTimer()}))}}Sc.instanceValue=null;class Mp extends Ut{constructor(e){super(),this.timerFunc=null,this.surveyValue=e,this.onCreating()}get survey(){return this.surveyValue}onCreating(){}start(){this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(()=>{this.update()}),this.timerFunc=(e,t)=>{this.doTimer(t.seconds)},this.setIsRunning(!0),this.update(),Sc.instance.start(this.timerFunc)))}stop(){this.isRunning&&(this.setIsRunning(!1),Sc.instance.stop(this.timerFunc))}get isRunning(){return this.getPropertyValue("isRunning",!1)}setIsRunning(e){this.setPropertyValue("isRunning",e)}update(){this.updateText(),this.updateProgress()}doTimer(e){var t=this.survey.currentPage;if(t){const n=t.getMaxTimeToFinish();n>0&&n<t.timeSpent+e&&(e=n-t.timeSpent),t.timeSpent=t.timeSpent+e}this.spent=this.spent+e,this.update(),this.onTimerTick&&this.onTimerTick(t)}updateProgress(){let{spent:e,limit:t}=this.survey.timerInfo;t?(e==0?(this.progress=0,setTimeout(()=>{this.progress=Math.floor((e+1)/t*100)/100},0)):e<=t&&(this.progress=Math.floor((e+1)/t*100)/100),this.progress>1&&(this.progress=void 0)):this.progress=void 0}updateText(){let e=this.survey.timerClock;this.clockMajorText=e.majorText,this.clockMinorText=e.minorText,this.text=this.survey.timerInfoText}get showProgress(){return this.progress!==void 0}get showTimerAsClock(){return!!this.survey.getCss().clockTimerRoot}get rootCss(){return new Ie().append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()}getProgressCss(){return new Ie().append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()}get textContainerCss(){return this.survey.getCss().clockTimerTextContainer}get minorTextCss(){return this.survey.getCss().clockTimerMinorText}get majorTextCss(){return this.survey.getCss().clockTimerMajorText}}W([G()],Mp.prototype,"text",void 0);W([G()],Mp.prototype,"progress",void 0);W([G()],Mp.prototype,"clockMajorText",void 0);W([G()],Mp.prototype,"clockMinorText",void 0);W([G({defaultValue:0})],Mp.prototype,"spent",void 0);class cy extends Ut{constructor(e){super(),this.cssClasses=e,this.timeout=oe.notifications.lifetime,this.timer=void 0,this.actionsVisibility={},this.showActions=!0,this.actionBar=new wr,this.actionBar.setCssClasses({root:$a.root,defaultSizeMode:$a.defaultSizeMode,smallSizeMode:$a.smallSizeMode},!1),this.css=this.cssClasses.root}getCssClass(e){return new Ie().append(this.cssClasses.root).append(this.cssClasses.rootWithButtons,this.actionBar.getVisibleActions().length>0).append(this.cssClasses.info,e!=="error"&&e!=="success").append(this.cssClasses.error,e==="error").append(this.cssClasses.success,e==="success").append(this.cssClasses.shown,this.active).toString()}updateActionsVisibility(e){this.actionBar.actions.forEach(t=>t.visible=this.showActions&&this.actionsVisibility[t.id]===e)}notify(e,t="info",n=!1){this.isDisplayed=!0,setTimeout(()=>{this.updateActionsVisibility(t),this.message=e,this.active=!0,this.css=this.getCssClass(t),this.timer&&(clearTimeout(this.timer),this.timer=void 0),n||(this.timer=setTimeout(()=>{this.timer=void 0,this.active=!1,this.css=this.getCssClass(t)},this.timeout))},1)}addAction(e,t){e.visible=!1,e.innerCss=this.cssClasses.button;const n=this.actionBar.addAction(e);this.actionsVisibility[n.id]=t}}W([G({defaultValue:!1})],cy.prototype,"active",void 0);W([G({defaultValue:!1})],cy.prototype,"isDisplayed",void 0);W([G()],cy.prototype,"message",void 0);W([G()],cy.prototype,"css",void 0);class Qd{calcRow(e){return e==="top"?1:e==="middle"?2:3}calcColumn(e){return e==="left"?1:e==="center"?2:3}calcAlignItems(e){return e==="left"?"flex-start":e==="center"?"center":"flex-end"}calcAlignText(e){return e==="left"?"start":e==="center"?"center":"end"}calcJustifyContent(e){return e==="top"?"flex-start":e==="middle"?"center":"flex-end"}calcGridRow(){const e=this.calcRow(this.positionY);if(this.cover.renderedHeight)return e;const t=this.cover.getVisibleRows(),n=t.indexOf(e);if(n===-1)return 0;const r=t.length;return r===3?e:r===1?1:n+1}constructor(e,t,n){this.cover=e,this.positionX=t,this.positionY=n}get survey(){return this.cover.survey}get css(){return new Ie().append(Qd.CLASSNAME).append(`${Qd.CLASSNAME}--${this.positionX}`).append(`${Qd.CLASSNAME}--${this.positionY}`).append(Qd.CLASSNAME+"--empty",this.isEmpty).toString()}get style(){const e=this.calcGridRow(),t={};return t.gridRow=e,t.gridColumn=e!==0?this.calcColumn(this.positionX):0,t.width=this.width?this.width+"px":void 0,e===0&&(t.display="none"),t}get contentStyle(){const e={};return e.textAlign=this.calcAlignText(this.positionX),e.alignItems=this.calcAlignItems(this.positionX),e.justifyContent=this.calcJustifyContent(this.positionY),e.maxWidth=this.contentMaxWidth,e}get showLogo(){return this.survey.hasLogo&&this.positionX===this.cover.logoPositionX&&this.positionY===this.cover.logoPositionY}get showTitle(){return this.survey.hasTitle&&this.positionX===this.cover.titlePositionX&&this.positionY===this.cover.titlePositionY}get showDescription(){return this.survey.renderedHasDescription&&this.positionX===this.cover.descriptionPositionX&&this.positionY===this.cover.descriptionPositionY}get isEmpty(){return!this.showLogo&&!this.showTitle&&!this.showDescription}get textAreaWidth(){return this.cover.renderedTextAreaWidth}get width(){if(this.cover.width)return Math.ceil(this.cover.width/3)}get contentMaxWidth(){return this.cover.getContentMaxWidth(this)}}Qd.CLASSNAME="sv-header__cell";class oi extends Ut{calcBackgroundSize(e){return e==="fill"?"100% 100%":e==="tile"?"auto":e}updateHeaderClasses(){const e=!this.backgroundColor||this.backgroundColor==="transparent",t=this.backgroundColor==="var(--sjs-primary-backcolor)",n=!e&&!t;this.headerClasses=new Ie().append("sv-header").append("sv-header--height-auto",!this.renderedHeight).append("sv-header__without-background",e&&!this.backgroundImage).append("sv-header__background-color--none",e&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--accent",t&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--custom",n&&!this.titleColor&&!this.descriptionColor).append("sv-header__overlap",this.overlapEnabled).toString()}updateContentClasses(){const e=!!this.survey&&this.survey.calculateWidthMode(),t=this.inheritWidthFrom==="survey"&&!!e&&e==="static";if(this.maxWidth=t?this.survey.width:void 0,this.maxWidth){const n=this.maxWidth.toString();n.indexOf("px")===-1&&n.indexOf("%")===-1&&(this.maxWidth=parseFloat(n)+"px")}this.contentClasses=new Ie().append("sv-header__content").append("sv-header__content--static",t).append("sv-header__content--responsive",this.inheritWidthFrom==="container"||!!e&&e==="responsive").toString()}updateBackgroundImageClasses(){this.backgroundImageClasses=new Ie().append("sv-header__background-image").append("sv-header__background-image--contain",this.backgroundImageFit==="contain").append("sv-header__background-image--tile",this.backgroundImageFit==="tile").toString()}fromTheme(e){super.fromJSON(e.header||{}),e.cssVariables&&(this.backgroundColor=e.cssVariables["--sjs-header-backcolor"],this.titleColor=e.cssVariables["--sjs-font-headertitle-color"],this.descriptionColor=e.cssVariables["--sjs-font-headerdescription-color"]),this.init()}init(){this.renderBackgroundImage=w5(this.backgroundImage),this.updateHeaderClasses(),this.updateContentClasses(),this.updateBackgroundImageClasses()}constructor(){super(),this.cells=[],["top","middle","bottom"].forEach(e=>["left","center","right"].forEach(t=>this.cells.push(new Qd(this,t,e)))),this.init()}getType(){return"cover"}get renderedHeight(){if(this.survey&&!this.survey.isMobile||!this.survey)return this.height?this.height+"px":void 0;if(this.survey&&this.survey.isMobile)return this.mobileHeight?this.mobileHeight+"px":void 0}get renderedTextAreaWidth(){return this.textAreaWidth?this.textAreaWidth+"px":void 0}get isEmpty(){return!this.survey.hasLogo&&!this.survey.hasTitle&&!this.survey.renderedHasDescription}get survey(){return this._survey}set survey(e){this._survey!==e&&(this._survey=e,e&&(this.updateContentClasses(),this._survey.onPropertyChanged.add((t,n)=>{(n.name=="widthMode"||n.name=="width")&&this.updateContentClasses()})))}get backgroundImageStyle(){return this.backgroundImage?{opacity:this.backgroundImageOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.calcBackgroundSize(this.backgroundImageFit)}:null}propertyValueChanged(e,t,n,r,s){super.propertyValueChanged(e,t,n),(e==="height"||e==="backgroundColor"||e==="backgroundImage"||e==="overlapEnabled")&&this.updateHeaderClasses(),e==="inheritWidthFrom"&&this.updateContentClasses(),e==="backgroundImageFit"&&this.updateBackgroundImageClasses()}getVisibleRows(){const e=[];for(let t=0;t<3;t++){const n=t*3;(!this.cells[n].isEmpty||!this.cells[n+1].isEmpty||!this.cells[n+2].isEmpty)&&e.push(t+1)}return e.length!==0?e:[1,2,3]}getContentMaxWidth(e){if(e.isEmpty||e.showLogo)return;const t=this.cells.indexOf(e),n=Math.floor(t/3),r=t%3;if(r==1){if(!this.cells[n*3].isEmpty||!this.cells[n*3+2].isEmpty)return"100%"}else if(r==0){let s=0,o=r+1;for(;o<3&&this.cells[n*3+o].isEmpty;)this.cells[n*3+o].isEmpty&&s++,o++;return 100*(s+1)+"%"}else if(r==2){let s=0,o=r-1;for(;o>0&&this.cells[n*3+o].isEmpty;)this.cells[n*3+o].isEmpty&&s++,o--;return 100*(s+1)+"%"}}processResponsiveness(){if(this.survey&&this.survey.rootElement&&!this.survey.isMobile){const e=this.survey.rootElement.querySelectorAll(".sv-header__content")[0];if(!e)return;let t=e.getBoundingClientRect().width;const n=St.getComputedStyle(e),r=parseFloat(n.paddingLeft)||0,s=parseFloat(n.paddingRight)||0,o=parseFloat(n.columnGap)||0;this.width=t-r-s-2*o}}get hasBackground(){return!!this.backgroundImage||this.backgroundColor!=="transparent"}}W([G()],oi.prototype,"height",void 0);W([G()],oi.prototype,"mobileHeight",void 0);W([G()],oi.prototype,"inheritWidthFrom",void 0);W([G()],oi.prototype,"textAreaWidth",void 0);W([G()],oi.prototype,"textGlowEnabled",void 0);W([G()],oi.prototype,"overlapEnabled",void 0);W([G({defaultValue:"transparent"})],oi.prototype,"backgroundColor",void 0);W([G()],oi.prototype,"titleColor",void 0);W([G()],oi.prototype,"descriptionColor",void 0);W([G({onSet:(i,e)=>{e.renderBackgroundImage=w5(i)}})],oi.prototype,"backgroundImage",void 0);W([G()],oi.prototype,"renderBackgroundImage",void 0);W([G()],oi.prototype,"backgroundImageFit",void 0);W([G()],oi.prototype,"backgroundImageOpacity",void 0);W([G()],oi.prototype,"logoPositionX",void 0);W([G()],oi.prototype,"logoPositionY",void 0);W([G()],oi.prototype,"titlePositionX",void 0);W([G()],oi.prototype,"titlePositionY",void 0);W([G()],oi.prototype,"descriptionPositionX",void 0);W([G()],oi.prototype,"descriptionPositionY",void 0);W([G()],oi.prototype,"logoStyle",void 0);W([G()],oi.prototype,"titleStyle",void 0);W([G()],oi.prototype,"descriptionStyle",void 0);W([G()],oi.prototype,"headerClasses",void 0);W([G()],oi.prototype,"contentClasses",void 0);W([G()],oi.prototype,"width",void 0);W([G()],oi.prototype,"maxWidth",void 0);W([G()],oi.prototype,"backgroundImageClasses",void 0);me.addClass("cover",[{name:"height:number",minValue:0,default:0},{name:"mobileHeight:number",minValue:0,default:0},{name:"inheritWidthFrom",default:"survey"},{name:"textAreaWidth:number",minValue:0,default:0},{name:"textGlowEnabled:boolean"},{name:"overlapEnabled:boolean"},{name:"backgroundImage:file"},{name:"backgroundImageOpacity:number",minValue:0,maxValue:1,default:1},{name:"backgroundImageFit",default:"cover",choices:["cover","fill","contain"]},{name:"logoPositionX",default:"left"},{name:"logoPositionY",default:"top"},{name:"titlePositionX",default:"left"},{name:"titlePositionY",default:"bottom"},{name:"descriptionPositionX",default:"left"},{name:"descriptionPositionY",default:"bottom"}],function(){return new oi});class GRe{constructor(e){this.type=e,this.timestamp=new Date}}class Y$ extends Ut{constructor(){super(),this.taskList=[],this.onAllTasksCompleted=this.addEvent()}runTask(e,t){const n=new GRe(e);return this.taskList.push(n),this.hasActiveTasks=!0,t(()=>this.taskFinished(n)),n}waitAndExecute(e){if(!this.hasActiveTasks){e();return}this.onAllTasksCompleted.add(()=>{e()})}taskFinished(e){const t=this.taskList.indexOf(e);t>-1&&this.taskList.splice(t,1),this.hasActiveTasks&&this.taskList.length==0&&(this.hasActiveTasks=!1,this.onAllTasksCompleted.fire(this,{}))}}W([G({defaultValue:!1})],Y$.prototype,"hasActiveTasks",void 0);class dy extends Ut{constructor(e,t){super(),this.effectiveWidth=e,this.questionTitleWidth=t}getType(){return"panellayoutcolumn"}isEmpty(){return!this.width&&!this.questionTitleWidth}}W([G()],dy.prototype,"width",void 0);W([G({onSet:(i,e,t)=>{i!==t&&(e.width=i)}})],dy.prototype,"effectiveWidth",void 0);W([G()],dy.prototype,"questionTitleWidth",void 0);me.addClass("panellayoutcolumn",[{name:"effectiveWidth:number",isSerializable:!1,minValue:0},{name:"width:number",visible:!1},"questionTitleWidth"],i=>new dy);class cv extends Ut{static getRowId(){return"pr_"+cv.rowCounter++}get allowRendering(){return!this.panel||!this.panel.survey||!this.panel.survey.isLazyRenderingSuspended}startLazyRendering(e,t=qC){if(!St.isAvailable())return;this._scrollableParent=t(e),this._scrollableParent===St.getDocumentElement()&&(this._scrollableParent=Bt.getWindow());const n=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!n,n&&(this._updateVisibility=()=>{if(this.allowRendering){var r=QPe(e,50);!this.isNeedRender&&r&&(this.isNeedRender=!0,this.stopLazyRendering())}},this.lazyRenderingTimeout=setTimeout(()=>{this._scrollableParent&&this._scrollableParent.addEventListener&&this._scrollableParent.addEventListener("scroll",this._updateVisibility),this.ensureVisibility()},10))}ensureVisibility(){this._updateVisibility&&this._updateVisibility()}stopLazyRendering(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),clearTimeout(this.lazyRenderingTimeout),this._scrollableParent=void 0,this._updateVisibility=void 0}constructor(e){super(),this.panel=e,this._scrollableParent=void 0,this._updateVisibility=void 0,this.visibleElementsAnimation=new ph(this.getVisibleElementsAnimationOptions(),t=>{this.setWidth(t),this.setPropertyValue("visibleElements",t)},()=>this.visibleElements),this.idValue=cv.getRowId(),this.visible=e.areInvisibleElementsShowing,this.createNewArray("elements"),this.createNewArray("visibleElements")}setIsLazyRendering(e){this.isLazyRenderingValue=e,this.isNeedRender=!e}isLazyRendering(){return this.isLazyRenderingValue===!0}get id(){return this.idValue}equalsCore(e){return this==e}get elements(){return this.getPropertyValue("elements")}getIsAnimationAllowed(){var e;return super.getIsAnimationAllowed()&&this.visible&&((e=this.panel)===null||e===void 0?void 0:e.animationAllowed)}getVisibleElementsAnimationOptions(){const e=t=>{Su(t),lv(t,{width:cE(t)+"px"})};return{getRerenderEvent:()=>this.onElementRerendered,isAnimationEnabled:()=>this.animationAllowed,allowSyncRemovalAddition:!1,getAnimatedElement:t=>t.getWrapperElement(),getLeaveOptions:t=>{const n=t;return{cssClass:(t.isPanel?n.cssClasses.panel:n.cssClasses).leave,onBeforeRunAnimation:e,onAfterRunAnimation:oa}},getEnterOptions:t=>{const n=t;return{cssClass:(t.isPanel?n.cssClasses.panel:n.cssClasses).enter,onBeforeRunAnimation:e,onAfterRunAnimation:oa}}}}set visibleElements(e){if(e.length)this.visible=!0;else{this.visible=!1,this.visibleElementsAnimation.cancel();return}this.visibleElementsAnimation.sync(e)}get visibleElements(){return this.getPropertyValue("visibleElements")}get visible(){return this.getPropertyValue("visible",!0)}set visible(e){this.setPropertyValue("visible",e),this.onVisibleChangedCallback&&this.onVisibleChangedCallback()}get isNeedRender(){return this.getPropertyValue("isneedrender",!0)}set isNeedRender(e){this.setPropertyValue("isneedrender",e)}updateVisible(){for(var e=[],t=0;t<this.elements.length;t++)this.elements[t].isVisible&&e.push(this.elements[t]),(this.elements[t].isPanel||this.elements[t].getType()==="paneldynamic")&&(this.setIsLazyRendering(!1),this.stopLazyRendering());this.visibleElements=e}addElement(e){this.elements.push(e),this.updateVisible()}get index(){return this.panel.rows.indexOf(this)}setWidth(e){var t=e.length;if(t==0)return;const n=e.length===1;for(var r=[],s=0;s<this.elements.length;s++){var o=this.elements[s];if(o.isVisible){o.isSingleInRow=n;var a=this.getElementWidth(o);a&&(o.renderWidth=this.getRenderedWidthFromWidth(a),r.push(o)),o.rightIndent=0}else o.renderWidth=""}for(var s=0;s<this.elements.length;s++){var o=this.elements[s];!o.isVisible||r.indexOf(o)>-1||(r.length==0?o.renderWidth=`${Number.parseFloat((100/t).toFixed(6))}%`:o.renderWidth=this.getRenderedCalcWidth(o,r,t))}}getRenderedCalcWidth(e,t,n){for(var r="100%",s=0;s<t.length;s++)r+=" - "+t[s].renderWidth;var o=n-t.length;return o>1&&(r="("+r+")/"+o.toString()),"calc("+r+")"}getElementWidth(e){var t=e.width;return!t||typeof t!="string"?"":t.trim()}getRenderedWidthFromWidth(e){return se.isNumber(e)?e+"px":e}dispose(){super.dispose(),this.stopLazyRendering()}getRowCss(){return new Ie().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||this.panel.showPanelAsPage).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()}setRootElement(e){this.rootElement=e}getRootElement(){return this.rootElement}}cv.rowCounter=100;class xl extends ni{static getPanelId(){return"sp_"+xl.panelCounter++}get gridLayoutColumns(){let e=this.getPropertyValue("gridLayoutColumns");return this._columns||(this.generateColumns([].concat(e)),e=this._columns,this.gridLayoutColumns=e),e}set gridLayoutColumns(e){this.setPropertyValue("gridLayoutColumns",e)}onAddRow(e){this.onRowVisibleChanged(),e.onVisibleChangedCallback=()=>this.onRowVisibleChanged()}getRowsAnimationOptions(){return{getRerenderEvent:()=>this.onElementRerendered,isAnimationEnabled:()=>this.animationAllowed,getAnimatedElement:e=>e.getRootElement(),getLeaveOptions:(e,t)=>({cssClass:this.cssClasses.rowLeave,onBeforeRunAnimation:Su,onAfterRunAnimation:oa}),getEnterOptions:(e,t)=>{const n=this.cssClasses;return{cssClass:new Ie().append(n.rowEnter).append(n.rowDelayedEnter,t.isDeletingRunning).toString(),onBeforeRunAnimation:Su,onAfterRunAnimation:oa}}}}get visibleRows(){return this.getPropertyValue("visibleRows")}set visibleRows(e){this.rowsAnimation.sync(e)}onRemoveRow(e){e.visibleElementsAnimation.cancel(),this.visibleRows=this.rows.filter(t=>t.visible),e.onVisibleChangedCallback=void 0}onRowVisibleChanged(){this.visibleRows=this.rows.filter(e=>e.visible)}constructor(e=""){super(e),this.isQuestionsReady=!1,this.questionsValue=new Array,this._columns=void 0,this._columnsReady=!1,this.rowsAnimation=new ph(this.getRowsAnimationOptions(),t=>{this.setPropertyValue("visibleRows",t)},()=>this.visibleRows),this.isRandomizing=!1,this.onColumnPropertyValueChangedCallback=(t,n,r,s,o)=>{this._columnsReady&&(this.updateColumnWidth(this.gridLayoutColumns),this.updateRootStyle())},this.locCountRowUpdates=0,this.createNewArray("rows",(t,n)=>{this.onAddRow(t)},t=>{this.onRemoveRow(t)}),this.createNewArray("visibleRows"),this.createNewArray("gridLayoutColumns",t=>{t.onPropertyValueChangedCallback=this.onColumnPropertyValueChangedCallback}),this.elementsValue=this.createNewArray("elements",this.onAddElement.bind(this),this.onRemoveElement.bind(this)),this.setPropertyValueDirectly("id",xl.getPanelId()),this.addExpressionProperty("visibleIf",(t,n)=>{this.visible=n===!0},t=>!this.areInvisibleElementsShowing),this.addExpressionProperty("enableIf",(t,n)=>{this.readOnly=n===!1}),this.addExpressionProperty("requiredIf",(t,n)=>{this.isRequired=n===!0}),this.createLocalizableString("requiredErrorText",this),this.createLocalizableString("navigationTitle",this,!0).onGetTextCallback=t=>t||this.title||this.name,this.registerPropertyChangedHandlers(["questionTitleLocation"],()=>{this.onVisibleChanged.bind(this),this.updateElementCss(!0)}),this.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],()=>{this.updateVisibleIndexes()}),this.registerPropertyChangedHandlers(["title"],()=>{this.resetHasTextInTitle()})}getType(){return"panelbase"}setSurveyImpl(e,t){this.blockAnimations(),super.setSurveyImpl(e,t),this.isDesignMode&&this.onVisibleChanged();for(var n=0;n<this.elements.length;n++)this.elements[n].setSurveyImpl(e,t);this.releaseAnimations()}endLoadingFromJson(){super.endLoadingFromJson(),this.markQuestionListDirty(),this.onRowsChanged()}get hasTextInTitle(){return this.getPropertyValue("hasTextInTitle",void 0,()=>!!this.title)}resetHasTextInTitle(){this.resetPropertyValue("hasTextInTitle")}get hasTitle(){return this.canShowTitle(this.survey)&&(this.hasTextInTitle||this.locTitle.textOrHtml.length>0)||this.isDesignMode&&!this.isPanel&&this.showTitle&&oe.designMode.showEmptyTitles}delete(e=!0){this.deletePanel(),this.removeFromParent(),e&&this.dispose()}deletePanel(){const e=this.elements;for(let t=0;t<e.length;t++){const n=e[t];n.isPanel&&n.deletePanel(),this.onRemoveElementNotifySurvey(n)}}removeFromParent(){}canShowTitle(e){return!0}getDefaultTitleTagName(){return oe.titleTags.panel}get _showDescription(){return!this.hasTitle&&this.isDesignMode?!1:this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&oe.designMode.showEmptyDescriptions}localeChanged(){super.localeChanged();for(var e=0;e<this.elements.length;e++)this.elements[e].localeChanged()}locStrsChanged(){super.locStrsChanged();for(var e=0;e<this.elements.length;e++)this.elements[e].locStrsChanged()}getMarkdownHtml(e,t,n){return t==="navigationTitle"&&this.locNavigationTitle.isEmpty?this.locTitle.renderedHtml||this.name:super.getMarkdownHtml(e,t,n)}get locNavigationTitle(){return this.getLocalizableString("navigationTitle")}get renderedNavigationTitle(){return this.locNavigationTitle.renderedHtml}get requiredMark(){return this.survey&&this.isRequired?this.survey.requiredMark:""}get requiredText(){return this.requiredMark}get titlePattern(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"}get isRequireTextOnStart(){return this.isRequired&&this.titlePattern=="requireNumTitle"}get isRequireTextBeforeTitle(){return this.isRequired&&this.titlePattern=="numRequireTitle"}get isRequireTextAfterTitle(){return this.isRequired&&this.titlePattern=="numTitleRequire"}get requiredErrorText(){return this.getLocalizableStringText("requiredErrorText")}set requiredErrorText(e){this.setLocalizableStringText("requiredErrorText",e)}get locRequiredErrorText(){return this.getLocalizableString("requiredErrorText")}get questionOrder(){return this.getPropertyValue("questionOrder")}set questionOrder(e){this.setPropertyValue("questionOrder",e)}get questionsOrder(){return this.questionOrder}set questionsOrder(e){this.questionOrder=e}addNoFromChild(e){return e}canRandomize(e){return e&&this.questionOrder!=="initial"||this.questionOrder==="random"}randomizeElements(e){if(!this.canRandomize(e)||this.isRandomizing)return!1;this.isRandomizing=!0;for(var t=[],n=this.elements,r=0;r<n.length;r++)t.push(n[r]);const s=se.randomizeArray(t);return this.setArrayPropertyDirectly("elements",s,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1,!0}get areQuestionsRandomized(){var e=this.questionOrder=="default"&&this.survey?this.survey.questionOrder:this.questionOrder;return e=="random"}get parent(){return this.getPropertyValue("parent",null)}set parent(e){this.setPropertyValue("parent",e)}get depth(){return this.parent==null?0:this.parent.depth+1}get visibleIf(){return this.getPropertyValue("visibleIf","")}set visibleIf(e){this.setPropertyValue("visibleIf",e)}calcCssClasses(e){var t={panel:{},error:{},row:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(t.panel,e.panel),this.copyCssClasses(t.error,e.error),e.pageRow&&(t.pageRow=e.pageRow),e.rowCompact&&(t.rowCompact=e.rowCompact),e.row&&(t.row=e.row),e.rowEnter&&(t.rowEnter=e.rowEnter),e.rowLeave&&(t.rowLeave=e.rowLeave),e.rowDelayedEnter&&(t.rowDelayedEnter=e.rowDelayedEnter),e.rowMultiple&&(t.rowMultiple=e.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,t),t}get id(){return this.getPropertyValue("id")}set id(e){this.setPropertyValue("id",e)}get isPanel(){return!1}getPanel(){return this}getLayoutType(){return"row"}isLayoutTypeSupported(e){return e!=="flow"}get questions(){if(!this.isQuestionsReady){this.questionsValue=[];for(var e=0;e<this.elements.length;e++){var t=this.elements[e];if(t.isPanel)for(var n=t.questions,r=0;r<n.length;r++)this.questionsValue.push(n[r]);else this.questionsValue.push(t)}this.isQuestionsReady=!0}return this.questionsValue}get visibleQuestions(){const e=new Array;return this.questions.forEach(t=>{t.isVisible&&e.push(t)}),e}getQuestions(e){const t=this.questions;if(!e)return t;const n=[];return t.forEach(r=>{n.push(r),r.getNestedQuestions().forEach(s=>n.push(s))}),n}getValidName(e){return e&&e.trim()}getQuestionByName(e){for(var t=this.questions,n=0;n<t.length;n++)if(t[n].name==e)return t[n];return null}getElementByName(e){for(var t=this.elements,n=0;n<t.length;n++){var r=t[n];if(r.name==e)return r;var s=r.getPanel();if(s){var o=s.getElementByName(e);if(o)return o}}return null}getQuestionByValueName(e,t=!1){const n=this.getQuestionsByValueName(e,t);return n.length>0?n[0]:null}getQuestionsByValueName(e,t=!1){const n=[];t&&(e=e.toLowerCase());for(var r=this.questions,s=0;s<r.length;s++){let o=r[s].getValueName();t&&(o=o.toLowerCase()),o==e&&n.push(r[s])}return n}getValue(){var e={};return this.collectValues(e,0),se.getUnbindValue(e)}hasValueAnyQuestion(e){const t=e?this.visibleQuestions:this.questions;for(let n=0;n<t.length;n++)if(!t[n].isEmpty())return!0;return!1}collectValues(e,t){let n=this.elements;t===0&&(n=this.questions);for(var r=0;r<n.length;r++){const a=n[r];if(a.isPanel||a.isPage){const l={};a.collectValues(l,t-1)&&(e[a.name]=l)}else{const l=a;if(!l.isEmpty()){var s=l.getValueName();if(e[s]=l.value,this.data){var o=this.data.getComment(s);o&&(e[s+Ut.commentSuffix]=o)}}}}return!0}getDisplayValue(e){for(var t={},n=this.questions,r=0;r<n.length;r++){var s=n[r];if(!s.isEmpty()){var o=e?s.title:s.getValueName();t[o]=s.getDisplayValue(e)}}return t}getComments(){var e={};if(!this.data)return e;for(var t=this.questions,n=0;n<t.length;n++){var r=t[n],s=this.data.getComment(r.getValueName());s&&(e[r.getValueName()]=s)}return e}clearIncorrectValues(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearIncorrectValues()}clearErrors(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearErrors();this.errors=[]}markQuestionListDirty(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()}get elements(){return Ut.collectDependency(this,"elements"),this.elementsValue}getElementsInDesign(e=!1){return this.elements}containsElement(e){for(var t=0;t<this.elements.length;t++){var n=this.elements[t];if(n==e)return!0;var r=n.getPanel();if(r&&r.containsElement(e))return!0}return!1}get isRequired(){return this.getPropertyValue("isRequired")}set isRequired(e){this.setPropertyValue("isRequired",e)}get requiredIf(){return this.getPropertyValue("requiredIf","")}set requiredIf(e){this.setPropertyValue("requiredIf",e)}searchText(e,t){super.searchText(e,t);for(var n=0;n<this.elements.length;n++)this.elements[n].searchText(e,t)}hasErrors(e=!0,t=!1,n=null){return!this.validate(e,t,n)}validate(e=!0,t=!1,n=null){return n=n||{fireCallback:e,focusOnFirstError:t,firstErrorQuestion:null,result:!1},n.result!==!0&&(n.result=!1),this.hasErrorsCore(n),!n.result}validateContainerOnly(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()}onQuestionValueChanged(e){const t=this.questions.indexOf(e);if(t<0)return;const n=5,r=this.questions.length-1,s=t-n>0?t-n:0,o=t+n<r?t+n:r;for(let a=s;a<=o;a++){if(a===t)continue;const l=this.questions[a];l.errors.length>0&&l.validate(!1)&&l.validate(!0)}}hasErrorsInPanels(e){var t=[];this.hasRequiredError(e,t),this.survey&&(this.survey.validatePanel(this,t,e.fireCallback),t.length>0&&(e.result=!0)),e.fireCallback&&(this.errors=t)}getErrorCustomText(e,t){return this.survey?this.survey.getSurveyErrorCustomText(this,e,t):e}hasRequiredError(e,t){if(this.isRequired){var n=[];if(this.addQuestionsToList(n,!0),n.length!=0){for(var r=0;r<n.length;r++)if(!n[r].isEmpty())return;e.result=!0,t.push(new uRe(this.requiredErrorText,this)),e.focusOnFirstError&&!e.firstErrorQuestion&&(e.firstErrorQuestion=n[0])}}}hasErrorsCore(e){var t;let n=(t=this.survey)===null||t===void 0?void 0:t.currentSingleQuestion;n&&this.questions.indexOf(n)<0&&(n=void 0);const r=n?[n]:this.elements;let s=null,o=null;for(var a=0;a<r.length;a++)if(s=r[a],!!s.isVisible)if(s.isPanel)s.hasErrorsCore(e);else{var l=s;l.validate(e.fireCallback,e)||(o||(o=l),e.firstErrorQuestion||(e.firstErrorQuestion=l),e.result=!0)}if(n||(this.hasErrorsInPanels(e),this.updateContainsErrors()),!o&&this.errors.length>0&&(o=this.getFirstQuestionToFocus(!1,!0),e.firstErrorQuestion||(e.firstErrorQuestion=o)),e.fireCallback&&o){const u=n&&e.firstErrorQuestion||o;e.focusOnFirstError?u.focus(!0):u.expandAllParents()}}getContainsErrors(){var e=super.getContainsErrors();if(e)return e;for(var t=this.elements,n=0;n<t.length;n++)if(t[n].containsErrors)return!0;return!1}updateElementVisibility(){for(let e=0;e<this.elements.length;e++)this.elements[e].updateElementVisibility();super.updateElementVisibility()}getFirstQuestionToFocus(e=!1,t=!1){if(!e&&!t&&this.isCollapsed)return null;for(var n=this.elements,r=0;r<n.length;r++){var s=n[r];if(!(!s.isVisible||!t&&s.isCollapsed))if(s.isPanel){var o=s.getFirstQuestionToFocus(e,t);if(o)return o}else{const a=s.getFirstQuestionToFocus(e);if(a)return a}}return null}getFirstVisibleQuestion(){const e=this.questions;for(let t=0;t<e.length;t++)if(e[t].isVisible)return e[t];return null}getFirstVisibleElement(){const e=this.elements;for(let t=0;t<e.length;t++)if(e[t].isVisible)return e[t];return null}focusFirstQuestion(){const e=this.getFirstQuestionToFocus();e&&e.focus()}focusFirstErrorQuestion(){var e=this.getFirstQuestionToFocus(!0);e&&e.focus()}addQuestionsToList(e,t=!1,n=!1){this.addElementsToList(e,t,n,!1)}addPanelsIntoList(e,t=!1,n=!1){this.addElementsToList(e,t,n,!0)}addElementsToList(e,t,n,r){t&&!this.visible||this.addElementsToListCore(e,this.elements,t,n,r)}addElementsToListCore(e,t,n,r,s){for(var o=0;o<t.length;o++){var a=t[o];n&&!a.visible||((s&&a.isPanel||!s&&!a.isPanel)&&e.push(a),a.isPanel?a.addElementsToListCore(e,a.elements,n,r,s):r&&this.addElementsToListCore(e,a.getElementsInDesign(!1),n,r,s))}}calcMaxRowColSpan(){let e=0;return this.rows.forEach(t=>{let n=0,r=!1;t.elements.forEach(s=>{s.width&&(r=!0),n+=s.colSpan||1}),!r&&n>e&&(e=n)}),e}updateColumnWidth(e){let t=0,n=0;if(e.forEach(r=>{r.width?(t+=r.width,r.setPropertyValue("effectiveWidth",r.width)):n++}),n){const r=sRe((100-t)/n);for(let s=0;s<e.length;s++)e[s].width||e[s].setPropertyValue("effectiveWidth",r)}}updateColumns(){this._columns=void 0,this.updateRootStyle()}updateRootStyle(){var e;super.updateRootStyle(),(e=this.elements)===null||e===void 0||e.forEach(t=>t.updateRootStyle())}updateCustomWidgets(){for(var e=0;e<this.elements.length;e++)this.elements[e].updateCustomWidgets()}get questionTitleLocation(){return this.getPropertyValue("questionTitleLocation")}set questionTitleLocation(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase())}getQuestionTitleLocation(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():this.questionTitleLocation!="default"?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"}availableQuestionTitleWidth(){return this.getQuestionTitleLocation()==="left"||this.hasElementWithTitleLocationLeft()}hasElementWithTitleLocationLeft(){return this.elements.some(t=>{if(t instanceof xl)return t.hasElementWithTitleLocationLeft();if(t instanceof hr)return t.getTitleLocation()==="left"})}getQuestionTitleWidth(){return(this.onGetQuestionTitleWidth?this.onGetQuestionTitleWidth():this.questionTitleWidth)||this.parent&&this.parent.getQuestionTitleWidth()}get columns(){return this._columns||(this.generateColumns(this.gridLayoutColumns),this.gridLayoutColumns=this._columns),this._columns||[]}generateColumns(e){var t;const n=(t=this.survey)===null||t===void 0?void 0:t.gridLayoutEnabled;let r=[].concat(e);if(n){let s=this.calcMaxRowColSpan();if(s<=e.length)r=e.slice(0,s);else for(let o=e.length;o<s;o++){const a=new dy;r.push(a)}}this._columns=r;try{this._columnsReady=!1,this.updateColumnWidth(r)}finally{this._columnsReady=!0}}createGridLayoutColumns(){return this.generateColumns([]),this._columns}updateGridColumns(){this.updateColumns(),this.elements.forEach(e=>{e.isPanel&&e.updateGridColumns()})}getColumsForElement(e){const t=this.findRowByElement(e);if(!t||!this.survey||!this.survey.gridLayoutEnabled)return[];let n=t.elements.length-1;for(;n>=0&&t.elements[n].getPropertyValueWithoutDefault("colSpan");)n--;const r=t.elements.indexOf(e);let s=0;for(let l=0;l<r;l++)s+=t.elements[l].colSpan;let o=e.getPropertyValueWithoutDefault("colSpan");if(!o&&r===n){let l=0;for(let u=0;u<t.elements.length;u++)u!==n&&(l+=t.elements[u].colSpan);o=this.columns.length-l}const a=this.columns.slice(s,s+(o||1));return e.setPropertyValueDirectly("effectiveColSpan",a.length),a}getStartIndex(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""}getQuestionStartIndex(){return this.getStartIndex()}getChildrenLayoutType(){return"row"}getProgressInfo(){return ni.getProgressInfoByElements(this.elements,this.isRequired)}get root(){for(var e=this;e.parent;)e=e.parent;return e}childVisibilityChanged(){var e=this.getIsPageVisible(null),t=this.getPropertyValue("isVisible",!0);e!==t&&this.onVisibleChanged()}canRenderFirstRows(){return this.isPage}isLazyRenderInRow(e){return!this.survey||!this.survey.isLazyRendering?!1:e>=this.survey.lazyRenderFirstBatchSize||!this.canRenderFirstRows()}createRowAndSetLazy(e){const t=this.createRow();return t.setIsLazyRendering(this.isLazyRenderInRow(e)),t}createRow(){return new cv(this)}onSurveyLoad(){this.blockAnimations(),super.onSurveyLoad();for(var e=0;e<this.elements.length;e++)this.elements[e].onSurveyLoad();this.onElementVisibilityChanged(this),this.releaseAnimations()}onFirstRenderingCore(){super.onFirstRenderingCore(),this.onRowsChanged(),this.elements.forEach(e=>e.onFirstRendering())}updateRows(){this.isLoadingFromJson||(this.getElementsForRows().forEach(e=>{e.isPanel&&e.updateRows()}),this.onRowsChanged())}get rows(){return this.getPropertyValue("rows")}ensureRowsVisibility(){this.rows.forEach(e=>{e.ensureVisibility()})}onRowsChanged(){this.isLoadingFromJson||(this.blockAnimations(),this.setArrayPropertyDirectly("rows",this.buildRows()),this.updateColumns(),this.releaseAnimations())}blockRowsUpdates(){this.locCountRowUpdates++}releaseRowsUpdates(){this.locCountRowUpdates--}updateRowsBeforeElementRemoved(e){const t=this.findRowByElement(e),n=this.rows.indexOf(t),r=t.elements.indexOf(e);t.elements.splice(r,1),t.elements.length==0?this.rows.splice(n,1):!t.elements[0].startWithNewLine&&this.rows[n-1]?(t.elements.forEach(s=>this.rows[n-1].addElement(s)),this.rows.splice(n,1)):t.updateVisible()}updateRowsOnElementAdded(e){if(!this.wasRendered&&this.rows.length===0&&this.elements.length>1)return;const t=this.elements.indexOf(e),n=this.elements[t+1],r=u=>{const c=this.createRowAndSetLazy(u);return this.isDesignMode&&c.setIsLazyRendering(!1),this.rows.splice(u,0,c),c},s=(u,c,h,...f)=>{const m=u.elements.splice(c,h,...f);return u.updateVisible(),m};if(!n){t==0||e.startWithNewLine?s(r(this.rows.length),0,0,e):this.rows[this.rows.length-1].addElement(e);return}const o=this.findRowByElement(n);if(!o)return;const a=this.rows.indexOf(o),l=o.elements.indexOf(n);l==0?n.startWithNewLine?e.startWithNewLine||a<1?r(a).addElement(e):this.rows[a-1].addElement(e):s(o,0,0,e):e.startWithNewLine?s(r(a+1),0,0,...[e].concat(s(o,l,o.elements.length))):s(o,l,0,e)}canFireAddRemoveNotifications(e){return!!this.survey&&e.prevSurvey!==this.survey}onAddElement(e,t){const n=this.survey,r=this.canFireAddRemoveNotifications(e);this.surveyImpl&&e.setSurveyImpl(this.surveyImpl),e.parent=this,this.markQuestionListDirty(),this.canBuildRows()&&this.updateRowsOnElementAdded(e),r&&(e.isPanel?n.panelAdded(e,t,this,this.root):n.questionAdded(e,t,this,this.root)),this.addElementCallback&&this.addElementCallback(e),e.registerPropertyChangedHandlers(["visible","isVisible"],()=>{this.onElementVisibilityChanged(e)},this.id),e.registerPropertyChangedHandlers(["startWithNewLine"],()=>{this.onElementStartWithNewLineChanged(e)},this.id),this.onElementVisibilityChanged(this)}onRemoveElement(e){e.parent=null,this.unregisterElementPropertiesChanged(e),this.markQuestionListDirty(),this.updateRowsOnElementRemoved(e),!this.isRandomizing&&(this.onRemoveElementNotifySurvey(e),this.removeElementCallback&&this.removeElementCallback(e),this.onElementVisibilityChanged(this))}unregisterElementPropertiesChanged(e){e.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id)}onRemoveElementNotifySurvey(e){this.canFireAddRemoveNotifications(e)&&(e.isPanel?this.survey.panelRemoved(e):this.survey.questionRemoved(e))}onElementVisibilityChanged(e){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(e),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))}onElementStartWithNewLineChanged(e){this.locCountRowUpdates>0||(this.blockAnimations(),this.updateRowsBeforeElementRemoved(e),this.updateRowsOnElementAdded(e),this.releaseAnimations())}updateRowsVisibility(e){for(var t=this.rows,n=0;n<t.length;n++){var r=t[n];if(r.elements.indexOf(e)>-1){r.updateVisible(),r.visible&&!r.isNeedRender&&(r.isNeedRender=!0);break}}}canBuildRows(){return!this.isLoadingFromJson&&this.getChildrenLayoutType()=="row"}buildRows(){if(!this.canBuildRows())return[];const e=new Array,t=this.getElementsForRows();for(let n=0;n<t.length;n++){const r=t[n],s=n==0||r.startWithNewLine,o=s?this.createRowAndSetLazy(e.length):e[e.length-1];s&&e.push(o),o.addElement(r)}return e.forEach(n=>n.updateVisible()),e}getElementsForRows(){return this.elements}getDragDropInfo(){const e=this.getPage(this.parent);return e?e.getDragDropInfo():void 0}updateRowsOnElementRemoved(e){this.canBuildRows()&&(this.updateRowsRemoveElementFromRow(e,this.findRowByElement(e)),this.updateColumns())}updateRowsRemoveElementFromRow(e,t){if(!(!t||!t.panel)){var n=t.elements.indexOf(e);n<0||(t.elements.splice(n,1),t.elements.length>0?(this.blockRowsUpdates(),t.elements[0].startWithNewLine=!0,this.releaseRowsUpdates(),t.updateVisible()):t.index>=0&&t.panel.rows.splice(t.index,1))}}getAllRows(){const e=[];return this.rows.forEach(t=>{const n=[];t.elements.forEach(r=>{r.isPanel?n.push(...r.getAllRows()):r.getType()=="paneldynamic"&&(this.isDesignMode?n.push(...r.template.getAllRows()):r.panels.forEach(s=>n.push(...s.getAllRows())))}),e.push(t),e.push(...n)}),e}findRowAndIndexByElement(e,t){if(!e)return{row:void 0,index:this.rows.length-1};t=t||this.rows;for(var n=0;n<t.length;n++)if(t[n].elements.indexOf(e)>-1)return{row:t[n],index:n};return{row:null,index:-1}}forceRenderRow(e){e&&!e.isNeedRender&&(e.isNeedRender=!0,e.stopLazyRendering())}forceRenderElement(e,t=()=>{},n=0){const r=this.getAllRows(),{row:s,index:o}=this.findRowAndIndexByElement(e,r);if(o>=0&&o<r.length){const a=[];a.push(s);for(let l=o-1;l>=o-n&&l>=0;l--)a.push(r[l]);this.forceRenderRows(a,t)}}forceRenderRows(e,t=()=>{}){const n=(r=>()=>{r--,r<=0&&t()})(e.length);e.forEach(r=>new qPe(r.visibleElements,n)),e.forEach(r=>this.forceRenderRow(r))}findRowByElement(e){return this.findRowAndIndexByElement(e).row}elementWidthChanged(e){if(!this.isLoadingFromJson){var t=this.findRowByElement(e);t&&t.updateVisible()}}get ariaTitleId(){return this.id+"_ariaTitle"}get ariaLabelledBy(){return this.hasTitle?this.ariaTitleId:null}get ariaLabel(){return this.hasTitle?null:this.title||this.name||null}get ariaRole(){return"group"}get processedTitle(){return this.getRenderedTitle(this.locTitle.textOrHtml)}getRenderedTitle(e){return this.textProcessor!=null?this.textProcessor.processText(e,!0):e}get visible(){return this.getPropertyValue("visible")}set visible(e){e!==this.visible&&(this.setPropertyValue("visible",e),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())}onHidingContent(){this.questions.forEach(e=>e.onHidingContent())}onVisibleChanged(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),!this.isLoadingFromJson)){const t=this.questions,n=this.isVisible;for(var e=0;e<t.length;e++){const r=t[e];n?r.updateValueWithDefaults():(r.clearValueIfInvisible("onHiddenContainer"),r.onHidingContent())}}}notifyStateChanged(e){super.notifyStateChanged(e),this.isCollapsed&&this.questions.forEach(t=>t.onHidingContent())}get isVisible(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)}getIsContentVisible(e){if(this.areInvisibleElementsShowing)return!0;for(var t=0;t<this.elements.length;t++)if(this.elements[t]!=e&&this.elements[t].isVisible)return!0;return!1}getIsPageVisible(e){const t=this.getIsContentVisible(e);return this.visible&&t}setVisibleIndex(e){if(!this.isVisible||e<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=e;var t=e;e+=this.beforeSetVisibleIndex(e);var n=this.getPanelStartIndex(e),r=n;const s=this.elements;for(var o=0;o<s.length;o++)r+=s[o].setVisibleIndex(r);return this.isContinueNumbering()&&(e+=r-n),e-t}updateVisibleIndexes(){this.lastVisibleIndex!==void 0&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))}resetVisibleIndexes(){const e=this.elements;for(var t=0;t<e.length;t++)e[t].setVisibleIndex(-1)}beforeSetVisibleIndex(e){return 0}getPanelStartIndex(e){return e}isContinueNumbering(){return!0}get isReadOnly(){var e=!!this.parent&&this.parent.isReadOnly,t=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||e||t}onReadOnlyChanged(){for(var e=0;e<this.elements.length;e++){var t=this.elements[e];t.setPropertyValue("isReadOnly",t.isReadOnly)}super.onReadOnlyChanged()}updateElementCss(e){super.updateElementCss(e);for(let t=0;t<this.elements.length;t++)this.elements[t].updateElementCss(e)}get enableIf(){return this.getPropertyValue("enableIf","")}set enableIf(e){this.setPropertyValue("enableIf",e)}addElement(e,t=-1){return this.canAddElement(e)?(t<0||t>=this.elements.length?this.elements.push(e):this.elements.splice(t,0,e),this.wasRendered&&e.onFirstRendering(),this.updateColumns(),!0):!1}insertElement(e,t,n="bottom"){if(!t){this.addElement(e);return}this.blockRowsUpdates();let r=this.elements.indexOf(t);const s=this.findRowByElement(t);n=="left"||n=="right"?n=="right"?(e.startWithNewLine=!1,r++):s.elements.indexOf(t)==0?(t.startWithNewLine=!1,e.startWithNewLine=!0):e.startWithNewLine=!1:(e.startWithNewLine=!0,n=="top"?r=this.elements.indexOf(s.elements[0]):r=this.elements.indexOf(s.elements[s.elements.length-1])+1),this.releaseRowsUpdates(),this.addElement(e,r)}insertElementAfter(e,t){const n=this.elements.indexOf(t);n>=0&&this.addElement(e,n+1)}insertElementBefore(e,t){const n=this.elements.indexOf(t);n>=0&&this.addElement(e,n)}canAddElement(e){return!!e&&e.isLayoutTypeSupported(this.getChildrenLayoutType())}addQuestion(e,t=-1){return this.addElement(e,t)}addPanel(e,t=-1){return this.addElement(e,t)}addNewQuestion(e,t=null,n=-1){var r=Fn.Instance.createQuestion(e,t);return this.addQuestion(r,n)?r:null}addNewPanel(e=null){var t=this.createNewPanel(e);return this.addPanel(t)?t:null}indexOf(e){return this.elements.indexOf(e)}createNewPanel(e){var t=me.createClass("panel");return t.name=e,t}removeElement(e){var t=this.elements.indexOf(e);if(t<0){for(var n=0;n<this.elements.length;n++)if(this.elements[n].removeElement(e))return!0;return!1}return this.elements.splice(t,1),this.updateColumns(),!0}removeQuestion(e){this.removeElement(e)}runCondition(e){if(!(this.isDesignMode||this.isLoadingFromJson)){for(var t=this.elements.slice(),n=0;n<t.length;n++)t[n].runCondition(e);this.runConditionCore(e)}}onAnyValueChanged(e,t){for(var n=this.elements,r=0;r<n.length;r++)n[r].onAnyValueChanged(e,t)}checkBindings(e,t){for(var n=this.elements,r=0;r<n.length;r++)n[r].checkBindings(e,t)}needResponsiveWidth(){let e=!1;return this.elements.forEach(t=>{t.needResponsiveWidth()&&(e=!0)}),this.rows.forEach(t=>{t.elements.length>1&&(e=!0)}),e}get hasDescriptionUnderTitle(){return this.hasDescription}get cssHeader(){return this.cssClasses.panel.header}get cssDescription(){return this.cssClasses.panel.description}get questionErrorLocation(){return this.getPropertyValue("questionErrorLocation")}set questionErrorLocation(e){this.setPropertyValue("questionErrorLocation",e)}getQuestionErrorLocation(){return this.questionErrorLocation!=="default"?this.questionErrorLocation:this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"}getTitleOwner(){return this}get no(){return""}get cssTitleNumber(){return this.cssClasses.panel.number}get cssRequiredMark(){return this.cssClasses.panel.requiredMark}get cssError(){return this.getCssError(this.cssClasses)}getCssError(e){return new Ie().append(e.error.root).toString()}getSerializableColumnsValue(){let e=-1;for(let t=this.gridLayoutColumns.length-1;t>=0;t--)if(!this.gridLayoutColumns[t].isEmpty()){e=t;break}return this.gridLayoutColumns.slice(0,e+1)}afterRender(e){this.afterRenderCore(e)}dispose(){if(super.dispose(),this.rows){for(let e=0;e<this.rows.length;e++)this.rows[e].dispose();this.rows.splice(0,this.rows.length)}this.disposeElements(),this.elements.splice(0,this.elements.length)}disposeElements(){for(let e=0;e<this.elements.length;e++)this.elements[e].dispose()}}xl.panelCounter=100;W([G({defaultValue:!0})],xl.prototype,"showTitle",void 0);W([G({defaultValue:!0})],xl.prototype,"showDescription",void 0);W([G()],xl.prototype,"questionTitleWidth",void 0);class Fp extends xl{constructor(e=""){super(e),this.forcusFirstQuestionOnExpand=!0,this.createNewArray("footerActions"),this.registerPropertyChangedHandlers(["width"],()=>{this.parent&&this.parent.elementWidthChanged(this)}),this.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],()=>{this.resetIndents()}),this.registerPropertyChangedHandlers(["colSpan"],()=>{var t;(t=this.parent)===null||t===void 0||t.updateColumns()})}getType(){return"panel"}get contentId(){return this.id+"_content"}getSurvey(e=!1){return e&&this.isPanel?this.parent?this.parent.getSurvey(e):null:super.getSurvey(e)}get isPanel(){return!0}get page(){return this.getPage(this.parent)}set page(e){this.setPage(this.parent,e)}removeFromParent(){this.parent&&this.removeSelfFromList(this.parent.elements)}moveTo(e,t=null){return this.moveToBase(this.parent,e,t)}get visibleIndex(){return this.getPropertyValue("visibleIndex",-1)}get showNumber(){return this.getPropertyValue("showNumber")}set showNumber(e){this.setPropertyValue("showNumber",e),this.notifySurveyOnVisibilityChanged()}addNoFromChild(e){return this.isQuestionIndexRecursive?this.calcNo()+e:super.addNoFromChild(e)}get showQuestionNumbers(){return this.getPropertyValue("showQuestionNumbers")}set showQuestionNumbers(e){this.setPropertyValue("showQuestionNumbers",e),this.notifySurveyOnVisibilityChanged()}get questionStartIndex(){return this.getPropertyValue("questionStartIndex","")}set questionStartIndex(e){this.setPropertyValue("questionStartIndex",e)}getQuestionStartIndex(){return this.questionStartIndex?this.questionStartIndex:super.getQuestionStartIndex()}get no(){return this.getPropertyValue("no",void 0,()=>this.calcNo())}calcNo(){let e=se.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.parent&&(e=this.parent.addNoFromChild(e)),this.survey&&(e=this.survey.getUpdatedPanelNo(this,e)),e||""}notifyStateChanged(e){this.isLoadingFromJson||this.locTitle.strChanged(),super.notifyStateChanged(e)}createLocTitleProperty(){const e=super.createLocTitleProperty();return e.onGetTextCallback=t=>(!t&&this.state!=="default"&&(t=this.name),t),e}beforeSetVisibleIndex(e){if(this.isPage)return super.beforeSetVisibleIndex(e);let t=-1;return(this.showNumber||this.isQuestionIndexRecursive)&&(this.isDesignMode||!this.locTitle.isEmpty||this.hasParentInQuestionIndex())&&(t=e),this.setPropertyValue("visibleIndex",t),this.resetPropertyValue("no"),t<0?0:1}getPanelStartIndex(e){return this.showQuestionNumbers==="off"?-1:this.isQuestionIndexOnPanel?0:e}get isQuestionIndexOnPanel(){return this.showQuestionNumbers==="onpanel"||this.isQuestionIndexRecursive}get isQuestionIndexRecursive(){if(this.isPage)return!1;const e=this.showQuestionNumbers;return e!=="default"?e==="recursive":!!this.survey&&this.survey.showQuestionNumbers==="recursive"}hasParentInQuestionIndex(){if(!this.isQuestionIndexOnPanel)return!1;const e=this.questionStartIndex,t=e.indexOf(".");return t>-1&&t<e.length-1}isContinueNumbering(){return this.showQuestionNumbers!=="off"&&!this.isQuestionIndexOnPanel}notifySurveyOnVisibilityChanged(){this.survey!=null&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)}getRenderedTitle(e){if(this.isPanel&&!e){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return super.getRenderedTitle(e)}get innerIndent(){return this.getPropertyValue("innerIndent")}set innerIndent(e){this.setPropertyValue("innerIndent",e)}get startWithNewLine(){return this.getPropertyValue("startWithNewLine")}set startWithNewLine(e){this.setPropertyValue("startWithNewLine",e)}get allowAdaptiveActions(){return this.getPropertyValue("allowAdaptiveActions")}set allowAdaptiveActions(e){this.setPropertyValue("allowAdaptiveActions",e)}get innerPaddingLeft(){const e=()=>this.getIndentSize(this.innerIndent);return this.getPropertyValue("innerPaddingLeft",void 0,e)}set innerPaddingLeft(e){this.setPropertyValue("innerPaddingLeft",e)}calcPaddingLeft(){return this.getIndentSize(this.indent)}calcPaddingRight(){return this.getIndentSize(this.rightIndent)}resetIndents(){this.resetPropertyValue("innerPaddingLeft"),super.resetIndents()}getIndentSize(e){if(this.survey){if(e<1)return"";var t=this.survey.css;return!t||!t.question||!t.question.indent?"":e*t.question.indent+"px"}}clearOnDeletingContainer(){this.elements.forEach(e=>{(e instanceof hr||e instanceof Fp)&&e.clearOnDeletingContainer()})}get footerActions(){return this.getPropertyValue("footerActions")}getFooterToolbar(){var e,t;if(!this.footerToolbarValue){var n=this.footerActions;this.hasEditButton&&n.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,component:"sv-nav-btn",action:()=>{this.cancelPreview()}}),this.onGetFooterActionsCallback?n=this.onGetFooterActionsCallback():n=(e=this.survey)===null||e===void 0?void 0:e.getUpdatedPanelFooterActions(this,n),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions);let r=this.onGetFooterToolbarCssCallback?this.onGetFooterToolbarCssCallback():"";r||(r=(t=this.cssClasses.panel)===null||t===void 0?void 0:t.footer),r&&(this.footerToolbarValue.containerCss=r),this.footerToolbarValue.setItems(n),this.footerToolbarValue.flushUpdates()}return this.footerToolbarValue}get hasEditButton(){return!1}cancelPreview(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)}get cssTitle(){return this.getCssPanelTitle()}getCssPanelTitle(){return this.getCssTitle(this.cssClasses.panel)}getCssTitleExpandableSvg(){return this.state==="default"?null:this.cssClasses.panel.titleExpandableSvg}get showErrorsAbovePanel(){return!this.showPanelAsPage}getCssError(e){if(this.isPage)return super.getCssError(e);const t=new Ie().append(super.getCssError(e)).append(e.panel.errorsContainer);return t.append("panel-error-root",t.isEmpty()).toString()}onVisibleChanged(){super.onVisibleChanged(),this.notifySurveyOnVisibilityChanged()}needResponsiveWidth(){return this.startWithNewLine?super.needResponsiveWidth():!0}focusIn(){this.survey&&this.survey.whenPanelFocusIn(this)}getHasFrameV2(){return super.getHasFrameV2()&&!this.showPanelAsPage}getIsNested(){return super.getIsNested()&&this.parent!==void 0}get showPanelAsPage(){return!1}expand(e=!0){this.forcusFirstQuestionOnExpand=e,super.expand()}onElementExpanded(e){if(this.forcusFirstQuestionOnExpand&&this.survey!=null&&!this.isLoadingFromJson){const t=this.getFirstQuestionToFocus(!1);t&&setTimeout(()=>{!this.isDisposed&&this.survey&&this.survey.scrollElementToTop(t,t,null,t.inputId,!1,{behavior:"smooth"})},e?0:15)}}getCssRoot(e){return new Ie().append(super.getCssRoot(e)).append(e.container).append(e.asPage,this.showPanelAsPage).append(e.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()}getContainerCss(){return this.getCssRoot(this.cssClasses.panel)}afterRenderCore(e){var t;super.afterRenderCore(e),this.isPanel&&((t=this.survey)===null||t===void 0||t.afterRenderPanel(this,e))}}me.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"readOnly:boolean",overridingProperty:"enableIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"questionTitleWidth",visibleIf:function(i){return!!i&&i.availableQuestionTitleWidth()}},{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"gridLayoutColumns:panellayoutcolumns",className:"panellayoutcolumn",isArray:!0,onSerializeValue:i=>i.getSerializableColumnsValue(),visibleIf:function(i){return!!i&&!!i.survey&&i.survey.gridLayoutEnabled}},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionOrder",alternativeName:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"questionErrorLocation",default:"default",choices:["default","top","bottom"]}],function(){return new xl});me.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},{name:"width"},{name:"minWidth",defaultFunc:()=>"auto"},{name:"maxWidth",defaultFunc:()=>oe.maxWidth},{name:"colSpan:number",visible:!1,onSerializeValue:i=>i.getPropertyValue("colSpan")},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(i){return!!i.survey&&i.survey.gridLayoutEnabled}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3],visible:!1},{name:"page",isSerializable:!1,visibleIf:function(i){var e=i?i.survey:null;return!e||!e.pages||e.pages.length>1},choices:function(i){var e=i?i.survey:null;return e?e.pages.map(t=>({value:t.name,text:t.title})):[]}},{name:"showNumber:boolean"},{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","recursive","off"]},{name:"questionStartIndex",visibleIf:i=>i.isPanel},{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new Fp},"panelbase");cu.Instance.registerElement("panel",i=>new Fp(i));class P5 extends Fp{constructor(e=""){super(e),this.timeSpent=0,this._isReadyForClean=!0,this.createLocalizableString("navigationDescription",this,!0)}getType(){return"page"}toString(){return this.name}get isPage(){return!this.isPanel}get isPanel(){return!!this.parent}get showPanelAsPage(){return!0}get hasEditButton(){return this.isPanel&&this.survey&&this.survey.state==="preview"&&!!this.parent&&!this.parent.isPanel}getElementsForRows(){var e;if(!this.isStartPage){const t=(e=this.survey)===null||e===void 0?void 0:e.currentSingleElement;if(t)return t.page===this?[t]:[]}return super.getElementsForRows()}disposeElements(){this.isPageContainer||super.disposeElements()}onRemoveElement(e){this.isPageContainer?(e.parent=null,this.unregisterElementPropertiesChanged(e)):super.onRemoveElement(e)}getTemplate(){return this.isPanel?"panel":super.getTemplate()}get no(){if(!this.canShowPageNumber()||!this.survey)return"";let e=this.isStartPage?"":this.num+". ";return this.survey.getUpdatedPageNo(this,e)}get cssTitleNumber(){return this.isPanel?this.cssClasses.panel.number:this.cssClasses.page.number}getCssTitleExpandableSvg(){return null}get cssRequiredMark(){return""}canShowPageNumber(){return this.survey&&this.survey.showPageNumbers}canShowTitle(e){return!e||e.showPageTitles}setTitleValue(e){super.setTitleValue(e),this.navigationLocStrChanged()}getDefaultTitleTagName(){return oe.titleTags.page}get navigationTitle(){return this.getLocalizableStringText("navigationTitle")}set navigationTitle(e){this.setLocalizableStringText("navigationTitle",e)}get navigationDescription(){return this.getLocalizableStringText("navigationDescription")}set navigationDescription(e){this.setLocalizableStringText("navigationDescription",e)}get locNavigationDescription(){return this.getLocalizableString("navigationDescription")}navigationLocStrChanged(){this.locNavigationTitle.isEmpty&&this.locTitle.strChanged(),this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()}getMarkdownHtml(e,t,n){const r=super.getMarkdownHtml(e,t,n);return t==="navigationTitle"&&this.canShowPageNumber()&&r?this.num+". "+r:r}get passed(){return this.getPropertyValue("passed",!1)}set passed(e){this.setPropertyValue("passed",e)}removeFromParent(){this.survey&&this.removeSelfFromList(this.survey.pages)}get visibleIndex(){return this.getPropertyValue("visibleIndex",-1)}set visibleIndex(e){this.setPropertyValue("visibleIndex",e)}canRenderFirstRows(){return!this.isDesignMode||this.visibleIndex==0}get isStartPage(){return this.survey&&this.survey.isPageStarted(this)}get isStarted(){return this.isStartPage}calcCssClasses(e){if(this.isPanel)return super.calcCssClasses(e);const t={page:{},error:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowReplace:""};return this.copyCssClasses(t.page,e.page),this.copyCssClasses(t.error,e.error),e.pageTitle&&(t.pageTitle=e.pageTitle),e.pageDescription&&(t.pageDescription=e.pageDescription),e.row&&(t.row=e.row),e.pageRow&&(t.pageRow=e.pageRow),e.rowMultiple&&(t.rowMultiple=e.rowMultiple),e.rowCompact&&(t.rowCompact=e.rowCompact),e.rowEnter&&(t.rowEnter=e.rowEnter),e.rowDelayedEnter&&(t.rowDelayedEnter=e.rowDelayedEnter),e.rowLeave&&(t.rowLeave=e.rowLeave),e.rowReplace&&(t.rowReplace=e.rowReplace),this.survey&&this.survey.updatePageCssClasses(this,t),t}getCssPanelTitle(){return this.isPanel?super.getCssPanelTitle():this.cssClasses.page?new Ie().append(this.cssClasses.page.title).toString():""}get cssRoot(){return this.isPanel||!this.cssClasses.page||!this.survey?"":new Ie().append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!this.survey.renderedHasHeader&&!(this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString()}getCssError(e){return this.isPanel?super.getCssError(e):new Ie().append(super.getCssError(e)).append(e.page.errorsContainer).toString()}get navigationButtonsVisibility(){const e=this.showNavigationButtons;return e==null?"inherit":e?"show":"hide"}set navigationButtonsVisibility(e){typeof e=="string"&&(e=e.toLowerCase()),this.showNavigationButtons=e}get showNavigationButtons(){return this.getPropertyValue("showNavigationButtons",void 0)}set showNavigationButtons(e){this.setShowNavigationButtonsProperty(e)}setShowNavigationButtonsProperty(e){e===!0||e===!1?this.setPropertyValue("showNavigationButtons",e):e==="show"?this.setPropertyValue("showNavigationButtons",!0):e==="hide"?this.setPropertyValue("showNavigationButtons",!1):this.setPropertyValue("showNavigationButtons",void 0)}get isActive(){return!!this.survey&&this.survey.currentPage===this}get wasShown(){return this.wasRendered}get hasShown(){return this.wasRendered}setWasShown(e){e||this.resetWasRendered()}onFirstRenderingCore(){var e;if(super.onFirstRenderingCore(),!this.isDesignMode){for(var t=this.elements,n=0;n<t.length;n++)t[n].isPanel&&t[n].randomizeElements(this.areQuestionsRandomized);if(this.randomizeElements(this.areQuestionsRandomized)){const r=(e=this.survey)===null||e===void 0?void 0:e.currentSingleElement;(r==null?void 0:r.page)===this&&(this.survey.currentSingleElement=this.getFirstVisibleElement())}}}scrollToTop(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id,!1,{block:"start"})}getAllPanels(e=!1,t=!1){var n=new Array;return this.addPanelsIntoList(n,e,t),n}getPanels(e=!1,t=!1){return this.getAllPanels(e,t)}get timeLimit(){return this.getPropertyValue("timeLimit",0)}set timeLimit(e){this.setPropertyValue("timeLimit",e)}get maxTimeToFinish(){return this.timeLimit}set maxTimeToFinish(e){this.timeLimit=e}getMaxTimeToFinish(){if(this.timeLimit!==0)return this.timeLimit;const e=this.survey?this.survey.timeLimitPerPage:0;return e>0?e:0}onNumChanged(e){}onVisibleChanged(){this.isRandomizing||(super.onVisibleChanged(),this.survey!=null&&this.survey.pageVisibilityChanged(this,this.isVisible))}ensureRowsVisibility(){super.ensureRowsVisibility(),this.getPanels().forEach(e=>e.ensureRowsVisibility())}get isReadyForClean(){return this._isReadyForClean}set isReadyForClean(e){const t=this._isReadyForClean;this._isReadyForClean=e,this._isReadyForClean!==t&&this.isReadyForCleanChangedCallback&&this.isReadyForCleanChangedCallback()}enableOnElementRerenderedEvent(){super.enableOnElementRerenderedEvent(),this.isReadyForClean=!1}disableOnElementRerenderedEvent(){super.disableOnElementRerenderedEvent(),this.isReadyForClean=!0}}W([G({defaultValue:-1,onSet:(i,e)=>e.onNumChanged(i)})],P5.prototype,"num",void 0);me.addClass("page",[{name:"showNavigationButtons:boolean",defaultFunc:()=>{},onSetValue:function(i,e){i&&i.setShowNavigationButtonsProperty(e)},alternativeName:"navigationButtonsVisibility"},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0,visibleIf:i=>!!i.survey&&i.survey.showTimer},{name:"navigationTitle",serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(i){return!!i.survey&&i.survey.progressBarType==="buttons"},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"state",visible:!1},{name:"isRequired",visible:!1},{name:"startWithNewLine",visible:!1},{name:"width",visible:!1},{name:"minWidth",visible:!1},{name:"maxWidth",visible:!1},{name:"colSpan",visible:!1,isSerializable:!1},{name:"effectiveColSpan:number",visible:!1,isSerializable:!1},{name:"innerIndent",visible:!1},{name:"indent",visible:!1},{name:"page",visible:!1,isSerializable:!1},{name:"showNumber",visible:!1},{name:"showQuestionNumbers",visible:!1},{name:"questionStartIndex",visible:!1},{name:"allowAdaptiveActions",visible:!1},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText",visible:!1}],function(){return new P5},"panel");class KRe extends Ut{constructor(e){super(),this.survey=e,this.onResize=this.addEvent()}isListElementClickable(e){return!this.survey.onServerValidateQuestions||this.survey.onServerValidateQuestions.isEmpty||this.survey.checkErrorsMode==="onComplete"?!0:e<=this.survey.currentPageNo+1}getRootCss(e="center"){let t=this.survey.css.progressButtonsContainerCenter;return this.survey.css.progressButtonsRoot&&(t+=" "+this.survey.css.progressButtonsRoot+" "+this.survey.css.progressButtonsRoot+"--"+(["footer","contentBottom"].indexOf(e)!==-1?"bottom":"top"),t+=" "+this.survey.css.progressButtonsRoot+"--"+(this.showItemTitles?"with-titles":"no-titles")),this.showItemNumbers&&this.survey.css.progressButtonsNumbered&&(t+=" "+this.survey.css.progressButtonsNumbered),this.isFitToSurveyWidth&&(t+=" "+this.survey.css.progressButtonsFitSurveyWidth),t}getListElementCss(e){if(!(e>=this.survey.visiblePages.length))return new Ie().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[e].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===e).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(e)).toString()}getScrollButtonCss(e,t){return new Ie().append(this.survey.css.progressButtonsImageButtonLeft,t).append(this.survey.css.progressButtonsImageButtonRight,!t).append(this.survey.css.progressButtonsImageButtonHidden,!e).toString()}clickListElement(e){e instanceof P5||(e=this.survey.visiblePages[e]),this.survey.tryNavigateToPage(e)}isListContainerHasScroller(e){const t=e.querySelector("."+this.survey.css.progressButtonsListContainer);return t?t.scrollWidth>t.offsetWidth:!1}isCanShowItemTitles(e){const t=e.querySelector("ul");if(!t||t.children.length<2)return!0;if(t.clientWidth>t.parentElement.clientWidth)return!1;const n=t.children[0].clientWidth;for(let r=0;r<t.children.length;r++)if(Math.abs(t.children[r].clientWidth-n)>5)return!1;return!0}clearConnectorsWidth(e){const t=e.querySelectorAll(".sd-progress-buttons__connector");for(let n=0;n<t.length;n++)t[n].style.width=""}adjustConnectors(e){const t=e.querySelector("ul");if(!t)return;const n=e.querySelectorAll(".sd-progress-buttons__connector"),r=this.showItemNumbers?36:20,s=(t.clientWidth-r)/(t.children.length-1)-r;for(let o=0;o<n.length;o++)n[o].style.width=s+"px"}get isFitToSurveyWidth(){return mf.currentType!=="default"?!1:this.survey.progressBarInheritWidthFrom==="survey"&&this.survey.widthMode=="static"}get progressWidth(){return this.isFitToSurveyWidth?this.survey.renderedWidth:""}get showItemNumbers(){return mf.currentType!=="default"?!1:this.survey.progressBarShowPageNumbers}get showItemTitles(){return mf.currentType!=="default"?!0:this.survey.progressBarShowPageTitles}getItemNumber(e){let t="";return this.showItemNumbers&&(t+=this.survey.visiblePages.indexOf(e)+1),t}get headerText(){return this.survey.currentPage?this.survey.currentPage.renderedNavigationTitle:""}get footerText(){return this.progressText}get progressText(){return this.getPropertyValue("progressText",void 0,()=>this.survey.getProgressText())}get progressBarAriaLabel(){return ur("progressbar",this.survey.getLocale())}resetProgressText(){this.resetPropertyValue("progressText")}processResponsiveness(e){this.onResize.fire(this,{width:e})}}class JRe{constructor(e,t,n){this.model=e,this.element=t,this.viewModel=n,this.criticalProperties=["progressBarType","progressBarShowPageTitles"],this.canShowItemTitles=!0,this.processResponsiveness=(r,s)=>{if(this.viewModel.onUpdateScroller(r.isListContainerHasScroller(this.element)),this.model.clearConnectorsWidth(this.element),!r.showItemTitles){this.model.adjustConnectors(this.element);return}if(r.survey.isMobile){this.prevWidth=s.width,this.canShowItemTitles=!1,this.model.adjustConnectors(this.element),this.viewModel.onResize(this.canShowItemTitles);return}this.timer!==void 0&&clearTimeout(this.timer),this.timer=setTimeout(()=>{(this.prevWidth===void 0||this.prevWidth<s.width&&!this.canShowItemTitles||this.prevWidth>s.width&&this.canShowItemTitles)&&(this.prevWidth=s.width,this.canShowItemTitles=r.isCanShowItemTitles(this.element),this.viewModel.onResize(this.canShowItemTitles),this.timer=void 0)},10)},this.model.survey.registerFunctionOnPropertiesValueChanged(this.criticalProperties,()=>this.forceUpdate(),"ProgressButtonsResponsivityManager"+this.viewModel.container),this.model.onResize.add(this.processResponsiveness),this.forceUpdate()}forceUpdate(){this.viewModel.onUpdateSettings(),this.processResponsiveness(this.model,{})}dispose(){clearTimeout(this.timer),this.model.onResize.remove(this.processResponsiveness),this.model.survey.unRegisterFunctionOnPropertiesValueChanged(this.criticalProperties,"ProgressButtonsResponsivityManager"+this.viewModel.container),this.element=void 0,this.model=void 0}}function YRe(i,e){return i.isDesignMode||e.focusFirstQuestion(),!0}function Z$(i){if(i.parentQuestion)return Z$(i.parentQuestion);let e=i.parent;for(;e&&e.getType()!=="page"&&e.parent;)e=e.parent;return e&&e.getType()==="page"?e:null}function ZRe(i,e){var t=zV(i,e);const n={items:t,searchEnabled:!1,locOwner:i,listRole:"menu",listItemRole:"menuitemradio",listAriaLabel:ur("toc",i.getLocale())};var r=new Ni(n);r.allowSelection=!1;const s=(a,l)=>{r.selectedItem=!!a&&r.actions.filter(u=>u.id===a.name)[0]||l};s(i.currentPage,t[0]),i.onCurrentPageChanged.add((a,l)=>{s(i.currentPage)}),i.onFocusInQuestion.add((a,l)=>{s(Z$(l.question))});const o=()=>{r.setItems(zV(i,e))};return i.registerFunctionOnPropertyValueChanged("pages",o,"toc"),i.onEndLoadingFromJson.add(o),r}function zV(i,e){var n=(i.pages||[]).map(r=>new Xt({id:r.name,locTitle:r.locNavigationTitle,action:()=>{if(St.activeElementBlur(),e&&e(),r.isPage)return i.tryNavigateToPage(r);if(r.isPanel)return YRe(i,r)},visible:new Un(()=>r.isVisible&&!r.isStartPage)}));return n}function XRe(i,e=!1){let t=xo.RootStyle;return e?t+" "+xo.RootStyle+"--mobile":(t+=" "+xo.RootStyle+"--"+(i.tocLocation||"").toLowerCase(),xo.StickyPosition&&(t+=" "+xo.RootStyle+"--sticky"),t)}class xo{constructor(e){this.survey=e,this.icon="icon-navmenu_24x24",this.togglePopup=()=>{this.popupModel.toggleVisibility()},this.listModel=ZRe(e,()=>{this.popupModel.isVisible=!1}),this.popupModel=new Qr("sv-list",{model:this.listModel}),this.popupModel.overlayDisplayMode="tablet-dropdown-overlay",this.popupModel.displayMode=new Un(()=>this.isMobile?"overlay":"popup"),xo.StickyPosition&&(e.onAfterRenderSurvey.add((t,n)=>this.initStickyTOCSubscriptions(n.htmlElement)),this.initStickyTOCSubscriptions(e.rootElement))}initStickyTOCSubscriptions(e){xo.StickyPosition&&e&&(e.addEventListener("scroll",t=>{this.updateStickyTOCSize(e)}),this.updateStickyTOCSize(e))}updateStickyTOCSize(e){if(!e)return;const t=e.querySelector("."+xo.RootStyle);if(t&&(t.style.height="",!this.isMobile&&xo.StickyPosition&&e)){const n=e.getBoundingClientRect().height,r=this.survey.findLayoutElement("advanced-header"),s=r&&r.data;let o=!s||s.hasBackground;const a=this.survey.headerView==="advanced"?".sv-header":".sv_custom_header+div div."+(this.survey.css.title||"sd-title"),l=e.querySelector(a),u=l&&o?l.getBoundingClientRect().height:0,c=e.querySelector(".sv-scroll__scroller")||e,h=c.scrollTop>u?0:u-c.scrollTop;t.style.height=n-h-1+"px"}}get isMobile(){return this.survey.isMobile}get containerCss(){return XRe(this.survey,this.isMobile)}dispose(){const[e]=this.survey.unRegisterFunctionOnPropertyValueChanged("pages","toc");this.survey.onEndLoadingFromJson.remove(e),this.survey.onPageAdded.remove(e),this.popupModel.dispose(),this.listModel.dispose()}}xo.RootStyle="sv_progress-toc";xo.StickyPosition=!0;class e4e extends xh{constructor(e,t,n){super(),this.survey=e,this.valuesHash=t,this.variablesHash=n}getValue(e,t,n,r){if(e.length===1){const o=e[0].name;let a=this.getBuiltInVariableValue(o);if(o==="locale"&&(a=this.survey.locale||To.defaultLocale),a!==void 0)return{value:a,isFound:!0}}let s=new Oo(this.variablesHash).getValue(e,t,n,r);return s&&s.isFound||(s=super.getValue(e,t,n,r),s&&s.isFound)?s:new Oo(this.valuesHash).getValue(e,t,n,r)}updateValueByItem(e,t){e=e.toLowerCase();const n=oe.expressionVariables.unwrapPostfix,r=e.endsWith(n);r&&(e=e.substring(0,e.length-n.length));const s=this.survey.getQuestionByValueName(e,!0);s&&(t.isFound=!0,t.context=s.getValueGetterContext(r))}isSearchNameRevert(){return!0}getBuiltInVariableValue(e){const t=this.survey;if(e=e.toLocaleLowerCase(),e==="pageno"){var n=t.currentPage;return n!=null?t.visiblePages.indexOf(n)+1:0}if(e==="pagecount")return t.visiblePageCount;if(e==="correctedanswers"||e==="correctanswers"||e==="correctedanswercount")return t.getCorrectedAnswerCount();if(e==="incorrectedanswers"||e==="incorrectanswers"||e==="incorrectedanswercount")return t.getInCorrectedAnswerCount();if(e==="questioncount")return t.getQuizQuestionCount()}}class gn extends BC{get platformName(){return gn.platform}get commentSuffix(){return oe.commentSuffix}set commentSuffix(e){oe.commentSuffix=e}get commentPrefix(){return this.commentSuffix}set commentPrefix(e){this.commentSuffix=e}constructor(e=null,t=null){super(),this.valuesHash={},this.variablesHash={},this.onEndLoadingFromJson=this.addEvent(),this.onTriggerExecuted=this.addEvent(),this.onCompleting=this.addEvent(),this.onComplete=this.addEvent(),this.onShowingPreview=this.addEvent(),this.onNavigateToUrl=this.addEvent(),this.onStarted=this.addEvent(),this.onPartialSend=this.addEvent(),this.onCurrentPageChanging=this.addEvent(),this.onCurrentPageChanged=this.addEvent(),this.onValueChanging=this.addEvent(),this.onValueChanged=this.addEvent(),this.onVariableChanged=this.addEvent(),this.onQuestionVisibleChanged=this.addEvent(),this.onVisibleChanged=this.onQuestionVisibleChanged,this.onPageVisibleChanged=this.addEvent(),this.onPanelVisibleChanged=this.addEvent(),this.onQuestionCreated=this.addEvent(),this.onQuestionAdded=this.addEvent(),this.onQuestionRemoved=this.addEvent(),this.onPanelAdded=this.addEvent(),this.onPanelRemoved=this.addEvent(),this.onPageAdded=this.addEvent(),this.onValidateQuestion=this.addEvent(),this.onSettingQuestionErrors=this.addEvent(),this.onServerValidateQuestions=this.addEvent(),this.onValidatePanel=this.addEvent(),this.onErrorCustomText=this.addEvent(),this.onValidatePage=this.addEvent(),this.onValidatedErrorsOnCurrentPage=this.onValidatePage,this.onProcessHtml=this.addEvent(),this.onGetQuestionDisplayValue=this.addEvent(),this.onGetQuestionTitle=this.addEvent(),this.onGetTitleTagName=this.addEvent(),this.onGetQuestionNumber=this.addEvent(),this.onGetQuestionNo=this.onGetQuestionNumber,this.onGetPanelNumber=this.addEvent(),this.onGetPageNumber=this.addEvent(),this.onGetProgressText=this.addEvent(),this.onProgressText=this.onGetProgressText,this.onTextMarkdown=this.addEvent(),this.onTextRenderAs=this.addEvent(),this.onSendResult=this.addEvent(),this.onGetResult=this.addEvent(),this.onOpenFileChooser=this.addEvent(),this.onUploadFiles=this.addEvent(),this.onDownloadFile=this.addEvent(),this.onClearFiles=this.addEvent(),this.onChoicesLoaded=this.addEvent(),this.onLoadChoicesFromServer=this.onChoicesLoaded,this.onLoadedSurveyFromService=this.addEvent(),this.onProcessDynamicText=this.addEvent(),this.onProcessTextValue=this.onProcessDynamicText,this.onUpdateQuestionCssClasses=this.addEvent(),this.onUpdatePanelCssClasses=this.addEvent(),this.onUpdatePageCssClasses=this.addEvent(),this.onUpdateChoiceItemCss=this.addEvent(),this.onAfterRenderSurvey=this.addEvent(),this.onAfterRenderHeader=this.addEvent(),this.onAfterRenderPage=this.addEvent(),this.onAfterRenderQuestion=this.addEvent(),this.onAfterRenderQuestionInput=this.addEvent(),this.onAfterRenderPanel=this.addEvent(),this.onFocusInQuestion=this.addEvent(),this.onFocusInPanel=this.addEvent(),this.onShowingChoiceItem=this.addEvent(),this.onChoicesLazyLoad=this.addEvent(),this.onChoicesSearch=this.addEvent(),this.onGetChoiceDisplayValue=this.addEvent(),this.onMatrixRowAdded=this.addEvent(),this.onMatrixRowAdding=this.addEvent(),this.onMatrixBeforeRowAdded=this.onMatrixRowAdding,this.onMatrixRowRemoving=this.addEvent(),this.onMatrixRowRemoved=this.addEvent(),this.onMatrixRenderRemoveButton=this.addEvent(),this.onMatrixAllowRemoveRow=this.onMatrixRenderRemoveButton,this.onMatrixDetailPanelVisibleChanged=this.addEvent(),this.onMatrixCellCreating=this.addEvent(),this.onMatrixCellCreated=this.addEvent(),this.onAfterRenderMatrixCell=this.addEvent(),this.onMatrixAfterCellRender=this.onAfterRenderMatrixCell,this.onMatrixCellValueChanged=this.addEvent(),this.onMatrixCellValueChanging=this.addEvent(),this.onMatrixCellValidate=this.addEvent(),this.onMatrixColumnAdded=this.addEvent(),this.onMultipleTextItemAdded=this.addEvent(),this.onDynamicPanelAdded=this.addEvent(),this.onDynamicPanelRemoved=this.addEvent(),this.onDynamicPanelRemoving=this.addEvent(),this.onTimerTick=this.addEvent(),this.onTimer=this.onTimerTick,this.onTimerPanelInfoText=this.addEvent(),this.onDynamicPanelValueChanged=this.addEvent(),this.onDynamicPanelItemValueChanged=this.onDynamicPanelValueChanged,this.onDynamicPanelValueChanging=this.addEvent(),this.onGetDynamicPanelTabTitle=this.addEvent(),this.onDynamicPanelCurrentIndexChanged=this.addEvent(),this.onCheckAnswerCorrect=this.addEvent(),this.onIsAnswerCorrect=this.onCheckAnswerCorrect,this.onDragDropAllow=this.addEvent(),this.onMatrixRowDragOver=this.addEvent(),this.onScrollToTop=this.addEvent(),this.onScrollingElementToTop=this.onScrollToTop,this.onLocaleChangedEvent=this.addEvent(),this.onGetQuestionTitleActions=this.addEvent(),this.onGetPanelTitleActions=this.addEvent(),this.onGetPageTitleActions=this.addEvent(),this.onGetPanelFooterActions=this.addEvent(),this.onGetMatrixRowActions=this.addEvent(),this.onElementContentVisibilityChanged=this.addEvent(),this.onGetExpressionDisplayValue=this.addEvent(),this.onCheckSingleInputPerPageMode=this.addEvent(),this.onPopupVisibleChanged=this.addEvent(),this.onOpenDropdownMenu=this.addEvent(),this.onElementWrapperComponentName=this.addEvent(),this.onElementWrapperComponentData=this.addEvent(),this.onCreateCustomChoiceItem=this.addEvent(),this.jsonErrors=null,this.cssValue=null,this.showHeaderOnCompletePage="auto",this._isLazyRenderingSuspended=!1,this.hideRequiredErrors=!1,this.cssVariables={},this._isMobile=!1,this._isCompact=!1,this.setValueOnExpressionCounter=0,this._isDesignMode=!1,this.validationAllowSwitchPages=!1,this.validationAllowComplete=!1,this.isNavigationButtonPressed=!1,this.mouseDownPage=null,this.isSmoothScrollEnabled=!1,this.onResize=new Na,this.isCurrentPageRendering=!0,this.isCurrentPageRendered=void 0,this.skeletonHeight=void 0,this.isTriggerIsRunning=!1,this.triggerKeys=null,this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes=!1,this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.isEndLoadingFromJson=null,this.nofifyQuesitonHash={},this.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},this.setValueFromTriggerCounter=0,this.isMovingPage=!1,this.needRenderIcons=!0,this.skippedPages=[],this.skeletonComponentName="sv-skeleton",this.taskManager=new Y$,this.questionErrorComponent="sv-question-error",this.onBeforeRunConstructor(),this.createHtmlLocString("completedHtml","completingSurvey"),this.createHtmlLocString("completedBeforeHtml","completingSurveyBefore","completed-before"),this.createHtmlLocString("loadingHtml","loadingSurvey","loading"),this.createLocalizableString("emptySurveyText",this,!0,"emptySurvey"),this.createLocalizableString("logo",this,!1),this.createLocalizableString("startSurveyText",this,!1,!0),this.createLocalizableString("pagePrevText",this,!1,!0),this.createLocalizableString("pageNextText",this,!1,!0),this.createLocalizableString("completeText",this,!1,!0),this.createLocalizableString("previewText",this,!1,!0),this.createLocalizableString("editText",this,!1,!0),this.createLocalizableString("questionTitleTemplate",this,!0),this.timerModelValue=new Mp(this),this.timerModelValue.onTimerTick=n=>{this.doTimer(n)},this.createNewArray("pages",n=>{n.isReadyForCleanChangedCallback&&n.isReadyForCleanChangedCallback(),this.doOnPageAdded(n)},n=>{n.isReadyForClean?this.doOnPageRemoved(n):n.isReadyForCleanChangedCallback=()=>{this.doOnPageRemoved(n),n.isReadyForCleanChangedCallback=void 0}}),this.createNewArray("triggers",n=>{n.setOwner(this)}),this.createNewArray("calculatedValues",n=>{n.setOwner(this)}),this.createNewArray("completedHtmlOnCondition",n=>{n.locOwner=this}),this.createNewArray("navigateToUrlOnCondition",n=>{n.locOwner=this}),this.registerPropertyChangedHandlers(["locale"],()=>{this.onSurveyLocaleChanged()}),this.registerPropertyChangedHandlers(["firstPageIsStartPage"],()=>{this.onFirstPageIsStartedChanged()}),this.registerPropertyChangedHandlers(["readOnly"],()=>{this.onReadOnlyChanged()}),this.registerPropertyChangedHandlers(["progressBarType"],()=>{this.updateProgressText()}),this.registerPropertyChangedHandlers(["questionStartIndex","requiredMark","questionTitlePattern"],()=>{this.resetVisibleIndexes()}),this.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","readOnly","isStartedState","currentPage","isShowingPreview"],()=>{this.updateState()}),this.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],()=>{this.onStateAndCurrentPageChanged()}),this.registerPropertyChangedHandlers(["logo","logoPosition"],()=>{this.resetHasLogo()}),this.registerPropertyChangedHandlers(["backgroundImage"],()=>{this.resetPropertyValue("renderBackgroundImage")}),this.registerPropertyChangedHandlers(["backgroundImage","backgroundOpacity","backgroundImageFit","fitToContainer","backgroundImageAttachment"],()=>{this.resetPropertyValue("backgroundImageStyle")}),this.registerPropertyChangedHandlers(["showPrevButton","showCompleteButton"],()=>{this.updateButtonsVisibility()}),this.onGetQuestionNumber.onCallbacksChanged=()=>{this.resetVisibleIndexes()},this.onGetPanelNumber.onCallbacksChanged=()=>{this.resetVisibleIndexes()},this.onGetProgressText.onCallbacksChanged=()=>{this.updateProgressText()},this.onTextMarkdown.onCallbacksChanged=()=>{this.locStrsChanged()},this.onProcessHtml.onCallbacksChanged=()=>{this.locStrsChanged()},this.onGetQuestionTitle.onCallbacksChanged=()=>{this.locStrsChanged()},this.onUpdatePageCssClasses.onCallbacksChanged=()=>{this.currentPage&&this.currentPage.updateElementCss()},this.onUpdatePanelCssClasses.onCallbacksChanged=()=>{this.currentPage&&this.currentPage.updateElementCss()},this.onUpdateQuestionCssClasses.onCallbacksChanged=()=>{this.currentPage&&this.currentPage.updateElementCss()},this.onShowingChoiceItem.onCallbacksChanged=()=>{this.rebuildQuestionChoices()},this.locTitle.onStringChanged.add(()=>this.resetPropertyValue("titleIsEmpty")),this.onBeforeCreating(),e&&((typeof e=="string"||e instanceof String)&&(e=JSON.parse(e)),e&&e.clientId&&(this.clientId=e.clientId),this.fromJSON(e),this.surveyId&&this.loadSurveyFromService(this.surveyId,this.clientId)),this.onCreating(),t&&this.render(t),this.updateCss(),this.setCalculatedWidthModeUpdater(),this.notifier=new cy(this.css.saveData),this.notifier.addAction(this.createTryAgainAction(),"error"),this.onPopupVisibleChanged.add((n,r)=>{r.visible?this.onScrollCallback=()=>{r.popup.hide()}:this.onScrollCallback=void 0}),this.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:this.timerModel}),this.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",getData:()=>this.progressBar,processResponsiveness:n=>this.progressBar.processResponsiveness&&this.progressBar.processResponsiveness(n)}),this.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:this}),this.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:this}),this.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:this}),this.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:this}),this.addLayoutElement({id:"toc-navigation",component:"sv-navigation-toc",getData:()=>this.tocModel,processResponsiveness:n=>this.tocModel.updateStickyTOCSize(this.rootElement)}),this.layoutElements.push({id:"buttons-navigation",component:"sv-action-bar",getData:()=>this.navigationBar})}get tocModel(){return this.tocModelValue||(this.tocModelValue=new xo(this)),this.tocModelValue}get sjsVersion(){return this.getPropertyValue("sjsVersion")}set sjsVersion(e){this.setPropertyValue("sjsVersion",e)}processClosedPopup(e,t){throw new Error("Method not implemented.")}createTryAgainAction(){return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:()=>{this.isCompleted?this.saveDataOnComplete():this.doComplete()}}}createHtmlLocString(e,t,n){const r=this.createLocalizableString(e,this,!1,t);n&&(r.onGetTextCallback=s=>this.processHtml(s,n))}getType(){return"survey"}onPropertyValueChanged(e,t,n){e==="questionsOnPageMode"&&this.onQuestionsOnPageModeChanged(t)}get pages(){return this.getPropertyValue("pages")}render(e=null){this.renderCallback&&this.renderCallback()}updateSurvey(e,t){for(var n in e)if(!(n=="model"||n=="children"))if(n.indexOf("on")==0&&this[n]&&this[n].add){let r=e[n],s=function(o,a){r(o,a)};this[n].add(s)}else this[n]=e[n];e&&e.data&&this.onValueChanged.add((r,s)=>{e.data[s.name]=s.value})}getCss(){return this.css}updateCompletedPageCss(){this.containerCss=this.css.container,this.completedCss=new Ie().append(this.css.body).append(this.css.completedPage).toString(),this.completedBeforeCss=new Ie().append(this.css.body).append(this.css.completedBeforePage).toString(),this.loadingBodyCss=new Ie().append(this.css.body).append(this.css.bodyLoading).toString()}updateCss(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss(),this.updateWrapperFormCss()}get css(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,mf.getCss())),this.cssValue}set css(e){this.setCss(e)}setCss(e,t=!0){t?this.mergeValues(e,this.css):this.cssValue=e,this.updateElementCss(!1)}get cssTitle(){return this.css.title}get cssNavigationComplete(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)}get cssNavigationPreview(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)}get cssNavigationEdit(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)}get cssNavigationPrev(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)}get cssNavigationStart(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)}get cssNavigationNext(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)}get cssSurveyNavigationButton(){return new Ie().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()}get bodyCss(){return new Ie().append(this.css.body).append(this.css.bodyWithTimer,this.showTimer&&this.state==="running").append(this.css.body+"--"+this.calculatedWidthMode).toString()}get bodyContainerCss(){return this.css.bodyContainer}insertAdvancedHeader(e){e.survey=this,this.layoutElements.push({id:"advanced-header",container:"header",component:"sv-header",index:-100,data:e,processResponsiveness:t=>e.processResponsiveness()})}getNavigationCss(e,t){return new Ie().append(e).append(t).toString()}get lazyRenderEnabled(){return this.lazyRenderEnabledValue===!0}set lazyRenderEnabled(e){if(this.lazyRenderEnabled===e)return;this.lazyRenderEnabledValue=e;const t=this.currentPage;t&&t.updateRows()}get lazyRendering(){return this.lazyRenderEnabled}set lazyRendering(e){this.lazyRenderEnabled=e}get isLazyRendering(){return this.lazyRenderEnabled||oe.lazyRender.enabled}get lazyRenderFirstBatchSize(){return this.lazyRenderFirstBatchSizeValue||oe.lazyRender.firstBatchSize}set lazyRenderFirstBatchSize(e){this.lazyRenderFirstBatchSizeValue=e}get isLazyRenderingSuspended(){return this._isLazyRenderingSuspended}suspendLazyRendering(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!0)}releaseLazyRendering(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!1)}updateLazyRenderingRowsOnRemovingElements(){var e,t;if(this.isLazyRendering){var n=this.currentPage;if(n){const r=(t=this.rootElement||((e=this.creator)===null||e===void 0?void 0:e.rootElement))===null||t===void 0?void 0:t.querySelector(`#${n.id}`);I2(r)}}}get triggers(){return this.getPropertyValue("triggers")}set triggers(e){this.setPropertyValue("triggers",e)}get calculatedValues(){return this.getPropertyValue("calculatedValues")}set calculatedValues(e){this.setPropertyValue("calculatedValues",e)}get surveyId(){return this.getPropertyValue("surveyId","")}set surveyId(e){this.setPropertyValue("surveyId",e)}get surveyPostId(){return this.getPropertyValue("surveyPostId","")}set surveyPostId(e){this.setPropertyValue("surveyPostId",e)}get clientId(){return this.getPropertyValue("clientId","")}set clientId(e){this.setPropertyValue("clientId",e)}get cookieName(){return this.getPropertyValue("cookieName","")}set cookieName(e){this.setPropertyValue("cookieName",e)}get partialSendEnabled(){return this.getPropertyValue("partialSendEnabled")}set partialSendEnabled(e){this.setPropertyValue("partialSendEnabled",e)}get sendResultOnPageNext(){return this.partialSendEnabled}set sendResultOnPageNext(e){this.partialSendEnabled=e}get surveyShowDataSaving(){return this.getPropertyValue("surveyShowDataSaving")}set surveyShowDataSaving(e){this.setPropertyValue("surveyShowDataSaving",e)}get autoFocusFirstQuestion(){return this.getPropertyValue("autoFocusFirstQuestion")}set autoFocusFirstQuestion(e){this.setPropertyValue("autoFocusFirstQuestion",e)}get focusFirstQuestionAutomatic(){return this.autoFocusFirstQuestion}set focusFirstQuestionAutomatic(e){this.autoFocusFirstQuestion=e}get autoFocusFirstError(){return this.getPropertyValue("autoFocusFirstError")}set autoFocusFirstError(e){this.setPropertyValue("autoFocusFirstError",e)}get focusOnFirstError(){return this.autoFocusFirstError}set focusOnFirstError(e){this.autoFocusFirstError=e}get showNavigationButtons(){return this.getPropertyValue("showNavigationButtons")}set showNavigationButtons(e){e===!0||e===!1?this.setPropertyValue("showNavigationButtons",e):e==="none"?this.setPropertyValue("showNavigationButtons",!1):["top","bottom","both","topBottom"].indexOf(e)>-1&&(this.setPropertyValue("showNavigationButtons",!0),this.navigationButtonsLocation=e)}get navigationButtonsLocation(){return this.getPropertyValue("navigationButtonsLocation")}set navigationButtonsLocation(e){this.setPropertyValue("navigationButtonsLocation",e)}get showPrevButton(){return this.getPropertyValue("showPrevButton")}set showPrevButton(e){this.setPropertyValue("showPrevButton",e)}get showCompleteButton(){return this.getPropertyValue("showCompleteButton",!0)}set showCompleteButton(e){this.setPropertyValue("showCompleteButton",e)}get showTOC(){return this.getPropertyValue("showTOC")}set showTOC(e){this.setPropertyValue("showTOC",e)}get tocLocation(){return this.getPropertyValue("tocLocation")}set tocLocation(e){this.setPropertyValue("tocLocation",e)}get showTitle(){return this.getPropertyValue("showTitle")}set showTitle(e){this.setPropertyValue("showTitle",e)}get showPageTitles(){return this.getPropertyValue("showPageTitles")}set showPageTitles(e){this.setPropertyValue("showPageTitles",e)}get showCompletePage(){return this.getPropertyValue("showCompletePage")}set showCompletePage(e){this.setPropertyValue("showCompletePage",e)}get showCompletedPage(){return this.showCompletePage}set showCompletedPage(e){this.showCompletePage=e}get navigateToUrl(){return this.getPropertyValue("navigateToUrl")}set navigateToUrl(e){this.setPropertyValue("navigateToUrl",e)}get navigateToUrlOnCondition(){return this.getPropertyValue("navigateToUrlOnCondition")}set navigateToUrlOnCondition(e){this.setPropertyValue("navigateToUrlOnCondition",e)}getNavigateToUrl(){var e=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),t=e?e.url:this.navigateToUrl;return t&&(t=this.processText(t,!1)),t}navigateTo(){var e=this.getNavigateToUrl(),t={url:e,allow:!0};this.onNavigateToUrl.fire(this,t),!(!t.url||!t.allow)&&WPe(t.url)}get requiredMark(){return this.getPropertyValue("requiredMark")}set requiredMark(e){this.setPropertyValue("requiredMark",e)}get requiredText(){return this.requiredMark}set requiredText(e){this.requiredMark=e}beforeSettingQuestionErrors(e,t){this.makeRequiredErrorsInvisible(t),this.onSettingQuestionErrors.fire(this,{question:e,errors:t})}makeRequiredErrorsInvisible(e){if(this.hideRequiredErrors)for(var t=0;t<e.length;t++){var n=e[t].getErrorType();(n=="required"||n=="requireoneanswer")&&(e[t].visible=!1)}}get questionStartIndex(){return this.getPropertyValue("questionStartIndex","")}set questionStartIndex(e){this.setPropertyValue("questionStartIndex",e)}get storeOthersAsComment(){return this.getPropertyValue("storeOthersAsComment")}set storeOthersAsComment(e){this.setPropertyValue("storeOthersAsComment",e)}get maxTextLength(){return this.getPropertyValue("maxTextLength")}set maxTextLength(e){this.setPropertyValue("maxTextLength",e)}get maxCommentLength(){return this.getPropertyValue("maxCommentLength")}set maxCommentLength(e){this.setPropertyValue("maxCommentLength",e)}get maxOthersLength(){return this.maxCommentLength}set maxOthersLength(e){this.maxCommentLength=e}get autoAdvanceEnabled(){return this.getPropertyValue("autoAdvanceEnabled")}set autoAdvanceEnabled(e){this.setPropertyValue("autoAdvanceEnabled",e)}get goNextPageAutomatic(){return this.autoAdvanceEnabled}set goNextPageAutomatic(e){this.autoAdvanceEnabled=e}get autoAdvanceAllowComplete(){return this.getPropertyValue("autoAdvanceAllowComplete")}set autoAdvanceAllowComplete(e){this.setPropertyValue("autoAdvanceAllowComplete",e)}get allowCompleteSurveyAutomatic(){return this.autoAdvanceAllowComplete}set allowCompleteSurveyAutomatic(e){this.autoAdvanceAllowComplete=e}get checkErrorsMode(){return this.getPropertyValue("checkErrorsMode")}set checkErrorsMode(e){this.setPropertyValue("checkErrorsMode",e)}get validateVisitedEmptyFields(){return this.getPropertyValue("validateVisitedEmptyFields")}set validateVisitedEmptyFields(e){this.setPropertyValue("validateVisitedEmptyFields",e)}getValidateVisitedEmptyFields(){return this.validateVisitedEmptyFields&&this.isValidateOnValueChange}get autoGrowComment(){return this.getPropertyValue("autoGrowComment")}set autoGrowComment(e){this.setPropertyValue("autoGrowComment",e)}get allowResizeComment(){return this.getPropertyValue("allowResizeComment")}set allowResizeComment(e){this.setPropertyValue("allowResizeComment",e)}get commentAreaRows(){return this.getPropertyValue("commentAreaRows")}set commentAreaRows(e){this.setPropertyValue("commentAreaRows",e)}get textUpdateMode(){return this.getPropertyValue("textUpdateMode")}set textUpdateMode(e){this.setPropertyValue("textUpdateMode",e)}get clearInvisibleValues(){return this.getPropertyValue("clearInvisibleValues")}set clearInvisibleValues(e){e===!0&&(e="onComplete"),e===!1&&(e="none"),this.setPropertyValue("clearInvisibleValues",e)}clearIncorrectValues(e=!1){for(var t=0;t<this.pages.length;t++)this.pages[t].clearIncorrectValues();if(e){var n=this.data,r=!1;for(var s in n)if(!this.getQuestionByValueName(s)&&!(this.iscorrectValueWithPostPrefix(s,oe.commentSuffix)||this.iscorrectValueWithPostPrefix(s,oe.matrix.totalsSuffix))){var o=this.getCalculatedValueByName(s);o&&o.includeIntoResult||(r=!0,delete n[s])}r&&(this.data=n)}}iscorrectValueWithPostPrefix(e,t){return e.indexOf(t)!==e.length-t.length?!1:!!this.getQuestionByValueName(e.substring(0,e.indexOf(t)))}get keepIncorrectValues(){return this.getPropertyValue("keepIncorrectValues")}set keepIncorrectValues(e){this.setPropertyValue("keepIncorrectValues",e)}get locale(){return this.getPropertyValueWithoutDefault("locale")||To.currentLocale}set locale(e){e===To.defaultLocale&&!To.currentLocale&&(e=""),this.setPropertyValue("locale",e)}onSurveyLocaleChanged(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)}get localeDir(){return To.localeDirections[this.locale]}getUsedLocales(){var e=new Array;this.addUsedLocales(e);var t=e.indexOf("default");if(t>-1){var n=To.defaultLocale,r=e.indexOf(n);r>-1&&e.splice(r,1),t=e.indexOf("default"),e[t]=n}return e}localeChanged(){for(var e=0;e<this.pages.length;e++)this.pages[e].localeChanged()}getLocale(){return this.locale}locStrsChanged(){if(!this.isClearingUnsedValues&&(super.locStrsChanged(),!!this.currentPage)){if(this.isDesignMode)this.pages.forEach(n=>n.locStrsChanged());else{var e=this.activePage;e&&e.locStrsChanged();const n=this.visiblePages;for(var t=0;t<n.length;t++)n[t].navigationLocStrChanged()}this.isStartPageActive||this.updateProgressText(),this.navigationBarValue&&this.navigationBar.locStrsChanged()}}getMarkdownHtml(e,t,n){return this.getSurveyMarkdownHtml(this,e,t,n)}getRenderer(e){return this.getRendererForString(this,e)}getRendererContext(e){return this.getRendererContextForString(this,e)}getRendererForString(e,t){let n=this.getBuiltInRendererForString(e,t);n=this.elementWrapperComponentNameCore(n,e,"string",t);const r={element:e,name:t,renderAs:n};return this.onTextRenderAs.fire(this,r),r.renderAs}getRendererContextForString(e,t){return this.elementWrapperDataCore(t,e,"string")}getExpressionDisplayValue(e,t,n){const r={question:e,value:t,displayValue:n};return this.onGetExpressionDisplayValue.fire(this,r),r.displayValue}getBuiltInRendererForString(e,t){if(this.isDesignMode)return Ar.editableRenderer}getProcessedText(e){return this.processText(e,!0)}getLocString(e){return this.getLocalizationString(e)}getErrorCustomText(e,t){return this.getSurveyErrorCustomText(this,e,t)}getSurveyErrorCustomText(e,t,n){const r={text:t,name:n.getErrorType(),obj:e,error:n};return this.onErrorCustomText.fire(this,r),r.text}getQuestionDisplayValue(e,t){const n={question:e,displayValue:t};return this.onGetQuestionDisplayValue.fire(this,n),n.displayValue}get emptySurveyText(){return this.getLocalizableStringText("emptySurveyText")}set emptySurveyText(e){this.setLocalizableStringText("emptySurveyText",e)}get logo(){return this.getLocalizableStringText("logo")}set logo(e){this.setLocalizableStringText("logo",e)}get locLogo(){return this.getLocalizableString("logo")}get logoWidth(){return this.getPropertyValue("logoWidth")}set logoWidth(e){this.setPropertyValue("logoWidth",e)}get renderedLogoWidth(){return this.logoWidth?gh(this.logoWidth):void 0}get renderedStyleLogoWidth(){return this.logoWidth?eb(this.logoWidth):void 0}get logoHeight(){return this.getPropertyValue("logoHeight")}set logoHeight(e){this.setPropertyValue("logoHeight",e)}get renderedLogoHeight(){return this.logoHeight?gh(this.logoHeight):void 0}get renderedStyleLogoHeight(){return this.logoHeight?eb(this.logoHeight):void 0}get logoPosition(){return this.getPropertyValue("logoPosition")}set logoPosition(e){this.setPropertyValue("logoPosition",e)}get hasLogo(){return this.getPropertyValue("hasLogo",void 0,()=>!!this.logo&&this.logoPosition!=="none")}resetHasLogo(){this.resetPropertyValue("hasLogo")}get isLogoBefore(){return this.isDesignMode?!1:this.renderedHasLogo&&(this.logoPosition==="left"||this.logoPosition==="top")}get isLogoAfter(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&(this.logoPosition==="right"||this.logoPosition==="bottom")}get logoClassNames(){const e={left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"};return new Ie().append(this.css.logo).append(e[this.logoPosition]).toString()}get titleIsEmpty(){return this.getPropertyValue("titleIsEmpty",void 0,()=>this.locTitle.isEmpty)}get renderedHasTitle(){return this.isDesignMode?this.isPropertyVisible("title"):!this.titleIsEmpty&&this.showTitle}get renderedHasDescription(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription&&this.showTitle}get hasTitle(){return this.renderedHasTitle}get renderedHasLogo(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo}get renderedHasHeader(){return this.renderedHasTitle||this.renderedHasLogo}get logoFit(){return this.getPropertyValue("logoFit")}set logoFit(e){this.setPropertyValue("logoFit",e)}get themeVariables(){return Object.assign({},this.cssVariables)}setIsMobile(e=!0){this._isMobile!==e&&(this._isMobile=e,this.updateCss(),this.getAllQuestions().forEach(t=>t.setIsMobile(e)))}get isMobile(){return this._isMobile&&!this.isDesignMode}set isCompact(e){e!==this._isCompact&&(this._isCompact=e,this.updateElementCss(),this.triggerResponsiveness(!0))}get isCompact(){return this._isCompact}isLogoImageChoosen(){return this.locLogo.renderedHtml}get titleMaxWidth(){return""}get renderBackgroundImage(){return this.getPropertyValue("renderBackgroundImage",void 0,()=>w5(this.backgroundImage))}get backgroundOpacity(){return this.getPropertyValue("backgroundOpacity")}set backgroundOpacity(e){this.setPropertyValue("backgroundOpacity",e)}get backgroundImageStyle(){return this.getPropertyValue("backgroundImageStyle",void 0,()=>this.calcBackgroundImageStyle())}calcBackgroundImageStyle(){return{opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.fitToContainer?void 0:this.backgroundImageAttachment}}updateWrapperFormCss(){this.wrapperFormCss=new Ie().append(this.css.rootWrapper).append(this.css.rootWrapperHasImage,!!this.backgroundImage).append(this.css.rootWrapperFixed,!this.formScrollDisabled).toString()}get completedHtml(){return this.getLocalizableStringText("completedHtml")}set completedHtml(e){this.setLocalizableStringText("completedHtml",e)}get locCompletedHtml(){return this.getLocalizableString("completedHtml")}get completedHtmlOnCondition(){return this.getPropertyValue("completedHtmlOnCondition")}set completedHtmlOnCondition(e){this.setPropertyValue("completedHtmlOnCondition",e)}runExpression(e,t){if(!e)return null;var n=this.getFilteredProperties();const r=this.createExpressionRunner(e);let s;return r.onRunComplete=o=>{s=o,t&&t(o)},r.runContext(this.getValueGetterContext(),n)||s}get isSettingValueOnExpression(){return this.setValueOnExpressionCounter>0}startSetValueOnExpression(){this.setValueOnExpressionCounter++}finishSetValueOnExpression(){this.setValueOnExpressionCounter--}runCondition(e){if(!e)return!1;const t=this.getFilteredProperties();return new Do(e).runContext(this.getValueGetterContext(),t)}runTriggers(){this.checkTriggers(this.getFilteredValues(),!1)}get renderedCompletedHtml(){var e=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return e?e.html:this.completedHtml}getExpressionItemOnRunCondition(e){if(e.length==0)return null;for(var t=this.getFilteredProperties(),n=0;n<e.length;n++)if(e[n].runCondition(t))return e[n];return null}get completedBeforeHtml(){return this.getLocalizableStringText("completedBeforeHtml")}set completedBeforeHtml(e){this.setLocalizableStringText("completedBeforeHtml",e)}get locCompletedBeforeHtml(){return this.getLocalizableString("completedBeforeHtml")}get loadingHtml(){return this.getLocalizableStringText("loadingHtml")}set loadingHtml(e){this.setLocalizableStringText("loadingHtml",e)}get locLoadingHtml(){return this.getLocalizableString("loadingHtml")}get navigationBar(){return this.navigationBarValue||(this.navigationBarValue=this.createNavigationBar(),this.updateNavigationCss()),this.navigationBarValue}addNavigationItem(e){return e.component||(e.component="sv-nav-btn"),e.innerCss||(e.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(e)}removeNavigationItem(e){const t=this.navigationBar.getActionById(e);if(t){const n=this.navigationBar.actions;n.splice(n.indexOf(t),1)}}get startSurveyText(){return this.getLocalizableStringText("startSurveyText")}set startSurveyText(e){this.setLocalizableStringText("startSurveyText",e)}get locStartSurveyText(){return this.getLocalizableString("startSurveyText")}get pagePrevText(){return this.getLocalizableStringText("pagePrevText")}set pagePrevText(e){this.setLocalizableStringText("pagePrevText",e)}get locPagePrevText(){return this.getLocalizableString("pagePrevText")}get pageNextText(){return this.getLocalizableStringText("pageNextText")}set pageNextText(e){this.setLocalizableStringText("pageNextText",e)}get locPageNextText(){return this.getLocalizableString("pageNextText")}get completeText(){return this.getLocalizableStringText("completeText")}set completeText(e){this.setLocalizableStringText("completeText",e)}get locCompleteText(){return this.getLocalizableString("completeText")}get previewText(){return this.getLocalizableStringText("previewText")}set previewText(e){this.setLocalizableStringText("previewText",e)}get locPreviewText(){return this.getLocalizableString("previewText")}get editText(){return this.getLocalizableStringText("editText")}set editText(e){this.setLocalizableStringText("editText",e)}get locEditText(){return this.getLocalizableString("editText")}getElementTitleTagName(e,t){if(this.onGetTitleTagName.isEmpty)return t;const n={element:e,tagName:t};return this.onGetTitleTagName.fire(this,n),n.tagName}get questionTitlePattern(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")}set questionTitlePattern(e){e!=="numRequireTitle"&&e!=="requireNumTitle"&&e!="numTitle"&&(e="numTitleRequire"),this.setPropertyValue("questionTitlePattern",e)}getQuestionTitlePatternOptions(){const e=new Array,t=this.getLocalizationString("questionTitlePatternText"),n=this.questionStartIndex?this.questionStartIndex:"1.";return e.push({value:"numTitleRequire",text:n+" "+t+" "+this.requiredMark}),e.push({value:"numRequireTitle",text:n+" "+this.requiredMark+" "+t}),e.push({value:"numTitle",text:n+" "+t}),e}get questionTitleTemplate(){return this.getLocalizableStringText("questionTitleTemplate")}set questionTitleTemplate(e){this.setLocalizableStringText("questionTitleTemplate",e),this.questionTitlePattern=this.getNewTitlePattern(e),this.questionStartIndex=this.getNewQuestionTitleElement(e,"no",this.questionStartIndex,"1"),this.requiredMark=this.getNewQuestionTitleElement(e,"require",this.requiredMark,"*")}getNewTitlePattern(e){if(e){for(var t=[];e.indexOf("{")>-1;){e=e.substring(e.indexOf("{")+1);var n=e.indexOf("}");if(n<0)break;t.push(e.substring(0,n)),e=e.substring(n+1)}if(t.length>1){if(t[0]=="require")return"requireNumTitle";if(t[1]=="require"&&t.length==3)return"numRequireTitle";if(t.indexOf("require")<0)return"numTitle"}if(t.length==1&&t[0]=="title")return"numTitle"}return"numTitleRequire"}getNewQuestionTitleElement(e,t,n,r){if(t="{"+t+"}",!e||e.indexOf(t)<0)return n;for(var s=e.indexOf(t),o="",a="",l=s-1;l>=0&&e[l]!="}";l--);for(l<s-1&&(o=e.substring(l+1,s)),s+=t.length,l=s;l<e.length&&e[l]!="{";l++);for(l>s&&(a=e.substring(s,l)),l=0;l<o.length&&o.charCodeAt(l)<33;)l++;for(o=o.substring(l),l=a.length-1;l>=0&&a.charCodeAt(l)<33;)l--;if(a=a.substring(0,l+1),!o&&!a)return n;var u=n||r;return o+u+a}get locQuestionTitleTemplate(){return this.getLocalizableString("questionTitleTemplate")}getUpdatedQuestionTitle(e,t){if(this.onGetQuestionTitle.isEmpty)return t;const n={question:e,title:t};return this.onGetQuestionTitle.fire(this,n),n.title}getUpdatedQuestionNo(e,t){if(this.onGetQuestionNumber.isEmpty)return t;const n={question:e,number:t,no:t};return this.onGetQuestionNumber.fire(this,n),n.no===t?n.number:n.no}getUpdatedPanelNo(e,t){if(this.onGetPanelNumber.isEmpty)return t;const n={panel:e,number:t};return this.onGetPanelNumber.fire(this,n),n.number}getUpdatedPageNo(e,t){if(this.onGetPageNumber.isEmpty)return t;const n={page:e,number:t};return this.onGetPageNumber.fire(this,n),n.number}get showPageNumbers(){return this.getPropertyValue("showPageNumbers")}set showPageNumbers(e){e!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",e),this.updateVisibleIndexes())}get showQuestionNumbers(){return this.getPropertyValue("showQuestionNumbers")}set showQuestionNumbers(e){e===!0&&(e="on"),e===!1&&(e="off"),e=e.toLowerCase(),e=e==="onpage"?"onPage":e,e!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",e),this.updateVisibleIndexes())}get progressBar(){return this.progressBarValue||(this.progressBarValue=new KRe(this)),this.progressBarValue}get showProgressBar(){return this.getPropertyValue("showProgressBar")}set showProgressBar(e){this.setShowProgressBar(e)}setShowProgressBar(e){e==="off"&&(e=!1),e===!0||e===!1?this.setPropertyValue("showProgressBar",e):(this.setPropertyValue("showProgressBar",!0),this.progressBarLocation=e)}get progressBarLocation(){return this.getPropertyValue("progressBarLocation")}set progressBarLocation(e){this.setPropertyValue("progressBarLocation",e.toLowerCase())}get progressBarType(){return this.getPropertyValue("progressBarType")}set progressBarType(e){e==="correctquestion"&&(e="correctQuestion"),e==="requiredquestion"&&(e="requiredQuestion"),this.setPropertyValue("progressBarType",e)}get progressBarComponentName(){let e=this.progressBarType;return!oe.legacyProgressBarView&&mf.currentType==="default"&&rc(e,"pages")&&(e="buttons"),"progress-"+e}get isShowProgressBarOnTop(){return!this.canShowProgressBar()||!this.showProgressBar?!1:["auto","aboveheader","belowheader","topbottom","top","both"].indexOf(this.progressBarLocation)!==-1}get isShowProgressBarOnBottom(){return!this.canShowProgressBar()||!this.showProgressBar?!1:this.progressBarLocation==="bottom"||this.progressBarLocation==="both"||this.progressBarLocation==="topbottom"}getProgressTypeComponent(){return"sv-progress-"+this.progressBarType.toLowerCase()}getProgressCssClasses(e=""){return new Ie().append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop&&(!e||e=="header")).append(this.css.progressBottom,this.isShowProgressBarOnBottom&&(!e||e=="footer")).toString()}canShowProgressBar(){return!this.isShowingPreview||!this.showPreviewBeforeComplete||this.previewMode!="allQuestions"}get processedTitle(){return this.locTitle.renderedHtml}get questionTitleLocation(){return this.getPropertyValue("questionTitleLocation")}set questionTitleLocation(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)}updateElementCss(e){this.startPage&&this.startPage.updateElementCss(e);for(var t=this.visiblePages,n=0;n<t.length;n++)t[n].updateElementCss(e);this.updateCss()}get questionErrorLocation(){return this.getPropertyValue("questionErrorLocation")}set questionErrorLocation(e){this.setPropertyValue("questionErrorLocation",e.toLowerCase())}get questionDescriptionLocation(){return this.getPropertyValue("questionDescriptionLocation")}set questionDescriptionLocation(e){this.setPropertyValue("questionDescriptionLocation",e)}get mode(){return this.readOnly?"display":"edit"}set mode(e){e=e.toLowerCase(),e!=this.mode&&(e!="edit"&&e!="display"||(this.readOnly=e=="display"))}get readOnly(){return this.getPropertyValue("readOnly")}set readOnly(e){this.setPropertyValue("readOnly",e)}onReadOnlyChanged(){for(var e=0;e<this.pages.length;e++){var t=this.pages[e];t.setPropertyValue("isReadOnly",t.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()}get data(){for(var e={},t=this.getValuesKeys(),n=0;n<t.length;n++){var r=t[n],s=this.getDataValueCore(this.valuesHash,r);s!==void 0&&(e[r]=s)}return this.setCalculatedValuesIntoResult(e),e}set data(e){this.valuesHash={},this.setDataCore(e,!e)}mergeData(e){if(!e)return;const t=this.data;this.mergeValues(e,t),this.setDataCore(t)}setDataCore(e,t=!1){if(t&&(this.valuesHash={}),e)for(var n in e){const r=typeof n=="string"?n.trim():n;this.setDataValueCore(this.valuesHash,r,e[n])}this.updateAllQuestionsValue(t),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue(t)}get isSurvey(){return!0}getData(e){const t=e||{includePages:!1,includePanels:!1};return!t.includePages&&!t.includePanels?this.data:this.getStructuredData(!!t.includePages,t.includePanels?-1:t.includePages?1:0)}getStructuredData(e=!0,t=-1){if(t===0)return this.data;const n={};return this.pages.forEach(r=>{if(e){const s={};r.collectValues(s,t-1)&&(n[r.name]=s)}else r.collectValues(n,t)}),n}setStructuredData(e,t=!1){if(!e)return;const n={};for(let r in e)if(this.getQuestionByValueName(r))n[r]=e[r];else{let o=this.getPageByName(r);o||(o=this.getPanelByName(r)),o&&this.collectDataFromPanel(o,n,e[r])}t?this.mergeData(n):this.data=n}collectDataFromPanel(e,t,n){for(let r in n){let s=e.getElementByName(r);s&&(s.isPanel?this.collectDataFromPanel(s,t,n[r]):t[r]=n[r])}}get editingObj(){return this.editingObjValue}set editingObj(e){if(this.editingObj!=e&&(this.unConnectEditingObj(),this.editingObjValue=e,!this.isDisposed)){if(!e)for(var t=this.getAllQuestions(),n=0;n<t.length;n++)t[n].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=(r,s)=>{me.hasOriginalProperty(this.editingObj,s.name)&&(s.name==="locale"&&this.setDataCore({}),this.updateOnSetValue(s.name,this.editingObj[s.name],s.oldValue))},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}}unConnectEditingObj(){this.editingObj&&!this.editingObj.isDisposed&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged)}get isEditingSurveyElement(){return!!this.editingObj}setCalculatedValuesIntoResult(e){for(var t=0;t<this.calculatedValues.length;t++){var n=this.calculatedValues[t];n.includeIntoResult&&n.name&&this.getVariable(n.name)!==void 0&&(e[n.name]=this.getVariable(n.name))}}getAllValues(){return this.data}getPlainData(e){e||(e={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});const t=[],n=[];if(this.getAllQuestions().forEach(a=>{var l=a.getPlainData(e);l&&(t.push(l),n.push(a.valueName||a.name))}),e.includeValues){const a=this.getValuesKeys();for(var r=0;r<a.length;r++){var s=a[r];if(n.indexOf(s)==-1){var o=this.getDataValueCore(this.valuesHash,s);o&&t.push({name:s,title:s,value:o,displayValue:o,isNode:!1,getString:l=>typeof l=="object"?JSON.stringify(l):l})}}}return t}getFilteredValues(){const e={};for(var t in this.variablesHash)e[t]=this.variablesHash[t];if(this.addCalculatedValuesIntoFilteredValues(e),!this.isDesignMode){const r=this.getValuesKeys();for(var n=0;n<r.length;n++){var t=r[n];e[t]=this.getDataValueCore(this.valuesHash,t)}this.getAllQuestions().forEach(s=>{s.hasFilteredValue&&(e[s.getFilteredName()]=s.getFilteredValue(!0))})}return e}addCalculatedValuesIntoFilteredValues(e){for(var t=this.calculatedValues,n=0;n<t.length;n++)e[t[n].name]=t[n].value}getFilteredProperties(){return{survey:this}}getValuesKeys(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var e=me.getPropertiesByObj(this.editingObj),t=[],n=0;n<e.length;n++)t.push(e[n].name);return t}getDataValueCore(e,t){return this.editingObj?me.getObjPropertyValue(this.editingObj,t):this.getDataFromValueHash(e,t)}setDataValueCore(e,t,n){this.editingObj?me.setObjPropertyValue(this.editingObj,t,n):this.setDataToValueHash(e,t,n)}deleteDataValueCore(e,t){this.editingObj?this.editingObj[t]=null:this.deleteDataFromValueHash(e,t)}getDataFromValueHash(e,t){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(e,t):e[t]}setDataToValueHash(e,t,n){this.valueHashSetDataCallback?this.valueHashSetDataCallback(e,t,n):e[t]=n}deleteDataFromValueHash(e,t){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(e,t):delete e[t]}get comments(){for(var e={},t=this.getValuesKeys(),n=0;n<t.length;n++){var r=t[n];r.indexOf(this.commentSuffix)>0&&(e[r]=this.getDataValueCore(this.valuesHash,r))}return e}get visiblePages(){if(this.isDesignMode)return this.pages;if(this.pageContainerValue&&(this.isShowingPreview||this.isSinglePage))return[this.pageContainerValue];for(var e=new Array,t=0;t<this.pages.length;t++)this.isPageInVisibleList(this.pages[t])&&e.push(this.pages[t]);return e}isPageInVisibleList(e){return this.isDesignMode||e.isVisible&&!e.isStartPage}get isEmpty(){return this.pages.length==0}get PageCount(){return this.pageCount}get pageCount(){return this.pages.length}get visiblePageCount(){return this.visiblePages.length}get startPage(){var e=this.firstPageIsStartPage&&this.pages.length>1?this.pages[0]:null;return e&&e.onFirstRendering(),e}get startedPage(){return this.startPage}get currentPage(){return this.getPropertyValue("currentPage",null)}set currentPage(e){if(this.isLoadingFromJson)return;var t=this.getPageByObject(e);if(e&&!t||!t&&this.isCurrentPageAvailable)return;var n=this.visiblePages;if(t!=null&&n.indexOf(t)<0||t==this.currentPage)return;const r=this.currentSingleElement;if(!this.isShowingPreview&&r&&t!==r.page){this.currentSingleElement=t.getFirstVisibleElement();return}var s=this.currentPage;!this.isShowingPreview&&!r&&!this.currentPageChanging(t,s)||(this.setPropertyValue("currentPage",t),t&&(t.onFirstRendering(),t.updateCustomWidgets()),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(t,s))}get currentElementName(){var e;return((e=this.currentElement)===null||e===void 0?void 0:e.name)||""}set currentElementName(e){e&&(this.currentElement=this.getElementByName(e))}get currentElement(){return this.currentSingleElement||this.currentPage}set currentElement(e){if(e)if(e.isPage)this.currentPage=e;else{const t=e.page;t&&!this.isSingleVisibleQuestion?this.currentPage=t:this.currentSingleElement=e}}getElementByName(e){return e?this.getPageByName(e)||this.getPanelByName(e)||this.getQuestionByName(e):null}tryNavigateToPage(e){if(!this.performValidationOnPageChanging(e))return!1;const n=this.visiblePages.indexOf(e)<this.currentPageNo||!this.doServerValidation(!1,!1,e);return n&&(this.currentPage=e),n}performValidationOnPageChanging(e){if(this.isDesignMode)return!1;if(this.canGoTroughValidation())return!0;const t=this.visiblePages.indexOf(e);if(t<0||t>=this.visiblePageCount||t===this.currentPageNo)return!1;if(t<this.currentPageNo||this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages)return!0;if(!this.validateCurrentPage())return!1;for(let n=this.currentPageNo+1;n<t;n++){const r=this.visiblePages[n];if(!r.validate(!0,!0))return!1;r.passed=!0}return!0}updateCurrentPage(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)}get isCurrentPageAvailable(){const e=this.currentPage;return!!e&&this.isPageInVisibleList(e)&&this.isPageExistsInSurvey(e)}isPageExistsInSurvey(e){return this.pages.indexOf(e)>-1?!0:!!this.onContainsPageCallback&&this.onContainsPageCallback(e)}get activePage(){return this.getPropertyValue("activePage")}get isStartPageActive(){return this.state==="starting"}get isShowStartingPage(){return this.isStartPageActive}get matrixDragHandleArea(){return this.getPropertyValue("matrixDragHandleArea","entireItem")}set matrixDragHandleArea(e){this.setPropertyValue("matrixDragHandleArea",e)}get isShowingPage(){return this.state=="running"||this.state=="preview"||this.isStartPageActive}updateActivePage(){const e=this.isStartPageActive?this.startPage:this.currentPage;e!==this.activePage&&this.setPropertyValue("activePage",e)}onStateAndCurrentPageChanged(){this.updateActivePage(),this.updateButtonsVisibility()}getPageByObject(e){if(!e)return null;if(e.getType&&e.getType()=="page")return e;if(typeof e=="string"||e instanceof String)return this.getPageByName(String(e));if(!isNaN(e)){var t=Number(e),n=this.visiblePages;return e<0||e>=n.length?null:n[t]}return e}get currentPageNo(){return this.visiblePages.indexOf(this.currentPage)}set currentPageNo(e){var t=this.visiblePages;e<0||e>=t.length||(this.currentPage=t[e])}get questionOrder(){return this.getPropertyValue("questionOrder")}set questionOrder(e){this.setPropertyValue("questionOrder",e)}get questionsOrder(){return this.questionOrder}set questionsOrder(e){this.questionOrder=e}focusFirstQuestion(){if(!this.focusingQuestionInfo){var e=this.activePage;e&&(e.scrollToTop(),e.focusFirstQuestion())}}scrollToTopOnPageChange(e=!0){var t=this.activePage;t&&(e&&t.scrollToTop(),this.isCurrentPageRendering&&this.autoFocusFirstQuestion&&!this.focusingQuestionInfo&&(t.focusFirstQuestion(),this.isCurrentPageRendering=!1))}get state(){return this.getPropertyValue("state","empty")}updateState(){this.setPropertyValue("state",this.calcState())}calcState(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"}get isCompleted(){return this.getPropertyValue("isCompleted",!1)}set isCompleted(e){this.setPropertyValue("isCompleted",e)}get isShowingPreview(){return this.getPropertyValue("isShowingPreview",!1)}set isShowingPreview(e){this.isShowingPreview!=e&&(this.setPropertyValue("isShowingPreview",e),this.onShowingPreviewChanged())}get isStartedState(){return this.getPropertyValue("isStartedState",!1)}set isStartedState(e){this.setPropertyValue("isStartedState",e)}get isCompletedBefore(){return this.getPropertyValue("isCompletedBefore",!1)}set isCompletedBefore(e){this.setPropertyValue("isCompletedBefore",e)}get isLoading(){return this.getPropertyValue("isLoading",!1)}set isLoading(e){this.setPropertyValue("isLoading",e)}beginLoading(){this.isLoading=!0}endLoading(){this.isLoading=!1}get completedState(){return this.getPropertyValue("completedState","")}get completedStateText(){return this.getPropertyValue("completedStateText","")}setCompletedState(e,t){this.setPropertyValue("completedState",e),t||(e=="saving"&&(t=this.getLocalizationString("savingData")),e=="error"&&(t=this.getLocalizationString("savingDataError")),e=="success"&&(t=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",t),this.state==="completed"&&this.showCompletePage&&this.completedState&&this.notify(this.completedStateText,this.completedState,e==="error")}notify(e,t,n=!1){this.notifier.showActions=n,this.notifier.notify(e,t,n)}clear(e=!0,t=!0){this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,this.skippedPages=[],e&&this.setDataCore(null,!0),this.timerModel.spent=0;for(var n=0;n<this.pages.length;n++)this.pages[n].timeSpent=0,this.pages[n].setWasShown(!1),this.pages[n].passed=!1;if(this.onFirstPageIsStartedChanged(),t&&(this.currentPage=this.firstVisiblePage,this.currentSingleElement)){const r=this.getSingleElements();this.currentSingleElement=r.length>0?r[0]:void 0}e&&this.updateValuesWithDefaults()}mergeValues(e,t){av(e,t)}updateValuesWithDefaults(){if(!(this.isDesignMode||this.isLoading))for(var e=0;e<this.pages.length;e++)for(var t=this.pages[e].questions,n=0;n<t.length;n++)t[n].updateValueWithDefaults()}updateCustomWidgets(e){e&&e.updateCustomWidgets()}currentPageChanging(e,t,n,r){const s=this.createPageChangeEventOptions(e,t,n,r);return this.currentPageChangingFromOptions(s)}currentPageChangingFromOptions(e){e.allow=!0,e.allowChanging=!0,this.onCurrentPageChanging.fire(this,e);const t=e.allowChanging&&e.allow;return t&&e.newCurrentPage!==e.oldCurrentPage&&(this.isCurrentPageRendering=!0),t}currentPageChanged(e,t){if(this.notifyQuestionsOnHidingContent(t),t&&!t.isDisposed&&!t.passed&&t.validate(!1)&&(t.passed=!0),this.isCurrentPageRendered===!0&&(this.isCurrentPageRendered=!1),!this.currentSingleElement){const n=this.createPageChangeEventOptions(e,t);this.onCurrentPageChanged.fire(this,n)}}notifyQuestionsOnHidingContent(e){e&&!e.isDisposed&&e.questions.forEach(t=>t.onHidingContent())}createPageChangeEventOptions(e,t,n,r){const s=e&&t?e.visibleIndex-t.visibleIndex:0;let o=s;return o===0&&r&&n&&(o=e.elements.indexOf(n)-e.elements.indexOf(r)),{oldCurrentQuestion:r,newCurrentQuestion:n,oldCurrentPage:t,newCurrentPage:e,isNextPage:s===1,isPrevPage:s===-1,isGoingForward:o>0,isGoingBackward:o<0,isAfterPreview:this.changeCurrentPageFromPreview===!0}}getProgress(){if(this.currentPage==null)return 0;if(this.progressBarType!=="pages"){var e=this.getProgressInfo();return this.progressBarType==="requiredQuestions"?e.requiredQuestionCount>=1?Math.ceil(e.requiredAnsweredQuestionCount*100/e.requiredQuestionCount):100:e.questionCount>=1?Math.ceil(e.answeredQuestionCount*100/e.questionCount):100}const t=this.visiblePages;var n=t.indexOf(this.currentPage);return Math.ceil(n*100/t.length)}get isNavigationButtonsShowing(){if(this.isDesignMode)return"none";var e=this.activePage;return!e||e.navigationButtonsVisibility==="hide"?"none":e.navigationButtonsVisibility==="show"?this.showNavigationButtons?this.navigationButtonsLocation:"bottom":this.showNavigationButtons?this.navigationButtonsLocation:"none"}get isNavigationButtonsShowingOnTop(){return this.getIsNavigationButtonsShowingOn("top")}get isNavigationButtonsShowingOnBottom(){return this.getIsNavigationButtonsShowingOn("bottom")}getIsNavigationButtonsShowingOn(e){var t=this.isNavigationButtonsShowing;return t=="both"||t=="topBottom"||t==e}get isEditMode(){return!this.readOnly}get isDisplayMode(){return this.readOnly&&!this.isDesignMode||this.state=="preview"}get isUpdateValueTextOnTyping(){return this.textUpdateMode=="onTyping"}get isDesignMode(){return this._isDesignMode}setDesignMode(e){!!this._isDesignMode!=!!e&&(this._isDesignMode=!!e,this.onQuestionsOnPageModeChanged("standard"))}get showInvisibleElements(){return this.getPropertyValue("showInvisibleElements",!1)}set showInvisibleElements(e){var t=this.visiblePages;this.setPropertyValue("showInvisibleElements",e),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(t))}updateAllElementsVisibility(e){for(var t=0;t<this.pages.length;t++){var n=this.pages[t];n.updateElementVisibility(),e.indexOf(n)>-1!=n.isVisible&&this.onPageVisibleChanged.fire(this,{page:n,visible:n.isVisible})}}get areInvisibleElementsShowing(){return this.isDesignMode||this.showInvisibleElements}get areEmptyElementsHidden(){return this.isShowingPreview&&this.showPreviewBeforeComplete&&this.previewMode=="answeredQuestions"&&this.isAnyQuestionAnswered}get isAnyQuestionAnswered(){const e=this.getAllQuestions(!0);for(let t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}get hasCookie(){if(!this.cookieName)return!1;var e=St.getCookie();return e&&e.indexOf(this.cookieName+"=true")>-1}setCookie(){this.cookieName&&St.setCookie(this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")}deleteCookie(){this.cookieName&&St.setCookie(this.cookieName+"=;")}get ignoreValidation(){return!this.validationEnabled}set ignoreValidation(e){this.validationEnabled=!e}nextPage(){return this.currentSingleElement?this.performNext():this.isLastPage?!1:this.doCurrentPageComplete(!1)}performNext(){const e=this.currentSingleElement;if(!e)return this.nextPage();if(this.resetNavigationButton(),this.isSingleVisibleInput){if(!e.validateSingleInput())return!1;if(e.nextSingleInput())return this.updateButtonsVisibility(),!0}if(this.validationEnabled&&!e.validate(!0))return!1;const t=e.isQuestion?[e]:e.visibleQuestions,n=r=>{this.clearAsyncValidationQuesitons(),r||this.performNextAfterValidation(e)};return this.checkForAsyncQuestionValidation(t,n)?!1:(this.performNextAfterValidation(e),!0)}performNextAfterValidation(e){this.sendPartialResult();const t=this.getSingleElements(),n=t.indexOf(e);if(n<0||n===t.length-1)return!1;let r={};e.isQuestion?r[e.name]=e.value:e.isPanel&&(r=e.getValue()),this.checkTriggers(r,!0,!1,!0,e.name),e===this.currentSingleElement&&(this.currentSingleElement=t[n+1])}performPrevious(){return this.prevPage()}hasErrorsOnNavigate(e){if(this.canGoTroughValidation())return!1;const t=e&&this.validationAllowComplete||!e&&this.validationAllowSwitchPages,n=r=>{(!r||t)&&this.doCurrentPageCompleteCore(e)};return this.isValidateOnComplete?this.isLastPage?this.validate(!0,this.autoFocusFirstError,n,!0)!==!0&&!t:!1:this.validateCurrentPage(n)!==!0&&!t}canGoTroughValidation(){return!this.isEditMode||!this.validationEnabled}checkForAsyncQuestionValidation(e,t){this.clearAsyncValidationQuesitons();for(var n=0;n<e.length;n++)if(e[n].isRunningValidators){let r=e[n];r.onCompletedAsyncValidators=s=>{this.onCompletedAsyncQuestionValidators(r,t,s)},this.asyncValidationQuesitons.push(e[n])}return this.asyncValidationQuesitons.length>0}clearAsyncValidationQuesitons(){if(this.asyncValidationQuesitons)for(var e=this.asyncValidationQuesitons,t=0;t<e.length;t++)e[t].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]}onCompletedAsyncQuestionValidators(e,t,n){if(n){if(this.clearAsyncValidationQuesitons(),t(!0),this.autoFocusFirstError&&e&&e.page&&e.page===this.currentPage){const o=this.currentPage.questions;for(let a=0;a<o.length;a++)if(o[a]!==e&&o[a].errors.length>0)return;e.focus(!0)}return}for(var r=this.asyncValidationQuesitons,s=0;s<r.length;s++)if(r[s].isRunningValidators)return;t(!1)}get isCurrentPageHasErrors(){return this.checkIsCurrentPageHasErrors()}get isCurrentPageValid(){return!this.checkIsCurrentPageHasErrors()}hasCurrentPageErrors(e){return this.hasPageErrors(void 0,e)}validateCurrentPage(e){return this.validatePage(void 0,e)}hasPageErrors(e,t){const n=this.validatePage(e,t);return n===void 0?n:!n}validatePage(e,t){return e||(e=this.activePage),e?this.checkIsPageHasErrors(e)?!1:t&&this.checkForAsyncQuestionValidation(e.questions,n=>t(n))?void 0:!0:!0}hasErrors(e=!0,t=!1,n){const r=this.validate(e,t,n);return r===void 0?r:!r}validate(e=!0,t=!1,n,r){n&&(e=!0);var s=this.visiblePages,o=!0;const a={fireCallback:e,focusOnFirstError:t,firstErrorQuestion:null,result:!1};for(var l=0;l<s.length;l++)s[l].validate(e,t,a)||(o=!1);return a.firstErrorQuestion&&(t||r)&&(t?a.firstErrorQuestion.focus(!0):this.currentPage=a.firstErrorQuestion.page),!o||!n?o:this.checkForAsyncQuestionValidation(this.getAllQuestions(),u=>n(u))?void 0:!0}ensureUniqueNames(e=null){if(e==null)for(var t=0;t<this.pages.length;t++)this.ensureUniqueName(this.pages[t]);else this.ensureUniqueName(e)}ensureUniqueName(e){if(e.isPage&&this.ensureUniquePageName(e),e.isPanel&&this.ensureUniquePanelName(e),e.isPage||e.isPanel)for(var t=e.elements,n=0;n<t.length;n++)this.ensureUniqueNames(t[n]);else this.ensureUniqueQuestionName(e)}ensureUniquePageName(e){return this.ensureUniqueElementName(e,t=>this.getPageByName(t))}ensureUniquePanelName(e){return this.ensureUniqueElementName(e,t=>this.getPanelByName(t))}ensureUniqueQuestionName(e){return this.ensureUniqueElementName(e,t=>this.getQuestionByName(t))}ensureUniqueElementName(e,t){var n=t(e.name);if(!(!n||n==e)){for(var r=this.getNewName(e.name);t(r);)var r=this.getNewName(e.name);e.name=r}}getNewName(e){for(var t=e.length;t>0&&e[t-1]>="0"&&e[t-1]<="9";)t--;var n=e.substring(0,t),r=0;return t<e.length&&(r=parseInt(e.substring(t))),r++,n+r}checkIsCurrentPageHasErrors(e=void 0){return this.checkIsPageHasErrors(this.activePage,e)}checkIsPageHasErrors(e,t=void 0){if(t===void 0&&(t=this.focusOnFirstError),!e)return!0;const n=!e.validate(!0,t);return this.fireValidatedErrorsOnPage(e),n}fireValidatedErrorsOnPage(e){if(this.onValidatePage.isEmpty||!e)return;const t=this.getNestedQuestionsByQuestionArray(e.questions,!0);for(var n=new Array,r=new Array,s=0;s<t.length;s++){var o=t[s];if(o.errors.length>0){n.push(o);for(var a=0;a<o.errors.length;a++)r.push(o.errors[a])}}this.onValidatePage.fire(this,{questions:n,errors:r,page:e})}prevPage(){if(this.isFirstPage||this.state==="starting")return!1;this.resetNavigationButton();const e=this.currentSingleElement;if(this.doSkipOnPrevPage(e))return!0;if(e)return this.prevPageSingleElement(e);const t=this.visiblePages,n=t.indexOf(this.currentPage);return this.currentPage=t[n-1],!0}doSkipOnPrevPage(e){const t=e||this.currentPage,n=this.skippedPages.find(s=>s.to===t);let r;if(n){this.skippedPages.splice(this.skippedPages.indexOf(n),1);const s=n.from;!s.isDisposed&&s.isVisible&&(r=s)}return r&&(e?this.currentSingleElement=r:this.currentPage=r),!!r}prevPageSingleElement(e){if(this.isSingleVisibleInput&&e.prevSingleInput())return this.updateButtonsVisibility(),!0;const t=this.getSingleElements(),n=t.indexOf(e);return n===0?!1:(this.currentSingleElement=t[n-1],!0)}tryComplete(){this.isValidateOnComplete&&this.cancelPreview();let e=this.doCurrentPageComplete(!0);return e&&this.cancelPreview(),e}completeLastPage(){return this.tryComplete()}navigationMouseDown(){return this.isNavigationButtonPressed=!0,!0}resetNavigationButton(){this.isNavigationButtonPressed=!1}nextPageUIClick(){return this.mouseDownPage&&this.mouseDownPage!==this.activePage?!1:(this.mouseDownPage=null,this.performNext())}nextPageMouseDown(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()}showPreview(){return this.resetNavigationButton(),!this.isValidateOnComplete&&(this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0))?!1:(this.showPreviewCore(),this.isShowingPreview)}showPreviewCore(){var e={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,e),this.isShowingPreview=e.allowShowPreview&&e.allow}cancelPreview(e=null){var t;if(!this.isShowingPreview)return;this.gotoPageFromPreview=e,this.isShowingPreview=!1;const n=(t=this.currentSingleElement)===null||t===void 0?void 0:t.page;n&&(n.updateRows(),this.currentPage=n)}cancelPreviewByPage(e){this.cancelPreview(e)}doCurrentPageComplete(e){return this.isValidatingOnServer||(this.resetNavigationButton(),this.hasErrorsOnNavigate(e))?!1:this.doCurrentPageCompleteCore(e)}doCurrentPageCompleteCore(e){return this.doServerValidation(e)?!1:e?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger)):(this.doNextPage(),!0)}get isSinglePage(){return this.questionsOnPageMode=="singlePage"}set isSinglePage(e){this.questionsOnPageMode=e?"singlePage":"standard"}get isSingleVisibleQuestion(){return!this.isDesignMode&&(this.isSingleVisibleQuestionVal(this.questionsOnPageMode)||this.isSingleVisibleInput)}get isSingleVisibleInput(){return!this.isDesignMode&&this.questionsOnPageMode=="inputPerPage"}isSingleVisibleQuestionVal(e){return e==="questionPerPage"||e==="questionOnPage"}get questionsOnPageMode(){return this.getPropertyValue("questionsOnPageMode")}set questionsOnPageMode(e){this.setPropertyValue("questionsOnPageMode",e)}get firstPageIsStartPage(){return this.getPropertyValue("firstPageIsStartPage")}set firstPageIsStartPage(e){this.setPropertyValue("firstPageIsStartPage",e)}get firstPageIsStarted(){return this.firstPageIsStartPage}set firstPageIsStarted(e){this.firstPageIsStartPage=e}isPageStarted(e){return this.firstPageIsStartPage&&this.pages.length>1&&this.pages[0]===e}get showPreviewBeforeComplete(){return this.getPropertyValue("showPreviewBeforeComplete")}set showPreviewBeforeComplete(e){this.setShowPreviewBeforeComplete(e)}setShowPreviewBeforeComplete(e){e===void 0||e==="noPreview"||e===!1?this.setPropertyValue("showPreviewBeforeComplete",!1):(this.setPropertyValue("showPreviewBeforeComplete",!0),e==="showAllQuestions"&&(this.previewMode="allQuestions"),e==="showAnsweredQuestions"&&(this.previewMode="answeredQuestions"))}get previewMode(){return this.getPropertyValue("previewMode")}set previewMode(e){this.setPropertyValue("previewMode",e)}onFirstPageIsStartedChanged(){this.isStartedState=this.firstPageIsStartPage&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)}onShowingPreviewChanged(){this.updatePagesContainer()}createRootPage(e,t){const n=me.createClass("page");return n.name=e,n.isPageContainer=!0,t.forEach(r=>{r.isStartPage||n.addElement(r)}),n}disposeContainerPage(){let e=this.pageContainerValue;[].concat(e.elements).forEach(n=>e.removeElement(n)),e.dispose(),this.pageContainerValue=void 0}updatePagesContainer(){if(this.isDesignMode)return;this.getAllQuestions().forEach(r=>r.updateElementVisibility()),this.setPropertyValue("currentPage",void 0);const e="single-page",t="preview-page";let n;if(this.isSinglePage){const r=this.pageContainerValue;r&&r.name===t?(n=r.elements[0],this.disposeContainerPage()):n=this.createRootPage(e,this.pages)}if(this.isShowingPreview&&(n=this.createRootPage(t,n?[n]:this.pages)),n&&(n.setSurveyImpl(this),this.pageContainerValue=n,this.currentPage=n,this.currentSingleElementValue&&this.visiblePages.forEach(r=>r.updateRows())),!this.isSinglePage&&!this.isShowingPreview){this.disposeContainerPage();let r=this.gotoPageFromPreview;this.gotoPageFromPreview=null,se.isValueEmpty(r)&&this.visiblePageCount>0&&(r=this.visiblePages[this.visiblePageCount-1]),r&&(this.changeCurrentPageFromPreview=!0,this.currentPage=r,this.changeCurrentPageFromPreview=!1)}!this.currentPage&&this.visiblePageCount>0&&(this.currentPage=this.visiblePages[0]),this.isShowingPreview&&this.pages.forEach(r=>{r.onFirstRendering()}),this.pages.forEach(r=>{r.wasRendered&&r.updateElementCss(!0)}),this.updateButtonsVisibility()}getSingleElements(e){const t=new Array,n=this.pages,r=this.isSingleVisibleInput;for(var s=0;s<n.length;s++){const o=n[s];if(!o.isStartPage&&o.isVisible){const a=[];r?o.addQuestionsToList(a,!0):o.elements.forEach(l=>a.push(l)),a.forEach(l=>{(l===e||l.isVisible)&&t.push(l)})}}return t}get currentSingleElement(){return this.isShowingPreview?void 0:this.currentSingleElementValue}set currentSingleElement(e){if(e&&e.isQuestion&&this.isSingleVisibleQuestionVal(this.questionsOnPageMode))for(;e.parent&&e.parent.isPanel;)e=e.parent;const t=this.currentSingleElement;if(e!==t&&!this.isCompleted){const n=e!=null&&e.isQuestion?e:void 0,r=t!=null&&t.isQuestion?t:void 0,s=e==null?void 0:e.page,o=s&&t?this.createPageChangeEventOptions(s,t.page,n,r):void 0;if(o&&!this.currentPageChangingFromOptions(o))return;this.currentSingleElementValue=e,e?(this.isSingleVisibleInput&&e.isQuestion&&e.onSetAsSingleInput(),s.updateRows(),s!==this.currentPage?this.currentPage=s:n&&this.autoFocusFirstQuestion&&n.focus(),this.updateButtonsVisibility(),o&&this.onCurrentPageChanged.fire(this,o)):this.visiblePages.forEach(a=>a.updateRows())}}get currentSingleQuestion(){const e=this.currentSingleElement;return e&&e.isQuestion?e:void 0}set currentSingleQuestion(e){this.currentSingleElement=e}supportsNestedSingleInput(e){const t={question:e,enabled:!0};return this.onCheckSingleInputPerPageMode.fire(this,t),t.enabled}changeCurrentSingleElementOnVisibilityChanged(){const e=this.currentSingleElement;if(!e||e.isVisible)return;const t=this.getSingleElements(e),n=t.indexOf(e),r=n>0?t[n-1]:n<t.length-1?t[n+1]:void 0;this.currentSingleElement=r}onQuestionsOnPageModeChanged(e){if(!(this.isShowingPreview||this.isDesignMode)&&(this.skippedPages=[],this.currentSingleElement=void 0,e==="singlePage"&&this.updatePagesContainer(),e==="inputPerPage"&&this.getAllQuestions().forEach(t=>t.resetSingleInput()),this.isSinglePage&&this.updatePagesContainer(),this.setupSingleInputNavigationActions(),this.isSingleVisibleQuestion)){const t=this.getSingleElements();t.length>0&&(this.currentSingleElement=t[0])}}setupSingleInputNavigationActions(){const e="sv-singleinput-add";if(this.isSingleVisibleInput){const t=()=>{this.currentSingleQuestion.singleInputAddItem(!0),this.resetNavigationButton()};this.addNavigationItem({id:e,visible:!1,action:()=>t()})}else this.removeNavigationItem(e)}getPageStartIndex(){return this.firstPageIsStartPage&&this.pages.length>0?1:0}get isFirstPage(){return this.getPropertyValue("isFirstPage")}get isLastPage(){return this.getPropertyValue("isLastPage")}updateNavigationElements(){this.updateButtonsVisibility()}updateButtonsVisibility(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible()),this.updateSingleInputActions()}updateSingleInputActions(){if(!this.isSingleVisibleInput)return;const e=this.currentSingleQuestion;if(!e)return;const t=this.navigationBar.getActionById("sv-singleinput-add");t&&(t.title=e.getSingleInputAddText(),t.visible=!!t.title)}get isShowPrevButton(){return this.getPropertyValue("isShowPrevButton")}get isShowNextButton(){return this.getPropertyValue("isShowNextButton")}get isCompleteButtonVisible(){return this.getPropertyValue("isCompleteButtonVisible")}get isPreviewButtonVisible(){return this.getPropertyValue("isPreviewButtonVisible")}get isCancelPreviewButtonVisible(){return this.getPropertyValue("isCancelPreviewButtonVisible")}get isFirstElement(){return this.getPropertyValue("isFirstElement")}get isLastElement(){return this.getPropertyValue("isLastElement")}updateIsFirstLastPageState(){const e=this.currentPage;let t,n;const r=this.currentSingleElement;if(r){let s=!0,o=!0;if(this.isSingleVisibleInput){const u=r.getSingleInputElementPos();u!==0&&(s=u===-1,o=u===1)}const a=this.getSingleElements(),l=a.indexOf(r);l>=0&&(t=s&&l===0,n=o&&l===a.length-1)}this.setPropertyValue("isFirstPage",!!e&&e===this.firstVisiblePage&&(!r||t===!0)),this.setPropertyValue("isLastPage",!!e&&e===this.lastVisiblePage&&(!r||n===!0)),this.setPropertyValue("isFirstElement",t),this.setPropertyValue("isLastElement",n)}get isLastPageOrElement(){return this.isLastElement!==void 0?this.isLastElement:this.isLastPage}get isFirstPageOrElement(){return this.isFirstElement!==void 0?this.isFirstElement:this.isFirstPage}calcIsShowPrevButton(){if(this.isFirstPageOrElement||!this.showPrevButton||this.state!=="running")return!1;if(this.isFirstElement!==void 0)return!0;const e=this.visiblePages[this.currentPageNo-1];return e&&e.getMaxTimeToFinish()<=0}calcIsShowNextButton(){return this.state==="running"&&!this.isLastPageOrElement&&!this.canBeCompletedByTrigger}calcIsCompleteButtonVisible(){const e=this.state;return this.isEditMode&&(this.state==="running"&&(this.isLastPageOrElement&&!this.showPreviewBeforeComplete||this.canBeCompletedByTrigger)||e==="preview")&&this.showCompleteButton}calcIsPreviewButtonVisible(){return this.isEditMode&&this.showPreviewBeforeComplete&&this.state=="running"&&this.isLastPageOrElement}calcIsCancelPreviewButtonVisible(){return this.isEditMode&&this.showPreviewBeforeComplete&&this.state=="preview"}get firstVisiblePage(){if(this.visiblePageCount===1)return this.visiblePages[0];const e=this.pages;for(let t=0;t<e.length;t++)if(this.isPageInVisibleList(e[t]))return e[t];return null}get lastVisiblePage(){if(this.visiblePageCount===1)return this.visiblePages[0];const e=this.pages;for(let t=e.length-1;t>=0;t--)if(this.isPageInVisibleList(e[t]))return e[t];return null}doComplete(e=!1,t){if(!this.isCompleted)return this.checkOnCompletingEvent(e,t)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.notifyQuestionsOnHidingContent(this.currentPage),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(e,t),this.setCookie(),!0):(this.isCompleted=!1,!1)}saveDataOnComplete(e=!1,t){let n=this.hasCookie;const r=c=>{l=!0,this.setCompletedState("saving",c)},s=c=>{this.setCompletedState("error",c)},o=c=>{this.setCompletedState("success",c),this.navigateTo()},a=c=>{this.setCompletedState("","")};var l=!1,u={isCompleteOnTrigger:e,completeTrigger:t,showSaveInProgress:r,showSaveError:s,showSaveSuccess:o,clearSaveMessages:a,showDataSaving:r,showDataSavingError:s,showDataSavingSuccess:o,showDataSavingClear:a};this.onComplete.fire(this,u),!n&&this.surveyPostId&&this.sendResult(),l||this.navigateTo()}checkOnCompletingEvent(e,t){var n={allowComplete:!0,allow:!0,isCompleteOnTrigger:e,completeTrigger:t};return this.onCompleting.fire(this,n),n.allowComplete&&n.allow}start(){return!this.firstPageIsStartPage||(this.isCurrentPageRendering=!0,this.checkIsPageHasErrors(this.startPage,!0))?!1:(this.isStartedState=!1,this.notifyQuestionsOnHidingContent(this.pages[0]),this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPageNo=0,this.currentPage&&this.currentPage.locStrsChanged(),!0)}get isValidatingOnServer(){return this.getPropertyValue("isValidatingOnServer",!1)}setIsValidatingOnServer(e){e!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",e),this.onIsValidatingOnServerChanged())}createServerValidationOptions(e,t,n){var r=this;const s={data:{},errors:{},survey:this,complete:function(){r.completeServerValidation(s,t,n)}};if(e&&this.isValidateOnComplete)s.data=this.data;else for(var o=this.activePage.questions,a=0;a<o.length;a++){var l=o[a];if(l.visible){var u=this.getValue(l.getValueName());this.isValueEmpty(u)||(s.data[l.getValueName()]=u)}}return s}onIsValidatingOnServerChanged(){}doServerValidation(e,t=!1,n){if(!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!e&&this.isValidateOnComplete)return!1;this.setIsValidatingOnServer(!0);const r=typeof this.onServerValidateQuestions=="function";return this.serverValidationEventCount=r?1:this.onServerValidateQuestions.length,r?this.onServerValidateQuestions(this,this.createServerValidationOptions(e,t,n)):this.onServerValidateQuestions.fireByCreatingOptions(this,()=>this.createServerValidationOptions(e,t,n)),!0}completeServerValidation(e,t,n){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,e&&e.errors&&Object.keys(e.errors).length===0))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),!(!e&&!e.survey))){var r=e.survey,s=!1;if(e.errors){var o=this.autoFocusFirstError;for(var a in e.errors){var l=r.getQuestionByName(a);l&&l.errors&&(s=!0,l.addError(new Ma(e.errors[a],this)),o&&(o=!1,l.page&&(this.currentPage=l.page),l.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}s||(t?this.showPreviewCore():n?this.currentPage=n:r.isLastPage?r.doComplete():r.doNextPage())}}doNextPage(){var e=this.currentPage;if(this.checkOnPageTriggers(!1),this.sendPartialResult(),this.isCompleted)this.doComplete(!0);else if(e===this.currentPage){var t=this.visiblePages,n=t.indexOf(this.currentPage);this.currentPage=t[n+1]}}setCompleted(e){this.doComplete(!0,e)}sendPartialResult(){this.partialSendEnabled&&!this.isCompleted&&this.sendResult(this.surveyPostId,this.clientId,!0)}canBeCompleted(e,t){var n;if(!oe.triggers.changeNavigationButtonsOnComplete)return;const r=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),t?this.completedByTriggers[e.id]={trigger:e,pageId:(n=this.currentPage)===null||n===void 0?void 0:n.id}:delete this.completedByTriggers[e.id],r!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}get canBeCompletedByTrigger(){var e;if(!this.completedByTriggers)return!1;const t=Object.keys(this.completedByTriggers);if(t.length===0)return!1;const n=(e=this.currentPage)===null||e===void 0?void 0:e.id;if(!n)return!0;for(let r=0;r<t.length;r++)if(n===this.completedByTriggers[t[r]].pageId)return!0;return!1}get completedTrigger(){if(!this.canBeCompletedByTrigger)return;const e=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[e].trigger}get processedCompletedHtml(){var e=this.renderedCompletedHtml;return e?this.processHtml(e,"completed"):""}get processedCompletedBeforeHtml(){return this.locCompletedBeforeHtml.textOrHtml}get processedLoadingHtml(){return this.locLoadingHtml.textOrHtml}getProgressInfo(){var e=this.isDesignMode?this.pages:this.visiblePages;return ni.getProgressInfoByElements(e,!1)}get progressBarAriaLabel(){return ur("progressbar",this.getLocale())}get progressText(){return this.progressBar.progressText}get progressValue(){return this.getPropertyValue("progressValue",void 0,()=>this.getProgress())}updateProgressText(e=!1){this.isShowingPreview||e&&this.progressBarType=="pages"&&this.onGetProgressText.isEmpty||(this.progressBarValue&&this.progressBarValue.resetProgressText(),this.resetPropertyValue("progressValue"))}getProgressText(){if(!this.isDesignMode&&this.currentPage==null)return"";const e={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""};var t=this.progressBarType.toLowerCase();if(t==="questions"||t==="requiredquestions"||t==="correctquestions"||!this.onGetProgressText.isEmpty){var n=this.getProgressInfo();e.questionCount=n.questionCount,e.answeredQuestionCount=n.answeredQuestionCount,e.requiredQuestionCount=n.requiredQuestionCount,e.requiredAnsweredQuestionCount=n.requiredAnsweredQuestionCount}return e.text=this.getProgressTextCore(e),this.onGetProgressText.fire(this,e),e.text}getProgressTextCore(e){var t=this.progressBarType.toLowerCase();if(t==="questions")return this.getLocalizationFormatString("questionsProgressText",e.answeredQuestionCount,e.questionCount);if(t==="requiredquestions")return this.getLocalizationFormatString("questionsProgressText",e.requiredAnsweredQuestionCount,e.requiredQuestionCount);if(t==="correctquestions"){var n=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",n,e.questionCount)}var r=this.isDesignMode?this.pages:this.visiblePages,s=r.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",s,r.length)}getRootCss(){return new Ie().append(this.css.root).append(this.css.rootProgress+"--"+this.progressBarType).append(this.css.rootMobile,this.isMobile).append(this.css.rootAnimationDisabled,!oe.animationEnabled).append(this.css.rootReadOnly,this.readOnly&&!this.isDesignMode).append(this.css.rootCompact,this.isCompact).append(this.css.rootFitToContainer,this.fitToContainer).toString()}afterRenderSurvey(e){if(!Bt.isAvailable())return;this.destroyResizeObserver(),Array.isArray(e)&&(e=ni.GetFirstNonTextElement(e));let t=e;const n=this.css.variables;if(n){const r=Number.parseFloat(St.getComputedStyle(t).getPropertyValue(n.mobileWidth));if(r){let s=!1;this.resizeObserver=new ResizeObserver(o=>{Bt.requestAnimationFrame(()=>{s||!I5(t)?s=!1:s=this.processResponsiveness(t.offsetWidth,r,t.offsetHeight)})}),this.resizeObserver.observe(t)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:e}),this.rootElement=e,this.scrollerElement=e.getElementsByClassName("sv-scroll__scroller")[0],this.addScrollEventListener()}beforeDestroySurveyElement(){this.destroyResizeObserver(),this.removeScrollEventListener(),this.rootElement=void 0,this.scrollerElement=void 0}processResponsiveness(e,t,n){const r=e<t,s=this.isMobile!==r;this.setIsMobile(r),this.layoutElements.forEach(a=>a.processResponsiveness&&a.processResponsiveness(e));const o={height:n,width:e};return this.onResize.fire(this,o),s}triggerResponsiveness(e){this.getAllQuestions().forEach(t=>{t.triggerResponsiveness(e)})}destroyResizeObserver(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}updateQuestionCssClasses(e,t){this.onUpdateQuestionCssClasses.fire(this,{question:e,cssClasses:t})}updatePanelCssClasses(e,t){this.onUpdatePanelCssClasses.fire(this,{panel:e,cssClasses:t})}updatePageCssClasses(e,t){this.onUpdatePageCssClasses.fire(this,{page:e,cssClasses:t})}updateChoiceItemCss(e,t){t.question=e,this.onUpdateChoiceItemCss.fire(this,t)}afterRenderPage(e){if(!this.isDesignMode&&!this.focusingQuestionInfo){const t=this.isCurrentPageRendered===!1;setTimeout(()=>this.scrollToTopOnPageChange(t),1)}this.focusQuestionInfo(),this.isCurrentPageRendered=!0,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:e})}afterRenderHeader(e){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:e})}afterRenderQuestion(e,t){this.onAfterRenderQuestion.fire(this,{question:e,htmlElement:t})}afterRenderQuestionInput(e,t){if(this.onAfterRenderQuestionInput.isEmpty)return;let n=e.inputId;const{root:r}=oe.environment;if(n&&(!t||t.id!==n)&&typeof r<"u"){let s=r.getElementById(n);s&&(t=s)}this.onAfterRenderQuestionInput.fire(this,{question:e,htmlElement:t})}afterRenderPanel(e,t){this.onAfterRenderPanel.fire(this,{panel:e,htmlElement:t})}whenQuestionFocusIn(e){this.onFocusInQuestion.fire(this,{question:e})}whenPanelFocusIn(e){this.onFocusInPanel.fire(this,{panel:e})}rebuildQuestionChoices(){this.getAllQuestions().forEach(e=>e.surveyChoiceItemVisibilityChange())}canChangeChoiceItemsVisibility(){return!this.onShowingChoiceItem.isEmpty}getChoiceItemVisibility(e,t,n){const r={question:e,item:t,visible:n};return this.onShowingChoiceItem.fire(this,r),r.visible}loadQuestionChoices(e){this.onChoicesLazyLoad.fire(this,e)}getChoiceDisplayValue(e){this.onGetChoiceDisplayValue.isEmpty?e.setItems(null):this.onGetChoiceDisplayValue.fire(this,e)}matrixBeforeRowAdded(e){this.onMatrixRowAdding.fire(this,e)}matrixRowAdded(e,t){this.onMatrixRowAdded.fire(this,{question:e,row:t})}matrixColumnAdded(e,t){this.onMatrixColumnAdded.fire(this,{question:e,column:t})}multipleTextItemAdded(e,t){this.onMultipleTextItemAdded.fire(this,{question:e,item:t})}getQuestionByValueNameFromArray(e,t,n){var r=this.getQuestionsByValueName(e);if(r){for(var s=0;s<r.length;s++){var o=r[s].getQuestionFromArray(t,n);if(o)return o}return null}}matrixRowRemoved(e,t,n){this.onMatrixRowRemoved.fire(this,{question:e,rowIndex:t,row:n})}matrixRowRemoving(e,t,n){var r={question:e,rowIndex:t,row:n,allow:!0};return this.onMatrixRowRemoving.fire(this,r),r.allow}matrixAllowRemoveRow(e,t,n){const r={question:e,rowIndex:t,row:n,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,r),r.allow}matrixDetailPanelVisibleChanged(e,t,n,r){const s={question:e,rowIndex:t,row:n,visible:r,detailPanel:n.detailPanel};this.onMatrixDetailPanelVisibleChanged.fire(this,s)}matrixCellCreating(e,t){t.question=e,this.onMatrixCellCreating.fire(this,t)}matrixCellCreated(e,t){t.question=e,this.onMatrixCellCreated.fire(this,t)}matrixAfterCellRender(e){var t;const n=this.onAfterRenderMatrixCell;n.isEmpty||(e.question=(t=e.cellQuestion)===null||t===void 0?void 0:t.parentQuestion,n.fire(this,e))}matrixCellValueChanged(e,t){t.question=e,this.onMatrixCellValueChanged.fire(this,t)}matrixCellValueChanging(e,t){t.question=e,this.onMatrixCellValueChanging.fire(this,t)}get isValidateOnValueChanging(){return this.checkErrorsMode==="onValueChanging"}get isValidateOnValueChanged(){return this.checkErrorsMode==="onValueChanged"}get isValidateOnValueChange(){return this.isValidateOnValueChanged||this.isValidateOnValueChanging}get isValidateOnComplete(){return this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages&&!this.validationAllowComplete}matrixCellValidate(e,t){return t.question=e,this.onMatrixCellValidate.fire(this,t),t.error?new Ma(t.error,this):null}dynamicPanelAdded(e,t,n,r){!this.isLoadingFromJson&&r&&this.updateVisibleIndexes(e.page),this.onDynamicPanelAdded.fire(this,{question:e,panel:n,panelIndex:t})}dynamicPanelRemoved(e,t,n,r){for(var s=n?n.questions:[],o=0;o<s.length;o++)s[o].clearOnDeletingContainer();r&&this.updateVisibleIndexes(e.page),this.onDynamicPanelRemoved.fire(this,{question:e,panelIndex:t,panel:n})}dynamicPanelRemoving(e,t,n){const r={question:e,panelIndex:t,panel:n,allow:!0};return this.onDynamicPanelRemoving.fire(this,r),r.allow}dynamicPanelItemValueChanged(e,t){t.question=e,this.onDynamicPanelValueChanged.fire(this,t)}dynamicPanelItemValueChanging(e,t){t.question=e,this.onDynamicPanelValueChanging.fire(this,t)}dynamicPanelGetTabTitle(e,t){t.question=e,this.onGetDynamicPanelTabTitle.fire(this,t)}dynamicPanelCurrentIndexChanged(e,t){t.question=e,this.onDynamicPanelCurrentIndexChanged.fire(this,t)}dragAndDropAllow(e){return this.onDragDropAllow.fire(this,e),e.allow}elementContentVisibilityChanged(e){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:e})}getUpdatedPanelFooterActions(e,t,n){const r={question:n,panel:e,actions:t};return this.onGetPanelFooterActions.fire(this,r),r.actions}getUpdatedElementTitleActions(e,t){return e.isPage?this.getUpdatedPageTitleActions(e,t):e.isPanel?this.getUpdatedPanelTitleActions(e,t):this.getUpdatedQuestionTitleActions(e,t)}getTitleActionsResult(e,t){return e!=t.actions?t.actions:e!=t.titleActions?t.titleActions:e}getUpdatedQuestionTitleActions(e,t){const n={question:e,actions:t,titleActions:t};return this.onGetQuestionTitleActions.fire(this,n),this.getTitleActionsResult(t,n)}getUpdatedPanelTitleActions(e,t){const n={panel:e,actions:t,titleActions:t};return this.onGetPanelTitleActions.fire(this,n),this.getTitleActionsResult(t,n)}getUpdatedPageTitleActions(e,t){var n={page:e,actions:t,titleActions:t};return this.onGetPageTitleActions.fire(this,n),this.getTitleActionsResult(t,n)}getUpdatedMatrixRowActions(e,t,n){const r={question:e,actions:n,row:t};return this.onGetMatrixRowActions.fire(this,r),r.actions}scrollElementToTop(e,t,n,r,s,o,a,l){const u={element:e,question:t,page:n,elementId:r,cancel:!1,allow:!0};if(this.onScrollToTop.fire(this,u),!u.cancel&&u.allow){const c=this.getPageByElement(e),{rootElement:h}=oe.environment,f=this.rootElement||a||h;if(this.isLazyRendering&&c){let m=1;this.skeletonHeight&&f&&typeof f.getBoundingClientRect=="function"&&(m=f.getBoundingClientRect().height/this.skeletonHeight-1),c.forceRenderElement(e,()=>{const b=f==null?void 0:f.querySelector(`#${u.elementId}`);this.suspendLazyRendering(),ni.ScrollElementToTop(b,s,o,()=>{this.releaseLazyRendering();const _=f.querySelector(`#${c.id}`);I2(_),l&&l()})},m)}else if(e.isPage&&!this.isSinglePage&&!this.isDesignMode&&this.rootElement){const m=f.querySelector(ko(this.css.rootWrapper));ni.ScrollElementToViewCore(m,!1,s,o,l)}else{const m=f==null?void 0:f.querySelector(`#${u.elementId}`);this.suspendLazyRendering(),ni.ScrollElementToTop(m,s,o,()=>{this.releaseLazyRendering(),I2(m),l&&l()})}}}chooseFiles(e,t,n){this.onOpenFileChooser.isEmpty?nRe(e,t):this.onOpenFileChooser.fire(this,{input:e,element:n&&n.element||this.survey,elementType:n&&n.elementType,item:n&&n.item,propertyName:n&&n.propertyName,callback:t,context:n})}uploadFiles(e,t,n,r){this.onUploadFiles.isEmpty?r("error",this.getLocString("noUploadFilesHandler")):this.taskManager.runTask("file",s=>{this.onUploadFiles.fire(this,{question:e,name:t,files:n||[],callback:(o,a)=>{r(o,a),s()}})}),this.surveyPostId&&this.uploadFilesCore(t,n,r)}downloadFile(e,t,n,r){this.onDownloadFile.isEmpty&&r&&r("skipped",n.content||n),this.onDownloadFile.fire(this,{question:e,name:t,content:n.content||n,fileValue:n,callback:r})}clearFiles(e,t,n,r,s){this.onClearFiles.isEmpty&&s&&s("success",n),this.onClearFiles.fire(this,{question:e,name:t,value:n,fileName:r,callback:s})}updateChoicesFromServer(e,t,n){var r={question:e,choices:t,serverResult:n};return this.onChoicesLoaded.fire(this,r),r.choices}loadedChoicesFromServer(e){this.locStrsChanged()}uploadFilesCore(e,t,n){this.reportWarningOnUsingService()}getPage(e){return this.pages[e]}addPage(e,t=-1){e!=null&&(t<0||t>=this.pages.length?this.pages.push(e):this.pages.splice(t,0,e))}addNewPage(e=null,t=-1){var n=this.createNewPage(e);return this.addPage(n,t),n}removePage(e){var t=this.pages.indexOf(e);t<0||(this.pages.splice(t,1),this.currentPage==e&&(this.currentPage=this.pages.length>0?this.pages[0]:null))}getQuestionByName(e,t=!1){if(!e)return null;t&&(e=e.toLowerCase());var n=t?this.questionHashes.namesInsensitive:this.questionHashes.names,r=n[e];return r?r[0]:null}findQuestionByName(e){return this.getQuestionByName(e)}getEditingSurveyElement(){return this.editingObjValue}getQuestionByValueName(e,t=!1){var n=this.getQuestionsByValueName(e,t);return n?n[0]:null}getQuestionsByValueName(e,t=!1){var n=t?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames,r=n[e];return r||null}getCalculatedValueByName(e){for(var t=0;t<this.calculatedValues.length;t++)if(e==this.calculatedValues[t].name)return this.calculatedValues[t];return null}getQuestionsByNames(e,t=!1){var n=[];if(!e)return n;for(var r=0;r<e.length;r++)if(e[r]){var s=this.getQuestionByName(e[r],t);s&&n.push(s)}return n}getPageByElement(e){for(var t=0;t<this.pages.length;t++){var n=this.pages[t];if(n.containsElement(e))return n}return null}getPageByQuestion(e){return this.getPageByElement(e)}getPageByName(e){for(var t=0;t<this.pages.length;t++)if(this.pages[t].name==e)return this.pages[t];return null}getPagesByNames(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++)if(e[n]){var r=this.getPageByName(e[n]);r&&t.push(r)}return t}getAllQuestions(e=!1,t=!1,n=!1){n&&(t=!1,(e?this.visiblePages:this.pages).forEach(a=>a.onFirstRendering()));for(var r=[],s=0;s<this.pages.length;s++)this.pages[s].addQuestionsToList(r,e,t);return n?this.getNestedQuestionsByQuestionArray(r,e):r}getNestedQuestionsByQuestionArray(e,t){const n=[];return e.forEach(r=>{r.getNestedQuestions(t,!0,!0).forEach(s=>n.push(s))}),n}getQuizQuestions(){for(var e=new Array,t=this.getPageStartIndex(),n=t;n<this.pages.length;n++)if(this.pages[n].isVisible)for(var r=this.pages[n].questions,s=0;s<r.length;s++){var o=r[s];o.quizQuestionCount>0&&e.push(o)}return e}getPanelByName(e,t=!1){var n=this.getAllPanels();t&&(e=e.toLowerCase());for(var r=0;r<n.length;r++){var s=n[r].name;if(t&&(s=s.toLowerCase()),s==e)return n[r]}return null}getAllPanels(e=!1,t=!1){for(var n=new Array,r=0;r<this.pages.length;r++)this.pages[r].addPanelsIntoList(n,e,t);return n}createNewPage(e){const t=me.createClass("page");return t.name=e,t}getValueChangeReason(){return this.isSettingValueOnExpression?"expression":this.isSettingValueFromTrigger?"trigger":void 0}questionOnValueChanging(e,t,n){if(this.editingObj){const s=me.findProperty(this.editingObj.getType(),e);s&&(t=s.settingValue(this.editingObj,t))}if(this.onValueChanging.isEmpty)return t;var r={name:e,question:this.getQuestionByValueName(n||e),value:this.getUnbindValue(t),oldValue:this.getValue(e),reason:this.getValueChangeReason()};return this.onValueChanging.fire(this,r),r.value}updateQuestionValue(e,t){if(!this.isLoadingFromJson){var n=this.getQuestionsByValueName(e);if(n)for(var r=0;r<n.length;r++){var s=n[r].value;(s===t&&Array.isArray(s)&&this.editingObj||!this.isTwoValueEquals(s,t))&&n[r].updateValueFromSurvey(t,!1)}}}checkQuestionErrorOnValueChanged(e){!this.isNavigationButtonPressed&&(this.isValidateOnValueChanged||e.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(e)}checkQuestionErrorOnValueChangedCore(e){var t=e.getAllErrors().length,n=!e.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging});return e.page&&this.isValidateOnValueChange&&(t>0||e.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(e.page),n}checkErrorsOnValueChanging(e,t){if(this.isLoadingFromJson)return!1;var n=this.getQuestionsByValueName(e);if(!n)return!1;for(var r=!1,s=0;s<n.length;s++){var o=n[s];this.isTwoValueEquals(o.valueForSurvey,t)||(o.value=t),this.checkQuestionErrorOnValueChangedCore(o)&&(r=!0),r=r||o.errors.length>0}return r}fireOnValueChanged(e,t,n){this.onValueChanged.fire(this,{name:e,question:n,value:t,reason:this.getValueChangeReason()})}notifyQuestionOnValueChanged(e,t,n){if(!this.isLoadingFromJson){var r=this.getQuestionsByValueName(e);if(r)for(var s=0;s<r.length;s++){var o=r[s];this.checkQuestionErrorOnValueChanged(o),o.onSurveyValueChanged(t)}this.updateProgressText(!0),this.fireOnValueChanged(e,t,n?this.getQuestionByName(n):void 0),!this.isDisposed&&(this.checkElementsBindings(e,t),this.notifyElementsOnAnyValueOrVariableChanged(e,n))}}checkElementsBindings(e,t){this.isRunningElementsBindings=!0;for(var n=0;n<this.pages.length;n++)this.pages[n].checkBindings(e,t);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)}notifyElementsOnAnyValueOrVariableChanged(e,t){if(this.isEndLoadingFromJson!=="processing"){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var n=0;n<this.pages.length;n++)this.pages[n].onAnyValueChanged(e,t);this.isEndLoadingFromJson||this.locStrsChanged()}}updateAllQuestionsValue(e){for(var t=this.getAllQuestions(),n=0;n<t.length;n++){var r=t[n],s=r.getValueName();r.updateValueFromSurvey(this.getValue(s),e),r.requireUpdateCommentValue&&r.updateCommentFromSurvey(this.getComment(s))}}notifyAllQuestionsOnValueChanged(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].onSurveyValueChanged(this.getValue(e[t].getValueName()))}checkOnPageTriggers(e){for(var t=this.getCurrentPageQuestions(!0),n={},r=0;r<t.length;r++){var s=t[r],o=s.getValueName();n[o]=this.getValue(o)}this.addCalculatedValuesIntoFilteredValues(n),this.checkTriggers(n,!0,e)}getCurrentPageQuestions(e=!1){var t=[],n=this.currentPage;if(!n)return t;for(var r=0;r<n.questions.length;r++){var s=n.questions[r];!e&&!s.visible||!s.name||t.push(s)}return t}checkTriggers(e,t,n=!1,r=!1,s){if(this.isCompleted||this.triggers.length==0||this.isDisplayMode)return;if(this.isTriggerIsRunning){for(var o in e)this.triggerKeys[o]=e[o];return}let a=!1;if(!n&&s&&this.hasRequiredValidQuestionTrigger){const c=this.getQuestionByValueName(s);a=c&&!c.validate(!1)}this.isTriggerIsRunning=!0,this.triggerKeys=e;var l=this.getFilteredProperties();let u=this.canBeCompletedByTrigger;for(let c=0;c<this.triggers.length;c++){const h=this.triggers[c];if(a&&h.requireValidQuestion)continue;const f={isOnNextPage:t,isOnComplete:n,isOnNavigation:r,keys:this.triggerKeys,properties:l};h.checkExpression(f)}u!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}checkTriggersAndRunConditions(e,t,n){var r={};r[e]={newValue:t,oldValue:n},this.runConditionOnValueChanged(e,t),this.checkTriggers(r,!1,!1,!1,e)}get hasRequiredValidQuestionTrigger(){for(let e=0;e<this.triggers.length;e++)if(this.triggers[e].requireValidQuestion)return!0;return!1}doElementsOnLoad(){for(var e=0;e<this.pages.length;e++)this.pages[e].onSurveyLoad()}get isRunningConditions(){return this.isRunningConditionsValue}runExpressions(){this.runConditions()}runConditions(){if(!(this.isCompleted||this.isEndLoadingFromJson==="processing"||this.isRunningConditions)){this.isRunningConditionsValue=!0;var e=this.getFilteredProperties(),t=this.pages.indexOf(this.currentPage);this.runConditionsCore(e),this.checkIfNewPagesBecomeVisible(t),this.isRunningConditionsValue=!1,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<oe.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}}runConditionOnValueChanged(e,t){this.isRunningConditions?(this.questionTriggersKeys&&(this.questionTriggersKeys[e]=t),this.isValueChangedOnRunningCondition=!0):(this.questionTriggersKeys={},this.questionTriggersKeys[e]=t,this.runConditions(),this.runQuestionsTriggers(e,t),this.questionTriggersKeys=void 0)}runConditionsCore(e){for(var t=this.pages,n=0;n<this.calculatedValues.length;n++)this.calculatedValues[n].resetCalculation();for(var n=0;n<this.calculatedValues.length;n++)this.calculatedValues[n].doCalculation(this.calculatedValues,e);super.runConditionCore(e);for(let r=0;r<t.length;r++)t[r].runCondition(e)}runQuestionsTriggers(e,t){if(this.isDisplayMode||this.isDesignMode)return;this.getAllQuestions().forEach(r=>{r.runTriggers(e,t,this.questionTriggersKeys)})}checkIfNewPagesBecomeVisible(e){var t=this.pages.indexOf(this.currentPage);if(!(t<=e+1)){for(var n=e+1;n<t;n++)if(this.pages[n].isVisible){this.currentPage=this.pages[n];break}}}sendResult(e=null,t=null,n=!1){this.isEditMode&&(n&&this.onPartialSend&&this.onPartialSend.fire(this,null),!e&&this.surveyPostId&&(e=this.surveyPostId),e&&(t&&(this.clientId=t),!(n&&!this.clientId)&&this.reportWarningOnUsingService()))}getResult(e,t){this.reportWarningOnUsingService()}loadSurveyFromService(e=null,t=null){e&&(this.surveyId=e),t&&(this.clientId=t),this.reportWarningOnUsingService()}reportWarningOnUsingService(){ha.warn("Self-hosted Form Library no longer supports integration with SurveyJS Demo Service. Learn more: https://surveyjs.io/stay-updated/release-notes/v2.0.0#form-library-removes-apis-for-integration-with-surveyjs-demo-service")}loadSurveyFromServiceJson(e){e&&(this.fromJSON(e),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))}onLoadingSurveyFromService(){}onLoadSurveyFromService(){}resetVisibleIndexes(){for(var e=this.getAllQuestions(!0),t=0;t<e.length;t++)e[t].setVisibleIndex(-1);this.updateVisibleIndexes()}updateVisibleIndexes(e){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson)){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}this.updatePageVisibleIndexes(),this.updatePageElementsVisibleIndexes(e),this.updateProgressText(!0)}}updatePageElementsVisibleIndexes(e){if(this.showQuestionNumbers=="onPage")for(var t=e?[e]:this.visiblePages,n=0;n<t.length;n++)t[n].setVisibleIndex(0);else{let r=this.getStartVisibleIndex();const s=this.pages;for(let o=0;o<s.length;o++)r+=s[o].setVisibleIndex(r)}}getStartVisibleIndex(){const e=this.showQuestionNumbers;return e==="on"||e==="recursive"?0:-1}updatePageVisibleIndexes(){this.updateButtonsVisibility();for(var e=0,t=0;t<this.pages.length;t++){const n=this.pages[t],r=n.isVisible&&(t>0||!n.isStartPage);n.visibleIndex=r?e++:-1,n.num=r?n.visibleIndex+1:-1}}fromJSON(e,t){if(!e)return;this.resetHasLogo(),this.resetPropertyValue("titleIsEmpty"),this.questionHashesClear(),this.jsonErrors=null,this.sjsVersion=void 0;const n=new Si;n.toObject(e,this,t),n.errors.length>0&&(this.jsonErrors=n.errors),this.onStateAndCurrentPageChanged(),this.endLoading(),this.updateState(),this.sjsVersion&&oe.version&&se.compareVerions(this.sjsVersion,oe.version)>0&&ha.warn("The version of the survey JSON schema (v"+this.sjsVersion+") is newer than your current Form Library version ("+oe.version+"). Please update the Form Library to make sure that all survey features work as expected.")}startLoadingFromJson(e){super.startLoadingFromJson(e),e&&e.locale&&(this.locale=e.locale)}setJsonObject(e){this.fromJSON(e)}endLoadingFromJson(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),super.endLoadingFromJson(),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.onQuestionsOnPageModeChanged("standard"),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateCurrentPage(),this.setCalculatedWidthModeUpdater(),this.onEndLoadingFromJson.fire(this,{})}updateNavigationCss(){const e=this.navigationBarValue;e&&(e.cssClasses=this.css.actionBar,e.containerCss=this.css.footer,this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())}createNavigationBar(){const e=new wr;return e.setItems(this.createNavigationActions()),e.locOwner=this,e}createNavigationActions(){const e="sv-nav-btn",t=new Xt({id:"sv-nav-start",visible:new Un(()=>this.isStartPageActive),visibleIndex:10,locTitle:this.locStartSurveyText,action:()=>this.start(),component:e}),n=new Xt({id:"sv-nav-prev",visible:new Un(()=>this.isShowPrevButton),visibleIndex:20,data:{mouseDown:()=>this.navigationMouseDown()},locTitle:this.locPagePrevText,action:()=>this.performPrevious(),component:e}),r=new Xt({id:"sv-nav-next",visible:new Un(()=>this.isShowNextButton),visibleIndex:30,data:{mouseDown:()=>this.nextPageMouseDown()},locTitle:this.locPageNextText,action:()=>this.nextPageUIClick(),component:e}),s=new Xt({id:"sv-nav-preview",visible:new Un(()=>this.isPreviewButtonVisible),visibleIndex:40,data:{mouseDown:()=>this.navigationMouseDown()},locTitle:this.locPreviewText,action:()=>this.showPreview(),component:e}),o=new Xt({id:"sv-nav-complete",visible:new Un(()=>this.isCompleteButtonVisible),visibleIndex:50,data:{mouseDown:()=>this.navigationMouseDown()},locTitle:this.locCompleteText,action:()=>this.taskManager.waitAndExecute(()=>this.tryComplete()),component:e});return this.updateNavigationItemCssCallback=()=>{t.innerCss=this.cssNavigationStart,n.innerCss=this.cssNavigationPrev,r.innerCss=this.cssNavigationNext,s.innerCss=this.cssNavigationPreview,o.innerCss=this.cssNavigationComplete},[t,n,r,s,o]}onBeforeRunConstructor(){}onBeforeCreating(){}onCreating(){}getProcessedTextValue(e){if(this.getProcessedTextValueCore(e),!this.onProcessDynamicText.isEmpty){var t=this.isValueEmpty(e.value);this.onProcessDynamicText.fire(this,e),e.isExists=e.isExists||t&&!this.isValueEmpty(e.value)}}getProcessedTextValueCore(e){const t=e.name.toLocaleLowerCase();if(["no","require","title"].indexOf(t)!==-1)return;const n=new Ec().getValueInfo({name:t,context:this.getValueGetterContext(),isText:!0,isDisplayValue:e.returnDisplayValue});n.isFound&&(e.isExists=!0,e.value=n.value)}clearUnusedValues(){this.isClearingUnsedValues=!0;for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].clearUnusedValues();this.clearInvisibleQuestionValues(),this.isClearingUnsedValues=!1}hasVisibleQuestionByValueName(e){var t=this.getQuestionsByValueName(e);if(!t)return!1;for(var n=0;n<t.length;n++){const r=t[n];if(r.isVisible&&r.isParentVisible&&!r.parentQuestion)return!0}return!1}questionsByValueName(e){var t=this.getQuestionsByValueName(e);return t||[]}clearInvisibleQuestionValues(){const e=this.clearInvisibleValues==="none"?"none":"onComplete",t=this.getAllQuestions();for(var n=0;n<t.length;n++)t[n].clearValueIfInvisible(e)}getVariable(e){if(!e)return null;e=e.toLowerCase();var t=this.variablesHash[e];return this.isValueEmpty(t)&&(e.indexOf(".")>-1||e.indexOf("[")>-1)?new Ec().getValue(e,new Oo(this.variablesHash)):t}setVariable(e,t){if(!e)return;const n=this.getVariable(e);this.valuesHash&&delete this.valuesHash[e],e=e.toLowerCase(),this.variablesHash[e]=t,this.notifyElementsOnAnyValueOrVariableChanged(e),se.isTwoValueEquals(n,t)||(this.checkTriggersAndRunConditions(e,t,n),this.onVariableChanged.fire(this,{name:e,value:t}))}getVariableNames(){var e=[];for(var t in this.variablesHash)e.push(t);return e}getUnbindValue(e){return this.editingObj?e:se.getUnbindValue(e)}getValue(e){if(!e||e.length==0)return null;var t=this.getDataValueCore(this.valuesHash,e);return this.getUnbindValue(t)}setValue(e,t,n=!1,r=!0,s){var o=t;if(r&&(o=this.questionOnValueChanging(e,t)),!(this.isValidateOnValueChanging&&this.checkErrorsOnValueChanging(e,o))&&!(!this.editingObj&&this.isValueEqual(e,o)&&this.isTwoValueEquals(o,t))){var a=this.getValue(e);this.isValueEmpyOnSetValue(e,o)?this.deleteDataValueCore(this.valuesHash,e):(o=this.getUnbindValue(o),this.setDataValueCore(this.valuesHash,e,o)),this.updateOnSetValue(e,o,a,n,r,s)}}isValueEmpyOnSetValue(e,t){return this.isValueEmpty(t,!1)?!this.editingObj||t===null||t===void 0?!0:this.editingObj.getDefaultPropertyValue(e)===t:!1}updateOnSetValue(e,t,n,r=!1,s=!0,o){this.updateQuestionValue(e,t),!(r===!0||this.isDisposed||this.isRunningElementsBindings)&&(o=o||e,this.nofifyQuesitonHash[e]=!0,this.checkTriggersAndRunConditions(e,t,n),this.nofifyQuesitonHash[e]&&(s&&this.notifyQuestionOnValueChanged(e,t,o),r!=="text"&&this.tryGoNextPageAutomatic(e),delete this.nofifyQuesitonHash[e]))}isValueEqual(e,t){(t===""||t===void 0)&&(t=null);var n=this.getValue(e);return(n===""||n===void 0)&&(n=null),t===null||n===null?t===n:this.isTwoValueEquals(t,n)}doOnPageAdded(e){if(e.setSurveyImpl(this),e.name||(e.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),!this.runningPages&&(this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage()),this.canFireAddPage())){var t={page:e};this.onPageAdded.fire(this,t)}}canFireAddPage(){return!this.isMovingPage}doOnPageRemoved(e){e.setSurveyImpl(null),!this.runningPages&&(e===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())}generateNewName(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].name]=!0;for(var s=1;n[t+s];)s++;return t+s}tryGoNextPageAutomatic(e){if(this.isEndLoadingFromJson||!this.autoAdvanceEnabled||!this.currentPage)return;const t=this.getQuestionByValueName(e);if(!t||t&&(!t.visible||!t.supportAutoAdvance())||!t.validate(!1)&&!t.supportGoNextPageError())return;if(this.currentSingleElement){const a=this.currentSingleElement,l=()=>{a===this.currentSingleElement&&(this.isLastElement?this.autoAdvanceAllowComplete&&this.tryCompleteOrShowPreview():this.performNext())};yc.safeTimeOut(l,oe.autoAdvanceDelay)}var n=this.getCurrentPageQuestions();if(n.indexOf(t)<0)return;for(var r=0;r<n.length;r++)if(n[r].hasInput&&n[r].isEmpty())return;if(this.isLastPage&&(this.autoAdvanceEnabled!==!0||!this.autoAdvanceAllowComplete)||this.checkIsCurrentPageHasErrors(!1))return;const s=this.currentPage,o=()=>{s===this.currentPage&&(this.isLastPage?this.tryCompleteOrShowPreview():this.nextPage())};yc.safeTimeOut(o,oe.autoAdvanceDelay)}tryCompleteOrShowPreview(){this.showPreviewBeforeComplete?this.showPreview():this.tryComplete()}getComment(e){return this.getValue(e+this.commentSuffix)||""}setComment(e,t,n=!1){if(t||(t=""),this.isTwoValueEquals(t,this.getComment(e)))return;const r=e+this.commentSuffix;t=this.questionOnValueChanging(r,t,e),this.isValueEmpty(t)?this.deleteDataValueCore(this.valuesHash,r):this.setDataValueCore(this.valuesHash,r,t);var s=this.getQuestionsByValueName(e);if(s)for(var o=0;o<s.length;o++)s[o].updateCommentFromSurvey(t),this.checkQuestionErrorOnValueChanged(s[o]);n||this.checkTriggersAndRunConditions(e,this.getValue(e),void 0),n!=="text"&&this.tryGoNextPageAutomatic(e);var a=this.getQuestionByValueName(e);a&&(this.fireOnValueChanged(r,t,a),a.comment=t,a.comment!=t&&(a.comment=t))}clearValue(e){this.setValue(e,null),this.setComment(e,null)}get clearDisabledChoices(){return this.getPropertyValue("clearDisabledChoices",!1)}set clearDisabledChoices(e){this.setPropertyValue("clearDisabledChoices",e)}get clearValueOnDisableItems(){return this.clearDisabledChoices}set clearValueOnDisableItems(e){this.clearDisabledChoices=e}getQuestionClearIfInvisible(e){return this.isShowingPreview||this.runningPages?"none":e!=="default"?e:this.clearInvisibleValues}questionVisibilityChanged(e,t,n){n&&this.updateVisibleIndexes(e.page),t||this.changeCurrentSingleElementOnVisibilityChanged(),this.onQuestionVisibleChanged.fire(this,{question:e,name:e.name,visible:t})}pageVisibilityChanged(e,t){if(this.isLoadingFromJson)return;(t&&!this.currentPage||e===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),t||this.changeCurrentSingleElementOnVisibilityChanged();const n=this.currentSingleElement,r=this.currentPage;n&&r&&n.page!==r&&(this.currentSingleElement=r.getFirstVisibleElement()),this.onPageVisibleChanged.fire(this,{page:e,visible:t})}panelVisibilityChanged(e,t){e.page&&(this.updateVisibleIndexes(e.page),t||this.changeCurrentSingleElementOnVisibilityChanged()),this.onPanelVisibleChanged.fire(this,{panel:e,visible:t})}questionCreated(e){this.onQuestionCreated.fire(this,{question:e})}questionAdded(e,t,n,r){e.name||(e.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),e.page&&this.questionHashesAdded(e),this.isLoadingFromJson||(this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(e.page),this.setCalculatedWidthModeUpdater()),this.canFireAddElement()&&this.onQuestionAdded.fire(this,{question:e,name:e.name,index:t,parent:n,page:r,parentPanel:n,rootPanel:r})}canFireAddElement(){return!this.isMovingQuestion}questionRemoved(e){this.questionHashesRemoved(e,e.name,e.getValueName()),this.updateVisibleIndexes(e.page),this.onQuestionRemoved.fire(this,{question:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()}questionRenamed(e,t,n){this.questionHashesRemoved(e,t,n),this.questionHashesAdded(e)}questionHashesClear(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}}questionHashesPanelAdded(e){if(!this.isLoadingFromJson)for(var t=e.questions,n=0;n<t.length;n++)this.questionHashesAdded(t[n])}questionHashesAdded(e){this.questionHashAddedCore(this.questionHashes.names,e,e.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,e,e.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,e,e.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,e,e.getValueName().toLowerCase())}questionHashesRemoved(e,t,n){t&&(this.questionHashRemovedCore(this.questionHashes.names,e,t),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,e,t.toLowerCase())),n&&(this.questionHashRemovedCore(this.questionHashes.valueNames,e,n),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,e,n.toLowerCase()))}questionHashAddedCore(e,t,n){var r=e[n];if(r){var r=e[n];r.indexOf(t)<0&&r.push(t)}else e[n]=[t]}questionHashRemovedCore(e,t,n){var r=e[n];if(r){var s=r.indexOf(t);s>-1&&r.splice(s,1),r.length==0&&delete e[n]}}panelAdded(e,t,n,r){e.name||(e.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(e.page),this.canFireAddElement()&&this.onPanelAdded.fire(this,{panel:e,name:e.name,index:t,parent:n,page:r,parentPanel:n,rootPanel:r})}panelRemoved(e){this.updateVisibleIndexes(e.page),this.onPanelRemoved.fire(this,{panel:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()}validateQuestion(e,t,n){if(!this.onValidateQuestion.isEmpty){var r={name:e.name,question:e,value:e.value,errors:t,error:null};this.onValidateQuestion.fire(this,r),r.error&&t.push(new Ma(r.error,this))}n&&this.beforeSettingQuestionErrors(e,t)}validatePanel(e,t,n){if(e.isPanel&&!this.onValidatePanel.isEmpty){const r={name:e.name,panel:e,error:null,errors:t};this.onValidatePanel.fire(this,r),r.error&&t.push(new Ma(r.error,this))}n&&this.makeRequiredErrorsInvisible(t)}processHtml(e,t){t||(t="");var n={html:e,reason:t};return this.onProcessHtml.fire(this,n),this.processText(n.html,!0)}getValueGetterContext(){return new e4e(this,this.valuesHash,this.variablesHash)}processText(e,t){return this.processTextEx({text:e,returnDisplayValue:t,doEncoding:!1}).text}processTextEx(e){const t=e.doEncoding===void 0?oe.web.encodeUrlParams:e.doEncoding;let n=e.text;(e.runAtDesign||!this.isDesignMode)&&(n=this.textPreProcessor.process(n,e.returnDisplayValue===!0,t,e.replaceUndefinedValues));const r={text:n,hasAllValuesOnLastRun:!0};return r.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,r}get textPreProcessor(){return this.textPreProcessorValue||(this.textPreProcessorValue=new B$,this.textPreProcessorValue.onProcess=e=>{this.getProcessedTextValue(e)}),this.textPreProcessorValue}getSurveyMarkdownHtml(e,t,n,r){const s={element:e,text:t,name:n,item:r,html:null};return this.onTextMarkdown.fire(this,s),s.html}getCorrectedAnswerCount(){return this.getCorrectAnswerCount()}getCorrectAnswerCount(){return this.getCorrectedAnswerCountCore(!0)}getQuizQuestionCount(){for(var e=this.getQuizQuestions(),t=0,n=0;n<e.length;n++)t+=e[n].quizQuestionCount;return t}getInCorrectedAnswerCount(){return this.getIncorrectAnswerCount()}getInCorrectAnswerCount(){return this.getIncorrectAnswerCount()}getIncorrectAnswerCount(){return this.getCorrectedAnswerCountCore(!1)}onCorrectQuestionAnswer(e,t){this.onIsAnswerCorrect.isEmpty||(t.question=e,this.onIsAnswerCorrect.fire(this,t))}getCorrectedAnswerCountCore(e){var t=this.getQuizQuestions(),n=0;for(let r=0;r<t.length;r++){const s=t[r],o=s.correctAnswerCount;e?n+=o:n+=s.quizQuestionCount-o}return n}getCorrectedAnswers(){return this.getCorrectedAnswerCount()}getInCorrectedAnswers(){return this.getInCorrectedAnswerCount()}get showTimerPanel(){return this.showTimer?this.timerLocation:"none"}set showTimerPanel(e){this.showTimer=e!=="none",this.showTimer&&(this.timerLocation=e)}get showTimer(){return this.getPropertyValue("showTimer")}set showTimer(e){this.setPropertyValue("showTimer",e)}get timerLocation(){return this.getPropertyValue("timerLocation")}set timerLocation(e){this.setPropertyValue("timerLocation",e)}get isTimerPanelShowingOnTop(){return this.showTimer&&this.timerLocation==="top"}get isTimerPanelShowingOnBottom(){return this.showTimer&&this.timerLocation==="bottom"}get timerInfoMode(){return this.getTimerInfoVal(this.getPropertyValue("timerInfoMode"))}set timerInfoMode(e){this.setPropertyValue("timerInfoMode",e)}getTimerInfoVal(e){return e==="all"?"combined":e}get showTimerPanelMode(){const e=this.timerInfoMode;return e==="combined"?"all":e}set showTimerPanelMode(e){this.timerInfoMode=this.getTimerInfoVal(e)}updateGridColumns(){this.pages.forEach(e=>e.updateGridColumns())}get widthMode(){return this.getPropertyValue("widthMode")}set widthMode(e){this.setPropertyValue("widthMode",e)}setCalculatedWidthModeUpdater(){this.isLoadingFromJson||(this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new Un(()=>this.calculateWidthMode()),this.calculatedWidthMode=this.calculatedWidthModeUpdater)}calculateWidthMode(){if(this.widthMode=="auto"){let e=!1;return this.questionsOnPageMode!="inputPerPage"&&this.pages.forEach(t=>{t.needResponsiveWidth()&&(e=!0)}),e?"responsive":"static"}return this.widthMode}get width(){return this.getPropertyValue("width")}set width(e){this.setPropertyValue("width",e)}get renderedWidth(){const e=this.getPropertyValue("calculatedWidthMode")=="static";let t=this.getPropertyValue("width");if(this.isScaled&&this.responsiveStartWidth>1){let n=this.responsiveStartWidth;try{t=t||this.staticStartWidth,n=isNaN(t)?parseFloat(t.toString().replace("px","")):t}catch{}return(e?n:this.responsiveStartWidth)*this.widthScale/100+"px"}return t&&!isNaN(t)&&(t=t+"px"),e&&t||void 0}setStaticStartWidth(e){this.staticStartWidth=e}setResponsiveStartWidth(e){this.responsiveStartWidth=e}get isScaled(){return Math.abs(this.widthScale-100)>.001}get timerInfo(){return this.getTimerInfo()}get timerClock(){let e,t;if(this.currentPage){let{spent:n,limit:r,minorSpent:s,minorLimit:o}=this.getTimerInfo();r>0?e=this.getDisplayClockTime(r-n):e=this.getDisplayClockTime(n),s!==void 0&&(o>0?t=this.getDisplayClockTime(o-s):t=this.getDisplayClockTime(s))}return{majorText:e,minorText:t}}get timerInfoText(){const e={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,e);var t=new Ar(this,!0);return t.text=e.text,t.textOrHtml}getTimerInfo(){let e=this.currentPage;if(!e)return{spent:0,limit:0};let t=e.timeSpent,n=this.timeSpent,r=e.getMaxTimeToFinish(),s=this.timeLimit;return this.timerInfoMode=="page"?{spent:t,limit:r}:this.timerInfoMode=="survey"?{spent:n,limit:s}:r>0&&s>0?{spent:t,limit:r,minorSpent:n,minorLimit:s}:r>0?{spent:t,limit:r,minorSpent:n}:s>0?{spent:n,limit:s,minorSpent:t}:{spent:t,minorSpent:n}}getTimerInfoText(){var e=this.currentPage;if(!e)return"";var t=this.getDisplayTime(e.timeSpent),n=this.getDisplayTime(this.timeSpent),r=e.getMaxTimeToFinish(),s=this.getDisplayTime(r),o=this.getDisplayTime(this.timeLimit);if(this.timerInfoMode=="page")return this.getTimerInfoPageText(e,t,s);if(this.timerInfoMode=="survey")return this.getTimerInfoSurveyText(n,o);if(this.timerInfoMode=="combined"){if(r<=0&&this.timeLimit<=0)return this.getLocalizationFormatString("timerSpentAll",t,n);if(r>0&&this.timeLimit>0)return this.getLocalizationFormatString("timerLimitAll",t,s,n,o);let a=this.getTimerInfoPageText(e,t,s),l=this.getTimerInfoSurveyText(n,o);return a+" "+l}return""}getTimerInfoPageText(e,t,n){return e&&e.getMaxTimeToFinish()>0?this.getLocalizationFormatString("timerLimitPage",t,n):this.getLocalizationFormatString("timerSpentPage",t,n)}getTimerInfoSurveyText(e,t){const n=this.timeLimit>0?"timerLimitSurvey":"timerSpentSurvey";return this.getLocalizationFormatString(n,e,t)}getDisplayClockTime(e){e<0&&(e=0);const t=Math.floor(e/60),n=e%60;let r=n.toString();return n<10&&(r="0"+r),`${t}:${r}`}getDisplayTime(e){const t=Math.floor(e/60),n=e%60;let r="";return t>0&&(r+=t+" "+this.getLocalizationString("timerMin")),r&&n==0?r:(r&&(r+=" "),r+n+" "+this.getLocalizationString("timerSec"))}get timerModel(){return this.timerModelValue}startTimer(){this.isEditMode&&this.timerModel.start()}startTimerFromUI(){this.showTimer&&this.state==="running"&&this.startTimer()}stopTimer(){this.timerModel.stop()}get timeSpent(){return this.timerModel.spent}set timeSpent(e){this.timerModel.spent=e}get timeLimit(){return this.getPropertyValue("timeLimit",0)}set timeLimit(e){this.setPropertyValue("timeLimit",e)}get maxTimeToFinish(){return this.timeLimit}set maxTimeToFinish(e){this.timeLimit=e}get timeLimitPerPage(){return this.getPropertyValue("timeLimitPerPage",0)}set timeLimitPerPage(e){this.setPropertyValue("timeLimitPerPage",e)}get maxTimeToFinishPage(){return this.timeLimitPerPage}set maxTimeToFinishPage(e){this.timeLimitPerPage=e}doTimer(e){if(this.onTimerTick.fire(this,{}),this.timeLimit>0&&this.timeLimit<=this.timeSpent&&(this.timeSpent=this.timeLimit,this.tryComplete()),e){var t=e.getMaxTimeToFinish();t>0&&t==e.timeSpent&&(this.isLastPage?this.tryComplete():this.nextPage())}}get inSurvey(){return!0}getSurveyData(){return this}getSurvey(){return this}getTextProcessor(){return this}getObjects(e,t){var n=[];return Array.prototype.push.apply(n,this.getPagesByNames(e)),Array.prototype.push.apply(n,this.getQuestionsByNames(t)),n}setTriggerValue(e,t,n){if(e)if(n)this.setVariable(e,t);else{this.startSetValueFromTrigger();const r=new Ec().getValueInfo({name:e,context:this.getValueGetterContext(),createObjects:!0});r.isFound&&r.question?r.question.value=t:e.indexOf(".")<0&&this.setValue(e,t),this.finishSetValueFromTrigger()}}copyTriggerValue(e,t,n){if(!e||!t)return;const r=new Ec().getValueInfo({name:t,context:this.getValueGetterContext(),createObjects:!0,isText:n,isDisplayValue:n});r.isFound&&this.setTriggerValue(e,se.getUnbindValue(r.value),!1)}triggerExecuted(e){this.onTriggerExecuted.fire(this,{trigger:e})}get isSettingValueFromTrigger(){return this.setValueFromTriggerCounter>0}startSetValueFromTrigger(){this.setValueFromTriggerCounter++}finishSetValueFromTrigger(){this.setValueFromTriggerCounter--}startMovingQuestion(){this.isMovingQuestion=!0}stopMovingQuestion(){this.isMovingQuestion=!1}get isQuestionDragging(){return this.isMovingQuestion}startMovingPage(){this.isMovingPage=!0}stopMovingPage(){this.isMovingPage=!1}focusQuestion(e){return this.focusQuestionByInstance(this.getQuestionByName(e,!0))}focusQuestionByInstance(e,t=!1){var n;if(!e||!e.isVisible||!e.page||((n=this.focusingQuestionInfo)===null||n===void 0?void 0:n.question)===e)return!1;this.focusingQuestionInfo={question:e,onError:t};const s=this.currentSingleElement;this.skippedPages.push({from:s||this.currentPage,to:s?e:e.page});const o=this.activePage!==e.page&&!e.page.isStartPage;return o&&(this.currentPage=e.page),this.isSingleVisibleQuestion&&!this.isDesignMode&&(this.currentSingleElement=e),o||this.focusQuestionInfo(),!0}focusQuestionInfo(){var e;const t=(e=this.focusingQuestionInfo)===null||e===void 0?void 0:e.question;t&&!t.isDisposed&&t.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0}questionEditFinishCallback(e,t){const n=this.enterKeyAction||oe.enterKeyAction;if(n=="loseFocus"&&t.target.blur(),n=="moveToNextEditor"){const r=this.currentPage.questions,s=r.indexOf(e);s>-1&&s<r.length-1?r[s+1].focus():t.target.blur()}}elementWrapperComponentNameCore(e,t,n,r,s){if(this.onElementWrapperComponentName.isEmpty)return e;const o={componentName:e,element:t,wrapperName:n,reason:r,item:s};return this.onElementWrapperComponentName.fire(this,o),o.componentName}elementWrapperDataCore(e,t,n,r,s){if(this.onElementWrapperComponentData.isEmpty)return e;const o={data:e,element:t,wrapperName:n,reason:r,item:s};return this.onElementWrapperComponentData.fire(this,o),o.data}getElementWrapperComponentName(e,t){const n=t==="logo-image"?"sv-logo-image":gn.TemplateRendererComponentName;return this.elementWrapperComponentNameCore(n,e,"component",t)}getQuestionContentWrapperComponentName(e){return this.elementWrapperComponentNameCore(gn.TemplateRendererComponentName,e,"content-component")}getRowWrapperComponentName(e){return this.elementWrapperComponentNameCore(gn.TemplateRendererComponentName,e,"row")}getItemValueWrapperComponentName(e,t){return this.elementWrapperComponentNameCore(gn.TemplateRendererComponentName,t,"itemvalue",void 0,e)}getElementWrapperComponentData(e,t){return this.elementWrapperDataCore(e,e,"component",t)}getRowWrapperComponentData(e){return this.elementWrapperDataCore(e,e,"row")}getItemValueWrapperComponentData(e,t){return this.elementWrapperDataCore(e,t,"itemvalue",void 0,e)}getMatrixCellTemplateData(e){const t=e.question;return this.elementWrapperDataCore(t,t,"cell")}searchText(e){e&&(e=e.toLowerCase());for(var t=[],n=0;n<this.pages.length;n++)this.pages[n].searchText(e,t);return t}getSkeletonComponentName(e){return this.skeletonComponentName}addLayoutElement(e){const t=this.removeLayoutElement(e.id);return this.layoutElements.push(e),t}findLayoutElement(e){return this.layoutElements.filter(n=>n.id===e)[0]}removeLayoutElement(e){const t=this.findLayoutElement(e);if(t){const n=this.layoutElements.indexOf(t);this.layoutElements.splice(n,1)}return t}getContainerContent(e){const t=new Array;for(let n of this.layoutElements)if(this.mode!=="display"&&rc(n.id,"timerpanel"))e==="header"&&this.isTimerPanelShowingOnTop&&!this.isStartPageActive&&t.push(n),e==="footer"&&this.isTimerPanelShowingOnBottom&&!this.isStartPageActive&&t.push(n);else if(this.state==="running"&&rc(n.id,this.progressBarComponentName)){if(this.questionsOnPageMode!="singlePage"||this.progressBarType=="questions"){const r=this.findLayoutElement("advanced-header"),s=r&&r.data;let o=!s||s.hasBackground;rc(this.progressBarLocation,"aboveHeader")&&(o=!1),rc(this.progressBarLocation,"belowHeader")&&(o=!0),this.showTOC&&!(s&&s.hasBackground)&&this.isShowProgressBarOnTop&&!this.isStartPageActive?e==="center"&&(o?delete n.index:n.index=-150,t.push(n)):(e==="header"&&!o&&(n.index=-150,this.isShowProgressBarOnTop&&!this.isStartPageActive&&t.push(n)),e==="center"&&o&&(n.index&&delete n.index,this.isShowProgressBarOnTop&&!this.isStartPageActive&&t.push(n))),e==="footer"&&this.isShowProgressBarOnBottom&&!this.isStartPageActive&&t.push(n)}}else if(rc(n.id,"buttons-navigation"))e==="contentTop"&&this.isNavigationButtonsShowingOnTop&&t.push(n),e==="contentBottom"&&this.isNavigationButtonsShowingOnBottom&&t.push(n);else if(this.state==="running"&&rc(n.id,"toc-navigation")&&this.showTOC)e==="left"&&["left","both"].indexOf(this.tocLocation)!==-1&&t.push(n),e==="right"&&["right","both"].indexOf(this.tocLocation)!==-1&&t.push(n);else if(rc(n.id,"advanced-header")){if(this.state==="running"||this.state==="starting"||this.showHeaderOnCompletePage===!0&&this.state==="completed"){const r=n&&n.data;this.showTOC&&!(r&&r.hasBackground)?e==="contentTop"&&t.push(n):n.container===e&&t.push(n)}}else(Array.isArray(n.container)&&n.container.indexOf(e)!==-1||n.container===e)&&t.push(n);return t.sort((n,r)=>(n.index||0)-(r.index||0)),t.forEach(n=>{n.getData&&(n.data=n.getData())}),t}processPopupVisiblityChanged(e,t,n){this.onPopupVisibleChanged.fire(this,{question:e,popup:t,visible:n})}processOpenDropdownMenu(e,t){const n=Object.assign({question:e},t);this.onOpenDropdownMenu.fire(this,n),t.menuType=n.menuType}getCssTitleExpandableSvg(){return null}createCustomChoiceItem(e){this.onCreateCustomChoiceItem.fire(this,e)}applyTheme(e){if(e){if(Object.keys(e).forEach(t=>{t!=="header"&&(t==="isPanelless"?this.isCompact=e[t]:this[t]=e[t])}),"header"in e&&!e.headerView&&(this.headerView="advanced"),this.headerView!=="basic"){this.removeLayoutElement("advanced-header");const t=new oi;t.fromTheme(e),this.insertAdvancedHeader(t)}this.themeChanged(e)}}themeChanged(e){this.getAllQuestions().forEach(t=>t.themeChanged(e))}dispose(){if(this.unConnectEditingObj(),this.removeScrollEventListener(),this.destroyResizeObserver(),this.rootElement=void 0,this.layoutElements){for(var e=0;e<this.layoutElements.length;e++)this.layoutElements[e].data&&this.layoutElements[e].data!==this&&this.layoutElements[e].data.dispose&&this.layoutElements[e].data.dispose();this.layoutElements.splice(0,this.layoutElements.length)}if(super.dispose(),this.editingObj=null,!!this.pages){this.currentPage=null;for(var e=0;e<this.pages.length;e++)this.pages[e].setSurveyImpl(void 0),this.pages[e].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}}_isElementShouldBeSticky(e){var t;if(!e)return!1;const n=(t=this.scrollerElement)===null||t===void 0?void 0:t.querySelector(e);return n?!!this.scrollerElement&&this.scrollerElement.scrollTop>0&&n.getBoundingClientRect().y<=this.scrollerElement.getBoundingClientRect().y:!1}get rootScrollDisabled(){return!(this.fitToContainer&&this.formScrollDisabled)}get formScrollDisabled(){return!this.backgroundImage||this.backgroundImageAttachment!=="fixed"}onScroll(){this.rootElement&&(this._isElementShouldBeSticky(".sv-components-container-center")?this.rootElement.classList&&this.rootElement.classList.add("sv-root--sticky-top"):this.rootElement.classList&&this.rootElement.classList.remove("sv-root--sticky-top"),this.tocModel&&this.tocModel.updateStickyTOCSize(this.rootElement)),this.onScrollCallback&&this.onScrollCallback()}addScrollEventListener(){this.scrollHandler=()=>{this.onScroll()},this.rootElement.addEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].addEventListener("scroll",this.scrollHandler),this.scrollerElement&&this.scrollerElement.addEventListener("scroll",this.scrollHandler)}removeScrollEventListener(){this.rootElement&&this.scrollHandler&&(this.rootElement.removeEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].removeEventListener("scroll",this.scrollHandler),this.scrollerElement&&this.scrollerElement.removeEventListener("scroll",this.scrollHandler))}}gn.TemplateRendererComponentName="sv-template-renderer";gn.platform="unknown";W([G()],gn.prototype,"completedCss",void 0);W([G()],gn.prototype,"completedBeforeCss",void 0);W([G()],gn.prototype,"loadingBodyCss",void 0);W([G()],gn.prototype,"containerCss",void 0);W([G({onSet:(i,e)=>{e.updateCss()}})],gn.prototype,"fitToContainer",void 0);W([G({onSet:(i,e)=>{if(i==="basic")e.removeLayoutElement("advanced-header");else if(!e.findLayoutElement("advanced-header")){const n=new oi;e.insertAdvancedHeader(n)}}})],gn.prototype,"headerView",void 0);W([G()],gn.prototype,"showBrandInfo",void 0);W([G()],gn.prototype,"enterKeyAction",void 0);W([G()],gn.prototype,"lazyRenderFirstBatchSizeValue",void 0);W([G({defaultValue:{}})],gn.prototype,"cssVariables",void 0);W([G()],gn.prototype,"_isMobile",void 0);W([G()],gn.prototype,"_isCompact",void 0);W([G({onSet:(i,e)=>{e.updateCss()}})],gn.prototype,"backgroundImage",void 0);W([G()],gn.prototype,"backgroundImageFit",void 0);W([G({onSet:(i,e)=>{e.updateCss()}})],gn.prototype,"backgroundImageAttachment",void 0);W([G()],gn.prototype,"wrapperFormCss",void 0);W([G({getDefaultValue:i=>i.progressBarType==="buttons"})],gn.prototype,"progressBarShowPageTitles",void 0);W([G()],gn.prototype,"progressBarShowPageNumbers",void 0);W([G()],gn.prototype,"progressBarInheritWidthFrom",void 0);W([G({defaultValue:!0})],gn.prototype,"validationEnabled",void 0);W([G()],gn.prototype,"rootCss",void 0);W([G({onSet:(i,e)=>{e.updateGridColumns()}})],gn.prototype,"gridLayoutEnabled",void 0);W([G()],gn.prototype,"calculatedWidthMode",void 0);W([G({defaultValue:100,onSet(i,e,t){e.pages.forEach(n=>n.updateRootStyle())}})],gn.prototype,"widthScale",void 0);W([G()],gn.prototype,"staticStartWidth",void 0);W([G()],gn.prototype,"responsiveStartWidth",void 0);W([rs()],gn.prototype,"layoutElements",void 0);function rc(i,e){return!i||!e?!1:i.toUpperCase()===e.toUpperCase()}me.addClass("survey",[{name:"locale",choices:()=>To.getLocales(!0),onGetValue:i=>i.locale==To.defaultLocale?null:i.locale},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo:file",serializationProperty:"locLogo"},{name:"logoWidth",default:"auto",minValue:0},{name:"logoHeight",default:"40px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"autoFocusFirstQuestion:boolean",alternativeName:"focusFirstQuestionAutomatic"},{name:"autoFocusFirstError:boolean",default:!0,alternativeName:"focusOnFirstError"},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem",isArray:!0},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page",isArray:!0,onSerializeValue:i=>i.originalPages||i.pages},{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(i){return null},onSetValue:function(i,e,t){i.pages.splice(0,i.pages.length);var n=i.addNewPage("");t.toObject({questions:e},n,t==null?void 0:t.options)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue",isArray:!0},{name:"sjsVersion",visible:!1},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName",{name:"partialSendEnabled:boolean",alternativeName:"sendResultOnPageNext"},{name:"showNavigationButtons:boolean",default:!0},{name:"navigationButtonsLocation",default:"bottom",choices:["top","bottom","topBottom"]},{name:"showPrevButton:boolean",default:!0,visibleIf:i=>i.showNavigationButtons!=="none"},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletePage:boolean",default:!0,alternativeName:"showCompletedPage"},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem",isArray:!0},{name:"questionOrder",alternativeName:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"off",choices:["on","onPage","recursive","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar:boolean",default:!1,onSetValue:(i,e,t)=>{i&&i.setShowProgressBar(e)}},{name:"progressBarLocation",default:"auto",choices:["auto","aboveheader","belowheader","bottom","topbottom"],visibleIf:i=>i.showProgressBar},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions"],visibleIf:i=>i.showProgressBar},{name:"progressBarShowPageTitles:switch",category:"navigation",visibleIf:i=>i.showProgressBar&&i.progressBarType==="pages"},{name:"progressBarShowPageNumbers:switch",default:!1,category:"navigation",visibleIf:i=>i.showProgressBar&&i.progressBarType==="pages"},{name:"progressBarInheritWidthFrom",default:"container",choices:["container","survey"],category:"navigation",visibleIf:i=>i.showProgressBar&&i.progressBarType==="pages"},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"],dependsOn:["showTOC"],visibleIf:i=>!!i&&i.showTOC},{name:"readOnly:boolean",default:!1},{name:"mode",default:"edit",choices:["edit","display"],visible:!1},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxCommentLength:number",default:0,minValue:0,alternativeName:"maxOthersLength"},{name:"autoAdvanceEnabled:boolean",alternativeName:"goNextPageAutomatic",onSetValue:function(i,e){e!=="autogonext"&&(e=se.isTwoValueEquals(e,!0)),e==="autogonext"&&(e=!0),i.setPropertyValue("autoAdvanceEnabled",e)}},{name:"autoAdvanceAllowComplete:boolean",default:!0,alternativeName:"allowCompleteSurveyAutomatic",visibleIf:i=>i.autoAdvanceEnabled===!0},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onComplete"]},{name:"validateVisitedEmptyFields:boolean",dependsOn:"checkErrorsMode",visibleIf:i=>i.checkErrorsMode==="onValueChanged"},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"commentAreaRows:number",minValue:1},{name:"startSurveyText",serializationProperty:"locStartSurveyText",visibleIf:i=>i.firstPageIsStartPage},{name:"pagePrevText",serializationProperty:"locPagePrevText",visibleIf:i=>i.showNavigationButtons!=="none"&&i.showPrevButton},{name:"pageNextText",serializationProperty:"locPageNextText",visibleIf:i=>i.showNavigationButtons!=="none"},{name:"completeText",serializationProperty:"locCompleteText",visibleIf:i=>i.showNavigationButtons!=="none"},{name:"previewText",serializationProperty:"locPreviewText",visibleIf:i=>i.showPreviewBeforeComplete},{name:"editText",serializationProperty:"locEditText",visibleIf:i=>i.showPreviewBeforeComplete},{name:"requiredMark",default:"*",alternativeName:"requiredText"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:i=>!i||i.showQuestionNumbers!=="off"},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredMark"],choices:i=>i?i.getQuestionTitlePatternOptions():[]},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStartPage:boolean",default:!1,alternativeName:"firstPageIsStarted"},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["standard","singlePage","questionPerPage","inputPerPage"]},{name:"showPreviewBeforeComplete:boolean",default:!1,onSetValue:(i,e,t)=>{i&&i.setShowPreviewBeforeComplete(e)}},{name:"previewMode",default:"allQuestions",choices:["allQuestions","answeredQuestions"],visibleIf:i=>i.showPreviewBeforeComplete},{name:"showTimer:boolean"},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0,enableIf:i=>i.showTimer},{name:"timeLimitPerPage:number",alternativeName:"maxTimeToFinishPage",default:0,minValue:0,enableIf:i=>i.showTimer},{name:"timerLocation",default:"top",choices:["top","bottom"],enableIf:i=>i.showTimer},{name:"timerInfoMode",alternativeName:"showTimerPanelMode",default:"combined",choices:["page","survey","combined"],enableIf:i=>i.showTimer},{name:"showTimerPanel",visible:!1,isSerializable:!1},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"gridLayoutEnabled:boolean",default:!1},{name:"width",visibleIf:i=>i.widthMode==="static"},{name:"fitToContainer:boolean",default:!0,visible:!1},{name:"headerView",default:"basic",choices:["basic","advanced"],visible:!1},{name:"backgroundImage:file",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}]);class GC extends Kt{getBaseType(){return"choiceitem"}get showCommentArea(){return this.getPropertyValue("showCommentArea")}set showCommentArea(e){e&&!this.supportComment&&(e=!1),this.setPropertyValue("showCommentArea",e)}get isCommentRequired(){return this.getPropertyValue("isCommentRequired")}set isCommentRequired(e){this.setPropertyValue("isCommentRequired",e)}get isCommentShowing(){return this.getPropertyValue("isCommentShowing",!1)}get locCommentPlaceholder(){return this.locCommentPlaceholderValue||this.createCommentPlaceholder(),this.locCommentPlaceholderValue}createCommentPlaceholder(){const e=new Ar(this,!0,"commentPlaceholder");e.onChanged=()=>{this.setPropertyValue("commentPlaceholder",this.locCommentPlaceholderValue.text)},this.locCommentPlaceholderValue=e}get commentPlaceholder(){return this.locCommentPlaceholder.text}set commentPlaceholder(e){this.locCommentPlaceholder.text=e}setIsCommentShowing(e){this.setPropertyValue("isCommentShowing",e)}get supportComment(){const e=this.locOwner;return!e||!e.supportMultipleComment?!1:e.supportMultipleComment(this)}canAddPpropertyToJSON(e){return e.name==="commentPlaceholder"?!!this.locCommentPlaceholderValue:super.canAddPpropertyToJSON(e)}onLocOwnerChanged(){this.showCommentArea&&!this.supportComment&&(this.showCommentArea=!1)}}class R5 extends hr{get waitingChoicesByURL(){return!this.isChoicesLoaded&&this.hasChoicesUrl}get selectedItemValues(){return this.getPropertyValue("selectedItemValues")}set selectedItemValues(e){this.setPropertyValue("selectedItemValues",e)}constructor(e){super(e),this.isRunningChoices=!1,this.isFirstLoadChoicesFromUrl=!0,this.isUpdatingChoicesDependedQuestions=!1,this._renderedChoices=[],this.renderedChoicesAnimation=new ph(this.getRenderedChoicesAnimationOptions(),n=>{this._renderedChoices=n,this.renderedChoicesChangedCallback&&this.renderedChoicesChangedCallback()},()=>this._renderedChoices),this.headItemsCount=0,this.footItemsCount=0,this.otherItemValue=this.createItemValue("other"),this.otherItem.showCommentArea=!0,this.otherItem.isCommentRequired=!0,this.noneItemValue=this.createNoneItem(oe.noneItemValue,"noneText","noneItemText"),this.refuseItemValue=this.createNoneItem(oe.refuseItemValue,"refuseText","refuseItemText"),this.dontKnowItemValue=this.createNoneItem(oe.dontKnowItemValue,"dontKnowText","dontKnowItemText"),this.createItemValues("choices"),this.registerPropertyChangedHandlers(["choices"],()=>{this.filterItems()||this.onVisibleChoicesChanged()}),this.createItemValues("customChoices"),this.registerPropertyChangedHandlers(["customChoices"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","choiceValuesFromQuestion","choiceTextsFromQuestion","showNoneItem","showRefuseItem","showDontKnowItem","isUsingRestful","isMessagePanelVisible"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],()=>{this.onVisibleChanged()}),this.registerPropertyChangedHandlers(["selecteditemValues"],n=>{this.onSelectedItemValuesChangedHandler(n)}),this.createNewArray("visibleChoices",()=>this.updateRenderedChoices(),()=>this.updateRenderedChoices()),this.setNewRestfulProperty();var t=this.createLocalizableString("otherText",this.otherItemValue,!0,"otherItemText");this.createLocalizableString("otherErrorText",this,!0,"otherRequiredError"),this.createLocalizableString("otherPlaceholder",this,!1,!0),this.otherItemValue.setLocText(t),this.choicesByUrl.createItemValue=n=>this.createItemValue(n),this.choicesByUrl.beforeSendRequestCallback=()=>{this.onBeforeSendRequest()},this.choicesByUrl.getResultCallback=n=>{this.onLoadChoicesFromUrl(n)},this.choicesByUrl.updateResultCallback=(n,r)=>this.survey?this.survey.updateChoicesFromServer(this,n,r):n}getType(){return"selectbase"}dispose(){super.dispose();const e=this.getQuestionWithChoices();e&&e.removeDependedQuestion(this);const t=this.commentAreaModelValues;t&&Object.keys(t).forEach(n=>{t[n].dispose()})}get otherTextAreaModel(){return this.getCommentTextAreaModel(this.otherItem)}getCommentTextAreaModel(e){const t=e==null?void 0:e.value;if(t===void 0)return null;this.commentAreaModelValues||(this.commentAreaModelValues={});const n=this.commentAreaModelValues;return n[t]||(n[t]=new E5(this.getOtherTextAreaOptions(e))),n[t]}getOtherTextAreaOptions(e){return{question:this,id:()=>this.getItemCommentId(e),propertyNames:[this.getCommentPropertyValue(e)],className:()=>this.cssClasses.comment,placeholder:()=>this.getCommentPlaceholder(e),isDisabledAttr:()=>this.isInputReadOnly||!1,rows:()=>this.commentAreaRows,maxLength:()=>this.getOthersMaxLength(),autoGrow:()=>this.survey&&this.survey.autoGrowComment,ariaRequired:()=>this.ariaRequired||this.a11y_input_ariaRequired,ariaLabel:()=>this.ariaLabel||this.a11y_input_ariaLabel,getTextValue:()=>this.getCommentValueCore(e),onTextAreaChange:n=>{this.onOtherValueChange(e,n)},onTextAreaInput:n=>{this.onOtherValueInput(e,n)}}}getCommentPlaceholder(e){if(e.commentPlaceholder)return e.commentPlaceholder;if(this.isOtherItemByValue(e))return this.otherPlaceholder;const t=this.commentPlaceholder;return new jC(e).processText(t,!0)}resetDependedQuestion(){this.choicesFromQuestion=""}get otherId(){return this.getItemCommentId(this.otherItem)}getItemCommentId(e){return this.id+"_"+e.normalizedId}getCommentElementsId(){return[this.commentId,this.otherId]}getItemValueType(){return"choiceitem"}createItemValue(e,t){const n=me.createClass(this.getItemValueType(),{value:e});return n.locOwner=this,t&&(n.text=t),n}hasErrors(e=!0,t=null){return(!t||t.isOnValueChanged!==!0)&&this.clearIncorrectValues(),super.hasErrors(e,t)}get isUsingCarryForward(){return!!this.carryForwardQuestionType}get carryForwardQuestionType(){return this.getPropertyValue("carryForwardQuestionType")}setCarryForwardQuestionType(e,t){const n=e?"select":t?"array":void 0;this.setPropertyValue("carryForwardQuestionType",n)}get isUsingRestful(){return this.getPropertyValueWithoutDefault("isUsingRestful")||!1}updateIsUsingRestful(){this.setPropertyValueDirectly("isUsingRestful",this.hasChoicesUrl)}supportGoNextPageError(){return!this.isOtherSelected||!!this.otherValue}isLayoutTypeSupported(e){return!0}localeChanged(){super.localeChanged(),this.choicesOrder!=="none"&&(this.updateVisibleChoices(),this.onVisibleChoicesChanged())}locStrsChanged(){super.locStrsChanged(),this.choicesFromUrl&&(Kt.locStrsChanged(this.choicesFromUrl),Kt.locStrsChanged(this.visibleChoices)),this.isUsingCarryForward&&Kt.locStrsChanged(this.visibleChoices)}updatePrevOtherErrorValue(e){const t=this.otherValue;e!==t&&(this.prevOtherErrorValue=t)}get otherValue(){return this.getStoreOthersAsComment()?this.getQuestionComment():this.otherValueCore}trimCommentValue(e){if(!(e===""||e&&e.toString().trim()===""))return e}set otherValue(e){e=this.trimCommentValue(e),!this.isSettingComment&&this.otherValue!==e&&(this.onUpdateCommentOnAutoOtherMode(e),this.updatePrevOtherErrorValue(e),this.isSettingComment=!0,this.getStoreOthersAsComment()?this.setNewComment(e):(this.otherValueCore=e,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.getValueOnSettingOther(e))),this.isSettingComment=!1,this.updateChoicesDependedQuestions())}get otherValueCore(){return this.getPropertyValue("otherValue")}set otherValueCore(e){this.setPropertyValue("otherValue",e)}get otherItem(){return this.otherItemValue}get isOtherSelected(){return this.showOtherItem&&this.getHasOther(this.renderedValue)}get isNoneSelected(){return this.showNoneItem&&this.getIsItemValue(this.renderedValue,this.noneItem)}supportMultipleComment(e){return!0}isCommentShowing(e){return e&&e.showCommentArea&&this.isItemSelected(e)}getCommentValue(e){return this.isCommentShowing(e)&&this.getCommentValueCore(e)||""}setCommentValue(e,t){this.isCommentShowing(e)&&this.setCommentValueCore(e,t)}get commentPropertyValue(){return"comment"}getCommentValueCore(e){return this.isOtherItemByValue(e)?this.otherValue:this.getPropertyValue(this.getCommentPropertyValue(e),this.getCommentValueByItem(e))||""}getCommentValueByItem(e){const t=this.value;return typeof t=="object"&&t[this.commentPropertyValue]||""}setCommentValueCore(e,t){this.isOtherItemByValue(e)?this.otherValue=t:(this.setCommentPropertyValue(e,t),this.isItemSelectedCore(e)&&(t?this.value={value:e.value,comment:t}:this.value=e.value))}setCommentPropertyValue(e,t){this.setPropertyValue(this.getCommentPropertyValue(e),t)}isOtherItemByValue(e){return e.value===this.otherItem.value}getCommentPropertyValue(e){return this.isOtherItemByValue(e)?this.getStoreOthersAsComment()?"comment":"otherValue":"other_"+e.normalizedId}get showNoneItem(){return this.getPropertyValue("showNoneItem")}set showNoneItem(e){this.setPropertyValue("showNoneItem",e)}get hasNone(){return this.showNoneItem}set hasNone(e){this.showNoneItem=e}get noneItem(){return this.noneItemValue}get noneText(){return this.getLocalizableStringText("noneText")}set noneText(e){this.setLocalizableStringText("noneText",e)}get locNoneText(){return this.getLocalizableString("noneText")}get showRefuseItem(){return this.getPropertyValue("showRefuseItem")}set showRefuseItem(e){this.setPropertyValue("showRefuseItem",e)}get refuseItem(){return this.refuseItemValue}get refuseText(){return this.getLocalizableStringText("refuseText")}set refuseText(e){this.setLocalizableStringText("refuseText",e)}get locRefuseText(){return this.getLocalizableString("refuseText")}get showDontKnowItem(){return this.getPropertyValue("showDontKnowItem")}set showDontKnowItem(e){this.setPropertyValue("showDontKnowItem",e)}get dontKnowItem(){return this.dontKnowItemValue}get dontKnowText(){return this.getLocalizableStringText("dontKnowText")}set dontKnowText(e){this.setLocalizableStringText("dontKnowText",e)}get locDontKnowText(){return this.getLocalizableString("dontKnowText")}createNoneItem(e,t,n){const r=this.createItemValue(e);r.isExclusive=!0;const s=this.createLocalizableString(t,r,!0,n);return r.setLocText(s),r}get choicesVisibleIf(){return this.getPropertyValue("choicesVisibleIf","")}set choicesVisibleIf(e){this.setPropertyValue("choicesVisibleIf",e),this.filterItems()}get choicesEnableIf(){return this.getPropertyValue("choicesEnableIf","")}set choicesEnableIf(e){this.setPropertyValue("choicesEnableIf",e),this.filterItems()}surveyChoiceItemVisibilityChange(){this.filterItems()}runConditionCore(e){super.runConditionCore(e),this.runItemsEnableCondition(e),this.runItemsCondition(e),this.choices.forEach(t=>{t.runConditionCore(e)})}isTextValue(){return!0}setDefaultIntoValue(e){!this.isValueEmpty(e)&&this.showOtherItem&&this.hasUnknownValue(e,!0)?this.setDefaultUnknownValue(e):super.setDefaultIntoValue(e)}setDefaultUnknownValue(e){this.renderedValue=this.setOtherValueIntoValue(e),this.otherValue=e}valueToData(e){return se.isValueEmpty(e)?e:Array.isArray(e)?e.length>0?e[0]:void 0:e}filterItems(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var e=this.getDataFilteredProperties();return this.runItemsEnableCondition(e),this.runItemsCondition(e)}runItemsCondition(e){this.setConditionalChoicesRunner();var t=this.runConditionsForItems(e);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),t&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),t}runItemsEnableCondition(e){this.setConditionalEnableChoicesRunner();var t=Kt.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,e,(n,r)=>r&&this.onEnableItemCallBack(n));t&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()}onAfterRunItemsEnableCondition(){}onEnableItemCallBack(e){return!0}onSelectedItemValuesChangedHandler(e){var t;(t=this.survey)===null||t===void 0||t.loadedChoicesFromServer(this)}getItemIfChoicesNotContainThisValue(e,t){return this.waitingChoicesByURL?this.createItemValue(e,t):null}getSingleSelectedItem(){const e=this.selectedItemValues;if(this.isEmpty())return null;const t=this.getItemByValue(this.value);return this.onGetSingleSelectedItem(t),!t&&(!e||this.value!=e.id)&&this.updateSelectedItemValues(),t||e||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))}onGetSingleSelectedItem(e){}getMultipleSelectedItems(){return[]}setConditionalChoicesRunner(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new Do(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null}setConditionalEnableChoicesRunner(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new Do(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null}canSurveyChangeItemVisibility(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()}changeItemVisibility(){return this.canSurveyChangeItemVisibility()?(e,t)=>this.survey.getChoiceItemVisibility(this,e,t):null}runConditionsForItems(e){this.filteredChoicesValue=[];const t=this.changeItemVisibility();return Kt.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,e,!this.survey||!this.survey.areInvisibleElementsShowing,(n,r)=>t?t(n,r):r)}getHasOther(e){return this.getIsItemValue(e,this.otherItem)}getIsItemValue(e,t){return e===t.value}get validatedValue(){return this.renderedValueToDataCore(this.value)}createRestful(){return new $i}setNewRestfulProperty(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this}get autoOtherMode(){return this.getPropertyValue("autoOtherMode")}set autoOtherMode(e){this.setPropertyValue("autoOtherMode",e)}getQuestionComment(){return this.showCommentArea?super.getQuestionComment():this.otherValueCore?this.otherValueCore:this.showCommentArea||this.getStoreOthersAsComment()?super.getQuestionComment():this.otherValueCore}selectOtherValueFromComment(e){e&&(this.prevIsOtherSelected=!0),this.value=e?this.otherItem.value:void 0}onUpdateCommentOnAutoOtherMode(e){if(!this.autoOtherMode)return;const t=this.isOtherSelected;(!t&&e||t&&!e)&&this.selectOtherValueFromComment(!!e)}getValueOnSettingOther(e){const t=this.rendredValueToData(this.renderedValue);if(this.showCommentArea||this.getStoreOthersAsComment())return t;const n=this.getItemByValue(e);if(!n||n===this.otherItem)return t;if(this.otherValueCore="",!Array.isArray(t))return e;const r=t.indexOf(this.otherItem.value);return r>-1&&t.splice(r,1),t.indexOf(e)<0&&t.push(e),t}clearValue(e){super.clearValue(e),this.selectedItemValues=void 0}get renderedValue(){return this.getPropertyValue("renderedValue",null)}set renderedValue(e){this.setRenderedValue(e,!0)}setRenderedValue(e,t){this.setPropertyValue("renderedValue",e),t&&!this.isReadOnlyAttr&&(e=this.rendredValueToData(e),this.isTwoValueEquals(e,this.value)||(this.value=e)),this.onRenderedValueChagned(t)}onRenderedValueChagned(e){this.choices.forEach(t=>this.updateItemIsCommentShowing(t,e)),this.showOtherItem&&this.updateItemIsCommentShowing(this.otherItem,e)}updateItemIsCommentShowing(e,t){if(e.showCommentArea){const n=this.isCommentShowing(e);e.setIsCommentShowing(n),!n&&t&&this.setCommentValueCore(e,void 0)}}selectItem(e){if(this.isReadOnlyAttr||!e)return;const t=this.getSingleSelectedItem();this.renderedValue=e.value,t&&t!==this.getSingleSelectedItem()&&this.onItemDeselected(t),this.onItemSelected(e)}onItemSelected(e){e.showCommentArea&&this.focusOtherComment(e)}onItemDeselected(e){e.showCommentArea&&this.setCommentValueCore(e,void 0)}setQuestionValue(e,t=!0,n=!0){this.isLoadingFromJson||this.isTwoValueEquals(this.value,e)||(this.setRenderedValue(this.rendredValueFromData(e),!1),super.setQuestionValue(e,t),this.updateChoicesDependedQuestions(),!(this.showCommentArea||!n)&&!this.isOtherSelected&&this.otherValue&&(this.makeCommentEmpty=!0,this.otherValueCore="",this.setPropertyValue("comment","")))}setValueCore(e){super.setValueCore(e),this.makeCommentEmpty&&(this.setCommentIntoData(""),this.makeCommentEmpty=!1)}setNewValue(e){e=this.valueFromData(e),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(e))&&(this.cachedValueForUrlRequests=e),super.setNewValue(e)}valueFromData(e){let t=this.getItemByValue(e,this.activeChoices);return t?typeof e=="object"&&t.showCommentArea&&!se.isValueEmpty(e[this.commentPropertyValue])?{value:t.value,[this.commentPropertyValue]:e[this.commentPropertyValue]}:t.value:super.valueFromData(e)}getItemByValue(e,t){const n=t||this.visibleChoices;return e&&typeof e=="object"&&!se.isValueEmpty(e.value)&&(e=e.value),Kt.getItemByValue(n,e)}rendredValueFromData(e){if(e&&typeof e=="object"&&!se.isValueEmpty(e.value)){const t=this.getItemByValue(e.value);t&&(this.setCommentPropertyValue(t,e[this.commentPropertyValue]),e=e.value)}return this.getStoreOthersAsComment()?e:this.renderedValueFromDataCore(e)}getValueFromValueWithComment(e){return e&&typeof e=="object"&&!se.isValueEmpty(e.value)?e.value:e}rendredValueToData(e){return this.getStoreOthersAsComment()?e:this.renderedValueToDataCore(e)}renderedValueFromDataCore(e){return this.hasUnknownValue(e,!0,!1)?(this.otherValue=e,this.otherItem.value):this.valueFromData(e)}renderedValueToDataCore(e){return e==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(e=this.otherValue),e}needConvertRenderedOtherToDataValue(){let e=this.otherValue;return!e||(e=e.trim(),!e)?!1:this.hasUnknownValue(e,!0,!1)}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.waitingChoicesByURL&&!this.waitingGetChoiceDisplayValueResponse}updateSelectedItemValues(){if(this.waitingGetChoiceDisplayValueResponse||!this.survey||this.isEmpty())return;const e=this.value,t=Array.isArray(e)?e:[e];t.some(r=>!this.getItemByValue(r,this.choices))&&(this.choicesLazyLoadEnabled||this.hasChoicesUrl)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.updateIsReady(),this.survey.getChoiceDisplayValue({question:this,values:t,setItems:(r,...s)=>{if(this.waitingGetChoiceDisplayValueResponse=!1,!r||!r.length){this.updateIsReady();return}const o=r.map((a,l)=>this.createItemValue(t[l],a));this.setCustomValuesIntoItems(o,s),Array.isArray(e)?this.selectedItemValues=o:this.selectedItemValues=o[0],this.updateIsReady()}}))}setCustomValuesIntoItems(e,t){!Array.isArray(t)||t.length===0||t.forEach(n=>{const r=n.values,s=n.propertyName;if(Array.isArray(r))for(let o=0;o<e.length&&o<r.length;o++)e[o][s]=r[o]})}hasUnknownValue(e,t=!1,n=!0,r=!1){if(!Array.isArray(e))return this.hasUnknownValueItem(e,t,n,r);for(let s=0;s<e.length;s++)if(this.hasUnknownValueItem(e[s],t,n,r))return!0;return!1}hasUnknownValueItem(e,t=!1,n=!0,r=!1){if(!r&&this.isValueEmpty(e)||t&&e==this.otherItem.value||this.showNoneItem&&e==this.noneItem.value||this.showRefuseItem&&e==this.refuseItem.value||this.showDontKnowItem&&e==this.dontKnowItem.value)return!1;var s=n?this.getFilteredChoices():this.activeChoices;return this.getItemByValue(e,s)==null}isValueDisabled(e){var t=this.getItemByValue(e,this.getFilteredChoices());return!!t&&!t.isEnabled}endLoadingFromJson(){super.endLoadingFromJson(),this.updateVisibleChoices()}get customChoices(){return this.getPropertyValue("customChoices")}set customChoices(e){this.setPropertyValue("customChoices",e)}get choicesByUrl(){return this.getPropertyValue("choicesByUrl")}set choicesByUrl(e){e&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(e.toJSON()))}get choices(){return this.getPropertyValue("choices")}set choices(e){this.setPropertyValue("choices",e)}get choicesFromQuestion(){return this.getPropertyValue("choicesFromQuestion")}set choicesFromQuestion(e){var t=this.getQuestionWithChoices();this.isLockVisibleChoices=!!t&&t.name===e,t&&t.name!==e&&(t.removeDependedQuestion(this),this.isInDesignMode&&!this.isLoadingFromJson&&e&&this.setPropertyValue("choicesFromQuestion",void 0)),this.setPropertyValue("choicesFromQuestion",e),this.isLockVisibleChoices=!1}get choicesFromQuestionMode(){return this.getPropertyValue("choicesFromQuestionMode")}set choicesFromQuestionMode(e){this.setPropertyValue("choicesFromQuestionMode",e)}get choiceValuesFromQuestion(){return this.getPropertyValue("choiceValuesFromQuestion")}set choiceValuesFromQuestion(e){this.setPropertyValue("choiceValuesFromQuestion",e)}get choiceTextsFromQuestion(){return this.getPropertyValue("choiceTextsFromQuestion")}set choiceTextsFromQuestion(e){this.setPropertyValue("choiceTextsFromQuestion",e)}get hideIfChoicesEmpty(){return this.getPropertyValue("hideIfChoicesEmpty")}set hideIfChoicesEmpty(e){this.setPropertyValue("hideIfChoicesEmpty",e)}get keepIncorrectValues(){return this.getPropertyValue("keepIncorrectValues",!1)}set keepIncorrectValues(e){this.setPropertyValue("keepIncorrectValues",e)}get storeOthersAsComment(){return this.getPropertyValue("storeOthersAsComment")}set storeOthersAsComment(e){this.setPropertyValue("storeOthersAsComment",e)}get choicesOrder(){return this.getPropertyValue("choicesOrder")}set choicesOrder(e){e=e.toLowerCase(),e!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",e),this.onVisibleChoicesChanged())}get otherText(){return this.getLocalizableStringText("otherText")}set otherText(e){this.setLocalizableStringText("otherText",e),this.onVisibleChoicesChanged()}get locOtherText(){return this.getLocalizableString("otherText")}get separateSpecialChoices(){return this.getPropertyValue("separateSpecialChoices")}set separateSpecialChoices(e){this.setPropertyValue("separateSpecialChoices",e)}get otherPlaceholder(){return this.getLocalizableStringText("otherPlaceholder")}set otherPlaceholder(e){this.setLocalizableStringText("otherPlaceholder",e)}get locOtherPlaceholder(){return this.getLocalizableString("otherPlaceholder")}get otherPlaceHolder(){return this.otherPlaceholder}set otherPlaceHolder(e){this.otherPlaceholder=e}get otherErrorText(){return this.getLocalizableStringText("otherErrorText")}set otherErrorText(e){this.setLocalizableStringText("otherErrorText",e)}get locOtherErrorText(){return this.getLocalizableString("otherErrorText")}get visibleChoices(){return this.getPropertyValue("visibleChoices")}get enabledChoices(){for(var e=[],t=this.visibleChoices,n=0;n<t.length;n++)t[n].isEnabled&&e.push(t[n]);return e}updateVisibleChoices(){if(this.isLoadingFromJson||this.isDisposed)return;var e=this.calcVisibleChoices(),t=new Array;(e||[]).forEach(r=>t.push(r));const n=this.visibleChoices;(!this.isTwoValueEquals(n,t)||this.choicesLazyLoadEnabled)&&(this.setArrayPropertyDirectly("visibleChoices",t),this.updateRenderedChoices())}calcVisibleChoices(){let e=new Array;return this.customChoices.forEach(t=>e.push(t)),this.getFilteredChoices().forEach(t=>e.push(t)),e=this.sortArrayByChoicesOrder(e),this.addToVisibleChoices(e,this.isAddDefaultItems),e}setCanShowOptionItemCallback(e){this.canShowOptionItemCallback=e,e&&this.onVisibleChoicesChanged()}get newItem(){return this.newItemValue}addToVisibleChoices(e,t){this.headItemsCount=0,this.footItemsCount=0,this.isEmptyActiveChoicesInDesign||this.addNewItemToVisibleChoices(e,t);const n=new Array;this.addNonChoicesItems(n,t),n.sort((r,s)=>r.index===s.index?0:r.index<s.index?-1:1);for(let r=0;r<n.length;r++){const s=n[r];s.index<0?(e.splice(r,0,s.item),this.headItemsCount++):(e.push(s.item),this.footItemsCount++)}}addNewItemToVisibleChoices(e,t){t&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0,this.newItemValue.registerFunctionOnPropertyValueChanged("isVisible",()=>{this.updateVisibleChoices()})),this.newItemValue.isVisible&&!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,t,!1)&&(this.footItemsCount=1,e.push(this.newItemValue)))}addNonChoicesItems(e,t){this.supportNone()&&this.addNonChoiceItem(e,this.noneItem,t,this.showNoneItem,oe.specialChoicesOrder.noneItem),this.supportRefuse()&&this.addNonChoiceItem(e,this.refuseItem,t,this.showRefuseItem,oe.specialChoicesOrder.refuseItem),this.supportDontKnow()&&this.addNonChoiceItem(e,this.dontKnowItem,t,this.showDontKnowItem,oe.specialChoicesOrder.dontKnowItem),this.supportOther()&&this.addNonChoiceItem(e,this.otherItem,t,this.showOtherItem,oe.specialChoicesOrder.otherItem)}addNonChoiceItem(e,t,n,r,s){this.canShowOptionItem(t,n,r)&&s.forEach(o=>e.push({index:o,item:t}))}canShowOptionItem(e,t,n){let r=t&&(this.canShowOptionItemCallback?this.canShowOptionItemCallback(e):!0)||n;return this.canSurveyChangeItemVisibility()?this.changeItemVisibility()(e,r):r}isItemInList(e){return e===this.otherItem?this.showOtherItem:e===this.noneItem?this.showNoneItem:e===this.refuseItem?this.showRefuseItem:e===this.dontKnowItem?this.showDontKnowItem:e!==this.newItemValue}get isAddDefaultItems(){return oe.showDefaultItemsInCreator&&this.isInDesignMode&&!this.customWidget}getPlainData(e={includeEmpty:!0,includeQuestionTypes:!1}){var t=super.getPlainData(e);if(t){var n=Array.isArray(this.value)?this.value:[this.value];t.isNode=!0,t.data=(t.data||[]).concat(n.map((r,s)=>{var o=this.getItemByValue(r),a={name:s,title:this.getLocalizationString("choices_Choice"),value:r,displayValue:this.getChoicesDisplayValue(this.visibleChoices,r),getString:l=>typeof l=="object"?JSON.stringify(l):l,isNode:!1};return o&&(e.calculations||[]).forEach(l=>{a[l.propertyName]=o[l.propertyName]}),this.isOtherSelected&&this.otherItemValue===o&&(a.isOther=!0,a.displayValue=this.otherValue),a}))}return t}getDisplayValueCore(e,t){return t=this.getValueFromValueWithComment(t),this.useDisplayValuesInDynamicTexts?this.getChoicesDisplayValue(this.visibleChoices,t):t}getDisplayValueEmpty(){return Kt.getTextOrHtmlByValue(this.visibleChoices,void 0)}getChoicesDisplayValue(e,t){if(t==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;const n=this.getSingleSelectedItem();if(n&&this.isTwoValueEquals(n.value,t))return n.locText.textOrHtml;var r=Kt.getTextOrHtmlByValue(e,t);return r==""&&t?t:r}getDisplayArrayValue(e,t,n){var r=this.visibleChoices,s=[];const o=[];for(var a=0;a<t.length;a++)o.push(n?n(a):t[a]);if(se.isTwoValueEquals(this.value,o)&&this.getMultipleSelectedItems().forEach((l,u)=>s.push(this.getItemDisplayValue(l,o[u]))),s.length===0)for(var a=0;a<o.length;a++){let u=this.getChoicesDisplayValue(r,o[a]);u&&s.push(u)}return s.join(oe.choicesSeparator)}getItemDisplayValue(e,t){if(e===this.otherItem){if(this.showOtherItem&&this.showCommentArea&&t)return t;if(this.comment)return this.comment}return e.locText.textOrHtml}getFilteredChoices(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices}get activeChoices(){const e=this.getCarryForwardQuestion();return this.carryForwardQuestionType==="select"?(e.addDependedQuestion(this),this.getChoicesFromSelectQuestion(e)):this.carryForwardQuestionType==="array"?(e.addDependedQuestion(this),this.getChoicesFromArrayQuestion(e)):this.isEmptyActiveChoicesInDesign?[]:this.choicesFromUrl?this.choicesFromUrl:this.getChoices()}get isMessagePanelVisible(){return this.getPropertyValue("isMessagePanelVisible",!1)}set isMessagePanelVisible(e){this.setPropertyValue("isMessagePanelVisible",e)}get isEmptyActiveChoicesInDesign(){return this.isInDesignMode&&(this.hasChoicesUrl||this.isMessagePanelVisible)}getCarryForwardQuestion(e){const t=this.findCarryForwardQuestion(e),n=this.getQuestionWithChoicesCore(t),r=n?null:this.getQuestionWithArrayValue(t);return this.setCarryForwardQuestionType(!!n,!!r),n||r?t:null}getIsReadyDependsOn(){const e=super.getIsReadyDependsOn();return this.carryForwardQuestion&&e.push(this.carryForwardQuestion),e}getQuestionWithChoices(){return this.getQuestionWithChoicesCore(this.findCarryForwardQuestion())}findCarryForwardQuestion(e){var t;return e||(e=this.data||((t=this.parentQuestion)===null||t===void 0?void 0:t.data)),this.carryForwardQuestion=null,this.choicesFromQuestion&&e&&(this.carryForwardQuestion=e.findQuestionByName(this.choicesFromQuestion)),this.carryForwardQuestion}getQuestionWithChoicesCore(e){return e&&e.visibleChoices&&me.isDescendantOf(e.getType(),"selectbase")&&e!==this?e:null}getQuestionWithArrayValue(e){return e&&e.isValueArray?e:null}getChoicesFromArrayQuestion(e){if(this.isInDesignMode)return[];const t=e.value;if(!Array.isArray(t))return[];const n=[];for(var r=0;r<t.length;r++){const s=t[r];if(!se.isValueObject(s))continue;const o=this.getValueKeyName(s);if(o&&!this.isValueEmpty(s[o])){const a=this.choiceTextsFromQuestion?s[this.choiceTextsFromQuestion]:void 0;n.push(this.createItemValue(s[o],a))}}return n}getValueKeyName(e){if(this.choiceValuesFromQuestion)return this.choiceValuesFromQuestion;const t=Object.keys(e);return t.length>0?t[0]:void 0}getChoicesFromSelectQuestion(e){if(this.isInDesignMode)return[];const t=[];var n=this.choicesFromQuestionMode=="selected"?!0:this.choicesFromQuestionMode=="unselected"?!1:void 0;const r=e.visibleChoices;for(var s=0;s<r.length;s++)if(!e.isBuiltInChoice(r[s])){if(n===void 0){t.push(this.copyChoiceItem(r[s]));continue}var o=e.isItemSelected(r[s]);(o&&n||!o&&!n)&&t.push(this.copyChoiceItem(r[s]))}return this.choicesFromQuestionMode==="selected"&&!this.showOtherItem&&e.isOtherSelected&&e.otherValue&&t.push(this.createItemValue(e.otherItem.value,e.otherValue)),t}copyChoiceItem(e){const t=this.createItemValue(e.value);return t.setData(e),t}get hasActiveChoices(){var e=this.visibleChoices;(!e||e.length==0)&&(this.onVisibleChoicesChanged(),e=this.visibleChoices);for(var t=0;t<e.length;t++)if(!this.isBuiltInChoice(e[t]))return!0;return!1}isBuiltInChoice(e){return[this.otherItem,this.noneItem,this.refuseItem,this.dontKnowItem,this.newItemValue].indexOf(e)>-1}isNoneItem(e){return e.isExclusive===!0}getChoices(){return this.choices}get showOtherItem(){return this.getPropertyValue("showOtherItem",!1)}set showOtherItem(e){!this.supportOther()||this.showOtherItem==e||(this.setPropertyValue("showOtherItem",e),this.onVisibleChoicesChanged())}get hasOther(){return this.showOtherItem}set hasOther(e){this.showOtherItem=e}get requireUpdateCommentValue(){return this.showCommentArea||this.showOtherItem}supportOther(){return this.isSupportProperty("showOtherItem")}supportNone(){return this.isSupportProperty("showNoneItem")}supportRefuse(){return this.isSupportProperty("showRefuseItem")}supportDontKnow(){return this.isSupportProperty("showDontKnowItem")}isSupportProperty(e){return!this.isDesignMode||this.getPropertyByName(e).visible}onCheckForErrors(e,t,n){if(super.onCheckForErrors(e,t,n),this.hasEmptyComments()&&(!t||this.prevOtherErrorValue)){const r=new fRe(this.otherErrorText,this);r.onUpdateErrorTextCallback=s=>{s.text=this.otherErrorText},e.push(r)}}hasEmptyComments(){const e=this.visibleChoices;for(let t=0;t<e.length;t++){const n=e[t];if(n.isCommentRequired&&this.isCommentShowing(n)&&!this.getCommentValue(e[t]))return!0}return!1}setSurveyImpl(e,t){this.isRunningChoices=!0,super.setSurveyImpl(e,t),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()}setSurveyCore(e){super.setSurveyCore(e),e&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()}getStoreOthersAsComment(){return this.checkHasChoicesComments()?!0:this.showCommentArea?!1:this.storeOthersAsComment===!0||this.storeOthersAsComment=="default"&&(this.survey!=null?this.survey.storeOthersAsComment:!0)||this.hasChoicesUrl&&!this.choicesFromUrl}checkHasChoicesComments(){const e=this.choices;for(let t=0;t<e.length;t++)if(e[t].showCommentArea)return!0;return!1}onSurveyLoad(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),super.onSurveyLoad()}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t),e!=this.getValueName()&&this.runChoicesByUrl();const n=this.choicesFromQuestion;e&&n&&(e===n||t===n)&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues())}updateValueFromSurvey(e,t){var n="";this.showOtherItem&&this.activeChoices.length>0&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(e)&&!this.getHasOther(e)?(n=this.getCommentFromValue(e),e=this.setOtherValueIntoValue(e)):this.data&&(n=this.data.getComment(this.getValueName()))),super.updateValueFromSurvey(e,t),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),n&&this.setNewComment(n)}getCommentFromValue(e){return e}setOtherValueIntoValue(e){return this.otherItem.value}onOtherValueInput(e,t){this.isInputTextUpdate&&t.target&&this.setCommentValueCore(e,t.target.value)}onOtherValueChange(e,t){this.setCommentValueCore(e,t.target.value);const n=this.getCommentValueCore(e);n!==t.target.value&&(t.target.value=n||"")}runChoicesByUrl(){if(this.updateIsUsingRestful(),!(!this.choicesByUrl||this.isLoadingFromJson||this.isRunningChoices||this.isInDesignMode)){var e=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;e||(e=this.survey),e&&(this.updateIsReady(),this.isRunningChoices=!0,this.choicesByUrl.run(e),this.isRunningChoices=!1)}}onBeforeSendRequest(){oe.web.disableQuestionWhileLoadingChoices===!0&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)}onLoadChoicesFromUrl(e){this.enableOnLoadingChoices&&(this.readOnly=!1);const t=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&t.push(this.choicesByUrl.error);var n=null,r=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,r=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value);var s=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,r);if(e&&(e.length>0||this.choicesByUrl.allowEmptyResponse)&&(n=new Array,Kt.setData(n,e)),n)for(var o=0;o<n.length;o++)n[o].locOwner=this;this.setChoicesFromUrl(n,t,s)}canAvoidSettChoicesFromUrl(e){return this.isFirstLoadChoicesFromUrl||(!e||Array.isArray(e)&&e.length===0)&&!this.isEmpty()?!1:se.isTwoValueEquals(this.choicesFromUrl,e)}setChoicesFromUrl(e,t,n){if(!this.canAvoidSettChoicesFromUrl(e)){if(this.isFirstLoadChoicesFromUrl=!1,this.choicesFromUrl=e,this.filterItems(),this.onVisibleChoicesChanged(),e){var r=this.updateCachedValueForUrlRequests(n,e);if(r&&!this.isReadOnly){var s=!this.isTwoValueEquals(this.value,r.value);try{this.isValueEmpty(r.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=s,s?this.value=r.value:this.setQuestionValue(r.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!e&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=t,this.choicesLoaded()}}createCachedValueForUrlRequests(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++)n.push(this.createCachedValueForUrlRequests(e[r],!0));return n}var s=t?!this.hasUnknownValue(e):!0;return{value:e,isExists:s}}updateCachedValueForUrlRequests(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++){var s=this.updateCachedValueForUrlRequests(e[r],t);if(s&&!this.isValueEmpty(s.value)){var o=s.value,l=this.getItemByValue(s.value,t);l&&(o=l.value),n.push(o)}}return{value:n}}var a=e.isExists&&this.hasUnknownValue(e.value)?null:e.value,l=this.getItemByValue(a,t);return l&&(a=l.value),{value:a}}updateChoicesDependedQuestions(){this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning||(this.isUpdatingChoicesDependedQuestions=!0,this.updateDependedQuestions(),this.isUpdatingChoicesDependedQuestions=!1)}updateDependedQuestion(){this.onVisibleChoicesChanged(),this.clearIncorrectValues()}onSurveyValueChanged(e){super.onSurveyValueChanged(e),this.updateChoicesDependedQuestions()}onVisibleChoicesChanged(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())}isVisibleCore(){const e=super.isVisibleCore();if(!this.hideIfChoicesEmpty||!e)return e;var t=this.isUsingCarryForward?this.visibleChoices:this.getFilteredChoices();return!t||t.length>0}sortArrayByChoicesOrder(e){const t=e.slice();if(this.isInDesignMode)return t;const n=this.choicesOrder.toLowerCase();return n=="asc"?this.sortArray(t,1):n=="desc"?this.sortArray(t,-1):n=="random"?this.randomizeArray(t):t}sortArray(e,t){return e.sort(function(n,r){return se.compareStrings(n.calculatedText,r.calculatedText)*t})}randomizeArray(e){return se.randomizeArray(e)}get hasChoicesUrl(){return this.choicesByUrl&&!!this.choicesByUrl.url}clearIncorrectValues(){!this.canClearIncorrectValues()||!this.hasValueToClearIncorrectValues()||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())}canClearIncorrectValues(){return!(this.canAddCustomChoices()||this.carryForwardQuestion&&!this.carryForwardQuestion.isReady||this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1||this.hasChoicesUrl&&(!this.choicesFromUrl||this.choicesFromUrl.length==0))}canAddCustomChoices(){return!1}hasValueToClearIncorrectValues(){return this.survey&&this.survey.keepIncorrectValues?!1:!this.keepIncorrectValues&&!this.isEmpty()}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e),this.clearIncorrectValues()}isItemSelected(e){return e===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(e)}isItemSelectedCore(e){return e.value===this.renderedValue}clearDisabledValues(){!this.survey||!this.survey.clearDisabledChoices||this.clearDisabledValuesCore()}clearIncorrectValuesCore(){var e=this.value;this.canClearValueAnUnknown(e)&&this.clearValue(!0)}canClearValueAnUnknown(e){return!this.getStoreOthersAsComment()&&this.isOtherSelected?!1:this.hasUnknownValue(e,!0,!0,!0)}clearDisabledValuesCore(){this.isValueDisabled(this.value)&&this.clearValue(!0)}clearUnusedValues(){super.clearUnusedValues(),this.isOtherValueUnused()&&(this.otherValue="")}isOtherValueUnused(){return!this.isOtherSelected}getColumnClass(){return new Ie().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()}getItemIndex(e){return this.visibleChoices.indexOf(e)}getItemClass(e){const t={item:e};var n=this.getItemClassCore(e,t);return t.css=n,this.survey&&this.survey.updateChoiceItemCss(this,t),t.css}getCurrentColCount(){return this.colCount}getItemClassCore(e,t){const n=new Ie().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&this.colCount===0).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&this.colCount!==0).append(this.cssClasses.itemOnError,this.hasCssError()),r=this.getIsDisableAndReadOnlyStyles(!e.isEnabled),s=r[0],o=r[1],a=this.isItemSelected(e),l=!o&&!a&&!(this.survey&&this.survey.isDesignMode),u=e===this.noneItem;return t.isDisabled=o||s,t.isChecked=a,t.isNone=u,n.append(this.cssClasses.itemDisabled,o).append(this.cssClasses.itemReadOnly,s).append(this.cssClasses.itemPreview,this.isPreviewStyle).append(this.cssClasses.itemChecked,a).append(this.cssClasses.itemHover,l).append(this.cssClasses.itemNone,u).toString()}getLabelClass(e){return new Ie().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(e)).toString()}getControlLabelClass(e){return new Ie().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(e)).toString()||void 0}updateRenderedChoices(){this.renderedChoices=this.onGetRenderedChoicesCallback?this.onGetRenderedChoicesCallback(this.visibleChoices):this.visibleChoices}getRenderedChoicesAnimationOptions(){return{isAnimationEnabled:()=>this.animationAllowed,getRerenderEvent:()=>this.onElementRerendered,getKey:e=>e!=this.newItemValue?e.value:this.newItemValue,getLeaveOptions:e=>{let t=this.cssClasses.itemLeave;if(this.hasColumns){const n=this.bodyItems.indexOf(e);n!==-1&&n!==this.bodyItems.length-1&&(t="")}return{cssClass:t,onBeforeRunAnimation:Su,onAfterRunAnimation:oa}},getAnimatedElement:e=>e.getRootElement(),getEnterOptions:e=>{let t=this.cssClasses.itemEnter;if(this.hasColumns){const n=this.bodyItems.indexOf(e);n!==-1&&n!==this.bodyItems.length-1&&(t="")}return{cssClass:t,onBeforeRunAnimation:n=>{if(this.getCurrentColCount()==0&&this.bodyItems.indexOf(e)>=0){const r=n.parentElement.firstElementChild.offsetLeft;n.offsetLeft>r&&lv(n,{moveAnimationDuration:"0s",fadeAnimationDelay:"0s"},"--")}Su(n)},onAfterRunAnimation:oa}}}}get renderedChoices(){return this._renderedChoices}set renderedChoices(e){this.renderedChoicesAnimation.sync(e)}get headItems(){const e=this.separateSpecialChoices||this.isInDesignMode?this.headItemsCount:0,t=[];for(let n=0;n<e;n++)this.renderedChoices[n]&&t.push(this.renderedChoices[n]);return t}get footItems(){const e=this.separateSpecialChoices||this.isInDesignMode?this.footItemsCount:0,t=[],n=this.renderedChoices;for(let r=0;r<e;r++)this.renderedChoices[n.length-e+r]&&t.push(this.renderedChoices[n.length-e+r]);return t}get dataChoices(){return this.renderedChoices.filter(e=>!this.isBuiltInChoice(e))}get bodyItems(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.renderedChoices}get hasHeadItems(){return this.headItems.length>0}get hasFootItems(){return this.footItems.length>0}get itemFlowDirection(){return oe.itemFlowDirection}get columns(){if(!this.hasColumns||this.renderedChoices.length===0)return[];const e=this.getCurrentColCount();let t=!this.separateSpecialChoices&&!this.isInDesignMode?this.renderedChoices:this.dataChoices;return this.itemFlowDirection==="column"?this.getColumnsWithColumnItemFlow(t,e):this.getColumnsWithRowItemFlow(t,e)}getColumnsWithColumnItemFlow(e,t){const n=[];let r=Math.floor(e.length/t);e.length%t&&(r+=1);let s=e.length,o=t,a=0;for(let l=0;l<t;l++){const u=[];for(let c=0;c<r;c++){s<=o&&(r=1);const h=e[c+a];h&&(u.push(h),s--)}n.push(u),o--,a+=u.length}return n}getColumnsWithRowItemFlow(e,t){const n=[];for(let r=0;r<t;r++){const s=[];for(let o=r;o<e.length;o+=t)s.push(e[o]);n.push(s)}return n}getItemsColumnKey(e){return(e||[]).map(t=>t.value||"").join("")}get hasColumns(){return!this.isMobile&&this.getCurrentColCount()>1}get rowLayout(){return this.getCurrentColCount()==0&&!(this.hasFootItems||this.hasHeadItems)}get blockedRow(){return this.getCurrentColCount()==0&&(this.hasFootItems||this.hasHeadItems)}choicesLoaded(){this.isChoicesLoaded=!0,this.updateIsReady(),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()}getItemValueWrapperComponentName(e){const t=this.survey;return t?t.getItemValueWrapperComponentName(e,this):gn.TemplateRendererComponentName}getItemValueWrapperComponentData(e){const t=this.survey;return t?t.getItemValueWrapperComponentData(e,this):e}ariaItemChecked(e){return this.renderedValue===e.value?"true":"false"}isOtherItem(e){return this.showOtherItem&&e.value==this.otherItem.value}get itemSvgIcon(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId}getSelectBaseRootCss(){return new Ie().append(this.getQuestionRootCss()).append(this.cssClasses.rootRow,this.rowLayout).toString()}allowMobileInDesignMode(){return!0}getAriaItemLabel(e){return e.locText.renderedHtml}getItemId(e){return this.inputId+"_"+this.getItemIndex(e)}get questionName(){return this.name+"_"+this.id}getItemEnabled(e){return!this.isDisabledAttr&&e.isEnabled}focusOtherComment(e){var t;this.autoOtherMode||ni.FocusElement(this.getItemCommentId(e),!1,(t=this.survey)===null||t===void 0?void 0:t.rootElement)}getDefaultItemComponent(){return""}get itemComponent(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())}set itemComponent(e){this.setPropertyValue("itemComponent",e)}}W([rs()],R5.prototype,"_renderedChoices",void 0);class KC extends R5{constructor(e){super(e)}get colCount(){return this.getPropertyValue("colCount",this.isFlowLayout?0:void 0)}set colCount(e){e<0||e>5||this.isFlowLayout||(this.setPropertyValue("colCount",e),this.fireCallback(this.colCountChangedCallback))}onParentChanged(){super.onParentChanged(),this.isFlowLayout&&this.setPropertyValue("colCount",null)}onParentQuestionChanged(){this.onVisibleChoicesChanged()}getSearchableItemValueKeys(e){e.push("choices")}}function S2(i,e){var t;if(!i)return!1;if(i.templateQuestion){const n=(t=i.colOwner)===null||t===void 0?void 0:t.data;if(i=i.templateQuestion,!i.getCarryForwardQuestion(n))return!1}return i.carryForwardQuestionType===e}me.addClass("choiceitem",[{name:"showCommentArea:boolean",locationInTable:"detail",visibleIf:i=>i.supportComment},{name:"isCommentRequired:boolean",locationInTable:"detail",visibleIf:i=>i.showCommentArea},{name:"commentPlaceholder",locationInTable:"detail",serializationProperty:"locCommentPlaceholder",visibleIf:i=>i.showCommentArea}],i=>new GC(i),"itemvalue");me.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_carryforward",{name:"choices:choiceitem[]",uniqueProperty:"value",baseValue:function(){return ur("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:i=>!i.choicesFromQuestion},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:i=>S2(i,"select")},{name:"choiceValuesFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:i=>S2(i,"array")},{name:"choiceTextsFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:i=>S2(i,"array")},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:i=>!i.choicesFromQuestion},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(i){return i.choicesByUrl.getData()},onSetValue:function(i,e){i.choicesByUrl.setData(e)}},"hideIfChoicesEmpty:boolean","choicesVisibleIf:condition",{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:i=>!i.choicesFromQuestion},{name:"defaultValue:value",visibleIf:i=>!i.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"correctAnswer:value",visibleIf:i=>!i.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"showRefuseItem:boolean",visible:!1,version:"1.9.128"},{name:"showDontKnowItem:boolean",visible:!1,version:"1.9.128"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(i){return i.showOtherItem}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(i){return i.showNoneItem}},{name:"refuseText",serializationProperty:"locRefuseText",dependsOn:"showRefuseItem",visibleIf:function(i){return i.showRefuseItem}},{name:"dontKnowText",serializationProperty:"locDontKnowText",dependsOn:"showDontKnowItem",visibleIf:function(i){return i.showDontKnowItem}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(i){return i.showOtherItem}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(i){return i.showOtherItem}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question");me.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase");class ss extends Ut{get focusFirstInputSelector(){return this.getFocusFirstInputSelector()}getFocusFirstInputSelector(){return Gi?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""}resetItemsSettings(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]}setItems(e,t){this.itemsSettings.items=[].concat(this.itemsSettings.items,e),this.itemsSettings.totalCount=t,this.listModel.isAllDataLoaded=this.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items}_loadQuestionChoices(e){const t=this.filterString;this.setIsChoicesLoading(!0),this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:(n,r)=>{this.setItems(n||[],r||0),this.popupRecalculatePosition(this.itemsSettings.skip===this.itemsSettings.take),e&&e(),this.processCustomValue(t),this.setIsChoicesLoading(!1)}}),this.itemsSettings.skip+=this.itemsSettings.take}setIsChoicesLoading(e){this.question.setIsChoicesLoading&&this.question.setIsChoicesLoading(e)}processCustomValue(e){if(!this.allowCustomChoices)return;const t=e||this.filterString;this.listModel.getVisibleActions().filter(r=>se.isTwoValueEquals(r.text,t,!1,!1))[0]?this.customValue=void 0:(this.customValue=t,this.updateItems(),this.listModel.focusFirstVisibleItem())}updateQuestionChoices(e){const t=this.itemsSettings.skip+1<this.itemsSettings.totalCount;(!this.itemsSettings.skip||t)&&(this.resetTimer(),this.filterString&&oe.dropdownSearchDelay>0?this.timer=setTimeout(()=>{this._loadQuestionChoices(e)},oe.dropdownSearchDelay):this._loadQuestionChoices(e))}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=void 0)}updatePopupFocusFirstInputSelector(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector}getDropdownMenuOptions(){const e=Bt.getInnerWidth(),t=Bt.getInnerHeight(),n=OPe(e,t);let r="dropdown",s="desktop";return Gi&&(r="popup",s=n?"tablet":"mobile"),{menuType:r,deviceType:s,hasTouchScreen:Gi,screenHeight:t,screenWidth:e}}checkFocusRemainsWithinComponent(e){if(!this.question.cssClasses.root||!(e!=null&&e.target))return!1;const t=e.target.closest(ko(this.question.cssClasses.root));return t&&t.contains(e.relatedTarget)}createButtons(){this.editorButtons=new wr,this.editorButtons.containerCss="sd-dropdown-action-bar",this.chevronButton=new Xt({id:"chevron",css:"sd-editor-chevron-button",iconName:this.question.cssClasses.chevronButtonIconId||"icon-chevron",iconSize:"auto",showTitle:!1,locTitle:this.locSelectCaption,disableTabStop:!0,enabled:new Un(()=>!this.question.isInputReadOnly),visible:new Un(()=>!this.question.isPreviewStyle),action:e=>{this.onClick()}}),this.clearButton=new Xt({id:"clear",css:"sd-editor-clean-button",iconName:this.question.cssClasses.cleanButtonIconId||"icon-cancel-24x24",iconSize:"auto",showTitle:!1,locTitle:this.locClearCaption,disableTabStop:!0,enabled:new Un(()=>!this.question.isInputReadOnly),visible:new Un(()=>{const e=this.question.isEmpty(),t=this.question.isReadOnly;return this.question.allowClear&&!e&&!t}),action:e=>{this.onClear()}}),this.editorButtons.setItems([this.clearButton,this.chevronButton]),this.editorButtons.actions.forEach(e=>e.cssClasses={item:"sd-editor-button-item",itemIcon:"sv-editor-button-item__icon",itemPressed:"sd-editor-button-item--pressed"})}createPopup(){const e={verticalPosition:"bottom",horizontalPosition:"center",showPointer:!1};this._popupModel=new Qr("sv-list",{model:this.listModel},e),this._popupModel.displayMode=Gi?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=Gi,this._popupModel.setWidthByTarget=!Gi,this._popupModel.locale=this.question.getLocale(),this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],()=>{this.updatePopupFocusFirstInputSelector()}),this._popupModel.onVisibilityChanged.add((t,n)=>{this.popupVisibilityChanged(n.isVisible),this.chevronButton.pressed=n.isVisible})}popupVisibilityChanged(e){if(e&&(this.listModel.renderElements=!0),e&&this.choicesLazyLoadEnabled&&(this.listModel.actions=[],this.resetItemsSettings(),this.updateQuestionChoices()),e){this.updatePopupFocusFirstInputSelector();const t=this.getDropdownMenuOptions();this.question.processOpenDropdownMenu(t),this._popupModel.updateDisplayMode(t.menuType)&&this.listModel.setSearchEnabled(this.inputAvailable&&t.menuType!=="dropdown"),this.question.onOpenedCallBack&&this.question.onOpenedCallBack()}e||this.onHidePopup(),this.ariaExpanded=e?"true":"false",this.question.processPopupVisiblilityChanged(this.popupModel,e)}setFilterStringToListModel(e){if(this.listModel.filterString=e,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(e)>=0){this.listModel.focusedItem=this.getAvailableItems().filter(t=>t.id==this.question.selectedItem.value)[0],this.listModel.filterString&&this.listModel.actions.map(t=>t.selectedValue=!1);return}(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()}setTextWrapEnabled(e){this.listModel.textWrapEnabled=e}popupRecalculatePosition(e){setTimeout(()=>{this.popupModel.recalculatePosition(e)},1)}onHidePopup(){this.resetFilterString(),this.question.suggestedItem=null,this.choicesLazyLoadEnabled&&this.resetItemsSettings(),this.customValue=void 0,this.resetCustomItemValue()}getAvailableItems(){return this.allowCustomChoices?[].concat(this.question.visibleChoices,[this.customItemValue]):this.question.visibleChoices}setOnTextSearchCallbackForListModel(e){e.setOnTextSearchCallback((t,n)=>{if(t.id===this.customItemValue.id)return t.visible;if(this.filteredItems)return this.filteredItems.indexOf(t)>=0;let r=t.text.toLocaleLowerCase();r=oe.comparator.normalizeTextCallback(r,"filter");const s=r.indexOf(n.toLocaleLowerCase());return this.question.searchMode=="startsWith"?s==0:s>-1})}createListModel(){const e=this.getAvailableItems();let t=this.onSelectionChanged;t||(t=s=>{this.setQuestionValue(s),this.popupModel.hide()});const n={items:e,onSelectionChanged:t,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},r=new Ni(n);return this.setOnTextSearchCallbackForListModel(r),r.renderElements=!1,r.forceShowFilter=this.question.choicesLazyLoadEnabled,r.areSameItemsCallback=(s,o)=>s===o,r}setQuestionValue(e){if(this.allowCustomChoices&&e.id===this.customItemValue.id){const t=this.createCustomItem();t&&(this.question.selectItem(t),this.hintString="")}else this.question.selectItem(e),this.searchEnabled&&this.applyInputString(e)}createCustomItem(){const e=new Kt(this.customValue),t={item:e,question:this.question,allow:!0};return this.question.survey.createCustomChoiceItem(t),t.allow?(this.question.customChoices.push(e),this.customValue=void 0,this.updateItems(),e):(this.clear(),null)}updateAfterListModelCreated(e){e.isItemSelected=t=>!!t.selected,e.onPropertyChanged.add((t,n)=>{n.name=="hasVerticalScroller"&&(this.hasScroll=n.newValue)}),e.isAllDataLoaded=!this.choicesLazyLoadEnabled,e.actions.forEach(t=>t.disableTabStop=!0),e.setOnFilterStringChangedCallback(this.listModelFilterStringChanged)}getPopupCssClasses(){return"sv-single-select-list"}updateCssClasses(e,t){this.popupModel.cssClass=new Ie().append(e).append(this.getPopupCssClasses()).toString(),this.listModel.cssClasses=t}resetFilterString(){this.filterString&&(this.filterString=void 0)}clear(){this.customValue=void 0,this.inputString=null,this.hintString="",this.resetFilterString()}onSetFilterString(){if(this.filteredItems=void 0,!this.filterString&&!this.popupModel.isVisible)return;const e={question:this.question,choices:this.getAvailableItems(),filter:this.filterString,filteredChoices:void 0};this.question.survey.onChoicesSearch.fire(this.question.survey,e),this.filteredItems=e.filteredChoices,this.filterString&&!this.popupModel.isVisible&&this.popupModel.show();const t=()=>{this.setFilterStringToListModel(this.filterString),this.filterString&&this.applyHintString(),this.popupRecalculatePosition(!0)};this.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(t)):t()}get isAllDataLoaded(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount}loadQuestionChoices(e){this.isAllDataLoaded||this._loadQuestionChoices(e)}get canShowSelectedItem(){return!this.focused||this._markdownMode||!this.searchEnabled}get needRenderInput(){return!this.question.isInputReadOnly||!!this.placeholderRendered}updateCustomItemValue(){this.customValue?(this.customItemValue.text=this.getLocalizationFormatString("createCustomItem",this.customValue),this.customItemValue.visible=!0):this.resetCustomItemValue()}resetCustomItemValue(){this.customItemValue.text="",this.customItemValue.visible=!1}get customItemValue(){return this._customItemValue||(this._customItemValue=new Kt("newCustomItem",this.getLocalizationFormatString("createCustomItem",this.customValue)),this._customItemValue.css="sv-list-item--custom-value"),this._customItemValue}applyInputString(e){(e==null?void 0:e.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString=this.cleanHtml(e==null?void 0:e.locText.getHtmlValue()),this.hintString=""):(this.inputString=e==null?void 0:e.title,this.hintString=e==null?void 0:e.title)}cleanHtml(e){return this.htmlCleanerElement?(this.htmlCleanerElement.innerHTML=e,this.htmlCleanerElement.textContent):""}fixInputCase(){const e=this.hintStringMiddle;e&&this.inputString!=e&&(this.inputString=e)}applyHintString(){const e=this.listModel.focusedItem||this.question.selectedItem;(e==null?void 0:e.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):e===this.customItemValue?this.hintString="":this.hintString=e==null?void 0:e.title}get inputStringRendered(){return this.inputString||""}set inputStringRendered(e){var t;this.inputString=e,this.filterString=e,this.choicesLazyLoadEnabled||this.processCustomValue(),(!e||!this.searchEnabled||((t=this.listModel.focusedItem)===null||t===void 0?void 0:t.id)===this.customItemValue.id)&&(this.hintString="")}get placeholderRendered(){return this.hintString||this.question.readOnly||!this.question.isEmpty()?"":this.inputPlaceholder}get listElementId(){return this.question.inputId+"_list"}get hintStringLC(){var e;return((e=this.hintString)===null||e===void 0?void 0:e.toLowerCase())||""}get inputStringLC(){var e;return((e=this.inputString)===null||e===void 0?void 0:e.toLowerCase())||""}get showHintPrefix(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0}get hintStringPrefix(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null}get showHintString(){return!!this.searchEnabled&&!!(this.hintStringLC||this.inputStringLC)||!this.searchEnabled&&this.hintStringLC&&this.question.isEmpty()}get hintStringSuffix(){return this.hintStringLC.indexOf(this.inputStringLC)>=0?this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length):""}get hintStringMiddle(){const e=this.hintStringLC.indexOf(this.inputStringLC);return e==-1?null:this.hintString.substring(e,e+this.inputStringLC.length)}constructor(e,t){super(),this.question=e,this.onSelectionChanged=t,this.minPageSize=25,this.loadingItemHeight=40,this.timer=void 0,this._markdownMode=!1,this.filteredItems=void 0,this.selectedItemSelector=".sv-list__item--selected",this.itemSelector=".sv-list__item",this.itemsSettings={skip:0,take:0,totalCount:0,items:[]},this.listModelFilterStringChanged=r=>{this.filterString!==r&&(this.filterString=r,this.choicesLazyLoadEnabled||this.processCustomValue())},this.questionPropertyChangedHandler=(r,s)=>{this.onPropertyChangedHandler(r,s)},this.ariaExpanded="false",this.createLocalizableString("clearCaption",this.question,!1,!0),this.createLocalizableString("selectCaption",this.question,!1,!0),this.htmlCleanerElement=St.createElement("div"),e.onPropertyChanged.add(this.questionPropertyChangedHandler),this.showInputFieldComponent=this.question.showInputFieldComponent,this.listModel=this.createListModel(),this.setChoicesLazyLoadEnabled(this.question.choicesLazyLoadEnabled),this.setInputPlaceholder(this.question.placeholder),this.updateAfterListModelCreated(this.listModel),this.setSearchEnabled(this.question.searchEnabled),this.setAllowCustomChoices(this.question.allowCustomChoices),this.setTextWrapEnabled(this.question.textWrapEnabled),this.createPopup(),this.createButtons(),this.resetItemsSettings();const n=e.cssClasses;this.updateCssClasses(n.popup,n.list)}get popupModel(){return this._popupModel}get clearCaption(){return this.getLocalizableStringText("clearCaption")}set clearCaption(e){this.setLocalizableStringText("clearCaption",e)}get locClearCaption(){return this.getLocalizableString("clearCaption")}get selectCaption(){return this.getLocalizableStringText("selectCaption")}set selectCaption(e){this.setLocalizableStringText("selectCaption",e)}get locSelectCaption(){return this.getLocalizableString("selectCaption")}get inputAvailable(){return this.searchEnabled||this.allowCustomChoices}get noTabIndex(){return this.question.isInputReadOnly||this.inputAvailable}get filterReadOnly(){return!this.filterStringEnabled||!this.focused}get filterStringEnabled(){return!this.question.isInputReadOnly&&this.inputAvailable}get inputMode(){return Gi?"none":"text"}get popupEnabled(){return!this.question.isInputReadOnly}get ariaQuestionRole(){return this.filterStringEnabled?void 0:"combobox"}get ariaQuestionRequired(){return this.ariaQuestionRole?this.question.a11y_input_ariaRequired:void 0}get ariaQuestionInvalid(){return this.ariaQuestionRole?this.question.a11y_input_ariaInvalid:void 0}get ariaQuestionErrorMessage(){return this.ariaQuestionRole?this.question.a11y_input_ariaErrormessage:void 0}get ariaQuestionLabel(){return this.ariaQuestionRole?this.question.a11y_input_ariaLabel:void 0}get ariaQuestionLabelledby(){return this.ariaQuestionRole?this.question.a11y_input_ariaLabelledBy:void 0}get ariaQuestionDescribedby(){return this.ariaQuestionRole?this.question.a11y_input_ariaDescribedBy:void 0}get ariaQuestionControls(){return this.ariaQuestionRole&&this.popupEnabled?this.listElementId:void 0}get ariaQuestionExpanded(){return this.ariaQuestionRole?this.popupEnabled?this.ariaExpanded:"false":void 0}get ariaQuestionActivedescendant(){return this.ariaQuestionRole?this.ariaActivedescendant:void 0}get ariaInputRole(){return this.filterStringEnabled?"combobox":void 0}get ariaInputRequired(){return this.ariaInputRole?this.question.a11y_input_ariaRequired:void 0}get ariaInputInvalid(){return this.ariaInputRole?this.question.a11y_input_ariaInvalid:void 0}get ariaInputErrorMessage(){return this.ariaInputRole?this.question.a11y_input_ariaErrormessage:void 0}get ariaInputLabel(){return this.ariaInputRole?this.question.a11y_input_ariaLabel:void 0}get ariaInputLabelledby(){return this.ariaInputRole?this.question.a11y_input_ariaLabelledBy:void 0}get ariaInputDescribedby(){return this.ariaInputRole?this.question.a11y_input_ariaDescribedBy:void 0}get ariaInputControls(){return this.ariaInputRole&&this.popupEnabled?this.listElementId:void 0}get ariaInputExpanded(){return this.ariaInputRole?this.popupEnabled?this.ariaExpanded:"false":void 0}get ariaInputActivedescendant(){return this.ariaInputRole?this.ariaActivedescendant:void 0}setSearchEnabled(e){this.listModel.setSearchEnabled(Gi&&(e||this.question.allowCustomChoices)),this.searchEnabled=e}setAllowCustomChoices(e){this.allowCustomChoices=e,e&&(this.searchEnabled=e)}setChoicesLazyLoadEnabled(e){this.choicesLazyLoadEnabled=e}setInputPlaceholder(e){this.inputPlaceholder=e}updateItems(){this.listModel.setItems(this.getAvailableItems())}onClick(e){this.question.readOnly||this.question.isDesignMode||this.question.isPreviewStyle||this.question.isReadOnlyAttr||(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.question.focusInputElement(!1))}chevronPointerDown(e){this._popupModel.isVisible&&e.preventDefault()}onPropertyChangedHandler(e,t){t.name=="value"&&(this.showInputFieldComponent=this.question.showInputFieldComponent),t.name=="textWrapEnabled"&&this.setTextWrapEnabled(t.newValue)}focusItemOnClickAndPopup(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)}onClear(e){this.question.clearValue(!0),this._popupModel.hide(),e&&(e.preventDefault(),e.stopPropagation())}getSelectedAction(){return this.question.selectedItem||null}changeSelectionWithKeyboard(e){var t;let n=this.listModel.focusedItem;!n&&this.question.selectedItem?Kt.getItemByValue(this.question.visibleChoices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):e?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(n),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=(t=this.listModel.focusedItem)===null||t===void 0?void 0:t.elementId}beforeScrollToFocusedItem(e){this.question.value&&e&&(e.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)}afterScrollToFocusedItem(){var e;this.question.value&&!this.listModel.filterString&&this.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(),this.fixInputCase(),this.ariaActivedescendant=(e=this.listModel.focusedItem)===null||e===void 0?void 0:e.elementId}keyHandler(e){let t=!1;const n=e.which||e.keyCode;if(this.popupModel.isVisible&&e.keyCode===38)this.changeSelectionWithKeyboard(!0),t=!0;else if(e.keyCode===40)this.popupModel.show(),this.changeSelectionWithKeyboard(!1),t=!0;else if(!this.popupModel.isVisible&&e.keyCode===32)this.popupModel.show(),this.changeSelectionWithKeyboard(!1),t=!0;else if(!this.popupModel.isVisible&&e.keyCode===13)this.question.survey.questionEditFinishCallback(this.question,e),t=!0;else if(this.popupModel.isVisible&&(e.keyCode===13||e.keyCode===32&&(!this.searchEnabled||!this.inputString)))e.keyCode===13&&this.searchEnabled&&!this.inputString&&this.question instanceof $o&&!this._markdownMode&&this.question.value?(this._popupModel.hide(),this.onClear(e)):(this.listModel.selectFocusedItem(),this.onFocus(e)),t=!0;else if(n===46||n===8)this.inputAvailable||this.onClear(e);else if(e.keyCode===27)this._popupModel.hide(),this.hintString="",this.onEscape();else{if((e.keyCode===38||e.keyCode===40||e.keyCode===32&&!this.searchEnabled)&&(t=!0),e.keyCode===32&&this.searchEnabled)return;_5(e,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}t&&(e.preventDefault(),e.stopPropagation())}onEscape(){this.searchEnabled&&this.applyInputString(this.question.selectedItem)}onScroll(e){const t=e.target;t.scrollHeight-(t.scrollTop+t.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()}onBlur(e){this.checkFocusRemainsWithinComponent(e)||(this.focused=!1,!(this.popupModel.isVisible&&this.popupModel.displayMode=="overlay")&&(D$(e),this._popupModel.hide(),this.resetFilterString(),this.inputString=null,this.hintString="",e.stopPropagation()))}onFocus(e){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)}setInputStringFromSelectedItem(e){this.focused&&(this.searchEnabled&&e?this.applyInputString(e):this.inputString=null)}dispose(){super.dispose(),this.question&&this.question.onPropertyChanged.remove(this.questionPropertyChangedHandler),this.questionPropertyChangedHandler=void 0,this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose(),this.htmlCleanerElement=void 0}scrollToFocusedItem(){this.listModel.scrollToFocusedItem()}}W([G({defaultValue:!1})],ss.prototype,"focused",void 0);W([G({defaultValue:!1})],ss.prototype,"allowCustomChoices",void 0);W([G({onSet:(i,e)=>{e.updateCustomItemValue()}})],ss.prototype,"customValue",void 0);W([G({defaultValue:!0})],ss.prototype,"searchEnabled",void 0);W([G()],ss.prototype,"choicesLazyLoadEnabled",void 0);W([G({defaultValue:"",onSet:(i,e)=>{e.onSetFilterString()}})],ss.prototype,"filterString",void 0);W([G({defaultValue:"",onSet:(i,e)=>{e.question.inputHasValue=!!i}})],ss.prototype,"inputString",void 0);W([G({})],ss.prototype,"showInputFieldComponent",void 0);W([G()],ss.prototype,"ariaActivedescendant",void 0);W([G()],ss.prototype,"ariaExpanded",void 0);W([G()],ss.prototype,"inputPlaceholder",void 0);W([G({defaultValue:!1,onSet:(i,e)=>{i?e.listModel.addScrollEventListener(t=>{e.onScroll(t)}):e.listModel.removeScrollEventListener()}})],ss.prototype,"hasScroll",void 0);W([G({defaultValue:""})],ss.prototype,"hintString",void 0);class $o extends R5{constructor(e){super(e),this.lastSelectedItemValue=null,this.minMaxChoices=[],this.onOpened=this.addEvent(),this.createLocalizableString("placeholder",this,!1,!0),this.createLocalizableString("readOnlyText",this,!0),this.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],()=>{this.getSingleSelectedItem(),this.updateReadOnlyText()}),this.updateReadOnlyText()}locStrsChanged(){super.locStrsChanged(),this.updateReadOnlyText(),this.updateInputPlaceholder(this.placeholder)}updateReadOnlyText(){this.readOnlyText=this.calculateReadOnlyText()}updateInputPlaceholder(e){this.dropdownListModelValue&&this.dropdownListModel.setInputPlaceholder(e)}get showOptionsCaption(){return this.allowClear}set showOptionsCaption(e){this.allowClear=e}get showClearButton(){return this.allowClear&&!this.isEmpty()}get optionsCaption(){return this.placeholder}set optionsCaption(e){this.placeholder=e}get placeholder(){return this.getLocalizableStringText("placeholder")}set placeholder(e){this.setLocalizableStringText("placeholder",e),this.updateInputPlaceholder(e)}get locPlaceholder(){return this.getLocalizableString("placeholder")}getType(){return"dropdown"}get isNewA11yStructure(){return!0}get a11yQuestionAriaRole(){return this.searchEnabled?null:"combobox"}get a11yInputAriaRole(){return this.searchEnabled?"combobox":null}get selectedItem(){return this.getSingleSelectedItem()}isOtherValueUnused(){var e;return!(!((e=this.selectedItem)===null||e===void 0)&&e.showCommentArea)}onGetSingleSelectedItem(e){e&&(this.lastSelectedItemValue=e)}get isShowingChoiceComment(){var e;return(e=this.selectedItem)===null||e===void 0?void 0:e.showCommentArea}supportAutoAdvance(){return!this.isShowingChoiceComment}getChoices(){var e=super.getChoices();if(this.choicesMax<=this.choicesMin)return e;for(var t=[],n=0;n<e.length;n++)t.push(e[n]);if(this.minMaxChoices.length===0||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var n=this.choicesMin;n<=this.choicesMax;n+=this.choicesStep)this.minMaxChoices.push(this.createItemValue(n))}return t=t.concat(this.minMaxChoices),t}get choicesMin(){return this.getPropertyValue("choicesMin")}set choicesMin(e){this.setPropertyValue("choicesMin",e)}get choicesMax(){return this.getPropertyValue("choicesMax")}set choicesMax(e){this.setPropertyValue("choicesMax",e)}get choicesStep(){return this.getPropertyValue("choicesStep")}set choicesStep(e){e<1&&(e=1),this.setPropertyValue("choicesStep",e)}get autocomplete(){return this.getPropertyValue("autocomplete")}set autocomplete(e){this.setPropertyValue("autocomplete",e)}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}calculateReadOnlyText(){if(this.renderAs=="select"){if(this.isOtherSelected)return this.otherText;if(this.isNoneSelected)return this.noneText;if(this.selectedItem)return this.selectedItemText}return this.selectedItem?this.selectedItemText:this.placeholder}getControlClass(){return new Ie().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()}updateCssClasses(e,t){super.updateCssClasses(e,t),this.useDropdownList&&UC(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModel.updateCssClasses(t.popup,t.list),t}get selectedItemLocText(){const e=this.suggestedItem||this.selectedItem;return e==null?void 0:e.locText}get inputFieldComponentName(){return this.inputFieldComponent||this.itemComponent}get showSelectedItemLocText(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText&&this.dropdownListModel.canShowSelectedItem}get showInputFieldComponent(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()}get selectedItemText(){const e=this.selectedItem;return e?e.text:""}get useDropdownList(){return this.renderAs!=="select"}get dropdownListModel(){return this.useDropdownList&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new ss(this)),this.dropdownListModelValue}set dropdownListModel(e){this.dropdownListModelValue=e}get popupModel(){return this.dropdownListModel.popupModel}onOpenedCallBack(){this.onOpened.fire(this,{question:this,choices:this.choices})}onSelectedItemValuesChangedHandler(e){var t;(t=this.dropdownListModelValue)===null||t===void 0||t.setInputStringFromSelectedItem(e),super.onSelectedItemValuesChangedHandler(e)}hasUnknownValue(e,t,n,r){return this.choicesLazyLoadEnabled?!1:super.hasUnknownValue(e,t,n,r)}needConvertRenderedOtherToDataValue(){var e;const t=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return t?super.hasUnknownValue(t,!0,!1):!1}getItemIfChoicesNotContainThisValue(e,t){return this.choicesLazyLoadEnabled?this.createItemValue(e,t):super.getItemIfChoicesNotContainThisValue(e,t)}onVisibleChoicesChanged(){super.onVisibleChoicesChanged(),this.dropdownListModelValue&&this.dropdownListModel.updateItems()}canAddCustomChoices(){return this.allowCustomChoices}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.isChoicesLoading}ensureQuestionIsReady(){super.ensureQuestionIsReady(),this.dropdownListModel&&this.choicesLazyLoadEnabled&&this.dropdownListModel.loadQuestionChoices()}setIsChoicesLoading(e){this.isChoicesLoading=e,this.updateIsReady()}getFirstInputElementId(){return this.inputId+(this.searchEnabled||this.allowCustomChoices?"_0":"")}getInputId(){return this.inputId+"_0"}clearValue(e){var t;super.clearValue(e),this.lastSelectedItemValue=null,(t=this.dropdownListModelValue)===null||t===void 0||t.clear()}afterRenderCore(e){super.afterRenderCore(e),this.dropdownListModelValue&&this.dropdownListModelValue.clear()}onClick(e){this.onOpenedCallBack&&this.onOpenedCallBack()}onKeyUp(e){(e.which||e.keyCode)===46&&(this.clearValue(!0),e.preventDefault(),e.stopPropagation())}supportEmptyValidation(){return!0}onBlurCore(e){this.dropdownListModel.onBlur(e),super.onBlurCore(e)}onFocusCore(e){this.dropdownListModel.onFocus(e),super.onFocusCore(e)}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}}W([G()],$o.prototype,"allowClear",void 0);W([G({onSet:(i,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setSearchEnabled(i)}})],$o.prototype,"searchEnabled",void 0);W([G()],$o.prototype,"searchMode",void 0);W([G({onSet:(i,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setAllowCustomChoices(i)}})],$o.prototype,"allowCustomChoices",void 0);W([G()],$o.prototype,"textWrapEnabled",void 0);W([G({defaultValue:!1})],$o.prototype,"inputHasValue",void 0);W([G({onSet:(i,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setChoicesLazyLoadEnabled(i)}})],$o.prototype,"choicesLazyLoadEnabled",void 0);W([G()],$o.prototype,"choicesLazyLoadPageSize",void 0);W([G()],$o.prototype,"suggestedItem",void 0);me.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:oe.questions.dataList},{name:"textWrapEnabled:boolean",default:!0},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"allowCustomChoices:boolean",default:!1,visibleIf:i=>!i.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"searchMode",default:"contains",choices:["contains","startsWith"]},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new $o("")},"selectbase");Fn.Instance.registerQuestion("dropdown",i=>{var e=new $o(i);return e.choices=Fn.DefaultChoices,e});class t4e{constructor(e){this.row=e}getValue(e,t,n,r){if(e.length===0)return{isFound:!0,value:this.row.value,context:this}}getTextValue(e,t,n){return n?this.row.getDisplayValue(t):t}}class n4e extends Ut{constructor(e,t,n,r){super(),this.item=e,this.fullName=t,this.data=n,this.setValueDirectly(r),this.registerPropertyChangedHandlers(["value"],()=>{this.data.onMatrixRowChanged(this)}),this.data.hasErrorInRow(this)&&(this.hasError=!0)}cellClick(e){this.data.cellClick(this,e)}isChecked(e){return this.data.isCellChecked(this,e)}get name(){return this.item.value}get text(){return this.item.text}get locText(){return this.item.locText}get value(){return this.getPropertyValue("value")}set value(e){this.isReadOnly||this.setValueDirectly(this.data.getCorrectedRowValue(e))}setValueDirectly(e){this.setPropertyValue("value",e)}getDisplayValue(e){return this.data.getDisplayRowValue(e)}get isReadOnly(){return!this.item.enabled||this.data.isInputReadOnly}get isReadOnlyAttr(){return this.data.isReadOnlyAttr}get isDisabledAttr(){return!this.item.enabled||this.data.isDisabledAttr}get rowTextClasses(){return new Ie().append(this.data.cssClasses.rowTextCell).toString()}get hasError(){return this.getPropertyValue("hasError",!1)}set hasError(e){this.setPropertyValue("hasError",e)}get rowClasses(){const e=this.data.cssClasses;return new Ie().append(e.row).append(e.rowError,this.hasError).append(e.rowReadOnly,this.isReadOnly).append(e.rowDisabled,this.data.isDisabledStyle).toString()}getValueGetterContext(){return new t4e(this)}}class i4e extends Ut{constructor(e){super(),this.cellsOwner=e,this.values={},this.locs={}}getType(){return"cells"}get isEmpty(){return Object.keys(this.values).length==0}valuesChanged(){!this.locNotification&&this.onValuesChanged&&this.onValuesChanged()}getDefaultCellLocText(e){return this.getCellLocCore(this.defaultRowValue,e)}getCellDisplayLocText(e,t){return this.getCellLocCore(e,t)}getCellLocCore(e,t){if(e=this.getCellRowColumnValue(e,this.rows),t=this.getCellRowColumnValue(t,this.columns),se.isValueEmpty(e)||se.isValueEmpty(t))return null;this.locs[e]||(this.locs[e]={});let n=this.locs[e][t];return n||(n=this.createString(),n.setJson(this.getCellLocData(e,t)),n.onGetTextCallback=r=>{if(!r){const s=Kt.getItemByValue(this.columns,t);if(s)return s.locText.getJson()||s.value}return r},n.onStrChanged=(r,s)=>{this.updateValues(e,t,s)},this.locs[e][t]=n),n}get defaultRowValue(){return oe.matrix.defaultRowName}getCellLocData(e,t){let n=this.getCellLocDataFromValue(e,t);return n||this.getCellLocDataFromValue(this.defaultRowValue,t)}getCellLocDataFromValue(e,t){return!this.values[e]||!this.values[e][t]?null:this.values[e][t]}getCellText(e,t){var n=this.getCellLocCore(e,t);return n?n.calculatedText:null}setCellText(e,t,n){const r=this.getCellLocCore(e,t);r&&(r.text=n)}updateValues(e,t,n){n?(this.values[e]||(this.values[e]={}),this.values[e][t]=n,this.valuesChanged()):this.values[e]&&this.values[e][t]&&(delete this.values[e][t],Object.keys(this.values[e]).length==0&&delete this.values[e],this.valuesChanged())}getDefaultCellText(e){var t=this.getCellLocCore(this.defaultRowValue,e);return t?t.calculatedText:null}setDefaultCellText(e,t){this.setCellText(this.defaultRowValue,e,t)}getCellDisplayText(e,t){var n=this.getCellDisplayLocText(e,t);return n?n.calculatedText:null}get rows(){return this.cellsOwner?this.cellsOwner.getRows():[]}get columns(){return this.cellsOwner?this.cellsOwner.getColumns():[]}getCellRowColumnValue(e,t){if(e==null)return null;if(typeof e=="number"){if(e<0||e>=t.length)return null;e=t[e].value}return e.value?e.value:e}getJson(){if(this.isEmpty)return null;const e=this.values[this.defaultRowValue],t={};for(let n in this.values){const r={},s=this.values[n];for(let o in s)if(n===this.defaultRowValue||!e||e[o]!==s[o]){const a=this.getCellLocCore(n,o);r[o]=a?a.getJson():s[o]}t[n]=r}return t}setJson(e,t){if(this.values={},e){for(var n in e)if(n!="pos"){var r=e[n];this.values[n]={};for(var s in r)s!="pos"&&(this.values[n][s]=r[s])}}this.locNotification=!0,this.runFuncOnLocs((o,a,l)=>l.setJson(this.getCellLocData(o,a))),this.locNotification=!1,this.valuesChanged()}locStrsChanged(){this.runFuncOnLocs((e,t,n)=>n.strChanged())}runFuncOnLocs(e){for(let t in this.locs){const n=this.locs[t];for(let r in n)e(t,r,n[r])}}createString(){return new Ar(this.cellsOwner,!0)}}class r4e extends xh{constructor(e){super(),this.question=e}getValue(e,t,n,r){if(e.length>0){const s=super.getValue(e,t,n,r);if(s&&s.isFound)return s}return new Oo(this.question.value).getValue(e,t,n,r)}getRootObj(){return this.question.data}updateValueByItem(e,t){var n;const r=this.question.visibleRows;e=e.toLocaleLowerCase();for(let s=0;s<r.length;s++){const o=r[s];if((((n=o.name)===null||n===void 0?void 0:n.toString())||"").toLocaleLowerCase()===e){t.isFound=!0,t.context=o.getValueGetterContext();return}}}}class X$ extends zC{constructor(e){super(e),this.isRowChanging=!1,this.emptyLocalizableString=new Ar(this),this.cellsValue=new i4e(this),this.cellsValue.onValuesChanged=()=>{this.updateHasCellText(),this.propertyValueChanged("cells",this.cells,this.cells)},this.registerPropertyChangedHandlers(["columns"],()=>{this.onColumnsChanged()}),this.registerPropertyChangedHandlers(["rows"],()=>{this.runCondition(this.getDataFilteredProperties()),this.onRowsChanged()}),this.registerPropertyChangedHandlers(["hideIfRowsEmpty"],()=>{this.updateVisibilityBasedOnRows()}),this.registerPropertyChangedHandlers(["cellType"],()=>{this.value=this.convertToCorrectValue(this.value)})}getType(){return"matrix"}get cellType(){return this.getPropertyValue("cellType")}set cellType(e){e!=="checkbox"&&(e="radio"),this.setPropertyValue("cellType",e)}get isMultiSelect(){return this.cellType==="checkbox"}get cellComponent(){return this.getPropertyValue("cellComponent")}set itemComponent(e){this.setPropertyValue("cellComponent",e)}get hasSingleInput(){return!1}get eachRowRequired(){return this.getPropertyValue("eachRowRequired")}set eachRowRequired(e){this.setPropertyValue("eachRowRequired",e)}get isAllRowRequired(){return this.eachRowRequired}set isAllRowRequired(e){this.eachRowRequired=e}get eachRowUnique(){return this.getPropertyValue("eachRowUnique")}set eachRowUnique(e){this.setPropertyValue("eachRowUnique",e)}get hasRows(){return this.rows.length>0}get rowOrder(){return this.getPropertyValue("rowOrder")}set rowOrder(e){e=e.toLowerCase(),e!=this.rowOrder&&(this.setPropertyValue("rowOrder",e),this.onRowsChanged())}get rowsOrder(){return this.rowOrder}set rowsOrder(e){this.rowOrder=e}get hideIfRowsEmpty(){return this.getPropertyValue("hideIfRowsEmpty")}set hideIfRowsEmpty(e){this.setPropertyValue("hideIfRowsEmpty",e)}getRows(){return this.rows}getColumns(){return this.visibleColumns}addColumn(e,t){var n=new Kt(e,t);return this.columns.push(n),n}get checkType(){return this.isMultiSelect?"checkbox":"radio"}formatCss(e){return(e||"").replace("{type}",this.checkType)}getItemClass(e,t){const n=e.isChecked(t),r=this.isReadOnly,s=!n&&!r,o=this.hasCellText,a=this.cssClasses;return new Ie().append(a.cell,o).append(o?a.cellText:this.formatCss(a.label)).append(a.itemOnError,!o&&(this.eachRowRequired||this.eachRowUnique?e.hasError:this.hasCssError())).append(o?a.cellTextSelected:this.formatCss(a.itemChecked),n).append(o?a.cellTextDisabled:this.formatCss(a.itemDisabled),this.isDisabledStyle).append(o?a.cellTextReadOnly:this.formatCss(a.itemReadOnly),this.isReadOnlyStyle).append(o?a.cellTextPreview:this.formatCss(a.itemPreview),this.isPreviewStyle).append(this.formatCss(a.itemHover),s&&!o).toString()}get itemSvgIcon(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId}getItemSvgIcon(e,t){return this.isMultiSelect&&e.isChecked(t)?this.cssClasses.itemPreviewSvgIconId:this.itemSvgIcon}get cssItemValue(){return this.formatCss(this.cssClasses.itemValue)}get cssMaterialDecorator(){return this.formatCss(this.cssClasses.materialDecorator)}get cssItemDecorator(){return this.formatCss(this.cssClasses.itemDecorator)}locStrsChanged(){super.locStrsChanged(),this.cells.locStrsChanged()}getQuizQuestionCount(){for(var e=0,t=0;t<this.rows.length;t++)this.isValueEmpty(this.correctAnswer[this.rows[t].value])||e++;return e}convertToCorrectValue(e){if(e==null||typeof e!="object")return e;const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n],s=e[r];Array.isArray(s)&&!this.isMultiSelect&&(s.length>0?e[r]=s[0]:delete e[r]),!Array.isArray(s)&&this.isMultiSelect&&(e[r]=[s])}return e}getCorrectAnswerCount(){for(var e=0,t=this.value,n=0;n<this.rows.length;n++){var r=this.rows[n].value;!this.isValueEmpty(t[r])&&this.isTwoValueEquals(this.correctAnswer[r],t[r])&&e++}return e}runConditionCore(e){Kt.runEnabledConditionsForItems(this.rows,void 0,e),super.runConditionCore(e)}createRowsVisibleIfRunner(){return this.rowsVisibleIf?new Do(this.rowsVisibleIf):null}onRowsChanged(){this.clearGeneratedRows(),super.onRowsChanged()}getVisibleRows(){if(this.generatedVisibleRows)return this.generatedVisibleRows;const e=new Array;let t=this.value;t||(t={});const n=this.filteredRows||this.rows;for(let r=0;r<n.length;r++){const s=n[r];if(this.isValueEmpty(s.value))continue;const o=this.id+"_"+s.value.toString().replace(/\s/g,"_");e.push(this.createMatrixRow(s,o,t[s.value]))}return this.generatedVisibleRows=e,e}getRowByName(e){const t=this.visibleRows;for(let n=0;n<t.length;n++)if(t[n].name===e)return t[n];return null}getSingleInputQuestionsCore(e,t){if(this.nestedQuestionsValue)return this.nestedQuestionsValue;const n=[],r=this.isMultiSelect?"checkbox":"radiogroup";return this.visibleRows.forEach(s=>{const o=me.createClass(r);o.name=s.name,o.locTitle.sharedData=s.locText,o.choices=this.visibleColumns,o.value=s.value,o.isRequired=this.isAllRowRequired,o.setSurveyImpl(this),o.setParentQuestion(this),n.push(o)}),this.nestedQuestionsValue=n,n}resetSingleInput(){super.resetSingleInput(),this.nestedQuestionsValue&&(this.nestedQuestionsValue.forEach(e=>e.dispose()),this.nestedQuestionsValue=null)}getSurveyData(){return this}getTextProcessor(){var e;return(e=this.surveyImpl)===null||e===void 0?void 0:e.getTextProcessor()}getValue(e){const t=this.getRowByName(e);return t?t.value:void 0}setValue(e,t,n,r,s){this.getRowByName(e).value=t}getVariable(e){var t;return(t=this.data)===null||t===void 0?void 0:t.getVariable(e)}setVariable(e,t){var n;(n=this.data)===null||n===void 0||n.setVariable(e,t)}getComment(e){var t;return(t=this.data)===null||t===void 0?void 0:t.getComment(e)}setComment(e,t,n){var r;(r=this.data)===null||r===void 0||r.setComment(e,t,n)}getAllValues(){var e;return(e=this.data)===null||e===void 0?void 0:e.getAllValues()}getFilteredProperties(){var e;return(e=this.data)===null||e===void 0?void 0:e.getFilteredProperties()}findQuestionByName(e){var t;return(t=this.data)===null||t===void 0?void 0:t.findQuestionByName(e)}getEditingSurveyElement(){var e;return(e=this.data)===null||e===void 0?void 0:e.getEditingSurveyElement()}sortVisibleRows(e){if(this.survey&&this.survey.isDesignMode)return e;var t=this.rowOrder.toLowerCase();return t==="random"?se.randomizeArray(e):e}endLoadingFromJson(){super.endLoadingFromJson(),this.rows=this.sortVisibleRows(this.rows),this.onRowsChanged(),this.onColumnsChanged()}isNewValueCorrect(e){return se.isValueObject(e,!0)}processRowsOnSet(e){return this.sortVisibleRows(e)}get visibleRows(){return this.getVisibleRows()}get cells(){return this.cellsValue}set cells(e){this.cells.setJson(e&&e.getJson?e.getJson():null)}get hasCellText(){return this.getPropertyValue("hasCellText",!1)}updateHasCellText(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)}setCellText(e,t,n){this.cells.setCellText(e,t,n)}getCellText(e,t){return this.cells.getCellText(e,t)}setDefaultCellText(e,t){this.cells.setDefaultCellText(e,t)}getDefaultCellText(e){return this.cells.getDefaultCellText(e)}getCellDisplayText(e,t){return this.cells.getCellDisplayText(e,t)}getCellDisplayLocText(e,t){var n=this.cells.getCellDisplayLocText(e,t);return n||this.emptyLocalizableString}supportAutoAdvance(){return this.isMouseDown===!0&&this.hasValuesInAllRows()}onCheckForErrors(e,t,n){if(super.onCheckForErrors(e,t,n),!t||this.hasCssError()){const r={noValue:!1,isNotUnique:!1};this.checkErrorsAllRows(n,r),r.noValue&&e.push(new pRe(null,this)),r.isNotUnique&&e.push(new gRe(null,this))}}hasValuesInAllRows(){const e={noValue:!1,isNotUnique:!1};return this.checkErrorsAllRows(!1,e,!0),!e.noValue}checkErrorsAllRows(e,t,n){var r=this.generatedVisibleRows;if(r||(r=this.visibleRows),!r)return;const s=this.eachRowRequired||n,o=this.eachRowUnique;if(t.noValue=!1,t.isNotUnique=!1,e&&(this.errorsInRow=void 0),!s&&!o)return;const a={};for(var l=0;l<r.length;l++){const u=r[l].value;let c=this.isValueEmpty(u);const h=o&&!c&&a[u]===!0;c=c&&s,e&&(c||h)&&this.addErrorIntoRow(r[l]),c||(a[u]=!0),t.noValue=t.noValue||c,t.isNotUnique=t.isNotUnique||h}e&&r.forEach(u=>{u.hasError=this.hasErrorInRow(u)})}addErrorIntoRow(e){this.errorsInRow||(this.errorsInRow={}),this.errorsInRow[e.name]=!0,e.hasError=!0}refreshRowsErrors(){this.errorsInRow&&this.checkErrorsAllRows(!0,{noValue:!1,isNotUnique:!1})}getIsAnswered(){return super.getIsAnswered()&&this.hasValuesInAllRows()}createMatrixRow(e,t,n){var r=new n4e(e,t,this,n);return this.onMatrixRowCreated(r),r}onMatrixRowCreated(e){}setQuestionValue(e,t=!0){if(super.setQuestionValue(e,this.isRowChanging||t),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0)){this.isRowChanging=!0;var n=this.value;if(n||(n={}),this.rows.length==0)this.generatedVisibleRows[0].setValueDirectly(n);else for(var r=0;r<this.generatedVisibleRows.length;r++){var s=this.generatedVisibleRows[r],o=n[s.name];this.isValueEmpty(o)&&(o=null),this.generatedVisibleRows[r].setValueDirectly(o)}this.refreshRowsErrors(),this.updateIsAnswered(),this.isRowChanging=!1}}getValueGetterContext(){return new r4e(this)}getDisplayValueCore(e,t){var n={};for(var r in t){var s=e?Kt.getTextOrHtmlByValue(this.rows,r):r;s||(s=r);var o=Kt.getTextOrHtmlByValue(this.columns,t[r]);o||(o=t[r]),n[s]=o}return n}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t){var n=this.createValueCopy();t.isNode=!0,t.data=Object.keys(n||{}).map(r=>{var s=this.rows.filter(l=>l.value===r)[0],o={name:r,title:s?s.text:"row",value:n[r],displayValue:Kt.getTextOrHtmlByValue(this.visibleColumns,n[r]),getString:l=>typeof l=="object"?JSON.stringify(l):l,isNode:!1},a=Kt.getItemByValue(this.visibleColumns,n[r]);return a&&(e.calculations||[]).forEach(l=>{o[l.propertyName]=a[l.propertyName]}),o})}return t}addConditionObjectsByContext(e,t){for(var n=0;n<this.rows.length;n++){var r=this.rows[n];r.value&&e.push({name:this.getValueName()+"."+r.value,text:this.processedTitle+"."+r.calculatedText,question:this})}}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);var n=new $o(t);n.choices=this.columns;var r=new Si().toJsonObject(n);return r.type=n.getType(),r}clearIncorrectValues(){this.clearInvisibleValuesInRowsAndColumns(!0,!0,!0),super.clearIncorrectValues()}clearValueIfInvisibleCore(e){super.clearValueIfInvisibleCore(e),this.clearInvisibleValuesInRowsAndColumns(!0,!0,!1)}clearInvisibleColumnValues(){this.clearInvisibleValuesInRowsAndColumns(!1,!0,!1)}clearInvisibleValuesInRows(){this.clearInvisibleValuesInRowsAndColumns(!0,!1,!1)}clearInvisibleValuesInRowsAndColumns(e,t,n){if(this.isEmpty())return;let r=this.getUnbindValue(this.value);const s={},o=this.rows;for(let a=0;a<o.length;a++){const l=o[a].value;r[l]&&(e&&!o[a].isVisible?delete r[l]:(t&&this.clearIncorrectValuesInRow(l,r),r[l]!=null&&(s[l]=r[l])))}n&&(r=s),!this.isTwoValueEquals(r,this.value)&&(this.value=r)}clearIncorrectValuesInRow(e,t){const n=t[e];if(n===void 0){delete t[e];return}if(this.isMultiSelect&&Array.isArray(n)){for(let r=n.length-1;r>=0;r--)this.getVisibleColumnByValue(n[r])||n.splice(r,1);n.length===0&&delete t[e]}else this.getVisibleColumnByValue(n)||delete t[e]}getVisibleColumnByValue(e){const t=Kt.getItemByValue(this.columns,e);return t&&t.isVisible?t:null}getFirstInputElementId(){var e=this.generatedVisibleRows;return e||(e=this.visibleRows),e.length>0&&this.visibleColumns.length>0?this.inputId+"_"+e[0].name+"_0":super.getFirstInputElementId()}onMatrixRowChanged(e){if(!this.isRowChanging){if(this.isRowChanging=!0,!this.hasRows)this.setNewValue(e.value);else{const t=this.value||{};this.isValueEmpty(e.value)?delete t[e.name]:t[e.name]=e.value,this.setNewValue(t)}this.isRowChanging=!1}}getCorrectedRowValue(e){const t=this.getColumnByValue(e);return t?t.value:e}getDisplayRowValue(e){const t=this.getColumnByValue(e);return t?t.text:e!=null?e.toString():""}cellClick(e,t){if(!(this.isReadOnly||this.isDisabledAttr))if(this.isMultiSelect){let n=Array.isArray(e.value)?[].concat(e.value):[];if(this.isCellChecked(e,t)){const r=this.getRowValueIndex(e,t);r>-1&&n.splice(r,1),n.length===0&&(n=void 0)}else Array.isArray(n)||(n=[]),n.push(t.value);e.value=n}else e.value=t.value}isCellChecked(e,t){return this.isMultiSelect?this.getRowValueIndex(e,t)>-1:se.isTwoValueEquals(e.value,t.value)}getRowValueIndex(e,t){const n=e.value;if(!Array.isArray(n))return-1;for(let r=0;r<n.length;r++)if(this.isTwoValueEquals(n[r],t.value))return r;return-1}getColumnByValue(e){const t=this.columns;for(var n=0;n<t.length;n++)if(e===t[n].value)return t[n];for(var n=0;n<t.length;n++)if(this.isTwoValueEquals(e,t[n].value))return t[n];return null}hasErrorInRow(e){return!!this.errorsInRow&&!!this.errorsInRow[e.name]}getSearchableItemValueKeys(e){e.push("columns"),e.push("rows")}get SurveyModel(){return this.survey}getColumnHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName({column:e},"column-header")}getColumnHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData({column:e},"column-header")}getRowHeaderWrapperComponentName(e){return this.SurveyModel.getElementWrapperComponentName({row:e},"row-header")}getRowHeaderWrapperComponentData(e){return this.SurveyModel.getElementWrapperComponentData({row:e},"row-header")}}me.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return ur("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return ur("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowOrder",alternativeName:"rowsOrder",default:"initial",choices:["initial","random"]},{name:"eachRowRequired:boolean",alternativeName:"isAllRowRequired"},{name:"eachRowUnique:boolean",category:"validation"},"hideIfRowsEmpty:boolean",{name:"cellComponent",visible:!1,default:"survey-matrix-cell"},{name:"cellType",default:"radio",choices:["radio","checkbox"]}],function(){return new X$("")},"matrixbase");Fn.Instance.registerQuestion("matrix",i=>{var e=new X$(i);return e.rows=Fn.DefaultRows,e.columns=Fn.DefaultColums,e});class eB extends Ut{updateRemainingCharacterCounter(e,t){this.remainingCharacterCounter=se.getRemainingCharacterCounterText(e,t)}}W([G()],eB.prototype,"remainingCharacterCounter",void 0);class JC extends hr{constructor(e){super(e),this.characterCounter=new eB}isTextValue(){return!0}get maxLength(){return this.getPropertyValue("maxLength")}set maxLength(e){this.setPropertyValue("maxLength",e),this.updateRemainingCharacterCounter(this.value)}getMaxLength(){return se.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)}updateRemainingCharacterCounter(e){this.characterCounter.updateRemainingCharacterCounter(e,this.getMaxLength())}get placeHolder(){return this.placeholder}set placeHolder(e){this.placeholder=e}get locPlaceHolder(){return this.locPlaceholder}getType(){return"textbase"}isEmpty(){return super.isEmpty()||this.value===""}get textUpdateMode(){return this.getPropertyValue("textUpdateMode")}set textUpdateMode(e){this.setPropertyValue("textUpdateMode",e)}getIsInputTextUpdate(){return this.textUpdateMode=="default"?super.getIsInputTextUpdate():this.textUpdateMode=="onTyping"}get renderedPlaceholder(){const e=()=>this.hasPlaceholder()?this.placeHolder:void 0;return this.getPropertyValue("renderedPlaceholder",void 0,e)}onReadOnlyChanged(){super.onReadOnlyChanged(),this.resetRenderedPlaceholder()}localeChanged(){super.localeChanged(),this.resetRenderedPlaceholder()}supportEmptyValidation(){return!0}resetRenderedPlaceholder(){this.resetPropertyValue("renderedPlaceholder")}hasPlaceholder(){return!this.isReadOnly}setNewValue(e){super.setNewValue(e),this.updateRemainingCharacterCounter(e)}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),this.updateRemainingCharacterCounter(e)}convertToCorrectValue(e){return Array.isArray(e)?e.join(this.getValueSeparator()):e}getValueSeparator(){return", "}getControlCssClassBuilder(){return new Ie().append(this.cssClasses.root).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle)}getControlClass(){return this.getControlCssClassBuilder().toString()}get isNewA11yStructure(){return!0}}W([G({localizable:!0,onSet:(i,e)=>e.resetRenderedPlaceholder()})],JC.prototype,"placeholder",void 0);me.addClass("textbase",[],function(){return new JC("")},"question");class s4e{setInputValue(e){this.inputElement.maxLength>=0&&this.inputElement.maxLength<e.length&&(e=e.slice(0,this.inputElement.maxLength)),this.inputElement.value=e}constructor(e,t,n){this.inputMaskInstance=e,this.inputElement=t,this.prevUnmaskedValue=void 0,this.inputMaskInstancePropertyChangedHandler=(s,o)=>{if(o.name!=="saveMaskedValue"){const a=this.inputMaskInstance.getMaskedValue(this.prevUnmaskedValue);this.setInputValue(a)}},this.clickHandler=s=>{this.inputElement.value==this.inputMaskInstance.getMaskedValue("")&&this.inputElement.setSelectionRange(0,0)},this.beforeInputHandler=s=>{const o=this.createArgs(s),a=this.inputMaskInstance.processInput(o);this.setInputValue(a.value),this.inputElement.setSelectionRange(a.caretPosition,a.caretPosition),a.cancelPreventDefault||s.preventDefault()},this.changeHandler=s=>{const o=this.inputMaskInstance.processInput({prevValue:"",insertedChars:s.target.value,selectionStart:0,selectionEnd:0});this.setInputValue(o.value)};let r=n;r==null&&(r=""),this.setInputValue(e.saveMaskedValue?r:e.getMaskedValue(r)),this.prevUnmaskedValue=r,e.onPropertyChanged.add(this.inputMaskInstancePropertyChangedHandler),this.addInputEventListener()}createArgs(e){const t={insertedChars:e.data,selectionStart:e.target.selectionStart,selectionEnd:e.target.selectionEnd,prevValue:e.target.value,inputDirection:"forward"};return e.inputType==="deleteContentBackward"&&(t.inputDirection="backward",t.selectionStart===t.selectionEnd&&(t.selectionStart=Math.max(t.selectionStart-1,0))),e.inputType==="deleteContentForward"&&t.selectionStart===t.selectionEnd&&(t.selectionEnd+=1),t}addInputEventListener(){this.inputElement&&(this.inputElement.addEventListener("beforeinput",this.beforeInputHandler),this.inputElement.addEventListener("click",this.clickHandler),this.inputElement.addEventListener("focus",this.clickHandler),this.inputElement.addEventListener("change",this.changeHandler))}removeInputEventListener(){this.inputElement&&(this.inputElement.removeEventListener("beforeinput",this.beforeInputHandler),this.inputElement.removeEventListener("click",this.clickHandler),this.inputElement.removeEventListener("focus",this.clickHandler),this.inputElement.removeEventListener("change",this.changeHandler))}dispose(){this.removeInputEventListener(),this.inputElement=void 0,this.inputMaskInstance.onPropertyChanged.remove(this.inputMaskInstancePropertyChangedHandler)}}var fE=/[0-9]/;function tB(){const e=(me.getChildrenClasses("masksettings")||[]).map(t=>{let n=t.name;return t.name.indexOf("mask")!==-1&&(n=n.slice(0,n.indexOf("mask"))),n});return e.unshift("none"),e}class $p extends JC{createMaskAdapter(){this.input&&!this.maskTypeIsEmpty&&(this.maskInputAdapter=new s4e(this.maskInstance,this.input,this.value))}deleteMaskAdapter(){this.maskInputAdapter&&(this.maskInputAdapter.dispose(),this.maskInputAdapter=void 0)}updateMaskAdapter(){this.deleteMaskAdapter(),this.createMaskAdapter()}onSetMaskType(e){this.setNewMaskSettingsProperty(),this.updateMaskAdapter()}get maskTypeIsEmpty(){switch(this.inputType){case"tel":case"text":return this.maskType==="none";default:return!0}}get maskSettings(){return this.getPropertyValue("maskSettings")}set maskSettings(e){if(!e)return;const t=this.maskSettings;t&&t.dispose(),this.setNewMaskSettingsProperty(),this.maskSettings.fromJSON(e.toJSON()),this.updateMaskAdapter()}setNewMaskSettingsProperty(){this.setPropertyValue("maskSettings",this.createMaskSettings())}createMaskSettings(){let e=!this.maskType||this.maskType==="none"?"masksettings":this.maskType+"mask";me.findClass(e)||(e="masksettings");const t=me.createClass(e);return t.onPropertyChanged.add((n,r)=>{this.onNestedPropertyChanged.fire(this,{name:"maskSettings",newValue:r.newValue,nestedName:r.name}),this.updateInputValue()}),t.owner=this,t}constructor(e){super(e),this._isWaitingForEnter=!1,this.onCompositionUpdate=t=>{this.isInputTextUpdate&&setTimeout(()=>{this.updateValueOnEvent(t)},1),this.updateRemainingCharacterCounter(t.target.value)},this.onKeyUp=t=>{this.updateDateValidationMessage(t),this.isInputTextUpdate?(!this._isWaitingForEnter||t.keyCode===13)&&(this.updateValueOnEvent(t),this._isWaitingForEnter=!1):t.keyCode===13&&this.updateValueOnEvent(t),this.updateRemainingCharacterCounter(t.target.value)},this.readOnlyBlocker=t=>{if(this.isReadOnlyAttr&&["color","range"].indexOf(this.inputType)>-1)return t.preventDefault(),!0},this.onKeyDown=t=>{this.readOnlyBlocker(t)||(this.onKeyDownPreprocess&&this.onKeyDownPreprocess(t),this.isInputTextUpdate&&(this._isWaitingForEnter=t.keyCode===229),this.onTextKeyDownHandler(t))},this.onChange=t=>{this.updateDateValidationMessage(t),t.target===oe.environment.root.activeElement?this.isInputTextUpdate&&this.updateValueOnEvent(t):this.updateValueOnEvent(t),this.updateRemainingCharacterCounter(t.target.value)},this.createLocalizableString("minErrorText",this,!0,"minError"),this.createLocalizableString("maxErrorText",this,!0,"maxError"),this.setNewMaskSettingsProperty(),this.locDataListValue=new UPe(this),this.locDataListValue.onValueChanged=(t,n)=>{this.propertyValueChanged("dataList",t,n)},this.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],()=>{this.setRenderedMinMax()}),this.registerPropertyChangedHandlers(["inputType","inputSize"],()=>{this.resetInputSize(),this.resetRenderedPlaceholder()})}isTextValue(){return this.isDateInputType||["text","number","password"].indexOf(this.inputType)>-1}getType(){return"text"}onSurveyLoad(){super.onSurveyLoad(),this.setRenderedMinMax()}get inputType(){return this.getPropertyValue("inputType")}set inputType(e){e=e.toLowerCase(),(e==="datetime_local"||e==="datetime")&&(e="datetime-local"),this.setPropertyValue("inputType",e.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0),this.updateMaskAdapter()}getMaxLength(){return this.isTextInput?super.getMaxLength():null}runConditionCore(e){super.runConditionCore(e),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(e)}getDisplayValueCore(e,t){return!this.maskTypeIsEmpty&&!se.isValueEmpty(t)?this.maskInstance.getMaskedValue(t):super.getDisplayValueCore(e,t)}isLayoutTypeSupported(e){return!0}get inputSize(){return this.getPropertyValue("inputSize")}set inputSize(e){this.setPropertyValue("inputSize",e)}get size(){return this.inputSize}set size(e){this.inputSize=e}get isTextInput(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1}get renderedInputSize(){return this.getPropertyValue("renderedInputSize",void 0,()=>{const e=this.calInputSize();return e>0?e:void 0})}get inputWidth(){return this.getPropertyValue("inputWidth",void 0,()=>this.calInputSize()>0?"auto":"")}calInputSize(){if(!this.isTextInput)return 0;let e=this.inputSize>0?this.inputSize:0;return e<1&&this.parent&&this.parent.inputSize&&(e=this.parent.inputSize),e}resetInputSize(){this.resetPropertyValue("renderedInputSize"),this.resetPropertyValue("inputWidth")}get autocomplete(){return this.getPropertyValue("autocomplete")}set autocomplete(e){this.setPropertyValue("autocomplete",e)}get min(){return this.getPropertyValue("min")}set min(e){if(this.isValueExpression(e)){this.minValueExpression=e.substring(1);return}this.setPropertyValue("min",e)}get max(){return this.getPropertyValue("max")}set max(e){if(this.isValueExpression(e)){this.maxValueExpression=e.substring(1);return}this.setPropertyValue("max",e)}get minValueExpression(){return this.getPropertyValue("minValueExpression","")}set minValueExpression(e){this.setPropertyValue("minValueExpression",e)}get maxValueExpression(){return this.getPropertyValue("maxValueExpression","")}set maxValueExpression(e){this.setPropertyValue("maxValueExpression",e)}get renderedMin(){return this.getPropertyValue("renderedMin")}get renderedMax(){return this.getPropertyValue("renderedMax")}get minErrorText(){return this.getLocalizableStringText("minErrorText")}set minErrorText(e){this.setLocalizableStringText("minErrorText",e)}get locMinErrorText(){return this.getLocalizableString("minErrorText")}get maxErrorText(){return this.getLocalizableStringText("maxErrorText")}set maxErrorText(e){this.setLocalizableStringText("maxErrorText",e)}get locMaxErrorText(){return this.getLocalizableString("maxErrorText")}get isMinMaxType(){return ul(this)}get maskInstance(){return this.maskSettings}get inputValue(){return!this._inputValue&&!this.maskTypeIsEmpty?this.maskInstance.getMaskedValue(""):this._inputValue}set inputValue(e){let t=e;this._inputValue=e,this.maskTypeIsEmpty||(t=this.maskInstance.getUnmaskedValue(e),this._inputValue=this.maskInstance.getMaskedValue(t),t&&this.maskSettings.saveMaskedValue&&(t=this._inputValue)),this.value=t}getFilteredValue(){return this.getExpressionValue(this.value)}getExpressionValue(e){return!this.maskTypeIsEmpty&&this.maskSettings.saveMaskedValue?this.maskInstance.getUnmaskedValue(e):e}convertToCorrectValue(e){return e!=null&&typeof e!="string"&&!this.maskTypeIsEmpty&&this.maskSettings.saveMaskedValue?this.maskInstance.getMaskedValue(e):super.convertToCorrectValue(e)}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.updateInputValue()}updateInputValue(){const e=this.value;this.maskTypeIsEmpty?this._inputValue=e:this.maskSettings.saveMaskedValue?this._inputValue=e??this.maskInstance.getMaskedValue(""):this._inputValue=this.maskInstance.getMaskedValue(e)}hasToConvertToUTC(e){return oe.storeUtcDates&&this.isDateTimeLocaleType()&&!!e}createDate(e){return Hr("question-text",e)}valueForSurveyCore(e){return this.hasToConvertToUTC(e)&&(e=this.createDate(e).toISOString()),super.valueForSurveyCore(e)}valueFromDataCore(e){if(this.hasToConvertToUTC(e)){const t=this.createDate(e);let r=this.createDate(t.getTime()-t.getTimezoneOffset()*60*1e3).toISOString();e=r.substring(0,r.length-2)}return super.valueFromDataCore(e)}onCheckForErrors(e,t,n){super.onCheckForErrors(e,t,n);const r=this.getIsInputTextUpdate();if(!(t&&r)){if(!this.isOnValueChanged){if(this.isValueLessMin){const s=new Ma(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);s.onUpdateErrorTextCallback=o=>{o.text=this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin))},e.push(s)}if(this.isValueGreaterMax){const s=new Ma(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);s.onUpdateErrorTextCallback=o=>{o.text=this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax))},e.push(s)}this.dateValidationMessage&&e.push(new Ma(this.dateValidationMessage,this))}if(this.inputType==="email"&&!this.validators.some(s=>s.getType()==="emailvalidator")){const s=this.getValidatorTitle(),o=new F$;o.errorOwner=this;const a=o.validate(this.value,s);a&&a.error&&e.push(a.error)}}}canSetValueToSurvey(){if(!this.isMinMaxType)return!0;const e=!this.isValueLessMin&&!this.isValueGreaterMax;return(!e||this.errors.length>0)&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),e}convertFuncValuetoQuestionValue(e){let t=this.maskTypeIsEmpty?this.inputType:this.maskSettings.getTypeForExpressions();return se.convertValToQuestionVal(e,t)}getMinMaxErrorText(e,t){if(se.isValueEmpty(t))return e;let n=t.toString();return this.inputType==="date"&&t.toDateString&&(n=t.toDateString()),e.replace("{0}",n)}get isValueLessMin(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)}get isValueGreaterMax(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)}get isDateInputType(){return this.inputType==="date"||this.isDateTimeLocaleType()}isDateTimeLocaleType(){return this.inputType==="datetime-local"}getCalculatedMinMax(e){return this.isValueEmpty(e)?e:this.isDateInputType?this.createDate(e):e}setRenderedMinMax(e=null){this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,t=>{!t&&this.isDateInputType&&oe.minDate&&(t=oe.minDate),this.setPropertyValue("renderedMin",t)},e),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,t=>{!t&&this.isDateInputType&&(t=oe.maxDate?oe.maxDate:"2999-12-31"),this.setPropertyValue("renderedMax",t)},e)}get step(){return this.getPropertyValue("step")}set step(e){this.setPropertyValue("step",e)}get renderedStep(){return this.isValueEmpty(this.step)?this.inputType!=="number"?void 0:"any":this.step}getIsInputTextUpdate(){return this.maskTypeIsEmpty?super.getIsInputTextUpdate():!1}supportAutoAdvance(){return!this.getIsInputTextUpdate()&&!this.isDateInputType}supportGoNextPageError(){return!this.isDateInputType}get dataList(){return this.locDataList.value}set dataList(e){this.locDataList.value=e}get locDataList(){return this.locDataListValue}get dataListId(){return this.locDataList.hasValue()?this.id+"_datalist":void 0}setNewValue(e){e=this.correctValueType(e),e&&(this.dateValidationMessage=void 0),super.setNewValue(e)}correctValueType(e){if(!e)return e;if(this.inputType==="number"||this.inputType==="range")return se.isNumber(e)?se.getNumber(e):"";if(this.inputType==="month"){const t=this.createDate(e),n=t.toISOString().indexOf(e)==0&&e.indexOf("T")==-1,r=n?t.getUTCMonth():t.getMonth(),s=n?t.getUTCFullYear():t.getFullYear(),o=r+1;return s+"-"+(o<10?"0":"")+o}return e}hasPlaceholder(){return!this.isReadOnly&&this.inputType!=="range"}getControlCssClassBuilder(){const e=this.getMaxLength();return super.getControlCssClassBuilder().append(this.cssClasses.constrolWithCharacterCounter,!!e).append(this.cssClasses.characterCounterBig,e>99)}isReadOnlyRenderDiv(){return this.isReadOnly&&oe.readOnly.textRenderMode==="div"}get inputStyle(){var e={};return e.width=this.inputWidth,this.updateTextAlign(e),e}updateTextAlign(e){this.inputTextAlignment!=="auto"?e.textAlign=this.inputTextAlignment:!this.maskTypeIsEmpty&&this.maskSettings.getTextAlignment()!=="auto"&&(e.textAlign=this.maskSettings.getTextAlignment())}updateValueOnEvent(e){const t=e.target.value;this.isTwoValueEquals(this.value,t)||(this.inputValue=t)}updateDateValidationMessage(e){this.dateValidationMessage=this.isDateInputType&&e.target?e.target.validationMessage:void 0}onBlurCore(e){this.updateDateValidationMessage(e),this.updateValueOnEvent(e),this.updateRemainingCharacterCounter(e.target.value),super.onBlurCore(e)}onFocusCore(e){this.updateRemainingCharacterCounter(e.target.value),super.onFocusCore(e)}afterRenderQuestionElement(e){e&&(this.input=e instanceof HTMLInputElement?e:e.querySelector("input"),this.createMaskAdapter()),super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){this.deleteMaskAdapter(),this.input=void 0}}W([G({onSet:(i,e)=>{e.onSetMaskType(i)}})],$p.prototype,"maskType",void 0);W([G()],$p.prototype,"inputTextAlignment",void 0);W([G()],$p.prototype,"_inputValue",void 0);const o4e=["number","range","date","datetime-local","month","time","week"];function ul(i){const e=i?i.inputType:"";return e?o4e.indexOf(e)>-1:!1}function jV(i,e){const t=i.split(e);return t.length!==2||!se.isNumber(t[0])||!se.isNumber(t[1])?-1:parseFloat(t[0])*60+parseFloat(t[1])}function a4e(i,e,t){const n=jV(i,t),r=jV(e,t);return n<0||r<0?!1:n>r}function QV(i,e,t,n){let r=n?t:e;if(!ul(i)||se.isValueEmpty(e)||se.isValueEmpty(t))return r;if(i.inputType.indexOf("date")===0||i.inputType==="month"){const s=i.inputType==="month",o="question-text-minmax",a=Hr(o,s?e+"-01":e),l=Hr(o,s?t+"-01":t);if(!a||!l)return r;if(a>l)return n?e:t}if(i.inputType==="week"||i.inputType==="time"){const s=i.inputType==="week"?"-W":":";return a4e(e,t,s)?n?e:t:r}if(i.inputType==="number"){if(!se.isNumber(e)||!se.isNumber(t))return r;if(se.getNumber(e)>se.getNumber(t))return n?e:t}return typeof e=="string"||typeof t=="string"?r:e>t?n?e:t:r}function WV(i,e){i&&i.inputType&&(e.inputType=i.inputType!=="range"?i.inputType:"number",e.textUpdateMode="onBlur")}me.addClass("text",[{name:"inputType",default:"text",choices:oe.questions.inputTypes},{name:"inputSize:number",alternativeName:"size",minValue:0,dependsOn:"inputType",visibleIf:function(i){return i?i.isTextInput:!1}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(i){return i?i.isTextInput:!1}},{name:"autocomplete",alternativeName:"autoComplete",choices:oe.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(i){return ul(i)},onPropertyEditorUpdate:function(i,e){WV(i,e)},onSettingValue:(i,e)=>QV(i,e,i.max,!1)},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(i){return ul(i)},onSettingValue:(i,e)=>QV(i,i.min,e,!0),onPropertyEditorUpdate:function(i,e){WV(i,e)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(i){return ul(i)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(i){return ul(i)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(i){return ul(i)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(i){return ul(i)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:i=>i.inputType==="text"||i.inputType==="tel",choices:i=>tB()},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:["inputType","maskType"],visibleIf:i=>i.inputType==="text"||i.inputType==="tel",onGetValue:function(i){return i.maskSettings.getData()},onSetValue:function(i,e){i.maskSettings.setData(e)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(i){return i?i.inputType==="number"||i.inputType==="range":!1}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(i){return i?i.isTextInput:!1}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(i){return i?i.isTextInput:!1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(i){return i?i.inputType==="text":!1}}],function(){return new $p("")},"textbase");Fn.Instance.registerQuestion("text",i=>new $p(i));class l4e extends xh{constructor(e){super(),this.question=e}getRootObj(){return this.question.data}updateValueByItem(e,t){const n=this.question.items;e=e.toLocaleLowerCase();for(let r=0;r<n.length;r++){const s=n[r].question;if(s.getValueName().toLocaleLowerCase()===e){t.isFound=!0,t.context=s.getValueGetterContext();return}}}}class u4e extends $p{get a11y_input_ariaLabel(){return this.locTitle.renderedHtml}get a11y_input_ariaLabelledBy(){return null}get a11y_input_ariaDescribedBy(){return null}}class nB extends Ut{constructor(e=null,t=null){super(),this.focusIn=()=>{this.editor.focusIn()},this.editorValue=this.createEditor(e),this.maskSettings=this.editorValue.maskSettings,this.editor.questionTitleTemplateCallback=function(){return""},this.editor.titleLocation="left",t&&(this.title=t),this.editor.onPropertyChanged.add((n,r)=>{r.name!=="maskSettings"&&this.onPropertyChanged.fire(this,r)})}getType(){return"multipletextitem"}get id(){return this.editor.id}getOriginalObj(){return this.editor}get name(){return this.editor.name}set name(e){this.editor.name=e}get question(){return this.data}get editor(){return this.editorValue}createEditor(e){return new u4e(e)}addUsedLocales(e){super.addUsedLocales(e),this.editor.addUsedLocales(e)}localeChanged(){super.localeChanged(),this.editor.localeChanged()}locStrsChanged(){super.locStrsChanged(),this.editor.locStrsChanged()}setData(e){this.data=e,e&&(this.editor.defaultValue=e.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=e,this.editor.setParentQuestion(e))}get isRequired(){return this.editor.isRequired}set isRequired(e){this.editor.isRequired=e}get inputType(){return this.editor.inputType}set inputType(e){this.editor.inputType=e}get title(){return this.editor.title}set title(e){this.editor.title=e}get locTitle(){return this.editor.locTitle}get fullTitle(){return this.editor.fullTitle}get maxLength(){return this.editor.maxLength}set maxLength(e){this.editor.maxLength=e}getMaxLength(){var e=this.getSurvey();return se.getMaxLength(this.maxLength,e?e.maxTextLength:-1)}get placeholder(){return this.editor.placeholder}set placeholder(e){this.editor.placeholder=e}get locPlaceholder(){return this.editor.locPlaceholder}get placeHolder(){return this.placeholder}set placeHolder(e){this.placeholder=e}get locPlaceHolder(){return this.locPlaceholder}get requiredErrorText(){return this.editor.requiredErrorText}set requiredErrorText(e){this.editor.requiredErrorText=e}get locRequiredErrorText(){return this.editor.locRequiredErrorText}get inputSize(){return this.editor.inputSize}set inputSize(e){this.editor.inputSize=e}get size(){return this.inputSize}set size(e){this.inputSize=e}get defaultValueExpression(){return this.editor.defaultValueExpression}set defaultValueExpression(e){this.editor.defaultValueExpression=e}get minValueExpression(){return this.editor.minValueExpression}set minValueExpression(e){this.editor.minValueExpression=e}get maxValueExpression(){return this.editor.maxValueExpression}set maxValueExpression(e){this.editor.maxValueExpression=e}get validators(){return this.editor.validators}set validators(e){this.editor.validators=e}getValidators(){return this.validators}get maskType(){return this.editor.maskType}set maskType(e){this.editor.maskType=e,this.maskSettings=this.editor.maskSettings}get maskSettings(){return this.getPropertyValue("maskSettings")}set maskSettings(e){this.setPropertyValue("maskSettings",e),this.editor.maskSettings!==e&&(this.editor.maskSettings=e)}get inputTextAlignment(){return this.editor.inputTextAlignment}set inputTextAlignment(e){this.editor.inputTextAlignment=e}get value(){return this.data?this.data.getMultipleTextValue(this.name):null}set value(e){this.data!=null&&this.data.setMultipleTextValue(this.name,e)}isEmpty(){return this.editor.isEmpty()}onValueChanged(e){this.valueChangedCallback&&this.valueChangedCallback(e)}getSurveyData(){return this}getSurvey(){return this.data?this.data.getSurvey():null}getTextProcessor(){return this.data?this.data.getTextProcessor():null}getValue(e){return this.data?this.data.getMultipleTextValue(e):null}setValue(e,t){this.data&&this.data.setMultipleTextValue(e,t)}getVariable(e){}setVariable(e,t){}getComment(e){return null}setComment(e,t){}getAllValues(){return this.data?this.data.getAllValues():this.value}getFilteredProperties(){return{survey:this.getSurvey()}}findQuestionByName(e){const t=this.getSurvey();return t?t.getQuestionByName(e):null}getEditingSurveyElement(){}getValidatorTitle(){return this.title}get validatedValue(){return this.value}set validatedValue(e){this.value=e}getDataFilteredProperties(){return this.getFilteredProperties()}}class ib extends hr{static addDefaultItems(e){for(var t=Fn.DefaultMutlipleTextItems,n=0;n<t.length;n++)e.addItem(t[n])}constructor(e){super(e),this.isMultipleItemValueChanging=!1,this.createNewArray("items",t=>{t.setData(this),this.survey&&this.survey.multipleTextItemAdded(this,t)}),this.registerPropertyChangedHandlers(["items","colCount","itemErrorLocation"],()=>{this.calcVisibleRows()}),this.registerPropertyChangedHandlers(["inputSize"],()=>{this.resetItemsSize()})}getType(){return"multipletext"}setSurveyImpl(e,t){super.setSurveyImpl(e,t);for(var n=0;n<this.items.length;n++)this.items[n].setData(this)}get isAllowTitleLeft(){return!1}get hasSingleInput(){return!1}get isContainer(){return!0}get id(){return this.getPropertyValue("id")}set id(e){var t;(t=this.items)===null||t===void 0||t.map((n,r)=>n.editor.id=e+"_"+r),this.setPropertyValue("id",e)}onSurveyLoad(){this.editorsOnSurveyLoad(),super.onSurveyLoad(),se.isValueEmpty(this.rows)||this.calcVisibleRows()}setQuestionValue(e,t=!0){super.setQuestionValue(e,t),this.performForEveryEditor(n=>{n.editor.updateValueFromSurvey(n.value)}),this.updateIsAnswered()}onSurveyValueChanged(e){super.onSurveyValueChanged(e),this.performForEveryEditor(t=>{t.editor.onSurveyValueChanged(t.value)})}resetItemsSize(){this.performForEveryEditor(e=>{e.editor.resetInputSize()})}editorsOnSurveyLoad(){this.performForEveryEditor(e=>{e.editor.onSurveyLoad()})}performForEveryEditor(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];n.editor&&e(n)}}get items(){return this.getPropertyValue("items")}set items(e){this.setPropertyValue("items",e)}addItem(e,t=null){var n=this.createTextItem(e,t);return this.items.push(n),n}getItemByName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].name==e)return this.items[t];return null}getElementsInDesign(e=!1){let t;return t=super.getElementsInDesign(e),t.concat(this.items)}addConditionObjectsByContext(e,t){for(var n=0;n<this.items.length;n++){var r=this.items[n];e.push({name:this.getValueName()+"."+r.name,text:this.processedTitle+"."+r.fullTitle,question:this})}}collectNestedQuestionsCore(e,t,n,r){r&&e.push(this),this.items.forEach(s=>s.editor.addNestedQuestion(e,t,n,r))}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);var n=this.getItemByName(t);if(!n)return null;var r=new Si().toJsonObject(n);return r.type="text",r}locStrsChanged(){super.locStrsChanged();for(var e=0;e<this.items.length;e++)this.items[e].locStrsChanged()}localeChanged(){super.localeChanged();for(var e=0;e<this.items.length;e++)this.items[e].localeChanged()}get itemErrorLocation(){return this.getPropertyValue("itemErrorLocation")}set itemErrorLocation(e){this.setPropertyValue("itemErrorLocation",e)}getQuestionErrorLocation(){return this.itemErrorLocation!=="default"?this.itemErrorLocation:this.getErrorLocation()}get showItemErrorOnTop(){return this.getQuestionErrorLocation()=="top"}get showItemErrorOnBottom(){return this.getQuestionErrorLocation()=="bottom"}getChildErrorLocation(e){return this.getQuestionErrorLocation()}isNewValueCorrect(e){return se.isValueObject(e,!0)}supportAutoAdvance(){for(var e=0;e<this.items.length;e++)if(this.items[e].isEmpty())return!1;return!0}get colCount(){return this.getPropertyValue("colCount")}set colCount(e){e<1||e>5||this.setPropertyValue("colCount",e)}get inputSize(){return this.getPropertyValue("inputSize")}set inputSize(e){this.setPropertyValue("inputSize",e)}get itemSize(){return this.inputSize}set itemSize(e){this.inputSize=e}get itemTitleWidth(){return this.getPropertyValue("itemTitleWidth")||""}set itemTitleWidth(e){this.setPropertyValue("itemTitleWidth",e)}onRowCreated(e){return e}calcVisibleRows(){const e=this.colCount,t=this.items;let n=0,r,s,o=[];for(var a=0;a<t.length;a++)n==0&&(r=this.onRowCreated(new YC),s=this.onRowCreated(new c4e),this.showItemErrorOnTop?(o.push(s),o.push(r)):(o.push(r),o.push(s))),r.cells.push(new iB(t[a],this)),s.cells.push(new d4e(t[a],this)),n++,(n>=e||a==t.length-1)&&(n=0,s.onAfterCreated());this.rows=o}getRows(){return se.isValueEmpty(this.rows)&&this.calcVisibleRows(),this.rows}onValueChanged(){super.onValueChanged(),this.onItemValueChanged()}createTextItem(e,t){return new nB(e,t)}onItemValueChanged(){if(!this.isMultipleItemValueChanging)for(var e=0;e<this.items.length;e++){var t=null;this.value&&this.items[e].name in this.value&&(t=this.value[this.items[e].name]),this.items[e].onValueChanged(t)}}runConditionCore(e){super.runConditionCore(e),this.items.forEach(t=>t.editor.runCondition(e))}getIsRunningValidators(){if(super.getIsRunningValidators())return!0;for(var e=0;e<this.items.length;e++)if(this.items[e].editor.isRunningValidators)return!0;return!1}hasErrors(e=!0,t=null){for(var n=!1,r=0;r<this.items.length;r++)this.items[r].editor.onCompletedAsyncValidators=s=>{this.raiseOnCompletedAsyncValidators()},!(t&&t.isOnValueChanged===!0&&this.items[r].editor.isEmpty())&&(n=this.items[r].editor.hasErrors(e,t)||n);return super.hasErrors(e)||n}getAllErrors(){for(var e=super.getAllErrors(),t=0;t<this.items.length;t++){var n=this.items[t].editor.getAllErrors();n&&n.length>0&&(e=e.concat(n))}return e}clearErrors(){super.clearErrors();for(var e=0;e<this.items.length;e++)this.items[e].editor.clearErrors()}getContainsErrors(){var e=super.getContainsErrors();if(e)return e;for(var t=this.items,n=0;n<t.length;n++)if(t[n].editor.containsErrors)return!0;return!1}getIsAnswered(){if(!super.getIsAnswered())return!1;for(var e=0;e<this.items.length;e++){var t=this.items[e].editor;if(t.isVisible&&!t.isAnswered)return!1}return!0}getProgressInfo(){for(var e=[],t=0;t<this.items.length;t++)e.push(this.items[t].editor);return ni.getProgressInfoByElements(e,this.isRequired)}getValueGetterContext(){return new l4e(this)}getDisplayValueCore(e,t){if(!t)return t;for(var n={},r=0;r<this.items.length;r++){var s=this.items[r],o=t[s.name];if(!se.isValueEmpty(o)){var a=s.name;e&&s.title&&(a=s.title),n[a]=s.editor.getDisplayValue(e,o)}}return n}allowMobileInDesignMode(){return!0}getMultipleTextValue(e){return this.value?this.value[e]:null}setMultipleTextValue(e,t){this.isMultipleItemValueChanging=!0,this.isValueEmpty(t)&&(t=void 0);var n=this.value;n||(n={}),n[e]=t,this.setNewValue(n),this.isMultipleItemValueChanging=!1}getItemDefaultValue(e){return this.defaultValue?this.defaultValue[e]:null}getTextProcessor(){return this.textProcessor}getAllValues(){return this.data?this.data.getAllValues():null}addElement(e,t){}removeElement(e){return!1}getQuestionTitleLocation(){return"left"}getQuestionTitleWidth(){}getColumsForElement(e){return[]}updateColumns(){}getQuestionStartIndex(){return this.getStartIndex()}getChildrenLayoutType(){return"row"}elementWidthChanged(e){}get elements(){return[]}indexOf(e){return-1}ensureRowsVisibility(){}validateContainerOnly(){}onQuestionValueChanged(e){}getItemLabelCss(e){return new Ie().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelDisabled,this.isDisabledStyle).append(this.cssClasses.itemLabelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.itemLabelPreview,this.isPreviewStyle).append(this.cssClasses.itemLabelAnswered,e.editor.isAnswered).append(this.cssClasses.itemLabelAllowFocus,!this.isDesignMode).append(this.cssClasses.itemLabelOnError,e.editor.errors.length>0).append(this.cssClasses.itemWithCharacterCounter,!!e.getMaxLength()).toString()}getItemCss(){return new Ie().append(this.cssClasses.item).toString()}getItemTitleCss(){return new Ie().append(this.cssClasses.itemTitle).toString()}get ariaRole(){return"group"}get ariaRequired(){return null}get ariaInvalid(){return null}}W([rs()],ib.prototype,"rows",void 0);class YC extends Ut{constructor(){super(...arguments),this.isVisible=!0,this.cells=[]}}W([G()],YC.prototype,"isVisible",void 0);W([rs()],YC.prototype,"cells",void 0);class c4e extends YC{onAfterCreated(){const e=()=>{this.isVisible=this.cells.some(t=>{var n,r;return((n=t.item)===null||n===void 0?void 0:n.editor)&&((r=t.item)===null||r===void 0?void 0:r.editor.hasVisibleErrors)})};this.cells.forEach(t=>{var n,r;!((n=t.item)===null||n===void 0)&&n.editor&&((r=t.item)===null||r===void 0||r.editor.registerFunctionOnPropertyValueChanged("hasVisibleErrors",e))}),e()}}class iB{constructor(e,t){this.item=e,this.question=t,this.isErrorsCell=!1}getClassName(){return new Ie().append(this.question.cssClasses.cell).toString()}get className(){return this.getClassName()}}class d4e extends iB{constructor(){super(...arguments),this.isErrorsCell=!0}getClassName(){return new Ie().append(super.getClassName()).append(this.question.cssClasses.cellError).append(this.question.cssClasses.cellErrorTop,this.question.showItemErrorOnTop).append(this.question.cssClasses.cellErrorBottom,this.question.showItemErrorOnBottom).toString()}}me.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:oe.questions.inputTypes},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:i=>i.inputType==="text",choices:i=>tB()},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:"inputType",visibleIf:i=>i.inputType==="text",onGetValue:function(i){return i.maskSettings.getData()},onSetValue:function(i,e){i.maskSettings.setData(e)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"inputSize:number",alternativeName:"size",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"defaultValueExpression:expression",visible:!1},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(i){return ul(i)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(i){return ul(i)}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new nB("")});me.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem",isArray:!0},{name:"inputSize:number",minValue:0,visible:!1,alternativeName:"itemSize"},{name:"colCount:number",default:1,choices:[1,2,3,4,5]},{name:"itemErrorLocation",default:"default",choices:["default","top","bottom"],visible:!1},{name:"itemTitleWidth",category:"layout"}],function(){return new ib("")},"question");Fn.Instance.registerQuestion("multipletext",i=>{var e=new ib(i);return ib.addDefaultItems(e),e});class dv extends Fp{constructor(e=""){super(e),this.createLocalizableString("content",this,!0),this.registerPropertyChangedHandlers(["content"],()=>{this.onContentChanged()})}getType(){return"flowpanel"}getChildrenLayoutType(){return"flow"}onSurveyLoad(){super.onSurveyLoad(),this.onContentChanged()}get content(){return this.getLocalizableStringText("content")}set content(e){this.setLocalizableStringText("content",e)}get locContent(){return this.getLocalizableString("content")}get html(){return this.getPropertyValue("html","")}set html(e){this.setPropertyValue("html",e)}onContentChanged(){var e="";this.onCustomHtmlProducing?e=this.onCustomHtmlProducing():e=this.produceHtml(),this.html=e,this.contentChangedCallback&&this.contentChangedCallback()}produceHtml(){for(var e=[],t=/{(.*?(element:)[^$].*?)}/g,n=this.content,r=0,s=null;(s=t.exec(n))!==null;){s.index>r&&(e.push(n.substring(r,s.index)),r=s.index);var o=this.getQuestionFromText(s[0]);o?e.push(this.getHtmlForQuestion(o)):e.push(n.substring(r,s.index+s[0].length)),r=s.index+s[0].length}return r<n.length&&e.push(n.substring(r,n.length)),e.join("").replace(new RegExp("<br>","g"),"<br/>")}getQuestionFromText(e){return e=e.substring(1,e.length-1),e=e.replace(dv.contentElementNamePrefix,"").trim(),this.getQuestionByName(e)}getHtmlForQuestion(e){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(e):""}getQuestionHtmlId(e){return this.name+"_"+e.id}onAddElement(e,t){super.onAddElement(e,t),this.addElementToContent(e),e.renderWidth=""}onRemoveElement(e){var t=this.getElementContentText(e);this.content=this.content.replace(t,""),super.onRemoveElement(e)}dragDropMoveElement(e,t,n){}addElementToContent(e){if(!this.isLoadingFromJson){var t=this.getElementContentText(e);this.insertTextAtCursor(t)||(this.content=this.content+t)}}insertTextAtCursor(e,t=null){if(!this.isDesignMode||!Bt.isAvailable())return!1;let n=Bt.getSelection();if(n.getRangeAt&&n.rangeCount){let o=n.getRangeAt(0);o.deleteContents();const a=new Text(e);o.insertNode(a);var r=this;if(r.getContent){var s=r.getContent(t);this.content=s}return!0}return!1}getElementContentText(e){return"{"+dv.contentElementNamePrefix+e.name+"}"}}dv.contentElementNamePrefix="element:";me.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new dv},"panel");class k5 extends hr{constructor(e){super(e)}getType(){return"nonvalue"}get hasInput(){return!1}get hasTitle(){return!1}getTitleLocation(){return""}get hasComment(){return!1}hasErrors(e=!0,t=null){return!1}getAllErrors(){return[]}supportAutoAdvance(){return!1}addConditionObjectsByContext(e,t){}getConditionJson(e=null,t=null){return null}get ariaRole(){return null}get ariaRequired(){return null}}me.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showTitle",visible:!1,isSerializable:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new k5("")},"question");class h4e extends hr{constructor(e){super(e)}getType(){return"empty"}}me.addClass("empty",[],function(){return new h4e("")},"question");class f4e extends GC{get isExclusive(){return this.getPropertyValue("isExclusive")}set isExclusive(e){this.setPropertyValue("isExclusive",e)}getBaseType(){return"checkboxitem"}onPropertyValueChanged(e,t,n){super.onPropertyValueChanged(e,t,n),e==="showCommentArea"&&this.locOwner&&this.locOwner.onItemHasCommentChanged()}}class ZC extends KC{constructor(e){super(e),this.invisibleOldValues={},this.isChangingValueOnClearIncorrect=!1,this.selectAllItemValue=this.createSelectAllItem(),this.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],()=>{this.onVisibleChoicesChanged()}),this.registerPropertyChangedHandlers(["choices"],()=>{this.onItemHasCommentChanged()})}getDefaultItemComponent(){return"survey-checkbox-item"}getType(){return"checkbox"}getItemValueType(){return"checkboxitem"}createSelectAllItem(){const e=this.createItemValue("");return e.value="",e.id="selectall",this.selectAllItemText=this.createLocalizableString("selectAllText",e,!0,"selectAllItemText"),e.locOwner=this,e.setLocText(this.selectAllItemText),e}onCreating(){super.onCreating(),this.createNewArray("renderedValue"),this.createNewArray("value")}getFirstInputElementId(){return this.inputId+"_0"}get valuePropertyName(){return this.getPropertyValue("valuePropertyName")}set valuePropertyName(e){this.setPropertyValue("valuePropertyName",e)}getValuePropertyName(){return this.valuePropertyName||(this.isTheOnlyComment?"":"value")}getQuestionFromArray(e,t){if(e&&e===this.getValuePropertyName()){const n=this.value;if(Array.isArray(n)&&t<n.length)return this}return null}getDependedQuestionsByValueName(e){return e&&this.getValuePropertyName()?[]:super.getDependedQuestionsByValueName(e)}get selectAllItem(){return this.selectAllItemValue}get selectAllText(){return this.getLocalizableStringText("selectAllText")}set selectAllText(e){this.setLocalizableStringText("selectAllText",e)}get locSelectAllText(){return this.getLocalizableString("selectAllText")}get showSelectAllItem(){return this.getPropertyValue("showSelectAllItem")}set showSelectAllItem(e){this.setPropertyValue("showSelectAllItem",e)}get hasSelectAll(){return this.showSelectAllItem}set hasSelectAll(e){this.showSelectAllItem=e}get isAllSelected(){return this.allElementsSelected()}set isAllSelected(e){e?this.selectAll():this.clearValue(!0)}toggleSelectAll(){this.isAllSelected=!this.isAllSelected}allElementsSelected(){if(this.isNoneItemsSelected())return!1;const e=this.getVisibleEnableItems();if(e.length===0)return!1;const t=this.value;if(!t||!Array.isArray(t)||t.length===0||t.length<e.length)return!1;const n=[];for(let r=0;r<t.length;r++)n.push(this.getRealValue(t[r]));for(let r=0;r<e.length;r++)if(n.indexOf(e[r].value)<0)return!1;return!0}isNoneItemsSelected(){const e=this.getNoneItems();for(let t=0;t<e.length;t++)if(this.isItemSelected(e[t]))return!0;return!1}getNoneItems(){const e=new Array;return this.visibleChoices.forEach(t=>{this.isNoneItem(t)&&e.push(t)}),e}selectAll(){const e=[],t=this.getVisibleEnableItems();for(let n=0;n<t.length;n++)e.push(t[n].value);this.renderedValue=e}clickItemHandler(e,t){this.selectItem(e,t)}selectItem(e,t){if(!(this.isReadOnlyAttr||!e))if(e===this.selectAllItem)t===!0||t===!1?this.isAllSelected=t:this.toggleSelectAll();else{if(this.isNoneItem(e))this.renderedValue=t?[e.value]:[];else{const n=[].concat(this.renderedValue||[]),r=n.indexOf(e.value);t?r<0&&n.push(e.value):r>-1&&n.splice(r,1),this.renderedValue=n}t&&this.onItemSelected(e)}}isItemSelectedCore(e){if(e===this.selectAllItem)return this.isAllSelected;var t=this.renderedValue;if(!t||!Array.isArray(t))return!1;for(var n=0;n<t.length;n++)if(this.isTwoValueEquals(t[n],e.value))return!0;return!1}hasUnknownValueItem(e,t=!1,n=!0,r=!1){return super.hasUnknownValueItem(this.getRealValue(e),t,n,r)}setCommentValueCore(e,t){if(t=this.trimCommentValue(t),this.isOtherItemByValue(e))super.setCommentValueCore(e,t);else{this.setCommentPropertyValue(e,t);const n=this.getItemValIndexByItemValue(e.value);if(n>-1){const r=this.createValueCopy();r[n][this.commentPropertyValue]=t,this.value=r}}}getCommentValueByItem(e){const t=this.getItemValIndexByItemValue(e.value);return t>-1?this.value[t][this.commentPropertyValue]:void 0}getItemValIndexByItemValue(e){const t=this.value;if(!Array.isArray(t))return-1;for(let n=0;n<t.length;n++){const r=this.getRealValue(t[n]);if(se.isTwoValueEquals(r,e))return n}return-1}get isTheOnlyComment(){return this.getPropertyValue("isTheOnlyComment",void 0,()=>this.calcIsTheOnlyComment())}calcIsTheOnlyComment(){for(let e=0;e<this.choices.length;e++){const t=this.choices[e];if(t.showCommentArea&&t.value!==this.otherItem.value)return!1}return!0}onItemHasCommentChanged(){this.resetPropertyValue("isTheOnlyComment")}getRealValue(e){if(!e||typeof e!="object")return e;const t=this.getValuePropertyName();return t?e[t]:e}getValueFromReal(e){const t=this.getValuePropertyName();if(t){const n={};return n[t]=e,n}return e}get isValueArray(){return!0}get maxSelectedChoices(){return this.getPropertyValue("maxSelectedChoices")}set maxSelectedChoices(e){e<0&&(e=0),this.setPropertyValue("maxSelectedChoices",e),this.filterItems()}get minSelectedChoices(){return this.getPropertyValue("minSelectedChoices")}set minSelectedChoices(e){e<0&&(e=0),this.setPropertyValue("minSelectedChoices",e)}get selectedChoices(){const e=this.renderedValue,t=this.visibleChoices,n=this.selectedItemValues;if(this.isEmpty())return[];const r=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,t):t,s=e.map(a=>Kt.getItemByValue(r,a)).filter(a=>!!a);return!s.length&&!n&&this.updateSelectedItemValues(),this.validateItemValues(s)}get selectedItems(){return this.selectedChoices}get hasFilteredValue(){return!!this.getValuePropertyName()}getFilteredName(){let e=super.getFilteredName();return this.hasFilteredValue&&(e+=oe.expressionVariables.unwrapPostfix),e}getFilteredValue(e){return e&&this.hasFilteredValue?this.renderedValue:super.getFilteredValue(e)}getMultipleSelectedItems(){return this.selectedChoices}validateItemValues(e){if(e.length)return e;const t=this.selectedItemValues;return t&&t.length?(this.defaultSelectedItemValues=[].concat(t),t):this.renderedValue.map(r=>this.createItemValue(r))}getAnswerCorrectIgnoreOrder(){return!0}onCheckForErrors(e,t,n){if(super.onCheckForErrors(e,t,n),!t&&this.checkMinSelectedChoicesUnreached()){const r=new Ma(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);e.push(r)}}onVisibleChoicesChanged(){super.onVisibleChoicesChanged(),this.updateSelectAllItemProps()}onEnableItemCallBack(e){return this.shouldCheckMaxSelectedChoices()?this.isItemSelected(e):!0}onAfterRunItemsEnableCondition(){this.updateSelectAllItemProps();const e=this.maxSelectedChoices<1||this.isOtherSelected||!this.shouldCheckMaxSelectedChoices();this.otherItem.setIsEnabled(e)}updateSelectAllItemProps(){this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.getSelectAllEnabled())}getSelectAllEnabled(){if(!this.hasSelectAll)return!0;let e=this.getVisibleEnableItems().length;const t=this.maxSelectedChoices;return t>0&&t<e?!1:e>0}getVisibleEnableItems(){const e=new Array,t=this.visibleChoices;for(let n=0;n<t.length;n++){const r=t[n];r.isEnabled&&!this.isBuiltInChoice(r)&&!r.isExclusive&&e.push(r)}return e}shouldCheckMaxSelectedChoices(){if(this.maxSelectedChoices<1)return!1;var e=this.value,t=Array.isArray(e)?e.length:0;return t>=this.maxSelectedChoices}checkMinSelectedChoicesUnreached(){if(this.minSelectedChoices<1)return!1;var e=this.value,t=Array.isArray(e)?e.length:0;return t===1&&this.isNoneItemsSelected()?!1:t<this.minSelectedChoices}getItemClassCore(e,t){return this.value,t.isSelectAllItem=e===this.selectAllItem,new Ie().append(super.getItemClassCore(e,t)).append(this.cssClasses.itemSelectAll,t.isSelectAllItem).toString()}updateValueFromSurvey(e,t){super.updateValueFromSurvey(e,t),this.invisibleOldValues={}}onSurveyLoad(){this.onItemHasCommentChanged(),super.onSurveyLoad()}setDefaultUnknownValue(e){if(!Array.isArray(e)){super.setDefaultUnknownValue(e);return}if(this.hasActiveChoices){const n=[];let r="";for(var t=0;t<e.length;t++){const o=this.getRealValue(e[t]);this.hasUnknownValue(o)?r||(r=o,n.push(this.otherItem.value)):n.push(o)}this.renderedValue=n,this.otherValue=r}else{for(var t=0;t<e.length;t++){const n=this.getRealValue(e[t]);this.addIntoInvisibleOldValues(n)}this.value=e}}addIntoInvisibleOldValues(e){this.invisibleOldValues[e]=e}hasValueToClearIncorrectValues(){return super.hasValueToClearIncorrectValues()||!se.isValueEmpty(this.invisibleOldValues)}setNewValue(e){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),e=this.valueFromData(e);var t=this.value;e||(e=[]),t||(t=[]),!this.isTwoValueEquals(t,e)&&(this.removeNoneItemsValues(t,e),super.setNewValue(e))}getCommentFromValue(e){var t=this.getFirstUnknownIndex(e);return t<0?"":e[t]}getStoreOthersAsComment(){return this.getValuePropertyName()?!1:super.getStoreOthersAsComment()}setOtherValueIntoValue(e){var t=this.getFirstUnknownIndex(e);if(t<0)return e;let n=this.otherItem.value;const r=this.getValuePropertyName();if(r){const s={};s[r]=n,n=s}return e.splice(t,1,n),e}getFirstUnknownIndex(e){if(!Array.isArray(e))return-1;for(var t=0;t<e.length;t++)if(this.hasUnknownValueItem(e[t],!1,!1))return t;return-1}removeNoneItemsValues(e,t){const n=this.getNoneItems().map(r=>r.value);if(n.length>0){const r=this.noneIndexInArray(e,n),s=this.noneIndexInArray(t,n);if(r.index>-1)if(r.val===s.val)t.length>0&&t.splice(s.index,1);else{const o=this.noneIndexInArray(t,[r.val]);o.index>-1&&o.index<t.length-1&&t.splice(o.index,1)}else s.index>-1&&t.length>1&&t.splice(0,t.length,this.getValueFromReal(s.val))}}noneIndexInArray(e,t){if(!Array.isArray(e))return{index:-1,val:void 0};for(var n=e.length-1;n>=0;n--){const r=t.indexOf(this.getRealValue(e[n]));if(r>-1)return{index:n,val:t[r]}}return{index:-1,val:void 0}}supportSelectAll(){return this.isSupportProperty("showSelectAllItem")}addNonChoicesItems(e,t){super.addNonChoicesItems(e,t),this.supportSelectAll()&&this.addNonChoiceItem(e,this.selectAllItem,t,this.hasSelectAll,oe.specialChoicesOrder.selectAllItem)}isBuiltInChoice(e){return e===this.selectAllItem||super.isBuiltInChoice(e)}isItemInList(e){return e==this.selectAllItem?this.hasSelectAll:super.isItemInList(e)}getDisplayValueEmpty(){return Kt.getTextOrHtmlByValue(this.visibleChoices.filter(e=>e!=this.selectAllItemValue),void 0)}getDisplayValueCore(e,t){if(!Array.isArray(t))return super.getDisplayValueCore(e,t);const n=this.getValuePropertyName(),r=s=>{let o=t[s];return n&&o[n]&&(o=o[n]),o};return this.getDisplayArrayValue(e,t,r)}clearIncorrectValuesCore(){this.clearIncorrectAndDisabledValues(!1)}clearDisabledValuesCore(){this.clearIncorrectAndDisabledValues(!0)}clearIncorrectAndDisabledValues(e){var t=this.value,n=!1,r=this.restoreValuesFromInvisible();if(!(!t&&r.length==0)){if(!Array.isArray(t)||t.length==0){if(this.isChangingValueOnClearIncorrect=!0,e||(this.showCommentArea?this.value=null:this.clearValue(!0)),this.isChangingValueOnClearIncorrect=!1,r.length==0)return;t=[]}for(var s=[],o=0;o<t.length;o++){const l=this.getRealValue(t[o]);var a=this.canClearValueAnUnknown(l);!e&&!a||e&&!this.isValueDisabled(l)?s.push(t[o]):(n=!0,a&&this.addIntoInvisibleOldValues(t[o]))}for(var o=0;o<r.length;o++)s.push(r[o]),n=!0;n&&(this.isChangingValueOnClearIncorrect=!0,s.length==0?this.clearValue(!0):this.value=s,this.isChangingValueOnClearIncorrect=!1)}}restoreValuesFromInvisible(){for(var e=[],t=this.visibleChoices,n=0;n<t.length;n++){const s=t[n];if(s!==this.selectAllItem){var r=t[n].value;se.isTwoValueEquals(r,this.invisibleOldValues[r])&&(this.isItemSelected(s)||e.push(r),delete this.invisibleOldValues[r])}}return e}getConditionJson(e=null,t=null){const n=super.getConditionJson(e,t);return(e=="contains"||e=="notcontains")&&(n.type="radiogroup"),n.maxSelectedChoices=0,n.minSelectedChoices=0,n}isAnswerCorrect(){return se.isArrayContainsEqual(this.value,this.correctAnswer)}setDefaultValueWithOthers(){this.value=this.renderedValueFromDataCore(this.defaultValue)}getIsItemValue(e,t){return!e||!Array.isArray(e)?!1:e.indexOf(t.value)>=0}valueFromData(e){if(!e)return e;if(!Array.isArray(e))return[super.valueFromData(e)];let t=[];for(let n=0;n<e.length;n++){let r=Kt.getItemByValue(this.visibleChoices,e[n]);r?t.push(r.value):t.push(e[n])}return t}rendredValueFromData(e){return e=this.convertValueFromObject(e),super.rendredValueFromData(e)}convertValueFromObject(e){const t=this.getValuePropertyName();return t?se.convertArrayObjectToValue(e,t):e}renderedValueFromDataCore(e){if((!e||!Array.isArray(e))&&(e=[]),!this.hasActiveChoices)return e;for(var t=0;t<e.length;t++){if(e[t]==this.otherItem.value)return e;if(this.hasUnknownValueItem(e[t],!0,!1)){this.otherValue=e[t];var n=e.slice();return n[t]=this.otherItem.value,n}}return e}renderedValueToDataCore(e){if(!e||!e.length)return e;const t=[],n=this.createValueCopy();for(var r=0;r<e.length;r++){let s=-1,o=e[r];o===this.otherItem.value&&this.needConvertRenderedOtherToDataValue()?(s=this.getFirstUnknownIndex(n),o=this.otherValue,s>-1&&(n[s]=this.getValueFromReal(this.otherValue))):s=this.getItemValIndexByItemValue(o),s>-1?t.push(n[s]):t.push(this.getValueFromReal(o))}return t}valueToData(e){if(se.isValueEmpty(e)||(Array.isArray(e)||(e=[e]),!this.getValuePropertyName()))return e;const n=[];for(let r=0;r<e.length;r++){const s=e[r];n.push(typeof s=="object"?s:this.getValueFromReal(s))}return n}selectOtherValueFromComment(e){var t=[];const n=this.renderedValue;if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]!==this.otherItem.value&&t.push(n[r]);e&&t.push(this.otherItem.value),this.value=t}get checkBoxSvgPath(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"group"}get a11y_input_ariaRequired(){return null}}me.addClass("checkboxitem",[{name:"isExclusive:boolean",locationInTable:"detail"}],i=>new f4e(i),"choiceitem");me.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0,onSettingValue:(i,e)=>{if(e<=0)return 0;const t=i.minSelectedChoices;return t>0&&e<t?t:e}},{name:"minSelectedChoices:number",default:0,onSettingValue:(i,e)=>{if(e<=0)return 0;const t=i.maxSelectedChoices;return t>0&&e>t?t:e}},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(i){return i.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new ZC("")},"checkboxbase");me.getProperty("checkbox","choices").type="checkboxitem[]";Fn.Instance.registerQuestion("checkbox",i=>{var e=new ZC(i);return e.choices=Fn.DefaultChoices,e});class rB extends Ni{updateItemState(){this.actions.forEach(e=>{const t=this.isItemSelected(e);e.visible=this.hideSelectedItems?!t:!0})}constructor(e){super(e),this.onItemClick=t=>{this.isItemDisabled(t)||(this.isExpanded=!1,this.isItemSelected(t)?(this.selectedItems.splice(this.selectedItems.indexOf(t),1)[0],this.onSelectionChanged&&this.onSelectionChanged(t,"removed")):(this.selectedItems.push(t),this.onSelectionChanged&&this.onSelectionChanged(t,"added")))},this.isItemDisabled=t=>t.enabled!==void 0&&!t.enabled,this.isItemSelected=t=>!!this.allowSelection&&this.selectedItems.filter(n=>this.areSameItems(n,t)).length>0,this.setSelectedItems(e.selectedItems||[])}updateState(){this.updateItemState(),this.raiseUpdate({needUpdateIsEmpty:!0})}setSelectedItems(e){this.selectedItems=e,this.updateState()}selectFocusedItem(){super.selectFocusedItem(),this.hideSelectedItems&&this.focusNextVisibleItem()}}W([G()],rB.prototype,"hideSelectedItems",void 0);class Bp extends ss{get needRenderInput(){return!this.question.isInputReadOnly||!!this.filterStringPlaceholder}locStrsChanged(){super.locStrsChanged(),this.syncFilterStringPlaceholder()}updateListState(){this.listModel.updateState(),this.updateCustomItemValue(),this.syncFilterStringPlaceholder()}syncFilterStringPlaceholder(){this.getSelectedActions().length||this.question.selectedItems.length||this.listModel.focusedItem?this.filterStringPlaceholder=void 0:this.filterStringPlaceholder=this.question.placeholder}getSelectedActions(){return this.listModel.actions.filter(e=>e.selected)}getFocusFirstInputSelector(){return this.listModel.hideSelectedItems&&Gi&&!this.isValueEmpty(this.question.value)?this.itemSelector:super.getFocusFirstInputSelector()}getPopupCssClasses(){return"sv-multi-select-list"}createListModel(){const e=this.getAvailableItems();let t=this.onSelectionChanged;t||(t=(s,o)=>{this.resetFilterString(),s.id==="selectall"?this.selectAllItems():o==="added"&&s.value===oe.noneItemValue?this.selectNoneItem():o==="added"?this.selectItem(s.value):o==="removed"&&this.deselectItem(s.value),this.popupRecalculatePosition(!1),this.closeOnSelect&&(this.popupModel.isVisible=!1)});const n={items:e,onSelectionChanged:t,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},r=new rB(n);return this.setOnTextSearchCallbackForListModel(r),r.forceShowFilter=this.question.choicesLazyLoadEnabled,r}resetFilterString(){super.resetFilterString(),this.inputString=null,this.hintString=""}get shouldResetAfterCancel(){return Gi&&!this.closeOnSelect}createPopup(){super.createPopup(),this.popupModel.onFooterActionsCreated.add((e,t)=>{t.actions.push({id:"sv-dropdown-done-button",title:this.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:()=>{this.popupModel.isVisible=!1},enabled:new Un(()=>!this.isTwoValueEquals(this.question.renderedValue,this.previousValue))})}),this.popupModel.onVisibilityChanged.add((e,t)=>{this.shouldResetAfterCancel&&t.isVisible&&(this.previousValue=[].concat(this.question.renderedValue||[]))}),this.popupModel.onCancel=()=>{this.shouldResetAfterCancel&&(this.question.renderedValue=this.previousValue,this.updateListState())}}selectAllItems(){this.question.toggleSelectAll(),this.question.isAllSelected&&this.question.hideSelectedItems&&this.popupModel.hide(),this.updateListState()}selectNoneItem(){this.question.renderedValue=[oe.noneItemValue],this.updateListState()}selectItem(e){let t;if(this.allowCustomChoices&&e===this.customItemValue.id){const n=this.createCustomItem();n&&(t=n.id)}else t=e;if(t!=null){let n=[].concat(this.question.renderedValue||[]);n.push(t),this.question.renderedValue=n,this.updateListState()}}deselectItem(e){let t=[].concat(this.question.renderedValue||[]);t.splice(t.indexOf(e),1),this.question.renderedValue=t,this.applyHintString(),this.updateListState()}clear(){super.clear(),this.syncFilterStringPlaceholder()}onClear(e){super.onClear(e),this.updateListState()}setHideSelectedItems(e){this.listModel.hideSelectedItems=e,this.updateListState()}removeLastSelectedItem(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)}constructor(e,t){super(e,t),this.setHideSelectedItems(e.hideSelectedItems),this.syncFilterStringPlaceholder(),this.closeOnSelect=e.closeOnSelect}inputKeyHandler(e){e.keyCode===8&&!this.filterString&&(this.removeLastSelectedItem(),e.preventDefault(),e.stopPropagation())}setInputStringFromSelectedItem(e){this.question.searchEnabled&&(this.inputString=null)}focusItemOnClickAndPopup(){}onEscape(){}beforeScrollToFocusedItem(e){}afterScrollToFocusedItem(){var e;!((e=this.listModel.focusedItem)===null||e===void 0)&&e.selected?this.hintString="":this.applyHintString(),this.syncFilterStringPlaceholder()}onPropertyChangedHandler(e,t){super.onPropertyChangedHandler(e,t),(t.name==="value"||t.name==="renderedValue"||t.name==="placeholder")&&this.syncFilterStringPlaceholder()}}W([G({defaultValue:""})],Bp.prototype,"filterStringPlaceholder",void 0);W([G({defaultValue:!0})],Bp.prototype,"closeOnSelect",void 0);W([G()],Bp.prototype,"previousValue",void 0);W([G({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],Bp.prototype,"doneButtonCaption",void 0);class ja extends ZC{constructor(e){super(e),this.itemDisplayNameMap={},this.onOpened=this.addEvent(),this.createLocalizableString("placeholder",this,!1,!0),this.createLocalizableString("readOnlyText",this,!0),this.deselectAllItemText=this.createLocalizableString("deselectAllText",this.selectAllItem,!0,"deselectAllItemText"),this.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],()=>{this.updateReadOnlyText()}),this.updateReadOnlyText()}locStrsChanged(){var e;super.locStrsChanged(),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()}updateReadOnlyText(){this.readOnlyText=this.displayValue||this.placeholder}getDefaultItemComponent(){return""}get dropdownListModel(){return this.dropdownListModelValue||(this.dropdownListModelValue=new Bp(this)),this.dropdownListModelValue}set dropdownListModel(e){this.dropdownListModelValue=e}get placeholder(){return this.getLocalizableStringText("placeholder")}set placeholder(e){this.setLocalizableStringText("placeholder",e),this.dropdownListModelValue&&this.dropdownListModel.setInputPlaceholder(e)}get locPlaceholder(){return this.getLocalizableString("placeholder")}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}getType(){return"tagbox"}supportMultipleComment(e){return e===this.otherItem}get a11yInputAriaRole(){return"combobox"}get popupModel(){return this.dropdownListModel.popupModel}getControlClass(){return new Ie().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlEditable,!this.isDisabledStyle&&!this.isReadOnlyStyle&&!this.isPreviewStyle).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()}updateCssClasses(e,t){super.updateCssClasses(e,t),UC(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModel.updateCssClasses(t.popup,t.list),t}onOpenedCallBack(){this.onOpened.fire(this,{question:this,choices:this.choices})}hasUnknownValue(e,t=!1,n=!0,r=!1){return this.choicesLazyLoadEnabled?!1:super.hasUnknownValue(e,t,n,r)}needConvertRenderedOtherToDataValue(){var e;const t=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return t?super.hasUnknownValue(t,!0,!1):!1}onVisibleChoicesChanged(){super.onVisibleChoicesChanged(),this.dropdownListModelValue&&this.dropdownListModel.updateItems()}getItemIfChoicesNotContainThisValue(e,t){return this.choicesLazyLoadEnabled?this.createItemValue(e,t):super.getItemIfChoicesNotContainThisValue(e,t)}validateItemValues(e){this.updateItemDisplayNameMap();const t=this.renderedValue;if(e.length&&e.length===t.length)return e;const n=this.selectedItemValues;if(!e.length&&n&&n.length)return this.defaultSelectedItemValues=[].concat(n),n;const r=e.map(s=>s.value);return t.filter(s=>r.indexOf(s)===-1).forEach(s=>{const o=this.getItemIfChoicesNotContainThisValue(s,this.itemDisplayNameMap[s]);o&&e.push(o)}),e.sort((s,o)=>t.indexOf(s.value)-t.indexOf(o.value)),e}updateItemDisplayNameMap(){const e=t=>{this.itemDisplayNameMap[t.value]=t.text};(this.defaultSelectedItemValues||[]).forEach(e),(this.selectedItemValues||[]).forEach(e),this.visibleChoices.forEach(e)}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.isChoicesLoading}ensureQuestionIsReady(){super.ensureQuestionIsReady(),this.dropdownListModel&&this.choicesLazyLoadEnabled&&this.dropdownListModel.loadQuestionChoices()}setIsChoicesLoading(e){this.isChoicesLoading=e,this.updateIsReady()}canAddCustomChoices(){return this.allowCustomChoices}getFirstInputElementId(){return this.inputId+(this.searchEnabled||this.allowCustomChoices?"_0":"")}getInputId(){return this.inputId+"_0"}supportEmptyValidation(){return!0}onBlurCore(e){this.dropdownListModel.onBlur(e),super.onBlurCore(e)}onFocusCore(e){this.dropdownListModel.onFocus(e),super.onFocusCore(e)}allElementsSelected(){const e=super.allElementsSelected();return this.updateSelectAllItemText(e),e}updateSelectAllItemText(e){this.selectAllItem.setLocText(e?this.deselectAllItemText:this.selectAllItemText)}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}clearValue(e){var t;super.clearValue(e),(t=this.dropdownListModelValue)===null||t===void 0||t.clear()}get showClearButton(){return this.allowClear&&!this.isEmpty()}}W([G()],ja.prototype,"searchMode",void 0);W([G({onSet:(i,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setAllowCustomChoices(i)}})],ja.prototype,"allowCustomChoices",void 0);W([G()],ja.prototype,"allowClear",void 0);W([G({onSet:(i,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setSearchEnabled(i)}})],ja.prototype,"searchEnabled",void 0);W([G({onSet:(i,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setHideSelectedItems(i)}})],ja.prototype,"hideSelectedItems",void 0);W([G({onSet:(i,e)=>{e.dropdownListModelValue&&e.dropdownListModel.setChoicesLazyLoadEnabled(i)}})],ja.prototype,"choicesLazyLoadEnabled",void 0);W([G()],ja.prototype,"choicesLazyLoadPageSize",void 0);W([G({getDefaultValue:()=>oe.tagboxCloseOnSelect})],ja.prototype,"closeOnSelect",void 0);W([G()],ja.prototype,"textWrapEnabled",void 0);me.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"allowCustomChoices:boolean",default:!1,visibleIf:i=>!i.choicesFromQuestion,dependsOn:"choicesFromQuestion"},{name:"textWrapEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""},{name:"searchMode",default:"contains",choices:["contains","startsWith"]}],function(){return new ja("")},"checkbox");Fn.Instance.registerQuestion("tagbox",i=>{const e=new ja(i);return e.choices=Fn.DefaultChoices,e});class p4e extends W${constructor(){super(...arguments),this.doDragOver=()=>{if(this.parentElement.getType()==="imagepicker")return;const e=this.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");e.style.cursor="grabbing"},this.doBanDropHere=()=>{if(this.parentElement.getType()==="imagepicker")return;const e=this.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");e.style.cursor="not-allowed"}}get draggedElementType(){return"item-value"}createDraggedElementShortcut(e,t,n){if(this.parentElement.getType()==="imagepicker")return this.createImagePickerShortcut(this.draggedElement,e,t,n);const r=St.createElement("div");if(!r)return;r.className="sv-drag-drop-choices-shortcut";const o=t.closest("[data-sv-drop-target-item-value]").cloneNode(!0);o.classList.add("sv-drag-drop-choices-shortcut__content");const a=o.querySelector(".svc-item-value-controls__drag-icon");a.style.visibility="visible";const l=o.querySelector(".svc-item-value-controls__remove");l.style.backgroundColor="transparent",o.classList.remove("svc-item-value--moveup"),o.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,r.appendChild(o);const u=t.getBoundingClientRect();return r.shortcutXOffset=n.clientX-u.x,r.shortcutYOffset=n.clientY-u.y,this.isBottom=null,typeof this.onShortcutCreated=="function"&&this.onShortcutCreated(r),r}createImagePickerShortcut(e,t,n,r){const s=St.createElement("div");if(!s)return;s.classList.add("sv-drag-drop-image-picker-shortcut");const o=n.closest("[data-sv-drop-target-item-value]");this.imagepickerControlsNode=o.querySelector(".svc-image-item-value-controls");const a=o.querySelector(".sd-imagepicker__image-container");let l=o.querySelector(e.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="none"),a.style.width=l.width+"px",a.style.height=l.height+"px",l.style.objectFit="cover",l.style.borderRadius="4px",s.appendChild(l),s}getDropTargetByDataAttributeValue(e){let t;return t=this.parentElement.choices.filter(n=>""+n.value==e)[0],t}getChoices(){const e=this.parentElement;return e.getType()==="ranking"?e.selectToRankEnabled?e.unRankingChoices:e.rankingChoices:e.visibleChoices}isDropTargetValid(e,t){const n=this.getChoices();if(this.parentElement.getType()!=="imagepicker"){const r=n.indexOf(this.dropTarget),s=n.indexOf(this.draggedElement);if(s>r&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(s<r&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return n.indexOf(e)!==-1}isDropTargetDoesntChanged(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom}calculateIsBottom(e,t){const n=t.getBoundingClientRect();return e>=n.y+n.height/2}afterDragOver(e){const t=this.getChoices(),n=t.indexOf(this.dropTarget),r=t.indexOf(this.draggedElement);if(r<n&&this.isBottom===!0)t.splice(r,1),t.splice(n,0,this.draggedElement);else if(r>n&&this.isBottom===!1)t.splice(n,1),t.splice(r,0,this.dropTarget);else return;this.parentElement.getType()!=="imagepicker"&&(r!==n&&(e.classList.remove("svc-item-value--moveup"),e.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),r>n&&(this.dropTarget.isDragDropMoveDown=!0),r<n&&(this.dropTarget.isDragDropMoveUp=!0),super.ghostPositionChanged())}doDrop(){const e=this.parentElement.choices,t=this.getChoices().filter(s=>e.indexOf(s)!==-1),n=e.indexOf(this.draggedElement);let r=t.indexOf(this.draggedElement);return e.splice(n,1),e.splice(r,0,this.draggedElement),this.parentElement}clear(){this.parentElement&&this.updateVisibleChoices(this.parentElement),this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="flex",this.imagepickerControlsNode=null),super.clear()}updateVisibleChoices(e){e.getType()==="ranking"?e.updateRankingChoices():e.updateVisibleChoices()}}class sB extends p4e{constructor(){super(...arguments),this.isDragOverRootNode=!1,this.doDragOver=()=>{const e=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");e.style.cursor="grabbing"},this.reorderRankedItem=(e,t,n)=>{if(t==n)return;const r=e.rankingChoices,s=r[t];e.isValueSetByUser=!0,r.splice(t,1),r.splice(n,0,s),this.updateDraggedElementShortcut(n+1)},this.doBanDropHere=()=>{if(this.isDragOverRootNode){this.allowDropHere=!0;return}const e=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");e.style.cursor="not-allowed",Gi&&this.parentElement.updateRankingChoices(!0)}}get draggedElementType(){return"ranking-item"}createDraggedElementShortcut(e,t,n){const r=St.createElement("div");if(!r)return;r.className=this.shortcutClass+" sv-ranking-shortcut";const o=t.cloneNode(!0);r.appendChild(o);const a=t.getBoundingClientRect();r.style.left=a.x,r.style.top=a.y,this.domAdapter.rootElement.append(r);const l=r.offsetHeight;let u=n.clientY;return u>a.y+l&&(u=a.y+l-10),r.shortcutXOffset=n.clientX-a.x,r.shortcutYOffset=u-a.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(r.style.width=t.offsetWidth+"px",r.style.height=t.offsetHeight+"px"),r}get shortcutClass(){return new Ie().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,b5).toString()}getDropTargetByDataAttributeValue(e){return this.parentElement.rankingChoices[e]}findDropTargetNodeByDragOverNode(e){return this.isDragOverRootNode=this.getIsDragOverRootNode(e),super.findDropTargetNodeByDragOverNode(e)}getIsDragOverRootNode(e){return typeof e.className=="string"&&e.className.indexOf("sv-ranking")!==-1}isDropTargetValid(e,t){return this.parentElement.rankingChoices.indexOf(e)!==-1}calculateIsBottom(e,t){return this.dropTarget instanceof Kt&&this.draggedElement!==this.dropTarget?super.calculateIsBottom(e,t):!1}getIndices(e,t,n){let r=t.indexOf(this.draggedElement),s=n.indexOf(this.dropTarget);return r<0&&this.draggedElement&&(this.draggedElement=Kt.getItemByValue(t,this.draggedElement.value)||this.draggedElement,r=t.indexOf(this.draggedElement)),s===-1?s=e.value.length:t==n?(!this.isBottom&&r<s&&s--,this.isBottom&&r>s&&s++):t!=n&&this.isBottom&&s++,{fromIndex:r,toIndex:s}}afterDragOver(e){const{fromIndex:t,toIndex:n}=this.getIndices(this.parentElement,this.parentElement.rankingChoices,this.parentElement.rankingChoices);this.reorderRankedItem(this.parentElement,t,n)}updateDraggedElementShortcut(e){var t;if(!((t=this.domAdapter)===null||t===void 0)&&t.draggedElementShortcut){const n=e!==null?e+"":"",r=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index");r.innerText=n}}ghostPositionChanged(){this.parentElement.currentDropTarget=this.draggedElement,super.ghostPositionChanged()}doDrop(){return this.parentElement.setValue(),this.parentElement}clear(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),super.clear()}}class g4e extends sB{constructor(){super(...arguments),this.selectToRank=(e,t,n)=>{const r=[].concat(e.rankingChoices),o=e.unRankingChoices[t];r.splice(n,0,o),this.updateChoices(e,r)},this.unselectFromRank=(e,t,n)=>{const r=[].concat(e.rankingChoices);r.splice(t,1),this.updateChoices(e,r)}}findDropTargetNodeByDragOverNode(e){if(e.dataset.ranking==="from-container"||e.dataset.ranking==="to-container")return e;let t=e.closest("[data-ranking='to-container']"),n=e.closest("[data-ranking='from-container']");return this.parentElement.unRankingChoices.length===0&&n?n:this.parentElement.rankingChoices.length===0&&t?t:super.findDropTargetNodeByDragOverNode(e)}getDropTargetByDataAttributeValue(e){return this.parentElement.rankingChoices[e]||this.parentElement.unRankingChoices[e]}getDropTargetByNode(e,t){return e.dataset.ranking==="to-container"?"to-container":e.dataset.ranking==="from-container"||e.closest("[data-ranking='from-container']")?"from-container":super.getDropTargetByNode(e,t)}isDropTargetValid(e,t){return e==="to-container"||e==="from-container"?!0:super.isDropTargetValid(e,t)}afterDragOver(e){const t=this.parentElement,n=t.rankingChoices,r=t.unRankingChoices;if(this.isDraggedElementUnranked&&this.isDropTargetRanked){this.doRankBetween(e,r,n,this.selectToRank);return}if(this.isDraggedElementRanked&&this.isDropTargetRanked){this.doRankBetween(e,n,n,this.reorderRankedItem);return}if(this.isDraggedElementRanked&&!this.isDropTargetRanked){this.doRankBetween(e,n,r,this.unselectFromRank);return}}doRankBetween(e,t,n,r){const s=this.parentElement;let{fromIndex:o,toIndex:a}=this.getIndices(s,t,n);r(s,o,a,e)}get isDraggedElementRanked(){return this.parentElement.rankingChoices.indexOf(this.draggedElement)!==-1}get isDropTargetRanked(){return this.dropTarget==="to-container"?!0:this.parentElement.rankingChoices.indexOf(this.dropTarget)!==-1}get isDraggedElementUnranked(){return!this.isDraggedElementRanked}updateChoices(e,t){e.isValueSetByUser=!0,e.rankingChoices=t,e.updateUnRankingChoices(t)}}class Fl extends ZC{constructor(e){super(e),this.domNode=null,this.onVisibleChoicesChanged=()=>{if(super.onVisibleChoicesChanged(),this.carryForwardStartUnranked&&!this.isValueSetByUser&&!this.selectToRankEnabled&&!this.defaultValue&&(this.value=[]),this.visibleChoices.length===1&&!this.selectToRankEnabled){this.value=[],this.value.push(this.visibleChoices[0].value),this.updateRankingChoices();return}if(this.isEmpty()){this.updateRankingChoices();return}if(this.selectToRankEnabled){this.updateRankingChoices();return}this.visibleChoices.length>this.value.length&&this.addToValueByVisibleChoices(),this.visibleChoices.length<this.value.length&&this.removeFromValueByVisibleChoices(),this.updateRankingChoices()},this.localeChanged=()=>{super.localeChanged(),this.updateRankingChoicesSync()},this._rankingChoicesAnimation=new ph(this.getChoicesAnimationOptions(!0),t=>{this._renderedRankingChoices=t},()=>this.renderedRankingChoices),this._unRankingChoicesAnimation=new ph(this.getChoicesAnimationOptions(!1),t=>{this._renderedUnRankingChoices=t},()=>this.renderedUnRankingChoices),this.rankingChoices=[],this.unRankingChoices=[],this._renderedRankingChoices=[],this._renderedUnRankingChoices=[],this.handlePointerDown=(t,n,r)=>{const s=t.target;this.isDragStartNodeValid(s)&&this.isAllowStartDrag(s,n)&&(this.draggedChoiceValue=n.value,this.draggedTargetNode=r,this.dragOrClickHelper.onPointerDown(t))},this.startDrag=t=>{const n=Kt.getItemByValue(this.visibleChoices,this.draggedChoiceValue);this.dragDropRankingChoices.startDrag(t,n,this,this.draggedTargetNode)},this.handlePointerUp=(t,n,r)=>{if(!this.selectToRankEnabled)return;const s=t.target;this.isAllowStartDrag(s,n)&&this.handleKeydownSelectToRank(t,n," ",!1)},this.handleKeydown=(t,n)=>{if(!this.isReadOnlyAttr&&!this.isDesignMode){const r=t.key,s=this.rankingChoices.indexOf(n);if(this.selectToRankEnabled){this.handleKeydownSelectToRank(t,n);return}if(r==="ArrowUp"&&s||r==="ArrowDown"&&s!==this.rankingChoices.length-1){const o=r=="ArrowUp"?s-1:s+1;this.dragDropRankingChoices.reorderRankedItem(this,s,o),this.setValueAfterKeydown(o,"",!0,t)}}},this.focusItem=(t,n)=>{if(this.domNode)if(this.selectToRankEnabled&&n){const r="[data-ranking='"+n+"']";this.domNode.querySelectorAll(r+" ."+this.cssClasses.item)[t].focus()}else this.domNode.querySelectorAll("."+this.cssClasses.item)[t].focus()},this.isValueSetByUser=!1,this.setValue=()=>{const t=[];this.rankingChoices.forEach(n=>{t.push(n.value)}),this.value=t,this.isValueSetByUser=!0},this.registerFunctionOnPropertyValueChanged("selectToRankEnabled",()=>{this.clearValue(!0),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()}),this.dragOrClickHelper=new x5(this.startDrag)}getType(){return"ranking"}getItemTabIndex(e){if(!(this.isDesignMode||e.disabled))return 0}supportContainerQueries(){return this.selectToRankEnabled}get rootClass(){return new Ie().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,this.isMobileMode()).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.hasCssError()).append(this.cssClasses.rootDragHandleAreaIcon,oe.rankingDragHandleArea==="icon").append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankEmptyValueMod,this.isEmpty()).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal").append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="vertical").append(this.cssClasses.rootSelectToRankSwapAreas,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal"&&this.selectToRankSwapAreas).toString()}isItemSelectedCore(e){return this.selectToRankEnabled?super.isItemSelectedCore(e):!0}getItemClassCore(e,t){return new Ie().append(super.getItemClassCore(e,t)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===e).toString()}getContainerClasses(e){let t=!1;const n=e==="to",r=e==="from";return n?t=this.renderedRankingChoices.length===0:r&&(t=this.renderedUnRankingChoices.length===0),new Ie().append(this.cssClasses.container).append(this.cssClasses.containerToMode,n).append(this.cssClasses.containerFromMode,r).append(this.cssClasses.containerEmptyMode,t).toString()}isItemCurrentDropTarget(e){return this.dragDropRankingChoices.dropTarget===e}get ghostPositionCssClass(){return this.ghostPosition==="top"?this.cssClasses.dragDropGhostPositionTop:this.ghostPosition==="bottom"?this.cssClasses.dragDropGhostPositionBottom:""}getItemIndexClasses(e){let t;return this.selectToRankEnabled?t=this.unRankingChoices.indexOf(e)!==-1:t=this.isEmpty(),new Ie().append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,t).toString()}getNumberByIndex(e){return this.isEmpty()?"":e+1+""}updateRankingChoicesSync(){this.blockAnimations(),this.updateRankingChoices(),this.releaseAnimations()}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()}isAnswerCorrect(){return se.isArraysEqual(this.value,this.correctAnswer,!1)}get requireStrictCompare(){return!0}onSurveyValueChanged(e){super.onSurveyValueChanged(e),!this.isLoadingFromJson&&this.updateRankingChoices()}onSurveyLoad(){this.blockAnimations(),super.onSurveyLoad(),this.updateRankingChoices(),this.releaseAnimations()}updateValueFromSurvey(e,t){super.updateValueFromSurvey(e,t),e&&(this.isValueSetByUser=!0)}addToValueByVisibleChoices(){const e=this.value.slice();this.visibleChoices.forEach(t=>{e.indexOf(t.value)===-1&&e.push(t.value)}),this.value=e}removeFromValueByVisibleChoices(){const e=this.value.slice(),t=this.visibleChoices;for(let n=this.value.length-1;n>=0;n--)Kt.getItemByValue(t,this.value[n])||e.splice(n,1);this.value=e}getChoicesAnimationOptions(e){return{getKey(t){return t.value},getRerenderEvent:()=>this.onElementRerendered,isAnimationEnabled:()=>this.animationAllowed&&!this.isDesignMode&&this.isVisible&&!!this.domNode,getReorderOptions:(t,n)=>{let r="";return t!==this.currentDropTarget&&(r=n?"sv-dragdrop-movedown":"sv-dragdrop-moveup"),{cssClass:r}},getLeaveOptions:t=>{const n=e?this.renderedRankingChoices:this.renderedUnRankingChoices;return this.renderedSelectToRankAreasLayout=="vertical"&&n.length==1&&n.indexOf(t)>=0?{cssClass:"sv-ranking-item--animate-item-removing-empty"}:{cssClass:"sv-ranking-item--animate-item-removing",onBeforeRunAnimation:r=>{r.style.setProperty("--animation-height",r.offsetHeight+"px")}}},getEnterOptions:t=>{const n=e?this.renderedRankingChoices:this.renderedUnRankingChoices;return this.renderedSelectToRankAreasLayout=="vertical"&&n.length==1&&n.indexOf(t)>=0?{cssClass:"sv-ranking-item--animate-item-adding-empty"}:{cssClass:"sv-ranking-item--animate-item-adding",onBeforeRunAnimation:r=>{r.style.setProperty("--animation-height",r.offsetHeight+"px")}}},getAnimatedElement:t=>{var n;const r=this.cssClasses;let s="";this.selectToRankEnabled&&(!e&&r.containerFromMode?s=ko(r.containerFromMode):e&&r.containerToMode&&(s=ko(r.containerToMode)));const o=e?this.renderedRankingChoices.indexOf(t):this.renderedUnRankingChoices.indexOf(t);return(n=this.domNode)===null||n===void 0?void 0:n.querySelector(`${s} [data-sv-drop-target-ranking-item='${o}']`)},allowSyncRemovalAddition:!0}}get rankingChoicesAnimation(){return this._rankingChoicesAnimation}get unRankingChoicesAnimation(){return this._unRankingChoicesAnimation}get renderedRankingChoices(){return this._renderedRankingChoices}set renderedRankingChoices(e){this.rankingChoicesAnimation.sync(e)}get renderedUnRankingChoices(){return this._renderedUnRankingChoices}set renderedUnRankingChoices(e){this.unRankingChoicesAnimation.sync(e)}updateRenderedRankingChoices(){this.renderedRankingChoices=this.rankingChoices}updateRenderedUnRankingChoices(){this.renderedUnRankingChoices=this.unRankingChoices}updateRankingChoices(e=!1){if(this.selectToRankEnabled){this.updateRankingChoicesSelectToRankMode(e);return}const t=[];if(e&&(this.rankingChoices=[]),this.isEmpty()){this.rankingChoices=this.visibleChoices;return}this.value.forEach(n=>{this.visibleChoices.forEach(r=>{r.value===n&&t.push(r)})}),this.rankingChoices=t}updateUnRankingChoices(e){const t=[];this.visibleChoices.forEach(n=>{t.push(n)}),e.forEach(n=>{t.forEach((r,s)=>{r.value===n.value&&t.splice(s,1)})}),this.unRankingChoices=t}updateRankingChoicesSelectToRankMode(e){const t=[];this.isEmpty()||this.value.forEach(n=>{this.visibleChoices.forEach(r=>{r.value===n&&t.push(r)})}),this.updateUnRankingChoices(t),this.rankingChoices=t}endLoadingFromJson(){super.endLoadingFromJson(),this.setDragDropRankingChoices()}setDragDropRankingChoices(){this.dragDropRankingChoices=this.createDragDropRankingChoices()}createDragDropRankingChoices(){return this.selectToRankEnabled?new g4e(this.survey,null,this.longTap):new sB(this.survey,null,this.longTap)}isDragStartNodeValid(e){return oe.rankingDragHandleArea==="icon"?e.classList.contains(this.cssClasses.itemIconHoverMod):!0}isAllowStartDrag(e,t){return!this.isReadOnly&&!this.isDesignMode&&this.canStartDragDueMaxSelectedChoices(e)&&this.canStartDragDueItemEnabled(t)}canStartDragDueMaxSelectedChoices(e){return this.selectToRankEnabled&&e.closest("[data-ranking='from-container']")?this.checkMaxSelectedChoicesUnreached():!0}canStartDragDueItemEnabled(e){return e.enabled}checkMaxSelectedChoicesUnreached(){if(this.maxSelectedChoices<1)return!0;var e=this.value,t=Array.isArray(e)?e.length:0;return t<this.maxSelectedChoices}afterRenderQuestionElement(e){this.domNode=e,super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){this.domNode=void 0,super.beforeDestroyQuestionElement(e)}supportSelectAll(){return!1}supportOther(){return!1}supportNone(){return!1}supportRefuse(){return!1}supportDontKnow(){return!1}handleKeydownSelectToRank(e,t,n,r=!0){if(this.isDesignMode)return;let s=e.key;if(n&&(s=n),s!==" "&&s!=="ArrowUp"&&s!=="ArrowDown")return;const o=this.dragDropRankingChoices,a=this.rankingChoices,l=a.indexOf(t)!==-1,c=(l?a:this.unRankingChoices).indexOf(t);if(c<0)return;let h;if(s===" "&&!l){if(!this.checkMaxSelectedChoicesUnreached()||!this.canStartDragDueItemEnabled(t))return;h=this.value.length,o.selectToRank(this,c,h),this.setValueAfterKeydown(h,"to-container",r,e);return}if(!l)return;if(s===" "){o.unselectFromRank(this,c),h=this.unRankingChoices.indexOf(t),this.setValueAfterKeydown(h,"from-container",r,e);return}const f=s==="ArrowUp"?-1:s==="ArrowDown"?1:0;f!==0&&(h=c+f,!(h<0||h>=a.length)&&(o.reorderRankedItem(this,c,h),this.setValueAfterKeydown(h,"to-container",r,e)))}setValueAfterKeydown(e,t,n=!0,r){this.setValue(),n&&setTimeout(()=>{this.focusItem(e,t)},1),r&&r.preventDefault()}getIconHoverCss(){return new Ie().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()}getIconFocusCss(){return new Ie().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()}get longTap(){return this.getPropertyValue("longTap")}set longTap(e){this.setPropertyValue("longTap",e)}getDefaultItemComponent(){return"sv-ranking-item"}get selectToRankEnabled(){return this.getPropertyValue("selectToRankEnabled",!1)}set selectToRankEnabled(e){this.setPropertyValue("selectToRankEnabled",e)}get selectToRankSwapAreas(){return this.getPropertyValue("selectToRankSwapAreas",!1)}set selectToRankSwapAreas(e){this.setPropertyValue("selectToRankSwapAreas",e)}get selectToRankAreasLayout(){return this.getPropertyValue("selectToRankAreasLayout")}set selectToRankAreasLayout(e){this.setPropertyValue("selectToRankAreasLayout",e)}get renderedSelectToRankAreasLayout(){return this.isMobileMode()?"vertical":this.selectToRankAreasLayout}isMobileMode(){return b5}get useFullItemSizeForShortcut(){return this.getPropertyValue("useFullItemSizeForShortcut")}set useFullItemSizeForShortcut(e){this.setPropertyValue("useFullItemSizeForShortcut",e)}get dragDropSvgIcon(){return this.cssClasses.dragDropSvgIconId||"#icon-drag-24x24"}get arrowsSvgIcon(){return this.cssClasses.arrowsSvgIconId||"#icon-reorder-24x24"}get dashSvgIcon(){return this.cssClasses.dashSvgIconId||"#icon-rankingundefined-16x16"}get isNewA11yStructure(){return!1}}W([rs({onSet:(i,e)=>e.updateRenderedRankingChoices(),onRemove:(i,e,t)=>t.updateRenderedRankingChoices(),onPush:(i,e,t)=>t.updateRenderedRankingChoices()})],Fl.prototype,"rankingChoices",void 0);W([rs({onSet:(i,e)=>e.updateRenderedUnRankingChoices(),onRemove:(i,e,t)=>t.updateRenderedUnRankingChoices(),onPush:(i,e,t)=>t.updateRenderedUnRankingChoices()})],Fl.prototype,"unRankingChoices",void 0);W([rs()],Fl.prototype,"_renderedRankingChoices",void 0);W([rs()],Fl.prototype,"_renderedUnRankingChoices",void 0);W([G({defaultValue:null})],Fl.prototype,"currentDropTarget",void 0);W([G({defaultValue:!0})],Fl.prototype,"carryForwardStartUnranked",void 0);W([G({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],Fl.prototype,"selectToRankEmptyRankedAreaText",void 0);W([G({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],Fl.prototype,"selectToRankEmptyUnrankedAreaText",void 0);me.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"showRefuseItem",visible:!1,isSerializable:!1},{name:"showDontKnowItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled:switch",default:!1,visible:!0,isSerializable:!0},{name:"selectToRankSwapAreas:switch",default:!1,visible:!1,isSerializable:!0,dependsOn:"selectToRankEnabled"},{name:"selectToRankAreasLayout",default:"horizontal",choices:["horizontal","vertical"],dependsOn:"selectToRankEnabled",visibleIf:i=>!!i.selectToRankEnabled,visible:!0,isSerializable:!0},{name:"selectToRankEmptyRankedAreaText:text",serializationProperty:"locSelectToRankEmptyRankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:i=>!!i.selectToRankEnabled},{name:"selectToRankEmptyUnrankedAreaText:text",serializationProperty:"locSelectToRankEmptyUnrankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:i=>!!i.selectToRankEnabled},{name:"maxSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:i=>!!i.selectToRankEnabled,isSerializable:!0},{name:"minSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:i=>!!i.selectToRankEnabled,isSerializable:!0},{name:"itemComponent",visible:!1,default:"sv-ranking-item"}],function(){return new Fl("")},"checkbox");Fn.Instance.registerQuestion("ranking",i=>{const e=new Fl(i);return e.choices=Fn.DefaultChoices,e});class oB extends JC{constructor(e){super(e)}get textAreaModel(){return this.textAreaModelValue||(this.textAreaModelValue=new E5(this.getTextAreaOptions())),this.textAreaModelValue}getTextAreaOptions(){const e=this,t=r=>{se.isTwoValueEquals(e.value,r,!1,!0,!1)||(e.value=r)};return{question:this,id:()=>this.inputId,propertyNames:["value"],className:()=>this.className,placeholder:()=>this.renderedPlaceholder,isDisabledAttr:()=>this.isDisabledAttr,isReadOnlyAttr:()=>this.isReadOnlyAttr,autoGrow:()=>this.renderedAutoGrow,maxLength:()=>this.getMaxLength(),rows:()=>this.rows,cols:()=>this.cols,ariaRequired:()=>this.a11y_input_ariaRequired,ariaLabel:()=>this.a11y_input_ariaLabel,ariaLabelledBy:()=>this.a11y_input_ariaLabelledBy,ariaDescribedBy:()=>this.a11y_input_ariaDescribedBy,ariaInvalid:()=>this.a11y_input_ariaInvalid,ariaErrormessage:()=>this.a11y_input_ariaErrormessage,getTextValue:()=>this.value,onTextAreaChange:r=>{t(r.target.value)},onTextAreaInput:r=>{this.onInput(r)},onTextAreaKeyDown:r=>{this.onKeyDown(r)},onTextAreaFocus:r=>{this.onFocus(r)},onTextAreaBlur:r=>{this.onBlur(r)}}}get rows(){return this.getPropertyValue("rows")}set rows(e){this.setPropertyValue("rows",e)}get cols(){return this.getPropertyValue("cols")}set cols(e){this.setPropertyValue("cols",e)}get acceptCarriageReturn(){return this.getPropertyValue("acceptCarriageReturn")}set acceptCarriageReturn(e){this.setPropertyValue("acceptCarriageReturn",e)}get autoGrow(){return this.getPropertyValue("autoGrow")}set autoGrow(e){this.setPropertyValue("autoGrow",e)}get renderedAutoGrow(){const e=this.autoGrow;return e===void 0&&this.survey?this.survey.autoGrowComment:!!e}get allowResize(){return this.getPropertyValue("allowResize")}set allowResize(e){this.setPropertyValue("allowResize",e)}get renderedAllowResize(){const e=this.allowResize;return e===void 0&&this.survey?this.survey.allowResizeComment:!!e}get resizeStyle(){return this.renderedAllowResize?"both":"none"}getType(){return"comment"}afterRenderQuestionElement(e){this.element=(e==null?void 0:e.querySelector(`#${this.inputId}`))||e,super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.element=void 0}onInput(e){this.isInputTextUpdate&&(this.value=e.target.value),this.updateRemainingCharacterCounter(e.target.value)}onBlurCore(e){super.onBlurCore(e)}onKeyDown(e){this.onKeyDownPreprocess&&this.onKeyDownPreprocess(e),!this.acceptCarriageReturn&&(e.key==="Enter"||e.keyCode===13)&&(e.preventDefault(),e.stopPropagation())}setNewValue(e){!this.acceptCarriageReturn&&e&&(e=e.replace(new RegExp(`(\r
|
|\r)`,"gm"),"")),super.setNewValue(e)}getValueSeparator(){return`
`}notifyStateChanged(e){super.notifyStateChanged(e),this.isCollapsed||this.textAreaModel.updateElement()}get className(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0}}me.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean",defaultFunc:()=>{}},{name:"allowResize:boolean",defaultFunc:()=>{}},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new oB("")},"textbase");Fn.Instance.registerQuestion("comment",i=>new oB(i));const fg="environment",lc="user";class Dn{constructor(){this.canFlipValue=void 0}static clear(){Dn.cameraList=void 0,Dn.cameraIndex=-1}static setCameraList(e){const t=function(n){const r=n.label.toLocaleLowerCase();return r.indexOf(lc)>-1?lc:r.indexOf(fg)>-1?fg:r.indexOf("front")>-1?lc:r.indexOf("back")>-1?fg:""};Dn.clear(),Array.isArray(e)&&e.length>0&&(Dn.cameraIndex=-1,e.sort((n,r)=>{if(n===r)return 0;if(n.label!==r.label){const a=t(n),l=t(r);if(a!==l){if(a===lc)return-1;if(l===lc)return 1;if(a===fg)return-1;if(l===fg)return 1}}const s=e.indexOf(n),o=e.indexOf(r);return s<o?-1:1})),Dn.cameraList=e}hasCamera(e){if(Dn.cameraList!==void 0){this.hasCameraCallback(e);return}if(Dn.mediaDevicesCallback){const t=n=>{this.setVideoInputs(n),this.hasCameraCallback(e)};Dn.mediaDevicesCallback(t);return}typeof navigator<"u"&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(t=>{this.setVideoInputs(t),this.hasCameraCallback(e),this.updateCanFlipValue()}).catch(t=>{Dn.cameraList=null,this.hasCameraCallback(e)}):(Dn.cameraList=null,this.hasCameraCallback(e))}getMediaConstraints(e){const t=Dn.cameraList;if(!Array.isArray(t)||t.length<1)return;Dn.cameraIndex<0&&(Dn.cameraIndex=0);const n=t[Dn.cameraIndex],r={};return n&&n.deviceId?r.deviceId={exact:n.deviceId}:r.facingMode=Dn.cameraFacingMode,e&&(e!=null&&e.height&&(r.height={ideal:e.height}),e!=null&&e.width&&(r.width={ideal:e.width})),{video:r,audio:!1}}startVideo(e,t,n,r){if(!e){t(void 0);return}e.style.width="100%",e.style.height="auto",e.style.height="100%",e.style.objectFit="contain";const s=this.getMediaConstraints({width:n,height:r});navigator.mediaDevices.getUserMedia(s).then(o=>{var a;e.srcObject=o,!(!((a=Dn.cameraList[Dn.cameraIndex])===null||a===void 0)&&a.deviceId)&&o.getTracks()[0].getCapabilities().facingMode&&(Dn.canSwitchFacingMode=!0,this.updateCanFlipValue()),e.play(),t(o)}).catch(o=>{t(void 0)})}getImageSize(e){return{width:e.videoWidth,height:e.videoHeight}}snap(e,t){if(!e||!St.isAvailable())return!1;const r=St.getDocument().createElement("canvas"),s=this.getImageSize(e);r.height=s.height,r.width=s.width;let o=r.getContext("2d");return o.clearRect(0,0,r.width,r.height),o.drawImage(e,0,0,r.width,r.height),r.toBlob(t,"image/png"),!0}updateCanFlipValue(){const e=Dn.cameraList;this.canFlipValue=Array.isArray(e)&&e.length>1||Dn.canSwitchFacingMode,this.onCanFlipChangedCallback&&this.onCanFlipChangedCallback(this.canFlipValue)}canFlip(e){return this.canFlipValue===void 0&&this.updateCanFlipValue(),e&&(this.onCanFlipChangedCallback=e),this.canFlipValue}flip(){this.canFlip()&&(Dn.canSwitchFacingMode?Dn.cameraFacingMode=Dn.cameraFacingMode===lc?"environment":lc:Dn.cameraIndex>=Dn.cameraList.length-1?Dn.cameraIndex=0:Dn.cameraIndex++)}hasCameraCallback(e){e(Array.isArray(Dn.cameraList))}setVideoInputs(e){const t=[];e.forEach(n=>{n.kind==="videoinput"&&t.push(n)}),Dn.setCameraList(t.length>0?t:null)}}Dn.cameraIndex=-1;Dn.cameraFacingMode=lc;Dn.canSwitchFacingMode=!1;function m4e(i,e,t){const n=atob(i.split(",")[1]),r=new Uint8Array(n.split("").map(s=>s.charCodeAt(0))).buffer;return new File([r],e,{type:t})}class XC extends hr{constructor(){super(...arguments),this.isUploading=!1,this.onUploadStateChanged=this.addEvent(),this.onStateChanged=this.addEvent()}stateChanged(e){this.currentState!=e&&(e==="loading"&&(this.isUploading=!0),e==="loaded"&&(this.isUploading=!1),e==="error"&&(this.isUploading=!1),this.currentState=e,this.onStateChanged.fire(this,{state:e}),this.onUploadStateChanged.fire(this,{state:e}))}get showLoadingIndicator(){return this.isUploading}get storeDataAsText(){return this.getPropertyValue("storeDataAsText")}set storeDataAsText(e){this.setPropertyValue("storeDataAsText",e)}get waitForUpload(){return this.getPropertyValue("waitForUpload")}set waitForUpload(e){this.setPropertyValue("waitForUpload",e)}clearValue(e){this.clearOnDeletingContainer(),super.clearValue(e)}clearOnDeletingContainer(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,()=>{})}onCheckForErrors(e,t,n){super.onCheckForErrors(e,t,n),this.isUploading&&this.waitForUpload&&e.push(new i1(this.getLocalizationString("uploadingFile"),this))}uploadFiles(e){this.survey&&(this.stateChanged("loading"),this.survey.uploadFiles(this,this.name,e,(t,n)=>{Array.isArray(t)&&(this.setValueFromResult(t),Array.isArray(n)&&(n.forEach(r=>this.errors.push(new i1(r,this))),this.stateChanged("error"))),t==="success"&&Array.isArray(n)&&this.setValueFromResult(n),t==="error"&&(typeof n=="string"&&this.errors.push(new i1(n,this)),Array.isArray(n)&&n.length>0&&n.forEach(r=>this.errors.push(new i1(r,this))),this.stateChanged("error")),this.stateChanged("loaded")}))}loadPreview(e){}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.stateChanged(this.isEmpty()?"empty":"loaded")}getIsQuestionReady(){return super.getIsQuestionReady()&&!this.isFileLoading}get isFileLoading(){return this.isFileLoadingValue}set isFileLoading(e){this.isFileLoadingValue=e,this.updateIsReady()}}W([G()],XC.prototype,"isUploading",void 0);W([G({defaultValue:"empty"})],XC.prototype,"currentState",void 0);class Xf extends Ut{static getId(){return"sv_sfp_"+Xf.pageCounter++}constructor(e,t){super(),this.question=e,this.index=t,this.id=Xf.getId()}get css(){return this.question.cssClasses.page}}Xf.pageCounter=0;W([rs({})],Xf.prototype,"items",void 0);class Mi extends XC{get fileNavigatorVisible(){const e=this.isUploading,t=this.isPlayingVideo,n=this.containsMultiplyFiles,r=this.pageSize<this.previewValue.length;return!e&&!t&&n&&r}get pagesCount(){return Math.ceil(this.previewValue.length/this.pageSize)}get actionsContainerVisible(){const e=this.isUploading,t=this.isPlayingVideo;return!e&&!t}constructor(e){super(e),this.isDragging=!1,this.fileNavigator=new wr,this.canFlipCameraValue=void 0,this.prevPreviewLength=0,this._renderedPages=[],this.pagesAnimation=new L$(this.getPagesAnimationOptions(),t=>{this._renderedPages=t},()=>this.renderedPages),this.calcAvailableItemsCount=(t,n,r)=>{let s=Math.floor(t/(n+r));return(s+1)*(n+r)-r<=t&&s++,s},this.dragCounter=0,this.onDragEnter=t=>{this.canDragDrop()&&(t.preventDefault(),this.isDragging=!0,this.dragCounter++)},this.onDragOver=t=>{if(!this.canDragDrop())return t.returnValue=!1,!1;t.dataTransfer.dropEffect="copy",t.preventDefault()},this.onDrop=t=>{if(this.canDragDrop()){this.isDragging=!1,this.dragCounter=0,t.preventDefault();let n=t.dataTransfer;this.onChange(n)}},this.onDragLeave=t=>{this.canDragDrop()&&(this.dragCounter--,this.dragCounter===0&&(this.isDragging=!1))},this.doChange=t=>{var n=t.target||t.srcElement;this.onChange(n)},this.doClean=()=>{if(this.needConfirmRemoveFile){Z0({message:this.confirmRemoveAllMessage,funcOnYes:()=>{this.clearFilesCore()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.clearFilesCore()},this.doDownloadFileFromContainer=t=>{t.stopPropagation();const n=t.currentTarget;if(n&&n.getElementsByTagName){const r=n.getElementsByTagName("a")[0];r==null||r.click()}},this.doDownloadFile=(t,n)=>{t.stopPropagation(),$1()&&(t.preventDefault(),zPe(n.content,n.name))},this.createLocalizableString("takePhotoCaption",this,!1,!0),this.createLocalizableString("clearCaption",this,!1,!0),this.actionsContainer=new wr,this.actionsContainer.locOwner=this,this.fileIndexAction=new Xt({id:"fileIndex",title:this.getFileIndexCaption(),enabled:!1}),this.prevFileAction=new Xt({id:"prevPage",iconSize:16,action:()=>{this.navigationDirection="left",this.indexToShow=this.previewValue.length&&(this.indexToShow-1+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()}}),this.nextFileAction=new Xt({id:"nextPage",iconSize:16,action:()=>{this.navigationDirection="right",this.indexToShow=this.previewValue.length&&(this.indexToShow+1)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()}}),this.takePictureAction=new Xt({iconName:"icon-takepicture",id:"sv-file-take-picture",iconSize:"auto",innerCss:new Un(()=>new Ie().append(this.cssClasses.contextButton).append(this.cssClasses.takePictureButton).toString()),locTitle:this.locTakePhotoCaption,showTitle:!1,action:()=>{this.snapPicture()}}),this.closeCameraAction=new Xt({iconName:"icon-closecamera",id:"sv-file-close-camera",iconSize:"auto",innerCss:new Un(()=>new Ie().append(this.cssClasses.contextButton).append(this.cssClasses.closeCameraButton).toString()),action:()=>{this.stopVideo()}}),this.changeCameraAction=new Xt({iconName:"icon-changecamera",id:"sv-file-change-camera",iconSize:"auto",innerCss:new Un(()=>new Ie().append(this.cssClasses.contextButton).append(this.cssClasses.changeCameraButton).toString()),visible:new Un(()=>this.canFlipCamera()),action:()=>{this.flipCamera()}}),this.chooseFileAction=new Xt({iconName:"icon-choosefile",id:"sv-file-choose-file",iconSize:"auto",data:{question:this},enabledIf:()=>!this.isInputReadOnly,component:"sv-file-choose-btn"}),this.startCameraAction=new Xt({iconName:"icon-takepicture_24x24",id:"sv-file-start-camera",iconSize:"auto",locTitle:this.locTakePhotoCaption,showTitle:new Un(()=>!this.isAnswered),enabledIf:()=>!this.isInputReadOnly,action:()=>{this.startVideo()}}),this.cleanAction=new Xt({iconName:"icon-clear",id:"sv-file-clean",iconSize:"auto",locTitle:this.locClearButtonCaption,showTitle:!1,enabledIf:()=>!this.isInputReadOnly,innerCss:new Un(()=>this.cssClasses.removeButton),action:()=>{this.doClean()}}),[this.closeCameraAction,this.changeCameraAction,this.takePictureAction].forEach(t=>{t.cssClasses={}}),this.registerFunctionOnPropertiesValueChanged(["sourceType","currentMode","isAnswered"],()=>{this.updateActionsVisibility()}),this.actionsContainer.actions=[this.chooseFileAction,this.startCameraAction,this.cleanAction],this.fileNavigator.actions=[this.prevFileAction,this.fileIndexAction,this.nextFileAction]}get videoId(){return this.id+"_video"}get hasVideoUI(){return this.currentMode!=="file"}get hasFileUI(){return this.currentMode!=="camera"}startVideo(){this.currentMode==="file"||this.isDesignMode||this.isPlayingVideo||(this.setIsPlayingVideo(!0),setTimeout(()=>{this.startVideoInCamera()},0))}get videoHtmlElement(){var e;return(e=this.rootElement)===null||e===void 0?void 0:e.querySelector(`#${this.videoId}`)}startVideoInCamera(){this.camera.startVideo(this.videoHtmlElement,e=>{this.videoStream=e,e||this.stopVideo()},gh(this.imageWidth),gh(this.imageHeight))}stopVideo(){this.setIsPlayingVideo(!1),this.closeVideoStream()}snapPicture(){if(!this.isPlayingVideo)return;const e=t=>{if(t){const n=new File([t],"snap_picture.png",{type:"image/png"});this.loadFiles([n])}};this.camera.snap(this.videoHtmlElement,e),this.stopVideo()}canFlipCamera(){return this.canFlipCameraValue===void 0&&(this.canFlipCameraValue=this.camera.canFlip(e=>{this.canFlipCameraValue=e})),this.canFlipCameraValue}flipCamera(){this.canFlipCamera()&&(this.closeVideoStream(),this.camera.flip(),this.startVideoInCamera())}closeVideoStream(){this.videoStream&&(this.videoStream.getTracks().forEach(e=>{e.stop()}),this.videoStream=void 0)}onHidingContent(){super.onHidingContent(),this.stopVideo()}updateElementCssCore(e){super.updateElementCssCore(e),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId,this.updateCurrentMode()}getFileIndexCaption(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.pagesCount)}updateFileNavigator(){this.updatePages(),this.navigationDirection=void 0,this.indexToShow=this.previewValue.length&&(this.indexToShow+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()}updateRenderedPages(){this.pages&&this.pages[this.indexToShow]&&(this.renderedPages=[this.pages[this.indexToShow]])}updatePages(){this.blockAnimations();let e;this.pages=[],this.renderedPages=[],this.previewValue.forEach((t,n)=>{n%this.pageSize==0&&(e=new Xf(this,this.pages.length),this.pages.push(e)),e.items.push(t)}),this.releaseAnimations(),this.updateRenderedPages()}previewValueChanged(){this.navigationDirection=void 0,this.previewValue.length!==this.prevPreviewLength&&(this.previewValue.length>0?this.prevPreviewLength>this.previewValue.length?this.indexToShow>=this.pagesCount&&this.indexToShow>0&&(this.indexToShow=this.pagesCount-1,this.navigationDirection="left-delete"):this.indexToShow=Math.floor(this.prevPreviewLength/this.pageSize):this.indexToShow=0),this.updatePages(),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1,this.previewValue.length>0&&!this.calculatedGapBetweenItems&&!this.calculatedItemWidth&&setTimeout(()=>{this.processResponsiveness(0,this._width)},1),this.prevPreviewLength=this.previewValue.length}getType(){return"file"}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.isLoadingFromJson||this.loadPreview(e)}get showPreview(){return this.getPropertyValue("showPreview")}set showPreview(e){this.setPropertyValue("showPreview",e)}get allowMultiple(){return this.getPropertyValue("allowMultiple")}set allowMultiple(e){this.setPropertyValue("allowMultiple",e)}get imageHeight(){return this.getPropertyValue("imageHeight")}set imageHeight(e){this.setPropertyValue("imageHeight",e)}get imageWidth(){return this.getPropertyValue("imageWidth")}set imageWidth(e){this.setPropertyValue("imageWidth",e)}get acceptedTypes(){return this.getPropertyValue("acceptedTypes")}set acceptedTypes(e){this.setPropertyValue("acceptedTypes",e)}get allowImagesPreview(){return this.getPropertyValue("allowImagesPreview")}set allowImagesPreview(e){this.setPropertyValue("allowImagesPreview",e)}get maxSize(){return this.getPropertyValue("maxSize")}set maxSize(e){this.setPropertyValue("maxSize",e)}chooseFile(e){if(!this.rootElement)return;const t=this.rootElement.querySelector(`#${this.inputId}`);t&&(e.preventDefault(),e.stopImmediatePropagation(),t&&(this.survey?this.survey.chooseFiles(t,n=>this.loadFiles(n),{element:this,elementType:this.getType(),propertyName:this.name}):t.click()))}get needConfirmRemoveFile(){return this.getPropertyValue("needConfirmRemoveFile")}set needConfirmRemoveFile(e){this.setPropertyValue("needConfirmRemoveFile",e)}getConfirmRemoveMessage(e){return this.confirmRemoveMessage.format(e)}get takePhotoCaption(){return this.getLocalizableStringText("takePhotoCaption")}set takePhotoCaption(e){this.setLocalizableStringText("takePhotoCaption",e)}get locTakePhotoCaption(){return this.getLocalizableString("takePhotoCaption")}get clearButtonCaption(){return this.getLocalizableStringText("clearCaption")}set clearButtonCaption(e){this.setLocalizableStringText("clearCaption",e)}get locClearButtonCaption(){return this.getLocalizableString("clearCaption")}get locRenderedPlaceholder(){return this.locRenderedPlaceholderValue===void 0&&(this.locRenderedPlaceholderValue=new Un(()=>{const e=this.isReadOnly,t=!this.isDesignMode&&this.hasFileUI||this.isDesignMode&&this.sourceType!="camera",n=!this.isDesignMode&&this.hasVideoUI||this.isDesignMode&&this.sourceType!="file";let r;return e?r=this.locNoFileChosenCaption:t&&n?r=this.locFileOrPhotoPlaceholder:t?r=this.locFilePlaceholder:r=this.locPhotoPlaceholder,r})),this.locRenderedPlaceholderValue}get currentMode(){return this.getPropertyValue("currentMode",this.sourceType)}get isPlayingVideo(){return this.getPropertyValue("isPlayingVideo",!1)}setIsPlayingVideo(e){this.setPropertyValue("isPlayingVideo",e)}updateCurrentMode(){!this.isDesignMode&&this.survey&&(this.sourceType!=="file"?this.camera.hasCamera(e=>{this.setPropertyValue("currentMode",e?this.sourceType:"file")}):this.setPropertyValue("currentMode",this.sourceType))}updateActionsVisibility(){const e=this.isDesignMode;this.chooseFileAction.visible=!e&&this.hasFileUI||e&&this.sourceType!=="camera",this.startCameraAction.visible=!e&&this.hasVideoUI||e&&this.sourceType!=="file",this.cleanAction.visible=!!this.isAnswered}get inputTitle(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "}get chooseButtonText(){return this.isEmpty()||this.allowMultiple?this.chooseButtonCaption:this.replaceButtonCaption}clear(e){this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,(t,n)=>{t==="success"&&(this.value=void 0,this.errors=[],e&&e(),this.indexToShow=0,this.fileIndexAction.title=this.getFileIndexCaption())}))}get renderCapture(){return this.allowCameraAccess?"user":void 0}get multipleRendered(){return this.allowMultiple?"multiple":void 0}get showFileDecorator(){const e=this.isPlayingVideo,t=this.showLoadingIndicator;return!e&&!t}get showDragAreaPlaceholder(){return!this.isAnswered}get allowShowPreview(){const e=this.showLoadingIndicator,t=this.isPlayingVideo;return!e&&!t}get showPreviewContainer(){return this.previewValue&&this.previewValue.length>0}defaultImage(e){return!this.canPreviewImage(e)&&!!this.cssClasses.defaultImage}removeFile(e){this.removeFileByContent(this.value.filter(t=>t.name===e)[0])}removeFileByContent(e){this.survey&&this.survey.clearFiles(this,this.name,this.value,e.name,(t,n)=>{if(t==="success"){var r=this.value;Array.isArray(r)?this.value=r.filter(s=>!se.isTwoValueEquals(s,e,!0,!1,!1)):this.value=void 0}})}setValueFromResult(e){this.value=(this.value||[]).concat(e.map(t=>({name:t.file.name,type:t.file.type,content:t.content})))}loadFiles(e){if(this.survey&&(this.errors=[],!!this.allFilesOk(e))){var t=()=>{this.stateChanged("loading");var n=[];this.storeDataAsText?e.forEach(r=>{let s=new FileReader;s.onload=o=>{n=n.concat([{name:r.name,type:r.type,content:s.result}]),n.length===e.length&&(this.value=(this.value||[]).concat(n))},s.readAsDataURL(r)}):this.uploadFiles(e)};this.allowMultiple?t():this.clear(t)}}get camera(){return this.cameraValue||(this.cameraValue=new Dn),this.cameraValue}canPreviewImage(e){return this.allowImagesPreview&&!!e&&this.isFileImage(e)}loadPreview(e){if(!(this.showPreview&&this.prevLoadedPreviewValue===e)&&(this.previewValue.splice(0,this.previewValue.length),!(!this.showPreview||!e))){this.prevLoadedPreviewValue=e;var t=Array.isArray(e)?e:e?[e]:[];this.storeDataAsText?(t.forEach(n=>{var r=n.content||n;this.previewValue.push({name:n.name,type:n.type,content:r})}),this.previewValueChanged()):(this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new aB(this,(n,r)=>{n!=="error"&&(r.forEach(s=>{this.previewValue.push(s)}),this.previewValueChanged()),this.isFileLoading=!1,this._previewLoader.dispose(),this._previewLoader=void 0}),this._previewLoader.load(t))}}allFilesOk(e){var t=this.errors?this.errors.length:0;return(e||[]).forEach(n=>{this.maxSize>0&&n.size>this.maxSize&&this.errors.push(new dRe(this.maxSize,this))}),t===this.errors.length}isFileImage(e){if(!e||!e.content||!e.content.substring)return!1;const t="data:image";var n=e.content&&e.content.substring(0,t.length);n=n&&n.toLowerCase();var r=n===t||!!e.type&&e.type.toLowerCase().indexOf("image/")===0;return r}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t&&!this.isEmpty()){t.isNode=!1;var n=Array.isArray(this.value)?this.value:[this.value];t.data=n.map((r,s)=>({name:s,title:"File",value:r.content&&r.content||r,displayValue:r.name&&r.name||r,getString:o=>typeof o=="object"?JSON.stringify(o):o,isNode:!1}))}return t}getImageWrapperCss(e){return new Ie().append(this.cssClasses.imageWrapper).append(this.cssClasses.imageWrapperDefaultImage,this.defaultImage(e)).toString()}getActionsContainerCss(e){return new Ie().append(e.actionsContainer).append(e.actionsContainerAnswered,this.isAnswered).toString()}getRemoveButtonCss(){return new Ie().append(this.cssClasses.removeFileButton).append(this.cssClasses.contextButton).toString()}getChooseFileCss(){const e=this.isAnswered;return new Ie().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!e).append(this.cssClasses.chooseFileAsTextDisabled,!e&&this.isInputReadOnly).append(this.cssClasses.contextButton,e).append(this.cssClasses.chooseFileAsIcon,e).toString()}getReadOnlyFileCss(){return new Ie().append("form-control").append(this.cssClasses.placeholderInput).toString()}get fileRootCss(){return new Ie().append(this.cssClasses.root).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDragging,this.isDragging).append(this.cssClasses.rootAnswered,this.isAnswered).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()}getFileDecoratorCss(){return new Ie().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()}onChange(e){if(!Bt.isFileReaderAvailable()||!e||!e.files||e.files.length<1)return;let t=[],n=this.allowMultiple?e.files.length:1;for(let r=0;r<n;r++)t.push(e.files[r]);e.value="",this.loadFiles(t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.actionsContainer.cssClasses=e.actionBar,this.actionsContainer.cssClasses.itemWithTitle=this.actionsContainer.cssClasses.item,this.actionsContainer.cssClasses.item="",this.actionsContainer.cssClasses.itemAsIcon=t.contextButton,this.actionsContainer.containerCss=t.actionsContainer,t}onSurveyLoad(){super.onSurveyLoad(),this.updateCurrentMode(),this.updateActionsVisibility(),this.loadPreview(this.value)}needResponsiveness(){return this.supportResponsiveness()}supportResponsiveness(){return!0}getObservedElementSelector(){return ko(this.cssClasses.dragArea)}getFileListSelector(){return ko(this.cssClasses.fileList)}get renderedPages(){return this._renderedPages}set renderedPages(e){this.pagesAnimation.sync(e)}getPagesAnimationOptions(){return{getEnterOptions:e=>{const t=this.cssClasses.page;return{cssClass:t?new Ie().append(`${t}--enter-from-left`,this.navigationDirection=="left"||this.navigationDirection=="left-delete").append(`${t}--enter-from-right`,this.navigationDirection=="right").toString():""}},getLeaveOptions:e=>{const t=this.cssClasses.page;return{cssClass:t?new Ie().append(`${t}--leave-to-left`,this.navigationDirection=="right").append(`${t}--leave-to-right`,this.navigationDirection=="left").toString():""}},getAnimatedElement:e=>{var t;return(t=this.rootElement)===null||t===void 0?void 0:t.querySelector(`#${e.id}`)},isAnimationEnabled:()=>this.animationAllowed&&!!this.rootElement,getRerenderEvent:()=>this.onElementRerendered}}triggerResponsiveness(e){e&&(this.calculatedGapBetweenItems=void 0,this.calculatedItemWidth=void 0),super.triggerResponsiveness()}processResponsiveness(e,t){if(this._width=t,this.rootElement&&(!this.calculatedGapBetweenItems||!this.calculatedItemWidth)&&this.allowMultiple){const r=this.getFileListSelector()?this.rootElement.querySelector(this.getFileListSelector()):void 0;if(r){const s=r.querySelector(ko(this.cssClasses.page));if(s){const o=s.querySelector(ko(this.cssClasses.previewItem));this.calculatedGapBetweenItems=Math.ceil(Number.parseFloat(St.getComputedStyle(s).gap)),o&&(this.calculatedItemWidth=Math.ceil(Number.parseFloat(St.getComputedStyle(o).width)))}}}return this.calculatedGapBetweenItems&&this.calculatedItemWidth?(this.pageSize=this.calcAvailableItemsCount(t,this.calculatedItemWidth,this.calculatedGapBetweenItems),!0):!1}canDragDrop(){return!this.isInputReadOnly&&this.currentMode!=="camera"&&!this.isPlayingVideo}afterRenderQuestionElement(e){super.afterRenderQuestionElement(e),this.rootElement=e}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.stopVideo(),this.rootElement=void 0}clearFilesCore(){if(this.rootElement){const e=this.rootElement.querySelectorAll("input")[0];e&&(e.value="")}this.clear()}doRemoveFile(e,t){if(t.stopPropagation(),this.needConfirmRemoveFile){Z0({message:this.getConfirmRemoveMessage(e.name),funcOnYes:()=>{this.removeFileCore(e)},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog});return}this.removeFileCore(e)}removeFileCore(e){const t=this.previewValue.indexOf(e);this.removeFileByContent(t===-1?e:this.value[t])}dispose(){this.cameraValue=void 0,this.closeVideoStream(),super.dispose()}}W([G()],Mi.prototype,"isDragging",void 0);W([rs({})],Mi.prototype,"previewValue",void 0);W([rs({})],Mi.prototype,"pages",void 0);W([G({defaultValue:0,onSet:(i,e)=>{e.updateRenderedPages()}})],Mi.prototype,"indexToShow",void 0);W([G({defaultValue:1,onSet:(i,e)=>{e.updateFileNavigator()}})],Mi.prototype,"pageSize",void 0);W([G({defaultValue:!1})],Mi.prototype,"containsMultiplyFiles",void 0);W([G()],Mi.prototype,"allowCameraAccess",void 0);W([G({onSet:(i,e)=>{e.isLoadingFromJson||e.updateCurrentMode()}})],Mi.prototype,"sourceType",void 0);W([G()],Mi.prototype,"canFlipCameraValue",void 0);W([G({localizable:{defaultStr:"confirmRemoveFile"}})],Mi.prototype,"confirmRemoveMessage",void 0);W([G({localizable:{defaultStr:"confirmRemoveAllFiles"}})],Mi.prototype,"confirmRemoveAllMessage",void 0);W([G({localizable:{defaultStr:"noFileChosen"}})],Mi.prototype,"noFileChosenCaption",void 0);W([G({localizable:{defaultStr:"chooseFileCaption"}})],Mi.prototype,"chooseButtonCaption",void 0);W([G({localizable:{defaultStr:"replaceFileCaption"}})],Mi.prototype,"replaceButtonCaption",void 0);W([G({localizable:{defaultStr:"removeFileCaption"}})],Mi.prototype,"removeFileCaption",void 0);W([G({localizable:{defaultStr:"loadingFile"}})],Mi.prototype,"loadingFileTitle",void 0);W([G({localizable:{defaultStr:"chooseFile"}})],Mi.prototype,"chooseFileTitle",void 0);W([G({localizable:{defaultStr:"fileOrPhotoPlaceholder"}})],Mi.prototype,"fileOrPhotoPlaceholder",void 0);W([G({localizable:{defaultStr:"photoPlaceholder"}})],Mi.prototype,"photoPlaceholder",void 0);W([G({localizable:{defaultStr:"filePlaceholder"}})],Mi.prototype,"filePlaceholder",void 0);W([G()],Mi.prototype,"locRenderedPlaceholderValue",void 0);W([rs()],Mi.prototype,"_renderedPages",void 0);me.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0,visible:!1},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0,dependsOn:"showPreview",visibleIf:i=>!!i.showPreview},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"sourceType",choices:["file","camera","file-camera"],default:"file",category:"general",visible:!0},{name:"fileOrPhotoPlaceholder:text",serializationProperty:"locFileOrPhotoPlaceholder",category:"general"},{name:"photoPlaceholder:text",serializationProperty:"locPhotoPlaceholder",category:"general"},{name:"filePlaceholder:text",serializationProperty:"locFilePlaceholder",category:"general"},{name:"allowCameraAccess:switch",category:"general",visible:!1}],function(){return new Mi("")},"question");Fn.Instance.registerQuestion("file",i=>new Mi(i));class aB{constructor(e,t){this.fileQuestion=e,this.callback=t,this.loaded=[]}load(e){let t=0;this.loaded=new Array(e.length),e.forEach((n,r)=>{this.fileQuestion.survey&&this.fileQuestion.survey.downloadFile(this.fileQuestion,this.fileQuestion.name,n,(s,o)=>{!this.fileQuestion||!this.callback||(s!=="error"?(this.loaded[r]={content:o,name:n.name,type:n.type},t++,t===e.length&&this.callback(s,this.loaded)):this.callback("error",this.loaded))})})}dispose(){this.fileQuestion=void 0,this.callback=void 0}}class lB extends k5{constructor(e){super(e);var t=this.createLocalizableString("html",this);t.onGetTextCallback=n=>this.survey&&!this.ignoreHtmlProgressing?this.processHtml(n):n}getType(){return"html"}get isCompositeQuestion(){return!0}getProcessedText(e){return this.ignoreHtmlProgressing?e:super.getProcessedText(e)}get html(){return this.getLocalizableStringText("html","")}set html(e){this.setLocalizableStringText("html",e)}get locHtml(){return this.getLocalizableString("html")}get processedHtml(){return this.processHtml(this.html)}processHtml(e){return this.survey?this.survey.processHtml(e,"html-question"):this.html}get isNewA11yStructure(){return!0}get renderCssRoot(){return new Ie().append(this.cssClasses.root).append(this.cssClasses.nested,this.getIsNested()).toString()||void 0}}me.addClass("html",[{name:"html:html",serializationProperty:"locHtml"},{name:"showNumber",visible:!1},{name:"state",visible:!1},{name:"titleLocation",visible:!1},{name:"descriptionLocation",visible:!1},{name:"errorLocation",visible:!1},{name:"indent",visible:!1},{name:"width",visible:!1}],function(){return new lB("")},"nonvalue");Fn.Instance.registerQuestion("html",i=>new lB(i));class uB extends KC{constructor(e){super(e)}getDefaultItemComponent(){return"survey-radiogroup-item"}getType(){return"radiogroup"}getFirstInputElementId(){return this.inputId+"_0"}get selectedItem(){return this.getSingleSelectedItem()}get allowClear(){return this.getPropertyValue("allowClear")}set allowClear(e){this.setPropertyValue("allowClear",e)}get showClearButton(){return this.allowClear}set showClearButton(e){this.allowClear=e}get canShowClearButton(){return this.allowClear&&!this.isReadOnly}get clearButtonCaption(){return this.getLocalizationString("clearCaption")}supportAutoAdvance(){var e;return this.isMouseDown===!0&&!(!((e=this.selectedItem)===null||e===void 0)&&e.showCommentArea)}getConditionJson(e=null,t=null){const n=super.getConditionJson(e,t);return delete n.allowClear,delete n.showClearButton,n}setNewComment(e){this.isMouseDown=!0,super.setNewComment(e),this.isMouseDown=!1}clickItemHandler(e){this.selectItem(e)}isOtherValueUnused(){var e;return!(!((e=this.selectedItem)===null||e===void 0)&&e.showCommentArea)}getDefaultTitleActions(){const e=[];if(!this.isDesignMode){const t=new Xt({locTitleName:"clearCaption",id:`sv-clr-btn-${this.id}`,action:()=>{this.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new Un(()=>this.canShowClearButton)});e.push(t)}return e}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"radiogroup"}}me.addClass("radiogroup",[{name:"allowClear:boolean",alternativeName:"showClearButton"},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new uB("")},"checkboxbase");Fn.Instance.registerQuestion("radiogroup",i=>{var e=new uB(i);return e.choices=Fn.DefaultChoices,e});class vf extends Ut{onStringChangedCallback(){this.text=this.itemValue.text}get value(){return this.itemValue.getPropertyValue("value")}get locText(){return this.locString||this.itemValue.locText}constructor(e,t=null){super(),this.itemValue=e,this.locString=t,this.locText.onStringChanged.add(this.onStringChangedCallback.bind(this)),this.onStringChangedCallback()}}W([G({defaultValue:""})],vf.prototype,"highlight",void 0);W([G({defaultValue:""})],vf.prototype,"text",void 0);W([G()],vf.prototype,"style",void 0);class v4e extends Kt{constructor(e,t,n){super(e,t),this.description=n}}class Ii extends hr{constructor(e){super(e),this.iCounter=0,this.createItemValues("rateValues"),this.createLocalizableString("ratingOptionsCaption",this,!1,!0),this.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],()=>this.resetRenderedItems()),this.registerFunctionOnPropertiesValueChanged(["rateType"],()=>{this.setIconsToRateValues(),this.resetRenderedItems(),this.updateRateCount()}),this.registerFunctionOnPropertiesValueChanged(["rateValues"],()=>{this.setIconsToRateValues(),this.resetRenderedItems()}),this.registerSychProperties(["rateValues"],()=>{this.autoGenerate=this.rateValues.length==0,this.setIconsToRateValues(),this.resetRenderedItems()}),this.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],()=>{this.updateColors(this.survey.themeVariables)}),this.registerFunctionOnPropertiesValueChanged(["displayMode"],()=>{this.updateRenderAsBasedOnDisplayMode(!0)}),this.registerSychProperties(["autoGenerate"],()=>{!this.autoGenerate&&this.rateValues.length===0&&this.setPropertyValue("rateValues",this.visibleRateValues),this.autoGenerate&&(this.rateValues.splice(0,this.rateValues.length),this.updateRateMax()),this.resetRenderedItems()}),this.createLocalizableString("minRateDescription",this,!0).onStringChanged.add((t,n)=>{this.setPropertyValue("hasMinRateDescription",!t.isEmpty)}),this.createLocalizableString("maxRateDescription",this,!0).onStringChanged.add((t,n)=>{this.setPropertyValue("hasMaxRateDescription",!t.isEmpty)}),this.createLocalizableString("readOnlyText",this,!0),this.registerPropertyChangedHandlers(["value","renderAs","placeholder","choices","visibleChoices"],()=>{this.updateReadOnlyText()}),this.updateReadOnlyText(),this.initPropertyDependencies()}setIconsToRateValues(){this.rateType=="smileys"&&this.rateValues.map(e=>e.icon=this.getItemSmiley(e))}locStrsChanged(){var e;super.locStrsChanged(),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()}updateReadOnlyText(){this.readOnlyText=this.displayValue||this.placeholder}endLoadingFromJson(){super.endLoadingFromJson(),this.jsonObj.rateMin!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMax===void 0&&this.updateRateMax(),this.jsonObj.rateMax!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMin===void 0&&this.updateRateMin(),this.jsonObj.autoGenerate===void 0&&this.jsonObj.rateValues!==void 0&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues()}useRateValues(){return!!this.rateValues.length&&!this.autoGenerate}updateRateMax(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)}updateRateMin(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)}updateRateCount(){let e=0;this.useRateValues()?e=this.rateValues.length:e=Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1,e>10&&this.rateDisplayMode=="smileys"&&(e=10),this.rateCount=e,this.rateValues.length>e&&this.rateValues.splice(e,this.rateValues.length-e)}initPropertyDependencies(){this.registerSychProperties(["rateCount"],()=>{if(!this.useRateValues())this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1);else if(this.rateCount<this.rateValues.length){if(this.rateCount>=10&&this.rateDisplayMode=="smileys")return;this.rateValues.splice(this.rateCount,this.rateValues.length-this.rateCount)}else for(let e=this.rateValues.length;e<this.rateCount;e++)this.rateValues.push(new Kt(ur("choices_Item")+(e+1)))}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],()=>{this.updateRateCount()})}get showSelectedItemLocText(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText}get selectedItemLocText(){var e;return!this.readOnly&&((e=this.visibleRateValues.filter(t=>t.value==this.value)[0])===null||e===void 0?void 0:e.locText)}get rateValues(){return this.getPropertyValue("rateValues")}set rateValues(e){this.setPropertyValue("rateValues",e)}selectItem(e){!this.isReadOnly&&e&&(this.value=e.value)}get rateMin(){return this.getPropertyValue("rateMin")}set rateMin(e){this.setPropertyValue("rateMin",e)}get rateMax(){return this.getPropertyValue("rateMax")}set rateMax(e){this.setPropertyValue("rateMax",e)}get rateStep(){return this.getPropertyValue("rateStep")}set rateStep(e){this.setPropertyValue("rateStep",e)}updateColors(e){if(this.colorMode==="monochrome"||!St.isAvailable()||Ii.colorsCalculated)return;function t(r){const s=getComputedStyle(St.getDocumentElement());return s.getPropertyValue&&s.getPropertyValue(r)}function n(r,s){let o=!!e&&e[r];if(o||(o=t(s)),!o)return null;const a=St.createElement("canvas");if(!a)return null;var l=a.getContext("2d");l.fillStyle=o,l.fillStyle=="#000000"&&(l.fillStyle=t(s));const u=l.fillStyle;if(u.startsWith("rgba"))return u.substring(5,u.length-1).split(",").map(h=>+h.trim());var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u);return c?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),1]:null}Ii.badColor=n("--sjs-special-red","--sd-rating-bad-color"),Ii.normalColor=n("--sjs-special-yellow","--sd-rating-normal-color"),Ii.goodColor=n("--sjs-special-green","--sd-rating-good-color"),Ii.badColorLight=n("--sjs-special-red-light","--sd-rating-bad-color-light"),Ii.normalColorLight=n("--sjs-special-yellow-light","--sd-rating-normal-color-light"),Ii.goodColorLight=n("--sjs-special-green-light","--sd-rating-good-color-light"),this.colorsCalculated=!0,this.resetRenderedItems()}getDisplayValueCore(e,t){if(!this.useRateValues)return super.getDisplayValueCore(e,t);var n=Kt.getTextOrHtmlByValue(this.visibleRateValues,t);return n||t}get visibleRateValues(){return this.renderedRateItems.map(e=>e.itemValue)}supportEmptyValidation(){return this.renderAs==="dropdown"}itemValuePropertyChanged(e,t,n,r){!this.useRateValues()&&r!==void 0&&(this.autoGenerate=!1),super.itemValuePropertyChanged(e,t,n,r)}runConditionCore(e){super.runConditionCore(e),this.runRateItesmCondition(e)}runRateItesmCondition(e){var t;if(!this.useRateValues())return;let n=!1;if(!((t=this.survey)===null||t===void 0)&&t.areInvisibleElementsShowing?this.rateValues.forEach(r=>{n=n||!r.isVisible,r.setIsVisible(r,!0)}):n=Kt.runConditionsForItems(this.rateValues,void 0,void 0,e,!0),n&&(this.resetRenderedItems(),!this.isEmpty()&&!this.isReadOnly)){const r=Kt.getItemByValue(this.rateValues,this.value);r&&!r.isVisible&&this.clearValue()}}getRateValuesCore(){if(!this.useRateValues())return this.createRateValues();const e=new Array;return this.rateValues.forEach(t=>{t.isVisible&&e.push(t)}),e}calculateRateValues(){let e=this.getRateValuesCore();return this.rateType=="smileys"&&e.length>10&&(e=e.slice(0,10)),e}calculateRenderedRateItems(){const e=this.calculateRateValues();return e.map((t,n)=>{let r=null;return this.displayRateDescriptionsAsExtremeItems&&(n==0&&(r=new vf(t,this.minRateDescription&&this.locMinRateDescription||t.locText)),n==e.length-1&&(r=new vf(t,this.maxRateDescription&&this.locMaxRateDescription||t.locText))),r||(r=new vf(t)),r})}calculateVisibleChoices(){return this.calculateRateValues().map((t,n)=>this.getRatingItemValue(t,n))}resetRenderedItems(){if(this.autoGenerate){const e=this.getRateValuesCore();this.rateMax=e[e.length-1].value}Array.isArray(this.getPropertyValueWithoutDefault("renderedRateItems"))&&this.setArrayPropertyDirectly("renderedRateItems",this.calculateRenderedRateItems()),Array.isArray(this.getPropertyValueWithoutDefault("visibleChoices"))&&this.setArrayPropertyDirectly("visibleChoices",this.calculateVisibleChoices)}get renderedRateItems(){return this.getPropertyValue("renderedRateItems",void 0,()=>this.calculateRenderedRateItems())}get visibleChoices(){return this.getPropertyValue("visibleChoices",void 0,()=>this.calculateVisibleChoices())}createRateValues(){for(var e=[],t=this.rateMin,n=this.rateStep;t<=this.rateMax&&e.length<oe.ratingMaximumRateValueCount;){let r=new Kt(t);r.locOwner=this,r.ownerPropertyName="rateValues",e.push(r),t=this.correctValue(t+n,n)}return e}getRatingItemValue(e,t){if(!e)return null;const n=e.value;let r;t===0&&(r=this.minRateDescription&&this.locMinRateDescription),t===this.rateCount-1&&(r=this.maxRateDescription&&this.locMaxRateDescription);let s=new v4e(n,e.text,r);return s.locOwner=e.locOwner,s.ownerPropertyName=e.ownerPropertyName,s}correctValue(e,t){if(!e||Math.round(e)==e)return e;for(var n=0;Math.round(t)!=t;)t*=10,n++;return parseFloat(e.toFixed(n))}getType(){return"rating"}getFirstInputElementId(){return this.inputId+"_0"}getInputId(e){return this.inputId+"_"+e}get questionName(){return this.name+"_"+this.id}supportAutoAdvance(){return this.isMouseDown===!0||this.renderAs==="dropdown"}supportOther(){return!1}getPlainDataCalculatedValue(e){const t=super.getPlainDataCalculatedValue(e);if(t!==void 0||!this.useRateValues||this.isEmpty())return t;const n=Kt.getItemByValue(this.visibleRateValues,this.value);return n?n[e]:void 0}get minRateDescription(){return this.getLocalizableStringText("minRateDescription")}set minRateDescription(e){this.setLocalizableStringText("minRateDescription",e)}get locMinRateDescription(){return this.getLocalizableString("minRateDescription")}get maxRateDescription(){return this.getLocalizableStringText("maxRateDescription")}set maxRateDescription(e){this.setLocalizableStringText("maxRateDescription",e)}get locMaxRateDescription(){return this.getLocalizableString("maxRateDescription")}get hasMinRateDescription(){return this.getPropertyValue("hasMinRateDescription",void 0,()=>!!this.minRateDescription)}get hasMaxRateDescription(){return this.getPropertyValue("hasMaxRateDescription",void 0,()=>!!this.maxRateDescription)}get hasMinLabel(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription}get hasMaxLabel(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription}updateRenderAsBasedOnDisplayMode(e){this.isDesignMode?(e||this.renderAs==="dropdown")&&(this.renderAs="default"):(e||this.displayMode!=="auto")&&(this.renderAs=this.displayMode==="dropdown"?"dropdown":"default")}onSurveyLoad(){super.onSurveyLoad(),this.renderAs==="dropdown"&&this.displayMode==="auto"?this.displayMode=this.renderAs:this.updateRenderAsBasedOnDisplayMode()}get rateDisplayMode(){return this.rateType}set rateDisplayMode(e){this.rateType=e}get isStar(){return this.rateType=="stars"}get isSmiley(){return this.rateType=="smileys"}getDefaultItemComponent(){return this.renderAs=="dropdown"?"sv-rating-dropdown-item":this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"}get itemComponent(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())}set itemComponent(e){this.setPropertyValue("itemComponent",e)}valueToData(e){if(this.useRateValues()){var t=Kt.getItemByValue(this.rateValues,e);return t?t.value:e}return isNaN(e)?e:parseFloat(e)}setValueFromClick(e){if(!this.isReadOnlyAttr){this.value===(typeof this.value=="string"?e:parseFloat(e))?this.clearValue(!0):this.value=e;for(let t=0;t<this.renderedRateItems.length;t++)this.renderedRateItems[t].highlight="none"}}onItemMouseIn(e){if(Gi||this.isReadOnly||!e.itemValue.isEnabled||this.isDesignMode)return;let t=!0,n=this.value!=null;if(this.rateType!=="stars"){e.highlight="highlighted";return}for(let r=0;r<this.renderedRateItems.length;r++)this.renderedRateItems[r].highlight=t&&!n&&"highlighted"||!t&&n&&"unhighlighted"||"none",this.renderedRateItems[r]==e&&(t=!1),this.renderedRateItems[r].itemValue.value==this.value&&(n=!1)}onItemMouseOut(e){Gi||this.renderedRateItems.forEach(t=>t.highlight="none")}get itemSmallMode(){return!this.isSingleInputActive&&this.inMatrixMode&&oe.matrix.rateSize=="small"}get ratingRootCss(){const e=this.hasMaxLabel||this.hasMinLabel;return new Ie().append(this.cssClasses.root).append(this.cssClasses.rootWrappable,this.displayMode=="buttons"||!!this.survey&&this.survey.isDesignMode||this.displayMode=="auto"&&!this.supportResponsiveness()).append(this.cssClasses.rootLabelsTop,e&&this.rateDescriptionLocation=="top").append(this.cssClasses.rootLabelsBottom,e&&this.rateDescriptionLocation=="bottom").append(this.cssClasses.rootLabelsDiagonal,e&&this.rateDescriptionLocation=="topBottom").append(this.cssClasses.itemSmall,this.itemSmallMode&&this.rateType!="labels").toString()}get itemStarIcon(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"}get itemStarIconAlt(){return this.itemStarIcon+"-2"}getItemSmiley(e){const t=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"],n=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"],r=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,s=n.slice(0,r),o=t.filter(a=>s.indexOf(a)!=-1);return this.useRateValues()?o[this.rateValues.indexOf(e)]:o[e.value-this.rateMin]}getItemSmileyIconName(e){return"icon-"+this.getItemSmiley(e)}getItemClassByText(e,t){return this.getItemClass(e)}getRenderedItemColor(e,t){let n=t?Ii.badColorLight:Ii.badColor,r=t?Ii.goodColorLight:Ii.goodColor;const s=(this.rateCount-1)/2,o=t?Ii.normalColorLight:Ii.normalColor;if(e<s?r=o:(n=o,e-=s),!n||!r)return null;const a=[0,0,0,0];for(let l=0;l<4;l++)a[l]=n[l]+(r[l]-n[l])*e/s,l<3&&(a[l]=Math.trunc(a[l]));return"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}getItemStyle(e,t="none"){if(this.scaleColorMode==="monochrome"&&this.rateColorMode=="default"||this.isPreviewStyle||this.isReadOnlyStyle)return{};const n=this.visibleRateValues.indexOf(e),r=this.getRenderedItemColor(n,!1),s=t=="highlighted"&&this.scaleColorMode==="colored"&&this.getRenderedItemColor(n,!0);return s?{"--sd-rating-item-color":r,"--sd-rating-item-color-light":s}:{"--sd-rating-item-color":r}}getItemClass(e,t="none"){let n=this.value==e.value;this.isStar&&(this.useRateValues()?n=this.rateValues.indexOf(this.rateValues.filter(L=>L.value==this.value)[0])>=this.rateValues.indexOf(e):n=this.value>=e.value);const s=!(this.isReadOnly||!e.isEnabled)&&this.value!=e.value&&!(this.survey&&this.survey.isDesignMode),o=this.renderedRateItems.filter(L=>L.itemValue==e)[0],a=this.isStar&&(o==null?void 0:o.highlight)=="highlighted",l=this.isStar&&(o==null?void 0:o.highlight)=="unhighlighted";let u=this.cssClasses.item,c=this.cssClasses.selected,h=this.cssClasses.itemDisabled,f=this.cssClasses.itemReadOnly,m=this.cssClasses.itemPreview,b=this.cssClasses.itemHover,_=this.cssClasses.itemOnError,E=null,k=null,j=null,M=null,q=null;this.isStar&&(u=this.cssClasses.itemStar,c=this.cssClasses.itemStarSelected,h=this.cssClasses.itemStarDisabled,f=this.cssClasses.itemStarReadOnly,m=this.cssClasses.itemStarPreview,b=this.cssClasses.itemStarHover,_=this.cssClasses.itemStarOnError,E=this.cssClasses.itemStarHighlighted,k=this.cssClasses.itemStarUnhighlighted,q=this.cssClasses.itemStarSmall),this.isSmiley&&(u=this.cssClasses.itemSmiley,c=this.cssClasses.itemSmileySelected,h=this.cssClasses.itemSmileyDisabled,f=this.cssClasses.itemSmileyReadOnly,m=this.cssClasses.itemSmileyPreview,b=this.cssClasses.itemSmileyHover,_=this.cssClasses.itemSmileyOnError,E=this.cssClasses.itemSmileyHighlighted,j=this.cssClasses.itemSmileyScaleColored,M=this.cssClasses.itemSmileyRateColored,q=this.cssClasses.itemSmileySmall);const J=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&e!=this.rateValues[0]&&e!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&e.value!=this.rateMin&&e.value!=this.rateMax)&&e.locText.calculatedText.length<=2&&Number.isInteger(Number(e.locText.calculatedText)),Z={item:e,css:""};return Z.css=new Ie().append(u).append(c,n).append(h,this.isDisabledStyle).append(f,this.isReadOnlyStyle).append(m,this.isPreviewStyle).append(b,s).append(E,a).append(j,this.scaleColorMode=="colored").append(M,this.rateColorMode=="scale"&&n).append(k,l).append(_,this.hasCssError()).append(q,this.itemSmallMode).append(this.cssClasses.itemFixedSize,J).toString(),this.survey&&this.survey.updateChoiceItemCss(this,Z),Z.css}getControlClass(){return this.isEmpty(),new Ie().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()}get placeholder(){return this.getLocalizableStringText("ratingOptionsCaption")}set placeholder(e){this.setLocalizableStringText("ratingOptionsCaption",e)}get locPlaceholder(){return this.getLocalizableString("ratingOptionsCaption")}get allowClear(){return!0}get searchEnabled(){return!1}get renderedValue(){return this.value}set renderedValue(e){this.value=e}isItemSelected(e){return e.value==this.value}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}needResponsiveWidth(){this.getPropertyValue("rateValues");const e=this.getPropertyValue("rateStep"),t=this.getPropertyValue("rateMax"),n=this.getPropertyValue("rateMin");return this.displayMode!="dropdown"&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||e&&(t-n)/e>9)}supportResponsiveness(){return!this.inMatrixMode}onBeforeSetCompactRenderer(){this.dropdownListModelValue||(this.dropdownListModelValue=new ss(this))}getCompactRenderAs(){return this.displayMode=="buttons"?"default":"dropdown"}getDesktopRenderAs(){return this.displayMode=="dropdown"?"dropdown":"default"}set dropdownListModel(e){this.dropdownListModelValue=e,this.updateElementCss()}get dropdownListModel(){return this.renderAs==="dropdown"&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue}onBlurCore(e){var t;(t=this.dropdownListModel)===null||t===void 0||t.onBlur(e),super.onBlurCore(e)}updateCssClasses(e,t){super.updateCssClasses(e,t),UC(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModelValue.updateCssClasses(t.popup,t.list),t}themeChanged(e){this.colorsCalculated=!1,this.updateColors(e.cssVariables)}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.survey&&(this.updateColors(this.survey.themeVariables),this.updateRenderAsBasedOnDisplayMode())}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}get a11yInputAriaRole(){return this.renderAs==="dropdown"?"combobox":null}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"radiogroup"}}Ii.colorsCalculated=!1;W([G({defaultValue:!1})],Ii.prototype,"inputHasValue",void 0);W([G()],Ii.prototype,"autoGenerate",void 0);W([G()],Ii.prototype,"rateCount",void 0);W([G()],Ii.prototype,"displayRateDescriptionsAsExtremeItems",void 0);W([G()],Ii.prototype,"displayMode",void 0);W([G()],Ii.prototype,"rateDescriptionLocation",void 0);W([G()],Ii.prototype,"rateType",void 0);W([G()],Ii.prototype,"scaleColorMode",void 0);W([G()],Ii.prototype,"rateColorMode",void 0);me.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:1},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(i){return i.rateDisplayMode=="smileys"},visibleIndex:2},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(i){return i.rateDisplayMode=="smileys"&&i.scaleColorMode=="monochrome"},visibleIndex:3},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:5},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:4,onSettingValue:(i,e)=>e<2?2:e>oe.ratingMaximumRateValueCount&&e>i.rateValues.length?oe.ratingMaximumRateValueCount:e>10&&i.rateDisplayMode=="smileys"?10:e},{name:"rateValues:itemvalue[]",baseValue:function(){return ur("choices_Item")},category:"rateValues",visibleIf:function(i){return!i.autoGenerate},visibleIndex:6},{name:"rateMin:number",default:1,onSettingValue:(i,e)=>e>i.rateMax-i.rateStep?i.rateMax-i.rateStep:e,visibleIf:function(i){return!!i.autoGenerate},visibleIndex:7},{name:"rateMax:number",default:5,onSettingValue:(i,e)=>e<i.rateMin+i.rateStep?i.rateMin+i.rateStep:e,visibleIf:function(i){return!!i.autoGenerate},visibleIndex:8},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:(i,e)=>(e<=0&&(e=1),e>i.rateMax-i.rateMin&&(e=i.rateMax-i.rateMin),e),visibleIf:function(i){return!!i.autoGenerate},visibleIndex:9},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:18},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:19},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:21,visibleIf:function(i){return i.rateType=="labels"}},{name:"rateDescriptionLocation",default:"leftRight",choices:["leftRight","top","bottom","topBottom"],visibleIndex:20},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:0},{name:"itemComponent",visible:!1,defaultFunc:i=>i?(i.getOriginalObj&&(i=i.getOriginalObj()),i.getDefaultItemComponent()):"sv-rating-item"}],function(){return new Ii("")},"question");Fn.Instance.registerQuestion("rating",i=>new Ii(i));class cB extends Kt{getBaseType(){return"sliderlabel"}onGetText(e){return e||!this.locOwner?super.onGetText(e):this.locOwner.getTextByItem(this)}getCorrectValue(e){return typeof e=="number"?e:se.isNumber(e)?parseFloat(e.toString()):this.value||0}}class Vr extends hr{get step(){return this.getPropertyValue("step")}set step(e){this.setPropertyValue("step",e)}get labelCount(){return this.customLabels.length>0?this.customLabels.length:this.tickSize?Math.round(100/this.tickSize)+2:this.getPropertyValue("labelCount")}set labelCount(e){this.setPropertyValue("labelCount",e)}get customLabels(){return this.getPropertyValue("customLabels")}set customLabels(e){this.setPropertyValue("customLabels",e)}get allowSwap(){return this.minRangeLength?!1:this.getPropertyValue("allowSwap",!0)}set allowSwap(e){this.setPropertyValue("allowSwap",e)}constructor(e){super(e),this.getThumbContainerCss=t=>new Ie().append(this.cssClasses.thumbContainer).append(this.cssClasses.thumbContainerIndeterminateMode,!!this.isIndeterminate).append(this.cssClasses.thumbContainerFocusedMode,t===this.focusedThumb).toString(),this.getLabelCss=t=>new Ie().append(this.cssClasses.label).append(this.cssClasses.labelLongMod,t.renderedHtml.length>10).toString(),this.isIndeterminate=!1,this.getTrackPercentLeft=()=>{const{renderedValue:t,sliderType:n,renderedMin:r}=this;let s;return n==="single"?t[0]>0?s=this.getPercent(Math.max(0,r)):s=this.getPercent(t[0]):s=this.getPercent(Math.min(...t)),s},this.getTrackPercentRight=()=>{const{renderedValue:t,sliderType:n,renderedMax:r}=this;let s;return n==="single"?t[0]>0?s=this.getPercent(t[0]):s=this.getPercent(Math.min(0,r)):s=this.getPercent(Math.max(...t)),100-s},this.getPercent=t=>{const{renderedMax:n,renderedMin:r}=this,s=n-r;return Math.abs(t-r)/s*100},this.ensureMaxRangeBorders=(t,n)=>{const{renderedMaxRangeLength:r,renderedValue:s}=this,o=s.slice(),a=o[n];let l=!1;o[n]=t;for(let u=0;u<o.length-1;u++)if(Math.abs(o[u]-o[u+1])>r){l=!0;break}return l?a:t},this.ensureMinRangeBorders=(t,n)=>{const{renderedMinRangeLength:r,renderedValue:s,allowSwap:o,renderedMin:a,renderedMax:l}=this,u=s.slice(),c=u[n];let h=!1;u[n]=t;for(let f=0;f<u.length-1;f++)if(Math.abs(u[f]-u[f+1])<r){h=!0;break}if(!o){const f=n>0?u[n-1]:a,m=n<u.length-1?u[n+1]:l;(t<=f||t>=m)&&(h=!0)}return h?c:t},this.getClosestToStepValue=t=>{const{step:n,renderedMin:r,renderedMax:s}=this,o=r+Math.trunc((s-r)/n)*n;let a=r+Math.round((t-r)/n)*n;return a=Math.min(o,a),a},this.handleRangeOnChange=t=>{if(!this.isRangeMoving)return;const{renderedMax:n,renderedMin:r,renderedValue:s,ensureMaxRangeBorders:o,ensureMinRangeBorders:a}=this,l=t.target,u=this.oldInputValue-+l.value;this.oldInputValue=+l.value;let c=!1;for(let h=0;h<s.length;h++){let f=s[h]-u;f=o(f,h),f=a(f,h),f<=n&&f>=r?s.splice(h,1,f):c=!0}if(c){c=!1;return}},this.prepareInputRangeForMoving=(t,n)=>{const{renderedMax:r,renderedMin:s}=this;this.isRangeMoving=!0,this.animatedThumb=!1;const o=t.target;o.style.setProperty("--sjs-range-slider-range-input-thumb-width","20px"),o.style.setProperty("--sjs-range-slider-range-input-thumb-left","initial"),o.style.setProperty("--sjs-range-slider-range-input-thumb-position","static");const l=(t.clientX-n.getBoundingClientRect().x)/n.getBoundingClientRect().width*100/100*(r-s)+s;o.value=""+l,this.oldInputValue=l},this.handleRangePointerDown=(t,n)=>{const{dragOrClickHelper:r,allowDragRange:s,step:o,prepareInputRangeForMoving:a}=this,l=t.target;o&&(l.step="0.1"),s&&(r.dragHandler=()=>{a.call(this,t,n)},r.onPointerDown(t))},this.handleRangePointerUp=(t,n)=>{const{step:r,renderedValue:s,getClosestToStepValue:o}=this,a=t.target;if(this.isRangeMoving){if(this.refreshInputRange(),this.isRangeMoving=!1,r){a.step=""+r;for(let l=0;l<s.length;l++)s[l]=o(s[l]);this.setSliderValue(s)}return}a.style.setProperty("--sjs-range-slider-range-input-thumb-width","0px"),a.style.setProperty("--sjs-range-slider-range-input-thumb-left","initial"),a.style.setProperty("--sjs-range-slider-range-input-thumb-position","static"),this.setValueByClickOnPath(t,n)},this.refreshInputRange=t=>{const{allowDragRange:n,renderedValue:r,getPercent:s}=this;if(!n)return;const o=t||St.getDocument().getElementById("sjs-slider-input-range-input");if(!o)return;const a=s(r[r.length-1]),l=s(r[0]);let u=a-l;o.style.setProperty("--sjs-range-slider-range-input-thumb-width",`calc(${u}% - 20px - 20px)`),o.style.setProperty("--sjs-range-slider-range-input-thumb-left",`calc(${l}% + 20px)`),o.style.setProperty("--sjs-range-slider-range-input-thumb-position","absolute")},this.setSliderValue=t=>{if(!this.isReadOnly&&!this.isDisabledAttr&&!this.isPreviewStyle&&!this.isDisabledStyle){let n;this.sliderType==="single"?n=Array.isArray(t)?t[0]:t:this.sliderType==="range"&&(n=t),this.value=n,this.resetPropertyValue("renderedValue")}},this.setValueByClickOnPath=(t,n)=>{const{renderedMax:r,renderedMin:s}=this;let o=St.getComputedStyle(St.getBody()).direction=="rtl",a=(t.clientX-n.getBoundingClientRect().x)/n.getBoundingClientRect().width*100;o&&(a=100-a);let l=a/100*(r-s)+s;this.setValueByClick(l,t.target)},this.setValueByClick=(t,n)=>{const{step:r,getClosestToStepValue:s,ensureMaxRangeBorders:o,ensureMinRangeBorders:a,renderedValue:l,refreshInputRange:u,setSliderValue:c}=this;this.animatedThumb=!0;const h=l.slice();let f=0;for(let m=0;m<h.length;m++){const b=Math.abs(h[f]-t);Math.abs(h[m]-t)<b&&(f=m)}if(h.length>1&&(t=o(t,f),t=a(t,f)),h[f]=t,r){const m=l.slice();for(let b=0;b<h.length;b++){const _=m[b]/r,E=h[b]/r;Math.round(E)===_&&(E>_?h[b]=h[b]+r:E<_&&(h[b]=h[b]-r)),h[b]=s(h[b])}}c(h),u()},this.handleOnChange=(t,n)=>{if(this.oldValue===null)return;const{allowSwap:r,ensureMaxRangeBorders:s,ensureMinRangeBorders:o,renderedValue:a}=this;let u=+t.target.value;a.length>1&&(u=s(u,n),r||(u=o(u,n))),a.splice(n,1,u)},this.handlePointerDown=t=>{const{step:n,renderedValue:r}=this;if(n)for(let s=0;s<r.length;s++){const o=St.getDocument().getElementById(`sjs-slider-input-${s}`);o.step=.1}this.oldValue=this.renderedValue,this.animatedThumb=!1},this.handlePointerUp=t=>{t.stopPropagation();const{step:n,focusedThumb:r,renderedValue:s,allowSwap:o,renderedMinRangeLength:a,getClosestToStepValue:l,refreshInputRange:u,setSliderValue:c}=this,h=s[r];if(t.target,s.sort((f,m)=>f-m),this.focusedThumb=s.indexOf(h),n)for(let f=0;f<s.length;f++){s[f]=l(s[f]);const m=St.getDocument().getElementById(`sjs-slider-input-${f}`);m.step=n}if(o){for(let f=0;f<s.length-1;f++)if(Math.abs(s[f]-s[f+1])<a){this.setPropertyValue("renderedValue",this.oldValue);break}}c(s),u(),this.oldValue=null},this.handleKeyDown=t=>{this.oldValue=this.renderedValue,this.animatedThumb=!0},this.handleKeyUp=t=>{this.oldValue=null,this.setSliderValue(this.renderedValue)},this.handleOnFocus=t=>{this.focusedThumb=t},this.handleOnBlur=()=>{this.focusedThumb=null},this.handleLabelPointerUp=(t,n)=>{const r=t.target;isNaN(n)||this.setValueByClick(n,r)},this.getTooltipValue=t=>{const{step:n,getClosestToStepValue:r,renderedValue:s,tooltipFormat:o,formatNumber:a}=this;let l=s[t];return l=n?r(l):l,l=a(l),o.replace("{0}",""+l)},this.getLabelText=t=>{const{step:n,renderedMax:r,renderedMin:s,renderedLabelCount:o,formatNumber:a}=this,l=r-s,u=n%1!=0,c=o-1;let h=c===0?0:t*l/c;return u?""+a(h+s):""+Math.round(h+s)},this.getLabelPosition=t=>{const{max:n,min:r,renderedLabelCount:s,customLabels:o}=this,a=s-1;if(a===0)return 0;const l=n-r;return r+t*l/a},this.isRangeMoving=!1,this.oldInputValue=null,this.oldValue=null,this.calcRenderedValue=()=>{const{renderedMax:t,renderedMin:n,renderedMaxRangeLength:r,getClosestToStepValue:s,sliderType:o}=this;let a;if(o==="single")return a=this.ensureValueRespectMinMax(this.value),typeof a>"u"||a===null||a.length===0?(this.isIndeterminate=!0,this.isNegativeScale?[Math.min(t,0)]:[n]):Array.isArray(a)?[a[0]]:[a];if(a=Array.isArray(this.value)?this.value.slice():[],a.length===0){const l=t-n;if(this.isIndeterminate=!0,Math.abs(l)>r){const u=(l-r)/2;return[s(n+u),s(t-u)]}return[n,t]}return a.map(l=>this.ensureValueRespectMinMax(l))},this.createItemValues("customLabels"),this.dragOrClickHelper=new x5(null,!1),this.initPropertyDependencies()}get generatedLabels(){return this.getPropertyValue("generatedLabels",void 0,()=>this.calcGeneratedLabels())}get tooltipVisibilityPG(){return this.tooltipVisibility==="auto"}set tooltipVisibilityPG(e){this.tooltipVisibility=e?"auto":"never"}get renderedValue(){return this.getPropertyValue("renderedValue",void 0,()=>this.calcRenderedValue())}set renderedValue(e){this.setPropertyValue("renderedValue",e)}getType(){return"slider"}get rootCss(){return new Ie().append(this.cssClasses.root).append(this.cssClasses.rootSingleMode,this.sliderType==="single").append(this.cssClasses.rootNegativeScaleMode,!!this.isNegativeScale).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.rootAnimatedThumbMode,!!this.animatedThumb).toString()}get tooltipCss(){return new Ie().append(this.cssClasses.tooltip).append(this.cssClasses.tooltipOnHoverMode,this.tooltipVisibility==="auto").toString()}get renderedLabelCount(){return this.labelCount<0?6:this.labelCount}get renderedMax(){return this.max}get renderedMin(){return this.min}get renderedMaxRangeLength(){var e;return(e=this.maxRangeLength)!==null&&e!==void 0?e:this.renderedMax-this.renderedMin}get renderedMinRangeLength(){var e;return(e=this.minRangeLength)!==null&&e!==void 0?e:this.step}get renderedLabels(){const e=this.generatedLabels,t=this.customLabels;return this.autoGenerate?e:t}get isNegativeScale(){return this.renderedMin<0}getTextByItem(e){const t=e.value.toString();return this.labelFormat.replace("{0}",""+t)}endLoadingFromJson(){super.endLoadingFromJson(),this.jsonObj.customLabels!==void 0&&(this.autoGenerate=!1),!this.isDesignMode&&this.sliderType==="range"&&this.createNewArray("value")}updateValueFromSurvey(e,t){e=this.ensureValueRespectMinMax(e),super.updateValueFromSurvey(e,t),this.isIndeterminate&&(this.isIndeterminate=!1),this.resetPropertyValue("renderedValue")}runConditionCore(e){super.runConditionCore(e),this.runMinMaxCondition(this.maxValueExpression,e,t=>{this.max=t??this.renderedMax}),this.runMinMaxCondition(this.minValueExpression,e,t=>{this.min=t??this.renderedMin})}runMinMaxCondition(e,t,n){if(!e)return;const r=this.getDefaultRunner(this.defaultExpressionRunner,e);r&&r.canRun&&(r.onRunComplete=s=>{n(s)},r.runContext(this.getValueGetterContext(),t))}initPropertyDependencies(){this.registerFunctionOnPropertiesValueChanged(["min","max","step","autoGenerate","labelFormat","labelCount"],()=>{this.resetPropertyValue("generatedLabels"),this.locStrsChanged()}),this.registerSychProperties(["autoGenerate"],()=>{!this.autoGenerate&&this.customLabels.length===0&&this.setPropertyValue("customLabels",this.calcGeneratedLabels()),this.autoGenerate&&this.customLabels.splice(0,this.customLabels.length)}),this.registerFunctionOnPropertiesValueChanged(["min","max","step","maxRangeLength","minRangeLength","sliderType"],()=>{this.resetPropertyValue("renderedValue")})}setNewValue(e){e=this.ensureValueRespectMinMax(e),super.setNewValue(e),this.isIndeterminate&&(this.isIndeterminate=!1),this.resetPropertyValue("renderedValue")}setDefaultValue(){super.setDefaultValue();const e=this.defaultValue;this.sliderType==="single"&&Array.isArray(e)&&this.setSliderValue(e),this.resetPropertyValue("renderedValue")}getDefaultTitleActions(){const e=[];if(!this.isDesignMode){const t=new Xt({locTitleName:"clearCaption",id:`sv-clr-btn-${this.id}`,action:()=>{this.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new Un(()=>this.allowClear&&!this.isReadOnly)});e.push(t)}return e}getItemValueType(){return"sliderlabel"}createLabelItem(e){const t=new cB(e);return t.locOwner=this,t}calcGeneratedLabels(){const e=[];for(let t=0;t<this.renderedLabelCount;t++)e.push(this.createLabelItem(this.getLabelPosition(t)));return e}formatNumber(e){return parseFloat(e.toFixed(4))}ensureValueRespectMinMax(e){return Array.isArray(e)?e.forEach((t,n,r)=>{t<this.min&&(e[n]=this.min),t>this.max&&(e[n]=this.max),n===0?(typeof t>"u"||t===null)&&(e[n]=this.min):n===r.length-1&&(typeof t>"u"||t===null)&&(e[n]=this.max)}):(e<this.min&&(e=this.min),e>this.max&&(e=this.max)),e}}W([G({defaultValue:"single"})],Vr.prototype,"sliderType",void 0);W([G({defaultValue:100})],Vr.prototype,"max",void 0);W([G({defaultValue:0})],Vr.prototype,"min",void 0);W([G({defaultValue:null})],Vr.prototype,"maxValueExpression",void 0);W([G({defaultValue:null})],Vr.prototype,"minValueExpression",void 0);W([G({defaultValue:null})],Vr.prototype,"maxRangeLength",void 0);W([G({defaultValue:null})],Vr.prototype,"minRangeLength",void 0);W([G({defaultValue:"{0}"})],Vr.prototype,"tooltipFormat",void 0);W([G({defaultValue:"{0}"})],Vr.prototype,"labelFormat",void 0);W([G({defaultValue:"auto"})],Vr.prototype,"tooltipVisibility",void 0);W([G({defaultValue:!0})],Vr.prototype,"showLabels",void 0);W([G({defaultValue:!0})],Vr.prototype,"autoGenerate",void 0);W([G({defaultValue:!0})],Vr.prototype,"allowDragRange",void 0);W([G({defaultValue:null})],Vr.prototype,"tickSize",void 0);W([G({defaultValue:!1})],Vr.prototype,"allowClear",void 0);W([G({defaultValue:null})],Vr.prototype,"focusedThumb",void 0);W([G({defaultValue:null})],Vr.prototype,"animatedThumb",void 0);function GV(i,e,t,n){let r=t?e:i;return i>=e?t?i+n:e-n:r}me.addClass("sliderlabel",[{name:"!value:number"},{name:"visibleIf",visible:!1},{name:"enableIf",visible:!1}],i=>new cB(i),"itemvalue");me.addClass("slider",[{name:"sliderType",default:"single",choices:["single","range"]},{name:"autoGenerate",default:!0,isSerializable:!1,choices:[!0,!1]},{name:"min:number",default:0,onSettingValue:(i,e)=>GV(e,i.max,!1,i.step)},{name:"max:number",default:100,onSettingValue:(i,e)=>GV(i.min,e,!0,i.step)},{name:"step:number",default:1},{name:"minValueExpression",type:"expression"},{name:"maxValueExpression",type:"expression"},{name:"minRangeLength:number",visibleIf:function(i){return i.sliderType==="range"}},{name:"maxRangeLength:number",visibleIf:function(i){return i.sliderType==="range"}},{name:"customLabels:sliderlabel[]",visibleIf:function(i){return!i.autoGenerate}},{name:"showLabels:boolean",default:!0},{name:"tooltipVisibility:string",default:"auto",visible:!1,choices:["auto","never"]},{name:"tooltipVisibilityPG:boolean",default:!0,isSerializable:!1},{name:"labelFormat:string",default:"{0}"},{name:"tooltipFormat:string",default:"{0}"},{name:"allowDragRange:boolean",default:!0,visible:!1,visibleIf:function(i){return i.sliderType==="range"}},{name:"allowSwap:boolean",default:!0,visibleIf:function(i){return i.sliderType==="range"}},{name:"labelCount:number",default:-1,visibleIf:function(i){return i.autoGenerate}},{name:"allowClear:boolean",default:!1}],function(){return new Vr("")},"question");Fn.Instance.registerQuestion("slider",i=>new Vr(i));class hd extends hr{constructor(e){super(e),this.createLocalizableString("labelFalse",this,!0,"booleanUncheckedLabel"),this.createLocalizableString("labelTrue",this,!0,"booleanCheckedLabel")}getType(){return"boolean"}isLayoutTypeSupported(e){return!0}supportAutoAdvance(){return this.renderAs!=="checkbox"}get isIndeterminate(){return this.isEmpty()}get hasTitle(){return!0}get booleanValue(){return this.isEmpty()?null:this.value==this.getValueTrue()}set booleanValue(e){this.isReadOnly||this.isDesignMode||this.setBooleanValue(e)}get checkedValue(){return this.booleanValue}set checkedValue(e){this.booleanValue=e}setBooleanValue(e){this.isValueEmpty(e)?(this.value=void 0,this.booleanValueRendered=void 0):(this.value=e==!0?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=e)}get defaultValue(){return this.getPropertyValue("defaultValue")}set defaultValue(e){e===!0&&(e="true"),e===!1&&(e="false"),this.setPropertyValue("defaultValue",e),this.updateValueWithDefaults()}getDefaultValue(){const e=this.defaultValue;if(!(e==="indeterminate"||e===void 0||e===null))return e=="true"?this.getValueTrue():this.getValueFalse()}get locTitle(){const e=this.getLocalizableString("title");return(this.isLabelRendered&&!this.showTitle||this.isValueEmpty(e.text))&&!this.isValueEmpty(this.locLabel.text)?this.locLabel:e}get labelRenderedAriaID(){return this.isLabelRendered?this.ariaTitleId:null}beforeDestroyQuestionElement(e){super.beforeDestroyQuestionElement(e),this.leftAnswerElement=void 0}get isLabelRendered(){return this.titleLocation==="hidden"&&this.useTitleAsLabel}get canRenderLabelDescription(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)}get labelTrue(){return this.getLocalizableStringText("labelTrue")}set labelTrue(e){this.setLocalizableStringText("labelTrue",e)}get locLabelTrue(){return this.getLocalizableString("labelTrue")}get isDeterminated(){return this.booleanValue!==null&&this.booleanValue!==void 0}get locLabelLeft(){return this.swapOrder?this.getLocalizableString("labelTrue"):this.getLocalizableString("labelFalse")}get locLabelRight(){return this.swapOrder?this.getLocalizableString("labelFalse"):this.getLocalizableString("labelTrue")}get labelFalse(){return this.getLocalizableStringText("labelFalse")}set labelFalse(e){this.setLocalizableStringText("labelFalse",e)}get locLabelFalse(){return this.getLocalizableString("labelFalse")}getValueTrue(){return this.valueTrue!==void 0?this.valueTrue:!0}getValueFalse(){return this.valueFalse!==void 0?this.valueFalse:!1}setDefaultValue(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1);const e=this.defaultValue;(e==="indeterminate"||e===null||e===void 0)&&this.setBooleanValue(void 0)}isDefaultValueSet(e,t){return this.defaultValue==e||t!==void 0&&this.defaultValue===t}getDisplayValueCore(e,t){return t==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml}getItemCssValue(e){return new Ie().append(e.item).append(e.itemOnError,this.hasCssError()).append(e.itemDisabled,this.isDisabledStyle).append(e.itemReadOnly,this.isReadOnlyStyle).append(e.itemPreview,this.isPreviewStyle).append(e.itemHover,!this.isDesignMode).append(e.itemChecked,!!this.booleanValue).append(e.itemExchanged,!!this.swapOrder).append(e.itemIndeterminate,!this.isDeterminated).toString()}getItemCss(){return this.getItemCssValue(this.cssClasses)}getCheckboxItemCss(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemDisable:this.cssClasses.checkboxItemDisabled,itemReadOnly:this.cssClasses.checkboxItemReadOnly,itemPreview:this.cssClasses.checkboxItemPreview,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})}getLabelCss(e){return new Ie().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!e||this.isDisabledStyle).append(this.cssClasses.labelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.labelPreview,this.isPreviewStyle).append(this.cssClasses.labelTrue,!this.isIndeterminate&&e===!this.swapOrder).append(this.cssClasses.labelFalse,!this.isIndeterminate&&e===this.swapOrder).toString()}updateValueFromSurvey(e,t=!1){super.updateValueFromSurvey(e,t)}onValueChanged(){super.onValueChanged()}get svgIcon(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:!this.isDeterminated&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId}get itemSvgIcon(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId}get allowClick(){return this.isIndeterminate&&!this.isInputReadOnly}getCheckedLabel(){if(this.booleanValue===!0)return this.locLabelTrue;if(this.booleanValue===!1)return this.locLabelFalse}setQuestionValue(e,t=!0){e==="true"&&this.valueTrue!=="true"&&(e=!0),e==="false"&&this.valueFalse!=="false"&&(e=!1),(e==="indeterminate"||e===null)&&(e=void 0),super.setQuestionValue(e,t)}onLabelClick(e,t){return this.allowClick&&($V(e),this.booleanValue=t),!0}calculateBooleanValueByEvent(e,t){let n=!1;St.isAvailable()&&(n=St.getComputedStyle(e.target).direction=="rtl"),this.booleanValue=n?!t:t}onSwitchClickModel(e){if(this.allowClick){$V(e);var t=e.offsetX/e.target.offsetWidth>.5;this.calculateBooleanValueByEvent(e,t);return}return!0}onKeyDownCore(e){return(e.key==="ArrowLeft"||e.key==="ArrowRight")&&(e.stopPropagation(),this.calculateBooleanValueByEvent(e,e.key==="ArrowRight")),!0}getRadioItemClass(e,t){let n;return e.radioItem&&(n=e.radioItem),e.radioItemChecked&&t===this.booleanValue&&(n=(n?n+" ":"")+e.radioItemChecked),this.isDisabledStyle&&(n+=" "+e.radioItemDisabled),this.isReadOnlyStyle&&(n+=" "+e.radioItemReadOnly),this.isPreviewStyle&&(n+=" "+e.radioItemPreview),n}supportResponsiveness(){return!0}getCompactRenderAs(){return"radio"}createActionContainer(e){return super.createActionContainer(this.renderAs!=="checkbox")}get isNewA11yStructure(){return!0}get a11y_input_ariaRole(){return"switch"}}W([G()],hd.prototype,"booleanValueRendered",void 0);W([G({localizable:!0})],hd.prototype,"label",void 0);W([G({defaultValue:!0})],hd.prototype,"useTitleAsLabel",void 0);W([G({defaultValue:!1})],hd.prototype,"swapOrder",void 0);W([G()],hd.prototype,"valueTrue",void 0);W([G()],hd.prototype,"valueFalse",void 0);me.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"swapOrder:boolean",category:"general"},{name:"renderAs",default:"default",visible:!1}],function(){return new hd("")},"question");Fn.Instance.registerQuestion("boolean",i=>new hd(i));class A5 extends GC{constructor(e,t,n){super(e,t,n),this.typeName=n,this.createLocalizableString("imageLink",this,!1)}getBaseType(){return"imageitemvalue"}get imageLink(){return this.getLocalizableStringText("imageLink")}set imageLink(e){this.setLocalizableStringText("imageLink",e),this.imageNotLoaded=!1,this.videoNotLoaded=!1}get locImageLink(){return this.getLocalizableString("imageLink")}getLocale(){return this.locOwner?this.locOwner.getLocale():""}getMarkdownHtml(e,t,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,t,n):void 0}getRenderer(e){return this.locOwner?this.locOwner.getRenderer(e):null}getRendererContext(e){return this.locOwner?this.locOwner.getRendererContext(e):e}getProcessedText(e){return this.locOwner?this.locOwner.getProcessedText(e):e}onErrorHandler(){this.contentNotLoaded=!0}set contentNotLoaded(e){this.locOwner instanceof No&&this.locOwner.contentMode=="video"?this.videoNotLoaded=e:this.imageNotLoaded=e}get contentNotLoaded(){return this.locOwner instanceof No&&this.locOwner.contentMode=="video"?this.videoNotLoaded:this.imageNotLoaded}}W([G({defaultValue:!1})],A5.prototype,"videoNotLoaded",void 0);W([G({defaultValue:!1})],A5.prototype,"imageNotLoaded",void 0);class No extends KC{constructor(e){super(e),this.isResponsiveValue=!1,this.onContentLoaded=(t,n)=>{t.contentNotLoaded=!1;const r=n.target;this.contentMode=="video"?t.aspectRatio=r.videoWidth/r.videoHeight:t.aspectRatio=r.naturalWidth/r.naturalHeight,this._width&&this.processResponsiveness(0,this._width)},this.gridColCount=void 0,this.colCount=0,this.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],()=>{this._width&&this.processResponsiveness(0,this._width)}),this.registerPropertyChangedHandlers(["imageWidth","imageHeight"],()=>{this.calcIsResponsive()}),this.calcIsResponsive()}getType(){return"imagepicker"}supportAutoAdvance(){return!this.multiSelect}get hasSingleInput(){return!1}getItemValueType(){return"imageitemvalue"}get isCompositeQuestion(){return!0}get itemFlowDirection(){return"row"}supportOther(){return!1}supportNone(){return!1}supportRefuse(){return!1}supportDontKnow(){return!1}isAnswerCorrect(){return this.multiSelect?se.isArrayContainsEqual(this.value,this.correctAnswer):super.isAnswerCorrect()}get multiSelect(){return this.getPropertyValue("multiSelect")}set multiSelect(e){this.setPropertyValue("multiSelect",e)}isItemSelected(e){var t=this.value;const n=e;if(this.isValueEmpty(t)||!n.imageLink||n.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(t,e.value);if(!Array.isArray(t))return!1;for(var r=0;r<t.length;r++)if(this.isTwoValueEquals(t[r],e.value))return!0;return!1}getItemEnabled(e){const t=e;return!t.imageLink||t.contentNotLoaded?!1:super.getItemEnabled(e)}clearIncorrectValues(){if(this.multiSelect){var e=this.value;if(!e)return;if(!Array.isArray(e)||e.length==0){this.clearValue(!0);return}for(var t=[],n=0;n<e.length;n++)this.hasUnknownValue(e[n],!0)||t.push(e[n]);if(t.length==e.length)return;t.length==0?this.clearValue(!0):this.value=t}else super.clearIncorrectValues()}getDisplayValueCore(e,t){return!this.multiSelect&&!Array.isArray(t)?super.getDisplayValueCore(e,t):this.getDisplayArrayValue(e,t)}get showLabel(){return this.getPropertyValue("showLabel")}set showLabel(e){this.setPropertyValue("showLabel",e)}endLoadingFromJson(){super.endLoadingFromJson(),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()}getValueCore(){var e=super.getValueCore();return e!==void 0?e:this.multiSelect?[]:e}convertValToArrayForMultSelect(e){return!this.multiSelect||this.isValueEmpty(e)||Array.isArray(e)?e:[e]}renderedValueFromDataCore(e){return this.convertValToArrayForMultSelect(e)}renderedValueToDataCore(e){return this.convertValToArrayForMultSelect(e)}get imageHeight(){return this.getPropertyValue("imageHeight")}set imageHeight(e){this.setPropertyValue("imageHeight",e)}get imageScale(){return this.survey?this.survey.widthScale/100:1}get renderedImageHeight(){const e=this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight*this.imageScale;return e||150*this.imageScale}get imageWidth(){return this.getPropertyValue("imageWidth")}set imageWidth(e){this.setPropertyValue("imageWidth",e)}get renderedImageWidth(){const e=this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth*this.imageScale;return e||200*this.imageScale}get imageFit(){return this.getPropertyValue("imageFit")}set imageFit(e){this.setPropertyValue("imageFit",e)}get contentMode(){return this.getPropertyValue("contentMode")}set contentMode(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)}valueToData(e){return e}get inputType(){return this.multiSelect?"checkbox":"radio"}isBuiltInChoice(e){return!1}addToVisibleChoices(e,t){this.addNewItemToVisibleChoices(e,t)}getSelectBaseRootCss(){const e=this.isResponsive;return new Ie().append(super.getSelectBaseRootCss()).append(this.cssClasses.rootResponsive,e).append(this.cssClasses.rootStatic,!e).append(this.cssClasses.rootColumn,this.getCurrentColCount()==1).toString()}get isResponsive(){return this.isResponsiveValue}get exactSizesAreEmpty(){return!["imageHeight","imageWidth"].some(e=>this[e]!==void 0&&this[e]!==null)}calcIsResponsive(){this.isResponsiveValue=this.exactSizesAreEmpty}getObservedElementSelector(){return ko(this.cssClasses.root)}supportResponsiveness(){return!0}needResponsiveness(){return this.supportResponsiveness()}needResponsiveWidth(){return this.colCount>2}getCurrentColCount(){return this.responsiveColCount===void 0||this.colCount===0?this.colCount:this.responsiveColCount}getContainerStyle(){return this.isResponsive?{gridAutoFlow:this.gridColCount?null:"column",gridTemplateColumns:this.gridColCount?`repeat(${this.gridColCount}, 1fr)`:null}:{}}processResponsiveness(e,t){this._width=t=Math.floor(t);const n=(r,s,o)=>{let a=Math.floor(r/(s+o));return(a+1)*(s+o)-o<=r&&a++,a};if(this.isResponsive){const r=this.choices.length+(this.isDesignMode?1:0),s=(this.gapBetweenItems||0)*this.imageScale,o=this.minImageWidth*this.imageScale,a=this.maxImageWidth*this.imageScale,l=this.maxImageHeight*this.imageScale,u=this.minImageHeight*this.imageScale;let c=this.colCount,h;const f=n(t,o,s);c===0?((s+o)*r-s>t?h=Math.floor((t-s*(f-1))/f):h=Math.floor((t-s*(r-1))/r),this.gridColCount=Math.max(Math.min(r,f),1)):(f<c?(this.responsiveColCount=Math.max(f,1),c=this.responsiveColCount):this.responsiveColCount=c,this.gridColCount=this.responsiveColCount,h=Math.floor((t-s*(c-1))/c)),h=Math.max(o,Math.min(h,a));let m=Number.MIN_VALUE;this.choices.forEach(E=>{const k=h/E.aspectRatio;m=k>m?k:m}),m>l?m=l:m<u&&(m=u);const b=this.responsiveImageWidth,_=this.responsiveImageHeight;return this.responsiveImageWidth=h,this.responsiveImageHeight=m,b!==this.responsiveImageWidth||_!==this.responsiveImageHeight}return!1}triggerResponsiveness(e=!0){e&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),super.triggerResponsiveness(e)}afterRender(e){super.afterRender(e);const t=this.getObservedElementSelector(),n=e&&t?e.querySelector(t):void 0;n&&(this.reCalcGapBetweenItemsCallback=()=>{this.gapBetweenItems=Math.ceil(Number.parseFloat(St.getComputedStyle(n).gap))||16},this.reCalcGapBetweenItemsCallback())}get ariaRole(){return this.multiSelect?"group":"radiogroup"}get ariaRequired(){return null}get inputRequiredAttribute(){return this.multiSelect?this.hasRequiredError():null}}W([G({})],No.prototype,"responsiveImageHeight",void 0);W([G({})],No.prototype,"responsiveImageWidth",void 0);W([G({})],No.prototype,"isResponsiveValue",void 0);W([G({})],No.prototype,"maxImageWidth",void 0);W([G({})],No.prototype,"minImageWidth",void 0);W([G({})],No.prototype,"maxImageHeight",void 0);W([G({})],No.prototype,"minImageHeight",void 0);W([G({})],No.prototype,"responsiveColCount",void 0);W([G()],No.prototype,"gridColCount",void 0);me.addClass("imageitemvalue",[{name:"imageLink:file",serializationProperty:"locImageLink"}],i=>new A5(i),"itemvalue");me.addClass("responsiveImageSize",[],void 0,"number");me.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"showRefuseItem",visible:!1},{name:"showDontKnowItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0},{name:"maxImageWidth:responsiveImageSize",default:3e3,minValue:0},{name:"maxImageHeight:responsiveImageSize",default:3e3,minValue:0},"showLabel:boolean",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]},"multiSelect:boolean"],function(){return new No("")},"checkboxbase");me.getProperty("imagepicker","choices").type="imageitemvalue[]";Fn.Instance.registerQuestion("imagepicker",i=>{var e=new No(i);return e});const KV=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],y4e="https://www.youtube.com/",JV="embed";class V5 extends k5{constructor(e){super(e);const t=this.createLocalizableString("imageLink",this,!1);t.onGetTextCallback=n=>b4e(n,this.contentMode=="youtube"),this.createLocalizableString("altText",this,!1),this.registerPropertyChangedHandlers(["contentMode","imageLink"],()=>this.calculateRenderedMode())}getType(){return"image"}get isCompositeQuestion(){return!1}onSurveyLoad(){super.onSurveyLoad(),this.calculateRenderedMode()}get imageLink(){return this.getLocalizableStringText("imageLink")}set imageLink(e){this.setLocalizableStringText("imageLink",e)}get locImageLink(){return this.getLocalizableString("imageLink")}get altText(){return this.getLocalizableStringText("altText")}set altText(e){this.setLocalizableStringText("altText",e)}get locAltText(){return this.getLocalizableString("altText")}get imageHeight(){return this.getPropertyValue("imageHeight")}set imageHeight(e){this.setPropertyValue("imageHeight",e)}get renderedStyleHeight(){return this.imageHeight?eb(this.imageHeight):void 0}get renderedHeight(){return this.imageHeight?gh(this.imageHeight):void 0}get imageWidth(){return this.getPropertyValue("imageWidth")}set imageWidth(e){this.setPropertyValue("imageWidth",e)}get renderedStyleWidth(){return this.imageWidth?eb(this.imageWidth):void 0}get renderedWidth(){return this.imageWidth?gh(this.imageWidth):void 0}get imageFit(){return this.getPropertyValue("imageFit")}set imageFit(e){this.setPropertyValue("imageFit",e)}get contentMode(){return this.getPropertyValue("contentMode")}set contentMode(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)}get renderedMode(){return this.getPropertyValue("renderedMode","image")}get ariaInvalid(){return null}get ariaLabel(){return null}get renderedAltText(){return this.altText||this.title}getImageCss(){const e=this.getPropertyByName("imageHeight"),t=this.getPropertyByName("imageWidth"),n=e.isDefaultValue(this.imageHeight)&&t.isDefaultValue(this.imageWidth);return new Ie().append(this.cssClasses.image).append(this.cssClasses.adaptive,n).toString()}onLoadHandler(){this.contentNotLoaded=!1}onErrorHandler(){this.contentNotLoaded=!0}setRenderedMode(e){this.setPropertyValue("renderedMode",e)}calculateRenderedMode(){this.contentMode!=="auto"?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")}isYoutubeVideo(){return se.isUrlYoutubeVideo(this.imageLink)}isVideo(){let e=this.imageLink;if(!e)return!1;e=e.toLowerCase();for(let t=0;t<KV.length;t++)if(e.endsWith(KV[t]))return!0;return!1}}W([G({defaultValue:!1})],V5.prototype,"contentNotLoaded",void 0);function b4e(i,e){if(!i||!se.isUrlYoutubeVideo(i))return e?"":i;if(i.toLocaleLowerCase().indexOf(JV)>-1)return i;let n="";for(var r=i.length-1;r>=0&&!(i[r]==="="||i[r]==="/");r--)n=i[r]+n;return y4e+JV+"/"+n}me.addClass("image",[{name:"imageLink:file",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new V5("")},"nonvalue");Fn.Instance.registerQuestion("image",i=>new V5(i));/*!
 * Signature Pad v4.2.0 | https://github.com/szimek/signature_pad
 * (c) 2024 Szymon Nowak | Released under the MIT license
 */class rb{constructor(e,t,n,r){if(isNaN(e)||isNaN(t))throw new Error(`Point is invalid: (${e}, ${t})`);this.x=+e,this.y=+t,this.pressure=n||0,this.time=r||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class L5{static fromPoints(e,t){const n=this.calculateControlPoints(e[0],e[1],e[2]).c2,r=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new L5(e[1],n,r,e[2],t.start,t.end)}static calculateControlPoints(e,t,n){const r=e.x-t.x,s=e.y-t.y,o=t.x-n.x,a=t.y-n.y,l={x:(e.x+t.x)/2,y:(e.y+t.y)/2},u={x:(t.x+n.x)/2,y:(t.y+n.y)/2},c=Math.sqrt(r*r+s*s),h=Math.sqrt(o*o+a*a),f=l.x-u.x,m=l.y-u.y,b=h/(c+h),_={x:u.x+f*b,y:u.y+m*b},E=t.x-_.x,k=t.y-_.y;return{c1:new rb(l.x+E,l.y+k),c2:new rb(u.x+E,u.y+k)}}constructor(e,t,n,r,s,o){this.startPoint=e,this.control2=t,this.control1=n,this.endPoint=r,this.startWidth=s,this.endWidth=o}length(){let t=0,n,r;for(let s=0;s<=10;s+=1){const o=s/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){const u=a-n,c=l-r;t+=Math.sqrt(u*u+c*c)}n=a,r=l}return t}point(e,t,n,r,s){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+s*e*e*e}}class C4e{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(e,t,n){this._et.addEventListener(e,t,n)}dispatchEvent(e){return this._et.dispatchEvent(e)}removeEventListener(e,t,n){this._et.removeEventListener(e,t,n)}}function w4e(i,e=250){let t=0,n=null,r,s,o;const a=()=>{t=Date.now(),n=null,r=i.apply(s,o),n||(s=null,o=[])};return function(...u){const c=Date.now(),h=e-(c-t);return s=this,o=u,h<=0||h>e?(n&&(clearTimeout(n),n=null),t=c,r=i.apply(s,o),n||(s=null,o=[])):n||(n=window.setTimeout(a,h)),r}}class sb extends C4e{constructor(e,t={}){super(),this.canvas=e,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=n=>{n.buttons===1&&this._strokeBegin(n)},this._handleMouseMove=n=>{this._strokeMoveUpdate(n)},this._handleMouseUp=n=>{n.buttons===1&&this._strokeEnd(n)},this._handleTouchStart=n=>{if(n.cancelable&&n.preventDefault(),n.targetTouches.length===1){const r=n.changedTouches[0];this._strokeBegin(r)}},this._handleTouchMove=n=>{n.cancelable&&n.preventDefault();const r=n.targetTouches[0];this._strokeMoveUpdate(r)},this._handleTouchEnd=n=>{if(n.target===this.canvas){n.cancelable&&n.preventDefault();const s=n.changedTouches[0];this._strokeEnd(s)}},this._handlePointerStart=n=>{n.preventDefault(),this._strokeBegin(n)},this._handlePointerMove=n=>{this._strokeMoveUpdate(n)},this._handlePointerEnd=n=>{this._drawingStroke&&(n.preventDefault(),this._strokeEnd(n))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||0,this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=t.compositeOperation||"source-over",this.canvasContextOptions="canvasContextOptions"in t?t.canvasContextOptions:{},this._strokeMoveUpdate=this.throttle?w4e(sb.prototype._strokeUpdate,this.throttle):sb.prototype._strokeUpdate,this._ctx=e.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(e,t={}){return new Promise((n,r)=>{const s=new Image,o=t.ratio||window.devicePixelRatio||1,a=t.width||this.canvas.width/o,l=t.height||this.canvas.height/o,u=t.xOffset||0,c=t.yOffset||0;this._reset(this._getPointGroupOptions()),s.onload=()=>{this._ctx.drawImage(s,u,c,a,l),n()},s.onerror=h=>{r(h)},s.crossOrigin="anonymous",s.src=e,this._isEmpty=!1})}toDataURL(e="image/png",t){switch(e){case"image/svg+xml":return typeof t!="object"&&(t=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(t))}`;default:return typeof t!="number"&&(t=void 0),this.canvas.toDataURL(e,t)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e,{clear:t=!0}={}){t&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_getPointGroupOptions(e){return{penColor:e&&"penColor"in e?e.penColor:this.penColor,dotSize:e&&"dotSize"in e?e.dotSize:this.dotSize,minWidth:e&&"minWidth"in e?e.minWidth:this.minWidth,maxWidth:e&&"maxWidth"in e?e.maxWidth:this.maxWidth,velocityFilterWeight:e&&"velocityFilterWeight"in e?e.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:e&&"compositeOperation"in e?e.compositeOperation:this.compositeOperation}}_strokeBegin(e){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:e,cancelable:!0})))return;this._drawingStroke=!0;const n=this._getPointGroupOptions(),r=Object.assign(Object.assign({},n),{points:[]});this._data.push(r),this._reset(n),this._strokeUpdate(e)}_strokeUpdate(e){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(e);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const t=e.clientX,n=e.clientY,r=e.pressure!==void 0?e.pressure:e.force!==void 0?e.force:0,s=this._createPoint(t,n,r),o=this._data[this._data.length-1],a=o.points,l=a.length>0&&a[a.length-1],u=l?s.distanceTo(l)<=this.minDistance:!1,c=this._getPointGroupOptions(o);if(!l||!(l&&u)){const h=this._addPoint(s,c);l?h&&this._drawCurve(h,c):this._drawDot(s,c),a.push({time:s.time,x:s.x,y:s.y,pressure:s.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e){this._drawingStroke&&(this._strokeUpdate(e),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:e})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(e){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(e.minWidth+e.maxWidth)/2,this._ctx.fillStyle=e.penColor,this._ctx.globalCompositeOperation=e.compositeOperation}_createPoint(e,t,n){const r=this.canvas.getBoundingClientRect();return new rb(e-r.left,t-r.top,n,new Date().getTime())}_addPoint(e,t){const{_lastPoints:n}=this;if(n.push(e),n.length>2){n.length===3&&n.unshift(n[0]);const r=this._calculateCurveWidths(n[1],n[2],t),s=L5.fromPoints(n,r);return n.shift(),s}return null}_calculateCurveWidths(e,t,n){const r=n.velocityFilterWeight*t.velocityFrom(e)+(1-n.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(r,n),o={end:s,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=s,o}_strokeWidth(e,t){return Math.max(t.maxWidth/(e+1),t.minWidth)}_drawCurveSegment(e,t,n){const r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,t){const n=this._ctx,r=e.endWidth-e.startWidth,s=Math.ceil(e.length())*2;n.beginPath(),n.fillStyle=t.penColor;for(let o=0;o<s;o+=1){const a=o/s,l=a*a,u=l*a,c=1-a,h=c*c,f=h*c;let m=f*e.startPoint.x;m+=3*h*a*e.control1.x,m+=3*c*l*e.control2.x,m+=u*e.endPoint.x;let b=f*e.startPoint.y;b+=3*h*a*e.control1.y,b+=3*c*l*e.control2.y,b+=u*e.endPoint.y;const _=Math.min(e.startWidth+u*r,t.maxWidth);this._drawCurveSegment(m,b,_)}n.closePath(),n.fill()}_drawDot(e,t){const n=this._ctx,r=t.dotSize>0?t.dotSize:(t.minWidth+t.maxWidth)/2;n.beginPath(),this._drawCurveSegment(e.x,e.y,r),n.closePath(),n.fillStyle=t.penColor,n.fill()}_fromData(e,t,n){for(const r of e){const{points:s}=r,o=this._getPointGroupOptions(r);if(s.length>1)for(let a=0;a<s.length;a+=1){const l=s[a],u=new rb(l.x,l.y,l.pressure,l.time);a===0&&this._reset(o);const c=this._addPoint(u,o);c&&t(c,o)}else this._reset(o),n(s[0],o)}}toSVG({includeBackgroundColor:e=!1}={}){const t=this._data,n=Math.max(window.devicePixelRatio||1,1),r=0,s=0,o=this.canvas.width/n,a=this.canvas.height/n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttribute("viewBox",`${r} ${s} ${o} ${a}`),l.setAttribute("width",o.toString()),l.setAttribute("height",a.toString()),e&&this.backgroundColor){const u=document.createElement("rect");u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("fill",this.backgroundColor),l.appendChild(u)}return this._fromData(t,(u,{penColor:c})=>{const h=document.createElement("path");if(!isNaN(u.control1.x)&&!isNaN(u.control1.y)&&!isNaN(u.control2.x)&&!isNaN(u.control2.y)){const f=`M ${u.startPoint.x.toFixed(3)},${u.startPoint.y.toFixed(3)} C ${u.control1.x.toFixed(3)},${u.control1.y.toFixed(3)} ${u.control2.x.toFixed(3)},${u.control2.y.toFixed(3)} ${u.endPoint.x.toFixed(3)},${u.endPoint.y.toFixed(3)}`;h.setAttribute("d",f),h.setAttribute("stroke-width",(u.endWidth*2.25).toFixed(3)),h.setAttribute("stroke",c),h.setAttribute("fill","none"),h.setAttribute("stroke-linecap","round"),l.appendChild(h)}},(u,{penColor:c,dotSize:h,minWidth:f,maxWidth:m})=>{const b=document.createElement("circle"),_=h>0?h:(f+m)/2;b.setAttribute("r",_.toString()),b.setAttribute("cx",u.x.toString()),b.setAttribute("cy",u.y.toString()),b.setAttribute("fill",c),l.appendChild(b)}),l.outerHTML}}var _4e=300,I4e=200;class Qa extends XC{getPenColorFromTheme(){const e=this.survey;return!!e&&!!e.themeVariables&&e.themeVariables["--sjs-primary-backcolor"]}updateColors(e){const t=this.getPenColorFromTheme(),n=this.getPropertyByName("penColor");e.penColor=this.penColor||t||n.defaultValue||"#1ab394";const r=this.getPropertyByName("backgroundColor"),s=t?"transparent":void 0,o=this.backgroundImage?"transparent":this.backgroundColor;e.backgroundColor=o||s||r.defaultValue||"#ffffff"}getCssRoot(e){return new Ie().append(super.getCssRoot(e)).append(e.small,this.signatureWidth.toString()==="300").toString()}getFormat(){return this.dataFormat==="jpeg"?"image/jpeg":this.dataFormat==="svg"?"image/svg+xml":""}updateValue(){if(this.signaturePad){var e=this.signaturePad.toDataURL(this.getFormat());this.valueIsUpdatingInternally=!0,this.value=e,this.valueIsUpdatingInternally=!1}}constructor(e){super(e),this.valueIsUpdatingInternally=!1,this._loadedData=void 0,this.updateValueHandler=()=>{this._loadedData=void 0,this.scaleCanvas(!0,!0)}}getType(){return"signaturepad"}afterRenderQuestionElement(e){Bt.isAvailable()&&e&&(this.isDesignMode||this.initSignaturePad(e),this.element=e),super.afterRenderQuestionElement(e)}beforeDestroyQuestionElement(e){e&&this.destroySignaturePad(e)}themeChanged(e){this.signaturePad&&this.updateColors(this.signaturePad)}resizeCanvas(){this.canvas.width=this.containerWidth,this.canvas.height=this.containerHeight}scaleCanvas(e=!0,t=!1){const n=this.canvas,r=n.offsetWidth/this.containerWidth;(this.scale!=r||t)&&(this.scale=r,n.style.width=this.renderedCanvasWidth,this.resizeCanvas(),this.signaturePad.minWidth=this.penMinWidth*r,this.signaturePad.maxWidth=this.penMaxWidth*r,n.getContext("2d").scale(1/r,1/r),e&&this.loadPreview(this.value))}fromUrl(e){if(this.isFileLoading=!0,GPe(e))this.fromDataUrl(e),this.isFileLoading=!1;else{const t=new Image;t.crossOrigin="anonymous",t.src=e,t.onload=()=>{if(this.canvas){const r=St.createElement("canvas");r.width=this.containerWidth,r.height=this.containerHeight,r.getContext("2d").drawImage(t,0,0);var n=r.toDataURL(this.getFormat());this.fromDataUrl(n)}this.isFileLoading=!1},t.onerror=()=>{this.isFileLoading=!1}}}fromDataUrl(e){if(this._loadedData=e,this.signaturePad){let t=1,n=this.scale;this.dataFormat==="svg"&&(t=Bt.getDevicePixelRatio()||1,n=1);const r={width:this.canvas.width*n/t,height:this.canvas.height*n/t};this.signaturePad.fromDataURL(e,r)}}get loadedData(){return this._loadedData}loadPreview(e){if(!e){this.signaturePad&&this.canvas&&(this.canvas.getContext("2d").clearRect(0,0,this.canvas.width*this.scale,this.canvas.height*this.scale),this.signaturePad.clear()),this.valueWasChangedFromLastUpload=!1;return}if(this.storeDataAsText)this.fromDataUrl(e);else if(this.loadedData)this.fromDataUrl(this.loadedData);else{var t=e?[e]:[];this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new aB(this,(n,r)=>{n==="success"&&r&&r.length>0&&r[0].content?(this.fromDataUrl(r[0].content),this.isFileLoading=!1):n==="skipped"&&this.fromUrl(e),this._previewLoader.dispose(),this._previewLoader=void 0}),this._previewLoader.load(t)}}onChangeQuestionValue(e){super.onChangeQuestionValue(e),this.isLoadingFromJson||(this._loadedData=void 0,this.loadPreview(e))}onSurveyLoad(){super.onSurveyLoad(),this.loadPreview(this.value)}initSignaturePad(e){var t=e.getElementsByTagName("canvas")[0];this.canvas=t,this.resizeCanvas();var n=new sb(t,{backgroundColor:"#ffffff"});this.signaturePad=n,this.isInputReadOnly&&n.off(),this.readOnlyChangedCallback=()=>{this.isInputReadOnly?n.off():n.on()},this.updateColors(n),n.addEventListener("beginStroke",()=>{this.scaleCanvas(),this.isDrawingValue=!0,t.focus()},{once:!1}),n.addEventListener("endStroke",()=>{this.isDrawingValue=!1,this.storeDataAsText?this.updateValue():this.valueWasChangedFromLastUpload=!0},{once:!1}),this.updateValueHandler(),this.readOnlyChangedCallback();var r=(s,o)=>{(o.name==="signatureWidth"||o.name==="signatureHeight")&&(this.valueIsUpdatingInternally||this.updateValueHandler())};this.onPropertyChanged.add(r),this.signaturePad.propertyChangedHandler=r}destroySignaturePad(e){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null}get dataFormat(){return this.getPropertyValue("dataFormat")}set dataFormat(e){this.setPropertyValue("dataFormat",pE(e))}get signatureWidth(){return this.getPropertyValue("signatureWidth")}set signatureWidth(e){this.setPropertyValue("signatureWidth",e)}get signatureHeight(){return this.getPropertyValue("signatureHeight")}set signatureHeight(e){this.setPropertyValue("signatureHeight",e)}get containerHeight(){return this.signatureHeight||I4e}get containerWidth(){return this.signatureWidth||_4e}get renderedCanvasWidth(){return this.signatureAutoScaleEnabled?"100%":this.containerWidth+"px"}get height(){return this.getPropertyValue("height")}set height(e){this.setPropertyValue("height",e)}get allowClear(){return this.getPropertyValue("allowClear")}set allowClear(e){this.setPropertyValue("allowClear",e)}get canShowClearButton(){const e=!this.nothingIsDrawn(),t=this.isUploading;return!this.isInputReadOnly&&this.allowClear&&e&&!t}get penColor(){return this.getPropertyValue("penColor")}set penColor(e){this.setPropertyValue("penColor",e),this.signaturePad&&this.updateColors(this.signaturePad)}get backgroundColor(){return this.getPropertyValue("backgroundColor")}set backgroundColor(e){this.setPropertyValue("backgroundColor",e),this.signaturePad&&this.updateColors(this.signaturePad)}get backgroundImage(){return this.getPropertyValue("backgroundImage")}set backgroundImage(e){this.setPropertyValue("backgroundImage",e),this.signaturePad&&this.updateColors(this.signaturePad)}get clearButtonCaption(){return this.getLocalizationString("clearCaption")}get locRenderedPlaceholder(){return this.isReadOnly?this.locPlaceholderReadOnly:this.locPlaceholder}nothingIsDrawn(){const e=this.isDrawingValue,t=this.isEmpty(),n=this.isUploading,r=this.valueWasChangedFromLastUpload;return!e&&t&&!n&&!r}needShowPlaceholder(){return this.showPlaceholder&&this.nothingIsDrawn()}onBlurCore(e){if(super.onBlurCore(e),!this.storeDataAsText&&!this.element.contains(e.relatedTarget)){if(!this.valueWasChangedFromLastUpload)return;this.uploadFiles([m4e(this.signaturePad.toDataURL(this.getFormat()),this.name+"."+pE(this.dataFormat),this.getFormat())]),this.valueWasChangedFromLastUpload=!1}}uploadResultItemToValue(e){return e.content}setValueFromResult(e){this.valueIsUpdatingInternally=!0,this.value=e!=null&&e.length?e.map(t=>t.content)[0]:void 0,this.valueIsUpdatingInternally=!1}clearValue(e){this.valueWasChangedFromLastUpload=!1,super.clearValue(e),this._loadedData=void 0,this.loadPreview(this.value)}endLoadingFromJson(){super.endLoadingFromJson(),this.signatureWidth===300&&this.width&&typeof this.width=="number"&&this.width&&(ha.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),this.signatureHeight===200&&this.height&&(ha.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)}}W([G({defaultValue:!1})],Qa.prototype,"isDrawingValue",void 0);W([G({defaultValue:!1})],Qa.prototype,"isReadyForUpload",void 0);W([G({defaultValue:!1})],Qa.prototype,"valueWasChangedFromLastUpload",void 0);W([G()],Qa.prototype,"signatureAutoScaleEnabled",void 0);W([G()],Qa.prototype,"penMinWidth",void 0);W([G()],Qa.prototype,"penMaxWidth",void 0);W([G({})],Qa.prototype,"showPlaceholder",void 0);W([G({localizable:{defaultStr:"signaturePlaceHolder"}})],Qa.prototype,"placeholder",void 0);W([G({localizable:{defaultStr:"signaturePlaceHolderReadOnly"}})],Qa.prototype,"placeholderReadOnly",void 0);function pE(i){return i||(i="png"),i=i.replace("image/","").replace("+xml",""),i!=="jpeg"&&i!=="svg"&&(i="png"),i}me.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"signatureAutoScaleEnabled:boolean",category:"general",default:!1},{name:"penMinWidth:number",category:"general",default:.5},{name:"penMaxWidth:number",category:"general",default:2.5},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"showPlaceholder:boolean",category:"general",default:!0},{name:"placeholder:text",serializationProperty:"locPlaceholder",category:"general",dependsOn:"showPlaceholder",visibleIf:i=>i.showPlaceholder},{name:"placeholderReadOnly:text",serializationProperty:"locPlaceholderReadOnly",category:"general",dependsOn:"showPlaceholder",visibleIf:i=>i.showPlaceholder},{name:"backgroundImage:file",category:"general"},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"jpeg",text:"JPEG"},{value:"svg",text:"SVG"}],onSettingValue:(i,e)=>pE(e)},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1}],function(){return new Qa("")},"question");Fn.Instance.registerQuestion("signaturepad",i=>new Qa(i));class E4e extends $${constructor(e){super(),this.item=e}getIndex(){return this.panelIndex}getQuestionData(){return this.item.data}getValue(e,t,n,r){if(e.length===0)return;if(e.length===1){const u=this.getPanelValue(e[0].name);if(u!==void 0)return{isFound:!0,value:u,context:this}}const s=oe.expressionVariables,o=s.panel;if(e.length>1&&e[0].name===s.parentPanel.toLocaleLowerCase()){const u=this.item.data;if(u&&u.parentQuestion&&u.parent&&u.parent.data)return e[0].name=o,u.parent.data.getValueGetterContext().getValue(e,!0,n,r)}const a=this.item.panel,l=e[0].name===o;if(l||!t){l&&e.shift();const u=new S5(a.questions).getValue(e,!1,n,r);if(u&&u.isFound)return u;const c=this.item.getAllValues();if(t){const h=this.getValueFromBindedQuestions(e,c);if(h)return h}return new Oo(c).getValue(e,!1,n,r)}}getTextValue(e,t,n){return e=e.toLocaleLowerCase(),[this.indexVar,this.visIndexVar].indexOf(e)>-1&&t>-1&&t++,super.getTextValue(e,t,n)}get indexVar(){return oe.expressionVariables.panelIndex.toLocaleLowerCase()}get visIndexVar(){return oe.expressionVariables.visiblePanelIndex.toLocaleLowerCase()}getPanelValue(e){if(e=e.toLocaleLowerCase(),e===this.indexVar)return this.panelIndex;if(e==this.visIndexVar)return this.visiblePanelIndex}get panelIndex(){return this.getPanels(!1).indexOf(this.item.panel)}get visiblePanelIndex(){return this.getPanels(!0).indexOf(this.item.panel)}getPanels(e){const t=this.item.data;return t?e?t.visiblePanels:t.panels:[]}}class S4e extends HC{constructor(e){super(e),this.question=e}getValue(e,t,n,r){if(!r&&this.question.isEmpty())return{isFound:e.length===0,value:void 0};if(n>-1){const s=this.question;return n>=0&&n<s.panels.length?s.panels[n].data.getValueGetterContext().getValue(e,!1,n,r):{isFound:!1,value:void 0,context:this}}return super.getValue(e,t,n,r)}}class T4e extends Xt{constructor(e){super(e)}}class YV{constructor(e,t){this.data=e,this.data=e,this.panelValue=t,this.textPreProcessor=new jC(this),this.setSurveyImpl()}get panel(){return this.panelValue}setSurveyImpl(){this.panel.setSurveyImpl(this)}getValueGetterContext(){return new E4e(this)}getValue(e){var t=this.getAllValues();return t[e]}setValue(e,t){const n=this.data.getPanelItemData(this),r=n?n[e]:void 0;if(se.isTwoValueEquals(t,r,!1,!0,!1))return;this.data.setPanelItemData(this,e,se.getUnbindValue(t));const s=this.panel.questions;for(var o=0;o<s.length;o++){const a=s[o];a.getValueName()!==e&&a.checkBindings(e,t);const l=oe.commentSuffix;if(e.endsWith(l)){e=e.substring(0,e.length-l.length);const c=this.panel.getQuestionByName(e);c&&(t=c.value)}const u=oe.expressionVariables.panel+"."+e;a.runTriggers(u,t)}}getVariable(e){}setVariable(e,t){}getComment(e){var t=this.getValue(e+oe.commentSuffix);return t||""}setComment(e,t,n){this.setValue(e+oe.commentSuffix,t)}findQuestionByName(e){if(!e)return;const t=oe.expressionVariables.panel+".";if(e.indexOf(t)===0)return this.panel.getQuestionByName(e.substring(t.length));const n=this.getSurvey();return n?n.getQuestionByName(e):null}getEditingSurveyElement(){}getAllValues(){return this.data.getPanelItemData(this)}getFilteredProperties(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}}getSurveyData(){return this}getSurvey(){return this.data?this.data.getSurvey():null}getTextProcessor(){return this.textPreProcessor}}class x4e{constructor(e){this.data=e}getSurveyData(){return null}getSurvey(){return this.data.getSurvey()}getTextProcessor(){return null}}class Ou extends hr{constructor(e){super(e),this._renderedPanels=[],this.isPanelsAnimationRunning=!1,this.isAddingNewPanels=!1,this.isSetPanelItemData={},this.createNewArray("panels",t=>{this.onPanelAdded(t)},t=>{this.onPanelRemoved(t)}),this.createNewArray("visiblePanels"),this.templateValue=this.createAndSetupNewPanelObject(),this.template.renderWidth="100%",this.template.selectedElementInDesign=this,this.template.addElementCallback=t=>{this.addOnPropertyChangedCallback(t),this.rebuildPanels()},this.template.removeElementCallback=()=>{this.rebuildPanels()},this.createLocalizableString("confirmDeleteText",this,!1,"confirmDelete"),this.createLocalizableString("keyDuplicationError",this,!1,!0),this.createLocalizableString("addPanelText",this,!1,"addPanel"),this.createLocalizableString("removePanelText",this,!1,"removePanel"),this.createLocalizableString("prevPanelText",this,!1,"pagePrevText"),this.createLocalizableString("nextPanelText",this,!1,"pageNextText"),this.createLocalizableString("noEntriesText",this,!1,"noEntriesText"),this.createLocalizableString("editPanelText",this,!1,"editText"),this.createLocalizableString("templateTabTitle",this,!0,"panelDynamicTabTextFormat"),this.createLocalizableString("tabTitlePlaceholder",this,!0,"tabTitlePlaceholder"),this.registerPropertyChangedHandlers(["panelsState"],()=>{this.setPanelsState()}),this.registerPropertyChangedHandlers(["newPanelPosition","displayMode","showProgressBar"],()=>{this.updateFooterActions()}),this.registerPropertyChangedHandlers(["allowAddPanel"],()=>{this.updateNoEntriesTextDefaultLoc()}),this.registerPropertyChangedHandlers(["minPanelCount"],()=>{this.onMinPanelCountChanged()}),this.registerPropertyChangedHandlers(["maxPanelCount"],()=>{this.onMaxPanelCountChanged()}),this.registerPropertyChangedHandlers(["templateQuestionTitleLocation","templateQuestionTitleWidth"],()=>{const t=this.visiblePanelsCore;t&&t.forEach(n=>{n.updateElementCss(!0)})})}get isCompositeQuestion(){return!0}get hasSingleInput(){return!1}get isContainer(){return!0}getFirstQuestionToFocus(e){for(var t=0;t<this.visiblePanelsCore.length;t++){const n=this.visiblePanelsCore[t].getFirstQuestionToFocus(e);if(n)return n}return this.showAddPanelButton&&(!e||this.currentErrorCount>0)?this:null}getFirstInputElementId(){return this.showAddPanelButton?this.addButtonId:super.getFirstInputElementId()}getFirstErrorInputElementId(){const e=this.getFirstQuestionToFocus(!0);return e?e.inputId:super.getFirstErrorInputElementId()}setSurveyImpl(e,t){super.setSurveyImpl(e,t),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()}assignOnPropertyChangedToTemplate(){for(var e=this.template.elements,t=0;t<e.length;t++)this.addOnPropertyChangedCallback(e[t])}addOnPropertyChangedCallback(e){e.isQuestion&&e.setParentQuestion(this),e.onPropertyChanged.add((t,n)=>{this.onTemplateElementPropertyChanged(t,n)}),e.isPanel&&(e.addElementCallback=t=>{this.addOnPropertyChangedCallback(t)})}onTemplateElementPropertyChanged(e,t){if(!(this.isLoadingFromJson||this.useTemplatePanel||this.panelsCore.length==0)){var n=me.findProperty(e.getType(),t.name);if(n)for(var r=this.panelsCore,s=0;s<r.length;s++){var o=r[s].getQuestionByName(e.name);o&&o[t.name]!==t.newValue&&(o[t.name]=t.newValue)}}}get useTemplatePanel(){return this.isDesignMode&&!this.isContentElement}getType(){return"paneldynamic"}clearOnDeletingContainer(){this.panelsCore.forEach(e=>{e.clearOnDeletingContainer()})}get isAllowTitleLeft(){return!1}removeElement(e){return this.template.removeElement(e)}get template(){return this.templateValue}getPanel(){return this.template}get templateElements(){return this.template.elements}get templateTitle(){return this.template.title}set templateTitle(e){this.template.title=e}get locTemplateTitle(){return this.template.locTitle}get templateTabTitle(){return this.locTemplateTabTitle.text}set templateTabTitle(e){this.locTemplateTabTitle.text=e}get locTemplateTabTitle(){return this.getLocalizableString("templateTabTitle")}get tabTitlePlaceholder(){return this.locTabTitlePlaceholder.text}set tabTitlePlaceholder(e){this.locTabTitlePlaceholder.text=e}get locTabTitlePlaceholder(){return this.getLocalizableString("tabTitlePlaceholder")}get templateDescription(){return this.template.description}set templateDescription(e){this.template.description=e}get locTemplateDescription(){return this.template.locDescription}get templateVisibleIf(){return this.getPropertyValue("templateVisibleIf")}set templateVisibleIf(e){this.setPropertyValue("templateVisibleIf",e),this.template.visibleIf=e}get items(){for(var e=[],t=0;t<this.panelsCore.length;t++)e.push(this.panelsCore[t].data);return e}get panels(){return this.buildPanelsFirstTime(this.canBuildPanels),this.panelsCore}get visiblePanels(){return this.buildPanelsFirstTime(this.canBuildPanels),this.visiblePanelsCore}get panelsCore(){return this.getPropertyValue("panels")}get visiblePanelsCore(){return this.getPropertyValue("visiblePanels")}onPanelAdded(e){if(this.onPanelRemovedCore(e),!e.visible)return;let t=0;const n=this.panelsCore;for(var r=0;r<n.length&&n[r]!==e;r++)n[r].visible&&t++;this.visiblePanelsCore.splice(t,0,e),this.addTabFromToolbar(e,t),this.currentPanel||(this.currentPanel=e),this.updateRenderedPanels()}onPanelRemoved(e){let t=this.onPanelRemovedCore(e);if(this.currentPanel===e){const n=this.visiblePanelsCore;t>=n.length&&(t=n.length-1),this.currentPanel=t>=0?n[t]:null}this.updateRenderedPanels()}onPanelRemovedCore(e){const t=this.visiblePanelsCore;let n=t.indexOf(e);return n>-1&&(t.splice(n,1),this.removeTabFromToolbar(e)),n}get currentIndex(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanelsCore.indexOf(this.currentPanel)}set currentIndex(e){e<0||this.visiblePanelCount<1||(e>=this.visiblePanelCount&&(e=this.visiblePanelCount-1),this.currentPanel=this.visiblePanelsCore[e])}get currentPanel(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;let e=this.getPropertyValue("currentPanel",null);return!e&&this.visiblePanelCount>0&&(e=this.visiblePanelsCore[0],this.currentPanel=e),e}set currentPanel(e){if(this.isRenderModeList||this.useTemplatePanel)return;const t=this.getPropertyValue("currentPanel"),n=e?this.visiblePanelsCore.indexOf(e):-1;if(!(e&&n<0||e===t)&&(t&&t.onHidingContent(),this.setPropertyValue("currentPanel",e),this.updateRenderedPanels(),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback),n>-1&&this.survey)){const r={panel:e,visiblePanelIndex:n};this.survey.dynamicPanelCurrentIndexChanged(this,r)}}updateRenderedPanels(){this.isRenderModeList?this.renderedPanels=[].concat(this.visiblePanels):this.currentPanel?this.renderedPanels=[this.currentPanel]:this.renderedPanels=[]}set renderedPanels(e){this.renderedPanels.length==0||e.length==0?(this.blockAnimations(),this.panelsAnimation.sync(e),this.releaseAnimations()):(this.isPanelsAnimationRunning=!0,this.panelsAnimation.sync(e))}get renderedPanels(){return this._renderedPanels}getPanelsAnimationOptions(){const e=()=>{if(this.isRenderModeList)return"";let t=new Ie,n=!1;const r=this.renderedPanels.filter(o=>o!==this.currentPanel)[0];let s=this.visiblePanels.indexOf(r);return s<0&&(n=!0,s=this.removedPanelIndex),t.append("sv-pd-animation-adding",!!this.focusNewPanelCallback).append("sv-pd-animation-removing",n).append("sv-pd-animation-left",s<=this.currentIndex).append("sv-pd-animation-right",s>this.currentIndex).toString()};return{getRerenderEvent:()=>this.onElementRerendered,getAnimatedElement:t=>{var n,r;if(t&&this.cssContent){const s=ko(this.cssContent);return(r=(n=this.getWrapperElement())===null||n===void 0?void 0:n.querySelector(`:scope ${s} #${t.id}`))===null||r===void 0?void 0:r.parentElement}},getEnterOptions:()=>{const t=new Ie().append(this.cssClasses.panelWrapperEnter).append(e()).toString();return{onBeforeRunAnimation:n=>{if(this.focusNewPanelCallback){const r=this.isRenderModeList?n:n.parentElement;ni.ScrollElementToViewCore(r,!1,!1,{behavior:"smooth"})}!this.isRenderModeList&&n.parentElement?lv(n.parentElement,{heightTo:n.offsetHeight+"px"}):Su(n)},onAfterRunAnimation:n=>{oa(n),n.parentElement&&oa(n.parentElement)},cssClass:t}},getLeaveOptions:()=>{const t=new Ie().append(this.cssClasses.panelWrapperLeave).append(e()).toString();return{onBeforeRunAnimation:n=>{!this.isRenderModeList&&n.parentElement?lv(n.parentElement,{heightFrom:n.offsetHeight+"px"}):Su(n)},onAfterRunAnimation:n=>{oa(n),n.parentElement&&oa(n.parentElement)},cssClass:t}},isAnimationEnabled:()=>this.animationAllowed&&!!this.getWrapperElement()}}disablePanelsAnimations(){this.panelsCore.forEach(e=>{e.blockAnimations()})}enablePanelsAnimations(){this.panelsCore.forEach(e=>{e.releaseAnimations()})}updatePanelsAnimation(){this._panelsAnimations=new(this.isRenderModeList?ph:L$)(this.getPanelsAnimationOptions(),(e,t)=>{this._renderedPanels=e,t||(this.isPanelsAnimationRunning=!1,this.focusNewPanel())},()=>this._renderedPanels)}get panelsAnimation(){return this._panelsAnimations||this.updatePanelsAnimation(),this._panelsAnimations}onHidingContent(){super.onHidingContent(),this.currentPanel?this.currentPanel.onHidingContent():this.visiblePanelsCore.forEach(e=>e.onHidingContent())}get confirmDelete(){return this.getPropertyValue("confirmDelete")}set confirmDelete(e){this.setPropertyValue("confirmDelete",e)}get keyName(){return this.getPropertyValue("keyName","")}set keyName(e){this.setPropertyValue("keyName",e)}get confirmDeleteText(){return this.getLocalizableStringText("confirmDeleteText")}set confirmDeleteText(e){this.setLocalizableStringText("confirmDeleteText",e)}get locConfirmDeleteText(){return this.getLocalizableString("confirmDeleteText")}get keyDuplicationError(){return this.getLocalizableStringText("keyDuplicationError")}set keyDuplicationError(e){this.setLocalizableStringText("keyDuplicationError",e)}get locKeyDuplicationError(){return this.getLocalizableString("keyDuplicationError")}get prevPanelText(){return this.getLocalizableStringText("prevPanelText")}set prevPanelText(e){this.setLocalizableStringText("prevPanelText",e)}get locPrevPanelText(){return this.getLocalizableString("prevPanelText")}get panelPrevText(){return this.prevPanelText}set panelPrevText(e){this.prevPanelText=e}get locPanelPrevText(){return this.locPrevPanelText}get nextPanelText(){return this.getLocalizableStringText("nextPanelText")}set nextPanelText(e){this.setLocalizableStringText("nextPanelText",e)}get locNextPanelText(){return this.getLocalizableString("nextPanelText")}get panelNextText(){return this.nextPanelText}set panelNextText(e){this.nextPanelText=e}get locPanelNextText(){return this.locNextPanelText}get addPanelText(){return this.getLocalizableStringText("addPanelText")}set addPanelText(e){this.setLocalizableStringText("addPanelText",e)}get locAddPanelText(){return this.getLocalizableString("addPanelText")}get panelAddText(){return this.addPanelText}set panelAddText(e){this.addPanelText=e}get locPanelAddText(){return this.locAddPanelText}get removePanelText(){return this.getLocalizableStringText("removePanelText")}set removePanelText(e){this.setLocalizableStringText("removePanelText",e)}get locRemovePanelText(){return this.getLocalizableString("removePanelText")}get panelRemoveText(){return this.removePanelText}set panelRemoveText(e){this.removePanelText=e}get locPanelRemoveText(){return this.locRemovePanelText}get isProgressTopShowing(){return this.displayMode=="carousel"&&(this.progressBarLocation==="top"||this.progressBarLocation==="topBottom")}get isProgressBottomShowing(){return this.displayMode=="carousel"&&(this.progressBarLocation==="bottom"||this.progressBarLocation==="topBottom")}get isPrevButtonVisible(){return this.currentIndex>0}get isPrevButtonShowing(){return this.isPrevButtonVisible}get isNextButtonVisible(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1}get isNextButtonShowing(){return this.isNextButtonVisible}get isRangeShowing(){return this.showProgressBar&&this.currentIndex>=0&&this.visiblePanelCount>1}getElementsInDesign(e=!1){return e?[this.template]:this.templateElements}prepareValueForPanelCreating(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1}setValueAfterPanelsCreating(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)}getValueCore(){return this.isAddingNewPanels?this.addingNewPanelsValue:super.getValueCore()}setValueCore(e){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=e):super.setValueCore(e)}setIsMobile(e){super.setIsMobile(e),(this.panelsCore||[]).forEach(t=>t.getQuestions(!0).forEach(n=>{n.setIsMobile(e)}))}themeChanged(e){super.themeChanged(e),(this.panelsCore||[]).forEach(t=>t.getQuestions(!0).forEach(n=>{n.themeChanged(e)}))}get panelCount(){return!this.canBuildPanels||this.wasNotRenderedInSurvey?this.getPropertyValue("panelCount"):this.panelsCore.length}set panelCount(e){if(e<0)return;if(!this.isLoadingFromJson&&this.isDesignMode){const n=this.minPanelCount;e<n&&(e=n);const r=this.maxPanelCount;r>0&&e>r&&(e=r)}if(!this.canBuildPanels||this.wasNotRenderedInSurvey){this.setPropertyValue("panelCount",e),this.updateFooterActions();return}if(e==this.panelsCore.length||this.useTemplatePanel)return;this.updateBindings("panelCount",e),this.prepareValueForPanelCreating();const t=e-this.panelCount===1;for(let n=this.panelCount;n<e;n++){const r=this.createNewPanel();this.panelsCore.push(r),this.displayMode=="list"&&this.panelsState!="default"&&(this.panelsState==="expanded"?r.expand():r.title&&r.collapse())}t&&this.singleInputOnAddItem(this.settingPanelCountBasedOnValue),e<this.panelCount&&this.panelsCore.splice(e,this.panelCount-e),this.disablePanelsAnimations(),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.enablePanelsAnimations()}get visiblePanelCount(){return this.visiblePanels.length}get panelsState(){return this.getPropertyValue("panelsState")}set panelsState(e){this.setPropertyValue("panelsState",e)}setTemplatePanelSurveyImpl(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new x4e(this))}setPanelsSurveyImpl(){for(var e=0;e<this.panelsCore.length;e++){var t=this.panelsCore[e];t!=this.template&&t.setSurveyImpl(t.data)}}setPanelsState(){if(!(this.useTemplatePanel||this.displayMode!="list"||!this.templateTitle))for(var e=0;e<this.panelsCore.length;e++){var t=this.panelsState;t==="firstExpanded"&&(t=e===0?"expanded":"collapsed"),this.panelsCore[e].state=t}}setValueBasedOnPanelCount(){var e=this.value;if((!e||!Array.isArray(e))&&(e=[]),e.length!=this.panelCount){for(var t=e.length;t<this.panelCount;t++){const n=this.panels[t].getValue(),r=se.isValueEmpty(n)?{}:n;e.push(r)}e.length>this.panelCount&&e.splice(this.panelCount,e.length-this.panelCount),this.isValueChangingInternally=!0,this.value=e,this.isValueChangingInternally=!1}}get minPanelCount(){return this.getPropertyValue("minPanelCount")}set minPanelCount(e){e<0&&(e=0),this.setPropertyValue("minPanelCount",e)}onMinPanelCountChanged(){const e=this.minPanelCount;e>this.maxPanelCount&&(this.maxPanelCount=e),this.panelCount<e&&(this.panelCount=e)}get maxPanelCount(){return this.getPropertyValue("maxPanelCount")}set maxPanelCount(e){e<=0||(e>oe.panel.maxPanelCount&&(e=oe.panel.maxPanelCount),this.setPropertyValue("maxPanelCount",e),this.updateFooterActions())}onMaxPanelCountChanged(){const e=this.maxPanelCount;e<this.minPanelCount&&(this.minPanelCount=e),this.panelCount>e&&(this.panelCount=e),this.updateFooterActions()}get allowAddPanel(){return this.getPropertyValue("allowAddPanel")}set allowAddPanel(e){this.setPropertyValue("allowAddPanel",e)}get addButtonId(){return this.id+"addPanel"}get newPanelPosition(){return this.getPropertyValue("newPanelPosition")}set newPanelPosition(e){this.setPropertyValue("newPanelPosition",e)}get allowRemovePanel(){return this.getPropertyValue("allowRemovePanel")}set allowRemovePanel(e){this.setPropertyValue("allowRemovePanel",e)}get templateQuestionTitleLocation(){return this.getPropertyValue("templateQuestionTitleLocation")}set templateQuestionTitleLocation(e){this.setPropertyValue("templateQuestionTitleLocation",e)}get templateTitleLocation(){return this.templateQuestionTitleLocation}set templateTitleLocation(e){this.templateQuestionTitleLocation=e}get templateQuestionTitleWidth(){return this.template.questionTitleWidth}set templateQuestionTitleWidth(e){this.template.questionTitleWidth=e}get templateErrorLocation(){return this.getPropertyValue("templateErrorLocation")}set templateErrorLocation(e){this.setPropertyValue("templateErrorLocation",e.toLowerCase())}resetSingleInput(){super.resetSingleInput(),this.locTemplateTitle.onGetTextCallback=null}getSingleInputQuestionsCore(e,t){this.onFirstRendering();const n=new Array,r=this.visiblePanels;if(t)for(let s=0;s<r.length;s++){const o=r[s];(!o.hasValueAnyQuestion(!0)||o.hasErrors(!1,!1))&&this.fillSingleInputQuestionsByPanel(n,o)}return this.getSingleInputQuestionsForDynamic(e,n)}fillSingleInputQuestionsInContainer(e,t){const n=this.getPanelByQuestion(t);this.fillSingleInputQuestionsByPanel(e,n)}fillSingleInputQuestionsByPanel(e,t){t&&t.questions.forEach(n=>n.addNestedQuestion(e,!0,!1,!1))}getSingleQuestionLocTitleCore(){const e=this.locTemplateTitle;return e.onGetTextCallback=t=>{const n=this.singleInputQuestion;return n?this.processSingleInputTitle(t,this.getPanelByQuestion(n)):t},e}processSingleInputTitle(e,t){return e||(e=this.getSingleInputTitleTemplate()),t?t.getProcessedText(e):e}getSingleInputTitleTemplate(){return this.getLocalizationString("panelDynamicTabTextFormat")}getPanelByQuestion(e){let t=e.parent;for(;t&&t.parent;)t=t.parent;return t}getSingleInputAddTextCore(){if(this.canAddPanel)return this.panelAddText}singleInputAddItemCore(){this.addPanelUI()}singleInputRemoveItemCore(e){const t=this.getPanelByQuestion(e),n=this.visiblePanelsCore.indexOf(t);this.removePanelUI(n)}getSingleQuestionOnChange(e){const t=this.visiblePanelsCore;if(t.length>0){(e<0||e>=t.length)&&(e=t.length-1);const r=t[e].visibleQuestions;if(r.length>0)return r[0]}return null}createSingleInputSummary(){const e=new K$(this,this.locNoEntriesText),t=new Array;return this.visiblePanels.forEach(n=>{const r=new Ar(this,!0,void 0,this.locTemplateTitle.localizationName);r.setJson(this.locTemplateTitle.getJson()),r.onGetTextCallback=a=>this.processSingleInputTitle(this.templateTitle,n);const s=new Xt({locTitle:this.getLocalizableString("editPanelText"),action:()=>{this.singInputEditPanel(n)}}),o=this.canRemovePanel?new Xt({locTitle:this.locPanelRemoveText,action:()=>{this.removePanelUI(n)}}):void 0;t.push(new G$(r,s,o))}),e.items=t,e}singleInputMoveToFirstCore(){var e;let t=(e=this.singleInputQuestion)===null||e===void 0?void 0:e.parent;for(;t&&t.parent;)t=t.parent;this.singInputEditPanel(t)}singInputEditPanel(e){if(!e)return;const t=e.visibleQuestions;t.length>0&&this.setSingleInputQuestion(t[0])}get showQuestionNumbers(){return this.getPropertyValue("showQuestionNumbers")}set showQuestionNumbers(e){this.setPropertyValue("showQuestionNumbers",e),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible,!0)}notifySurveyOnChildrenVisibilityChanged(){return this.showQuestionNumbers==="onSurvey"}get removePanelButtonLocation(){return this.getPropertyValue("removePanelButtonLocation")}set removePanelButtonLocation(e){this.setPropertyValue("removePanelButtonLocation",e)}get panelRemoveButtonLocation(){return this.removePanelButtonLocation}set panelRemoveButtonLocation(e){this.removePanelButtonLocation=e}get showRangeInProgress(){return this.showProgressBar}set showRangeInProgress(e){this.showProgressBar=e}get renderMode(){let e=this.displayMode;if(e=="carousel"){const t=this.progressBarLocation;if(t=="top")return"progressTop";if(t=="bottom")return"progressBottom";if(t=="topBottom")return"progressTopBottom"}return e}set renderMode(e){(e||"").startsWith("progress")?(e=="progressTop"?this.progressBarLocation="top":e=="progressBottom"?this.progressBarLocation="bottom":e=="progressTopBottom"&&(this.progressBarLocation="topBottom"),this.displayMode="carousel"):this.displayMode=e}updatePanelView(){this.blockAnimations(),this.updateRenderedPanels(),this.releaseAnimations(),this.updatePanelsAnimation()}get tabAlign(){return this.getPropertyValue("tabAlign")}set tabAlign(e){this.setPropertyValue("tabAlign",e),this.isRenderModeTab&&(this.tabbedMenu.containerCss=this.getTabbedMenuCss())}get isRenderModeList(){return this.displayMode==="list"||this.isSingleInputActive}get isRenderModeTab(){return this.displayMode==="tab"&&!this.isSingleInputActive}setVisibleIndex(e){if(!this.isVisible)return 0;const t=this.showQuestionNumbers==="onSurvey";let n=t?e:0;const r=this.isDesignMode?[this.template]:this.visiblePanelsCore;for(let s=0;s<r.length;s++){let o=this.setPanelVisibleIndex(r[s],n,this.showQuestionNumbers!="off");t&&(n+=o)}return super.setVisibleIndex(t?-1:e),t?n-e:1}setPanelVisibleIndex(e,t,n){return n?e.setVisibleIndex(t):(e.setVisibleIndex(-1),0)}get canAddPanel(){return this.isDesignMode||!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1&&this.newPanelPosition!=="next"?!1:this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount}get canRemovePanel(){return this.isDesignMode?!1:this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount}rebuildPanels(){if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var e=[];if(this.useTemplatePanel)new YV(this,this.template),e.push(this.template);else for(var t=0;t<this.panelCount;t++)this.createNewPanel(),e.push(this.createNewPanel());this.panelsCore.splice(0,this.panelsCore.length,...e),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}}get defaultPanelValue(){return this.getPropertyValue("defaultPanelValue")}set defaultPanelValue(e){this.setPropertyValue("defaultPanelValue",e)}get copyDefaultValueFromLastEntry(){return this.getPropertyValue("copyDefaultValueFromLastEntry")}set copyDefaultValueFromLastEntry(e){this.setPropertyValue("copyDefaultValueFromLastEntry",e)}get defaultValueFromLastPanel(){return this.copyDefaultValueFromLastEntry}set defaultValueFromLastPanel(e){this.copyDefaultValueFromLastEntry=e}isDefaultValueEmpty(){return super.isDefaultValueEmpty()&&this.isValueEmpty(this.defaultPanelValue)}setDefaultValue(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){super.setDefaultValue();return}if(!(!this.isEmpty()||this.panelCount==0)){for(var e=[],t=0;t<this.panelCount;t++)e.push(this.defaultPanelValue);this.value=e}}get isValueArray(){return!0}isEmpty(){var e=this.value;if(!e||!Array.isArray(e))return!0;for(var t=0;t<e.length;t++)if(!this.isRowEmpty(e[t]))return!1;return!0}getProgressInfo(){return ni.getProgressInfoByElements(this.visiblePanelsCore,this.isRequired)}isRowEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}addPanelUI(){return this.addPanel(void 0,!0)}addPanel(e,t){const n=t===!0;if(n&&(!this.canAddPanel||!this.canLeaveCurrentPanel()))return null;const r=this.addPanelCore(e);return n&&(this.displayMode==="list"&&this.panelsState!=="default"&&r.expand(),this.focusNewPanelCallback=()=>{r==null||r.focusFirstQuestion()},this.isPanelsAnimationRunning||this.focusNewPanel()),r}addPanelCore(e){const t=this.currentIndex;return e===void 0&&(e=t<0?this.panelCount:t+1),(e<0||e>this.panelCount)&&(e=this.panelCount),this.updateValueOnAddingPanel(t<0?this.panelCount-1:t,e),this.isRenderModeList||(this.currentIndex=e),this.notifyOnPanelAddedRemoved(!0,e),this.panelsCore[e]}focusNewPanel(){this.focusNewPanelCallback&&(this.focusNewPanelCallback(),this.focusNewPanelCallback=void 0)}updateValueOnAddingPanel(e,t){this.panelCount++;let n=this.value;if(!Array.isArray(n)||n.length!==this.panelCount)return;let r=!1;const s=this.panelCount-1;if(t<s){r=!0;const o=n[s];n.splice(s,1),n.splice(t,0,o)}if(this.isValueEmpty(this.defaultPanelValue)||(r=!0,this.copyValue(n[t],this.defaultPanelValue)),this.copyDefaultValueFromLastEntry&&n.length>1){const o=e>-1&&e<=s?e:s;r=!0,this.copyValue(n[t],n[o])}r&&(this.value=n)}canLeaveCurrentPanel(){return!(this.displayMode!=="list"&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))}copyValue(e,t){for(var n in t)e[n]=t[n]}getPanelRemoveButtonId(e){return e.id+"_remove_button"}isRequireConfirmOnDelete(e){if(!this.confirmDelete)return!1;const t=this.getVisualPanelIndex(e);if(t<0||t>=this.visiblePanelCount)return!1;const n=this.visiblePanelsCore[t].getValue();return!this.isValueEmpty(n)&&(this.isValueEmpty(this.defaultPanelValue)||!this.isTwoValueEquals(n,this.defaultPanelValue))}goToNextPanel(){return this.currentIndex<0||!this.canLeaveCurrentPanel()?!1:(this.currentIndex++,!0)}goToPrevPanel(){this.currentIndex<0||this.currentIndex--}removePanelUI(e){this.removePanel(e,this.isRequireConfirmOnDelete(e))}removePanel(e,t){const n=this.getVisualPanelIndex(e);if(n<0||n>=this.visiblePanelCount)return;if(t!==void 0){if(!this.canRemovePanel)return;const s=()=>{var o;this.removePanelCore(n);const a=this.visiblePanelCount,l=n>=a?a-1:n;let u=a===0?this.addButtonId:l>-1?this.getPanelRemoveButtonId(this.visiblePanels[l]):"";u&&ni.FocusElement(u,!0,(o=this.survey)===null||o===void 0?void 0:o.rootElement)};t?Z0({message:this.confirmDeleteText,funcOnYes:()=>{s()},locale:this.getLocale(),rootElement:this.survey.rootElement,cssClass:this.cssClasses.confirmDialog}):s()}else this.removePanelCore(n)}removePanelCore(e){this.removedPanelIndex=e;const t=this.visiblePanelsCore[e],n=this.panelsCore.indexOf(t);if(!(n<0)&&!(this.survey&&!this.survey.dynamicPanelRemoving(this,n,t))){this.panelsCore.splice(n,1),this.updateBindings("panelCount",this.panelCount),this.singleInputOnRemoveItem(e);var r=this.value;!r||!Array.isArray(r)||n>=r.length?this.updateFooterActions():(this.isValueChangingInternally=!0,r.splice(n,1),this.value=r,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.notifyOnPanelAddedRemoved(!1,n,t),this.isValueChangingInternally=!1)}}notifyOnPanelAddedRemoved(e,t,n){if(n||(n=this.panelsCore[t]),this.survey){const r=this.showQuestionNumbers==="onSurvey";e?this.survey.dynamicPanelAdded(this,t,n,r):this.survey.dynamicPanelRemoved(this,t,n,r)}e&&n&&this.showQuestionNumbers==="onPanel"&&n.setVisibleIndex(0)}getVisualPanelIndex(e){if(se.isNumber(e))return e;const t=this.visiblePanelsCore;for(var n=0;n<t.length;n++)if(t[n]===e||t[n].data===e)return n;return-1}getPanelVisibleIndexById(e){const t=this.visiblePanelsCore;for(var n=0;n<t.length;n++)if(t[n].id===e)return n;return-1}locStrsChanged(){super.locStrsChanged(),this.locTemplateTitle.strChanged();for(var e=this.panelsCore,t=0;t<e.length;t++)e[t].locStrsChanged();this.tabbedMenu&&this.tabbedMenu.locStrsChanged()}clearIncorrectValues(){for(var e=0;e<this.panelsCore.length;e++)this.clearIncorrectValuesInPanel(e)}clearErrors(){super.clearErrors();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].clearErrors()}getQuestionFromArray(e,t){return t<0||t>=this.panelsCore.length?null:this.panelsCore[t].getQuestionByName(e)}clearIncorrectValuesInPanel(e){var t=this.panelsCore[e];t.clearIncorrectValues();var n=this.value,r=n&&e<n.length?n[e]:null;if(r){var s=!1;for(var o in r)if(!this.getSharedQuestionFromArray(o,e)){var a=t.getQuestionByValueName(o);a||this.iscorrectValueWithPostPrefix(t,o,oe.commentSuffix)||this.iscorrectValueWithPostPrefix(t,o,oe.matrix.totalsSuffix)||(delete r[o],s=!0)}s&&(n[e]=r,this.value=n)}}iscorrectValueWithPostPrefix(e,t,n){return t.indexOf(n)!==t.length-n.length?!1:!!e.getQuestionByName(t.substring(0,t.indexOf(n)))}getSharedQuestionFromArray(e,t){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,t):null}addConditionObjectsByContext(e,t){const n=t!=null&&t.isValidator?t.errorOwner:t,r=!!t&&(t===!0||this.template.questions.indexOf(n)>-1),s=new Array,o=this.template.questions;for(var a=0;a<o.length;a++)o[a].addConditionObjectsByContext(s,t);for(var l=0;l<oe.panel.maxPanelCountInCondition;l++){const u="["+l+"].",c=this.getValueName()+u,h=this.processedTitle+u;for(var a=0;a<s.length;a++)s[a].context?e.push(s[a]):e.push({name:c+s[a].name,text:h+s[a].text,question:s[a].question})}if(r){const u=t===!0?this.getValueName()+".":"",c=t===!0?this.processedTitle+".":"",h=oe.expressionVariables.panel+".";for(var a=0;a<s.length;a++){if(s[a].question==t)continue;const m={name:u+h+s[a].name,text:c+h+s[a].text,question:s[a].question};m.context=this,e.push(m)}}}collectNestedQuestionsCore(e,t,n,r){r&&e.push(this);const s=t?this.visiblePanelsCore:this.panelsCore;Array.isArray(s)&&s.forEach(o=>{o.questions.forEach(a=>a.addNestedQuestion(e,t,n,r))})}getConditionJson(e=null,t=null){if(!t)return super.getConditionJson(e);var n=t,r=t.indexOf(".");r>-1&&(n=t.substring(0,r),t=t.substring(r+1));var s=this.template.getQuestionByName(n);return s?s.getConditionJson(e,t):null}onReadOnlyChanged(){var e=this.isReadOnly;this.template.readOnly=e;for(var t=0;t<this.panelsCore.length;t++)this.panelsCore[t].readOnly=e;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),super.onReadOnlyChanged()}updateNoEntriesTextDefaultLoc(){const e=this.getLocalizableString("noEntriesText");e&&(e.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText")}onSurveyLoad(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.panelCount<this.minPanelCount&&(this.panelCount=this.minPanelCount),this.panelCount>this.maxPanelCount&&(this.panelCount=this.maxPanelCount),this.buildPanelsFirstTime(),super.onSurveyLoad()}buildPanelsFirstTime(e=!1){if(!this.hasPanelBuildFirstTime&&!(!e&&this.wasNotRenderedInSurvey)){if(this.blockAnimations(),this.hasPanelBuildFirstTime=!0,this.isBuildingPanelsFirstTime=!0,this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.data&&this.isValueChangedWithoutPanels&&(this.isValueChangedWithoutPanels=!1,this.runTriggersOnBuildPanelsFirstTime()),this.survey)for(var t=0;t<this.panelCount;t++)this.notifyOnPanelAddedRemoved(!0,t);this.updateIsReady(),this.showAddPanelButton||this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),this.isBuildingPanelsFirstTime=!1,this.releaseAnimations()}}runTriggersOnBuildPanelsFirstTime(){this.value,this.visiblePanelsCore.forEach(e=>{const t=this.getPanelItemData(e.data);if(!se.isValueEmpty(t)){const n=se.createCopyWithPrefix(t,oe.expressionVariables.panel+".");e.questions.forEach(r=>r.runTriggers("",void 0,n))}})}get showAddPanelButton(){return this.allowAddPanel&&!this.isReadOnly}get wasNotRenderedInSurvey(){return!this.hasPanelBuildFirstTime&&!this.wasRendered&&!!this.survey}get canBuildPanels(){return!this.isLoadingFromJson&&!this.useTemplatePanel}onFirstRenderingCore(){super.onFirstRenderingCore(),this.buildPanelsFirstTime(),this.template.onFirstRendering();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].onFirstRendering()}localeChanged(){super.localeChanged();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].localeChanged()}runConditionCore(e){super.runConditionCore(e),this.runPanelsCondition(this.panelsCore,e)}runTriggers(e,t,n){super.runTriggers(e,t,n),this.visiblePanelsCore.forEach(r=>{r.questions.forEach(s=>s.runTriggers(e,t,n))})}reRunCondition(){this.data&&this.runCondition(this.getDataFilteredProperties())}runPanelsCondition(e,t){this.isValueChangingInternally=!0;for(var n=0;n<e.length;n++){const r=e[n],s=oe.expressionVariables.panel,o=se.createCopy(t);o[s]=r,r.runCondition(o),r.isVisible}this.isValueChangingInternally=!1}onAnyValueChanged(e,t){super.onAnyValueChanged(e,t),!this.hasPanelBuildFirstTime&&e===this.getValueName()&&(this.isValueChangedWithoutPanels=!0);for(var n=0;n<this.panelsCore.length;n++)this.panelsCore[n].onAnyValueChanged(e,t),this.panelsCore[n].onAnyValueChanged(oe.expressionVariables.panel,"")}hasKeysDuplicated(e,t=null){for(var n=[],r,s=0;s<this.panelsCore.length;s++)r=this.isValueDuplicated(this.panelsCore[s],n,t,e)||r;return r}updatePanelsContainsErrors(){for(var e=this.changingValueQuestion,t=e.parent;t;)t.updateContainsErrors(),t=t.parent;this.updateContainsErrors()}hasErrors(e=!0,t=null){if(this.isValueChangingInternally||this.isBuildingPanelsFirstTime)return!1;var n=!1;if(this.changingValueQuestion){var n=this.changingValueQuestion.hasErrors(e,t);n=this.hasKeysDuplicated(e,t)||n,this.updatePanelsContainsErrors()}else n=this.hasErrorInPanels(e,t);return super.hasErrors(e,t)||n}getContainsErrors(){var e=super.getContainsErrors();if(e)return e;for(var t=this.panelsCore,n=0;n<t.length;n++)if(t[n].containsErrors)return!0;return!1}getIsAnswered(){if(!super.getIsAnswered())return!1;for(var e=this.visiblePanelsCore,t=0;t<e.length;t++){var n=[];e[t].addQuestionsToList(n,!0);for(var r=0;r<n.length;r++)if(!n[r].isAnswered)return!1}return!0}clearValueOnHidding(e){if(!e){if(this.survey&&this.survey.getQuestionClearIfInvisible("onHidden")==="none")return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}super.clearValueOnHidding(e)}clearValueIfInvisible(e="onHidden"){const t=e==="onHidden"?"onHiddenContainer":e;this.clearValueInPanelsIfInvisible(t),super.clearValueIfInvisible(e)}clearValueInPanelsIfInvisible(e){for(var t=0;t<this.panelsCore.length;t++){const s=this.panelsCore[t];var n=s.questions;this.isSetPanelItemData={};for(var r=0;r<n.length;r++){const o=n[r];o.visible&&!s.isVisible||(o.clearValueIfInvisible(e),this.isSetPanelItemData[o.getValueName()]=this.maxCheckCount+1)}}this.isSetPanelItemData={}}getIsRunningValidators(){if(super.getIsRunningValidators())return!0;for(var e=0;e<this.panelsCore.length;e++)for(var t=this.panelsCore[e].questions,n=0;n<t.length;n++)if(t[n].isRunningValidators)return!0;return!1}getAllErrors(){var e=super.getAllErrors();const t=this.visiblePanelsCore;for(var n=0;n<t.length;n++)for(var r=t[n].questions,s=0;s<r.length;s++){var o=r[s].getAllErrors();o&&o.length>0&&(e=e.concat(o))}return e}getValueGetterContext(){return new S4e(this)}getDisplayValueCore(e,t){var n=this.getUnbindValue(t);if(!n||!Array.isArray(n))return n;for(var r=0;r<this.panelsCore.length&&r<n.length;r++){var s=n[r];s&&(n[r]=this.getPanelDisplayValue(r,s,e))}return n}getPanelDisplayValue(e,t,n){if(!t)return t;for(var r=this.panelsCore[e],s=Object.keys(t),o=0;o<s.length;o++){var a=s[o],l=r.getQuestionByValueName(a);if(l||(l=this.getSharedQuestionFromArray(a,e)),l){var u=l.getDisplayValue(n,t[a]);t[a]=u,n&&l.title&&l.title!==a&&(t[l.title]=u,delete t[a])}}return t}hasErrorInPanels(e,t){for(var n=!1,r=this.visiblePanels,s=[],o=0;o<r.length;o++)this.setOnCompleteAsyncInPanel(r[o]);const a=!!t&&t.focusOnFirstError;for(let l=0;l<r.length;l++){let u=r[l].hasErrors(e,a,t);u=this.isValueDuplicated(r[l],s,t,e)||u,!this.isRenderModeList&&u&&!n&&a&&(this.currentIndex=l),n=u||n}return n}setOnCompleteAsyncInPanel(e){for(var t=e.questions,n=0;n<t.length;n++)t[n].onCompletedAsyncValidators=r=>{this.raiseOnCompletedAsyncValidators()}}isValueDuplicated(e,t,n,r){if(!this.keyName)return!1;var s=e.getQuestionByValueName(this.keyName);if(!s||s.isEmpty())return!1;var o=s.value;this.changingValueQuestion&&s!=this.changingValueQuestion&&s.hasErrors(r,n);for(var a=0;a<t.length;a++)if(o==t[a])return r&&s.addError(new M$(this.keyDuplicationError,this)),n&&!n.firstErrorQuestion&&(n.firstErrorQuestion=s),!0;return t.push(o),!1}getPanelActions(e){let t=e.footerActions;return this.removePanelButtonLocation!=="right"&&t.push(new Xt({id:`remove-panel-${e.id}`,component:"sv-paneldynamic-remove-btn",visible:new Un(()=>[this.canRenderRemovePanel(e,"bottom")].every(n=>n===!0)),data:{question:this,panel:e}})),this.survey&&(t=this.survey.getUpdatedPanelFooterActions(e,t,this)),t}canRenderRemovePanelOnRight(e){return this.canRenderRemovePanel(e,"right")}canRenderRemovePanel(e,t){const n=this.canRemovePanel,r=e.state!=="collapsed";return this.removePanelButtonLocation===t&&n&&r}createNewPanel(){var e=this.createAndSetupNewPanelObject(),t=this.template.toJSON();new Si().toObject(t,e),e.renderWidth="100%",e.updateCustomWidgets(),new YV(this,e),!this.isDesignMode&&!this.isReadOnly&&!this.isValueEmpty(e.getValue())&&this.runPanelsCondition([e],this.getDataFilteredProperties());for(var n=e.questions,r=0;r<n.length;r++)n[r].setParentQuestion(this);return this.wasRendered&&(e.onFirstRendering(),e.locStrsChanged()),e.onGetFooterActionsCallback=()=>this.getPanelActions(e),e.onGetFooterToolbarCssCallback=()=>this.cssClasses.panelFooter,e.registerPropertyChangedHandlers(["visible"],()=>{e.visible?this.onPanelAdded(e):this.onPanelRemoved(e),this.updateFooterActions()}),e}createAndSetupNewPanelObject(){var e=this.createNewPanelObject();return e.isInteractiveDesignElement=!1,e.setParentQuestion(this),e.onGetQuestionTitleLocation=()=>this.getTemplateQuestionTitleLocation(),e.onGetQuestionTitleWidth=()=>this.templateQuestionTitleWidth,e}getTemplateQuestionTitleLocation(){return this.templateQuestionTitleLocation!="default"?this.templateQuestionTitleLocation:this.getTitleLocationCore()}getChildErrorLocation(e){return this.templateErrorLocation!=="default"?this.templateErrorLocation:super.getChildErrorLocation(e)}createNewPanelObject(){return me.createClass("panel")}setPanelCountBasedOnValue(){if(!(this.isValueChangingInternally||this.useTemplatePanel)){var e=this.value,t=e&&Array.isArray(e)?e.length:0;t==0&&this.getPropertyValue("panelCount")>0&&(t=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=t,this.settingPanelCountBasedOnValue=!1}}setQuestionValue(e){if(!this.settingPanelCountBasedOnValue){super.setQuestionValue(e,!1),this.setPanelCountBasedOnValue();for(var t=0;t<this.panelsCore.length;t++)this.panelUpdateValueFromSurvey(this.panelsCore[t]);this.updateIsAnswered()}}onSurveyValueChanged(e){if(!(e===void 0&&this.isAllPanelsEmpty())){super.onSurveyValueChanged(e);for(var t=0;t<this.panelsCore.length;t++)this.panelSurveyValueChanged(this.panelsCore[t]);e===void 0&&this.setValueBasedOnPanelCount(),this.updateIsReady()}}isAllPanelsEmpty(){for(var e=0;e<this.panelsCore.length;e++)if(!se.isValueEmpty(this.panelsCore[e].getValue()))return!1;return!0}panelUpdateValueFromSurvey(e){const t=e.questions;for(var n=this.getPanelItemData(e.data),r=0;r<t.length;r++){const s=t[r];s.updateValueFromSurvey(n[s.getValueName()]),s.updateCommentFromSurvey(n[s.getValueName()+oe.commentSuffix]),s.initDataUI()}}panelSurveyValueChanged(e){for(var t=e.questions,n=this.getPanelItemData(e.data),r=0;r<t.length;r++){var s=t[r];s.onSurveyValueChanged(n[s.getValueName()])}}onSetData(){super.onSetData(),!this.isLoadingFromJson&&this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())}isNewValueCorrect(e){return Array.isArray(e)}getItemIndex(e){var t=this.items.indexOf(e);return t>-1?t:this.items.length}getVisibleItemIndex(e){const t=this.visiblePanelsCore;for(var n=0;n<t.length;n++)if(t[n].data===e)return n;return t.length}getPanelItemData(e){var t=this.items,n=t.indexOf(e),r=this.value;return n<0&&Array.isArray(r)&&r.length>t.length&&(n=t.length),n<0?{}:!r||!Array.isArray(r)||r.length<=n?{}:r[n]}setPanelItemData(e,t,n){if(this.isSetPanelItemData[t]>this.maxCheckCount)return;this.isSetPanelItemData[t]||(this.isSetPanelItemData[t]=0),this.isSetPanelItemData[t]++;var r=this.items,s=r.indexOf(e);s<0&&(s=r.length);var o=this.getUnbindValue(this.value);if((!o||!Array.isArray(o))&&(o=[]),o.length<=s)for(var a=o.length;a<=s;a++)o.push({});o[s]||(o[s]={});const l=o[s][t];this.isValueEmpty(n)?delete o[s][t]:o[s][t]=n,s>=0&&s<this.panelsCore.length&&(this.changingValueQuestion=this.panelsCore[s].getQuestionByValueName(t));const u={panel:e.panel,name:t,panelIndex:s,panelData:o[s],value:n,oldValue:l};this.survey&&this.survey.dynamicPanelItemValueChanging(this,u),this.value=o,this.changingValueQuestion=null,this.survey&&this.survey.dynamicPanelItemValueChanged(this,u),this.isSetPanelItemData[t]--,this.isSetPanelItemData[t]-1&&delete this.isSetPanelItemData[t]}getRootData(){return this.data}getPlainData(e={includeEmpty:!0}){var t=super.getPlainData(e);if(t){t.isNode=!0;const n=Array.isArray(t.data)?[].concat(t.data):[];t.data=this.panels.map((r,s)=>{var o={name:r.name||s,title:r.title||"Panel",value:r.getValue(),displayValue:r.getValue(),getString:a=>typeof a=="object"?JSON.stringify(a):a,isNode:!0,data:r.questions.map(a=>a.getPlainData(e)).filter(a=>!!a)};return(e.calculations||[]).forEach(a=>{o[a.propertyName]=r[a.propertyName]}),o}),t.data=t.data.concat(n)}return t}updateElementCss(e){super.updateElementCss(e);for(var t=0;t<this.panelsCore.length;t++){var n=this.panelsCore[t];n.updateElementCss(e)}}get progressText(){var e=this.visiblePanelCount;return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,e)}get progress(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"}get progressBarAriaLabel(){return ur("progressbar",this.getLocale())}getRootCss(){return new Ie().append(super.getRootCss()).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()}get cssHeader(){const e=this.isRenderModeTab&&!!this.visiblePanelCount;return new Ie().append(super.getCssHeader(this.cssClasses)).append(this.cssClasses.headerTab,this.hasTitleOnTop&&e).toString()}getTabsContainerCss(){return new Ie().append(this.cssClasses.tabsContainer).append(this.cssClasses.tabsContainerWithHeader,this.hasTitleOnTop).toString()}getPanelWrapperCss(e){return new Ie().append(this.cssClasses.panelWrapper,!e||e.visible).append(this.cssClasses.panelWrapperList,this.isRenderModeList).append(this.cssClasses.panelWrapperInRow,this.removePanelButtonLocation==="right").toString()}getPanelRemoveButtonCss(){return new Ie().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,this.removePanelButtonLocation==="right").toString()}getAddButtonCss(){return new Ie().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode",this.displayMode==="list").toString()}getPrevButtonCss(){return new Ie().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()}getNextButtonCss(){return new Ie().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()}get noEntriesText(){return this.getLocalizableStringText("noEntriesText")}set noEntriesText(e){this.setLocalizableStringText("noEntriesText",e)}get locNoEntriesText(){return this.getLocalizableString("noEntriesText")}getShowNoEntriesPlaceholder(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&this.visiblePanelCount===0}needResponsiveWidth(){const e=this.getPanel();return!!(e&&e.needResponsiveWidth())}get hasTabbedMenu(){return this.isRenderModeTab&&this.visiblePanels.length>0}get tabbedMenu(){return this.isRenderModeTab?(this.tabbedMenuValue||(this.tabbedMenuValue=new $C,this.tabbedMenuValue.dotsItem.popupModel.showPointer=!1,this.tabbedMenuValue.dotsItem.popupModel.verticalPosition="bottom",this.tabbedMenuValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.tabbedMenuValue):null}get showFooterToolbar(){return this.footerToolbar&&this._showFooterToolbar}get footerToolbar(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue}get ariaRole(){return"group"}get ariaRequired(){return null}get ariaInvalid(){return null}updateFooterActions(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()}initFooterToolbar(){this.footerToolbarValue=this.createActionContainer();const e=[],t=new Xt({id:"sv-pd-prev-btn",title:this.prevPanelText,action:()=>{this.goToPrevPanel()}}),n=new Xt({id:"sv-pd-next-btn",title:this.nextPanelText,action:()=>{this.goToNextPanel()}}),r=new Xt({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),s=new Xt({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),o=new Xt({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),a=new Xt({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});e.push(t,n,r,s,o,a),this.updateFooterActionsCallback=()=>{const l=this.legacyNavigation,u=this.isRenderModeList,c=this.isMobile,h=!l&&!u;t.visible=h&&this.currentIndex>0,n.visible=h&&this.currentIndex<this.visiblePanelCount-1,n.needSpace=c&&n.visible&&t.visible,r.visible=this.canAddPanel,r.needSpace=this.isMobile&&!n.visible&&t.visible,o.visible=!this.isRenderModeList&&!c,o.needSpace=!l&&!this.isMobile;const f=l&&!u;s.visible=f,a.visible=f,s.needSpace=f},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(e),this.footerToolbar.flushUpdates(),this._showFooterToolbar=new Un(()=>{var l;return(l=this.footerToolbarValue)===null||l===void 0?void 0:l.hasVisibleActions})}createTabByPanel(e,t){if(!this.isRenderModeTab)return;const n=new Ar(e,!0);n.onGetTextCallback=a=>{if(a||(a=this.locTabTitlePlaceholder.renderedHtml),!this.survey)return a;const l={title:a,panel:e,visiblePanelIndex:t};return this.survey.dynamicPanelGetTabTitle(this,l),l.title},n.sharedData=this.locTemplateTabTitle;const r=e.id,s=this.getPanelVisibleIndexById(r)===this.currentIndex;return new T4e({id:`${this.id}_tab_${r}`,panelId:r,pressed:s,locTitle:n,disableHide:s,action:()=>{this.currentIndex=this.getPanelVisibleIndexById(r)}})}getTabbedMenuCss(e){const t=e??this.cssClasses;return new Ie().append(t.tabsRoot).append(t.tabsLeft,this.tabAlign==="left").append(t.tabsRight,this.tabAlign==="right").append(t.tabsCenter,this.tabAlign==="center").toString()}updateTabToolbarItemsPressedState(){if(!this.isRenderModeTab||this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)return;const e=this.visiblePanelsCore[this.currentIndex];this.tabbedMenu.actions.forEach(t=>{const n=t.panelId===e.id;t.pressed=n,t.disableHide=n})}updateTabToolbar(){if(!this.isRenderModeTab)return;const e=[],t=this.visiblePanelsCore;for(let n=0;n<t.length;n++)this.visiblePanelsCore.forEach(r=>e.push(this.createTabByPanel(t[n],n)));this.tabbedMenu.setItems(e)}addTabFromToolbar(e,t){if(!this.isRenderModeTab)return;const n=this.createTabByPanel(e,t);this.tabbedMenu.actions.splice(t,0,n),this.updateTabToolbarItemsPressedState()}removeTabFromToolbar(e){if(!this.isRenderModeTab)return;const t=this.tabbedMenu.actions.find(n=>n.panelId==e.id);t&&(this.tabbedMenu.actions.splice(this.tabbedMenu.actions.indexOf(t),1),this.updateTabToolbarItemsPressedState())}get showNavigation(){return this.isReadOnly&&this.visiblePanelCount==1?!1:this.visiblePanelCount>0&&!!this.cssClasses.footer}showSeparator(e){return this.isRenderModeList&&e<this.renderedPanels.length-1}calcCssClasses(e){const t=super.calcCssClasses(e),n=this.tabbedMenu;return n&&(n.containerCss=this.getTabbedMenuCss(t),n.cssClasses=t.tabs,n.dotsItem.cssClasses=t.tabs,n.dotsItem.popupModel.contentComponentData.model.cssClasses=e.list),t}onMobileChanged(){super.onMobileChanged(),this.updateFooterActions()}}Ou.maxCheckCount=3;W([rs({})],Ou.prototype,"_renderedPanels",void 0);W([G({onSet:(i,e)=>{e.fireCallback(e.renderModeChangedCallback),e.updatePanelView()}})],Ou.prototype,"displayMode",void 0);W([G({onSet:(i,e)=>{e.fireCallback(e.currentIndexChangedCallback)}})],Ou.prototype,"showProgressBar",void 0);W([G({onSet:(i,e)=>{}})],Ou.prototype,"progressBarLocation",void 0);W([G({defaultValue:!1})],Ou.prototype,"_showFooterToolbar",void 0);W([G({defaultValue:!1,onSet:(i,e)=>{e.updateFooterActions()}})],Ou.prototype,"legacyNavigation",void 0);me.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:i=>i.displayMode==="tab"},{name:"tabTitlePlaceholder",serializationProperty:"locTabTitlePlaceholder",visibleIf:i=>i.displayMode==="tab"},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:()=>"auto"},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"newPanelPosition",choices:["next","last"],default:"last",category:"layout"},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",defaultFunc:()=>oe.panel.maxPanelCount},"defaultPanelValue:panelvalue",{name:"copyDefaultValueFromLastEntry:boolean",alternativeName:"defaultValueFromLastPanel"},{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"],visibleIf:i=>i.displayMode==="list"},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText",visibleIf:i=>i.confirmDelete},{name:"addPanelText",alternativeName:"panelAddText",serializationProperty:"locAddPanelText",visibleIf:i=>i.allowAddPanel},{name:"removePanelText",alternativeName:"panelRemoveText",serializationProperty:"locRemovePanelText",visibleIf:i=>i.allowRemovePanel},{name:"prevPanelText",alternativeName:"panelPrevText",serializationProperty:"locPrevPanelText",visibleIf:i=>i.displayMode!=="list"},{name:"nextPanelText",alternativeName:"panelNextText",serializationProperty:"locNextPanelText",visibleIf:i=>i.displayMode!=="list"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"renderMode",visible:!1,isSerializable:!1},{name:"displayMode",default:"list",choices:["list","carousel","tab"]},{name:"showProgressBar:boolean",alternativeName:"showRangeInProgress",default:!0,visibleIf:i=>i.displayMode==="carousel"},{name:"progressBarLocation",default:"top",choices:["top","bottom","topBottom"],visibleIf:i=>i.showProgressBar&&i.displayMode==="carousel"},{name:"tabAlign",default:"center",choices:["left","center","right"],visibleIf:i=>i.displayMode==="tab"},{name:"templateQuestionTitleLocation",alternativeName:"questionTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateQuestionTitleWidth",visibleIf:function(i){return!!i&&i.template.availableQuestionTitleWidth()}},{name:"templateErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"removePanelButtonLocation",alternativeName:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"],visibleIf:i=>i.allowRemovePanel}],function(){return new Ou("")},"question");Fn.Instance.registerQuestion("paneldynamic",i=>new Ou(i));class ZV{static getProgressTextInBarCss(e){return new Ie().append(e.progressText).append(e.progressTextInBar).toString()}static getProgressTextUnderBarCss(e){return new Ie().append(e.progressText).append(e.progressTextUnderBar).toString()}}class Ta extends Ut{static get operators(){return Ta.operatorsValue!=null||(Ta.operatorsValue={empty:function(e,t){return!e},notempty:function(e,t){return!!e},equal:function(e,t){return e==t},notequal:function(e,t){return e!=t},contains:function(e,t){return e&&e.indexOf&&e.indexOf(t)>-1},notcontains:function(e,t){return!e||!e.indexOf||e.indexOf(t)==-1},greater:function(e,t){return e>t},less:function(e,t){return e<t},greaterorequal:function(e,t){return e>=t},lessorequal:function(e,t){return e<=t}}),Ta.operatorsValue}constructor(){super(),this.idValue=Ta.idCounter++,this.registerPropertyChangedHandlers(["operator","value","name"],()=>{this.oldPropertiesChanged()}),this.registerPropertyChangedHandlers(["expression"],()=>{this.onExpressionChanged()})}get id(){return this.idValue}getType(){return"triggerbase"}toString(){var e=this.getType().replace("trigger",""),t=this.expression?this.expression:this.buildExpression();return t&&(e+=", "+t),e}get isInternal(){return this.isGhost===!0}get operator(){return this.getPropertyValue("operator","equal")}set operator(e){e&&(e=e.toLowerCase(),Ta.operators[e]&&this.setPropertyValue("operator",e))}get value(){return this.getPropertyValue("value",null)}set value(e){this.setPropertyValue("value",e)}get name(){return this.getPropertyValue("name","")}set name(e){this.setPropertyValue("name",e)}get expression(){return this.getPropertyValue("expression","")}set expression(e){this.setPropertyValue("expression",e)}canBeExecuted(e){return!0}canBeExecutedOnComplete(){return!1}checkExpression(e){if(this.isExecutingOnNextPage=e.isOnNextPage,this.isExecutingOnNavigation=e.isOnNavigation||e.isOnNextPage,!this.canBeExecuted(e.isOnNextPage)||e.isOnComplete&&!this.canBeExecutedOnComplete()||!this.isCheckRequired(e.keys))return;const t=Object.keys(e.keys);Array.isArray(t)&&!this.canBeExecuteOnKeysChange(t)||(this.conditionRunner?this.perform(e.properties||null):this.canSuccessOnEmptyExpression()&&this.triggerResult(!0,e.properties||null))}canBeExecuteOnKeysChange(e){return!0}canSuccessOnEmptyExpression(){return!1}check(e){var t=Ta.operators[this.operator](e,this.value);t?this.onSuccess(null):this.onFailure()}get requireValidQuestion(){return!1}perform(e){this.conditionRunner.onRunComplete=t=>{this.triggerResult(t,e)},this.conditionRunner.runContext(this.getValueGetterContext(),e)}triggerResult(e,t){e?(this.onSuccess(t),this.onSuccessExecuted()):this.onFailure()}onSuccess(e){}onFailure(){}onSuccessExecuted(){}endLoadingFromJson(){super.endLoadingFromJson(),this.oldPropertiesChanged()}oldPropertiesChanged(){this.onExpressionChanged()}onExpressionChanged(){this.conditionRunner=null}buildExpression(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+vn.toOperandString(this.value)}isCheckRequired(e){return e?(this.createConditionRunner(),this.conditionRunner&&this.conditionRunner.hasFunction()===!0?!0:new Ec().isAnyKeyChanged(e,this.getUsedVariables())):!1}getUsedVariables(){if(!this.conditionRunner)return[];const e=this.conditionRunner.getVariables();if(Array.isArray(e)){const t=oe.expressionVariables.unwrapPostfix;for(let n=e.length-1;n>=0;n--){const r=e[n];r.endsWith(t)&&e.push(r.substring(0,r.length-t.length))}}return e}createConditionRunner(){if(!this.conditionRunner){var e=this.expression;e||(e=this.buildExpression()),e&&(this.conditionRunner=new Do(e))}}get isRequireValue(){return this.operator!=="empty"&&this.operator!="notempty"}}Ta.idCounter=1;Ta.operatorsValue=null;class qp extends Ta{constructor(){super(),this.ownerValue=null}get owner(){return this.ownerValue}setOwner(e){this.ownerValue=e}getSurvey(e=!1){return this.owner&&this.owner.getSurvey?this.owner.getSurvey():null}isRealExecution(){return!0}onSuccessExecuted(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)}}class P4e extends qp{constructor(){super(),this.pages=[],this.questions=[]}getType(){return"visibletrigger"}onSuccess(e){this.onTrigger(this.onItemSuccess)}onFailure(){this.onTrigger(this.onItemFailure)}onTrigger(e){if(this.owner)for(var t=this.owner.getObjects(this.pages,this.questions),n=0;n<t.length;n++)e(t[n])}onItemSuccess(e){e.visible=!0}onItemFailure(e){e.visible=!1}}class R4e extends qp{constructor(){super()}getType(){return"completetrigger"}get requireValidQuestion(){return!0}isRealExecution(){return!oe.triggers.executeCompleteOnValueChanged===this.isExecutingOnNavigation}onSuccess(e){this.owner&&(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))}onFailure(){this.owner.canBeCompleted(this,!1)}}class k4e extends qp{constructor(){super()}getType(){return"setvaluetrigger"}canBeExecuted(e){return!e&&!!this.setToName}canBeExecuteOnKeysChange(e){return e.length===1&&e[0]===this.setToName?!1:super.canBeExecuteOnKeysChange(e)}onPropertyValueChanged(e,t,n){if(super.onPropertyValueChanged(e,t,n),e==="setToName"){var r=this.getSurvey();r&&!r.isLoadingFromJson&&r.isDesignMode&&(this.setValue=void 0)}}get setToName(){return this.getPropertyValue("setToName","")}set setToName(e){this.setPropertyValue("setToName",e)}get setValue(){return this.getPropertyValue("setValue")}set setValue(e){this.setPropertyValue("setValue",e)}get isVariable(){return this.getPropertyValue("isVariable")}set isVariable(e){this.setPropertyValue("isVariable",e)}onSuccess(e){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,se.getUnbindValue(this.setValue),this.isVariable)}}class A4e extends qp{constructor(){super()}getType(){return"skiptrigger"}get requireValidQuestion(){return this.canBeExecuted(!1)}get gotoName(){return this.getPropertyValue("gotoName","")}set gotoName(e){this.setPropertyValue("gotoName",e)}canBeExecuted(e){return e===!oe.triggers.executeSkipOnValueChanged}onSuccess(e){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)}}class V4e extends qp{constructor(){super()}getType(){return"runexpressiontrigger"}get setToName(){return this.getPropertyValue("setToName","")}set setToName(e){this.setPropertyValue("setToName",e)}get runExpression(){return this.getPropertyValue("runExpression","")}set runExpression(e){this.setPropertyValue("runExpression",e)}canBeExecuted(e){return!e}onSuccess(e){if(!(!this.owner||!this.runExpression)){var t=new y5(this.runExpression);t.canRun&&(t.onRunComplete=n=>{this.onCompleteRunExpression(n)},t.runContext(this.getValueGetterContext(),e))}}onCompleteRunExpression(e){this.setToName&&e!==void 0&&this.owner.setTriggerValue(this.setToName,se.convertValToQuestionVal(e),!1)}}class L4e extends qp{constructor(){super()}canBeExecuted(e){return!e&&!!this.setToName&&!!this.fromName}get setToName(){return this.getPropertyValue("setToName","")}set setToName(e){this.setPropertyValue("setToName",e)}get fromName(){return this.getPropertyValue("fromName","")}set fromName(e){this.setPropertyValue("fromName",e)}get copyDisplayValue(){return this.getPropertyValue("copyDisplayValue")}set copyDisplayValue(e){this.setPropertyValue("copyDisplayValue",e)}getType(){return"copyvaluetrigger"}canBeExecuteOnKeysChange(e){return e.length===1&&e[0]===this.setToName?!1:super.canBeExecuteOnKeysChange(e)}onSuccess(e){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)}canSuccessOnEmptyExpression(){return!0}getUsedVariables(){const e=super.getUsedVariables();return e.length===0&&this.fromName&&e.push(this.fromName),e}}me.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]);me.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger");me.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new P4e},"surveytrigger");me.addClass("completetrigger",[],function(){return new R4e},"surveytrigger");me.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(i){return!!i&&!!i.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new k4e},"surveytrigger");me.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new L4e},"surveytrigger");me.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new A4e},"surveytrigger");me.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new V4e},"surveytrigger");class dB extends Ut{constructor(e,t=null){super(),this.closeOnCompleteTimeout=0,t?this.surveyValue=t:this.surveyValue=this.createSurvey(e),this.surveyValue.fitToContainer=!0,this.windowElement=St.createElement("div"),this.survey.onComplete.add((n,r)=>{this.onSurveyComplete()}),this.registerPropertyChangedHandlers(["isShowing"],()=>{this.showingChangedCallback&&this.showingChangedCallback()}),this.registerPropertyChangedHandlers(["isExpanded"],()=>{this.onExpandedChanged()}),this.width=new Un(()=>this.survey.width),this.width=this.survey.width,this.updateCss(),this.onCreating()}onCreating(){}getType(){return"popupsurvey"}get survey(){return this.surveyValue}get isShowing(){return this.getPropertyValue("isShowing",!1)}set isShowing(e){this.setPropertyValue("isShowing",e)}get isFullScreen(){return this.getPropertyValue("isFullScreen",!1)}set isFullScreen(e){!this.isExpanded&&e&&(this.isExpanded=!0),this.setPropertyValue("isFullScreen",e),this.setCssRoot()}show(){this.isShowing=!0}hide(){this.isShowing=!1}toggleFullScreen(){this.isFullScreen=!this.isFullScreen}get isExpanded(){return this.getPropertyValue("isExpanded",!1)}set isExpanded(e){this.isFullScreen&&!e&&(this.isFullScreen=!1),this.setPropertyValue("isExpanded",e)}get isCollapsed(){return!this.isExpanded}onExpandedChanged(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()}get title(){return this.survey.title}set title(e){this.survey.title=e}get locTitle(){return this.survey.locTitle.isEmpty?null:this.survey.locTitle}get locDescription(){return this.survey.locTitle.isEmpty?null:this.survey.locDescription}expand(){this.isExpanded=!0}collapse(){this.isExpanded=!1}changeExpandCollapse(){this.isExpanded=!this.isExpanded}get allowClose(){return this.getPropertyValue("allowClose",!1)}set allowClose(e){this.setPropertyValue("allowClose",e)}get allowFullScreen(){return this.getPropertyValue("allowFullScreen",!1)}set allowFullScreen(e){this.setPropertyValue("allowFullScreen",e)}get css(){return this.survey.css}get cssButton(){return this.getPropertyValue("cssButton","")}get cssRoot(){let e=this.getPropertyValue("cssRoot","");return this.isCollapsed&&(e+=" "+this.getPropertyValue("cssRootCollapsedMod","")),e}get cssRootCollapsedMod(){return this.getPropertyValue("cssRootCollapsedMod")}get cssRootContent(){return this.getPropertyValue("cssRootContent")}get cssBody(){return this.getPropertyValue("cssBody","")}get cssHeaderRoot(){return this.getPropertyValue("cssHeaderRoot","")}get cssHeaderTitleCollapsed(){return this.getPropertyValue("cssHeaderTitleCollapsed","")}get cssHeaderButtonsContainer(){return this.getPropertyValue("cssHeaderButtonsContainer","")}get cssHeaderCollapseButton(){return this.getPropertyValue("cssHeaderCollapseButton","")}get cssHeaderCloseButton(){return this.getPropertyValue("cssHeaderCloseButton","")}get cssHeaderFullScreenButton(){return this.getPropertyValue("cssHeaderFullScreenButton","")}get renderedWidth(){let e=this.getPropertyValue("width","60%");return e&&!isNaN(e)&&(e=e+"px"),e}updateCss(){if(!this.css||!this.css.window)return;const e=this.css.window;this.setCssRoot(),this.setPropertyValue("cssRootCollapsedMod",e.rootCollapsedMod),this.setPropertyValue("cssRootContent",e.rootContent),this.setPropertyValue("cssBody",e.body);const t=e.header;t&&(this.setPropertyValue("cssHeaderRoot",t.root),this.setPropertyValue("cssHeaderTitleCollapsed",t.titleCollapsed),this.setPropertyValue("cssHeaderButtonsContainer",t.buttonsContainer),this.setPropertyValue("cssHeaderCollapseButton",t.collapseButton),this.setPropertyValue("cssHeaderCloseButton",t.closeButton),this.setPropertyValue("cssHeaderFullScreenButton",t.fullScreenButton),this.updateCssButton())}setCssRoot(){const e=this.css.window;this.isFullScreen?this.setPropertyValue("cssRoot",e.root+" "+e.rootFullScreenMode):this.setPropertyValue("cssRoot",e.root)}updateCssButton(){const e=this.css.window?this.css.window.header:null;e&&this.setCssButton(this.isExpanded?e.buttonExpanded:e.buttonCollapsed)}setCssButton(e){e&&this.setPropertyValue("cssButton",e)}createSurvey(e){return new gn(e)}onSurveyComplete(){if(!(this.closeOnCompleteTimeout<0))if(this.closeOnCompleteTimeout==0)this.hide();else{var e=this,t=null,n=function(){e.hide(),clearInterval(t)};t=setInterval(n,this.closeOnCompleteTimeout*1e3)}}onScroll(){this.survey.onScroll()}}W([G()],dB.prototype,"width",void 0);class O4e{constructor(){this._lockScroll=!1}setRootElement(e){this._containerElementValue=e==null?void 0:e.querySelector(".sv-scroll__scroller"),this._scrollbarElement=e==null?void 0:e.querySelector(".sv-scroll__scrollbar"),this._scrollbarSizerElement=e==null?void 0:e.querySelector(".sv-scroll__scrollbar-sizer"),this._containerBodyElement=e==null?void 0:e.querySelector(".sv-scroll__container"),!(!e||!Bt.isAvailable())&&(this._containerBodyResizeObserver=new ResizeObserver(t=>{for(let n of t){const r=n.contentBoxSize?n.contentBoxSize[0].blockSize:n.contentRect.width;this._scrollbarSizerElement.style.height=r+"px"}this.onInnerHeightChanged&&this.onInnerHeightChanged(this._containerBodyElement.clientHeight>this._containerElementValue.clientHeight)}),this._containerBodyResizeObserver.observe(this._containerBodyElement))}onScrollContainer(){this._lockScroll=!0,this._scrollbarElement.scrollTop=this._containerElementValue.scrollTop}onScrollScrollbar(){if(this._lockScroll){this._lockScroll=!1;return}this._containerElementValue.scrollTop=this._scrollbarElement.scrollTop}unsubscribeRootElement(){this._containerBodyResizeObserver&&(this._containerBodyResizeObserver.disconnect(),this._containerBodyResizeObserver=void 0)}}const XV='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])';class Du extends Ut{updateIsVisible(e){this._isVisible=e,this.onVisibilityChanged.fire(this,{isVisible:e})}updateBeforeShowing(){this.model.onShow()}updateAfterHiding(){this.model.onHiding()}getLeaveOptions(){return{cssClass:"sv-popup--leave",onBeforeRunAnimation:e=>{e.setAttribute("inert","")},onAfterRunAnimation:e=>e.removeAttribute("inert")}}getEnterOptions(){return{cssClass:"sv-popup--enter"}}getAnimatedElement(){return this.getAnimationContainer()}isAnimationEnabled(){return this.model.displayMode!=="overlay"&&oe.animationEnabled}getRerenderEvent(){return this.onElementRerendered}getAnimationContainer(){var e;return(e=this.container)===null||e===void 0?void 0:e.querySelector(this.fixedPopupContainer)}get isVisible(){return this._isVisible}set isVisible(e){this.visibilityAnimation.sync(e)}get container(){return this.containerElement||this.createdContainer}getLocale(){return this.locale?this.locale:super.getLocale()}hidePopup(){this.model.isVisible=!1}getStyleClass(){return new Ie().append(this.model.cssClass)}getShowFooter(){return this.isOverlay}getShowHeader(){return!1}getPopupHeaderTemplate(){}createFooterActionBar(){this.footerToolbarValue=new wr}resetDimensionsAndPositionStyleProperties(){const e="";this.top=e,this.left=e,this.height=e,this.width=e,this.minWidth=e}onModelChanging(e){}setupModel(e){this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.onModelChanging(e),this._model=e,e.onVisibilityChanged.add(this.onModelIsVisibleChangedCallback),this.onModelIsVisibleChangedCallback()}get model(){return this._model}set model(e){this.setupModel(e)}constructor(e){super(),this.popupSelector=".sv-popup",this.fixedPopupContainer=".sv-popup",this.containerSelector=".sv-popup__container",this.scrollingContentSelector=".sv-popup__scrolling-content",this.visibilityAnimation=new V$(this,t=>{this._isVisible!==t&&(t?(this.updateBeforeShowing(),this.updateIsVisible(t)):(this.updateOnHiding(),this.updateIsVisible(t),this.updateAfterHiding(),this._isPositionSetValue=!1))},()=>this._isVisible),this.onVisibilityChanged=new Na,this.onModelIsVisibleChangedCallback=()=>{this.isVisible=this.model.isVisible},this._isPositionSetValue=!1,this.model=e,this.locale=this.model.locale}get title(){return this.model.title}get contentComponentName(){return this.model.contentComponentName}get contentComponentData(){return this.model.contentComponentData}get isModal(){return this.model.isModal}get isFocusedContent(){return this.model.isFocusedContent}get isFocusedContainer(){return this.model.isFocusedContainer}get showFooter(){return this.getShowFooter()}get showHeader(){return this.getShowHeader()}get popupHeaderTemplate(){return this.getPopupHeaderTemplate()}get isOverlay(){return this.model.displayMode==="overlay"}get styleClass(){return this.getStyleClass().toString()}get cancelButtonText(){return this.getLocalizationString("modalCancelButtonText")}get footerToolbar(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue}onKeyDown(e){e.key==="Tab"||e.keyCode===9?this.trapFocus(e):(e.key==="Escape"||e.keyCode===27)&&this.hidePopup()}trapFocus(e){const t=this.container.querySelectorAll(XV),n=t[0],r=t[t.length-1];e.shiftKey?oe.environment.root.activeElement===n&&(r.focus(),e.preventDefault()):oe.environment.root.activeElement===r&&(n.focus(),e.preventDefault())}switchFocus(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()}get isPositionSet(){return this._isPositionSetValue}updateOnShowing(){this.prevActiveElement=oe.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus(),this._isPositionSetValue=!0}updateOnHiding(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus({preventScroll:!0})}focusContainer(){if(!this.container)return;const e=this.container.querySelector(this.popupSelector);e==null||e.focus()}focusFirstInput(){setTimeout(()=>{if(this.container){var e=this.container.querySelector(this.model.focusFirstInputSelector||XV);e?e.focus():this.focusContainer()}},100)}clickOutside(e){this.hidePopup(),e==null||e.stopPropagation()}cancel(){this.model.onCancel(),this.hidePopup()}dispose(){super.dispose(),this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose(),this.resetComponentElement()}initializePopupContainer(){if(!this.container){const e=St.createElement("div");this.createdContainer=e,jPe(oe.environment.popupMountContainer).appendChild(e)}}setComponentElement(e){e&&(this.containerElement=e)}resetComponentElement(){this.containerElement=void 0,this.prevActiveElement=void 0}preventScrollOuside(e,t){let n=e.target;for(;n!==this.container;){if(St.getComputedStyle(n).overflowY==="auto"&&n.scrollHeight!==n.offsetHeight){const{scrollHeight:r,scrollTop:s,clientHeight:o}=n;if(!(t>0&&Math.abs(r-o-s)<1)&&!(t<0&&s<=0))return}n=n.parentElement}e.cancelable&&e.preventDefault()}}W([G({defaultValue:"0px"})],Du.prototype,"top",void 0);W([G({defaultValue:"0px"})],Du.prototype,"left",void 0);W([G({defaultValue:"auto"})],Du.prototype,"height",void 0);W([G({defaultValue:"auto"})],Du.prototype,"width",void 0);W([G({defaultValue:"auto"})],Du.prototype,"minWidth",void 0);W([G({defaultValue:!1})],Du.prototype,"_isVisible",void 0);W([G()],Du.prototype,"locale",void 0);class T2{constructor(e,t,n,r){this.x=e,this.y=t,this.width=n,this.height=r}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}}class ll{static calculatePosition(e,t,n,r,s,o="flex"){let a=e.left,l=e.top;return o==="flex"&&(s=="center"?a=(e.left+e.right-n)/2:s=="left"?a=e.left-n:a=e.right),r=="middle"?l=(e.top+e.bottom-t)/2:r=="top"?l=e.top-t:l=e.bottom,s!="center"&&r!="middle"&&(r=="top"?l=l+e.height:l=l-e.height),{left:Math.round(a),top:Math.round(l)}}static getCorrectedVerticalDimensions(e,t,n,r,s=!0,o={top:0,bottom:0}){let a;const l=n-ll.bottomIndent;if(r==="top"&&(a={height:t,top:e}),e<-o.top)a={height:s?t+e:t,top:-o.top};else if(t+e>n){let u=Math.min(t,l-e);a={height:s?u:t,top:s?e:e-(t-u)}}return a&&(a.height=Math.min(a.height,l),a.top=Math.max(a.top,-o.top)),a}static updateHorizontalDimensions(e,t,n,r,s="flex",o={left:0,right:0}){t+=o.left+o.right;let a,l=e;return r==="center"&&(s==="fixed"?(e+t>n&&(a=n-e),l-=o.left):e<0?(l=o.left,a=Math.min(t,n)):t+e>n&&(l=n-t,l=Math.max(l,o.left),a=Math.min(t,n))),r==="left"&&e<0&&(l=o.left,a=Math.min(t,n)),r==="right"&&t+e>n&&(a=n-e),{width:a-o.left-o.right,left:l}}static updateVerticalPosition(e,t,n,r,s){if(r==="middle")return r;let o=t-(e.top+(n!=="center"?e.height:0)),a=t+e.bottom-(n!=="center"?e.height:0)-s;return o>0&&a<=0&&r=="top"?r="bottom":a>0&&o<=0&&r=="bottom"?r="top":a>0&&o>0&&(r=o<a?"top":"bottom"),r}static updateHorizontalPosition(e,t,n,r){if(n==="center")return n;let s=t-e.left,o=t+e.right-r;return s>0&&o<=0&&n=="left"?n="right":o>0&&s<=0&&n=="right"?n="left":o>0&&s>0&&(n=s<o?"left":"right"),n}static calculatePopupDirection(e,t){var n;return t=="center"&&e!="middle"?n=e:t!="center"&&(n=t),n}static calculatePointerTarget(e,t,n,r,s,o=0,a=0){var l={};return s!="center"?(l.top=e.top+e.height/2,l.left=e[s]):r!="middle"&&(l.top=e[r],l.left=e.left+e.width/2),l.left=Math.round(l.left-n),l.top=Math.round(l.top-t),s=="left"&&(l.left-=o+a),s==="center"&&(l.left-=o),l}}ll.bottomIndent=16;class ew extends Du{createFooterActionBar(){super.createFooterActionBar(),this.footerToolbar.setCssClasses({root:$a.root,defaultSizeMode:$a.defaultSizeMode,smallSizeMode:$a.smallSizeMode,item:"sd-action sv-menu-popup__button"},!1),this.footerToolbar.containerCss="sv-menu-footer-action-bar";let e=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel",action:()=>{this.cancel()}}];e=this.model.updateFooterActions(e),this.footerToolbarValue.setItems(e)}getAvailableAreaRect(){const e=this.model.getAreaCallback?this.model.getAreaCallback(this.container):void 0;if(e){const t=e.getBoundingClientRect();return new T2(t.x,t.y,t.width,t.height)}return new T2(0,0,Bt.getInnerWidth(),Bt.getInnerHeight())}getTargetElementRect(e){const t=this.container;let n=this.model.getTargetCallback?this.model.getTargetCallback(t):void 0;if(t&&t.parentElement&&!this.isModal&&!n&&(n=t.parentElement),!n)return null;const r=n.getBoundingClientRect();return new T2(r.left-e.left,r.top-e.top,r.width,r.height)}_updatePosition(){var e,t,n;const r=this.getAvailableAreaRect(),s=this.getTargetElementRect(r);if(!s)return;const o=(e=this.container)===null||e===void 0?void 0:e.querySelector(this.containerSelector);if(!o)return;const a=(t=this.container)===null||t===void 0?void 0:t.querySelector(this.fixedPopupContainer),l=o.querySelector(this.scrollingContentSelector),u=St.getComputedStyle(o),c=parseFloat(u.marginLeft)||0,h=parseFloat(u.marginRight)||0,f=parseFloat(u.marginTop)||0,m=parseFloat(u.marginBottom)||0;let b=o.offsetHeight-l.offsetHeight+l.scrollHeight;const _=o.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=s.width+"px");let E=this.model.verticalPosition,k=this.getActualHorizontalPosition();if(Bt.isAvailable()){const M=[b,Bt.getInnerHeight()*.9,(n=Bt.getVisualViewport())===null||n===void 0?void 0:n.height];b=Math.ceil(Math.min(...M.filter(q=>typeof q=="number"))),E=ll.updateVerticalPosition(s,b,this.model.horizontalPosition,this.model.verticalPosition,r.height),k=ll.updateHorizontalPosition(s,_,k,r.width)}this.popupDirection=ll.calculatePopupDirection(E,k);const j=ll.calculatePosition(s,b,_+c+h,E,k,this.model.positionMode);if(Bt.isAvailable()){const M=ll.getCorrectedVerticalDimensions(j.top,b,r.height,E,this.model.canShrink,{top:f,bottom:m});if(M&&(this.height=M.height+"px",j.top=M.top),this.model.setWidthByTarget)this.width=s.width+"px",j.left=s.left;else{const q=ll.updateHorizontalDimensions(j.left,_,Bt.getInnerWidth(),k,this.model.positionMode,{left:c,right:h});q&&(this.width=q.width?q.width+"px":void 0,j.left=q.left)}}if(a){const M=a.getBoundingClientRect();j.top-=M.top,j.left-=M.left}this.showHeader&&(this.pointerTarget=ll.calculatePointerTarget(s,j.top,j.left,E,k,c,h),this.pointerTarget.top+="px",this.pointerTarget.left+="px"),j.left+=r.left,j.top+=r.top,this.left=j.left+"px",this.top=j.top+"px"}getActualHorizontalPosition(){let e=this.model.horizontalPosition;return St.isAvailable()&&St.getComputedStyle(St.getBody()).direction=="rtl"&&(this.model.horizontalPosition==="left"?e="right":this.model.horizontalPosition==="right"&&(e="left")),e}getStyleClass(){const e=this.model.getDisplayMode();return super.getStyleClass().append("sv-popup--menu-phone",e==="menu-overlay").append("sv-popup--menu-tablet",e==="menu-popup-overlay").append("sv-popup--menu-popup",e==="menu-popup").append("sv-popup--show-pointer",e==="menu-popup"&&this.showHeader).append(`sv-popup--${this.popupDirection}`,e==="menu-popup"&&(this.showHeader||this.popupDirection=="top"||this.popupDirection=="bottom"))}getShowHeader(){return this.model.showPointer&&!this.isOverlay}getPopupHeaderTemplate(){return"popup-pointer"}constructor(e){super(e),this.scrollEventCallBack=t=>{if(this.isOverlay&&Gi){t.stopPropagation(),t.preventDefault();return}this.hidePopup()},this.resizeEventCallback=()=>{if(!Bt.isAvailable())return;const t=Bt.getVisualViewport(),n=St.getDocumentElement();n&&t&&n.style.setProperty("--sv-popup-overlay-height",`${t.height*t.scale}px`)},this.resizeWindowCallback=()=>{this.isOverlay||this.updatePosition(!0,gn.platform==="vue"||gn.platform==="vue3"||gn.platform=="react"||gn.platform=="js-ui")},this.clientY=0,this.touchStartEventCallback=t=>{this.clientY=t.touches[0].clientY},this.touchMoveEventCallback=t=>{this.preventScrollOuside(t,this.clientY-t.changedTouches[0].clientY)},this.model.onRecalculatePosition.add(this.recalculatePositionHandler)}setComponentElement(e){super.setComponentElement(e)}resetComponentElement(){super.resetComponentElement()}updateOnShowing(){const{root:e}=oe.environment;this.prevActiveElement=e.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),Bt.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(Bt.getVisualViewport().addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.resizeEventCallback()),Bt.addEventListener("scroll",this.scrollEventCallBack),this._isPositionSetValue=!0}get shouldCreateResizeCallback(){return!!Bt.getVisualViewport()&&this.isOverlay}updatePosition(e,t=!0){e&&(this.height="auto"),t?setTimeout(()=>{this._updatePosition()},1):this._updatePosition()}updateOnHiding(){super.updateOnHiding(),Bt.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(Bt.getVisualViewport().removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),Bt.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)}onModelChanging(e){this.model&&this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler||(this.recalculatePositionHandler=(t,n)=>{this.isOverlay||this.updatePosition(n.isResetHeight)}),super.onModelChanging(e),e.onRecalculatePosition.add(this.recalculatePositionHandler)}dispose(){super.dispose(),this.updateOnHiding(),this.model&&(this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler=void 0),this.resetComponentElement()}}ew.tabletSizeBreakpoint=600;W([G({defaultValue:"left"})],ew.prototype,"popupDirection",void 0);W([G({defaultValue:{left:"0px",top:"0px"}})],ew.prototype,"pointerTarget",void 0);class hB extends Du{getStyleClass(){const e=this.model.getDisplayMode();return super.getStyleClass().append("sv-popup--modal-popup",e==="modal-popup").append("sv-popup--modal-overlay",e==="modal-overlay")}getShowFooter(){return!0}createFooterActionBar(){super.createFooterActionBar(),this.footerToolbar.setCssClasses({root:$a.root,defaultSizeMode:$a.defaultSizeMode,smallSizeMode:$a.smallSizeMode,item:"sv-popup__body-footer-item sv-popup__button sv-modal-popup__button sd-btn sd-btn--small"},!1),this.footerToolbar.containerCss="sv-modal-footer-action-bar";let e=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel",action:()=>{this.cancel()}},{id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__button--apply sd-btn--action",action:()=>{this.apply()}}];e=this.model.updateFooterActions(e),this.footerToolbarValue.setItems(e)}constructor(e){super(e),this.onScrollOutsideCallback=t=>{this.preventScrollOuside(t,t.deltaY)}}get applyButtonText(){return this.getLocalizationString("modalApplyButtonText")}apply(){this.model.onApply&&!this.model.onApply()||this.hidePopup()}clickOutside(){}onKeyDown(e){(e.key==="Escape"||e.keyCode===27)&&this.model.onCancel(),super.onKeyDown(e)}updateOnShowing(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),super.updateOnShowing()}updateOnHiding(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),super.updateOnHiding()}}function D4e(i,e){var t;const n=Object.assign({},i);n.verticalPosition="top",n.horizontalPosition="left",n.showPointer=!1,n.isModal=!0,n.displayMode=i.displayMode||"popup";const r=new Qr(i.componentName,i.data,n);r.isFocusedContent=(t=i.isFocusedContent)!==null&&t!==void 0?t:!0;const s=new hB(r);if(e&&e.appendChild){var o=St.createElement("div");e.appendChild(o),s.setComponentElement(o)}s.container||s.initializePopupContainer();const a=(l,u)=>{u.isVisible||o&&s.resetComponentElement(),s.onVisibilityChanged.remove(a)};return s.onVisibilityChanged.add(a),s}function N4e(i){return i.isModal?new hB(i):new ew(i)}class tw extends GC{getBaseType(){return"buttongroupitemvalue"}}W([G()],tw.prototype,"iconName",void 0);W([G()],tw.prototype,"iconSize",void 0);W([G()],tw.prototype,"showCaption",void 0);class fB extends KC{constructor(e){super(e),this._allowClear=!0,this.createLocalizableString("buttongroupOptionsCaption",this,!1,!0),this.createLocalizableString("readOnlyText",this,!0),this.registerPropertyChangedHandlers(["value","renderAs","placeholder","choices","visibleChoices"],()=>{this.updateReadOnlyText()}),this.updateReadOnlyText()}locStrsChanged(){var e;super.locStrsChanged(),this.updateReadOnlyText(),(e=this.dropdownListModelValue)===null||e===void 0||e.locStrsChanged()}updateReadOnlyText(){this.readOnlyText=this.displayValue||this.placeholder}getType(){return"buttongroup"}getItemValueType(){return"buttongroupitemvalue"}supportOther(){return!1}getControlClass(){return this.isEmpty(),new Ie().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()}getFirstInputElementId(){return this.inputId+"_0"}getInputId(e){return this.inputId+"_"+e}get placeholder(){return this.getLocalizableStringText("buttongroupOptionsCaption")}set placeholder(e){this.setLocalizableStringText("buttongroupOptionsCaption",e)}get locPlaceholder(){return this.getLocalizableString("buttongroupOptionsCaption")}get allowClear(){return this._allowClear}set allowClear(e){this._allowClear=e}get searchEnabled(){return!1}isItemSelected(e){return e.value==this.value}get readOnlyText(){return this.getLocalizableStringText("readOnlyText")}set readOnlyText(e){this.setLocalizableStringText("readOnlyText",e)}get locReadOnlyText(){return this.getLocalizableString("readOnlyText")}get showSelectedItemLocText(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText}get selectedItemLocText(){var e;return(e=this.selectedItem)===null||e===void 0?void 0:e.locText}set dropdownListModel(e){this.dropdownListModelValue=e,this.updateElementCss()}get dropdownListModel(){return this.renderAs==="dropdown"&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue}get selectedItem(){return this.getSingleSelectedItem()}onBlurCore(e){var t;(t=this.dropdownListModel)===null||t===void 0||t.onBlur(e),super.onBlurCore(e)}updateCssClasses(e,t){super.updateCssClasses(e,t),UC(e,t)}calcCssClasses(e){const t=super.calcCssClasses(e);return this.dropdownListModelValue&&this.dropdownListModelValue.updateCssClasses(t.popup,t.list),t}needResponsiveWidth(){return!0}supportResponsiveness(){return!0}getCompactRenderAs(){return"dropdown"}getObservedElementSelector(){return".sd-button-group-scrollable-container"}onBeforeSetCompactRenderer(){this.dropdownListModelValue||(this.dropdownListModelValue=new ss(this))}dispose(){super.dispose(),this.dropdownListModelValue&&(this.dropdownListModelValue.dispose(),this.dropdownListModelValue=void 0)}}W([G({defaultValue:!1})],fB.prototype,"inputHasValue",void 0);me.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new fB("")},"checkboxbase");me.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],i=>new tw(i),"choiceitem");class M4e{constructor(e,t,n){this.question=e,this.item=t,this.index=n}get value(){return this.item.value}get iconName(){return this.item.iconName}get iconSize(){return this.item.iconSize||24}get caption(){return this.item.locText}get showCaption(){return this.item.showCaption||this.item.showCaption===void 0}get isRequired(){return this.question.isRequired}get selected(){return this.question.isItemSelected(this.item)}get readOnly(){return this.question.isInputReadOnly||!this.item.isEnabled}get name(){return this.question.name+"_"+this.question.id}get id(){return this.question.inputId+"_"+this.index}get hasErrors(){return this.question.errors.length>0}get describedBy(){return this.question.errors.length>0?this.question.id+"_errors":null}get labelClass(){return new Ie().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()}get css(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}}onChange(){this.question.selectItem(this.item)}}class nw extends Ut{getSurvey(e=!1){var t;return(t=this.owner)===null||t===void 0?void 0:t.getSurvey()}getType(){return"masksettings"}setData(e){me.getProperties(this.getType()).forEach(n=>{const r=e[n.name];this[n.name]=r!==void 0?r:n.getDefaultValue(this)})}getData(){const e={};return me.getProperties(this.getType()).forEach(n=>{const r=this[n.name];n.isDefaultValue(r)||(e[n.name]=r)}),e}processInput(e){return{value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1}}getUnmaskedValue(e){return e}getMaskedValue(e){return e}getTextAlignment(){return"auto"}getTypeForExpressions(){return"text"}}W([G()],nw.prototype,"saveMaskedValue",void 0);me.addClass("masksettings",[{name:"saveMaskedValue:boolean",visibleIf:function(i){return i?i.getType()!=="masksettings":!1}}],function(){return new nw});function O5(i){const e=[];let t=!1;const n=Object.keys(oe.maskSettings.patternDefinitions);for(let r=0;r<i.length;r++){const s=i[r];s===oe.maskSettings.patternEscapeChar?t=!0:t?(t=!1,e.push({type:"fixed",value:s})):e.push({type:n.indexOf(s)!==-1?"regex":"const",value:s})}return e}function F4e(i,e,t){const n=oe.maskSettings.patternDefinitions[t.value];for(;e<i.length;){if(i[e].match(n))return e;e++}return e}function $4e(i,e,t){const n=i??"";let r="",s=0;const o=typeof e=="string"?O5(e):e;for(let a=0;a<o.length;a++)switch(o[a].type){case"regex":if(s<n.length&&(s=F4e(n,s,o[a])),s<n.length)r+=n[s];else if(t)r+=oe.maskSettings.patternPlaceholderChar;else return r;s++;break;case"const":case"fixed":r+=o[a].value,o[a].value===n[s]&&s++;break}return r}function x2(i,e,t,n=!1){let r="";if(!i)return r;let s=typeof e=="string"?O5(e):e;for(let o=0;o<s.length;o++)if(s[o].type==="fixed"&&!n&&(r+=s[o].value),s[o].type==="regex"){const a=oe.maskSettings.patternDefinitions[s[o].value];if(i[o]&&i[o].match(a))r+=i[o];else if(t){r="";break}else break}return r}class D5 extends nw{constructor(){super(...arguments),this.literals=[]}updateLiterals(){this.literals=O5(this.pattern||"")}onPropertyValueChanged(e,t,n){super.onPropertyValueChanged(e,t,n),e==="pattern"&&this.updateLiterals()}getType(){return"patternmask"}fromJSON(e,t){super.fromJSON(e,t),this.updateLiterals()}_getMaskedValue(e,t=!1){return $4e(e??"",this.literals,t)}_getUnmaskedValue(e,t=!1){return x2(e??"",this.literals,t)}processInput(e){const t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1};if(!e.insertedChars&&e.selectionStart===e.selectionEnd)return t;const n=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),r=x2(e.prevValue.slice(0,e.selectionStart),this.literals.slice(0,e.selectionStart),!1),s=x2(e.prevValue.slice(e.selectionEnd),this.literals.slice(e.selectionEnd),!1,!0);return t.value=this._getMaskedValue(r+(e.insertedChars||"")+s,!0),!e.insertedChars&&e.inputDirection==="backward"?t.caretPosition=e.selectionStart:t.caretPosition=this._getMaskedValue(n).length,t}getMaskedValue(e){return this._getMaskedValue(e,!0)}getUnmaskedValue(e){return this._getUnmaskedValue(e,!0)}}W([G()],D5.prototype,"pattern",void 0);me.addClass("patternmask",[{name:"pattern"}],function(){return new D5},"masksettings");function B4e(i,e=!0,t=3){let n=[];if(e){for(let r=i.length-t;r>-t;r-=t)n.push(i.substring(r,r+t));n=n.reverse()}else for(let r=0;r<i.length;r+=t)n.push(i.substring(r,r+t));return n}class fd extends nw{calccaretPosition(e,t,n){const r=e?this.displayNumber(this.parseNumber(e),!1).length:0;let s=0,o=t.selectionStart;const a=!t.insertedChars&&t.inputDirection==="forward";for(let l=0;l<n.length;l++)if(n[l]!==this.thousandsSeparator&&s++,s===r+(a?1:0)){a?o=l:o=l+1;break}return o}numericalCompositionIsEmpty(e){return!e.integralPart&&!e.fractionalPart}displayNumber(e,t=!0,n=!1){let r=e.integralPart;t&&r&&(r=B4e(r).join(this.thousandsSeparator));let s=e.fractionalPart;const o=e.isNegative?"-":"";if(s===""){if(n)return!r||r==="0"?r:o+r;{const a=e.hasDecimalSeparator&&!n?this.decimalSeparator:"",l=r+a;return l==="0"?l:o+l}}else return r=r||"0",s=s.substring(0,this.precision),[o+r,s].join(this.decimalSeparator)}convertNumber(e){let t;const n=e.isNegative?"-":"";return e.fractionalPart?t=parseFloat(n+(e.integralPart||"0")+"."+e.fractionalPart.substring(0,this.precision)):t=parseInt(n+e.integralPart||"0"),t}validateNumber(e,t){const n=this.min||Number.MIN_SAFE_INTEGER,r=this.max||Number.MAX_SAFE_INTEGER;if(this.numericalCompositionIsEmpty(e))return!0;if(this.min!==void 0||this.max!==void 0){let s=this.convertNumber(e);if(Number.isNaN(s)||s>=n&&s<=r)return!0;if(!t){if(!e.hasDecimalSeparator&&s!=0){let o=s,a=s;if(s>0){if(s+1>n&&s<=r)return!0;for(;o=o*10+9,a=a*10,!(a>r);)if(o>n)return!0;return!1}if(s<0){if(s>=n&&s-1<r)return!0;for(;o=o*10,a=a*10-9,!(o<n);)if(a<r)return!0;return!1}}else{const o=Math.pow(.1,(e.fractionalPart||"").length);if(s>=0)return s+o>n&&s<=r;if(s<0)return s>=n&&s-o<r}return s>=0&&s<=r||s<0&&s>=n}return!1}return!0}parseNumber(e){const t={integralPart:"",fractionalPart:"",hasDecimalSeparator:!1,isNegative:!1},n=e==null?"":e.toString();let r=0;for(let s=0;s<n.length;s++){const o=n[s];switch(o){case"-":{this.allowNegativeValues&&(this.min===void 0||this.min<0)&&r++;break}case this.decimalSeparator:{this.precision>0&&(t.hasDecimalSeparator=!0);break}case this.thousandsSeparator:break;default:o.match(fE)&&(t.hasDecimalSeparator?t.fractionalPart+=o:t.integralPart+=o)}}return t.isNegative=r%2!==0,t.integralPart.length>1&&t.integralPart[0]==="0"&&(t.integralPart=t.integralPart.slice(1)),t}getNumberMaskedValue(e,t=!1){const n=this.parseNumber(e);return this.validateNumber(n,t)?this.displayNumber(n,!0,t):null}getNumberUnmaskedValue(e){const t=this.parseNumber(e);if(!this.numericalCompositionIsEmpty(t))return this.convertNumber(t)}getTextAlignment(){return"right"}getMaskedValue(e){let t=e==null?"":e.toString();return t=t.replace(".",this.decimalSeparator),this.getNumberMaskedValue(t,!0)}getUnmaskedValue(e){return this.getNumberUnmaskedValue(e)}processInput(e){const t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},n=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),r=e.prevValue.slice(e.selectionEnd),s=n+r,o=this.parseNumber(s);if(!this.validateNumber(o,!1))return t;const a=this.getNumberMaskedValue(s),l=this.calccaretPosition(n,e,a);return t.value=a,t.caretPosition=l,t}getType(){return"numericmask"}isValueUndefined(e){return e===""||super.isValueUndefined(e)}}W([G()],fd.prototype,"allowNegativeValues",void 0);W([G()],fd.prototype,"decimalSeparator",void 0);W([G()],fd.prototype,"precision",void 0);W([G()],fd.prototype,"thousandsSeparator",void 0);W([G()],fd.prototype,"min",void 0);W([G()],fd.prototype,"max",void 0);me.addClass("numericmask",[{name:"allowNegativeValues:boolean",default:!0},{name:"decimalSeparator",default:".",maxLength:1},{name:"thousandsSeparator",default:",",maxLength:1},{name:"precision:number",default:2,minValue:0},{name:"min:number"},{name:"max:number"}],function(){return new fd},"masksettings");function e7(i,e){switch(i){case"hour":case"minute":case"second":case"day":case"month":return 2;case"timeMarker":case"year":return e;default:return 1}}function q4e(i,e){let t=e;return i.count<i.maxCount&&(i.type==="day"&&parseInt(e[0])===0||i.type==="month"&&parseInt(e[0])===0)&&(t=e.slice(1,e.length)),t}function U4e(i){const e=[];let t;const n=(r,s,o=!1)=>{if(t&&t===r){e[e.length-1].count++;const a=e7(r,e[e.length-1].count);e[e.length-1].maxCount=a}else{const a=e7(r,1);e.push({type:r,value:s,count:1,maxCount:a,upperCase:o})}};for(let r=0;r<i.length;r++){const s=i[r];switch(s){case"m":n("month",s);break;case"d":n("day",s);break;case"y":n("year",s);break;case"h":n("hour",s,!1);break;case"H":n("hour",s,!0);break;case"M":n("minute",s);break;case"s":n("second",s);break;case"t":n("timeMarker",s);break;case"T":n("timeMarker",s,!0);break;default:e.push({type:"separator",value:s,count:1,maxCount:1,upperCase:!1});break}t=e[e.length-1].type}return e}class N5 extends D5{constructor(){super(...arguments),this.defaultDate="1970-01-01T",this.turnOfTheCentury=68,this.twelve=12,this.lexems=[],this.inputDateTimeData=[],this.validBeginningOfNumbers={hour:1,hourU:2,minute:5,second:5,day:3,month:1}}get hasDatePart(){return this.lexems.some(e=>e.type==="day"||e.type==="month"||e.type==="year")}get hasTimePart(){return this.lexems.some(e=>e.type==="hour"||e.type==="minute"||e.type==="second")}get is12Hours(){return this.lexems.filter(e=>e.type==="hour"&&!e.upperCase).length>0}getType(){return"datetimemask"}getTypeForExpressions(){return this.hasTimePart?"datetime-local":"datetime"}updateLiterals(){this.lexems=U4e(this.pattern||"")}leaveOnlyNumbers(e){let t="";for(let n=0;n<e.length;n++)e[n].match(fE)&&(t+=e[n]);return t}getMaskedStrFromISO(e){let t=new Date(e);return this.initInputDateTimeData(),this.hasTimePart||(t=new Date(e+"T00:00:00")),this.hasDatePart||(t=new Date(this.defaultDate+e)),isNaN(t)||this.lexems.forEach((n,r)=>{let s=this.inputDateTimeData[r];switch(s.isCompleted=!0,n.type){case"hour":{this.is12Hours?s.value=((t.getHours()-1)%this.twelve+1).toString():s.value=t.getHours().toString();break}case"minute":{s.value=t.getMinutes().toString();break}case"second":{s.value=t.getSeconds().toString();break}case"timeMarker":{const o=t.getHours()>=this.twelve?"pm":"am";s.value=n.upperCase?o.toUpperCase():o;break}case"day":{s.value=t.getDate().toString();break}case"month":{s.value=(t.getMonth()+1).toString();break}case"year":{let o=t.getFullYear();n.count==2&&(o=o%100),s.value=o.toString();break}}}),this.getFormatedString(!0)}initInputDateTimeData(){this.inputDateTimeData=[],this.lexems.forEach(e=>{this.inputDateTimeData.push({lexem:e,isCompleted:!1,value:void 0})})}getISO_8601Format(e){const t=[],n=[];if(e.year!==void 0){const s=this.getPlaceholder(4,e.year.toString(),"0")+e.year;t.push(s)}if(e.month!==void 0&&e.year!==void 0){const s=this.getPlaceholder(2,e.month.toString(),"0")+e.month;t.push(s)}if(e.day!==void 0&&e.month!==void 0&&e.year!==void 0){const s=this.getPlaceholder(2,e.day.toString(),"0")+e.day;t.push(s)}if(e.hour!==void 0){const s=this.getPlaceholder(2,e.hour.toString(),"0")+e.hour;n.push(s)}if(e.minute!==void 0&&e.hour!==void 0){const s=this.getPlaceholder(2,e.minute.toString(),"0")+e.minute;n.push(s)}if(e.second!==void 0&&e.minute!==void 0&&e.hour!==void 0){const s=this.getPlaceholder(2,e.second.toString(),"0")+e.second;n.push(s)}const r=[];return t.length>0&&r.push(t.join("-")),n.length>1&&r.push(n.join(":")),r.join("T")}isYearValid(e){if(e.min===void 0&&e.max===void 0)return!1;const t=e.year.toString(),n=e.min.toISOString().slice(0,t.length),r=e.max.toISOString().slice(0,t.length);return e.year>=parseInt(n)&&e.year<=parseInt(r)}createIDateTimeCompositionWithDefaults(e,t){const n=e.day==29&&e.month==2;let r=e.min.getFullYear(),s=e.max.getFullYear();n&&(r=Math.ceil(r/4)*4,s=Math.floor(s/4)*4,r>s&&(r=void 0,s=void 0));const o=e.year!==void 0?e.year:t?s:r,a=e.month!==void 0?e.month:t&&this.hasDatePart?12:1,l=e.day!==void 0?e.day:t&&this.hasDatePart?this.getMaxDateForMonth(o,a):1,u=e.hour!==void 0?e.hour:t?23:0,c=e.minute!==void 0?e.minute:t?59:0,h=e.second!==void 0?e.second:t?59:0;return{year:o,month:a,day:l,hour:u,minute:c,second:h}}getMaxDateForMonth(e,t){return t==2?e%4==0&&e%100!=0||e%400==0?29:28:[31,28,31,30,31,30,31,31,30,31,30,31][t-1]}isDateValid(e){const t=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!1))),n=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!0)));return!isNaN(t)&&(t.getDate()===e.day||e.day===void 0)&&(t.getMonth()===e.month-1||e.month===void 0)&&(t.getFullYear()===e.year||e.year===void 0)&&n>=e.min&&t<=e.max}getPlaceholder(e,t,n){const r=e-(t||"").length;return r>0?n.repeat(r):""}isDateValid12(e){return this.is12Hours?this.is12Hours&&e.hour>this.twelve?!1:e.timeMarker?e.timeMarker[0].toLowerCase()==="p"?(e.hour!==this.twelve&&(e.hour+=this.twelve),this.isDateValid(e)):(e.hour===this.twelve&&(e.hour=0),this.isDateValid(e)):this.isDateValid(e)?!0:(e.hour+=this.twelve,this.isDateValid(e)):this.isDateValid(e)}updateTimeMarkerInputDateTimeData(e,t){let n=e.value;if(!n)return;const r="timeMarker",s=Object.assign({},t);s[r]=n,this.isDateValid12(s)?e.isCompleted=!0:n=n.slice(0,n.length-1),e.value=n||void 0,t[r]=n||void 0}updateInputDateTimeData(e,t){let n=e.value;if(!n)return;const r=e.lexem.type,s=Object.assign({},t);if(s[r]=parseInt(this.parseTwoDigitYear(e)),n.length===e.lexem.maxCount)if(this.isDateValid12(s)){e.isCompleted=!0,e.value=n||void 0,t[r]=parseInt(n)>0?parseInt(n):void 0;return}else n=n.slice(0,n.length-1);s[r]=parseInt(n);const o=parseInt(n[0]),a=this.validBeginningOfNumbers[r+(e.lexem.upperCase?"U":"")];r==="year"&&!this.isYearValid(s)?(n=n.slice(0,n.length-1),e.isCompleted=!1):a!==void 0&&o>a?this.isDateValid12(s)?e.isCompleted=!0:n=n.slice(0,n.length-1):a!==void 0&&o!==0&&o<=a&&(this.checkValidationDateTimePart(s,r,e),e.isCompleted&&!this.isDateValid12(s)&&(n=n.slice(0,n.length-1))),e.value=n||void 0,t[r]=parseInt(n)>0?parseInt(n):void 0}checkValidationDateTimePart(e,t,n){const r=e[t];let s=r*10,o=10;t==="month"&&(o=3),t==="hour"&&(o=this.is12Hours?3:5),n.isCompleted=!0;for(let a=0;a<o;a++)if(e[t]=s+a,this.isDateValid12(e)){n.isCompleted=!1;break}e[t]=r}getCorrectDatePartFormat(e,t){const n=e.lexem;let r=e.value||"";return r&&n.type==="timeMarker"?(t&&(r=r+this.getPlaceholder(n.count,r,n.value)),r):(r&&e.isCompleted&&(r=parseInt(r).toString()),r&&e.isCompleted?r=this.getPlaceholder(n.count,r,"0")+r:(r=q4e(n,r),t&&(r+=this.getPlaceholder(n.count,r,n.value))),r)}createIDateTimeComposition(){let e,t;return this.hasDatePart?(e=this.min||"0001-01-01",t=this.max||"9996-12-31"):(e=this.defaultDate+(this.min||"00:00:00"),t=this.defaultDate+(this.max||"23:59:59")),{hour:void 0,minute:void 0,second:void 0,day:void 0,month:void 0,year:void 0,min:new Date(e),max:new Date(t)}}parseTwoDigitYear(e){const t=e.value;return e.lexem.type!=="year"||e.lexem.count>2?t:(this.max&&this.max.length>=4&&(this.turnOfTheCentury=parseInt(this.max.slice(2,4))),(parseInt(t)>this.turnOfTheCentury?"19":"20")+t)}getFormatedString(e){let t="",n="",r=!1,s=this.inputDateTimeData.length-1;if(!e){const o=this.inputDateTimeData.filter(a=>!!a.value);s=this.inputDateTimeData.indexOf(o[o.length-1])}for(let o=0;o<this.inputDateTimeData.length;o++){const a=this.inputDateTimeData[o];switch(a.lexem.type){case"timeMarker":case"hour":case"minute":case"second":case"day":case"month":case"year":if(a.value===void 0&&!e)return t+=r?n:"",t;{const l=e||s>o,u=this.getCorrectDatePartFormat(a,l);t+=n+u,r=a.isCompleted}break;case"separator":n=a.lexem.value;break}}return t}cleanTimeMarker(e,t){let n="";e=e.toUpperCase();for(let r=0;r<e.length;r++)(!n&&(e[r]=="P"||e[r]=="A")||n&&e[r]=="M")&&(n+=e[r]);return t?n=n.toUpperCase():n=n.toLowerCase(),n}setInputDateTimeData(e){let t=0;this.initInputDateTimeData(),this.lexems.forEach((n,r)=>{if(e.length>0&&t<e.length){if(n.type==="separator")return;const s=this.inputDateTimeData[r],o=e[t];let a;n.type==="timeMarker"?a=this.cleanTimeMarker(o,n.upperCase):a=this.leaveOnlyNumbers(o),s.value=a.slice(0,n.maxCount),t++}})}_getMaskedValue(e,t=!0){let n=e==null?"":e.toString();const r=this.getParts(n);this.setInputDateTimeData(r);const s=this.createIDateTimeComposition();return this.inputDateTimeData.forEach(a=>{a.lexem.type==="timeMarker"?this.updateTimeMarkerInputDateTimeData(a,s):this.updateInputDateTimeData(a,s)}),this.getFormatedString(t)}getParts(e){const t=[],n=this.lexems.filter(l=>l.type!=="separator"),r=this.lexems.filter(l=>l.type==="separator").map(l=>l.value);let s="",o=!1,a=!1;for(let l=0;l<e.length;l++){const u=e[l];if(u.match(fE)||u===n[t.length].value||n[t.length].type==="timeMarker"?(o=!1,a=!1,s+=u):r.indexOf(u)!==-1?a||(o=!0,t.push(s),s=""):o||(a=!0,t.push(s),s=""),t.length>=n.length){o=!1;break}}return(s!=""||o)&&t.push(s),t}getUnmaskedValue(e){var t;let n=e==null?"":e.toString();const r=this.getParts(n);this.setInputDateTimeData(r);const s=(t=this.inputDateTimeData.filter(l=>l.lexem.type==="timeMarker")[0])===null||t===void 0?void 0:t.value.toLowerCase()[0],o=this.createIDateTimeComposition();let a=!1;return this.inputDateTimeData.forEach(l=>{let u=l.value;if(l.lexem.type=="timeMarker"||l.lexem.type=="separator")return;if(!u||u.length<l.lexem.count){a=!0;return}let c=parseInt(this.parseTwoDigitYear(l));l.lexem.type=="hour"&&s==="p"&&c!=this.twelve&&(c+=this.twelve),o[l.lexem.type]=c}),a?"":this.getISO_8601Format(o)}getMaskedValue(e){return this.getMaskedStrFromISO(e)}processInput(e){const t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},n=e.prevValue.slice(0,e.selectionStart),r=e.prevValue.slice(e.selectionEnd);return t.value=this._getMaskedValue(n+(e.insertedChars||"")+r),!e.insertedChars&&e.inputDirection==="backward"?t.caretPosition=e.selectionStart:t.caretPosition=this._getMaskedValue(n+(e.insertedChars||""),!1).length,t}}W([G()],N5.prototype,"min",void 0);W([G()],N5.prototype,"max",void 0);me.addClass("datetimemask",[{name:"min",type:"datetime",enableIf:i=>!!i.pattern},{name:"max",type:"datetime",enableIf:i=>!!i.pattern}],function(){return new N5},"patternmask");class M5 extends fd{getType(){return"currencymask"}wrapText(e){const t=this.prefix||"",n=this.suffix||"";let r=e;return r&&(r.indexOf(t)===-1&&(r=t+r),r.indexOf(n)===-1&&(r+=n),r)}unwrapInputArgs(e){let t=e.prevValue;if(t){if(this.prefix&&t.indexOf(this.prefix)!==-1){t=t.slice(t.indexOf(this.prefix)+this.prefix.length);const n=(this.prefix||"").length;e.selectionStart=Math.max(e.selectionStart-n,0),e.selectionEnd-=n}this.suffix&&t.indexOf(this.suffix)!==-1&&(t=t.slice(0,t.indexOf(this.suffix))),e.prevValue=t}}processInput(e){this.unwrapInputArgs(e);const t=super.processInput(e),n=(this.prefix||"").length;return t.value&&(t.caretPosition+=n),t.value=this.wrapText(t.value),t}getMaskedValue(e){const t=super.getMaskedValue(e);return this.wrapText(t)}}W([G()],M5.prototype,"prefix",void 0);W([G()],M5.prototype,"suffix",void 0);me.addClass("currencymask",[{name:"prefix"},{name:"suffix"}],()=>new M5,"numericmask");var pB;pB="2.3.1";oe.version=pB;class H4e{constructor(){this.icons={},this.iconPrefix="icon-",this.onIconsChanged=new Na}processId(e,t){return e.indexOf(t)==0&&(e=e.substring(t.length)),e=O$[e]||e,e}registerIconFromSymbol(e,t){this.icons[e]=t}registerIconFromSvgViaElement(e,t,n=this.iconPrefix){if(!St.isAvailable())return;e=this.processId(e,n);let r=St.createElement("div");r.innerHTML=t;let s=St.createElement("symbol"),o=r.querySelector("svg");s.innerHTML=o.innerHTML;for(var a=0;a<o.attributes.length;a++)s.setAttributeNS("http://www.w3.org/2000/svg",o.attributes[a].name,o.attributes[a].value);s.id=n+e,this.registerIconFromSymbol(e,s.outerHTML)}registerIconFromSvg(e,t,n=this.iconPrefix){e=this.processId(e,n);const r="<svg ",s="</svg>";t=t.trim();const o=t.toLowerCase();return o.substring(0,r.length)===r&&o.substring(o.length-s.length,o.length)===s?(this.registerIconFromSymbol(e,'<symbol id="'+n+e+'" '+t.substring(r.length,o.length-s.length)+"</symbol>"),!0):!1}registerIconsFromFolder(e){e.keys().forEach(t=>{this.registerIconFromSvg(t.substring(2,t.length-4).toLowerCase(),e(t))})}registerIcons(e){for(const t in e)this.registerIconFromSvg(t,e[t]);this.updateMarkup()}registerIcon(e,t,n="v2"){this.registerIconFromSvg(e,t),F5(n,{[e]:t})}iconsRenderedHtml(){return Object.keys(this.icons).map(e=>this.icons[e]).join("")}updateMarkup(){this.onIconsChanged.fire(this,{})}}const q1=new H4e,P2={};function F5(i,e){P2[i]||(P2[i]={});const t=P2[i];for(const n in e)t[n]=e[n]}var z4e=Object.defineProperty,j4e=(i,e,t)=>e in i?z4e(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,$5=(i,e,t)=>(j4e(i,typeof e!="symbol"?e+"":e,t),t);const gE=class{constructor(){$5(this,"creatorHash",{})}registerComponent(e,t){this.creatorHash[e]=t}getComponent(e){return this.creatorHash[e]||e}getAllTypes(){const e=new Array;for(const t in this.creatorHash)e.push(t);return e.sort()}isComponentRegistered(e){return!!this.creatorHash[e]}};$5(gE,"Instance",new gE);let iw=gE;const X=Pe({inheritAttrs:!1,__name:"SvComponent",props:{is:{}},setup(i){const e=i,t=Ze(()=>iw.Instance.getComponent(e.is));return(n,r)=>(I(),ge(no(t.value),xa(fc(n.$attrs)),g7({_:2},[en(n.$slots,(s,o)=>({name:o,fn:Hn(a=>[on(n.$slots,o,xa(fc(a)))])}))]),1040))}});Ut.createPropertiesHash=()=>d7({});class Q4e{constructor(e){$5(this,"currentNextTickPromise"),this.element=e}async add(){const e=Oc();this.currentNextTickPromise!==e&&(this.currentNextTickPromise=e,await e,e==this.currentNextTickPromise&&this.element.afterRerender())}}function W4e(i){if(i){if(i.__vueImplemented=i.__vueImplemented??0,i.__vueImplemented<=0){const e=new Q4e(i);i.createArrayCoreHandler=(t,n)=>{const r=[],s=Pl(r);return r.onArrayChanged=()=>{R2(s),e.add()},t[n]=s,Xe(t[n])},i.iteratePropertiesHash((t,n)=>{if(Array.isArray(t[n])){const r=Pl(t[n]);t[n].onArrayChanged=()=>{R2(r),e.add()},t[n]=r}}),i.getPropertyValueCoreHandler=(t,n)=>Xe(t[n]),i.setPropertyValueCoreHandler=(t,n,r)=>{Lc(t[n])?t[n].value=r:t[n]=r,e.add()}}i.enableOnElementRerenderedEvent(),i.__vueImplemented++}}function G4e(i){return!!i.__vueImplemented}function t7(i){i&&(i.__vueImplemented=i.__vueImplemented??0,i.__vueImplemented--,i.__vueImplemented<=0&&(i.iteratePropertiesHash((e,t)=>{e[t]=Xe(e[t]),Array.isArray(e[t])&&(e[t].onArrayChanged=void 0)}),delete i.__vueImplemented,i.disableOnElementRerenderedEvent(),i.createArrayCoreHandler=void 0,i.getPropertyValueCoreHandler=void 0,i.setPropertyValueCoreHandler=void 0))}function dn(i,e,t){const n=Ji(i,(s,o)=>{s&&e&&e(s,o),o&&(t7(o),t&&t(o)),W4e(s)},{immediate:!0});let r=!1;vh(()=>{if(!r){const s=i();s&&(t7(s),n(),t&&t(s)),r=!0}})}function yi(i,e,t,n){dn(()=>i.question,t,n),Zn(()=>{i.question&&i.question.afterRenderQuestionElement(e.value)}),vh(()=>{i.question.beforeDestroyQuestionElement(e.value)})}function Up(i){const e=Qe(),t=s=>{e.value=s.renderedHtml},n=s=>{e.value=s.renderedHtml,s.onStringChanged.add(t)},r=Ji(i,(s,o)=>{o&&o.onStringChanged.remove(t),n(s)},{immediate:!0});return vh(()=>{const s=i();s&&s.onStringChanged.remove(t),r()}),e}function B5(i){return i.customWidget?"survey-customwidget":i.isDefaultRendering&&i.isDefaultRendering()||i.isPanel?"survey-"+i.getTemplate():i.getComponentName()}function rw(i){const e=Pl(),t=h7(()=>{e.value=i(),R2(e)});return vh(()=>{t()}),e}const K4e=Pe({__name:"Page",props:{survey:{},page:{},css:{}},setup(i){const e=i,t=Qe(null),n=()=>{e.survey&&t.value&&e.survey.afterRenderPage(t.value)},r=Ze(()=>e.page._showDescription);return dn(()=>e.page,()=>{n()}),Zn(()=>{n()}),(s,o)=>(I(),D("div",{class:$(s.page.cssRoot),ref_key:"root",ref:t},[he(X,{is:"survey-element-title",element:s.page,css:s.css},null,8,["element","css"]),r.value?(I(),D("div",{key:0,class:$(s.page.cssClasses.page.description)},[he(X,{is:"survey-string",locString:s.page.locDescription},null,8,["locString"])],2)):Y("",!0),he(X,{is:"survey-errors",element:s.page},null,8,["element"]),(I(!0),D(xt,null,en(s.page.visibleRows,a=>(I(),ge(X,Ae({key:a.id,is:s.page.getSurvey().getRowWrapperComponentName(a)},{componentData:s.page.getSurvey().getRowWrapperComponentData(a)}),{default:Hn(()=>[he(X,{is:"survey-row",row:a,survey:s.survey,css:s.css},null,8,["row","survey","css"])]),_:2},1040,["is"]))),128))],2))}}),J4e=Pe({__name:"Header",props:{survey:{}},setup(i){const e=i,t=Qe();return Zn(()=>{var n=t.value;n&&e.survey&&e.survey.afterRenderHeader(n)}),(n,r)=>n.survey.renderedHasHeader?(I(),D("div",{key:0,class:$(n.survey.css.header),ref_key:"root",ref:t},[n.survey.isLogoBefore?(I(),ge(X,{key:0,is:n.survey.getElementWrapperComponentName(n.survey,"logo-image"),data:n.survey.getElementWrapperComponentData(n.survey,"logo-image")},null,8,["is","data"])):Y("",!0),n.survey.renderedHasTitle?(I(),D("div",{key:1,class:$(n.survey.css.headerText),style:Ft({maxWidth:n.survey.titleMaxWidth})},[he(X,{is:"survey-element-title",element:n.survey,css:n.survey.css},null,8,["element","css"]),n.survey.renderedHasDescription?(I(),D("div",{key:0,class:$(n.survey.css.description)},[he(X,{is:"survey-string",locString:n.survey.locDescription},null,8,["locString"])],2)):Y("",!0)],6)):Y("",!0),n.survey.isLogoAfter?(I(),ge(X,{key:2,is:n.survey.getElementWrapperComponentName(n.survey,"logo-image"),data:n.survey.getElementWrapperComponentData(n.survey,"logo-image")},null,8,["is","data"])):Y("",!0),te("div",{class:$(n.survey.css.headerClose)},null,2)],2)):Y("",!0)}}),Y4e=Pe({__name:"Row",props:{row:{},css:{},survey:{}},setup(i){const e=i,t=Qe();let n;return dn(()=>e.row,(r,s)=>{r.setRootElement(t.value),s&&(r.isNeedRender=s.isNeedRender)},r=>{G4e(r)||(clearTimeout(n),r.setRootElement(void 0),r.stopLazyRendering(),r.isNeedRender=!r.isLazyRendering())}),Zn(()=>{if(e.row&&(e.row.setRootElement(t.value),!e.row.isNeedRender)){const r=t.value;setTimeout(()=>{e.row.startLazyRendering(r)},10)}}),(r,s)=>(I(),D("div",{class:$(r.row.getRowCss()),ref_key:"root",ref:t},[(I(!0),D(xt,null,en(r.row.visibleElements,o=>(I(),ge(X,{is:"survey-element",row:r.row,css:r.css,element:o,key:o.id},null,8,["row","css","element"]))),128))],2))}}),Z4e=["id","role","aria-required","aria-invalid","aria-label","aria-labelledby","aria-describedby","aria-expanded","data-name"],X4e=["aria-hidden"],eke=["id"],tke={inheritAttrs:!1},nke=Pe({...tke,__name:"Question",props:{survey:{},element:{},css:{}},setup(i){const e=i,t=Qe(null),n=h=>h.cssContent,r=()=>e.element.getRootStyle(),s=Ze(()=>e.element.singleInputQuestion);dn(()=>e.element);const o=()=>{t.value&&e.element.afterRender(t.value)},a=Ji(()=>t.value,()=>{o()}),l=Ze(()=>e.element.customWidget?"survey-customwidget":e.element.isDefaultRendering()?"survey-"+e.element.getTemplate():e.element.getComponentName()),u=Ze(()=>e.element.survey.getQuestionContentWrapperComponentName(e.element)),c=Ze(()=>({componentData:{question:e.element,data:e.element.survey.getElementWrapperComponentData(e.element)}}));return ns(()=>{a()}),(h,f)=>(I(),D("div",{class:$(h.element.getRootCss()),style:Ft(r()),ref_key:"root",ref:t,onFocusin:f[0]||(f[0]=m=>h.element.focusIn()),id:h.element.id,role:h.element.ariaRole,"aria-required":h.element.ariaRequired,"aria-invalid":h.element.ariaInvalid,"aria-label":h.element.ariaLabel,"aria-labelledby":h.element.ariaLabelledBy,"aria-describedby":h.element.ariaDescribedBy,"aria-expanded":h.element.ariaExpanded,"data-name":h.element.name},[h.element.singleInputHasActions?(I(),ge(X,{key:0,is:"sv-breadcrumbs",model:h.element.singleInputActions,css:h.element.cssClasses},null,8,["model","css"])):Y("",!0),h.element.showErrorsAboveQuestion?(I(),ge(X,{key:1,is:"survey-errors",element:h.element,location:"top"},null,8,["element"])):Y("",!0),!h.element.singleInputHideHeader&&h.element.hasTitleOnLeftTop?(I(),ge(X,{key:2,is:"survey-element-header",element:h.element,css:h.element.cssClasses},null,8,["element","css"])):Y("",!0),h.element.singleInputSummary?(I(),ge(X,{key:3,is:"sv-single-input-summary",css:h.element.cssClasses,summary:h.element.singleInputSummary},null,8,["css","summary"])):s.value?(I(),ge(X,{is:"survey-question",css:h.css,element:s.value,survey:h.survey,key:s.value.id},null,8,["css","element","survey"])):(I(),ge(X,Ae({key:5,is:u.value},c.value),{default:Hn(()=>[te("div",{class:$(n(h.element)||void 0),"aria-hidden":h.element.contentAriaHidden,style:Ft({display:h.element.renderedIsExpanded?void 0:"none"}),role:"presentation"},[he(X,{is:l.value,question:h.element},null,8,["is","question"]),h.element.hasComment?(I(),D("div",{key:0,class:$(h.element.getCommentAreaCss())},[te("div",null,[he(X,{is:"survey-string",locString:h.element.locCommentText},null,8,["locString"])]),he(X,{is:"survey-question-comment",question:h.element},null,8,["question"])],2)):Y("",!0),h.element.hasDescriptionUnderInput?(I(),D("div",{key:1,class:$(h.element.cssDescription),id:h.element.ariaDescriptionId},[he(X,{is:"survey-string",locString:h.element.locDescription},null,8,["locString"])],10,eke)):Y("",!0)],14,X4e)]),_:1},16,["is"])),h.element.hasTitleOnBottom?(I(),ge(X,{key:6,is:"survey-element-header",element:h.element,css:h.css},null,8,["element","css"])):Y("",!0),h.element.showErrorsBelowQuestion?(I(),ge(X,{key:7,is:"survey-errors",element:h.element,location:"bottom"},null,8,["element"])):Y("",!0)],46,Z4e))}}),ike=["id"],rke=["id","role","aria-labelledby","aria-label"],ske={inheritAttrs:!1},oke=Pe({...ske,inheritAttrs:!1,__name:"Panel",props:{element:{},isEditMode:{type:Boolean},css:{}},setup(i){const e=i,t=Qe(null),n=Ze(()=>e.element.survey);return dn(()=>e.element),Zn(()=>{e.element.survey&&e.element.afterRender(t.value)}),(r,s)=>r.element.getIsContentVisible()?(I(),D("div",{key:0,class:$(r.element.getContainerCss()),id:r.element.id,onFocusin:s[0]||(s[0]=o=>r.element.focusIn()),ref_key:"root",ref:t},[r.element.showErrorsAbovePanel?(I(),ge(X,{key:0,is:"survey-errors",element:r.element},null,8,["element"])):Y("",!0),r.element.hasTitle||r.element.hasDescription?(I(),ge(X,{key:1,is:"survey-element-header",element:r.element,css:r.css},null,8,["element","css"])):Y("",!0),r.element.showErrorsAbovePanel?Y("",!0):(I(),ge(X,{key:2,is:"survey-errors",element:r.element},null,8,["element"])),r.element.renderedIsExpanded?(I(),D("div",{key:3,id:r.element.contentId,style:Ft({paddingLeft:r.element.innerPaddingLeft}),class:$(r.element.cssClasses.panel.content),role:r.element.ariaRole,"aria-labelledby":r.element.ariaLabelledBy,"aria-label":r.element.ariaLabel},[(I(!0),D(xt,null,en(r.element.visibleRows,o=>(I(),ge(X,Ae({key:o.id,is:r.element.getSurvey().getRowWrapperComponentName(o)},{componentData:r.element.getSurvey().getRowWrapperComponentData(o)}),{default:Hn(()=>[he(X,{is:"survey-row",row:o,survey:n.value,css:r.css},null,8,["row","survey","css"])]),_:2},1040,["is"]))),128)),he(X,{is:"sv-action-bar",model:r.element.getFooterToolbar()},null,8,["model"])],14,rke)):Y("",!0)],42,ike)):Y("",!0)}}),ake=["id"],lke=Pe({__name:"ElementHeader",props:{element:{},css:{}},setup(i){const e=i,t=r=>{typeof e.element.clickTitleFunction=="function"&&e.element.clickTitleFunction(r)},n=()=>{const r={width:void 0};return"titleWidth"in e.element&&(r.width=e.element.titleWidth),r};return(r,s)=>(I(),D("div",{class:$(r.element.cssHeader),onClick:t,style:Ft(n())},[he(X,{is:"survey-element-title",element:r.element,css:r.css},null,8,["element","css"]),r.element.hasDescriptionUnderTitle?ri((I(),D("div",{key:0,class:$(r.element.cssDescription),id:r.element.ariaDescriptionId},[he(X,{is:"survey-string",locString:r.element.locDescription},null,8,["locString"])],10,ake)),[[Lo,r.element.hasDescription]]):Y("",!0),r.element.hasAdditionalTitleToolbar?(I(),ge(X,{key:1,is:"sv-action-bar",model:r.element.additionalTitleToolbar},null,8,["model"])):Y("",!0)],6))}}),uke=Pe({__name:"String",props:{locString:{}},setup(i){return(e,t)=>(I(),ge(X,{is:e.locString.renderAs,locString:e.locString.renderAsData},null,8,["is","locString"]))}}),cke=["innerHTML"],dke=Pe({__name:"StringViewer",props:{locString:{}},setup(i){const e=i,t=Up(()=>e.locString),n=e.locString.allowLineBreaks?"sv-string-viewer sv-string-viewer--multiline":"sv-string-viewer";return(r,s)=>r.locString.hasHtml?(I(),D("span",{key:0,class:$(Xe(n)),innerHTML:Xe(t)},null,10,cke)):(I(),D("span",{key:1,class:$(Xe(n))},kt(Xe(t)),3))}}),hke=["innerHTML"],fke=Pe({__name:"StringEditor",props:{locString:{}},setup(i){const e=i,t=r=>{const s=e.locString;s.text=r.target.innerText},n=r=>{r.preventDefault(),r.stopPropagation()};return(r,s)=>r.locString.hasHtml?(I(),D("span",{key:0,class:"sv-string-editor",contenteditable:"true",innerHTML:r.locString.renderedHtml,onBlur:t,onClick:n},null,40,hke)):(I(),D("span",{key:1,class:"sv-string-editor",contenteditable:"true",onBlur:t,onClick:n},kt(r.locString.renderedHtml),33))}}),pke=["id"],gke=Pe({__name:"Skeleton",props:{element:{}},setup(i){const e=i;return dn(()=>e.element),(t,n)=>(I(),D("div",{class:"sv-skeleton-element",id:t.element.id,style:Ft({height:t.element.skeletonHeight})},null,12,pke))}}),mke={class:"sv-scroll__container"},vke=te("div",{class:"sv-scroll__scrollbar-sizer"},null,-1),yke=[vke],bke=Pe({__name:"Scroll",props:{disabled:{},onInnerHeightChanged:{type:Function}},setup(i){const e=i,t=new O4e;t.onInnerHeightChanged=r=>{e.onInnerHeightChanged&&e.onInnerHeightChanged(r)};const n=Qe();return Zn(()=>{t.setRootElement(n.value)}),ns(()=>{t.setRootElement(void 0),t.unsubscribeRootElement()}),(r,s)=>e.disabled?on(r.$slots,"default",{key:0}):(I(),D("div",{key:1,ref_key:"root",ref:n,class:"sv-scroll__wrapper"},[te("div",{class:"sv-scroll__scroller sv-drag-target-skipped",onScroll:s[0]||(s[0]=()=>Xe(t).onScrollContainer())},[te("div",mke,[on(r.$slots,"default")])],32),te("div",{class:"sv-scroll__scrollbar",onScroll:s[1]||(s[1]=()=>Xe(t).onScrollScrollbar())},yke,32)],512))}}),Cke=["id"],wke=["value"],_ke=Pe({inheritAttrs:!1,__name:"Text",props:{question:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>n.question.isReadOnlyRenderDiv()?(I(),D("div",{key:0,ref_key:"root",ref:t},kt(n.question.value),513)):n.question.dataListId?(I(),D("div",{key:1,ref_key:"root",ref:t},[he(X,{is:"survey-text-input",question:n.question},null,8,["question"]),te("datalist",{id:n.question.dataListId},[(I(!0),D(xt,null,en(n.question.dataList,(s,o)=>(I(),D("option",{key:o,value:s},null,8,wke))),128))],8,Cke)],512)):(I(),ge(X,{key:2,is:"survey-text-input",question:n.question,"get-ref":s=>{t.value=s}},null,8,["question","get-ref"]))}}),Ike=["disabled","readonly","type","maxlength","min","max","step","size","id","list","placeholder","autocomplete","value","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],Eke=["disabled","readonly","type","maxlength","min","max","step","size","id","list","placeholder","autocomplete","value","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],Ske=Pe({__name:"TextInput",props:{question:{},getRef:{type:Function}},setup(i,{expose:e}){const t=i,n=function(o){t.getRef&&t.getRef(o)},r=Qe(null);e({root:r}),dn(()=>t.question);const s=Ze(()=>t.question.inputStyle);return(o,a)=>o.question.getMaxLength()?(I(),D("div",{key:1,ref:l=>n(l)},[te("input",{disabled:o.question.isDisabledAttr,readonly:o.question.isReadOnlyAttr,class:$(o.question.getControlClass()),type:o.question.inputType,maxlength:o.question.getMaxLength(),min:o.question.renderedMin,max:o.question.renderedMax,step:o.question.renderedStep,size:o.question.renderedInputSize,style:Ft(s.value),id:o.question.inputId,list:o.question.dataListId,placeholder:o.question.renderedPlaceholder,autocomplete:o.question.autocomplete,value:o.question.inputValue,onChange:a[8]||(a[8]=(...l)=>o.question.onChange&&o.question.onChange(...l)),onClick:a[9]||(a[9]=(...l)=>o.question.readOnlyBlocker&&o.question.readOnlyBlocker(...l)),onPointerdown:a[10]||(a[10]=(...l)=>o.question.readOnlyBlocker&&o.question.readOnlyBlocker(...l)),onKeyup:a[11]||(a[11]=(...l)=>o.question.onKeyUp&&o.question.onKeyUp(...l)),onKeydown:a[12]||(a[12]=(...l)=>o.question.onKeyDown&&o.question.onKeyDown(...l)),onCompositionUpdate:a[13]||(a[13]=(...l)=>o.question.onCompositionUpdate&&o.question.onCompositionUpdate(...l)),onBlur:a[14]||(a[14]=(...l)=>o.question.onBlur&&o.question.onBlur(...l)),onFocus:a[15]||(a[15]=(...l)=>o.question.onFocus&&o.question.onFocus(...l)),"aria-required":o.question.a11y_input_ariaRequired,"aria-label":o.question.a11y_input_ariaLabel,"aria-labelledby":o.question.a11y_input_ariaLabelledBy,"aria-describedby":o.question.a11y_input_ariaDescribedBy,"aria-invalid":o.question.a11y_input_ariaInvalid,"aria-errormessage":o.question.a11y_input_ariaErrormessage},null,46,Eke),he(X,{is:"sv-character-counter",counter:o.question.characterCounter,remainingCharacterCounter:o.question.cssClasses.remainingCharacterCounter},null,8,["counter","remainingCharacterCounter"])],512)):(I(),D("input",{key:0,ref:l=>n(l),disabled:o.question.isDisabledAttr,readonly:o.question.isReadOnlyAttr,class:$(o.question.getControlClass()),type:o.question.inputType,maxlength:o.question.getMaxLength(),min:o.question.renderedMin,max:o.question.renderedMax,step:o.question.renderedStep,size:o.question.renderedInputSize,style:Ft(s.value),id:o.question.inputId,list:o.question.dataListId,placeholder:o.question.renderedPlaceholder,autocomplete:o.question.autocomplete,value:o.question.inputValue,onChange:a[0]||(a[0]=(...l)=>o.question.onChange&&o.question.onChange(...l)),onClick:a[1]||(a[1]=(...l)=>o.question.readOnlyBlocker&&o.question.readOnlyBlocker(...l)),onPointerdown:a[2]||(a[2]=(...l)=>o.question.readOnlyBlocker&&o.question.readOnlyBlocker(...l)),onKeyup:a[3]||(a[3]=(...l)=>o.question.onKeyUp&&o.question.onKeyUp(...l)),onKeydown:a[4]||(a[4]=(...l)=>o.question.onKeyDown&&o.question.onKeyDown(...l)),onCompositionUpdate:a[5]||(a[5]=(...l)=>o.question.onCompositionUpdate&&o.question.onCompositionUpdate(...l)),onBlur:a[6]||(a[6]=(...l)=>o.question.onBlur&&o.question.onBlur(...l)),onFocus:a[7]||(a[7]=(...l)=>o.question.onFocus&&o.question.onFocus(...l)),"aria-required":o.question.a11y_input_ariaRequired,"aria-label":o.question.a11y_input_ariaLabel,"aria-labelledby":o.question.a11y_input_ariaLabelledBy,"aria-describedby":o.question.a11y_input_ariaDescribedBy,"aria-invalid":o.question.a11y_input_ariaInvalid,"aria-errormessage":o.question.a11y_input_ariaErrormessage},null,46,Ike))}}),Tke=["role","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],xke={key:0,class:"sv-hidden"},Pke={key:6},Rke=["value"],gB=Pe({inheritAttrs:!1,__name:"SelectBase",props:{question:{},showLegend:{type:Boolean}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=s=>e.question.getItemValueWrapperComponentName(s)||e.question.itemComponent,r=s=>({componentName:e.question.itemComponent,componentData:{question:e.question,item:s,data:e.question.getItemValueWrapperComponentData(s)}});return(s,o)=>(I(),D("fieldset",{class:$(s.question.getSelectBaseRootCss()),ref_key:"root",ref:t,role:s.question.a11y_input_ariaRole,"aria-required":s.question.a11y_input_ariaRequired,"aria-label":s.question.a11y_input_ariaLabel,"aria-labelledby":s.question.a11y_input_ariaLabelledBy,"aria-describedby":s.question.a11y_input_ariaDescribedBy,"aria-invalid":s.question.a11y_input_ariaInvalid,"aria-errormessage":s.question.a11y_input_ariaErrormessage},[s.showLegend?(I(),D("legend",xke,kt(s.question.locTitle.renderedHtml),1)):Y("",!0),s.question.hasHeadItems?(I(!0),D(xt,{key:1},en(s.question.headItems,a=>(I(),ge(X,Ae({key:a.value,is:n(a)},r(a)),null,16,["is"]))),128)):Y("",!0),!s.question.hasColumns&&!s.question.blockedRow?(I(!0),D(xt,{key:2},en(s.question.bodyItems,a=>(I(),ge(X,Ae({key:a.value,is:n(a)},r(a)),null,16,["is"]))),128)):Y("",!0),s.question.blockedRow?(I(),D("div",{key:3,class:$(s.question.cssClasses.rootRow)},[!s.question.hasColumns&&s.question.blockedRow?(I(!0),D(xt,{key:0},en(s.question.dataChoices,a=>(I(),ge(X,Ae({key:a.value,is:n(a)},r(a)),null,16,["is"]))),128)):Y("",!0)],2)):Y("",!0),s.question.hasColumns?(I(),D("div",{key:4,class:$(s.question.cssClasses.rootMultiColumn)},[s.question.hasColumns?(I(!0),D(xt,{key:0},en(s.question.columns,(a,l)=>(I(),D("div",{key:l,class:$(s.question.getColumnClass()),role:"presentation"},[(I(!0),D(xt,null,en(a,u=>(I(),ge(X,Ae({key:u.value,is:n(u)},r(u)),null,16,["is"]))),128))],2))),128)):Y("",!0)],2)):Y("",!0),s.question.hasFootItems?(I(!0),D(xt,{key:5},en(s.question.footItems,a=>(I(),ge(X,Ae({key:a.value,is:n(a)},r(a)),null,16,["is"]))),128)):Y("",!0),s.question.showClearButtonInContent?(I(),D("div",Pke,[te("input",{type:"button",class:$(s.question.cssClasses.clearButton),onClick:o[0]||(o[0]=()=>{s.question.clearValue(!0)}),value:s.question.clearButtonCaption},null,10,Rke)])):Y("",!0)],10,Tke))}}),kke=Pe({inheritAttrs:!1,__name:"Checkbox",props:{question:{}},setup(i){return(e,t)=>(I(),ge(gB,{question:e.question,"show-legend":!0},null,8,["question"]))}});function mB(i,e,t){Zn(()=>{t.value&&(e().isDesignMode||i().setRootElement(t.value))}),ns(()=>{e().isDesignMode||i().setRootElement(void 0)}),dn(i,(n,r)=>{e().isDesignMode||(n&&t.value&&n.setRootElement(t.value),r&&r.setRootElement(void 0))})}const Ake=["name","checked","value","id","disabled","readonly","required","aria-label"],Vke=["xlink:href"],Lke=Pe({inheritAttrs:!1,__name:"CheckboxItem",props:{question:{},item:{},hideLabel:{type:Boolean},ariaLabel:{}},setup(i){const e=Qe(),t=i;mB(()=>t.item,()=>t.question,e);const n=r=>{t.question.clickItemHandler(t.item,r.target.checked)};return(r,s)=>(I(),D(xt,null,[te("div",{role:"presentation",class:$(r.question.getItemClass(r.item)),ref_key:"root",ref:e},[te("label",{class:$(r.question.getLabelClass(r.item))},[te("input",{type:"checkbox",name:r.question.name+r.item.id,checked:r.question.isItemSelected(r.item),onInput:s[0]||(s[0]=o=>{n(o)}),value:r.item.value,id:r.question.getItemId(r.item),disabled:!r.question.getItemEnabled(r.item),readonly:r.question.isReadOnlyAttr,class:$(r.question.cssClasses.itemControl),required:r.question.hasRequiredError(),"aria-label":r.ariaLabel},null,42,Ake),r.question.cssClasses.materialDecorator?(I(),D("span",{key:0,class:$(r.question.cssClasses.materialDecorator)},[r.question.itemSvgIcon?(I(),D("svg",{key:0,class:$(r.question.cssClasses.itemDecorator)},[te("use",{"xlink:href":r.question.itemSvgIcon},null,8,Vke)],2)):Y("",!0)],2)):Y("",!0),r.hideLabel?Y("",!0):(I(),D("span",{key:1,class:$(r.question.cssClasses.controlLabel)},[he(X,{is:"survey-string",locString:r.item.locText},null,8,["locString"])],2))],2)],2),r.item.isCommentShowing?(I(),ge(X,{key:0,is:"survey-other-choice",question:r.question,item:r.item},null,8,["question","item"])):Y("",!0)],64))}}),Oke=Pe({inheritAttrs:!1,__name:"Radiogroup",props:{question:{}},setup(i){return(e,t)=>(I(),ge(gB,{question:e.question},null,8,["question"]))}}),Dke=["name","value","id","aria-errormessage","checked","disabled","readonly","aria-label"],Nke=["xlink:href"],Mke=Pe({inheritAttrs:!1,__name:"RadiogroupItem",props:{question:{},item:{},hideLabel:{type:Boolean},ariaLabel:{}},setup(i){const e=Qe(),t=i,n=o=>t.question.getLabelClass(o),r=o=>t.question.getControlLabelClass(o),s=()=>{t.question.clickItemHandler(t.item)};return mB(()=>t.item,()=>t.question,e),(o,a)=>(I(),D(xt,null,[te("div",{role:"presentation",class:$(o.question.getItemClass(o.item)),ref_key:"root",ref:e},[te("label",{onMousedown:a[1]||(a[1]=l=>o.question.onMouseDown()),class:$(n(o.item))},[te("input",{type:"radio",name:o.question.questionName,value:o.item.value,id:o.question.getItemId(o.item),"aria-errormessage":o.question.ariaErrormessage,checked:o.question.isItemSelected(o.item),onInput:a[0]||(a[0]=l=>{s()}),disabled:!o.question.getItemEnabled(o.item),readonly:o.question.isReadOnlyAttr,class:$(o.question.cssClasses.itemControl),"aria-label":o.ariaLabel},null,42,Dke),o.question.cssClasses.materialDecorator?(I(),D("span",{key:0,class:$(o.question.cssClasses.materialDecorator)},[o.question.itemSvgIcon?(I(),D("svg",{key:0,class:$(o.question.cssClasses.itemDecorator)},[te("use",{"xlink:href":o.question.itemSvgIcon},null,8,Nke)],2)):Y("",!0)],2)):Y("",!0),o.hideLabel?Y("",!0):(I(),D("span",{key:1,class:$(r(o.item))},[he(X,{is:"survey-string",locString:o.item.locText},null,8,["locString"])],2))],34)],2),o.item.isCommentShowing?(I(),ge(X,{key:0,is:"survey-other-choice",question:o.question,item:o.item},null,8,["question","item"])):Y("",!0)],64))}}),Fke=["src"],$ke=["title"],Bke={key:0},qke=Pe({inheritAttrs:!1,__name:"Signaturepad",props:{question:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>(I(),D("div",{class:$(n.question.cssClasses.root),ref_key:"root",ref:t,style:Ft({width:n.question.renderedCanvasWidth})},[ri(te("div",{class:$(n.question.cssClasses.placeholder)},[he(X,{is:"survey-string",locString:n.question.locRenderedPlaceholder},null,8,["locString"])],2),[[Lo,n.question.needShowPlaceholder()]]),te("div",null,[n.question.backgroundImage?(I(),D("img",{key:0,role:"presentation",class:$(n.question.cssClasses.backgroundImage),src:n.question.backgroundImage,style:Ft({width:n.question.renderedCanvasWidth})},null,14,Fke)):Y("",!0),te("canvas",{tabindex:"-1",class:$(n.question.cssClasses.canvas),onBlur:r[0]||(r[0]=(...s)=>n.question.onBlur&&n.question.onBlur(...s))},null,34)]),n.question.canShowClearButton?(I(),D("div",{key:0,class:$(n.question.cssClasses.controls)},[te("button",{type:"button",class:$(n.question.cssClasses.clearButton),title:n.question.clearButtonCaption,onClick:r[1]||(r[1]=()=>{n.question.clearValue(!0)})},[n.question.cssClasses.clearButtonIconId?Y("",!0):(I(),D("span",Bke,"✖")),n.question.cssClasses.clearButtonIconId?(I(),ge(X,{key:1,is:"sv-svg-icon",iconName:n.question.cssClasses.clearButtonIconId,size:"auto"},null,8,["iconName"])):Y("",!0)],10,$ke)],2)):Y("",!0),n.question.showLoadingIndicator?(I(),D("div",{key:1,class:$(n.question.cssClasses.loadingIndicator)},[he(X,{is:"sv-loading-indicator"})],2)):Y("",!0)],6))}}),Uke=["innerHTML"],Hke=Pe({inheritAttrs:!1,__name:"Html",props:{question:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=Up(()=>e.question.locHtml);return(r,s)=>(I(),D("div",{ref_key:"root",ref:t,class:$(r.question.renderCssRoot),innerHTML:Xe(n)},null,10,Uke))}}),zke=["src","alt","width","height"],jke=["src","width","height"],Qke=["src","title","width","height"],Wke=Pe({inheritAttrs:!1,__name:"Image",props:{question:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=Up(()=>e.question.locImageLink);return(r,s)=>(I(),D("div",{class:$(r.question.cssClasses.root),ref_key:"root",ref:t},[r.question.renderedMode==="image"?ri((I(),D("img",{key:0,class:$(r.question.getImageCss()),src:Xe(n),alt:r.question.altText||r.question.title,width:r.question.renderedWidth,height:r.question.renderedHeight,style:Ft({objectFit:r.question.imageFit,width:r.question.renderedStyleWidth,height:r.question.renderedStyleHeight}),onLoad:s[0]||(s[0]=o=>{r.question.onLoadHandler()}),onError:s[1]||(s[1]=o=>{r.question.onErrorHandler()})},null,46,zke)),[[Lo,Xe(n)&&!r.question.contentNotLoaded]]):Y("",!0),r.question.renderedMode==="video"?ri((I(),D("video",{key:1,controls:"",class:$(r.question.getImageCss()),src:Xe(n),width:r.question.renderedWidth,height:r.question.renderedHeight,style:Ft({objectFit:r.question.imageFit,width:r.question.renderedStyleWidth,height:r.question.renderedStyleHeight}),onLoadedmetadata:s[2]||(s[2]=o=>{r.question.onLoadHandler()}),onError:s[3]||(s[3]=o=>{r.question.onErrorHandler()})},null,46,jke)),[[Lo,Xe(n)&&!r.question.contentNotLoaded]]):Y("",!0),r.question.renderedMode==="youtube"?(I(),D("iframe",{key:2,class:$(r.question.getImageCss()),src:Xe(n),title:r.question.renderedAltText,width:r.question.renderedWidth,height:r.question.renderedHeight,style:Ft({objectFit:r.question.imageFit,width:r.question.renderedStyleWidth,height:r.question.renderedStyleHeight})},null,14,Qke)):Y("",!0),!Xe(n)||r.question.contentNotLoaded?(I(),D("div",{key:3,class:$(r.question.cssClasses.noImage)},[he(X,{is:"sv-svg-icon",iconName:r.question.cssClasses.noImageSvgIconId,size:48},null,8,["iconName"])],2)):Y("",!0)],2))}}),Gke=["aria-label"],Kke=Pe({inheritAttrs:!1,__name:"Expression",props:{question:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>(I(),D("div",{class:$(n.question.cssClasses.root),ref_key:"root",ref:t,"aria-live":"polite","aria-label":n.question.formatedValue},kt(n.question.formatedValue),11,Gke))}}),Jke=["id","aria-required","aria-label","aria-invalid","aria-errormessage","multiple","title","accept","capture"],Yke=["id","multiple","placeholder"],Zke=["id","multiple","placeholder"],Xke=Pe({inheritAttrs:!1,__name:"File",props:{question:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>(I(),D("div",{class:$(n.question.fileRootCss),ref_key:"root",ref:t},[!n.question.isReadOnlyAttr&&!n.question.isDisabledAttr&&n.question.hasFileUI?(I(),D("input",{key:0,class:$(n.question.cssClasses.fileInput),tabindex:"-1",type:"file",id:n.question.inputId,"aria-required":n.question.ariaRequired,"aria-label":n.question.ariaLabel,"aria-invalid":n.question.ariaInvalid,"aria-errormessage":n.question.ariaErrormessage,multiple:n.question.allowMultiple,title:n.question.inputTitle,accept:n.question.acceptedTypes,capture:n.question.renderCapture},null,10,Jke)):Y("",!0),n.question.isReadOnlyAttr?(I(),D("input",{key:1,type:"file",readonly:"",id:n.question.inputId,class:$(n.question.getReadOnlyFileCss()),multiple:n.question.allowMultiple,placeholder:n.question.title,style:{color:"transparent"}},null,10,Yke)):Y("",!0),n.question.isDisabledAttr?(I(),D("input",{key:2,type:"file",disabled:"",id:n.question.inputId,class:$(n.question.getReadOnlyFileCss()),multiple:n.question.allowMultiple,placeholder:n.question.title,style:{color:"transparent"}},null,10,Zke)):Y("",!0),te("div",{class:$(n.question.cssClasses.dragArea),onDrop:r[0]||(r[0]=(...s)=>n.question.onDrop&&n.question.onDrop(...s)),onDragover:r[1]||(r[1]=(...s)=>n.question.onDragOver&&n.question.onDragOver(...s)),onDragleave:r[2]||(r[2]=(...s)=>n.question.onDragLeave&&n.question.onDragLeave(...s)),onDragenter:r[3]||(r[3]=(...s)=>n.question.onDragEnter&&n.question.onDragEnter(...s))},[n.question.showFileDecorator?(I(),D("div",{key:0,class:$(n.question.getFileDecoratorCss())},[n.question.showDragAreaPlaceholder?(I(),D("span",{key:0,class:$(n.question.cssClasses.dragAreaPlaceholder)},[he(X,{is:"survey-string",locString:n.question.locRenderedPlaceholder},null,8,["locString"])],2)):Y("",!0),te("div",{class:$(n.question.cssClasses.wrapper)},[n.question.actionsContainerVisible?(I(),ge(X,{key:0,is:"sv-action-bar",model:n.question.actionsContainer},null,8,["model"])):Y("",!0)],2)],2)):Y("",!0),n.question.showLoadingIndicator?(I(),D("div",{key:1,class:$(n.question.cssClasses.loadingIndicator)},[he(X,{is:"sv-loading-indicator"})],2)):Y("",!0),n.question.isPlayingVideo?(I(),ge(X,{key:2,is:"sv-file-video",question:n.question},null,8,["question"])):Y("",!0),n.question.allowShowPreview?(I(),ge(X,{key:3,is:"sv-file-preview",question:n.question},null,8,["question"])):Y("",!0),n.question.fileNavigatorVisible?(I(),ge(X,{key:4,is:"sv-action-bar",model:n.question.fileNavigator},null,8,["model"])):Y("",!0)],34)],2))}}),eAe={class:"sv-hidden"},n7="survey-imagepicker-item",tAe=Pe({inheritAttrs:!1,__name:"Imagepicker",props:{question:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=s=>e.question.getItemValueWrapperComponentName(s)||n7,r=s=>({componentName:n7,componentData:{question:e.question,item:s,data:e.question.getItemValueWrapperComponentData(s)}});return(s,o)=>(I(),D("fieldset",{class:$(s.question.getSelectBaseRootCss()),style:Ft(s.question.getContainerStyle()),ref_key:"root",ref:t},[te("legend",eAe,kt(s.question.locTitle.renderedHtml),1),s.question.hasColumns?Y("",!0):(I(!0),D(xt,{key:0},en(s.question.visibleChoices,a=>(I(),ge(X,Ae({key:a.value,is:n(a)},r(a)),null,16,["is"]))),128)),s.question.hasColumns?(I(!0),D(xt,{key:1},en(s.question.columns,(a,l)=>(I(),D("div",{class:$(s.question.getColumnClass()),key:l,role:"presentation"},[(I(!0),D(xt,null,en(a,u=>(I(),ge(X,Ae({key:u.value,is:n(u)},r(u)),null,16,["is"]))),128))],2))),128)):Y("",!0)],6))}}),nAe=["name","value","id","disabled","readonly","required","aria-label","aria-invalid","aria-errormessage"],iAe=["name","value","id","disabled","readonly","required","aria-label","aria-invalid","aria-errormessage"],rAe=["src","width","height","alt"],sAe=["src","width","height"],oAe=Pe({inheritAttrs:!1,__name:"ImagepickerItem",props:{question:{},item:{}},setup(i){const e=i,t=s=>e.question.getItemClass(s),n=Ze({get(){return e.question.value},set(s){const o=e.question;o.isReadOnlyAttr||(o.value=s)}});dn(()=>e.item);const r=Up(()=>e.item.locImageLink);return(s,o)=>(I(),D("div",{class:$(t(s.item))},[te("label",{class:$(s.question.cssClasses.label)},[s.question.multiSelect?ri((I(),D("input",{key:0,type:"checkbox",name:s.question.questionName,value:s.item.value,id:s.question.getItemId(s.item),"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),disabled:!s.question.getItemEnabled(s.item),readonly:s.question.isReadOnlyAttr,required:s.question.inputRequiredAttribute,"aria-label":s.item.locText.renderedHtml,"aria-invalid":s.question.ariaInvalid,"aria-errormessage":s.question.ariaErrormessage,class:$(s.question.cssClasses.itemControl)},null,10,nAe)),[[bE,n.value]]):ri((I(),D("input",{key:1,type:"radio",name:s.question.questionName,value:s.item.value,id:s.question.getItemId(s.item),"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a),disabled:!s.question.getItemEnabled(s.item),readonly:s.question.isReadOnlyAttr,required:s.question.hasRequiredError(),"aria-label":s.item.locText.renderedHtml,"aria-invalid":s.question.ariaInvalid,"aria-errormessage":s.question.ariaErrormessage,class:$(s.question.cssClasses.itemControl)},null,10,iAe)),[[v7,n.value]]),te("div",{class:$(s.question.cssClasses.itemDecorator)},[te("div",{class:$(s.question.cssClasses.imageContainer)},[s.question.cssClasses.checkedItemDecorator?(I(),D("span",{key:0,class:$(s.question.cssClasses.checkedItemDecorator),"aria-hidden":"true"},[s.question.cssClasses.checkedItemSvgIconId?(I(),ge(X,{key:0,is:"sv-svg-icon",class:$(s.question.cssClasses.checkedItemSvgIcon),size:"auto",iconName:s.question.cssClasses.checkedItemSvgIconId},null,8,["class","iconName"])):Y("",!0)],2)):Y("",!0),Xe(r)&&!s.item.contentNotLoaded&&s.question.contentMode==="image"?(I(),D("img",{key:1,class:$(s.question.cssClasses.image),src:Xe(r),width:s.question.renderedImageWidth,height:s.question.renderedImageHeight,style:Ft({objectFit:s.question.imageFit}),alt:s.item.locText.renderedHtml,onLoad:o[2]||(o[2]=a=>{s.question.onContentLoaded(s.item,a)}),onError:o[3]||(o[3]=a=>{s.item.onErrorHandler()})},null,46,rAe)):Y("",!0),Xe(r)&&!s.item.contentNotLoaded&&s.question.contentMode==="video"?(I(),D("video",{key:2,controls:"",class:$(s.question.cssClasses.image),src:Xe(r),width:s.question.renderedImageWidth,height:s.question.renderedImageHeight,style:Ft({objectFit:s.question.imageFit}),onLoadedmetadata:o[4]||(o[4]=a=>{s.question.onContentLoaded(s.item,a)}),onError:o[5]||(o[5]=a=>{s.item.onErrorHandler()})},null,46,sAe)):Y("",!0),!Xe(r)||s.item.contentNotLoaded?(I(),D("div",{key:3,class:$(s.question.cssClasses.itemNoImage),style:Ft({width:s.question.renderedImageWidth+"px",height:s.question.renderedImageHeight+"px",objectFit:s.question.imageFit})},[he(X,{is:"sv-svg-icon",class:$(s.question.cssClasses.itemNoImageSvgIcon),iconName:s.question.cssClasses.itemNoImageSvgIconId,size:48},null,8,["class","iconName"])],6)):Y("",!0)],2),s.question.showLabel?(I(),D("span",{key:0,class:$(s.question.cssClasses.itemText)},[he(X,{is:"survey-string",locString:s.item.locText},null,8,["locString"])],2)):Y("",!0)],2)],2)],2))}}),aAe=Pe({inheritAttrs:!1,__name:"Comment",props:{question:{}},setup(i){const e=i,t=Qe();function n(r){t.value=r}return yi(e,t),(r,s)=>!r.question.isReadOnlyRenderDiv()&&r.question.getMaxLength()?(I(),D("div",{key:0,ref_key:"root",ref:t},[he(X,{is:"sv-text-area",model:r.question.textAreaModel},null,8,["model"]),he(X,{is:"sv-character-counter",counter:r.question.characterCounter,remainingCharacterCounter:r.question.cssClasses.remainingCharacterCounter},null,8,["counter","remainingCharacterCounter"])],512)):!r.question.isReadOnlyRenderDiv()&&!r.question.getMaxLength()?(I(),ge(X,{key:1,is:"sv-text-area","get-ref":n,model:r.question.textAreaModel},null,8,["model"])):(I(),D("div",{key:2,ref_key:"root",ref:t},kt(r.question.value),513))}}),lAe=Pe({inheritAttrs:!1,__name:"Dropdown",props:{question:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>(I(),D("div",{class:$(n.question.renderCssRoot),ref_key:"root",ref:t},[he(X,{is:"sv-dropdown",question:n.question},null,8,["question"]),n.question.isShowingChoiceComment?(I(),ge(X,{key:0,is:"survey-other-choice",question:n.question,item:n.question.selectedItem},null,8,["question","item"])):Y("",!0)],2))}}),uAe=["id","autocomplete","aria-required","aria-label","aria-invalid","aria-errormessage","required"],cAe={key:0,value:""},dAe=["id"];Kc.Instance.registerRenderer("dropdown","select","sv-dropdown-select");const hAe=Pe({inheritAttrs:!1,__name:"DropdownSelect",props:{question:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=o=>{e.question.onClick(o)},r=o=>{e.question.onKeyUp(o)},s=Ze({get(){return e.question.value??""},set(o){const a=e.question;o===""?a.renderedValue=void 0:a.renderedValue=o}});return(o,a)=>(I(),D("div",{class:$(o.question.renderCssRoot),ref_key:"root",ref:t},[te("div",{class:$(o.question.cssClasses.selectWrapper)},[o.question.isReadOnly?(I(),D("div",{key:1,disabled:"",id:o.question.inputId,class:$(o.question.getControlClass())},kt(o.question.readOnlyText),11,dAe)):ri((I(),D("select",{key:0,id:o.question.inputId,"onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),onClick:n,onKeyup:r,autocomplete:o.question.autocomplete,class:$(o.question.getControlClass()),"aria-required":o.question.a11y_input_ariaRequired,"aria-label":o.question.a11y_input_ariaLabel,"aria-invalid":o.question.a11y_input_ariaInvalid,"aria-errormessage":o.question.a11y_input_ariaErrormessage,required:o.question.isRequired},[o.question.allowClear?(I(),D("option",cAe,kt(o.question.placeholder),1)):Y("",!0),(I(!0),D(xt,null,en(o.question.visibleChoices,l=>(I(),ge(X,{is:"sv-dropdown-option-item",item:l,key:l.id},null,8,["item"]))),128))],42,uAe)),[[MB,s.value]]),o.question.cssClasses.chevronButtonIconId?(I(),D("div",{key:2,class:$(o.question.cssClasses.chevronButton),"aria-hidden":"true"},[he(X,{is:"sv-svg-icon",class:$(o.question.cssClasses.chevronButtonSvg),iconName:o.question.cssClasses.chevronButtonIconId,size:"auto"},null,8,["class","iconName"])],2)):Y("",!0)],2),o.question.isShowingChoiceComment?(I(),ge(X,{key:0,is:"survey-other-choice",question:o.question,item:o.question.selectedItem},null,8,["question","item"])):Y("",!0)],2))}}),fAe=["value","disabled"],pAe=Pe({__name:"OptionItem",props:{item:{}},setup(i){const e=i,t=Up(()=>e.item.locText);return dn(()=>e.item),(n,r)=>(I(),D("option",{value:n.item.value,disabled:!n.item.isEnabled},kt(Xe(t)),9,fAe))}}),gAe=["id","disabled","tabindex","role","aria-required","aria-invalid","aria-errormessage","aria-expanded","aria-label","aria-labelledby","aria-describedby","aria-controls","aria-activedescendant","required"],mAe={style:{visibility:"hidden"}},vAe=["disabled","inputmode","id","tabindex","readonly","role","aria-required","aria-invalid","aria-errormessage","aria-expanded","aria-controls","aria-label","aria-labelledby","aria-describedby","aria-activedescendant","placeholder"],yAe=["id","role","aria-label","aria-labelledby","aria-describedby","tabindex"],bAe=Pe({__name:"Dropdown",props:{question:{}},setup(i){const e=i,t=Qe(null),n=Ze(()=>e.question.dropdownListModel),r=f=>{var m;(m=n.value)==null||m.onClick(f)},s=f=>{var m;(m=n.value)==null||m.keyHandler(f)},o=()=>{if(t.value){const f=t.value,m=n.value.inputStringRendered;se.isTwoValueEquals(m,f.value,!1,!0,!1)||(f.value=n.value.inputStringRendered)}},a=f=>{e.question.onBlur(f),o()},l=f=>{e.question.onFocus(f)},u=f=>{n.value.inputStringRendered=f.target.value},c=Ze(()=>e.question.showSelectedItemLocText),h=Ze(()=>e.question.selectedItemLocText);return dn(()=>n.value),ep(o),Zn(o),(f,m)=>{var b,_,E,k;return I(),D("div",{class:$(f.question.cssClasses.selectWrapper),onClick:r},[f.question.isReadOnly?Y("",!0):(I(),D("div",{key:0,id:f.question.inputId,disabled:f.question.isDisabledAttr?!0:null,tabindex:n.value.noTabIndex?void 0:0,onKeydown:s,onBlur:a,class:$(f.question.getControlClass()),role:n.value.ariaQuestionRole,"aria-required":n.value.ariaQuestionRequired,"aria-invalid":n.value.ariaQuestionInvalid,"aria-errormessage":n.value.ariaQuestionErrorMessage,"aria-expanded":n.value.ariaQuestionExpanded,"aria-label":n.value.ariaQuestionLabel,"aria-labelledby":n.value.ariaQuestionLabelledby,"aria-describedby":n.value.ariaQuestionDescribedby,"aria-controls":n.value.ariaQuestionControls,"aria-activedescendant":n.value.ariaQuestionActivedescendant,required:f.question.isRequired?!0:null},[n.value.showHintPrefix?(I(),D("div",{key:0,class:$(f.question.cssClasses.hintPrefix)},[te("span",null,kt(n.value.hintStringPrefix),1)],2)):Y("",!0),te("div",{class:$(f.question.cssClasses.controlValue)},[c.value?(I(),ge(X,{key:0,is:"survey-string",locString:h.value},null,8,["locString"])):Y("",!0),n.value.showHintString?(I(),D("div",{key:1,class:$(f.question.cssClasses.hintSuffix)},[te("span",mAe,kt(n.value.inputStringRendered),1),te("span",null,kt(n.value.hintStringSuffix),1)],2)):Y("",!0),f.question.showInputFieldComponent?(I(),ge(X,{key:2,is:f.question.inputFieldComponentName,item:n.value.getSelectedAction(),question:f.question},null,8,["is","item","question"])):Y("",!0),n.value.needRenderInput?(I(),D("input",{key:3,type:"text",ref_key:"inputElement",ref:t,class:$(f.question.cssClasses.filterStringInput),disabled:f.question.isDisabledAttr,autocomplete:"off",inputmode:n.value.inputMode,id:f.question.getInputId(),tabindex:n.value.noTabIndex?void 0:-1,readonly:n.value.filterReadOnly?!0:void 0,role:n.value.ariaInputRole,"aria-required":n.value.ariaInputRequired,"aria-invalid":n.value.ariaInputInvalid,"aria-errormessage":n.value.ariaInputErrorMessage,"aria-expanded":n.value.ariaInputExpanded,"aria-controls":n.value.ariaInputControls,"aria-label":n.value.ariaInputLabel,"aria-labelledby":n.value.ariaInputLabelledby,"aria-describedby":n.value.ariaInputDescribedby,"aria-activedescendant":n.value.ariaInputActivedescendant,placeholder:n.value.placeholderRendered,onInput:u,onBlur:a,onFocus:l},null,42,vAe)):Y("",!0)],2),he(X,{is:"sv-action-bar",model:n.value.editorButtons},null,8,["model"])],42,gAe)),f.question.isInputReadOnly?Y("",!0):(I(),ge(X,{key:1,is:"sv-popup",model:n.value.popupModel},null,8,["model"])),f.question.isReadOnly?(I(),D("div",{key:2,id:f.question.inputId,role:(b=n.value)==null?void 0:b.ariaQuestionRole,"aria-label":(_=n.value)==null?void 0:_.ariaQuestionLabel,"aria-labelledby":(E=n.value)==null?void 0:E.ariaQuestionLabelledby,"aria-describedby":(k=n.value)==null?void 0:k.ariaQuestionDescribedby,"aria-expanded":!1,"aria-readonly":!0,"aria-disabled":!0,tabindex:f.question.isDisabledAttr?void 0:0,class:$(f.question.getControlClass())},[te("div",{class:$(f.question.cssClasses.controlValue)},[f.question.locReadOnlyText?(I(),ge(X,{key:0,is:"survey-string",locString:f.question.locReadOnlyText},null,8,["locString"])):Y("",!0)],2),he(X,{is:"sv-action-bar",model:n.value.editorButtons},null,8,["model"])],10,yAe)):Y("",!0)],2)}}}),CAe=Pe({inheritAttrs:!1,__name:"Tagbox",props:{question:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>(I(),D("div",{class:$(n.question.renderCssRoot),ref_key:"root",ref:t},[he(X,{is:"sv-tagbox",question:n.question},null,8,["question"]),n.question.isOtherSelected?(I(),ge(X,{key:0,is:"survey-other-choice",question:n.question,item:n.question.otherItem},null,8,["question","item"])):Y("",!0)],2))}}),wAe=["id","tabindex","disabled","role","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage","aria-controls","aria-expanded","aria-activedescendant","required"],_Ae=["id","role","aria-label","aria-labelledby","aria-describedby","tabindex"],IAe=Pe({__name:"Tagbox",props:{question:{}},setup(i){const e=i,t=Ze(()=>{const a=e.question;return a.dropdownListModel||(a.dropdownListModel=new Bp(a)),e.question.dropdownListModel}),n=a=>{var l;(l=t.value)==null||l.onClick(a)},r=a=>{var l;(l=t.value)==null||l.keyHandler(a)},s=a=>{var l;(l=t.value)==null||l.onBlur(a)},o=rw(()=>e.question.selectedChoices);return dn(()=>t.value),(a,l)=>{var u,c,h,f;return I(),D("div",{class:$(a.question.cssClasses.selectWrapper),onClick:n},[a.question.isReadOnly?Y("",!0):(I(),D("div",{key:0,id:a.question.inputId,tabindex:t.value.noTabIndex?void 0:0,disabled:a.question.isDisabledAttr?!0:null,onKeydown:r,onBlur:s,class:$(a.question.getControlClass()),role:t.value.ariaQuestionRole,"aria-required":t.value.ariaQuestionRequired,"aria-label":t.value.ariaQuestionLabel,"aria-labelledby":t.value.ariaQuestionLabelledby,"aria-describedby":t.value.ariaQuestionDescribedby,"aria-invalid":t.value.ariaQuestionInvalid,"aria-errormessage":t.value.ariaQuestionErrorMessage,"aria-controls":t.value.ariaQuestionControls,"aria-expanded":t.value.ariaQuestionExpanded,"aria-activedescendant":t.value.ariaQuestionActivedescendant,required:a.question.isRequired?!0:null},[te("div",{class:$(a.question.cssClasses.controlValue)},[(I(!0),D(xt,null,en(Xe(o),(m,b)=>(I(),ge(X,{is:"sv-tagbox-item",item:m,question:a.question,key:"item"+b},null,8,["item","question"]))),128)),t.value.needRenderInput?(I(),ge(X,{key:0,is:"sv-tagbox-filter",model:t.value,question:a.question},null,8,["model","question"])):Y("",!0)],2),he(X,{is:"sv-action-bar",model:t.value.editorButtons},null,8,["model"])],42,wAe)),a.question.isInputReadOnly?Y("",!0):(I(),ge(X,{key:1,is:"sv-popup",model:t.value.popupModel},null,8,["model"])),a.question.isReadOnly?(I(),D("div",{key:2,id:a.question.inputId,role:(u=t.value)==null?void 0:u.ariaQuestionRole,"aria-label":(c=t.value)==null?void 0:c.ariaQuestionLabel,"aria-labelledby":(h=t.value)==null?void 0:h.ariaQuestionLabelledby,"aria-describedby":(f=t.value)==null?void 0:f.ariaQuestionDescribedby,"aria-expanded":!1,"aria-readonly":!0,"aria-disabled":!0,tabindex:a.question.isDisabledAttr?void 0:0,class:$(a.question.getControlClass())},[te("div",{class:$(a.question.cssClasses.controlValue)},[a.question.locReadOnlyText?(I(),ge(X,{key:0,is:"survey-string",locString:a.question.locReadOnlyText},null,8,["locString"])):Y("",!0)],2),he(X,{is:"sv-action-bar",model:t.value.editorButtons},null,8,["model"])],10,_Ae)):Y("",!0)],2)}}}),EAe={style:{visibility:"hidden"}},SAe=["placeholder","disabled","inputmode","role","aria-required","aria-invalid","aria-errormessage","aria-expanded","aria-label","aria-labelledby","aria-describedby","aria-controls","aria-activedescendant","id","readonly","size"],TAe=Pe({__name:"TagboxFilter",props:{question:{},model:{}},setup(i){const e=i,t=a=>{const l=e.model;l.inputStringRendered=a.target.value},n=a=>{e.model.inputKeyHandler(a)},r=a=>{e.question.onBlur(a)},s=a=>{e.question.onFocus(a)},o=Ze({get(){return e.model.inputStringRendered??""},set(a){const l=e.model;l.inputStringRendered=a}});return dn(()=>e.model),(a,l)=>(I(),D("div",{class:$(a.question.cssClasses.hint)},[a.model.showHintPrefix?(I(),D("div",{key:0,class:$(a.question.cssClasses.hintPrefix)},[te("span",null,kt(a.model.hintStringPrefix),1)],2)):Y("",!0),te("div",{class:$(a.question.cssClasses.hintSuffixWrapper)},[a.question.showSelectedItemLocText?(I(),ge(X,{key:0,is:"survey-string",locString:a.question.selectedItemLocText},null,8,["locString"])):Y("",!0),a.model.showHintString?(I(),D("div",{key:1,class:$(a.question.cssClasses.hintSuffix)},[te("span",EAe,kt(a.model.inputStringRendered),1),te("span",null,kt(a.model.hintStringSuffix),1)],2)):Y("",!0),ri(te("input",{type:"text",autocomplete:"off","onUpdate:modelValue":l[0]||(l[0]=u=>o.value=u),class:$(a.question.cssClasses.filterStringInput),placeholder:a.model.filterStringPlaceholder,disabled:a.question.isDisabledAttr,inputmode:a.model.inputMode,role:a.model.ariaInputRole,"aria-required":a.model.ariaInputRequired,"aria-invalid":a.model.ariaInputInvalid,"aria-errormessage":a.model.ariaInputErrorMessage,"aria-expanded":a.model.ariaInputExpanded,"aria-label":a.model.ariaInputLabel,"aria-labelledby":a.model.ariaInputLabelledby,"aria-describedby":a.model.ariaInputDescribedby,"aria-controls":a.model.ariaInputControls,"aria-activedescendant":a.model.ariaInputActivedescendant,id:a.question.getInputId(),readonly:a.model.filterReadOnly?!0:void 0,size:a.model.inputStringRendered?void 0:1,onChange:t,onKeydown:n,onBlur:r,onFocus:s},null,42,SAe),[[FB,o.value]])],2)],2))}}),xAe={class:"sv-tagbox__item-text"},PAe=Pe({__name:"TagboxItem",props:{question:{},item:{}},setup(i){const e=i,t=n=>{e.question.dropdownListModel.deselectItem(e.item.value),n.stopPropagation()};return dn(()=>e.item),(n,r)=>(I(),D("div",{class:"sv-tagbox__item",key:n.item.key},[te("div",xAe,[he(X,{is:"survey-string",locString:n.item.locText},null,8,["locString"])]),te("div",{class:$(n.question.cssClasses.cleanItemButton),onClick:t},[he(X,{is:"sv-svg-icon",class:$(n.question.cssClasses.cleanItemButtonSvg),iconName:n.question.cssClasses.cleanItemButtonIconId,size:"auto"},null,8,["class","iconName"])],2)]))}}),RAe=Pe({inheritAttrs:!1,__name:"Ranking",props:{question:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=s=>e.question.getItemValueWrapperComponentName(s)||"survey-ranking-item",r=(s,o,a)=>({componentName:"survey-ranking-item",componentData:{question:e.question,item:s,index:o,unrankedItem:a,data:e.question.getItemValueWrapperComponentData(s)}});return(s,o)=>(I(),D("div",{class:$(s.question.rootClass),ref_key:"root",ref:t},[s.question.selectToRankEnabled?Y("",!0):(I(!0),D(xt,{key:0},en(s.question.renderedRankingChoices,(a,l)=>(I(),ge(X,Ae({key:a.value+"-"+l+"-item",is:n(a)},r(a,l)),null,16,["is"]))),128)),s.question.selectToRankEnabled?(I(),D("div",{key:1,class:$(s.question.getContainerClasses("from")),"data-ranking":"from-container"},[(I(!0),D(xt,null,en(s.question.renderedUnRankingChoices,(a,l)=>(I(),ge(X,Ae({key:a.value+"-"+l+"-item",is:n(a)},r(a,l,!0)),null,16,["is"]))),128)),s.question.renderedUnRankingChoices.length===0?(I(),D("div",{key:0,class:$(s.question.cssClasses.containerPlaceholder)},[he(X,{is:"survey-string",locString:s.question.locSelectToRankEmptyRankedAreaText},null,8,["locString"])],2)):Y("",!0)],2)):Y("",!0),s.question.selectToRankEnabled?(I(),D("div",{key:2,class:$(s.question.cssClasses.containersDivider)},null,2)):Y("",!0),s.question.selectToRankEnabled?(I(),D("div",{key:3,class:$(s.question.getContainerClasses("to")),"data-ranking":"to-container"},[(I(!0),D(xt,null,en(s.question.renderedRankingChoices,(a,l)=>(I(),ge(X,Ae({key:a.value+"-"+l+"-item",is:n(a)},r(a,l)),null,16,["is"]))),128)),s.question.renderedRankingChoices.length===0?(I(),D("div",{key:0,class:$(s.question.cssClasses.containerPlaceholder)},[he(X,{is:"survey-string",locString:s.question.locSelectToRankEmptyUnrankedAreaText},null,8,["locString"])],2)):Y("",!0)],2)):Y("",!0)],2))}}),kAe=["id","tabindex","data-sv-drop-target-ranking-item"],AAe={tabindex:"-1",style:{outline:"none"}},VAe=["xlink:href"],LAe=["xlink:href"],OAe=["xlink:href"],DAe=Pe({inheritAttrs:!1,__name:"RankingItem",props:{index:{},question:{},item:{},unrankedItem:{type:Boolean}},setup(i){const e=i,t=Ze(()=>e.question.getNumberByIndex(e.index));return dn(()=>e.item),(n,r)=>(I(),D("div",{id:n.question.getItemId(n.item),tabindex:n.question.getItemTabIndex(n.item),"data-sv-drop-target-ranking-item":n.index,class:$(n.question.getItemClass(n.item)),onKeydown:r[0]||(r[0]=s=>{n.question.handleKeydown.call(n.question,s,n.item)}),onPointerdown:r[1]||(r[1]=s=>{n.question.handlePointerDown.call(n.question,s,n.item,s.currentTarget)}),onPointerup:r[2]||(r[2]=s=>{n.question.handlePointerUp.call(n.question,s,n.item,s.currentTarget)})},[te("div",AAe,[te("div",{class:$(n.question.cssClasses.itemGhostNode)},null,2),te("div",{class:$(n.question.cssClasses.itemContent)},[te("div",{class:$(n.question.cssClasses.itemIconContainer)},[(I(),D("svg",{class:$(n.question.getIconHoverCss())},[te("use",{"xlink:href":n.question.dragDropSvgIcon},null,8,VAe)],2)),(I(),D("svg",{class:$(n.question.getIconFocusCss())},[te("use",{"xlink:href":n.question.arrowsSvgIcon},null,8,LAe)],2))],2),!n.unrankedItem&&t.value?(I(),D("div",{key:0,class:$(n.question.getItemIndexClasses(n.item))},kt(t.value),3)):(I(),D("div",{key:1,class:$(n.question.getItemIndexClasses(n.item))},[(I(),D("svg",null,[te("use",{"xlink:href":n.question.dashSvgIcon},null,8,OAe)]))],2)),he(X,{is:n.question.itemComponent,item:n.item,cssClasses:n.question.cssClasses},null,8,["is","item","cssClasses"])],2)])],42,kAe))}}),NAe=Pe({inheritAttrs:!1,__name:"RankingItemContent",props:{item:{},cssClasses:{}},setup(i){return(e,t)=>(I(),D("div",{class:$(e.cssClasses.controlLabel)},[he(X,{is:"survey-string",locString:e.item.locText},null,8,["locString"])],2))}}),MAe=["role","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],FAe=te("legend",{role:"presentation",class:"sv-hidden"},null,-1),$Ae=Pe({inheritAttrs:!1,__name:"Rating",props:{question:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=r=>e.question.getInputId(r);return(r,s)=>(I(),D("div",{class:$(r.question.ratingRootCss),ref_key:"root",ref:t},[te("fieldset",{role:r.question.a11y_input_ariaRole,"aria-required":r.question.a11y_input_ariaRequired,"aria-label":r.question.a11y_input_ariaLabel,"aria-labelledby":r.question.a11y_input_ariaLabelledBy,"aria-describedby":r.question.a11y_input_ariaDescribedBy,"aria-invalid":r.question.a11y_input_ariaInvalid,"aria-errormessage":r.question.a11y_input_ariaErrormessage},[FAe,r.question.hasMinLabel?(I(),D("span",{key:0,class:$(r.question.cssClasses.minText)},[he(X,{is:"survey-string",locString:r.question.locMinRateDescription},null,8,["locString"])],2)):Y("",!0),(I(!0),D(xt,null,en(r.question.renderedRateItems,(o,a)=>(I(),ge(X,{key:n(a),is:r.question.itemComponent,item:o,index:a,question:r.question},null,8,["is","item","index","question"]))),128)),r.question.hasMaxLabel?(I(),D("span",{key:1,class:$(r.question.cssClasses.maxText)},[he(X,{is:"survey-string",locString:r.question.locMaxRateDescription},null,8,["locString"])],2)):Y("",!0)],8,MAe)],2))}}),BAe=["name","id","value","disabled","readonly","aria-label"],qAe=["data-text"],UAe=Pe({__name:"RatingItem",props:{question:{},item:{},index:{}},setup(i){const e=i;return dn(()=>e.item),(t,n)=>(I(),D("label",{key:t.item.value,onMousedown:n[1]||(n[1]=r=>t.question.onMouseDown()),class:$(t.question.getItemClassByText(t.item.itemValue,t.item.text))},[te("input",{type:"radio",class:"sv-visuallyhidden",name:t.question.questionName,id:t.question.getInputId(t.index),value:t.item.value,disabled:t.question.isDisabledAttr,readonly:t.question.isReadOnlyAttr,onClick:n[0]||(n[0]=r=>t.question.setValueFromClick(r.target.value)),"aria-label":t.question.ariaLabel},null,8,BAe),te("span",{class:$(t.question.cssClasses.itemText),"data-text":t.item.text},[he(X,{is:"survey-string",locString:t.item.locText},null,8,["locString"])],10,qAe)],34))}}),HAe=["title"],zAe=["name","id","value","disabled","readonly","aria-label"],jAe=Pe({__name:"RatingItemSmiley",props:{question:{},item:{},index:{}},setup(i){const e=i;return dn(()=>e.item),(t,n)=>(I(),D("label",{key:t.item.value,onMousedown:n[1]||(n[1]=r=>t.question.onMouseDown()),style:Ft(t.question.getItemStyle(t.item.itemValue,t.item.highlight)),class:$(t.question.getItemClass(t.item.itemValue,t.item.highlight)),onMouseover:n[2]||(n[2]=r=>t.question.onItemMouseIn(t.item)),onMouseleave:n[3]||(n[3]=r=>t.question.onItemMouseOut(t.item)),title:t.item.text},[te("input",{type:"radio",class:"sv-visuallyhidden",name:t.question.questionName,id:t.question.getInputId(t.index),value:t.item.value,disabled:t.question.isDisabledAttr,readonly:t.question.isReadOnlyAttr,onClick:n[0]||(n[0]=r=>t.question.setValueFromClick(r.target.value)),"aria-label":t.question.ariaLabel},null,8,zAe),he(X,{is:"sv-svg-icon",iconName:t.question.getItemSmileyIconName(t.item.itemValue),size:"auto"},null,8,["iconName"])],46,HAe))}}),QAe=["title"],WAe=["name","id","value","disabled","readonly","aria-label"],GAe=Pe({__name:"RatingItemStar",props:{question:{},item:{},index:{}},setup(i){const e=i;return dn(()=>e.item),(t,n)=>(I(),D("label",{key:t.item.value,onMousedown:n[1]||(n[1]=r=>t.question.onMouseDown()),class:$(t.question.getItemClass(t.item.itemValue)),onMouseover:n[2]||(n[2]=r=>t.question.onItemMouseIn(t.item)),onMouseleave:n[3]||(n[3]=r=>t.question.onItemMouseOut(t.item)),title:t.item.text},[te("input",{type:"radio",class:"sv-visuallyhidden",name:t.question.questionName,id:t.question.getInputId(t.index),value:t.item.value,disabled:t.question.isDisabledAttr,readonly:t.question.isReadOnlyAttr,onClick:n[0]||(n[0]=r=>t.question.setValueFromClick((r==null?void 0:r.target).value)),"aria-label":t.question.ariaLabel},null,8,WAe),he(X,{is:"sv-svg-icon",class:$("sv-star"),iconName:t.question.itemStarIcon,size:"auto"},null,8,["iconName"]),he(X,{is:"sv-svg-icon",class:$("sv-star-2"),iconName:t.question.itemStarIconAlt,size:"auto"},null,8,["iconName"])],42,QAe))}}),KAe={class:"sd-rating-dropdown-item"},JAe={class:"sd-rating-dropdown-item_text"},YAe={key:0,class:"sd-rating-dropdown-item_description"},ZAe=Pe({__name:"RatingDropdownItem",props:{item:{},model:{}},setup(i){const e=i;return dn(()=>e.item),(t,n)=>(I(),D("div",KAe,[te("span",JAe,kt(t.item.title),1),t.item.description?(I(),D("div",YAe,[he(X,{is:"survey-string",locString:t.item.description},null,8,["locString"])])):Y("",!0)]))}});Kc.Instance.registerRenderer("rating","dropdown","sv-rating-dropdown");const XAe=Pe({inheritAttrs:!1,__name:"RatingDropdown",props:{question:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>(I(),D("div",{class:$(n.question.cssClasses.rootDropdown),ref_key:"root",ref:t},[he(X,{is:"sv-dropdown",question:n.question},null,8,["question"])],2))}}),eVe=["name","value","id",".indeterminate","disabled","readonly","role","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],tVe=Pe({inheritAttrs:!1,__name:"BooleanSwitch",props:{question:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=(s,o)=>{e.question.onLabelClick(s,o)},r=s=>{e.question.onSwitchClickModel(s)};return(s,o)=>(I(),D("div",{class:$(s.question.cssClasses.root),ref_key:"root",ref:t,onKeydown:o[4]||(o[4]=a=>s.question.onKeyDownCore(a))},[te("label",{class:$(s.question.getItemCss())},[ri(te("input",{type:"checkbox",name:s.question.name,value:s.question.booleanValue??"","onUpdate:modelValue":o[0]||(o[0]=a=>s.question.booleanValue=a),class:$(s.question.cssClasses.control),id:s.question.inputId,".indeterminate":s.question.isIndeterminate,disabled:s.question.isDisabledAttr,readonly:s.question.isReadOnlyAttr,role:s.question.a11y_input_ariaRole,"aria-required":s.question.a11y_input_ariaRequired,"aria-label":s.question.a11y_input_ariaLabel,"aria-labelledby":s.question.a11y_input_ariaLabelledBy,"aria-describedby":s.question.a11y_input_ariaDescribedBy,"aria-invalid":s.question.a11y_input_ariaInvalid,"aria-errormessage":s.question.a11y_input_ariaErrormessage},null,42,eVe),[[bE,s.question.booleanValue]]),te("div",{class:$(s.question.cssClasses.sliderGhost),onClick:o[1]||(o[1]=a=>n(a,s.question.swapOrder))},[te("span",{class:$(s.question.getLabelCss(s.question.swapOrder))},[he(X,{is:"survey-string",locString:s.question.locLabelLeft},null,8,["locString"])],2)],2),te("div",{class:$(s.question.cssClasses.switch),onClick:o[2]||(o[2]=a=>r(a))},[te("span",{class:$(s.question.cssClasses.slider)},[s.question.cssClasses.sliderText&&s.question.isDeterminated?(I(),D("span",{key:0,class:$(s.question.cssClasses.sliderText)},[he(X,{is:"survey-string",locString:s.question.getCheckedLabel()},null,8,["locString"])],2)):Y("",!0)],2)],2),te("div",{class:$(s.question.cssClasses.sliderGhost),onClick:o[3]||(o[3]=a=>n(a,!s.question.swapOrder))},[te("span",{class:$(s.question.getLabelCss(!s.question.swapOrder))},[he(X,{is:"survey-string",locString:s.question.locLabelRight},null,8,["locString"])],2)],2)],2)],34))}});Kc.Instance.registerRenderer("boolean","radio","sv-boolean-radio");const nVe=Pe({inheritAttrs:!1,__name:"BooleanRadio",props:{question:{}},setup(i){const e=Qe(null);return yi(i,e),(t,n)=>(I(),D("div",{class:$(t.question.cssClasses.rootRadio),ref_key:"root",ref:e},[te("fieldset",{role:"presentation",class:$(t.question.cssClasses.radioFieldset)},[t.question.swapOrder?(I(),ge(X,{is:"sv-boolean-radio-item",key:"true",question:t.question,locText:t.question.locLabelTrue,value:!0},null,8,["question","locText"])):Y("",!0),(I(),ge(X,{is:"sv-boolean-radio-item",key:"false",question:t.question,locText:t.question.locLabelFalse,value:!1},null,8,["question","locText"])),t.question.swapOrder?Y("",!0):(I(),ge(X,{is:"sv-boolean-radio-item",key:"true",question:t.question,locText:t.question.locLabelTrue,value:!0},null,8,["question","locText"]))],2)],2))}}),iVe=["name","value","checked","aria-errormessage","disabled","readonly"],rVe=["xlink:href"],sVe=Pe({__name:"BooleanRadioItem",props:{question:{},locText:{},value:{type:Boolean}},setup(i){const e=i,t=n=>{const r=e.question;r.booleanValue=n.target.value=="true"};return(n,r)=>(I(),D("div",{role:"presentation",class:$(n.question.getRadioItemClass(n.question.cssClasses,n.value))},[te("label",{class:$(n.question.cssClasses.radioLabel)},[te("input",{type:"radio",name:n.question.name,value:n.value,checked:n.value===n.question.booleanValueRendered,"aria-errormessage":n.question.ariaErrormessage,disabled:n.question.isDisabledAttr,readonly:n.question.isReadOnlyAttr,class:$(n.question.cssClasses.itemRadioControl),onChange:t},null,42,iVe),n.question.cssClasses.materialRadioDecorator?(I(),D("span",{key:0,class:$(n.question.cssClasses.materialRadioDecorator)},[n.question.itemSvgIcon?(I(),D("svg",{key:0,class:$(n.question.cssClasses.itemRadioDecorator)},[te("use",{"xlink:href":n.question.itemSvgIcon},null,8,rVe)],2)):Y("",!0)],2)):Y("",!0),te("span",{class:$(n.question.cssClasses.radioControlLabel)},[he(X,{is:"survey-string",locString:n.locText},null,8,["locString"])],2)],2)],2))}}),oVe=["name","value","id",".indeterminate","disabled","readonly","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],aVe=["xlink:href"],lVe=te("span",{class:"check"},null,-1),uVe=["id"],cVe=["id"];Kc.Instance.registerRenderer("boolean","checkbox","sv-boolean-checkbox");const dVe=Pe({inheritAttrs:!1,__name:"BooleanCheckbox",props:{question:{},css:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>(I(),D("div",{class:$(n.question.cssClasses.rootCheckbox),ref_key:"root",ref:t},[te("div",{class:$(n.question.getCheckboxItemCss())},[te("label",{class:$(n.question.cssClasses.checkboxLabel)},[ri(te("input",{type:"checkbox",name:n.question.name,value:n.question.booleanValue??"","onUpdate:modelValue":r[0]||(r[0]=s=>n.question.booleanValue=s),class:$(n.question.cssClasses.controlCheckbox),id:n.question.inputId,".indeterminate":n.question.isIndeterminate,disabled:n.question.isDisabledAttr,readonly:n.question.isReadOnlyAttr,"aria-required":n.question.a11y_input_ariaRequired,"aria-label":n.question.a11y_input_ariaLabel,"aria-labelledby":n.question.a11y_input_ariaLabelledBy,"aria-describedby":n.question.a11y_input_ariaDescribedBy,"aria-invalid":n.question.a11y_input_ariaInvalid,"aria-errormessage":n.question.a11y_input_ariaErrormessage},null,42,oVe),[[bE,n.question.booleanValue]]),te("span",{class:$(n.question.cssClasses.checkboxMaterialDecorator)},[n.question.svgIcon?(I(),D("svg",{key:0,class:$(n.question.cssClasses.checkboxItemDecorator)},[te("use",{"xlink:href":n.question.svgIcon},null,8,aVe)],2)):Y("",!0),lVe],2),n.question.isLabelRendered?(I(),D("span",{key:0,id:n.question.labelRenderedAriaID,class:$(n.question.cssClasses.checkboxControlLabel)},[n.question.hasTitleActions?Y("",!0):(I(),ge(X,{key:0,is:"survey-element-title-content",element:n.question,css:n.css},null,8,["element","css"])),n.question.hasTitleActions?(I(),ge(X,{key:1,is:"sv-title-actions",element:n.question,css:n.css},null,8,["element","css"])):Y("",!0)],10,uVe)):Y("",!0)],2),n.question.canRenderLabelDescription?(I(),D("div",{key:0,class:$(n.question.cssDescription),id:n.question.ariaDescriptionId},[he(X,{is:"survey-string",locString:n.question.locDescription},null,8,["locString"])],10,cVe)):Y("",!0)],2)],2))}}),hVe=Pe({inheritAttrs:!1,__name:"Multipletext",props:{question:{}},setup(i){const e=i,t=Qe(null),n=rw(()=>e.question.getRows());return yi(e,t),(r,s)=>(I(),D("table",{class:$(r.question.getQuestionRootCss()),ref_key:"root",ref:t},[te("tbody",null,[(I(!0),D(xt,null,en(Xe(n),(o,a)=>(I(),D(xt,{key:r.question.inputId+"rowkey"+a},[o.isVisible?(I(),D("tr",{key:0,class:$(r.question.cssClasses.row)},[(I(!0),D(xt,null,en(o.cells,l=>(I(),D("td",{key:"item"+l.item.editor.id,class:$(l.className)},[he(X,{is:"survey-multipletext-item",question:r.question,cell:l},null,8,["question","cell"])],2))),128))],2)):Y("",!0)],64))),128))])],2))}}),fVe={key:1},pVe={key:2},gVe=Pe({__name:"MultipletextItem",props:{question:{},cell:{}},setup(i){const e=i,t=r=>B5(r);dn(()=>e.cell.item.editor);const n=Ze(()=>e.cell.item);return(r,s)=>r.cell.isErrorsCell?(I(),ge(X,{key:1,is:"survey-errors",element:n.value.editor},null,8,["element"])):(I(),D("label",{key:0,class:$(r.question.getItemLabelCss(n.value))},[te("span",{class:$(r.question.getItemTitleCss()),style:Ft({minWidth:r.question.itemTitleWidth,width:r.question.itemTitleWidth})},[n.value.editor.isRequireTextBeforeTitle||n.value.editor.isRequireTextOnStart?(I(),D("span",{key:0,class:$(r.question.cssClasses.requiredMark)},kt(n.value.editor.requiredMark),3)):Y("",!0),n.value.editor.isRequireTextBeforeTitle||n.value.editor.isRequireTextOnStart?(I(),D("span",fVe," ")):Y("",!0),he(X,{is:"survey-string",locString:n.value.locTitle},null,8,["locString"]),n.value.editor.isRequireTextAfterTitle?(I(),D("span",pVe," ")):Y("",!0),n.value.editor.isRequireTextAfterTitle?(I(),D("span",{key:3,"aria-hidden":"true",class:$(r.question.cssClasses.requiredMark)},kt(n.value.editor.requiredMark),3)):Y("",!0)],6),(I(),D("div",{key:n.value.editor.id,class:$(r.question.getItemCss()),onFocusin:s[0]||(s[0]=o=>n.value.focusIn())},[he(X,{is:t(n.value.editor),question:n.value.editor},null,8,["is","question"])],34))],2))}}),mVe=Pe({inheritAttrs:!1,__name:"Breadcrumbs",props:{model:{},css:{}},setup(i){const e=i;return dn(()=>e.model),(t,n)=>t.model.actions&&t.model.actions.length?(I(),D("div",{key:0,class:$(t.css.breadcrumbsRoot)},[(I(!0),D(xt,null,en(t.model.actions,(r,s)=>(I(),D(xt,{key:r.renderedId},[s?(I(),ge(X,{key:0,is:"sv-svg-icon",class:$(t.css.breadcrumbsSeparator),iconName:"arrowright-16x16",size:"auto"},null,8,["class"])):Y("",!0),he(X,{is:"sv-action",item:r},null,8,["item"])],64))),128))],2)):Y("",!0)}}),vVe=["onClick","title"],yVe=["onClick","title"],bVe={key:1},CVe={key:1},wVe=Pe({__name:"SingleInputSummary",props:{summary:{},css:{}},setup(i){const e=i,t=Ze(()=>"survey-placeholder-"+e.summary.question.getTemplate()),n=Ze(()=>iw.Instance.isComponentRegistered(t.value));return(r,s)=>r.summary.isEmpty()?(I(),D("div",bVe,[n.value?(I(),ge(X,{key:0,is:"survey-placeholder-"+r.summary.question.getTemplate(),cssClasses:r.css,question:r.summary.question},null,8,["is","cssClasses","question"])):(I(),D("div",CVe,[he(X,{is:"survey-string",locString:r.summary.noEntry},null,8,["locString"])]))])):(I(),D("div",{key:0,class:$(r.css.summary)},[(I(!0),D(xt,null,en(r.summary.items,(o,a)=>(I(),D("div",{key:a,class:$(r.css.summaryRow)},[te("div",{class:$(r.css.summaryRowContent)},[he(X,{is:"survey-string",locString:o.locText},null,8,["locString"])],2),te("div",{class:$(r.css.summaryRowActions)},[o.btnEdit?(I(),D("button",{key:0,class:$(r.css.summaryRowActionEdit),onClick:l=>o.btnEdit.action(),title:o.btnEdit.title},[he(X,{is:"sv-svg-icon",iconName:"icon-editsmall-16x16",size:"auto"})],10,vVe)):Y("",!0),o.showRemove&&o.btnRemove?(I(),D("button",{key:1,class:$(r.css.summaryRowActionDelete),onClick:l=>o.btnRemove.action(),title:o.btnRemove.title},[he(X,{is:"sv-svg-icon",iconName:"icon-delete-16x16",size:"auto"})],10,yVe)):Y("",!0)],2)],2))),128))],2))}}),_Ve=["min","max","step"],IVe=["id","value","min","max","step","disabled","onInput","onFocus","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],EVe=Pe({inheritAttrs:!1,__name:"Slider",props:{question:{}},setup(i){const e=i,t=Qe(null),n=Qe(null);return yi(e,t),Zn(()=>{e.question.refreshInputRange(n.value)}),(r,s)=>(I(),D("div",{class:$(r.question.rootCss),ref_key:"rootRef",ref:t},[r.question.sliderType!=="single"&&r.question.allowDragRange?(I(),D("input",{key:0,ref_key:"rangeInputRef",ref:n,name:"range-input",class:$(r.question.cssClasses.input),type:"range",tabIndex:"-1",min:r.question.min,max:r.question.max,step:r.question.step,"aria-hidden":"true",id:"sjs-slider-input-range-input",onInput:s[0]||(s[0]=o=>{r.question.handleRangeOnChange(o)}),onPointerdown:s[1]||(s[1]=o=>{r.question.handleRangePointerDown(o,t.value)}),onPointerup:s[2]||(s[2]=o=>{r.question.handleRangePointerUp(o,t.value)})},null,42,_Ve)):Y("",!0),te("div",{class:$(r.question.cssClasses.visualContainer),onPointerup:s[8]||(s[8]=o=>{r.question.setValueByClickOnPath(o,t.value)})},[te("div",{class:$(r.question.cssClasses.visualContainerSlider)},[te("div",{class:$(r.question.cssClasses.inverseTrackLeft),style:Ft({width:r.question.getTrackPercentLeft()+"%"})},null,6),te("div",{class:$(r.question.cssClasses.inverseTrackRight),style:Ft({width:r.question.getTrackPercentRight()+"%"})},null,6),te("div",{class:$(r.question.cssClasses.rangeTrack),style:Ft({left:r.question.getTrackPercentLeft()+"%",right:r.question.getTrackPercentRight()+"%"})},null,6),(I(!0),D(xt,null,en(r.question.renderedValue,(o,a)=>(I(),D(xt,{key:a},[te("input",{class:$(r.question.cssClasses.input),id:"sjs-slider-input-"+a,type:"range",value:o,min:r.question.min,max:r.question.max,step:r.question.step,disabled:r.question.isDisabledAttr,onInput:l=>{r.question.handleOnChange(l,a)},onPointerdown:s[3]||(s[3]=l=>{r.question.handlePointerDown(l)}),onPointerup:s[4]||(s[4]=l=>{l.stopPropagation(),r.question.handlePointerUp(l)}),onKeydown:s[5]||(s[5]=l=>{r.question.handleKeyDown(l)}),onKeyup:s[6]||(s[6]=l=>{r.question.handleKeyUp(l)}),onFocus:()=>{r.question.handleOnFocus(a)},onBlur:s[7]||(s[7]=()=>{r.question.handleOnBlur()}),"aria-required":r.question.a11y_input_ariaRequired,"aria-label":r.question.a11y_input_ariaLabel,"aria-labelledby":r.question.a11y_input_ariaLabelledBy,"aria-describedby":r.question.a11y_input_ariaDescribedBy,"aria-invalid":r.question.a11y_input_ariaInvalid,"aria-errormessage":r.question.a11y_input_ariaErrormessage},null,42,IVe),te("div",{class:$(r.question.getThumbContainerCss(a)),style:Ft({left:r.question.getPercent(o)+"%"})},[r.question.tooltipVisibility!=="never"?(I(),D("div",{key:0,class:$(r.question.tooltipCss)},[te("div",{class:$(r.question.cssClasses.tooltipPanel)},[te("div",{class:$(r.question.cssClasses.tooltipValue)},kt(r.question.getTooltipValue(a)),3)],2)],2)):Y("",!0),te("div",{class:$(r.question.cssClasses.thumb)},[te("div",{class:$(r.question.cssClasses.thumbDot)},null,2)],2)],6)],64))),128))],2)],34),r.question.showLabels?(I(),D("div",{key:1,class:$(r.question.cssClasses.labelsContainer)},[te("div",null,[(I(!0),D(xt,null,en(r.question.renderedLabels,o=>(I(),ge(X,{key:o.id,is:"sv-slider-label-item",item:o,question:r.question},null,8,["item","question"]))),128))])],2)):Y("",!0)],2))}}),SVe=Pe({__name:"SliderLabelItem",props:{question:{},item:{}},setup(i){const e=i;return dn(()=>e.item),(t,n)=>(I(),D("div",{class:$(t.question.getLabelCss(t.item.locText)),style:Ft({left:t.question.getPercent(t.item.value)+"%"}),onPointerup:n[0]||(n[0]=r=>{t.question.handleLabelPointerUp(r,t.item.value)})},[te("div",{class:$(t.question.cssClasses.labelTick)},null,2),te("div",{class:$(t.question.cssClasses.labelText)},[he(X,{is:"survey-string",locString:t.item.locText},null,8,["locString"])],2)],38))}}),TVe={role:"radiogroup"},xVe={class:"sv-visuallyhidden"},PVe={key:0,role:"presentation"},RVe={key:0},kVe=["onClick"],AVe=["data-responsive-title","onClick"],VVe=Pe({inheritAttrs:!1,__name:"Matrix",props:{question:{}},setup(i){const e=i,t=Qe(null),n=Pl();yi(e,t,s=>{n.value=s.visibleRows,s.visibleRowsChangedCallback=()=>{n.value=s.visibleRows}},s=>{s.visibleRowsChangedCallback=()=>{}});const r=(s,o)=>{s.cellClick(o)};return(s,o)=>(I(),D("div",{class:$(s.question.cssClasses.tableWrapper),ref_key:"root",ref:t},[te("fieldset",TVe,[te("legend",xVe,kt(s.question.locTitle.renderedHtml),1),te("table",{class:$(s.question.getTableCss()),role:"presentation"},[s.question.showHeader?(I(),D("thead",PVe,[te("tr",null,[s.question.hasRows?(I(),D("td",RVe)):Y("",!0),(I(!0),D(xt,null,en(s.question.visibleColumns,(a,l)=>(I(),D("th",{key:l,class:$(s.question.cssClasses.headerCell),style:Ft({minWidth:s.question.columnMinWidth,width:s.question.columnMinWidth})},[he(X,{is:s.question.getColumnHeaderWrapperComponentName(a),componentData:s.question.getColumnHeaderWrapperComponentData(a)},{default:Hn(()=>[he(X,{is:"survey-string",locString:a.locText},null,8,["locString"])]),_:2},1032,["is","componentData"])],6))),128))])])):Y("",!0),te("tbody",null,[(I(!0),D(xt,null,en(n.value,(a,l)=>(I(),D("tr",{key:"row_"+a.name+"_"+l,class:$(a.rowClasses||void 0)},[ri(te("td",{class:$(a.rowTextClasses),style:Ft({minWidth:s.question.rowTitleWidth,width:s.question.rowTitleWidth})},[he(X,{is:s.question.getRowHeaderWrapperComponentName(a),componentData:s.question.getRowHeaderWrapperComponentData(a)},{default:Hn(()=>[he(X,{is:"survey-string",locString:a.locText},null,8,["locString"])]),_:2},1032,["is","componentData"])],6),[[Lo,s.question.hasRows]]),s.question.hasCellText?(I(!0),D(xt,{key:0},en(s.question.visibleColumns,(u,c)=>(I(),D("td",{key:c,class:$(s.question.getItemClass(a,u)),onClick:h=>r(a,u)},[he(X,{is:"survey-string",locString:s.question.getCellDisplayLocText(a.name,u)},null,8,["locString"])],10,kVe))),128)):Y("",!0),s.question.hasCellText?Y("",!0):(I(!0),D(xt,{key:1},en(s.question.visibleColumns,(u,c)=>(I(),D("td",{key:c,"data-responsive-title":u.locText.renderedHtml,class:$(s.question.cssClasses.cell),onClick:h=>r(a,u)},[he(X,{is:s.question.cellComponent,question:s.question,row:a,column:u,columnIndex:c},null,8,["is","question","row","column","columnIndex"])],10,AVe))),128))],2))),128))])],2)])],2))}}),LVe=["data-sv-drop-target-matrix-row"],OVe=Pe({__name:"MatrixRow",props:{question:{},row:{}},setup(i){const e=i,t=Qe();dn(()=>e.row);const n=Ji(()=>e.row,(r,s)=>{s&&s.setRootElement(void 0),r.setRootElement(t.value)});return Zn(()=>{e.row.setRootElement(t.value)}),ns(()=>{e.row.setRootElement(void 0),n()}),(r,s)=>r.row.visible?(I(),D("tr",{key:0,"data-sv-drop-target-matrix-row":r.row.dropTargetId,onPointerdown:s[0]||(s[0]=o=>r.question.onPointerDown(o,r.row.row)),class:$(r.row.className),ref_key:"root",ref:t},[(I(!0),D(xt,null,en(r.row.cells,o=>(I(),ge(X,{is:"survey-matrixdropdown-cell",cell:o,question:r.question,key:r.row.id+"_"+o.id},null,8,["cell","question"]))),128))],42,LVe)):Y("",!0)}}),DVe=["type","name","value","readonly","disabled","id","aria-required","aria-label","aria-invalid","aria-errormessage"],NVe=["xlink:href"],MVe=Pe({inheritAttrs:!1,__name:"MatrixCell",props:{question:{},row:{},column:{},columnIndex:{}},setup(i){const e=i,t=e.row.isChecked(e.column)?e.column.value:"",n=()=>{const s=e.row,o=e.column;s.cellClick(o)},r=Ze(()=>e.question.getItemSvgIcon(e.row,e.column));return(s,o)=>(I(),D("label",{onMousedown:o[1]||(o[1]=a=>s.question.onMouseDown()),class:$(s.question.getItemClass(s.row,s.column))},[ri(te("input",{type:s.question.checkType,class:$(s.question.cssItemValue),name:s.row.fullName,"onUpdate:modelValue":o[0]||(o[0]=a=>Lc(t)?t.value=a:null),onChange:n,value:s.column.value,readonly:s.row.isReadOnlyAttr,disabled:s.row.isDisabledAttr,id:s.question.inputId+"_"+s.row.name+"_"+s.columnIndex,"aria-required":s.question.a11y_input_ariaRequired,"aria-label":s.question.getCellAriaLabel(s.row,s.column),"aria-invalid":s.question.a11y_input_ariaInvalid,"aria-errormessage":s.question.a11y_input_ariaErrormessage},null,42,DVe),[[$B,Xe(t)]]),te("span",{class:$(s.question.cssMaterialDecorator)},[r.value?(I(),D("svg",{key:0,class:$(s.question.cssItemDecorator)},[te("use",{"xlink:href":r.value},null,8,NVe)],2)):Y("",!0)],2),s.question.isMobile?(I(),D("span",{key:0,class:$(s.question.cssClasses.cellResponsiveTitle)},[he(X,{is:"survey-string",locString:s.column.locText},null,8,["locString"])],2)):Y("",!0)],34))}}),FVe=Pe({inheritAttrs:!1,__name:"MatrixDropdown",props:{question:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>(I(),ge(X,{is:"survey-matrixtable",question:n.question,ref_key:"root",ref:t},null,8,["question"]))}}),$Ve={key:0},BVe={key:1},qVe=Pe({__name:"MatrixTable",props:{question:{}},setup(i){const e=i,t=Ze(()=>e.question.renderedTable);return dn(()=>t.value),(n,r)=>(I(),D("div",{style:Ft({overflowX:n.question.showHorizontalScroll?"scroll":""}),class:$(n.question.cssClasses.tableWrapper)},[te("table",{class:$(n.question.getTableCss())},[t.value.showHeader?(I(),D("thead",$Ve,[te("tr",null,[(I(!0),D(xt,null,en(t.value.headerRow.cells,s=>(I(),D(xt,null,[s.hasTitle?(I(),D("th",{key:"header_"+s.id,class:$(s.className),style:Ft({minWidth:s.minWidth,width:s.width})},[he(X,{is:n.question.getColumnHeaderWrapperComponentName(s),componentData:n.question.getColumnHeaderWrapperComponentData(s)},{default:Hn(()=>[he(X,{is:"survey-string",locString:s.locTitle},null,8,["locString"]),s.column?(I(),ge(X,{key:0,is:"survey-matrixheaderrequired",column:s.column,question:n.question},null,8,["column","question"])):Y("",!0)]),_:2},1032,["is","componentData"])],6)):Y("",!0),s.hasTitle?Y("",!0):(I(),D("td",{class:$(s.className),key:"header_"+s.id,style:Ft({minWidth:s.minWidth,width:s.width})},null,6))],64))),256))])])):Y("",!0),te("tbody",null,[(I(!0),D(xt,null,en(t.value.renderedRows,s=>(I(),ge(X,{key:n.question.inputId+"_"+s.id,is:"survey-matrix-row",row:s,question:n.question},null,8,["row","question"]))),128))]),t.value.showFooter?(I(),D("tfoot",BVe,[te("tr",null,[(I(!0),D(xt,null,en(t.value.footerRow.cells,(s,o)=>(I(),ge(X,{is:"survey-matrixdropdown-cell",cell:s,question:n.question,key:"footer_"+o},null,8,["cell","question"]))),128))])])):Y("",!0)],2)],6))}}),UVe=te("span",null," ",-1),HVe=Pe({__name:"MatrixHeaderRequired",props:{question:{},column:{}},setup(i){const e=i;return dn(()=>e.column),(t,n)=>t.column.isRenderedRequired?(I(),D(xt,{key:0},[UVe,t.column.isRenderedRequired?(I(),D("span",{key:0,class:$(t.question.cssClasses.cellRequiredMark)},kt(t.column.requiredMark),3)):Y("",!0)],64)):Y("",!0)}}),zVe=["title","colspan"],jVe=Pe({__name:"MatrixDropdownCellComp",props:{question:{},cell:{}},setup(i){const e=i,t=Qe(!1),n=Qe(),r=()=>e.cell.width||e.cell.minWidth?{width:e.cell.width,minWidth:e.cell.minWidth}:null,s=()=>e.cell.question.parentQuestion.getCellAriaLabel(e.cell.row,e.cell.column),o=()=>{!e.cell.hasQuestion||!e.question||!e.question.survey||(t.value=e.cell.question.isVisible)},a=c=>B5(c);o(),Zn(()=>{if(!e.cell.hasQuestion||!e.question||!e.question.survey)return;e.cell.question.registerPropertyChangedHandlers(["isVisible"],()=>{o()});const c=n.value,h=e.cell.question,f={cell:e.cell.cell,cellQuestion:h,htmlElement:c,row:e.cell.row,column:e.cell.cell.column};e.question.survey.matrixAfterCellRender(f),h&&h.afterRenderCore(c)});const l=Ze(()=>{const c=e.cell;if(c.hasPanel){const h=c.panel,f=h.survey;if(f){const m=f.getElementWrapperComponentName(h);if(m)return m}return"survey-panel"}}),u=Ze(()=>{if(e.cell.hasPanel){const c=e.cell.panel,h=c.survey;let f;return h&&(f=h.getElementWrapperComponentData(c)),{componentName:"survey-panel",componentData:{element:c,data:f,css:e.question.cssClasses}}}});return(c,h)=>c.cell.isVisible?(I(),D("td",{key:0,class:$(c.cell.className),title:c.cell.getTitle(),style:Ft(r()),colspan:c.cell.colSpans,onFocusin:h[0]||(h[0]=f=>c.cell.focusIn()),ref_key:"root",ref:n},[c.cell.isErrorsCell?(I(),ge(X,{key:0,is:"survey-errors",element:c.cell.question},null,8,["element"])):Y("",!0),c.cell.isDragHandlerCell?(I(),ge(X,{key:1,is:"sv-matrix-drag-drop-icon",item:{data:{row:c.cell.row,question:c.question}}},null,8,["item"])):Y("",!0),c.cell.isActionsCell?(I(),ge(X,{key:2,is:"sv-action-bar",model:c.cell.item.getData(),handleClick:!1},null,8,["model"])):Y("",!0),c.cell.hasPanel?(I(),ge(X,Ae({key:3,is:l.value},u.value),null,16,["is"])):Y("",!0),c.cell.showResponsiveTitle?(I(),D("span",{key:4,class:$(c.cell.responsiveTitleCss)},[he(X,{is:"survey-string",locString:c.cell.responsiveLocTitle},null,8,["locString"]),he(X,{is:"survey-matrixheaderrequired",column:c.cell.column,question:c.cell.matrix},null,8,["column","question"])],2)):Y("",!0),c.cell.hasQuestion?ri((I(),D("div",{key:5,class:$(c.cell.cellQuestionWrapperClassName)},[!c.cell.isChoice&&c.cell.question.isDefaultRendering()?(I(),ge(X,{key:0,is:c.question.getCellWrapperComponentName(c.cell.cell),componentData:c.question.getCellWrapperComponentData(c.cell.cell)},{default:Hn(()=>[he(X,{is:a(c.cell.question),question:c.cell.question},null,8,["is","question"])]),_:1},8,["is","componentData"])):Y("",!0),!c.cell.isChoice&&!c.cell.question.isDefaultRendering()?(I(),ge(X,{key:1,is:c.cell.question.getComponentName(),question:c.cell.question},null,8,["is","question"])):Y("",!0),c.cell.isItemChoice?(I(),ge(X,{key:2,is:c.question.getCellWrapperComponentName(c.cell.cell),componentData:c.question.getCellWrapperComponentData(c.cell.cell)},{default:Hn(()=>[c.cell.isRadio?(I(),ge(X,{is:"survey-radiogroup-item",key:c.cell.item.value,question:c.cell.question,item:c.cell.item,hideLabel:!0,ariaLabel:s()},null,8,["question","item","ariaLabel"])):Y("",!0),c.cell.isCheckbox?(I(),ge(X,{is:"survey-checkbox-item",key:c.cell.item.value,question:c.cell.question,item:c.cell.item,hideLabel:!0,ariaLabel:s()},null,8,["question","item","ariaLabel"])):Y("",!0)]),_:1},8,["is","componentData"])):Y("",!0),c.cell.isOtherChoice?(I(),ge(X,{key:3,is:"survey-other-choice",question:c.cell.question,item:c.cell.question.otherItem},null,8,["question","item"])):Y("",!0)],2)),[[Lo,t.value]]):Y("",!0),c.cell.hasTitle?(I(),ge(X,{key:6,is:c.question.getCellWrapperComponentName(c.cell),componentData:c.question.getCellWrapperComponentData(c.cell)},{default:Hn(()=>[c.cell.hasTitle?(I(),ge(X,{key:0,is:"survey-string",locString:c.cell.locTitle},null,8,["locString"])):Y("",!0),c.cell.requiredMark?(I(),D("span",{key:1,class:$(c.question.cssClasses.cellRequiredMark)},kt(c.cell.requiredMark),3)):Y("",!0)]),_:1},8,["is","componentData"])):Y("",!0)],46,zVe)):Y("",!0)}}),QVe=Pe({inheritAttrs:!1,__name:"MatrixDynamic",props:{question:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=()=>{e.question.addRowUI()};return(r,s)=>(I(),D("div",{ref_key:"root",ref:t},[r.question.renderedTable.showAddRowOnTop?(I(),D("div",{key:0,class:$(r.question.cssClasses.footer)},[te("button",{type:"button",class:$(r.question.getAddRowButtonCss()),onClick:n},[he(X,{is:"survey-string",locString:r.question.locAddRowText},null,8,["locString"]),te("span",{class:$(r.question.cssClasses.iconAdd)},null,2)],2)],2)):Y("",!0),r.question.renderedTable.showTable?(I(),ge(X,{key:1,is:"survey-matrixtable",question:r.question},null,8,["question"])):(I(),ge(X,{key:2,is:"survey-placeholder-matrixdynamic",question:r.question},null,8,["question"])),r.question.renderedTable.showAddRowOnBottom?(I(),D("div",{key:3,class:$(r.question.cssClasses.footer)},[te("button",{type:"button",class:$(r.question.getAddRowButtonCss()),onClick:n},[he(X,{is:"survey-string",locString:r.question.locAddRowText},null,8,["locString"]),te("span",{class:$(r.question.cssClasses.iconAdd)},null,2)],2)],2)):Y("",!0)],512))}}),WVe=Pe({__name:"MatrixDynamicPlaceholder",props:{question:{}},setup(i){const e=i,t=()=>{e.question.addRowUI()};return(n,r)=>(I(),D("div",{class:$(n.question.cssClasses.noRowsSection)},[te("div",{class:$(n.question.cssClasses.noRowsText)},[he(X,{is:"survey-string",locString:n.question.locNoRowsText},null,8,["locString"])],2),n.question.renderedTable.showAddRow?(I(),D("button",{key:0,type:"button",class:$(n.question.getAddRowButtonCss(!0)),onClick:t},[he(X,{is:"survey-string",locString:n.question.locAddRowText},null,8,["locString"]),te("span",{class:$(n.question.cssClasses.iconAdd)},null,2)],2)):Y("",!0)],2))}});function q5(i,e=!0){return{question:Ze(()=>i.item.data.question),row:e?Ze(()=>i.item.data.row):void 0}}const GVe=["disabled"],KVe=Pe({__name:"RemoveButton",props:{item:{}},setup(i){const e=i,{question:t,row:n}=q5(e);return(r,s)=>(I(),D("button",{type:"button",class:$(Xe(t).getRemoveRowButtonCss()),disabled:Xe(t).isInputReadOnly,onClick:s[0]||(s[0]=()=>Xe(t).removeRowUI(Xe(n)))},[he(X,{is:"survey-string",locString:Xe(t).locRemoveRowText},null,8,["locString"]),te("span",{class:$(Xe(t).cssClasses.iconRemove)},null,2)],10,GVe))}}),JVe=["xlink:href"],YVe=Pe({__name:"DragDropIcon",props:{item:{}},setup(i){const e=i,{question:t}=q5(e,!1);return(n,r)=>(I(),D("div",null,[Xe(t).iconDragElement?(I(),D("svg",{key:0,class:$(Xe(t).cssClasses.dragElementDecorator)},[te("use",{"xlink:href":Xe(t).iconDragElement},null,8,JVe)],2)):(I(),D("span",{key:1,class:$(Xe(t).cssClasses.iconDrag)},null,2))]))}}),ZVe=["title","aria-expanded","aria-controls"],XVe=Pe({__name:"DetailButton",props:{item:{}},setup(i){const e=i,{question:t,row:n}=q5(e);return(r,s)=>(I(),D("button",{type:"button",class:$(Xe(t).getDetailPanelButtonCss(Xe(n))),onClick:s[0]||(s[0]=()=>Xe(n).showHideDetailPanelClick()),title:r.item.title,"aria-expanded":Xe(t).getIsDetailPanelShowing(Xe(n))?"true":"false","aria-controls":Xe(t).getIsDetailPanelShowing(Xe(n))?Xe(n).detailPanelId:null},[he(X,{is:"sv-svg-icon",class:$(Xe(t).getDetailPanelIconCss(Xe(n))),iconName:Xe(t).getDetailPanelIconId(Xe(n)),size:"auto"},null,8,["class","iconName"])],10,ZVe))}}),e7e=["aria-label"],t7e=Pe({inheritAttrs:!1,__name:"PanelDynamic",props:{question:{},css:{}},setup(i){const e=i,t=Qe(null),n=Cu();yi(e,t,o=>{o.panelCountChangedCallback=()=>{var a;(a=n==null?void 0:n.proxy)==null||a.$forceUpdate()},o.currentIndexChangedCallback=()=>{var a;(a=n==null?void 0:n.proxy)==null||a.$forceUpdate()},o.renderModeChangedCallback=()=>{var a;(a=n==null?void 0:n.proxy)==null||a.$forceUpdate()}},o=>{o.panelCountChangedCallback=void 0,o.currentIndexChangedCallback=void 0,o.renderModeChangedCallback=void 0});const r=o=>{const a=e.question.getSurvey();if(a){const l=a.getElementWrapperComponentName(o);if(l)return l}return"panel"},s=o=>{const a=e.question.getSurvey();let l;return a&&(l=a.getElementWrapperComponentData(o)),{componentName:"survey-panel",componentData:{element:o,data:l}}};return(o,a)=>(I(),D("div",{class:$(o.question.cssClasses.root),ref_key:"root",ref:t},[o.question.hasTabbedMenu?(I(),D("div",{key:0,class:$(o.question.getTabsContainerCss())},[he(X,{is:"sv-action-bar",model:o.question.tabbedMenu},null,8,["model"])],2)):Y("",!0),o.question.getShowNoEntriesPlaceholder()?(I(),ge(X,{key:1,is:"survey-placeholder-paneldynamic",question:o.question},null,8,["question"])):Y("",!0),o.question.isProgressTopShowing&&o.question.isRangeShowing?(I(),D("div",{key:2,class:$(o.question.cssClasses.progress)},[te("div",{class:$(o.question.cssClasses.progressBar),style:Ft({width:o.question.progress}),role:"progressbar","aria-label":o.question.progressBarAriaLabel},null,14,e7e)],2)):Y("",!0),te("div",{class:$(o.question.cssClasses.panelsContainer)},[(I(!0),D(xt,null,en(o.question.renderedPanels,(l,u)=>(I(),D(xt,{key:l.id},[te("div",{class:$(o.question.getPanelWrapperCss(l))},[he(X,Ae({is:r(l)},s(l)),null,16,["is"]),o.question.canRenderRemovePanelOnRight(l)?(I(),ge(X,{key:0,is:"sv-paneldynamic-remove-btn",data:{question:o.question,panel:l}},null,8,["data"])):Y("",!0)],2),o.question.isRenderModeList&&u<o.question.visiblePanelCount-1?(I(),D("hr",{class:$(o.question.cssClasses.separator),key:"separator"+l.id},null,2)):Y("",!0)],64))),128))],2),o.question.showNavigation?(I(),ge(X,{key:3,is:"survey-paneldynamicprogress-v2",question:o.question},null,8,["question"])):Y("",!0)],2))}}),n7e=["aria-label"],i7e=Pe({__name:"PanelDynamicProgress",props:{question:{}},setup(i){const e=i,t=()=>e.question.isProgressTopShowing?e.question.cssClasses.progressTop:e.question.cssClasses.progressBottom;return(n,r)=>(I(),D("div",{class:$(t())},[te("div",{style:{clear:"both"},class:$(t())},[te("div",{class:$(n.question.cssClasses.progressContainer)},[he(X,{is:"sv-paneldynamic-prev-btn",data:{question:n.question}},null,8,["data"]),n.question.isRangeShowing?(I(),D("div",{key:0,class:$(n.question.cssClasses.progress)},[te("div",{class:$(n.question.cssClasses.progressBar),style:Ft({width:n.question.progress}),role:"progressbar","aria-label":n.question.progressBarAriaLabel},null,14,n7e)],2)):Y("",!0),he(X,{is:"sv-paneldynamic-next-btn",data:{question:n.question}},null,8,["data"])],2),he(X,{is:"sv-paneldynamic-add-btn",data:{question:n.question}},null,8,["data"]),he(X,{is:"sv-paneldynamic-progress-text",data:{question:n.question}},null,8,["data"])],2)],2))}}),r7e=["aria-label"],s7e=Pe({__name:"PanelDynamicProgressV2",props:{question:{}},setup(i){return(e,t)=>e.question.cssClasses.footer?(I(),D("div",{key:0,class:$(e.question.cssClasses.footer)},[te("hr",{class:$(e.question.cssClasses.separator)},null,2),e.question.isRangeShowing&&e.question.isProgressBottomShowing?(I(),D("div",{key:0,class:$(e.question.cssClasses.progress)},[te("div",{class:$(e.question.cssClasses.progressBar),style:Ft({width:e.question.progress}),role:"progressbar","aria-label":e.question.progressBarAriaLabel},null,14,r7e)],2)):Y("",!0),e.question.showFooterToolbar?(I(),D("div",{key:1,class:$(e.question.cssClasses.footerButtonsContainer)},[he(X,{is:"sv-action-bar",model:e.question.footerToolbar},null,8,["model"])],2)):Y("",!0)],2)):Y("",!0)}}),o7e=Pe({__name:"PanelDynamicPlaceholder",props:{question:{}},setup(i){return(e,t)=>(I(),D("div",{class:$(e.question.cssClasses.noEntriesPlaceholder)},[te("span",null,[he(X,{is:"survey-string",locString:e.question.locNoEntriesText},null,8,["locString"])]),he(X,{is:"sv-paneldynamic-add-btn",data:{question:e.question}},null,8,["data"])],2))}});function hy(i){return Ze(()=>i.item&&i.item.data.question||i.data.question)}const a7e=["id"],l7e=Pe({__name:"PaneldynamicAddBtn",props:{item:{},data:{}},setup(i){const e=hy(i),t=()=>{e.value.addPanelUI()};return(n,r)=>Xe(e).canAddPanel?(I(),D("button",{key:0,type:"button",id:Xe(e).addButtonId,class:$(Xe(e).getAddButtonCss()),onClick:t},[te("span",{class:$(Xe(e).cssClasses.buttonAddText)},[he(X,{is:"survey-string",locString:Xe(e).locAddPanelText},null,8,["locString"])],2)],10,a7e)):Y("",!0)}}),u7e=["title"],c7e=Pe({__name:"PaneldynamicNextBtn",props:{item:{},data:{}},setup(i){const e=hy(i),t=()=>{e.value.goToNextPanel()};return(n,r)=>(I(),D("div",{title:Xe(e).panelNextText,onClick:t,class:$(Xe(e).getNextButtonCss())},[he(X,{is:"sv-svg-icon",iconName:Xe(e).cssClasses.progressBtnIcon,size:"auto"},null,8,["iconName"])],10,u7e))}}),d7e=["title"],h7e=Pe({__name:"PaneldynamicPrevBtn",props:{item:{},data:{}},setup(i){const e=hy(i),t=()=>{e.value.goToPrevPanel()};return(n,r)=>(I(),D("div",{title:Xe(e).panelPrevText,onClick:t,class:$(Xe(e).getPrevButtonCss())},[he(X,{is:"sv-svg-icon",iconName:Xe(e).cssClasses.progressBtnIcon,size:"auto"},null,8,["iconName"])],10,d7e))}}),f7e=["id"],p7e=Pe({__name:"PaneldynamicRemoveBtn",props:{item:{},data:{}},setup(i){const e=i,t=hy(e),n=Ze(()=>e.item&&e.item.data.panel||e.data.panel),r=o=>t.value.getPanelRemoveButtonId(o),s=o=>{t.value.isInputReadOnly||t.value.removePanelUI(o)};return(o,a)=>(I(),D("button",{type:"button",id:r(n.value),class:$(Xe(t).getPanelRemoveButtonCss()),onClick:a[0]||(a[0]=l=>s(n.value))},[te("span",{class:$(Xe(t).cssClasses.buttonRemoveText)},[he(X,{is:"survey-string",locString:Xe(t).locRemovePanelText},null,8,["locString"])],2),te("span",{class:$(Xe(t).cssClasses.iconRemove)},null,2)],10,f7e))}}),g7e=Pe({__name:"PaneldynamicProgressText",props:{item:{},data:{}},setup(i){const e=hy(i);return(t,n)=>(I(),D("div",{class:$(Xe(e).cssClasses.progressText)},kt(Xe(e).progressText),3))}}),m7e=["id"],v7e=Pe({__name:"Errors",props:{element:{},location:{}},setup(i){const e=Qe();return(t,n)=>t.element.hasVisibleErrors?(I(),D("div",{key:0,class:$(t.element.cssError),id:t.element.id+"_errors",ref_key:"root",ref:e},[(I(!0),D(xt,null,en(t.element.errors,(r,s)=>(I(),ge(X,{is:t.element.survey.questionErrorComponent,element:t.element,key:"error_"+s,errorKey:"error_"+s,error:r,cssClasses:t.element.cssClasses},null,8,["is","element","errorKey","error","cssClasses"]))),128))],10,m7e)):Y("",!0)}}),y7e={key:0},b7e=Pe({__name:"QuestionComment",props:{question:{}},setup(i){return(e,t)=>e.question.isReadOnlyRenderDiv()?(I(),D("div",y7e,kt(e.question.comment),1)):(I(),ge(X,{key:1,is:"sv-text-area",model:e.question.commentTextAreaModel},null,8,["model"]))}}),C7e=Pe({__name:"TitleElement",props:{element:{},css:{}},setup(i){const e=t=>{_5(t)};return(t,n)=>t.element.hasTitle?(I(),ge(no(t.element.titleTagName),{key:0,class:$(t.element.cssTitle),"aria-label":t.element.titleAriaLabel,id:t.element.ariaTitleId,tabindex:t.element.titleTabIndex,"aria-expanded":t.element.titleAriaExpanded,role:t.element.titleAriaRole,onKeyup:n[0]||(n[0]=r=>{e(r)})},{default:Hn(()=>[!t.element.isExpanded&&t.element.getCssTitleExpandableSvg()?(I(),ge(X,{key:0,is:"sv-svg-icon",class:$(t.element.getCssTitleExpandableSvg()),iconName:"icon-expand-16x16",size:"'auto'"},null,8,["class"])):Y("",!0),t.element.isExpanded&&t.element.getCssTitleExpandableSvg()?(I(),ge(X,{key:1,is:"sv-svg-icon",class:$(t.element.getCssTitleExpandableSvg()),iconName:"icon-collapse-16x16",size:"'auto'"},null,8,["class"])):Y("",!0),t.element.hasTitleActions?Y("",!0):(I(),ge(X,{key:2,is:"survey-element-title-content",element:t.element,css:t.css},null,8,["element","css"])),t.element.hasTitleActions?(I(),ge(X,{key:3,is:"sv-title-actions",element:t.element,css:t.css},null,8,["element","css"])):Y("",!0)]),_:1},40,["class","aria-label","id","tabindex","aria-expanded","role"])):Y("",!0)}}),w7e={key:2},_7e={key:4},I7e={key:6},E7e={key:8},S7e=Pe({inheritAttrs:!1,__name:"TitleContent",props:{element:{},css:{}},setup(i){return(e,t)=>(I(),D(xt,null,[e.element.isTitleRenderedAsString?(I(),ge(X,{key:0,is:"survey-string",locString:e.element.locRenderedTitle},null,8,["locString"])):Y("",!0),!e.element.isTitleRenderedAsString&&e.element.isRequireTextOnStart?(I(),D("span",{key:1,class:$(e.element.cssRequiredMark),"aria-hidden":!0},kt(e.element.requiredMark),3)):Y("",!0),!e.element.isTitleRenderedAsString&&e.element.isRequireTextOnStart?(I(),D("span",w7e," ")):Y("",!0),!e.element.isTitleRenderedAsString&&e.element.no?(I(),D("span",{key:3,style:{position:"static"},class:$(e.element.cssTitleNumber),"aria-hidden":!0},kt(e.element.no),3)):Y("",!0),!e.element.isTitleRenderedAsString&&e.element.no?(I(),D("span",_7e," ")):Y("",!0),!e.element.isTitleRenderedAsString&&e.element.isRequireTextBeforeTitle?(I(),D("span",{key:5,class:$(e.element.cssRequiredMark),"aria-hidden":!0},kt(e.element.requiredMark),3)):Y("",!0),!e.element.isTitleRenderedAsString&&e.element.isRequireTextBeforeTitle?(I(),D("span",I7e," ")):Y("",!0),e.element.isTitleRenderedAsString?Y("",!0):(I(),ge(X,{key:7,is:"survey-string",locString:e.element.locRenderedTitle},null,8,["locString"])),!e.element.isTitleRenderedAsString&&e.element.isRequireTextAfterTitle?(I(),D("span",E7e," ")):Y("",!0),!e.element.isTitleRenderedAsString&&e.element.isRequireTextAfterTitle?(I(),D("span",{key:9,class:$(e.element.cssRequiredMark),"aria-hidden":!0},kt(e.element.requiredMark),3)):Y("",!0)],64))}}),T7e={class:"sv-title-actions"},x7e={class:"sv-title-actions__title"},P7e=Pe({__name:"TitleActions",props:{element:{},css:{}},setup(i){const e=i,t=Ze(()=>e.element.getTitleToolbar());return(n,r)=>(I(),D("div",T7e,[te("span",x7e,[n.element.isPage?(I(),ge(X,{key:0,is:"survey-string",locString:n.element.locTitle},null,8,["locString"])):Y("",!0),n.element.isPage?Y("",!0):(I(),ge(X,{key:1,is:"survey-element-title-content",element:n.element,css:n.css},null,8,["element","css"]))]),he(X,{is:"sv-action-bar",model:t.value},null,8,["model"])]))}}),R7e=(i,e)=>{const t=i.__vccOpts||i;for(const[n,r]of e)t[n]=r;return t},k7e={},A7e={class:"sv-brand-info"},V7e=m7('<a class="sv-brand-info__logo" href="https://surveyjs.io/?utm_source=built-in_links&amp;utm_medium=online_survey_tool&amp;utm_campaign=landing_page"><img src="https://surveyjs.io/Content/Images/poweredby.svg"></a><div class="sv-brand-info__text"> Try and see how easy it is to <a href="https://surveyjs.io/create-survey?utm_source=built-in_links&amp;utm_medium=online_survey_tool&amp;utm_campaign=create_survey">create a survey</a></div><div class="sv-brand-info__terms"><a href="https://surveyjs.io/TermsOfUse">Terms of Use &amp; Privacy Statement</a></div>',3),L7e=[V7e];function O7e(i,e){return I(),D("div",A7e,L7e)}const D7e=R7e(k7e,[["render",O7e]]),N7e=te("use",null,null,-1),M7e=[N7e],F7e=Pe({__name:"SvgIcon",props:{size:{},width:{},height:{},iconName:{},title:{}},setup(i){const e=i,t=Qe(),n=()=>{YPe(e.size,e.width,e.height,e.iconName,t.value,e.title)};return ep(()=>{n()}),Zn(()=>{n()}),(r,s)=>(I(),D("svg",{ref_key:"svgIconElement",ref:t,class:"sv-svg-icon",role:"presentation"},M7e,512))}}),$7e=Pe({__name:"QuestionError",props:{errorKey:{},error:{},cssClasses:{},element:{}},setup(i){return(e,t)=>(I(),D("div",{key:e.errorKey},[te("span",{class:$(e.cssClasses?e.cssClasses.error.icon||void 0:"panel-error-icon"),"aria-hidden":"true"},null,2),te("span",{class:$(e.cssClasses?e.cssClasses.error.item||void 0:"panel-error-item")},[he(X,{is:"survey-string",locString:e.error.locText},null,8,["locString"])],2)]))}}),B7e=Pe({__name:"ActionBar",props:{model:{},container:{},handleClick:{type:Boolean,default:!0}},setup(i){const e=i,t=Qe(null),n=o=>{e.handleClick&&o.stopPropagation()};dn(()=>e.model,void 0,o=>{o.resetResponsivityManager()});const r=rw(()=>e.model.renderedActions);function s(){e.model.hasVisibleActions&&e.model.initResponsivityManager(t.value)}return ep(()=>{s()}),Zn(()=>{s()}),(o,a)=>o.model.hasActions?(I(),D("div",{key:0,ref_key:"root",ref:t,style:Ft(o.model.getRootStyle()),class:$(o.model.getRootCss()),onClick:n},[(I(!0),D(xt,null,en(Xe(r),l=>(I(),ge(X,{is:"sv-action",key:l.renderedId,item:l},null,8,["item"]))),128))],6)):Y("",!0)}}),q7e=["id"],U7e={class:"sv-action__content"},H7e=Pe({__name:"Action",props:{item:{}},setup(i){const e=Qe(),t=i,n=Ze(()=>t.item.component||"sv-action-bar-item");return dn(()=>t.item),Zn(()=>{const r=t.item;r.updateModeCallback=(s,o)=>{r.mode=s,Oc(()=>{o(s,e.value)})},r.afterRender()}),ns(()=>{const r=t.item;r.updateModeCallback=void 0}),(r,s)=>(I(),D("div",{class:$(r.item.getActionRootCss()),id:r.item.id,ref_key:"root",ref:e},[te("div",U7e,[r.item.needSeparator?(I(),ge(X,{key:0,is:"sv-action-bar-separator"})):Y("",!0),he(X,{is:n.value,item:r.item},null,8,["is","item"])])],10,q7e))}}),Hp={mounted:function(i,e){const t=Object.assign({processEsc:!0},{...e.value});if(t.disableTabStop){i.tabIndex=-1;return}t.disableTabStop||(i.tabIndex=0),i.addEventListener("keyup",n=>(n.preventDefault(),n.stopPropagation(),_5(n,t),!1)),i.addEventListener("keydown",n=>{XPe(n,t)}),i.addEventListener("blur",n=>{D$(n)})}},z7e=["disabled","title","aria-checked","aria-expanded","role"],j7e={inheritAttrs:!1},Q7e=Pe({...j7e,__name:"ActionBarItem",props:{item:{}},setup(i){const e=i;return dn(()=>e.item),(t,n)=>ri((I(),D("button",{class:$(t.item.getActionBarItemCss()),type:"button",onClick:n[0]||(n[0]=r=>{t.item.doAction(r)}),onKeyup:n[1]||(n[1]=r=>{r.stopPropagation()}),onMousedown:n[2]||(n[2]=r=>{t.item.doMouseDown(r)}),onFocus:n[3]||(n[3]=r=>{t.item.doFocus(r)}),disabled:t.item.disabled,title:t.item.tooltip||t.item.title,"aria-checked":t.item.ariaChecked,"aria-expanded":t.item.ariaExpanded,role:t.item.ariaRole},[t.item.iconName?(I(),ge(X,{key:0,is:"sv-svg-icon",class:$(t.item.cssClasses.itemIcon),iconName:t.item.iconName,size:t.item.iconSize,title:t.item.tooltip||t.item.title},null,8,["class","iconName","size","title"])):Y("",!0),t.item.hasTitle?(I(),D("span",{key:1,class:$(t.item.getActionBarItemTitleCss())},kt(t.item.title),3)):Y("",!0)],42,z7e)),[[Xe(Hp),{processEsc:!1,disableTabStop:t.item.disableTabStop}]])}}),W7e=["disabled","title","role"],G7e={inheritAttrs:!1},K7e=Pe({...G7e,__name:"ActionBarItemDropdown",props:{item:{}},setup(i){const e=i;let t;return dn(()=>e.item,n=>{t=new $Pe(n)},()=>{t.dispose()}),(n,r)=>(I(),D(xt,null,[ri((I(),D("button",{type:"button",class:$(n.item.getActionBarItemCss()),onClick:r[0]||(r[0]=s=>{n.item.action(n.item,!!s.pointerType)}),onKeyup:r[1]||(r[1]=s=>{s.stopPropagation()}),disabled:n.item.disabled,title:n.item.tooltip||n.item.title,role:n.item.ariaRole},[n.item.iconName?(I(),ge(X,{key:0,is:"sv-svg-icon",class:$(n.item.cssClasses.itemIcon),iconName:n.item.iconName,size:n.item.iconSize,title:n.item.tooltip||n.item.title},null,8,["class","iconName","size","title"])):Y("",!0),n.item.hasTitle?(I(),D("span",{key:1,class:$(n.item.getActionBarItemTitleCss())},kt(n.item.title),3)):Y("",!0)],42,W7e)),[[Xe(Hp),{processEsc:!1,disableTabStop:n.item.disableTabStop}]]),he(X,{is:"sv-popup",model:n.item.popupModel},null,8,["model"])],64))}}),J7e=Pe({__name:"ActionBarSeparator",props:{item:{}},setup(i){const e=i,t=Ze(()=>e.item&&e.item.innerCss);return(n,r)=>(I(),D("div",{class:$(["sv-action-bar-separator",t.value])},null,2))}}),Y7e=["aria-label","placeholder","value"],Z7e=["aria-label"],X7e=["role","aria-label","id"],e9e=Pe({__name:"List",props:{model:{}},setup(i){const e=i,t=Qe(null),n=a=>{const l=e.model;l.filterString=a.target.value},r=a=>{const l=e.model;l.filterString=a.target.value,e.model.goToItems(a)},s=a=>{e.model.onMouseMove(a)},o=rw(()=>e.model.renderedActions);return dn(()=>e.model),Zn(()=>{e.model.initListContainerHtmlElement(t.value)}),ns(()=>{e.model&&(e.model.removeScrollEventListener(),e.model.initListContainerHtmlElement(void 0))}),(a,l)=>(I(),D("div",{class:$(a.model.cssClasses.root),ref_key:"listContainerElement",ref:t},[a.model.showFilter?(I(),D("div",{key:0,class:$(a.model.cssClasses.filter)},[te("div",{class:$(a.model.cssClasses.filterIcon)},[he(X,{is:"sv-svg-icon",iconName:"icon-search",size:"auto"})],2),te("input",{type:"text",class:$(a.model.cssClasses.filterInput),"aria-label":a.model.filterStringPlaceholder,placeholder:a.model.filterStringPlaceholder,value:a.model.filterString,onChange:n,onKeyup:r},null,42,Y7e),a.model.showSearchClearButton&&a.model.filterString?(I(),D("button",{key:0,onClick:l[0]||(l[0]=u=>{a.model.onClickSearchClearButton(u)}),class:$(a.model.cssClasses.searchClearButtonIcon)},[he(X,{is:"sv-svg-icon",iconName:"icon-searchclear",size:"auto"})],2)):Y("",!0)],2)):Y("",!0),ri(te("div",{class:$(a.model.cssClasses.emptyContainer)},[te("div",{class:$(a.model.cssClasses.emptyText),"aria-label":a.model.emptyMessage},kt(a.model.emptyMessage),11,Z7e)],2),[[Lo,a.model.isEmpty]]),a.model.renderElements?ri((I(),D("ul",{key:1,class:$(a.model.getListClass()),role:a.model.listRole,"aria-label":a.model.a11ya11y_input_ariaLabel,id:a.model.elementId,onMousedown:l[1]||(l[1]=u=>{u.preventDefault()}),onMousemove:s,onKeydown:l[2]||(l[2]=u=>{a.model.onKeyDown(u)})},[(I(!0),D(xt,null,en(Xe(o),u=>(I(),ge(X,{is:"sv-list-item",item:u,model:a.model,key:u.id},null,8,["item","model"]))),128))],42,X7e)),[[Lo,!a.model.isEmpty]]):Y("",!0)],2))}}),t9e=["role","aria-selected","aria-checked","id","tabindex"],n9e=["title"],i9e=Pe({__name:"ListItem",props:{model:{},item:{}},setup(i){const e=i,t=Ze(()=>e.item.elementId),n=s=>{e.model.onItemClick(e.item),s.stopPropagation()};dn(()=>e.item);const r=Ze(()=>e.item.component||e.model.itemComponent);return Zn(()=>{setTimeout(()=>{e.model.onLastItemRended(e.item)})}),(s,o)=>ri((I(),D("li",{role:s.model.listItemRole,"aria-selected":s.model.getA11yItemAriaSelected(s.item),"aria-checked":s.model.getA11yItemAriaChecked(s.item),key:s.item.id,id:t.value,onPointerdown:o[2]||(o[2]=a=>s.model.onPointerDown(a,s.item)),class:$(s.model.getItemClass(s.item)),onClick:n,tabindex:s.item.disableTabStop?-1:0},[s.item.needSeparator?(I(),D("div",{key:0,class:$(s.model.cssClasses.itemSeparator)},null,2)):Y("",!0),te("div",{style:Ft(s.model.getItemStyle(s.item)),class:$(s.model.cssClasses.itemBody),title:s.item.getTooltip(),onMouseover:o[0]||(o[0]=a=>s.model.onItemHover(s.item)),onMouseleave:o[1]||(o[1]=a=>s.model.onItemLeave(s.item))},[he(X,{is:r.value,item:s.item,model:s.model},null,8,["is","item","model"])],46,n9e)],42,t9e)),[[Lo,s.model.isItemVisible(s.item)],[Xe(Hp),{processEsc:!1,disableTabStop:s.item.disableTabStop}]])}}),r9e=Pe({__name:"ListItemContent",props:{model:{},item:{}},setup(i){const e=i;return dn(()=>e.item),(t,n)=>(I(),D(xt,null,[t.item.iconName?(I(),ge(X,{key:0,is:"sv-svg-icon",class:$(t.model.cssClasses.itemIcon),iconName:t.item.iconName,size:t.item.iconSize},null,8,["class","iconName","size"])):Y("",!0),he(X,{is:"survey-string",locString:t.item.locTitle},null,8,["locString"]),t.item.markerIconName?(I(),ge(X,{key:1,is:"sv-svg-icon",class:$(t.item.cssClasses.itemMarkerIcon),iconName:t.item.markerIconName,size:"auto"},null,8,["class","iconName"])):Y("",!0)],64))}}),s9e=Pe({__name:"ListItemGroup",props:{model:{},item:{}},setup(i){const e=i;return dn(()=>e.item),(t,n)=>(I(),D(xt,null,[he(X,{is:"sv-list-item-content",item:t.item,model:t.model},null,8,["item","model"]),he(X,{is:"sv-popup",model:t.item.popupModel},null,8,["model"])],64))}}),o9e=Pe({__name:"Popup",props:{model:{}},setup(i){const e=i,t=Pl(),n=Qe(null),r=()=>{const s=n.value;s&&t.value.setComponentElement(s)};return Ji(()=>e.model,s=>{t.value&&t.value.dispose(),t.value=N4e(s),r()},{immediate:!0}),dn(()=>t.value),Zn(()=>{r()}),ns(()=>{t.value.dispose()}),(s,o)=>(I(),D("div",{ref_key:"root",ref:n},[he(X,{is:"sv-popup-container",model:t.value},null,8,["model"])],512))}}),a9e={class:"sv-popup__body-content"},l9e={key:0,class:"sv-popup__body-header"},u9e={class:"sv-popup__scrolling-content"},c9e={class:"sv-popup__content"},d9e={key:1,class:"sv-popup__body-footer"},h9e=Pe({__name:"PopupContainer",props:{model:{}},setup(i){const e=i,t=n=>{n.stopPropagation()};return dn(()=>e.model),ep(()=>{const n=e.model;n.isVisible&&!n.isPositionSet&&e.model.updateOnShowing()}),Zn(()=>{e.model.isVisible&&e.model.updateOnShowing()}),(n,r)=>ri((I(),D("div",{tabindex:"-1",class:$(["sv-popup",n.model.styleClass]),onKeydown:r[0]||(r[0]=s=>{n.model.onKeyDown(s)}),onClick:r[1]||(r[1]=s=>{n.model.clickOutside(s)})},[te("div",{class:"sv-popup__container",style:Ft({left:n.model.left,top:n.model.top,height:n.model.height,width:n.model.width,minWidth:n.model.minWidth}),onClick:t},[n.model.showHeader?(I(),ge(X,{key:0,is:n.model.popupHeaderTemplate,model:n.model},null,8,["is","model"])):Y("",!0),te("div",a9e,[n.model.title?(I(),D("div",l9e,kt(n.model.title),1)):Y("",!0),te("div",u9e,[te("div",c9e,[he(X,Ae({is:n.model.contentComponentName},n.model.contentComponentData),null,16,["is"])])]),n.model.showFooter?(I(),D("div",d9e,[he(X,{is:"sv-action-bar",model:n.model.footerToolbar},null,8,["model"])])):Y("",!0)])],4)],34)),[[Lo,n.model.isVisible]])}}),f9e=Pe({__name:"PopupPointer",props:{model:{}},setup(i){return(e,t)=>(I(),D("span",{class:"sv-popup__pointer",style:Ft({left:e.model.pointerTarget.left,top:e.model.pointerTarget.top})},null,4))}}),p9e=Pe({__name:"Container",props:{survey:{},container:{},needRenderWrapper:{}},setup(i){const e=i,t=Ze(()=>e.survey.getContainerContent(e.container));return(n,r)=>t.value.length>0?(I(),D(xt,{key:0},[n.needRenderWrapper?(I(),D("div",{key:0,class:$(["sv-components-column","sv-components-container-"+n.container])},[(I(!0),D(xt,null,en(t.value,s=>(I(),ge(X,{key:s.id,is:s.component,survey:n.survey,container:n.container,model:s.data},null,8,["is","survey","container","model"]))),128))],2)):(I(!0),D(xt,{key:1},en(t.value,s=>(I(),ge(X,{key:s.id,is:s.component,survey:n.survey,container:n.container,model:s.data},null,8,["is","survey","container","model"]))),128))],64)):Y("",!0)}}),g9e=["aria-label"],r1=Pe({__name:"Progress",props:{survey:{},container:{},css:{}},setup(i){const e=i,t=Ze(()=>e.survey.progressValue+"%"),n=s=>ZV.getProgressTextInBarCss(s),r=s=>ZV.getProgressTextUnderBarCss(s);return(s,o)=>(I(),D("div",{class:$(s.survey.getProgressCssClasses(s.container))},[te("div",{class:$(s.survey.css.progressBar),style:Ft({width:t.value}),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-label":s.survey.progressBarAriaLabel},[te("span",{class:$(n(s.survey.css))},kt(s.survey.progressText),3)],14,g9e),te("span",{class:$(r(s.survey.css))},kt(s.survey.progressText),3)],2))}}),m9e=["aria-label"],v9e=["title"],y9e=["onClick","data-page-number"],b9e=["title"],C9e=["title"],w9e=["title"],_9e=Pe({__name:"ProgressButtons",props:{survey:{},model:{},container:{}},setup(i){const e=i,t=Qe(!1),n=Qe(!1),r=Qe(!1),s=Qe(!0),o=Qe(),a=Ze(()=>e.survey.css);let l=null;const u=c=>{let h=o.value;h.scrollLeft+=(c?-1:1)*70};return Zn(()=>{const c=o.value;l=new JRe(e.model,c,{onResize:h=>{s.value=h,n.value=!h},onUpdateScroller:h=>{t.value=h},onUpdateSettings:()=>{s.value=e.model.showItemTitles,r.value=!e.model.showItemTitles},container:Ze(()=>e.container)})}),vh(()=>{l.dispose()}),(c,h)=>(I(),D("div",{class:$(c.model.getRootCss(c.container)),style:Ft({maxWidth:c.model.progressWidth}),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-label":c.model.progressBarAriaLabel},[n.value?(I(),D("div",{key:0,class:$(c.survey.css.progressButtonsHeader)},[te("div",{class:$(c.survey.css.progressButtonsPageTitle),title:c.model.headerText},kt(c.model.headerText),11,v9e)],2)):Y("",!0),te("div",{class:$(a.value.progressButtonsContainer)},[te("div",{class:$(c.model.getScrollButtonCss(t.value,!0)),onClick:h[0]||(h[0]=f=>u(!0)),role:"button"},null,2),te("div",{class:$(a.value.progressButtonsListContainer),ref_key:"progressButtonsListContainer",ref:o},[te("ul",{class:$(a.value.progressButtonsList)},[(I(!0),D(xt,null,en(c.survey.visiblePages,(f,m)=>(I(),D("li",{key:"listelement"+m,class:$(c.model.getListElementCss(m)),onClick:b=>c.model.isListElementClickable(m)?c.model.clickListElement(f):null,"data-page-number":c.model.getItemNumber(f)},[te("div",{class:$(a.value.progressButtonsConnector)},null,2),s.value?(I(),D("div",{key:0,class:$(a.value.progressButtonsPageTitle),title:f.renderedNavigationTitle},[he(X,{is:"survey-string",locString:f.locNavigationTitle},null,8,["locString"])],10,b9e)):Y("",!0),s.value?(I(),D("div",{key:1,class:$(a.value.progressButtonsPageDescription),title:f.locNavigationDescription.renderedHtml},kt(f.locNavigationDescription.renderedHtml),11,C9e)):Y("",!0),te("div",{class:$(a.value.progressButtonsButton)},[te("div",{class:$(a.value.progressButtonsButtonBackground)},null,2),te("div",{class:$(a.value.progressButtonsButtonContent)},null,2),te("span",null,kt(c.model.getItemNumber(f)),1)],2)],10,y9e))),128))],2)],2),te("div",{class:$(c.model.getScrollButtonCss(t.value,!1)),onClick:h[1]||(h[1]=f=>u(!1)),role:"button"},null,2)],2),r.value?(I(),D("div",{key:1,class:$(c.survey.css.progressButtonsFooter)},[te("div",{class:$(c.survey.css.progressButtonsPageTitle),title:c.model.footerText},kt(c.model.footerText),11,w9e)],2)):Y("",!0)],14,m9e))}}),I9e=Pe({__name:"ProgressToc",props:{survey:{},model:{}},setup(i){const e=i;return Zn(()=>{e.model.updateStickyTOCSize(e.survey.rootElement)}),(t,n)=>(I(),D("div",{class:$(t.model.containerCss)},[t.model.isMobile?ri((I(),D("div",{key:0,onClick:n[0]||(n[0]=(...r)=>t.model.togglePopup&&t.model.togglePopup(...r))},[he(X,{is:"sv-svg-icon",iconName:t.model.icon,size:24},null,8,["iconName"]),he(X,{is:"sv-popup",model:t.model.popupModel},null,8,["model"])])),[[Xe(Hp)]]):(I(),ge(X,{key:1,is:"sv-list",model:t.model.listModel},null,8,["model"]))],2))}});/*!
 * surveyjs - Survey JavaScript library v2.3.1
 * Copyright (c) 2015-2025 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var E9e={modernbooleancheckchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>',modernbooleancheckind:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>',modernbooleancheckunchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>',moderncheck:'<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>',modernradio:'<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>',progressbutton:'<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>',removefile:'<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>',timercircle:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>',"add-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 11H17V13H13V17H11V13H7V11H11V7H13V11ZM23 12C23 18.1 18.1 23 12 23C5.9 23 1 18.1 1 12C1 5.9 5.9 1 12 1C18.1 1 23 5.9 23 12ZM21 12C21 7 17 3 12 3C7 3 3 7 3 12C3 17 7 21 12 21C17 21 21 17 21 12Z"></path></svg>',"arrowleft-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.4L8.7 13.3L7.3 14.7L0.599998 7.99999L7.3 1.29999L8.7 2.69999L4.4 6.99999H15V8.99999Z"></path></svg>',"arrowright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>',"camera-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z"></path></svg>',"camera-32x32":'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 6H23.8C23.34 6 22.92 5.77 22.66 5.39L22.25 4.78C21.51 3.66 20.26 3 18.92 3H13.06C11.72 3 10.48 3.67 9.73 4.78L9.32 5.39C9.07 5.77 8.64 6 8.18 6H4.98C2.79 6 1 7.79 1 10V24C1 26.21 2.79 28 5 28H27C29.21 28 31 26.21 31 24V10C31 7.79 29.21 6 27 6ZM29 24C29 25.1 28.1 26 27 26H5C3.9 26 3 25.1 3 24V10C3 8.9 3.9 8 5 8H8.2C9.33 8 10.38 7.44 11 6.5L11.41 5.89C11.78 5.33 12.41 5 13.07 5H18.93C19.6 5 20.22 5.33 20.59 5.89L21 6.5C21.62 7.44 22.68 8 23.8 8H27C28.1 8 29 8.9 29 10V24ZM16 9C12.13 9 9 12.13 9 16C9 19.87 12.13 23 16 23C19.87 23 23 19.87 23 16C23 12.13 19.87 9 16 9ZM16 21C13.24 21 11 18.76 11 16C11 13.24 13.24 11 16 11C18.76 11 21 13.24 21 16C21 18.76 18.76 21 16 21ZM17 13C17 13.55 16.55 14 16 14C14.9 14 14 14.9 14 16C14 16.55 13.55 17 13 17C12.45 17 12 16.55 12 16C12 13.79 13.79 12 16 12C16.55 12 17 12.45 17 13Z"></path></svg>',"cancel-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>',"check-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.003 14.413L0.292999 9.70303L1.703 8.29303L5.003 11.583L14.293 2.29303L15.703 3.70303L5.003 14.413Z"></path></svg>',"check-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>',"chevrondown-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>',"chevronright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.64648 12.6465L6.34648 13.3465L11.7465 8.04648L6.34648 2.64648L5.64648 3.34648L10.2465 8.04648L5.64648 12.6465Z"></path></svg>',"clear-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>',"clear-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>',"close-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.43 8.0025L13.7 3.7225C14.09 3.3325 14.09 2.6925 13.7 2.2925C13.31 1.9025 12.67 1.9025 12.27 2.2925L7.99 6.5725L3.72 2.3025C3.33 1.9025 2.69 1.9025 2.3 2.3025C1.9 2.6925 1.9 3.3325 2.3 3.7225L6.58 8.0025L2.3 12.2825C1.91 12.6725 1.91 13.3125 2.3 13.7125C2.69 14.1025 3.33 14.1025 3.73 13.7125L8.01 9.4325L12.29 13.7125C12.68 14.1025 13.32 14.1025 13.72 13.7125C14.11 13.3225 14.11 12.6825 13.72 12.2825L9.44 8.0025H9.43Z"></path></svg>',"close-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.4101 12L20.7001 4.71C21.0901 4.32 21.0901 3.69 20.7001 3.3C20.3101 2.91 19.6801 2.91 19.2901 3.3L12.0001 10.59L4.71006 3.29C4.32006 2.9 3.68006 2.9 3.29006 3.29C2.90006 3.68 2.90006 4.32 3.29006 4.71L10.5801 12L3.29006 19.29C2.90006 19.68 2.90006 20.31 3.29006 20.7C3.49006 20.9 3.74006 20.99 4.00006 20.99C4.26006 20.99 4.51006 20.89 4.71006 20.7L12.0001 13.41L19.2901 20.7C19.4901 20.9 19.7401 20.99 20.0001 20.99C20.2601 20.99 20.5101 20.89 20.7101 20.7C21.1001 20.31 21.1001 19.68 20.7101 19.29L13.4201 12H13.4101Z"></path></svg>',"collapse-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 6L3 5L8 10L13 5L14 6L8 12L2 6Z"></path></svg>',"collapsedetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>',"delete-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 2H14H11V1C11 0.4 10.6 0 10 0H7C6.4 0 6 0.4 6 1V2H3H2V4H3V14C3 15.1 3.9 16 5 16H12C13.1 16 14 15.1 14 14V4H15V2ZM7 1H10V2H7V1ZM12 14H5V4H12V14ZM7 13H6V5H7V13ZM9 13H8V5H9V13ZM11 13H10V5H11V13Z"></path></svg>',"delete-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>',"drag-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 6C13 4.9 13.9 4 15 4C16.1 4 17 4.9 17 6C17 7.1 16.1 8 15 8C13.9 8 13 7.1 13 6ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16ZM9 16C7.9 16 7 16.9 7 18C7 19.1 7.9 20 9 20C10.1 20 11 19.1 11 18C11 16.9 10.1 16 9 16Z"></path></svg>',"draghorizontal-24x16":'<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M18 9C19.1 9 20 9.9 20 11C20 12.1 19.1 13 18 13C16.9 13 16 12.1 16 11C16 9.9 16.9 9 18 9ZM20 5C20 3.9 19.1 3 18 3C16.9 3 16 3.9 16 5C16 6.1 16.9 7 18 7C19.1 7 20 6.1 20 5ZM14 11C14 9.9 13.1 9 12 9C10.9 9 10 9.9 10 11C10 12.1 10.9 13 12 13C13.1 13 14 12.1 14 11ZM14 5C14 3.9 13.1 3 12 3C10.9 3 10 3.9 10 5C10 6.1 10.9 7 12 7C13.1 7 14 6.1 14 5ZM8 11C8 9.9 7.1 9 6 9C4.9 9 4 9.9 4 11C4 12.1 4.9 13 6 13C7.1 13 8 12.1 8 11ZM8 5C8 3.9 7.1 3 6 3C4.9 3 4 3.9 4 5C4 6.1 4.9 7 6 7C7.1 7 8 6.1 8 5Z"></path></svg>',"editsmall-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.59 4.5884L11.42 2.4184C11.03 2.0284 10.52 1.8284 10.01 1.8284C9.5 1.8284 8.99 2.0284 8.6 2.4184L3.76 7.2384C2.63 8.3684 2 9.8884 2 11.4784V12.9884C2 13.5384 2.45 13.9884 3 13.9884H4.51C6.1 13.9884 7.63 13.3584 8.75 12.2284L13.58 7.3984C14.36 6.6184 14.36 5.3484 13.58 4.5684L13.59 4.5884ZM7.35 10.8284C6.59 11.5884 5.59 11.9984 4.52 11.9984H4.01V11.4884C4.01 10.4184 4.43 9.4184 5.18 8.6584L7.72 6.1184L9.89 8.2884L7.35 10.8284ZM11.3 6.8784L9.13 4.7084L10.01 3.8284L12.18 5.9984L11.3 6.8784Z"></path></svg>',"expand-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 14L5 13L10 8L5 3L6 2L12 8L6 14Z"></path></svg>',"expanddetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>',"file-72x72":'<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>',"flip-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23 12.0037C23 14.2445 21.7794 16.3052 19.5684 17.8257C19.3984 17.9458 19.1983 18.0058 19.0082 18.0058C18.688 18.0058 18.3779 17.8557 18.1778 17.5756C17.8677 17.1155 17.9777 16.4953 18.4379 16.1852C20.0887 15.0448 21.0091 13.5643 21.0091 12.0138C21.0091 8.70262 16.9673 6.01171 12.005 6.01171C11.4948 6.01171 10.9945 6.04172 10.5043 6.09173L11.7149 7.30215C12.105 7.69228 12.105 8.32249 11.7149 8.71263C11.5148 8.9127 11.2647 9.00273 11.0045 9.00273C10.7444 9.00273 10.4943 8.90269 10.2942 8.71263L6.58254 5.00136L10.2842 1.2901C10.6744 0.899964 11.3047 0.899964 11.6949 1.2901C12.085 1.68023 12.085 2.31045 11.6949 2.70058L10.3042 4.09105C10.8545 4.03103 11.4147 4.00102 11.985 4.00102C18.0578 4.00102 22.99 7.59225 22.99 12.0037H23ZM12.2851 15.2949C11.895 15.685 11.895 16.3152 12.2851 16.7054L13.4957 17.9158C13.0055 17.9758 12.4952 17.9958 11.995 17.9958C7.03274 17.9958 2.99091 15.3049 2.99091 11.9937C2.99091 10.4332 3.90132 8.95271 5.56207 7.82232C6.02228 7.51222 6.13233 6.89201 5.82219 6.43185C5.51205 5.97169 4.89177 5.86166 4.43156 6.17176C2.22055 7.69228 1 9.76299 1 11.9937C1 16.4052 5.93224 19.9965 12.005 19.9965C12.5753 19.9965 13.1355 19.9665 13.6858 19.9064L12.2951 21.2969C11.905 21.6871 11.905 22.3173 12.2951 22.7074C12.4952 22.9075 12.7453 22.9975 13.0055 22.9975C13.2656 22.9975 13.5157 22.8975 13.7158 22.7074L17.4275 18.9961L13.7158 15.2849C13.3256 14.8947 12.6953 14.8947 12.3051 15.2849L12.2851 15.2949Z"></path></svg>',"folder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.93 9H21V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H10L8 3H4C3.46957 3 2.96086 3.21071 2.58579 3.58579C2.21071 3.96086 2 4.46957 2 5L2 21H21L23.89 11.63C23.9916 11.3244 24.0179 10.9988 23.9667 10.6809C23.9155 10.363 23.7882 10.0621 23.5958 9.80392C23.4034 9.54571 23.1514 9.33779 22.8614 9.19782C22.5714 9.05786 22.2519 8.99 21.93 9ZM4 5H7.17L8.59 6.41L9.17 7H19V9H6L4 15V5ZM22 11L19.54 19H4.77L7.44 11H22Z"></path></svg>',"fullsize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 13H4C2.9 13 2 12.1 2 11V5C2 3.9 2.9 3 4 3H12C13.1 3 14 3.9 14 5V11C14 12.1 13.1 13 12 13ZM4 5V11H12V5H4Z"></path></svg>',"image-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M36 8H12C9.79 8 8 9.79 8 12V36C8 38.21 9.79 40 12 40H36C38.21 40 40 38.21 40 36V12C40 9.79 38.21 8 36 8ZM38 36C38 37.1 37.1 38 36 38H12C10.9 38 10 37.1 10 36V12C10 10.9 10.9 10 12 10H36C37.1 10 38 10.9 38 12V36ZM14 17C14 15.34 15.34 14 17 14C18.66 14 20 15.34 20 17C20 18.66 18.66 20 17 20C15.34 20 14 18.66 14 17ZM27 24L36 36H12L19 27L23 29L27 24Z"></path></svg>',"loading-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>',"maximize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 10.71L4.42 13H6.01C6.56 13 7.01 13.45 7.01 14C7.01 14.55 6.56 15 6.01 15H2C1.45 15 1 14.55 1 14V10C1 9.45 1.45 9 2 9C2.55 9 3 9.45 3 10V11.59L5.29 9.3C5.68 8.91 6.31 8.91 6.7 9.3C7.09 9.69 7.09 10.32 6.7 10.71H6.71ZM14 1H10C9.45 1 9 1.45 9 2C9 2.55 9.45 3 10 3H11.59L9.3 5.29C8.91 5.68 8.91 6.31 9.3 6.7C9.5 6.9 9.75 6.99 10.01 6.99C10.27 6.99 10.52 6.89 10.72 6.7L13.01 4.41V6C13.01 6.55 13.46 7 14.01 7C14.56 7 15.01 6.55 15.01 6V2C15.01 1.45 14.56 1 14.01 1H14Z"></path></svg>',"minimize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 9H3C2.45 9 2 8.55 2 8C2 7.45 2.45 7 3 7H13C13.55 7 14 7.45 14 8C14 8.55 13.55 9 13 9Z"></path></svg>',"more-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>',"navmenu-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z"></path></svg>',"noimage-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></svg>',"ranking-arrows":'<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>',"rankingundefined-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>',"rating-star-2":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>',"rating-star-small-2":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>',"rating-star-small":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>',"rating-star":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>',"reorder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 5L12 0L7 5H11V9H13V5H17Z"></path><path d="M13 19V15H11V19H7L12 24L17 19H13Z"></path></svg>',"restoredown-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 6C15 6.55 14.55 7 14 7H10C9.45 7 9 6.55 9 6V2C9 1.45 9.45 1 10 1C10.55 1 11 1.45 11 2V3.59L13.29 1.29C13.49 1.09 13.74 1 14 1C14.26 1 14.51 1.1 14.71 1.29C15.1 1.68 15.1 2.31 14.71 2.7L12.42 4.99H14.01C14.56 4.99 15.01 5.44 15.01 5.99L15 6ZM6 9H2C1.45 9 0.999998 9.45 0.999998 10C0.999998 10.55 1.45 11 2 11H3.59L1.29 13.29C0.899998 13.68 0.899998 14.31 1.29 14.7C1.68 15.09 2.31 15.09 2.7 14.7L4.99 12.41V14C4.99 14.55 5.44 15 5.99 15C6.54 15 6.99 14.55 6.99 14V10C6.99 9.45 6.54 9 5.99 9H6Z"></path></svg>',"search-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>',"smiley-rate1-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>',"smiley-rate10-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>',"smiley-rate2-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>',"smiley-rate3-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>',"smiley-rate4-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>',"smiley-rate5-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>',"smiley-rate6-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>',"smiley-rate7-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>',"smiley-rate8-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>',"smiley-rate9-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'};/*!
 * surveyjs - Survey JavaScript library v2.3.1
 * Copyright (c) 2015-2025 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var vB={modernbooleancheckchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>',modernbooleancheckind:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>',modernbooleancheckunchecked:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>',moderncheck:'<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>',modernradio:'<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>',progressbutton:'<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>',removefile:'<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>',timercircle:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>',"add-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.75 12C15.75 12.41 15.41 12.75 15 12.75H12.75V15C12.75 15.41 12.41 15.75 12 15.75C11.59 15.75 11.25 15.41 11.25 15V12.75H9C8.59 12.75 8.25 12.41 8.25 12C8.25 11.59 8.59 11.25 9 11.25H11.25V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9V11.25H15C15.41 11.25 15.75 11.59 15.75 12ZM21.75 12C21.75 17.38 17.38 21.75 12 21.75C6.62 21.75 2.25 17.38 2.25 12C2.25 6.62 6.62 2.25 12 2.25C17.38 2.25 21.75 6.62 21.75 12ZM20.25 12C20.25 7.45 16.55 3.75 12 3.75C7.45 3.75 3.75 7.45 3.75 12C3.75 16.55 7.45 20.25 12 20.25C16.55 20.25 20.25 16.55 20.25 12Z"></path></svg>',"arrowleft-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.7475 7.9975C14.7475 8.4075 14.4075 8.7475 13.9975 8.7475H3.8075L7.5275 12.4675C7.8175 12.7575 7.8175 13.2375 7.5275 13.5275C7.3775 13.6775 7.1875 13.7475 6.9975 13.7475C6.8075 13.7475 6.6175 13.6775 6.4675 13.5275L1.4675 8.5275C1.1775 8.2375 1.1775 7.7575 1.4675 7.4675L6.4675 2.4675C6.7575 2.1775 7.2375 2.1775 7.5275 2.4675C7.8175 2.7575 7.8175 3.2375 7.5275 3.5275L3.8075 7.2475H13.9975C14.4075 7.2475 14.7475 7.5875 14.7475 7.9975Z"></path></svg>',"arrowright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 8.5275L9.53 13.5275C9.38 13.6775 9.19 13.7475 9 13.7475C8.81 13.7475 8.62 13.6775 8.47 13.5275C8.18 13.2375 8.18 12.7575 8.47 12.4675L12.19 8.7475H2C1.59 8.7475 1.25 8.4075 1.25 7.9975C1.25 7.5875 1.59 7.2475 2 7.2475H12.19L8.47 3.5275C8.18 3.2375 8.18 2.7575 8.47 2.4675C8.76 2.1775 9.24 2.1775 9.53 2.4675L14.53 7.4675C14.82 7.7575 14.82 8.2375 14.53 8.5275Z"></path></svg>',"camera-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.19 4.25H17.12C16.72 4.25 16.35 4.03 16.17 3.67C15.73 2.8 14.86 2.25 13.88 2.25H10.12C9.14 2.25 8.27 2.79 7.83 3.67C7.65 4.03 7.29 4.25 6.88 4.25H4.81C3.4 4.25 2.25 5.4 2.25 6.81V18.19C2.25 19.6 3.4 20.75 4.81 20.75H19.19C20.6 20.75 21.75 19.6 21.75 18.19V6.81C21.75 5.4 20.6 4.25 19.19 4.25ZM20.25 18.19C20.25 18.77 19.78 19.25 19.19 19.25H4.81C4.23 19.25 3.75 18.78 3.75 18.19V6.81C3.75 6.23 4.22 5.75 4.81 5.75H6.88C7.86 5.75 8.73 5.21 9.17 4.33C9.35 3.97 9.71 3.75 10.12 3.75H13.88C14.28 3.75 14.65 3.97 14.83 4.33C15.27 5.2 16.14 5.75 17.12 5.75H19.19C19.77 5.75 20.25 6.22 20.25 6.81V18.19ZM12 6.25C8.83 6.25 6.25 8.83 6.25 12C6.25 15.17 8.83 17.75 12 17.75C15.17 17.75 17.75 15.17 17.75 12C17.75 8.83 15.17 6.25 12 6.25ZM12 16.25C9.66 16.25 7.75 14.34 7.75 12C7.75 9.66 9.66 7.75 12 7.75C14.34 7.75 16.25 9.66 16.25 12C16.25 14.34 14.34 16.25 12 16.25ZM14.75 12C14.75 13.52 13.52 14.75 12 14.75C11.59 14.75 11.25 14.41 11.25 14C11.25 13.59 11.59 13.25 12 13.25C12.69 13.25 13.25 12.69 13.25 12C13.25 11.59 13.59 11.25 14 11.25C14.41 11.25 14.75 11.59 14.75 12Z"></path></svg>',"camera-32x32":'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M25 7.25H22.19C21.73 7.25 21.31 7 21.09 6.59L20.89 6.22C20.23 5.01 18.97 4.25 17.59 4.25H14.41C13.03 4.25 11.77 5 11.11 6.22L10.91 6.6C10.69 7 10.27 7.26 9.81 7.26H7C4.93 7.26 3.25 8.94 3.25 11.01V24.01C3.25 26.08 4.93 27.76 7 27.76H25C27.07 27.76 28.75 26.08 28.75 24.01V11C28.75 8.93 27.07 7.25 25 7.25ZM27.25 24C27.25 25.24 26.24 26.25 25 26.25H7C5.76 26.25 4.75 25.24 4.75 24V11C4.75 9.76 5.76 8.75 7 8.75H9.81C10.82 8.75 11.75 8.2 12.23 7.31L12.43 6.94C12.82 6.21 13.58 5.76 14.41 5.76H17.59C18.42 5.76 19.18 6.21 19.57 6.94L19.77 7.31C20.25 8.2 21.18 8.76 22.19 8.76H25C26.24 8.76 27.25 9.77 27.25 11.01V24.01V24ZM16 10.25C12.28 10.25 9.25 13.28 9.25 17C9.25 20.72 12.28 23.75 16 23.75C19.72 23.75 22.75 20.72 22.75 17C22.75 13.28 19.72 10.25 16 10.25ZM16 22.25C13.11 22.25 10.75 19.89 10.75 17C10.75 14.11 13.11 11.75 16 11.75C18.89 11.75 21.25 14.11 21.25 17C21.25 19.89 18.89 22.25 16 22.25ZM19.75 17C19.75 19.07 18.07 20.75 16 20.75C15.59 20.75 15.25 20.41 15.25 20C15.25 19.59 15.59 19.25 16 19.25C17.24 19.25 18.25 18.24 18.25 17C18.25 16.59 18.59 16.25 19 16.25C19.41 16.25 19.75 16.59 19.75 17Z"></path></svg>',"cancel-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.8099 11.75L15.2799 9.28C15.5699 8.99 15.5699 8.51 15.2799 8.22C14.9899 7.93 14.5099 7.93 14.2199 8.22L11.7499 10.69L9.27994 8.22C8.98994 7.93 8.50994 7.93 8.21994 8.22C7.92994 8.51 7.92994 8.99 8.21994 9.28L10.6899 11.75L8.21994 14.22C7.92994 14.51 7.92994 14.99 8.21994 15.28C8.36994 15.43 8.55994 15.5 8.74994 15.5C8.93994 15.5 9.12994 15.43 9.27994 15.28L11.7499 12.81L14.2199 15.28C14.3699 15.43 14.5599 15.5 14.7499 15.5C14.9399 15.5 15.1299 15.43 15.2799 15.28C15.5699 14.99 15.5699 14.51 15.2799 14.22L12.8099 11.75Z"></path></svg>',"check-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.0275 5.0275L6.5275 12.5275C6.3775 12.6775 6.1875 12.7475 5.9975 12.7475C5.8075 12.7475 5.6175 12.6775 5.4675 12.5275L2.4675 9.5275C2.1775 9.2375 2.1775 8.7575 2.4675 8.4675C2.7575 8.1775 3.2375 8.1775 3.5275 8.4675L5.9975 10.9375L12.9675 3.9675C13.2575 3.6775 13.7375 3.6775 14.0275 3.9675C14.3175 4.2575 14.3175 4.7375 14.0275 5.0275Z"></path></svg>',"check-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 7.5275L9.5275 17.5275C9.3775 17.6775 9.1875 17.7475 8.9975 17.7475C8.8075 17.7475 8.6175 17.6775 8.4675 17.5275L4.4675 13.5275C4.1775 13.2375 4.1775 12.7575 4.4675 12.4675C4.7575 12.1775 5.2375 12.1775 5.5275 12.4675L8.9975 15.9375L18.4675 6.4675C18.7575 6.1775 19.2375 6.1775 19.5275 6.4675C19.8175 6.7575 19.8175 7.2375 19.5275 7.5275Z"></path></svg>',"chevrondown-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.5275 10.5275L12.5275 14.5275C12.3775 14.6775 12.1875 14.7475 11.9975 14.7475C11.8075 14.7475 11.6175 14.6775 11.4675 14.5275L7.4675 10.5275C7.1775 10.2375 7.1775 9.7575 7.4675 9.4675C7.7575 9.1775 8.2375 9.1775 8.5275 9.4675L11.9975 12.9375L15.4675 9.4675C15.7575 9.1775 16.2375 9.1775 16.5275 9.4675C16.8175 9.7575 16.8175 10.2375 16.5275 10.5275Z"></path></svg>',"chevronright-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.35 8.34627L7.35 12.3463C7.25 12.4463 7.12 12.4963 7 12.4963C6.88 12.4963 6.74 12.4463 6.65 12.3463C6.45 12.1463 6.45 11.8363 6.65 11.6363L10.3 7.98627L6.65 4.34627C6.45 4.15627 6.45 3.83627 6.65 3.64627C6.85 3.45627 7.16 3.44627 7.35 3.64627L11.35 7.64627C11.55 7.84627 11.55 8.15627 11.35 8.35627V8.34627Z"></path></svg>',"clear-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 11.65C12.55 11.85 12.55 12.16 12.35 12.36C12.25 12.46 12.12 12.51 12 12.51C11.88 12.51 11.74 12.46 11.65 12.36L8 8.71L4.35 12.36C4.25 12.46 4.12 12.51 4 12.51C3.88 12.51 3.74 12.46 3.65 12.36C3.45 12.16 3.45 11.85 3.65 11.65L7.3 8L3.65 4.35C3.45 4.16 3.45 3.84 3.65 3.65C3.85 3.46 4.16 3.45 4.35 3.65L8 7.3L11.65 3.65C11.85 3.45 12.16 3.45 12.36 3.65C12.56 3.85 12.56 4.16 12.36 4.36L8.71 8.01L12.36 11.66L12.35 11.65Z"></path></svg>',"clear-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.12 10.9325C20.64 10.4125 20.93 9.7225 20.93 8.9925C20.93 8.2625 20.64 7.5725 20.12 7.0525L16.95 3.8825C15.88 2.8125 14.13 2.8125 13.06 3.8825L3.88 13.0525C3.36 13.5725 3.07 14.2625 3.07 14.9925C3.07 15.7225 3.36 16.4125 3.88 16.9325L5.64 18.6925C6.57 19.6225 7.78 20.0825 9 20.0825C10.22 20.0825 11.43 19.6225 12.36 18.6925L20.12 10.9325ZM14.12 4.9325C14.36 4.6925 14.67 4.5625 15 4.5625C15.33 4.5625 15.65 4.6925 15.88 4.9325L19.05 8.1025C19.54 8.5925 19.54 9.3825 19.05 9.8725L12.99 15.9325L8.05 10.9925L14.12 4.9325ZM6.7 17.6325L4.94 15.8725C4.45 15.3825 4.45 14.5925 4.94 14.1025L7 12.0425L11.94 16.9825L11.3 17.6225C10.07 18.8525 7.93 18.8525 6.7 17.6225V17.6325ZM22.75 20.9925C22.75 21.4025 22.41 21.7425 22 21.7425H14C13.59 21.7425 13.25 21.4025 13.25 20.9925C13.25 20.5825 13.59 20.2425 14 20.2425H22C22.41 20.2425 22.75 20.5825 22.75 20.9925ZM4.75 20.9925C4.75 21.4025 4.41 21.7425 4 21.7425H2C1.59 21.7425 1.25 21.4025 1.25 20.9925C1.25 20.5825 1.59 20.2425 2 20.2425H4C4.41 20.2425 4.75 20.5825 4.75 20.9925Z"></path></svg>',"close-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.5275 12.4675C13.8175 12.7575 13.8175 13.2375 13.5275 13.5275C13.3775 13.6775 13.1875 13.7475 12.9975 13.7475C12.8075 13.7475 12.6175 13.6775 12.4675 13.5275L7.9975 9.0575L3.5275 13.5275C3.3775 13.6775 3.1875 13.7475 2.9975 13.7475C2.8075 13.7475 2.6175 13.6775 2.4675 13.5275C2.1775 13.2375 2.1775 12.7575 2.4675 12.4675L6.9375 7.9975L2.4675 3.5275C2.1775 3.2375 2.1775 2.7575 2.4675 2.4675C2.7575 2.1775 3.2375 2.1775 3.5275 2.4675L7.9975 6.9375L12.4675 2.4675C12.7575 2.1775 13.2375 2.1775 13.5275 2.4675C13.8175 2.7575 13.8175 3.2375 13.5275 3.5275L9.0575 7.9975L13.5275 12.4675Z"></path></svg>',"close-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 18.4675C19.8175 18.7575 19.8175 19.2375 19.5275 19.5275C19.3775 19.6775 19.1875 19.7475 18.9975 19.7475C18.8075 19.7475 18.6175 19.6775 18.4675 19.5275L11.9975 13.0575L5.5275 19.5275C5.3775 19.6775 5.1875 19.7475 4.9975 19.7475C4.8075 19.7475 4.6175 19.6775 4.4675 19.5275C4.1775 19.2375 4.1775 18.7575 4.4675 18.4675L10.9375 11.9975L4.4675 5.5275C4.1775 5.2375 4.1775 4.7575 4.4675 4.4675C4.7575 4.1775 5.2375 4.1775 5.5275 4.4675L11.9975 10.9375L18.4675 4.4675C18.7575 4.1775 19.2375 4.1775 19.5275 4.4675C19.8175 4.7575 19.8175 5.2375 19.5275 5.5275L13.0575 11.9975L19.5275 18.4675Z"></path></svg>',"collapse-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"collapsedetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"delete-16x16":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 3.25H10.75V3C10.75 2.04 9.96 1.25 9 1.25H7C6.04 1.25 5.25 2.04 5.25 3V3.25H3C2.59 3.25 2.25 3.59 2.25 4C2.25 4.41 2.59 4.75 3 4.75H3.25V13C3.25 13.96 4.04 14.75 5 14.75H11C11.96 14.75 12.75 13.96 12.75 13V4.75H13C13.41 4.75 13.75 4.41 13.75 4C13.75 3.59 13.41 3.25 13 3.25ZM6.75 3C6.75 2.86 6.86 2.75 7 2.75H9C9.14 2.75 9.25 2.86 9.25 3V3.25H6.75V3ZM11.25 13C11.25 13.14 11.14 13.25 11 13.25H5C4.86 13.25 4.75 13.14 4.75 13V4.75H11.25V13ZM9.25 6.25C9.66 6.25 10 6.59 10 7V11C10 11.41 9.66 11.75 9.25 11.75C8.84 11.75 8.5 11.41 8.5 11V7C8.5 6.59 8.84 6.25 9.25 6.25ZM7.5 7V11C7.5 11.41 7.16 11.75 6.75 11.75C6.34 11.75 6 11.41 6 11V7C6 6.59 6.34 6.25 6.75 6.25C7.16 6.25 7.5 6.59 7.5 7Z"></path></svg>',"delete-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.75 9V17C12.75 17.41 12.41 17.75 12 17.75C11.59 17.75 11.25 17.41 11.25 17V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9ZM14.25 9V17C14.25 17.41 14.59 17.75 15 17.75C15.41 17.75 15.75 17.41 15.75 17V9C15.75 8.59 15.41 8.25 15 8.25C14.59 8.25 14.25 8.59 14.25 9ZM9 8.25C8.59 8.25 8.25 8.59 8.25 9V17C8.25 17.41 8.59 17.75 9 17.75C9.41 17.75 9.75 17.41 9.75 17V9C9.75 8.59 9.41 8.25 9 8.25ZM20.75 6C20.75 6.41 20.41 6.75 20 6.75H18.75V18C18.75 19.52 17.52 20.75 16 20.75H8C6.48 20.75 5.25 19.52 5.25 18V6.75H4C3.59 6.75 3.25 6.41 3.25 6C3.25 5.59 3.59 5.25 4 5.25H8.25V4C8.25 3.04 9.04 2.25 10 2.25H14C14.96 2.25 15.75 3.04 15.75 4V5.25H20C20.41 5.25 20.75 5.59 20.75 6ZM9.75 5.25H14.25V4C14.25 3.86 14.14 3.75 14 3.75H10C9.86 3.75 9.75 3.86 9.75 4V5.25ZM17.25 6.75H6.75V18C6.75 18.69 7.31 19.25 8 19.25H16C16.69 19.25 17.25 18.69 17.25 18V6.75Z"></path></svg>',"drag-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 8.75C15.19 8.75 15.75 8.19 15.75 7.5C15.75 6.81 15.19 6.25 14.5 6.25C13.81 6.25 13.25 6.81 13.25 7.5C13.25 8.19 13.81 8.75 14.5 8.75ZM14.5 7.25C14.64 7.25 14.75 7.36 14.75 7.5C14.75 7.78 14.25 7.78 14.25 7.5C14.25 7.36 14.36 7.25 14.5 7.25ZM9.5 6.25C8.81 6.25 8.25 6.81 8.25 7.5C8.25 8.19 8.81 8.75 9.5 8.75C10.19 8.75 10.75 8.19 10.75 7.5C10.75 6.81 10.19 6.25 9.5 6.25ZM9.25 7.5C9.25 7.36 9.36 7.25 9.5 7.25C9.64 7.25 9.75 7.36 9.75 7.5C9.75 7.78 9.25 7.78 9.25 7.5ZM14.5 11.25C13.81 11.25 13.25 11.81 13.25 12.5C13.25 13.19 13.81 13.75 14.5 13.75C15.19 13.75 15.75 13.19 15.75 12.5C15.75 11.81 15.19 11.25 14.5 11.25ZM14.25 12.5C14.25 12.36 14.36 12.25 14.5 12.25C14.64 12.25 14.75 12.36 14.75 12.5C14.75 12.78 14.25 12.78 14.25 12.5ZM9.5 11.25C8.81 11.25 8.25 11.81 8.25 12.5C8.25 13.19 8.81 13.75 9.5 13.75C10.19 13.75 10.75 13.19 10.75 12.5C10.75 11.81 10.19 11.25 9.5 11.25ZM9.25 12.5C9.25 12.36 9.36 12.25 9.5 12.25C9.64 12.25 9.75 12.36 9.75 12.5C9.75 12.78 9.25 12.78 9.25 12.5ZM14.5 16.25C13.81 16.25 13.25 16.81 13.25 17.5C13.25 18.19 13.81 18.75 14.5 18.75C15.19 18.75 15.75 18.19 15.75 17.5C15.75 16.81 15.19 16.25 14.5 16.25ZM14.25 17.5C14.25 17.36 14.36 17.25 14.5 17.25C14.64 17.25 14.75 17.36 14.75 17.5C14.75 17.78 14.25 17.78 14.25 17.5ZM9.5 16.25C8.81 16.25 8.25 16.81 8.25 17.5C8.25 18.19 8.81 18.75 9.5 18.75C10.19 18.75 10.75 18.19 10.75 17.5C10.75 16.81 10.19 16.25 9.5 16.25ZM9.25 17.5C9.25 17.36 9.36 17.25 9.5 17.25C9.64 17.25 9.75 17.36 9.75 17.5C9.75 17.78 9.25 17.78 9.25 17.5Z"></path></svg>',"draghorizontal-24x16":'<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 9.25C16.81 9.25 16.25 9.81 16.25 10.5C16.25 11.19 16.81 11.75 17.5 11.75C18.19 11.75 18.75 11.19 18.75 10.5C18.75 9.81 18.19 9.25 17.5 9.25ZM17.25 10.5C17.25 10.36 17.36 10.25 17.5 10.25C17.64 10.25 17.75 10.36 17.75 10.5C17.75 10.78 17.25 10.78 17.25 10.5ZM17.5 6.75C18.19 6.75 18.75 6.19 18.75 5.5C18.75 4.81 18.19 4.25 17.5 4.25C16.81 4.25 16.25 4.81 16.25 5.5C16.25 6.19 16.81 6.75 17.5 6.75ZM17.5 5.25C17.64 5.25 17.75 5.36 17.75 5.5C17.75 5.78 17.25 5.78 17.25 5.5C17.25 5.36 17.36 5.25 17.5 5.25ZM12.5 9.25C11.81 9.25 11.25 9.81 11.25 10.5C11.25 11.19 11.81 11.75 12.5 11.75C13.19 11.75 13.75 11.19 13.75 10.5C13.75 9.81 13.19 9.25 12.5 9.25ZM12.25 10.5C12.25 10.36 12.36 10.25 12.5 10.25C12.64 10.25 12.75 10.36 12.75 10.5C12.75 10.78 12.25 10.78 12.25 10.5ZM12.5 4.25C11.81 4.25 11.25 4.81 11.25 5.5C11.25 6.19 11.81 6.75 12.5 6.75C13.19 6.75 13.75 6.19 13.75 5.5C13.75 4.81 13.19 4.25 12.5 4.25ZM12.25 5.5C12.25 5.36 12.36 5.25 12.5 5.25C12.64 5.25 12.75 5.36 12.75 5.5C12.75 5.78 12.25 5.78 12.25 5.5ZM7.5 9.25C6.81 9.25 6.25 9.81 6.25 10.5C6.25 11.19 6.81 11.75 7.5 11.75C8.19 11.75 8.75 11.19 8.75 10.5C8.75 9.81 8.19 9.25 7.5 9.25ZM7.25 10.5C7.25 10.36 7.36 10.25 7.5 10.25C7.64 10.25 7.75 10.36 7.75 10.5C7.75 10.78 7.25 10.78 7.25 10.5ZM7.5 4.25C6.81 4.25 6.25 4.81 6.25 5.5C6.25 6.19 6.81 6.75 7.5 6.75C8.19 6.75 8.75 6.19 8.75 5.5C8.75 4.81 8.19 4.25 7.5 4.25ZM7.25 5.5C7.25 5.36 7.36 5.25 7.5 5.25C7.64 5.25 7.75 5.36 7.75 5.5C7.75 5.78 7.25 5.78 7.25 5.5Z"></path></svg>',"editsmall-16x16":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.1209 3.05249L12.9509 2.88249C11.8809 1.81249 10.1309 1.81249 9.06089 2.88249L3.47089 8.46249C3.37089 8.56249 3.31089 8.68249 3.27089 8.81249L2.27089 12.8125C2.21089 13.0625 2.28089 13.3425 2.47089 13.5225C2.61089 13.6625 2.80089 13.7425 3.00089 13.7425C3.06089 13.7425 3.12089 13.7425 3.18089 13.7225L7.18089 12.7225C7.31089 12.6925 7.43089 12.6225 7.53089 12.5225L13.1209 6.93249C14.1909 5.86249 14.1909 4.11249 13.1209 3.04249V3.05249ZM6.62089 11.3125L4.04089 11.9625L4.69089 9.38249L8.01089 6.06249L9.95089 8.00249L6.63089 11.3225L6.62089 11.3125ZM12.0609 5.87249L11.0009 6.93249L9.06089 4.99249L10.1209 3.93249C10.6109 3.44249 11.4009 3.44249 11.8909 3.93249L12.0609 4.10249C12.5509 4.59249 12.5509 5.38249 12.0609 5.87249Z"></path></svg>',"expand-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"expanddetails-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"file-72x72":'<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>',"flip-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 17.4775C14.82 17.7675 14.82 18.2475 14.53 18.5375L11.53 21.5375C11.38 21.6875 11.19 21.7575 11 21.7575C10.81 21.7575 10.62 21.6875 10.47 21.5375C10.18 21.2475 10.18 20.7675 10.47 20.4775L12.2 18.7475C12.13 18.7475 12.07 18.7475 12 18.7475C6.62 18.7475 2.25 15.7475 2.25 12.0575C2.25 10.2975 3.22 8.6375 4.99 7.3875C5.33 7.1475 5.8 7.2275 6.03 7.5675C6.27 7.9075 6.19 8.3775 5.85 8.6075C4.49 9.5675 3.74 10.7875 3.74 12.0575C3.74 14.9175 7.44 17.2475 11.99 17.2475C12.05 17.2475 12.11 17.2475 12.17 17.2475L10.46 15.5375C10.17 15.2475 10.17 14.7675 10.46 14.4775C10.75 14.1875 11.23 14.1875 11.52 14.4775L14.52 17.4775H14.53ZM12 5.2575C11.93 5.2575 11.87 5.2575 11.8 5.2575L13.53 3.5275C13.82 3.2375 13.82 2.7575 13.53 2.4675C13.24 2.1775 12.76 2.1775 12.47 2.4675L9.47 5.4675C9.18 5.7575 9.18 6.2375 9.47 6.5275L12.47 9.5275C12.62 9.6775 12.81 9.7475 13 9.7475C13.19 9.7475 13.38 9.6775 13.53 9.5275C13.82 9.2375 13.82 8.7575 13.53 8.4675L11.82 6.7575C11.88 6.7575 11.94 6.7575 12 6.7575C16.55 6.7575 20.25 9.0875 20.25 11.9475C20.25 13.2075 19.5 14.4375 18.14 15.3975C17.8 15.6375 17.72 16.1075 17.96 16.4475C18.11 16.6575 18.34 16.7675 18.57 16.7675C18.72 16.7675 18.87 16.7275 19 16.6275C20.77 15.3775 21.75 13.7175 21.75 11.9575C21.75 8.2675 17.38 5.2675 12 5.2675V5.2575Z"></path></svg>',"folder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.72 9.24C21.45 8.92 21.12 8.67 20.75 8.5V8C20.75 6.48 19.52 5.25 18 5.25H10.65C10.32 4.1 9.26 3.25 8 3.25H6C4.48 3.25 3.25 4.48 3.25 6V18C3.25 19.52 4.48 20.75 6 20.75H18.33C19.66 20.75 20.8 19.8 21.04 18.49L22.31 11.49C22.46 10.69 22.24 9.86 21.72 9.24ZM4.75 18V6C4.75 5.31 5.31 4.75 6 4.75H8C8.69 4.75 9.25 5.31 9.25 6C9.25 6.41 9.59 6.75 10 6.75H18C18.69 6.75 19.25 7.31 19.25 8V8.25H9.27C7.94 8.25 6.8 9.2 6.56 10.51L5.29 17.51C5.19 18.07 5.27 18.64 5.51 19.15C5.06 18.96 4.75 18.52 4.75 18ZM20.83 11.22L19.56 18.22C19.45 18.81 18.94 19.25 18.33 19.25H8C7.63 19.25 7.28 19.09 7.04 18.8C6.8 18.51 6.7 18.14 6.77 17.78L8.04 10.78C8.15 10.19 8.66 9.75 9.27 9.75H19.6C19.97 9.75 20.32 9.91 20.56 10.2C20.8 10.49 20.9 10.86 20.83 11.22Z"></path></svg>',"fullsize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 3.25H4C3.04 3.25 2.25 4.04 2.25 5V11C2.25 11.96 3.04 12.75 4 12.75H12C12.96 12.75 13.75 11.96 13.75 11V5C13.75 4.04 12.96 3.25 12 3.25ZM12.25 11C12.25 11.14 12.14 11.25 12 11.25H4C3.86 11.25 3.75 11.14 3.75 11V5C3.75 4.86 3.86 4.75 4 4.75H12C12.14 4.75 12.25 4.86 12.25 5V11Z"></path></svg>',"image-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M33 10.25H15C12.38 10.25 10.25 12.38 10.25 15V33C10.25 35.62 12.38 37.75 15 37.75H33C35.62 37.75 37.75 35.62 37.75 33V15C37.75 12.38 35.62 10.25 33 10.25ZM36.25 33C36.25 34.79 34.79 36.25 33 36.25H15C13.21 36.25 11.75 34.79 11.75 33V15C11.75 13.21 13.21 11.75 15 11.75H33C34.79 11.75 36.25 13.21 36.25 15V33ZM30.5 14.25C28.71 14.25 27.25 15.71 27.25 17.5C27.25 19.29 28.71 20.75 30.5 20.75C32.29 20.75 33.75 19.29 33.75 17.5C33.75 15.71 32.29 14.25 30.5 14.25ZM30.5 19.25C29.54 19.25 28.75 18.46 28.75 17.5C28.75 16.54 29.54 15.75 30.5 15.75C31.46 15.75 32.25 16.54 32.25 17.5C32.25 18.46 31.46 19.25 30.5 19.25ZM29.26 26.28C28.94 25.92 28.49 25.71 28.01 25.7C27.54 25.68 27.07 25.87 26.73 26.2L24.95 27.94L22.28 25.23C21.94 24.89 21.5 24.71 21 24.71C20.52 24.71 20.06 24.93 19.74 25.28L14.74 30.78C14.25 31.3 14.12 32.06 14.41 32.72C14.69 33.36 15.28 33.75 15.95 33.75H32.07C32.74 33.75 33.33 33.35 33.61 32.72C33.89 32.06 33.77 31.31 33.29 30.79L29.27 26.29L29.26 26.28ZM32.22 32.12C32.18 32.2 32.13 32.25 32.06 32.25H15.94C15.87 32.25 15.81 32.21 15.78 32.12C15.77 32.09 15.71 31.93 15.83 31.8L20.84 26.29C20.9 26.22 20.99 26.21 21.02 26.21C21.06 26.21 21.14 26.22 21.2 26.29L24.4 29.54C24.69 29.83 25.16 29.84 25.46 29.54L27.77 27.27C27.83 27.21 27.9 27.2 27.94 27.2C28.01 27.2 28.06 27.21 28.13 27.28L32.16 31.79C32.16 31.79 32.16 31.79 32.17 31.8C32.29 31.93 32.23 32.09 32.22 32.12Z"></path></svg>',"loading-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>',"maximize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 3V7C13.75 7.41 13.41 7.75 13 7.75C12.59 7.75 12.25 7.41 12.25 7V4.81L9.53 7.53C9.38 7.68 9.19 7.75 9 7.75C8.81 7.75 8.62 7.68 8.47 7.53C8.18 7.24 8.18 6.76 8.47 6.47L11.19 3.75H9C8.59 3.75 8.25 3.41 8.25 3C8.25 2.59 8.59 2.25 9 2.25H13C13.1 2.25 13.19 2.27 13.29 2.31C13.47 2.39 13.62 2.53 13.7 2.72C13.74 2.81 13.76 2.91 13.76 3.01L13.75 3ZM7.53 8.47C7.24 8.18 6.76 8.18 6.47 8.47L3.75 11.19V9C3.75 8.59 3.41 8.25 3 8.25C2.59 8.25 2.25 8.59 2.25 9V13C2.25 13.1 2.27 13.19 2.31 13.29C2.39 13.47 2.53 13.62 2.72 13.7C2.81 13.74 2.91 13.76 3.01 13.76H7.01C7.42 13.76 7.76 13.42 7.76 13.01C7.76 12.6 7.42 12.26 7.01 12.26H4.82L7.54 9.54C7.83 9.25 7.83 8.77 7.54 8.48L7.53 8.47Z"></path></svg>',"minimize-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 8C13.75 8.41 13.41 8.75 13 8.75H3C2.59 8.75 2.25 8.41 2.25 8C2.25 7.59 2.59 7.25 3 7.25H13C13.41 7.25 13.75 7.59 13.75 8Z"></path></svg>',"more-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 10.25C11.04 10.25 10.25 11.04 10.25 12C10.25 12.96 11.04 13.75 12 13.75C12.96 13.75 13.75 12.96 13.75 12C13.75 11.04 12.96 10.25 12 10.25ZM11.75 12C11.75 11.86 11.86 11.75 12 11.75C12.14 11.75 12.25 11.86 12.25 12C12.25 12.28 11.75 12.28 11.75 12ZM19 10.25C18.04 10.25 17.25 11.04 17.25 12C17.25 12.96 18.04 13.75 19 13.75C19.96 13.75 20.75 12.96 20.75 12C20.75 11.04 19.96 10.25 19 10.25ZM18.75 12C18.75 11.86 18.86 11.75 19 11.75C19.14 11.75 19.25 11.86 19.25 12C19.25 12.28 18.75 12.28 18.75 12ZM5 10.25C4.04 10.25 3.25 11.04 3.25 12C3.25 12.96 4.04 13.75 5 13.75C5.96 13.75 6.75 12.96 6.75 12C6.75 11.04 5.96 10.25 5 10.25ZM4.75 12C4.75 11.86 4.86 11.75 5 11.75C5.14 11.75 5.25 11.86 5.25 12C5.25 12.28 4.75 12.28 4.75 12Z"></path></svg>',"navmenu-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.25 7C3.25 6.59 3.59 6.25 4 6.25H15C15.41 6.25 15.75 6.59 15.75 7C15.75 7.41 15.41 7.75 15 7.75H4C3.59 7.75 3.25 7.41 3.25 7ZM20 11.25H4C3.59 11.25 3.25 11.59 3.25 12C3.25 12.41 3.59 12.75 4 12.75H20C20.41 12.75 20.75 12.41 20.75 12C20.75 11.59 20.41 11.25 20 11.25ZM9 16.25H4C3.59 16.25 3.25 16.59 3.25 17C3.25 17.41 3.59 17.75 4 17.75H9C9.41 17.75 9.75 17.41 9.75 17C9.75 16.59 9.41 16.25 9 16.25Z"></path></svg>',"noimage-48x48":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M30.4975 14.2475C28.7075 14.2475 27.2475 15.7075 27.2475 17.4975C27.2475 19.2875 28.7075 20.7475 30.4975 20.7475C32.2875 20.7475 33.7475 19.2875 33.7475 17.4975C33.7475 15.7075 32.2875 14.2475 30.4975 14.2475ZM30.4975 19.2475C29.5375 19.2475 28.7475 18.4575 28.7475 17.4975C28.7475 16.5375 29.5375 15.7475 30.4975 15.7475C31.4575 15.7475 32.2475 16.5375 32.2475 17.4975C32.2475 18.4575 31.4575 19.2475 30.4975 19.2475ZM13.5175 11.2175C13.4375 10.8075 13.7075 10.4175 14.1175 10.3375C14.4275 10.2775 14.7175 10.2475 14.9975 10.2475H32.9975C35.6175 10.2475 37.7475 12.3775 37.7475 14.9975V32.9975C37.7475 33.2775 37.7175 33.5675 37.6575 33.8775C37.5875 34.2375 37.2775 34.4875 36.9175 34.4875C36.8675 34.4875 36.8275 34.4875 36.7775 34.4775C36.3675 34.3975 36.1075 34.0075 36.1775 33.5975C36.2175 33.3775 36.2375 33.1775 36.2375 32.9975V14.9975C36.2375 13.2075 34.7775 11.7475 32.9875 11.7475H14.9975C14.8075 11.7475 14.6175 11.7675 14.3975 11.8075C13.9875 11.8875 13.5975 11.6175 13.5175 11.2075V11.2175ZM34.4775 36.7775C34.5575 37.1875 34.2875 37.5775 33.8775 37.6575C33.5675 37.7175 33.2775 37.7475 32.9975 37.7475H14.9975C12.3775 37.7475 10.2475 35.6175 10.2475 32.9975V14.9975C10.2475 14.7175 10.2775 14.4275 10.3375 14.1175C10.4175 13.7075 10.8075 13.4375 11.2175 13.5175C11.6275 13.5975 11.8875 13.9875 11.8175 14.3975C11.7775 14.6175 11.7575 14.8175 11.7575 14.9975V32.9975C11.7575 34.7875 13.2175 36.2475 15.0075 36.2475H33.0075C33.1975 36.2475 33.3875 36.2275 33.6075 36.1875C34.0075 36.1075 34.4075 36.3775 34.4875 36.7875L34.4775 36.7775ZM15.8275 31.7975C15.6975 31.9375 15.7575 32.0875 15.7775 32.1175C15.8175 32.1975 15.8675 32.2475 15.9375 32.2475H29.8175C30.2275 32.2475 30.5675 32.5875 30.5675 32.9975C30.5675 33.4075 30.2275 33.7475 29.8175 33.7475H15.9375C15.2675 33.7475 14.6775 33.3475 14.3975 32.7175C14.1075 32.0575 14.2375 31.2975 14.7275 30.7775L19.7275 25.2775C20.0475 24.9275 20.5075 24.7175 20.9875 24.7075C21.4875 24.7275 21.9375 24.8875 22.2675 25.2275L25.4675 28.4775C25.7575 28.7675 25.7575 29.2475 25.4675 29.5375C25.1675 29.8275 24.6975 29.8275 24.4075 29.5375L21.2075 26.2875C21.1475 26.2175 21.0675 26.1875 21.0275 26.2075C20.9875 26.2075 20.9075 26.2175 20.8475 26.2875L15.8375 31.7975H15.8275ZM38.5275 38.5275C38.3775 38.6775 38.1875 38.7475 37.9975 38.7475C37.8075 38.7475 37.6175 38.6775 37.4675 38.5275L9.4675 10.5275C9.1775 10.2375 9.1775 9.7575 9.4675 9.4675C9.7575 9.1775 10.2375 9.1775 10.5275 9.4675L38.5275 37.4675C38.8175 37.7575 38.8175 38.2375 38.5275 38.5275Z"></path></svg>',"ranking-arrows":'<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>',"rankingundefined-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>',"rating-star-2":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>',"rating-star-small-2":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>',"rating-star-small":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>',"rating-star":'<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>',"reorder-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.9444 10.75H15.0544C15.7144 10.75 16.3144 10.39 16.6144 9.80002C16.9144 9.22002 16.8644 8.52002 16.4844 7.98002L13.4244 3.71002C12.7644 2.79002 11.2344 2.79002 10.5744 3.71002L7.5244 7.99002C7.1444 8.53002 7.0944 9.22002 7.3944 9.81002C7.6944 10.4 8.2944 10.76 8.9544 10.76L8.9444 10.75ZM8.7444 8.86002L11.7944 4.58002C11.8644 4.49002 11.9544 4.48002 11.9944 4.48002C12.0344 4.48002 12.1344 4.49002 12.1944 4.58002L15.2544 8.86002C15.3344 8.97002 15.3044 9.07002 15.2744 9.12002C15.2444 9.17002 15.1844 9.26002 15.0544 9.26002H8.9444C8.8144 9.26002 8.7444 9.18002 8.7244 9.12002C8.7044 9.06002 8.6644 8.97002 8.7444 8.86002ZM15.0544 13.25H8.9444C8.2844 13.25 7.6844 13.61 7.3844 14.2C7.0844 14.78 7.1344 15.48 7.5144 16.02L10.5744 20.3C10.9044 20.76 11.4344 21.03 11.9944 21.03C12.5544 21.03 13.0944 20.76 13.4144 20.3L16.4744 16.02C16.8544 15.48 16.9044 14.79 16.6044 14.2C16.3044 13.61 15.7044 13.25 15.0444 13.25H15.0544ZM15.2644 15.15L12.2044 19.43C12.0744 19.61 11.9244 19.61 11.7944 19.43L8.7344 15.15C8.6544 15.04 8.6844 14.94 8.7144 14.89C8.7444 14.84 8.8044 14.75 8.9344 14.75H15.0444C15.1744 14.75 15.2444 14.83 15.2644 14.89C15.2844 14.95 15.3244 15.04 15.2444 15.15H15.2644Z"></path></svg>',"restoredown-16x16":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.69 8.71C7.73 8.8 7.75 8.9 7.75 9V13C7.75 13.41 7.41 13.75 7 13.75C6.59 13.75 6.25 13.41 6.25 13V10.81L3.53 13.53C3.38 13.68 3.19 13.75 3 13.75C2.81 13.75 2.62 13.68 2.47 13.53C2.18 13.24 2.18 12.76 2.47 12.47L5.19 9.75H3C2.59 9.75 2.25 9.41 2.25 9C2.25 8.59 2.59 8.25 3 8.25H7C7.1 8.25 7.19 8.27 7.29 8.31C7.47 8.39 7.62 8.53 7.7 8.72L7.69 8.71ZM13 6.25H10.81L13.53 3.53C13.82 3.24 13.82 2.76 13.53 2.47C13.24 2.18 12.76 2.18 12.47 2.47L9.75 5.19V3C9.75 2.59 9.41 2.25 9 2.25C8.59 2.25 8.25 2.59 8.25 3V7C8.25 7.1 8.27 7.19 8.31 7.29C8.39 7.47 8.53 7.62 8.72 7.7C8.81 7.74 8.91 7.76 9.01 7.76H13.01C13.42 7.76 13.76 7.42 13.76 7.01C13.76 6.6 13.42 6.26 13.01 6.26L13 6.25Z"></path></svg>',"search-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.9975 2.25C9.7275 2.25 6.2475 5.73 6.2475 10C6.2475 11.87 6.9075 13.58 8.0175 14.92L2.4675 20.47C2.1775 20.76 2.1775 21.24 2.4675 21.53C2.6175 21.68 2.8075 21.75 2.9975 21.75C3.1875 21.75 3.3775 21.68 3.5275 21.53L9.0775 15.98C10.4175 17.08 12.1275 17.75 13.9975 17.75C18.2675 17.75 21.7475 14.27 21.7475 10C21.7475 5.73 18.2675 2.25 13.9975 2.25ZM13.9975 16.25C10.5475 16.25 7.7475 13.45 7.7475 10C7.7475 6.55 10.5475 3.75 13.9975 3.75C17.4475 3.75 20.2475 6.55 20.2475 10C20.2475 13.45 17.4475 16.25 13.9975 16.25Z"></path></svg>',"smiley-rate1-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>',"smiley-rate10-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>',"smiley-rate2-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>',"smiley-rate3-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>',"smiley-rate4-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>',"smiley-rate5-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>',"smiley-rate6-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>',"smiley-rate7-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>',"smiley-rate8-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>',"smiley-rate9-24x24":'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'};const S9e=["lang","dir"],T9e={onsubmit:"return false;"},x9e={key:0,class:"sv_custom_header"},P9e={class:"sv-components-column sv-components-column--expandable"},R9e=["id"],k9e={key:2},A9e=["innerHTML"],V9e=["innerHTML"],L9e=["innerHTML"];F5("v1",E9e);F5("v2",vB);q1.registerIcons(vB);const U5=Pe({__name:"Survey",props:{model:{},survey:{}},setup(i){const e=i,t=Qe(),n=Qe(""),r=Qe(1),s=Ze(()=>{const m=e.survey?e.survey:e.model;return ab(m)}),o=Ze(()=>s.value.activePage?s.value.activePage.id:""),a=()=>{const m=o.value;return!!s.value&&m+r.value.toString()},l=Ze(()=>s.value.showCompletedPage&&s.value.state==="completed"),u=Ze(()=>s.value.css),c=Ze(()=>"page"+a()),h=()=>l.value?(n.value||(n.value=s.value.processedCompletedHtml),n.value):"",f=m=>{if(m){var b=t.value;b&&m.afterRenderSurvey(b),m.renderCallback=()=>{var _,E;r.value++,(E=(_=Cu())==null?void 0:_.proxy)==null||E.$forceUpdate()},m.startTimerFromUI()}};return dn(()=>s.value,(m,b)=>{m&&b&&f(m)},m=>{m.stopTimer(),m.renderCallback=void 0}),Zn(()=>{f(s.value)}),ns(()=>{s.value.stopTimer(),s.value.beforeDestroySurveyElement(),s.value.renderCallback=void 0}),(m,b)=>(I(),D("div",{class:$(s.value.getRootCss()),style:Ft(s.value.themeVariables),lang:s.value.locale||"en",dir:s.value.localeDir,ref_key:"root",ref:t},[he(X,{is:"sv-scroll",disabled:s.value.rootScrollDisabled},{default:Hn(()=>[s.value.needRenderIcons?(I(),ge(X,{key:0,is:"sv-svg-bundle"})):Y("",!0),te("div",{class:$(s.value.wrapperFormCss)},[he(X,{is:"survey-popup-modal"}),s.value.renderBackgroundImage?(I(),D("div",{key:0,class:$(u.value.rootBackgroundImage),style:Ft(s.value.backgroundImageStyle)},null,6)):Y("",!0),te("form",T9e,[he(X,{is:"sv-scroll",disabled:s.value.formScrollDisabled},{default:Hn(()=>[s.value.hasLogo?Y("",!0):(I(),D("div",x9e)),te("div",{class:$(u.value.container)},[s.value.headerView==="basic"?(I(),ge(X,{key:0,is:"survey-header",survey:s.value},null,8,["survey"])):Y("",!0),he(X,{is:"sv-components-container",survey:s.value,container:"header",needRenderWrapper:!1},null,8,["survey"]),s.value.isShowingPage?(I(),D("div",{key:1,class:$(s.value.bodyContainerCss)},[he(X,{is:"sv-components-container",survey:s.value,container:"left",needRenderWrapper:!0},null,8,["survey"]),te("div",P9e,[he(X,{is:"sv-components-container",survey:s.value,container:"center",needRenderWrapper:!0},null,8,["survey"]),te("div",{class:$(s.value.bodyCss),style:Ft({maxWidth:s.value.renderedWidth}),id:o.value},[he(X,{is:"sv-components-container",survey:s.value,container:"contentTop",needRenderWrapper:!0},null,8,["survey"]),(I(),ge(X,{is:"survey-page",key:c.value,survey:s.value,page:s.value.activePage,css:u.value},null,8,["survey","page","css"])),he(X,{is:"sv-components-container",survey:s.value,container:"contentBottom",needRenderWrapper:!0},null,8,["survey"]),s.value.showBrandInfo?(I(),ge(X,{key:0,is:"sv-brand-info"})):Y("",!0)],14,R9e)]),he(X,{is:"sv-components-container",survey:s.value,container:"right",needRenderWrapper:!0},null,8,["survey"])],2)):Y("",!0),he(X,{is:"sv-components-container",survey:s.value,container:"footer",needRenderWrapper:!1},null,8,["survey"]),l.value?(I(),D("div",k9e,[te("div",{innerHTML:h(),class:$(s.value.completedCss)},null,10,A9e),he(X,{is:"sv-components-container",survey:s.value,container:"completePage",needRenderWrapper:!0},null,8,["survey"])])):Y("",!0),s.value.state==="completedbefore"?(I(),D("div",{key:3,class:$(s.value.completedBeforeCss),innerHTML:s.value.processedCompletedBeforeHtml},null,10,V9e)):Y("",!0),s.value.state==="loading"?(I(),D("div",{key:4,class:$(s.value.loadingBodyCss),innerHTML:s.value.processedLoadingHtml},null,10,L9e)):Y("",!0),s.value.state==="empty"?(I(),D("div",{key:5,class:$(u.value.bodyEmpty)},kt(s.value.emptySurveyText),3)):Y("",!0)],2)]),_:1},8,["disabled"])]),he(X,{is:"sv-notifier",model:s.value.notifier},null,8,["model"])],2)]),_:1},8,["disabled"])],14,S9e))}}),O9e=Pe({__name:"Notifier",props:{model:{}},setup(i){const e=i;return dn(()=>e.model),(t,n)=>t.model.isDisplayed?(I(),D("div",{key:0,class:$(t.model.css),style:Ft({visibility:t.model.active?"visible":"hidden"}),role:"alert","aria-live":"polite"},[te("span",null,kt(t.model.message),1),he(X,{is:"sv-action-bar",model:t.model.actionBar},null,8,["model"])],6)):Y("",!0)}}),D9e={key:0},N9e=Pe({__name:"QuestionOther",props:{question:{},item:{}},setup(i){return(e,t)=>(I(),D("div",{class:$(e.question.getCommentAreaCss(!0))},[e.question.isReadOnlyRenderDiv()?(I(),D("div",D9e,kt(e.question.getCommentValue(e.item)),1)):(I(),ge(X,{key:1,is:"sv-text-area",model:e.question.getCommentTextAreaModel(e.item)},null,8,["model"]))],2))}}),M9e=["disabled","value","title"],F9e=Pe({__name:"SurveyNavigationButton",props:{item:{}},setup(i){const e=i,t=()=>e.item.data&&e.item.data.mouseDown();return dn(()=>e.item),(n,r)=>n.item.visible?(I(),D("input",{key:0,type:"button",disabled:n.item.disabled,value:n.item.title,class:$(n.item.innerCss),title:n.item.getTooltip(),onMousedown:t,onClick:r[0]||(r[0]=(...s)=>n.item.action&&n.item.action(...s))},null,42,M9e)):Y("",!0)}}),yB=Pe({__name:"PopupSurvey",props:{survey:{},isExpanded:{type:Boolean},allowClose:{type:Boolean},allowFullScreen:{type:Boolean},onClose:{type:Function},closeOnCompleteTimeout:{}},setup(i){const e=i,t=Pl(),n=()=>{t.value.changeExpandCollapse()},r=()=>{t.value.hide(),e.onClose&&e.onClose()},s=()=>{t.value.toggleFullScreen()},o=()=>{t.value.onScroll()},a=()=>{let u=t.value.cssHeaderRoot;return t.value.isCollapsed&&(u+=" "+t.value.cssRootCollapsedMod),u};dn(()=>t.value);const l=Ji(()=>e.survey,u=>{const c=new dB(null,u);e.isExpanded!==void 0&&(c.isExpanded=e.isExpanded),e.closeOnCompleteTimeout!==void 0&&(c.closeOnCompleteTimeout=e.closeOnCompleteTimeout),e.allowClose!==void 0&&(c.allowClose=e.allowClose),e.allowFullScreen!==void 0&&(c.allowFullScreen=e.allowFullScreen),c.isShowing=!0,t.value=c},{immediate:!0});return ns(()=>{l()}),(u,c)=>t.value.isShowing?(I(),D("div",{key:0,style:Ft({maxWidth:t.value.renderedWidth,width:t.value.renderedWidth}),class:$(t.value.cssRoot),onScroll:o},[te("div",{class:$(t.value.cssRootContent)},[te("div",{class:$(a())},[t.value.isCollapsed&&t.value.locTitle?(I(),D("div",{key:0,class:$(t.value.cssHeaderTitleCollapsed)},kt(t.value.locTitle.renderedHtml),3)):Y("",!0),te("div",{class:$(t.value.cssHeaderButtonsContainer)},[t.value.allowFullScreen?(I(),D("div",{key:0,class:$(t.value.cssHeaderFullScreenButton),onClick:s},[t.value.isFullScreen?(I(),ge(X,{key:0,is:"sv-svg-icon",iconName:"icon-back-to-panel_16x16",size:16})):Y("",!0),t.value.isFullScreen?Y("",!0):(I(),ge(X,{key:1,is:"sv-svg-icon",iconName:"icon-full-screen_16x16",size:16}))],2)):Y("",!0),te("div",{class:$(t.value.cssHeaderCollapseButton),onClick:n},[t.value.isExpanded?(I(),ge(X,{key:0,is:"sv-svg-icon",iconName:"icon-minimize_16x16",size:16})):Y("",!0),t.value.isCollapsed?(I(),ge(X,{key:1,is:"sv-svg-icon",iconName:"icon-restore_16x16",size:16})):Y("",!0)],2),t.value.allowClose?(I(),D("div",{key:1,class:$(t.value.cssHeaderCloseButton),onClick:r},[he(X,{is:"sv-svg-icon",iconName:"icon-close_16x16",size:16})],2)):Y("",!0)],2)],2),te("div",{class:$(t.value.cssBody)},[he(U5,{survey:u.survey},null,8,["survey"])],2)],2)],38)):Y("",!0)}}),$9e=["innerHTML"],B9e=Pe({__name:"CustomWidget",props:{question:{},css:{}},setup(i){const e=i,t=Qe(),n=Ze(()=>e.question.customWidget.isDefaultRender),r=Ze(()=>!!e.question.customWidget.htmlTemplate),s=Ze(()=>e.question.customWidget.htmlTemplate),o=Ze(()=>"survey-"+e.question.getTemplate());return Zn(()=>{e.question.customWidget.afterRender(e.question,t.value)}),vh(()=>{e.question.customWidget.willUnmount(e.question,t.value)}),(a,l)=>(I(),D("div",{ref_key:"root",ref:t},[r.value?(I(),D("div",{key:0,innerHTML:s.value},null,8,$9e)):Y("",!0),n.value?(I(),ge(X,{key:1,is:o.value,question:a.question,css:a.css},null,8,["is","question","css"])):Y("",!0)],512))}}),q9e=Pe({__name:"PopupModal",setup(i){const e=Pl();function t(n,r){const s=D4e(n,r),o=(a,l)=>{l.isVisible||(e.value=void 0,s.dispose(),s.onVisibilityChanged.remove(o))};return s.onVisibilityChanged.add(o),s.model.isVisible=!0,e.value=s,s}return oe.showDialog||(oe.showDialog=t,ns(()=>{oe.showDialog=void 0})),(n,r)=>e.value?(I(),ge(f7,{key:0,to:e.value.container},[he(X,{is:"sv-popup-container",model:e.value},null,8,["model"])],8,["to"])):Y("",!0)}}),U9e=["readonly","disabled","value","id","maxlength","cols","rows","placeholder","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],H9e=Pe({__name:"TextArea",props:{model:{},getRef:{type:Function}},setup(i){const e=i,t=Qe(null),n=function(s){t.value=s,e.getRef&&e.getRef(s)},r=Ze(()=>e.model.getTextValue()||"");return Zn(()=>{e.model.setElement(t.value)}),ep(()=>{e.model.setElement(t.value)}),ns(()=>{e.model.resetElement()}),(s,o)=>(I(),D("textarea",{ref:a=>n(a),readonly:s.model.isReadOnlyAttr,disabled:s.model.isDisabledAttr,value:r.value,id:s.model.id,maxlength:s.model.maxLength,cols:s.model.cols,rows:s.model.rows,placeholder:s.model.placeholder,class:$(s.model.className),onBlur:o[0]||(o[0]=a=>{s.model.onTextAreaBlur(a)}),onFocus:o[1]||(o[1]=a=>{s.model.onTextAreaFocus(a)}),onChange:o[2]||(o[2]=a=>{s.model.onTextAreaChange(a)}),onInput:o[3]||(o[3]=a=>{s.model.onTextAreaInput(a)}),onKeydown:o[4]||(o[4]=a=>{s.model.onTextAreaKeyDown(a)}),"aria-required":s.model.ariaRequired,"aria-label":s.model.ariaLabel,"aria-labelledby":s.model.ariaLabelledBy,"aria-describedby":s.model.ariaDescribedBy,"aria-invalid":s.model.ariaInvalid,"aria-errormessage":s.model.ariaErrormessage,style:Ft({resize:s.model.question.resizeStyle})},null,46,U9e))}}),z9e=Pe({__name:"CharacterCounter",props:{counter:{},remainingCharacterCounter:{}},setup(i){const e=i;return dn(()=>e.counter),(t,n)=>(I(),D("div",{class:$(t.remainingCharacterCounter)},kt(t.counter.remainingCharacterCounter),3))}}),j9e=Pe({inheritAttrs:!1,__name:"Composite",props:{question:{},css:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=Ze(()=>e.question.contentPanel);return(r,s)=>(I(),ge(X,{is:"survey-panel",ref_key:"root",ref:t,element:n.value,css:r.css},null,8,["element","css"]))}}),Q9e=Pe({inheritAttrs:!1,__name:"Custom",props:{question:{},css:{}},setup(i){const e=i,t=Qe(null);yi(e,t);const n=Ze(()=>e.question.contentQuestion),r=s=>B5(s);return(s,o)=>(I(),ge(X,{ref:t.value,is:r(n.value),question:n.value,css:s.css},null,8,["is","question","css"]))}}),W9e=te("use",{"xlink:href":"#icon-timercircle"},null,-1),G9e=[W9e],i7=440,K9e=Pe({__name:"TimerPanel",props:{model:{},css:{}},setup(i){const e=i,t=Ze(()=>i7*e.model.progress),n=Ze(()=>e.model.text);return dn(()=>e.model),(r,s)=>r.model.isRunning&&r.model.showTimerAsClock?(I(),D("div",{key:0,class:$(r.model.rootCss)},[r.model.showProgress?(I(),D("svg",{key:0,class:$(r.model.getProgressCss()),style:Ft({strokeDasharray:i7,strokeDashoffset:t.value})},G9e,6)):Y("",!0),te("div",{class:$(r.model.textContainerCss)},[te("span",{class:$(r.model.majorTextCss)},kt(r.model.clockMajorText),3),r.model.clockMinorText?(I(),D("span",{key:0,class:$(r.model.minorTextCss)},kt(r.model.clockMinorText),3)):Y("",!0)],2)],2)):ri((I(),D("div",{key:1,class:$(r.model.survey.getCss().timerRoot)},kt(n.value),3)),[[Lo,r.model.isRunning&&!r.model.showTimerAsClock]])}}),J9e={class:"sd-loading-indicator"},Y9e=Pe({__name:"LoadingIndicator",setup(i){return(e,t)=>(I(),D("div",J9e,[he(X,{is:"sv-svg-icon",iconName:"icon-loading",size:"'auto'"})]))}}),Z9e={key:2},X9e=Pe({__name:"Header",props:{model:{},survey:{}},setup(i){const e=i;return dn(()=>{const t=e.model;return t.survey=e.survey,e.model}),Zn(()=>{e.model.processResponsiveness()}),ep(()=>{e.model.processResponsiveness()}),(t,n)=>t.survey.headerView==="advanced"&&!t.model.isEmpty?(I(),D("div",{key:0,class:$(t.model.headerClasses),style:Ft({height:t.model.renderedHeight})},[t.model.backgroundImage?(I(),D("div",{key:0,class:$(t.model.backgroundImageClasses),style:Ft(t.model.backgroundImageStyle)},null,6)):Y("",!0),t.survey.isMobile?Y("",!0):(I(),D("div",{key:1,class:$(t.model.contentClasses),style:Ft({maxWidth:t.model.maxWidth})},[(I(!0),D(xt,null,en(t.model.cells,(r,s)=>(I(),ge(X,{is:"sv-header-cell",model:r,key:s},null,8,["model"]))),128))],6)),t.survey.isMobile?(I(),D("div",Z9e,[he(X,{is:"sv-header-mobile",model:t.model},null,8,["model"])])):Y("",!0)],6)):Y("",!0)}}),e3e={key:0,class:"sv-header__logo"},t3e=["src","width","height","alt"],n3e=Pe({__name:"HeaderCell",props:{model:{}},setup(i){return(e,t)=>(I(),D("div",{class:$(e.model.css),style:Ft(e.model.style)},[te("div",{class:"sv-header__cell-content",style:Ft(e.model.contentStyle)},[e.model.showLogo?(I(),D("div",e3e,[te("div",{class:$(e.model.survey.logoClassNames)},[te("img",{class:$(e.model.survey.css.logoImage),src:e.model.survey.locLogo.renderedHtml,width:e.model.survey.renderedLogoWidth,height:e.model.survey.renderedLogoHeight,alt:e.model.survey.locTitle.renderedHtml,style:Ft({objectFit:e.model.survey.logoFit,width:e.model.survey.renderedStyleLogoWidth,height:e.model.survey.renderedStyleLogoHeight})},null,14,t3e)],2)])):Y("",!0),e.model.showTitle?(I(),D("div",{key:1,class:"sv-header__title",style:Ft({maxWidth:e.model.textAreaWidth})},[he(X,{is:"survey-element-title",element:e.model.survey,css:e.model.survey.css},null,8,["element","css"])],4)):Y("",!0),e.model.showDescription?(I(),D("div",{key:2,class:"sv-header__description",style:Ft({maxWidth:e.model.textAreaWidth})},[e.model.survey.renderedHasDescription?(I(),D("div",{key:0,class:$(e.model.survey.css.description)},[he(X,{is:"survey-string",locString:e.model.survey.locDescription},null,8,["locString"])],2)):Y("",!0)],4)):Y("",!0)],4)],6))}}),i3e={class:"sv-header--mobile"},r3e={key:0,class:"sv-header__logo"},s3e=["src","width","height","alt"],o3e=Pe({__name:"HeaderMobile",props:{model:{}},setup(i){return(e,t)=>(I(),D("div",i3e,[e.model.survey.hasLogo?(I(),D("div",r3e,[te("div",{class:$(e.model.survey.logoClassNames)},[te("img",{class:$(e.model.survey.css.logoImage),src:e.model.survey.locLogo.renderedHtml,width:e.model.survey.renderedLogoWidth,height:e.model.survey.renderedLogoHeight,alt:e.model.survey.locTitle.renderedHtml,style:Ft({objectFit:e.model.survey.logoFit,width:e.model.survey.renderedStyleLogoWidth,height:e.model.survey.renderedStyleLogoHeight})},null,14,s3e)],2)])):Y("",!0),e.model.survey.hasTitle?(I(),D("div",{key:1,class:"sv-header__title",style:Ft({maxWidth:e.model.renderedTextAreaWidth})},[he(X,{is:"survey-element-title",element:e.model.survey,css:e.model.survey.css},null,8,["element","css"])],4)):Y("",!0),e.model.survey.renderedHasDescription?(I(),D("div",{key:2,class:"sv-header__description",style:Ft({maxWidth:e.model.renderedTextAreaWidth})},[e.model.survey.renderedHasDescription?(I(),D("div",{key:0,class:$(e.model.survey.css.description)},[he(X,{is:"survey-string",locString:e.model.survey.locDescription},null,8,["locString"])],2)):Y("",!0)],4)):Y("",!0)]))}}),a3e=Pe({__name:"Element",props:{element:{},row:{},css:{}},setup(i){const e=i,t=Qe(),n=l=>l.isPanel?"survey-panel":"survey-question",r=Ze(()=>{const l=e.element.survey;if(l){const u=l.getElementWrapperComponentName(e.element);if(u)return u}return n(e.element)}),s=l=>l.cssClasses?l.rootStyle:{},o=Ze(()=>{const l=e.element,u=l.survey;let c;return u&&(c=u.getElementWrapperComponentData(l)),{componentName:n(l),componentData:{element:l,survey:u,row:e.row,css:e.css,data:c}}}),a=Ji(()=>e.element,(l,u)=>{u&&u.setWrapperElement(void 0),l.setWrapperElement(t.value)});return Zn(()=>{e.element.setWrapperElement(t.value)}),ns(()=>{e.element.setWrapperElement(void 0),a()}),(l,u)=>(I(),D("div",{ref_key:"root",ref:t,style:Ft(s(l.element)),class:$(l.element.cssClasses.questionWrapper)},[l.row.isNeedRender?(I(),ge(X,Ae({key:0,is:r.value},o.value),null,16,["is"])):l.element.skeletonComponentName?(I(),ge(X,{key:1,is:l.element.skeletonComponentName,element:l.element,css:l.css},null,8,["is","element","css"])):Y("",!0)],6))}}),l3e=Pe({__name:"TemplateRenderer",props:{componentName:{},componentData:{}},setup(i){const e=BB(),t=Ze(()=>!!e.default);return(n,r)=>t.value&&!n.componentName?on(n.$slots,"default",{key:0}):(I(),ge(X,Ae({key:1,is:n.componentName},n.componentData),null,16,["is"]))}}),u3e=Pe({__name:"FileCleanButton",props:{question:{},css:{}},setup(i){return(e,t)=>(I(),D("button",{type:"button",class:$(e.css),onClick:t[0]||(t[0]=(...n)=>e.question.doClean&&e.question.doClean(...n))},[te("span",null,kt(e.question.clearButtonCaption),1),e.question.cssClasses.removeButtonIconId?(I(),ge(X,{key:0,is:"sv-svg-icon",iconName:e.question.cssClasses.removeButtonIconId,size:"auto",title:e.question.clearButtonCaption},null,8,["iconName","title"])):Y("",!0)],2))}}),c3e=["id"],d3e=Pe({__name:"FileVideo",props:{question:{}},setup(i){return(e,t)=>(I(),D("div",{class:$(e.question.cssClasses.videoContainer)},[he(X,{is:"sv-action",item:e.question.changeCameraAction},null,8,["item"]),he(X,{is:"sv-action",item:e.question.closeCameraAction},null,8,["item"]),te("video",{autoplay:"",playsinline:"",id:e.question.videoId,class:$(e.question.cssClasses.video)},null,10,c3e),he(X,{is:"sv-action",item:e.question.takePictureAction},null,8,["item"])],2))}}),h3e=["for","aria-label"],f3e=Pe({__name:"FileChooseButton",props:{data:{},item:{}},setup(i){const e=i,t=Ze(()=>{var n,r;return((n=e.data)==null?void 0:n.question)||((r=e.item)==null?void 0:r.data.question)});return(n,r)=>ri((I(),D("label",{tabindex:"0",class:$(t.value.getChooseFileCss()),for:t.value.inputId,"aria-label":t.value.chooseButtonText,onClick:r[0]||(r[0]=s=>t.value.chooseFile(s))},[t.value.cssClasses.chooseFileIconId?(I(),ge(X,{key:0,is:"sv-svg-icon",title:t.value.chooseButtonText,iconName:t.value.cssClasses.chooseFileIconId,size:"auto"},null,8,["title","iconName"])):Y("",!0),te("span",null,kt(t.value.chooseButtonText),1)],10,h3e)),[[Xe(Hp)]])}}),p3e=Pe({__name:"FilePreview",props:{question:{}},setup(i){return(e,t)=>e.question.showPreviewContainer?(I(),D("div",{key:0,class:$(e.question.cssClasses.fileList||void 0)},[(I(!0),D(xt,null,en(e.question.renderedPages,n=>(I(),ge(X,{is:"sv-file-page",key:n.id,page:n,question:e.question},null,8,["page","question"]))),128))],2)):Y("",!0)}}),g3e=Pe({__name:"ButtonGroup",props:{question:{}},setup(i){const e=i,t=Qe();return yi(e,t),(n,r)=>(I(),D("div",{role:"group",class:$(n.question.cssClasses.root),ref_key:"root",ref:t},[(I(!0),D(xt,null,en(n.question.visibleChoices,(s,o)=>(I(),ge(X,{is:"sv-button-group-item",question:n.question,key:o,item:s,index:o},null,8,["question","item","index"]))),128))],2))}}),m3e=["title"],v3e=["name","id","aria-required","aria-label","aria-invalid","aria-errormessage","disabled","value"],y3e=["title"],b3e=Pe({__name:"ButtonGroupItem",props:{item:{},question:{},index:{}},setup(i){const e=i,t=Ze(()=>new M4e(e.question,e.item,e.index)),n=Ze({get:()=>e.question.renderedValue,set:r=>{const s=e.question;s.renderedValue=r}});return(r,s)=>(I(),D("label",{class:$(t.value.css.label),title:t.value.caption.renderedHtml},[ri(te("input",{type:"radio",name:t.value.name,id:t.value.id,"aria-required":t.value.isRequired,"aria-label":t.value.caption.renderedHtml,"aria-invalid":t.value.hasErrors,"aria-errormessage":t.value.describedBy,disabled:t.value.readOnly,class:$(t.value.css.control),"onUpdate:modelValue":s[0]||(s[0]=o=>n.value=o),value:t.value.value},null,10,v3e),[[v7,n.value]]),te("div",{class:$(t.value.css.decorator)},[t.value.iconName?(I(),ge(X,{key:0,is:"sv-svg-icon",iconName:t.value.iconName,size:t.value.iconSize,class:$(t.value.css.icon)},null,8,["iconName","size","class"])):Y("",!0),t.value.showCaption?(I(),D("span",{key:1,class:$(t.value.css.caption),title:t.value.caption.renderedHtml},[he(X,{is:"survey-string",locString:t.value.caption},null,8,["locString"])],10,y3e)):Y("",!0)],2)],10,m3e))}});Kc.Instance.registerRenderer("buttongroup","dropdown","sv-buttongroup-dropdown");const C3e=Pe({inheritAttrs:!1,__name:"ButtonGroupDropdown",props:{question:{}},setup(i){const e=i,t=Qe(null);return yi(e,t),(n,r)=>(I(),D("div",{class:$(n.question.cssClasses.rootDropdown),ref_key:"root",ref:t},[he(X,{is:"sv-dropdown",question:n.question},null,8,["question"])],2))}}),w3e=["src","width","height","alt"],_3e=Pe({inheritAttrs:!1,__name:"Logo",props:{data:{}},setup(i){const e=i,t=Ze(()=>e.data),n=Up(()=>t.value.locLogo);return(r,s)=>(I(),D("div",{class:$(t.value.logoClassNames)},[te("img",{class:$(t.value.css.logoImage),src:Xe(n),width:t.value.renderedLogoWidth,height:t.value.renderedLogoHeight,alt:t.value.locTitle.renderedHtml,style:Ft({objectFit:t.value.logoFit,width:t.value.renderedStyleLogoWidth,height:t.value.renderedStyleLogoHeight})},null,14,w3e)],2))}}),I3e=Pe({__name:"SvgBundle",setup(i){const e=Qe(),t=()=>{e.value&&(e.value.innerHTML=q1.iconsRenderedHtml())};return Zn(()=>{t(),q1.onIconsChanged.add(t)}),ns(()=>{q1.onIconsChanged.remove(t)}),(n,r)=>ri((I(),D("svg",{id:"sv-icon-holder-global-container",ref_key:"root",ref:e},null,512)),[[Lo,!1]])}}),E3e=["id"],S3e=Pe({__name:"FilePage",props:{page:{},question:{}},setup(i){const e=i;return dn(()=>e.page),(t,n)=>(I(),D("div",{class:$(t.page.css),id:t.page.id},[(I(!0),D(xt,null,en(t.page.items,r=>(I(),ge(X,{is:"sv-file-item",key:r,item:r,question:t.question},null,8,["item","question"]))),128))],10,E3e))}}),T3e=["href","title","download"],x3e=["src"],P3e=["href","title","download"],R3e=Pe({__name:"FileItem",props:{item:{},question:{}},setup(i){return(e,t)=>ri((I(),D("span",{class:$(e.question.cssClasses.previewItem),onClick:t[3]||(t[3]=n=>e.question.doDownloadFileFromContainer(n))},[e.item.name&&e.question.cssClasses.fileSign?(I(),D("div",{key:0,class:$(e.question.cssClasses.fileSign)},[te("a",{onClick:t[0]||(t[0]=n=>e.question.doDownloadFile(n,e.item)),href:e.item.content,title:e.item.name,download:e.item.name,style:Ft({width:e.question.imageWidth})},kt(e.item.name),13,T3e)],2)):Y("",!0),te("div",{class:$(e.question.getImageWrapperCss(e.item))},[e.question.canPreviewImage(e.item)?(I(),D("img",{key:0,src:e.item.content,style:Ft({height:e.question.imageHeight,width:e.question.imageWidth}),alt:"File preview"},null,12,x3e)):Y("",!0),e.question.defaultImage(e.item)?(I(),ge(X,{key:1,is:"sv-svg-icon",iconName:e.question.cssClasses.defaultImageIconId,class:$(e.question.cssClasses.defaultImage),size:"auto"},null,8,["iconName","class"])):Y("",!0),e.item.name&&!e.question.isReadOnly?(I(),D("div",{key:2,class:$(e.question.getRemoveButtonCss()),onClick:t[1]||(t[1]=n=>e.question.doRemoveFile(e.item,n))},[te("span",{class:$(e.question.cssClasses.removeFile)},kt(e.question.removeFileCaption),3),e.question.cssClasses.removeFileSvgIconId?(I(),ge(X,{key:0,is:"sv-svg-icon",title:e.question.removeFileCaption,class:$(e.question.cssClasses.removeFileSvg),iconName:e.question.cssClasses.removeFileSvgIconId,size:"auto"},null,8,["title","class","iconName"])):Y("",!0)],2)):Y("",!0)],2),e.item.name&&e.question.cssClasses.fileSignBottom?(I(),D("div",{key:1,class:$(e.question.cssClasses.fileSignBottom)},[te("a",{onClick:t[2]||(t[2]=n=>e.question.doDownloadFile(n,e.item)),href:e.item.content,title:e.item.name,download:e.item.name,style:Ft({width:e.question.imageWidth})},kt(e.item.name),13,P3e)],2)):Y("",!0)],2)),[[Lo,e.item]])}});gn.platform="vue3";function k3e(i,e,t){i(e,t)}function bB(i){const e=k3e.bind(void 0,i);e("sv-svg-bundle",I3e),e("popup-survey",yB),e("survey-header",J4e),e("sv-logo-image",_3e),e("survey-page",K4e),e("survey-row",Y4e),e("survey-question",nke),e("survey-panel",oke),e("survey-element-header",lke),e("survey-string",uke),e("sv-string-viewer",dke),e("sv-string-editor",fke),e("sv-skeleton",gke),e("sv-scroll",bke),e("survey-text",_ke),e("survey-text-input",Ske),e("survey-checkbox",kke),e("survey-checkbox-item",Lke),e("survey-radiogroup",Oke),e("survey-radiogroup-item",Mke),e("survey-signaturepad",qke),e("survey-html",Hke),e("survey-image",Wke),e("survey-expression",Kke),e("survey-file",Xke),e("sv-file-choose-btn",f3e),e("sv-file-clean-btn",u3e),e("sv-file-preview",p3e),e("sv-file-page",S3e),e("sv-file-item",R3e),e("sv-file-video",d3e),e("survey-imagepicker",tAe),e("survey-imagepicker-item",oAe),e("survey-comment",aAe),e("survey-dropdown",lAe),e("sv-dropdown-select",hAe),e("sv-dropdown-option-item",pAe),e("sv-dropdown",bAe),e("survey-tagbox",CAe),e("sv-tagbox",IAe),e("sv-tagbox-item",PAe),e("sv-tagbox-filter",TAe),e("survey-ranking",RAe),e("survey-ranking-item",DAe),e("sv-ranking-item",NAe),e("survey-rating",$Ae),e("sv-rating-item",UAe),e("sv-rating-item-smiley",jAe),e("sv-rating-item-star",GAe),e("sv-rating-dropdown",XAe),e("sv-rating-dropdown-item",ZAe),e("survey-boolean",tVe),e("sv-boolean-radio",nVe),e("sv-boolean-radio-item",sVe),e("sv-boolean-checkbox",dVe),e("survey-multipletext",hVe),e("survey-multipletext-item",gVe),e("sv-breadcrumbs",mVe),e("sv-single-input-summary",wVe),e("survey-slider",EVe),e("sv-slider-label-item",SVe),e("survey-matrix",VVe),e("survey-matrix-row",OVe),e("survey-matrix-cell",MVe),e("survey-matrixdropdown",FVe),e("survey-matrixtable",qVe),e("survey-matrixheaderrequired",HVe),e("survey-matrixdropdown-cell",jVe),e("survey-matrixdynamic",QVe),e("survey-placeholder-matrixdynamic",WVe),e("sv-matrix-remove-button",KVe),e("sv-matrix-drag-drop-icon",YVe),e("sv-matrix-detail-button",XVe),e("survey-paneldynamic",t7e),e("survey-paneldynamicprogress",i7e),e("survey-paneldynamicprogress-v2",s7e),e("survey-placeholder-paneldynamic",o7e),e("sv-paneldynamic-add-btn",l7e),e("sv-paneldynamic-next-btn",c7e),e("sv-paneldynamic-prev-btn",h7e),e("sv-paneldynamic-remove-btn",p7e),e("sv-paneldynamic-progress-text",g7e),e("sv-components-container",p9e),e("sv-progress-buttons",_9e),e("sv-navigation-toc",I9e),e("sv-progress-pages",r1),e("sv-progress-questions",r1),e("sv-progress-correctquestions",r1),e("sv-progress-requiredquestions",r1),e("survey-errors",v7e),e("survey-question-comment",b7e),e("survey-element-title",C7e),e("survey-element-title-content",S7e),e("sv-title-actions",P7e),e("sv-brand-info",D7e),e("sv-question-error",$7e),e("sv-svg-icon",F7e),e("sv-action-bar",B7e),e("sv-action",H7e),e("sv-action-bar-item",Q7e),e("sv-action-bar-item-dropdown",K7e),e("sv-action-bar-separator",J7e),e("sv-list",e9e),e("sv-list-item-content",r9e),e("sv-list-item-group",s9e),e("sv-list-item",i9e),e("sv-popup",o9e),e("sv-popup-container",h9e),e("popup-pointer",f9e),e("sv-notifier",O9e),e("survey-other-choice",N9e),e("sv-nav-btn",F9e),e("survey-customwidget",B9e),e("survey-popup-modal",q9e),e("survey-composite",j9e),e("survey-custom",Q9e),e("sv-timerpanel",K9e),e("sv-loading-indicator",Y9e),e("sv-header",X9e),e("sv-header-cell",n3e),e("sv-header-mobile",o3e),e("sv-template-renderer",l3e),e("sv-character-counter",z9e),e("sv-text-area",H9e),e("survey-element",a3e),e("survey-buttongroup",g3e),e("sv-button-group-item",b3e),e("sv-buttongroup-dropdown",C3e),e("survey",U5)}bB((i,e)=>iw.Instance.registerComponent(i,e));const A3e={install(i){i.component("SurveyComponent",U5),i.component("PopupSurveyComponent",yB),i.directive("key2click",Hp),bB((e,t)=>{i.component(e,t),iw.Instance.registerComponent(e,e)})}};function V3e(i){return typeof i=="object"&&i!==null}function r7(i,e){return i=V3e(i)?i:Object.create(null),new Proxy(i,{get(t,n,r){return n==="key"?Reflect.get(t,n,r):Reflect.get(t,n,r)||Reflect.get(e,n,r)}})}function L3e(i,e){return e.reduce((t,n)=>t==null?void 0:t[n],i)}function O3e(i,e,t){return e.slice(0,-1).reduce((n,r)=>/^(__proto__)$/.test(r)?{}:n[r]=n[r]||{},i)[e[e.length-1]]=t,i}function D3e(i,e){return e.reduce((t,n)=>{const r=n.split(".");return O3e(t,r,L3e(i,r))},{})}function N3e(i,e){return t=>{var n;try{const{storage:r=localStorage,beforeRestore:s=void 0,afterRestore:o=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:l=e.$id,paths:u=null,debug:c=!1}=t;return{storage:r,beforeRestore:s,afterRestore:o,serializer:a,key:((n=i.key)!=null?n:h=>h)(typeof l=="string"?l:l(e.$id)),paths:u,debug:c}}catch(r){return t.debug&&console.error("[pinia-plugin-persistedstate]",r),null}}}function s7(i,{storage:e,serializer:t,key:n,debug:r}){try{const s=e==null?void 0:e.getItem(n);s&&i.$patch(t==null?void 0:t.deserialize(s))}catch(s){r&&console.error("[pinia-plugin-persistedstate]",s)}}function o7(i,{storage:e,serializer:t,key:n,paths:r,debug:s}){try{const o=Array.isArray(r)?D3e(i,r):i;e.setItem(n,t.serialize(o))}catch(o){s&&console.error("[pinia-plugin-persistedstate]",o)}}function M3e(i={}){return e=>{const{auto:t=!1}=i,{options:{persist:n=t},store:r,pinia:s}=e;if(!n)return;if(!(r.$id in s.state.value)){const a=s._s.get(r.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(n)?n.map(a=>r7(a,i)):[r7(n,i)]).map(N3e(i,r)).filter(Boolean);r.$persist=()=>{o.forEach(a=>{o7(r.$state,a)})},r.$hydrate=({runHooks:a=!0}={})=>{o.forEach(l=>{const{beforeRestore:u,afterRestore:c}=l;a&&(u==null||u(e)),s7(r,l),a&&(c==null||c(e))})},o.forEach(a=>{const{beforeRestore:l,afterRestore:u}=a;l==null||l(e),s7(r,a),u==null||u(e),r.$subscribe((c,h)=>{o7(h,a)},{detached:!0})})}}var F3e=M3e(),$3e={transitionDuration:"{transition.duration}"},B3e={borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},q3e={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},U3e={borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"},H3e={root:$3e,panel:B3e,header:q3e,content:U3e},z3e={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},j3e={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Q3e={padding:"{list.padding}",gap:"{list.gap}"},W3e={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},G3e={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},K3e={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},J3e={borderRadius:"{border.radius.sm}"},Y3e={padding:"{list.option.padding}"},Z3e={light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}},X3e={root:z3e,overlay:j3e,list:Q3e,option:W3e,optionGroup:G3e,dropdown:K3e,chip:J3e,emptyMessage:Y3e,colorScheme:Z3e},e6e={width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},t6e={size:"1rem"},n6e={borderColor:"{content.background}",offset:"-0.75rem"},i6e={width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},r6e={width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}},s6e={root:e6e,icon:t6e,group:n6e,lg:i6e,xl:r6e},o6e={borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},a6e={size:"0.5rem"},l6e={fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},u6e={fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},c6e={fontSize:"1rem",minWidth:"2rem",height:"2rem"},d6e={light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},h6e={root:o6e,dot:a6e,sm:l6e,lg:u6e,xl:c6e,colorScheme:d6e},f6e={borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},p6e={transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},g6e={primitive:f6e,semantic:p6e},m6e={borderRadius:"{content.border.radius}"},v6e={root:m6e},y6e={padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},b6e={color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},C6e={color:"{navigation.item.icon.color}"},w6e={root:y6e,item:b6e,separator:C6e},_6e={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},I6e={light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}},E6e={root:_6e,colorScheme:I6e},S6e={background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},T6e={padding:"1.25rem",gap:"0.5rem"},x6e={gap:"0.5rem"},P6e={fontSize:"1.25rem",fontWeight:"500"},R6e={color:"{text.muted.color}"},k6e={root:S6e,body:T6e,caption:x6e,title:P6e,subtitle:R6e},A6e={transitionDuration:"{transition.duration}"},V6e={gap:"0.25rem"},L6e={padding:"1rem",gap:"0.5rem"},O6e={width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},D6e={light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}},N6e={root:A6e,content:V6e,indicatorList:L6e,indicator:O6e,colorScheme:D6e},M6e={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},F6e={width:"2.5rem",color:"{form.field.icon.color}"},$6e={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},B6e={padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},q6e={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},U6e={color:"{form.field.icon.color}"},H6e={root:M6e,dropdown:F6e,overlay:$6e,list:B6e,option:q6e,clearIcon:U6e},z6e={borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},j6e={size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}},Q6e={root:z6e,icon:j6e},W6e={borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},G6e={width:"2rem",height:"2rem"},K6e={size:"1rem"},J6e={size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},Y6e={light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}},Z6e={root:W6e,image:G6e,icon:K6e,removeIcon:J6e,colorScheme:Y6e},X6e={transitionDuration:"{transition.duration}"},eLe={width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},tLe={shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},nLe={light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}},iLe={root:X6e,preview:eLe,panel:tLe,colorScheme:nLe},rLe={size:"2rem",color:"{overlay.modal.color}"},sLe={gap:"1rem"},oLe={icon:rLe,content:sLe},aLe={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},lLe={padding:"{overlay.popover.padding}",gap:"1rem"},uLe={size:"1.5rem",color:"{overlay.popover.color}"},cLe={gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"},dLe={root:aLe,content:lLe,icon:uLe,footer:cLe},hLe={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},fLe={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},pLe={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},gLe={mobileIndent:"1rem"},mLe={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},vLe={borderColor:"{content.border.color}"},yLe={root:hLe,list:fLe,item:pLe,submenu:gLe,submenuIcon:mLe,separator:vLe},bLe={transitionDuration:"{transition.duration}"},CLe={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},wLe={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},_Le={fontWeight:"600"},ILe={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},ELe={borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},SLe={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},TLe={fontWeight:"600"},xLe={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},PLe={color:"{primary.color}"},RLe={width:"0.5rem"},kLe={width:"1px",color:"{primary.color}"},ALe={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},VLe={size:"2rem"},LLe={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},OLe={inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},DLe={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},NLe={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},MLe={light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},FLe={root:bLe,header:CLe,headerCell:wLe,columnTitle:_Le,row:ILe,bodyCell:ELe,footerCell:SLe,columnFooter:TLe,footer:xLe,dropPoint:PLe,columnResizer:RLe,resizeIndicator:kLe,sortIcon:ALe,loadingIcon:VLe,rowToggleButton:LLe,filter:OLe,paginatorTop:DLe,paginatorBottom:NLe,colorScheme:MLe},$Le={borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},BLe={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},qLe={background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},ULe={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},HLe={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},zLe={borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"},jLe={root:$Le,header:BLe,content:qLe,footer:ULe,paginatorTop:HLe,paginatorBottom:zLe},QLe={transitionDuration:"{transition.duration}"},WLe={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},GLe={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},KLe={gap:"0.5rem",fontWeight:"500"},JLe={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},YLe={color:"{form.field.icon.color}"},ZLe={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},XLe={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},eOe={borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},tOe={margin:"0.5rem 0 0 0"},nOe={padding:"0.25rem",fontWeight:"500",color:"{content.color}"},iOe={hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},rOe={margin:"0.5rem 0 0 0"},sOe={padding:"0.375rem",borderRadius:"{content.border.radius}"},oOe={margin:"0.5rem 0 0 0"},aOe={padding:"0.375rem",borderRadius:"{content.border.radius}"},lOe={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},uOe={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},cOe={light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}},dOe={root:QLe,panel:WLe,header:GLe,title:KLe,dropdown:JLe,inputIcon:YLe,selectMonth:ZLe,selectYear:XLe,group:eOe,dayView:tOe,weekDay:nOe,date:iOe,monthView:rOe,month:sOe,yearView:oOe,year:aOe,buttonbar:lOe,timePicker:uOe,colorScheme:cOe},hOe={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},fOe={padding:"{overlay.modal.padding}",gap:"0.5rem"},pOe={fontSize:"1.25rem",fontWeight:"600"},gOe={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},mOe={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"},vOe={root:hOe,header:fOe,title:pOe,content:gOe,footer:mOe},yOe={borderColor:"{content.border.color}"},bOe={background:"{content.background}",color:"{text.color}"},COe={margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},wOe={margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}},_Oe={root:yOe,content:bOe,horizontal:COe,vertical:wOe},IOe={background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},EOe={borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},SOe={root:IOe,item:EOe},TOe={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},xOe={padding:"{overlay.modal.padding}"},POe={fontSize:"1.5rem",fontWeight:"600"},ROe={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},kOe={padding:"{overlay.modal.padding}"},AOe={root:TOe,header:xOe,title:POe,content:ROe,footer:kOe},VOe={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},LOe={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},OOe={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},DOe={focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},NOe={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},MOe={toolbar:VOe,toolbarItem:LOe,overlay:OOe,overlayOption:DOe,content:NOe},FOe={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},$Oe={background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},BOe={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},qOe={padding:"0"},UOe={root:FOe,legend:$Oe,toggleIcon:BOe,content:qOe},HOe={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},zOe={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},jOe={highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},QOe={padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},WOe={gap:"0.5rem"},GOe={height:"0.25rem"},KOe={gap:"0.5rem"},JOe={root:HOe,header:zOe,content:jOe,file:QOe,fileList:WOe,progressbar:GOe,basic:KOe},YOe={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},ZOe={active:{top:"-1.25rem"}},XOe={input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},e8e={borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}},t8e={root:YOe,over:ZOe,in:XOe,on:e8e},n8e={borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},i8e={background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},r8e={size:"1.5rem"},s8e={background:"{content.background}",padding:"1rem 0.25rem"},o8e={size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},a8e={size:"1rem"},l8e={background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},u8e={gap:"0.5rem",padding:"1rem"},c8e={width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},d8e={background:"rgba(0, 0, 0, 0.5)"},h8e={background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},f8e={size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},p8e={size:"1.5rem"},g8e={light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}},m8e={root:n8e,navButton:i8e,navIcon:r8e,thumbnailsContent:s8e,thumbnailNavButton:o8e,thumbnailNavButtonIcon:a8e,caption:l8e,indicatorList:u8e,indicatorButton:c8e,insetIndicatorList:d8e,insetIndicatorButton:h8e,closeButton:f8e,closeButtonIcon:p8e,colorScheme:g8e},v8e={color:"{form.field.icon.color}"},y8e={icon:v8e},b8e={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},C8e={paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},w8e={root:b8e,input:C8e},_8e={transitionDuration:"{transition.duration}"},I8e={icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},E8e={position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},S8e={hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},T8e={root:_8e,preview:I8e,toolbar:E8e,action:S8e},x8e={size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},P8e={handle:x8e},R8e={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},k8e={fontWeight:"500"},A8e={size:"1rem"},V8e={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}},L8e={root:R8e,text:k8e,icon:A8e,colorScheme:V8e},O8e={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},D8e={hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"},N8e={root:O8e,display:D8e},M8e={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},F8e={borderRadius:"{border.radius.sm}"},$8e={light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}},B8e={root:M8e,chip:F8e,colorScheme:$8e},q8e={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"},U8e={addon:q8e},H8e={transitionDuration:"{transition.duration}"},z8e={width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},j8e={light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}},Q8e={root:H8e,button:z8e,colorScheme:j8e},W8e={gap:"0.5rem"},G8e={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}},K8e={root:W8e,input:G8e},J8e={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Y8e={root:J8e},Z8e={transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},X8e={background:"{primary.color}"},eDe={background:"{content.border.color}"},tDe={color:"{text.muted.color}"},nDe={root:Z8e,value:X8e,range:eDe,text:tDe},iDe={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},rDe={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},sDe={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},oDe={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},aDe={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},lDe={padding:"{list.option.padding}"},uDe={light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}},cDe={root:iDe,list:rDe,option:sDe,optionGroup:oDe,checkmark:aDe,emptyMessage:lDe,colorScheme:uDe},dDe={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},hDe={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},fDe={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},pDe={padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},gDe={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},mDe={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},vDe={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},yDe={borderColor:"{content.border.color}"},bDe={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},CDe={root:dDe,baseItem:hDe,item:fDe,overlay:pDe,submenu:gDe,submenuLabel:mDe,submenuIcon:vDe,separator:yDe,mobileButton:bDe},wDe={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},_De={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},IDe={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},EDe={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},SDe={borderColor:"{content.border.color}"},TDe={root:wDe,list:_De,item:IDe,submenuLabel:EDe,separator:SDe},xDe={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},PDe={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},RDe={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},kDe={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},ADe={borderColor:"{content.border.color}"},VDe={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},LDe={root:xDe,baseItem:PDe,item:RDe,submenu:kDe,separator:ADe,mobileButton:VDe},ODe={borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},DDe={padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},NDe={fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},MDe={size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},FDe={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},$De={size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},BDe={root:{borderWidth:"1px"}},qDe={content:{padding:"0"}},UDe={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}},HDe={root:ODe,content:DDe,text:NDe,icon:MDe,closeButton:FDe,closeIcon:$De,outlined:BDe,simple:qDe,colorScheme:UDe},zDe={borderRadius:"{content.border.radius}",gap:"1rem"},jDe={background:"{content.border.color}",size:"0.5rem"},QDe={gap:"0.5rem"},WDe={size:"0.5rem"},GDe={size:"1rem"},KDe={verticalGap:"0.5rem",horizontalGap:"1rem"},JDe={root:zDe,meters:jDe,label:QDe,labelMarker:WDe,labelIcon:GDe,labelList:KDe},YDe={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},ZDe={width:"2.5rem",color:"{form.field.icon.color}"},XDe={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},eNe={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},tNe={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},nNe={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},iNe={color:"{form.field.icon.color}"},rNe={borderRadius:"{border.radius.sm}"},sNe={padding:"{list.option.padding}"},oNe={root:YDe,dropdown:ZDe,overlay:XDe,list:eNe,option:tNe,optionGroup:nNe,chip:rNe,clearIcon:iNe,emptyMessage:sNe},aNe={gap:"1.125rem"},lNe={gap:"0.5rem"},uNe={root:aNe,controls:lNe},cNe={gutter:"0.75rem",transitionDuration:"{transition.duration}"},dNe={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},hNe={background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},fNe={color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"},pNe={root:cNe,node:dNe,nodeToggleButton:hNe,connector:fNe},gNe={outline:{width:"2px",color:"{content.background}"}},mNe={root:gNe},vNe={padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},yNe={background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},bNe={color:"{text.muted.color}"},CNe={maxWidth:"2.5rem"},wNe={root:vNe,navButton:yNe,currentPageReport:bNe,jumpToPageInput:CNe},_Ne={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},INe={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},ENe={padding:"0.375rem 1.125rem"},SNe={fontWeight:"600"},TNe={padding:"0 1.125rem 1.125rem 1.125rem"},xNe={padding:"0 1.125rem 1.125rem 1.125rem"},PNe={root:_Ne,header:INe,toggleableHeader:ENe,title:SNe,content:TNe,footer:xNe},RNe={gap:"0.5rem",transitionDuration:"{transition.duration}"},kNe={background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},ANe={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},VNe={indent:"1rem"},LNe={color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"},ONe={root:RNe,panel:kNe,item:ANe,submenu:VNe,submenuIcon:LNe},DNe={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},NNe={color:"{form.field.icon.color}"},MNe={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},FNe={gap:"0.5rem"},$Ne={light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}},BNe={meter:DNe,icon:NNe,overlay:MNe,content:FNe,colorScheme:$Ne},qNe={gap:"1.125rem"},UNe={gap:"0.5rem"},HNe={root:qNe,controls:UNe},zNe={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},jNe={padding:"{overlay.popover.padding}"},QNe={root:zNe,content:jNe},WNe={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},GNe={background:"{primary.color}"},KNe={color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"},JNe={root:WNe,value:GNe,label:KNe},YNe={light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}},ZNe={colorScheme:YNe},XNe={width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},eMe={size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}},tMe={root:XNe,icon:eMe},nMe={gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},iMe={size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"},rMe={root:nMe,icon:iMe},sMe={light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}},oMe={colorScheme:sMe},aMe={transitionDuration:"{transition.duration}"},lMe={size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},uMe={light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}},cMe={root:aMe,bar:lMe,colorScheme:uMe},dMe={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},hMe={width:"2.5rem",color:"{form.field.icon.color}"},fMe={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},pMe={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},gMe={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},mMe={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},vMe={color:"{form.field.icon.color}"},yMe={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},bMe={padding:"{list.option.padding}"},CMe={root:dMe,dropdown:hMe,overlay:fMe,list:pMe,option:gMe,optionGroup:mMe,clearIcon:vMe,checkmark:yMe,emptyMessage:bMe},wMe={borderRadius:"{form.field.border.radius}"},_Me={light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}},IMe={root:wMe,colorScheme:_Me},EMe={borderRadius:"{content.border.radius}"},SMe={light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}},TMe={root:EMe,colorScheme:SMe},xMe={transitionDuration:"{transition.duration}"},PMe={background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},RMe={background:"{primary.color}"},kMe={width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},AMe={light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}},VMe={root:xMe,track:PMe,range:RMe,handle:kMe,colorScheme:AMe},LMe={gap:"0.5rem",transitionDuration:"{transition.duration}"},OMe={root:LMe},DMe={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},NMe={root:DMe},MMe={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},FMe={background:"{content.border.color}"},$Me={size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},BMe={root:MMe,gutter:FMe,handle:$Me},qMe={transitionDuration:"{transition.duration}"},UMe={background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},HMe={padding:"0.5rem",gap:"1rem"},zMe={padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},jMe={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},QMe={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},WMe={padding:"0.875rem 0.5rem 1.125rem 0.5rem"},GMe={background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"},KMe={root:qMe,separator:UMe,step:HMe,stepHeader:zMe,stepTitle:jMe,stepNumber:QMe,steppanels:WMe,steppanel:GMe},JMe={transitionDuration:"{transition.duration}"},YMe={background:"{content.border.color}"},ZMe={borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},XMe={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},eFe={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},tFe={root:JMe,separator:YMe,itemLink:ZMe,itemLabel:XMe,itemNumber:eFe},nFe={transitionDuration:"{transition.duration}"},iFe={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},rFe={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},sFe={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},oFe={height:"1px",bottom:"-1px",background:"{primary.color}"},aFe={root:nFe,tablist:iFe,item:rFe,itemIcon:sFe,activeBar:oFe},lFe={transitionDuration:"{transition.duration}"},uFe={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},cFe={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},dFe={background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},hFe={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},fFe={height:"1px",bottom:"-1px",background:"{primary.color}"},pFe={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},gFe={root:lFe,tablist:uFe,tab:cFe,tabpanel:dFe,navButton:hFe,activeBar:fFe,colorScheme:pFe},mFe={transitionDuration:"{transition.duration}"},vFe={background:"{content.background}",borderColor:"{content.border.color}"},yFe={borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},bFe={background:"{content.background}",color:"{content.color}"},CFe={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},wFe={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},_Fe={root:mFe,tabList:vFe,tab:yFe,tabPanel:bFe,navButton:CFe,colorScheme:wFe},IFe={fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},EFe={size:"0.75rem"},SFe={light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},TFe={root:IFe,icon:EFe,colorScheme:SFe},xFe={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},PFe={gap:"0.25rem"},RFe={margin:"2px 0"},kFe={root:xFe,prompt:PFe,commandResponse:RFe},AFe={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},VFe={root:AFe},LFe={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},OFe={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},DFe={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},NFe={mobileIndent:"1rem"},MFe={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},FFe={borderColor:"{content.border.color}"},$Fe={root:LFe,list:OFe,item:DFe,submenu:NFe,submenuIcon:MFe,separator:FFe},BFe={minHeight:"5rem"},qFe={eventContent:{padding:"1rem 0"}},UFe={eventContent:{padding:"0 1rem"}},HFe={size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},zFe={color:"{content.border.color}",size:"2px"},jFe={event:BFe,horizontal:qFe,vertical:UFe,eventMarker:HFe,eventConnector:zFe},QFe={width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},WFe={size:"1.125rem"},GFe={padding:"{overlay.popover.padding}",gap:"0.5rem"},KFe={gap:"0.5rem"},JFe={fontWeight:"500",fontSize:"1rem"},YFe={fontWeight:"500",fontSize:"0.875rem"},ZFe={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},XFe={size:"1rem"},e$e={light:{root:{blur:"1.5px"},info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{root:{blur:"10px"},info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}},t$e={root:QFe,icon:WFe,content:GFe,text:KFe,summary:JFe,detail:YFe,closeButton:ZFe,closeIcon:XFe,colorScheme:e$e},n$e={padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},i$e={disabledColor:"{form.field.disabled.color}"},r$e={padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},s$e={light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}},o$e={root:n$e,icon:i$e,content:r$e,colorScheme:s$e},a$e={width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},l$e={borderRadius:"50%",size:"1rem"},u$e={light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}},c$e={root:a$e,handle:l$e,colorScheme:u$e},d$e={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"},h$e={root:d$e},f$e={maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},p$e={light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}},g$e={root:f$e,colorScheme:p$e},m$e={background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},v$e={padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},y$e={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},b$e={borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},C$e={size:"2rem"},w$e={margin:"0 0 0.5rem 0"},_$e={root:m$e,node:v$e,nodeIcon:y$e,nodeToggleButton:b$e,loadingIcon:C$e,filter:w$e},I$e={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},E$e={width:"2.5rem",color:"{form.field.icon.color}"},S$e={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},T$e={padding:"{list.padding}"},x$e={padding:"{list.option.padding}"},P$e={borderRadius:"{border.radius.sm}"},R$e={color:"{form.field.icon.color}"},k$e={root:I$e,dropdown:E$e,overlay:S$e,tree:T$e,emptyMessage:x$e,chip:P$e,clearIcon:R$e},A$e={transitionDuration:"{transition.duration}"},V$e={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},L$e={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},O$e={fontWeight:"600"},D$e={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},N$e={borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},M$e={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},F$e={fontWeight:"600"},$$e={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},B$e={width:"0.5rem"},q$e={width:"1px",color:"{primary.color}"},U$e={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},H$e={size:"2rem"},z$e={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},j$e={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},Q$e={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},W$e={light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},G$e={root:A$e,header:V$e,headerCell:L$e,columnTitle:O$e,row:D$e,bodyCell:N$e,footerCell:M$e,columnFooter:F$e,footer:$$e,columnResizer:B$e,resizeIndicator:q$e,sortIcon:U$e,loadingIcon:H$e,nodeToggleButton:z$e,paginatorTop:j$e,paginatorBottom:Q$e,colorScheme:W$e},K$e={mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}},J$e={loader:K$e};function hv(i){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(i)}function a7(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function l7(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(t),!0).forEach(function(n){Y$e(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):a7(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Y$e(i,e,t){return(e=Z$e(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Z$e(i){var e=X$e(i,"string");return hv(e)=="symbol"?e:e+""}function X$e(i,e){if(hv(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var eBe=l7(l7({},g6e),{},{components:{accordion:H3e,autocomplete:X3e,avatar:s6e,badge:h6e,blockui:v6e,breadcrumb:w6e,button:E6e,datepicker:dOe,card:k6e,carousel:N6e,cascadeselect:H6e,checkbox:Q6e,chip:Z6e,colorpicker:iLe,confirmdialog:oLe,confirmpopup:dLe,contextmenu:yLe,dataview:jLe,datatable:FLe,dialog:vOe,divider:_Oe,dock:SOe,drawer:AOe,editor:MOe,fieldset:UOe,fileupload:JOe,iftalabel:w8e,floatlabel:t8e,galleria:m8e,iconfield:y8e,image:T8e,imagecompare:P8e,inlinemessage:L8e,inplace:N8e,inputchips:B8e,inputgroup:U8e,inputnumber:Q8e,inputotp:K8e,inputtext:Y8e,knob:nDe,listbox:cDe,megamenu:CDe,menu:TDe,menubar:LDe,message:HDe,metergroup:JDe,multiselect:oNe,orderlist:uNe,organizationchart:pNe,overlaybadge:mNe,popover:QNe,paginator:wNe,password:BNe,panel:PNe,panelmenu:ONe,picklist:HNe,progressbar:JNe,progressspinner:ZNe,radiobutton:tMe,rating:rMe,ripple:oMe,scrollpanel:cMe,select:CMe,selectbutton:IMe,skeleton:TMe,slider:VMe,speeddial:OMe,splitter:BMe,splitbutton:NMe,stepper:KMe,steps:tFe,tabmenu:aFe,tabs:gFe,tabview:_Fe,textarea:VFe,tieredmenu:$Fe,tag:TFe,terminal:kFe,timeline:jFe,togglebutton:o$e,toggleswitch:c$e,tree:_$e,treeselect:k$e,treetable:G$e,toast:t$e,toolbar:h$e,tooltip:g$e,virtualscroller:J$e}});const tBe=aJ().use(F3e),nBe=U2e(),iBe=hwe(eBe,{primitive:{red:{500:"#DA3D16",700:"#A22D10",400:"#A22D10",600:"#A22D10"},surface:{100:"#adb5bd",500:"#DA3D16"}},semantic:{primary:{50:"{surface.200}",100:"{surface.300}",200:"{red.200}",300:"{red.300}",400:"{red.400}",500:"{red.500}",600:"{red.600}",700:"{red.700}",800:"{red.800}",900:"{red.900}",950:"{red.950}"}}}),rBe=[[bxe,{theme:{preset:iBe,options:{darkModeSelector:"dark-mode"}},ripple:!0}],[qB,{queryClientConfig:{defaultOptions:{queries:{staleTime:window.Cypress?0:10*60*1e3,gcTime:window.Cypress?0:15*60*1e3}}}}],Cxe,wxe,g5,Mxe,nBe,A3e,J2,tBe],sBe=()=>{const i=UB(oxe);return rBe.forEach(e=>{Array.isArray(e)?i.use(...e):i.use(e)}),i.use(vCe),i.component("AppSpinner",cxe),i.directive("tooltip",Xwe),globalThis.Buffer=zB,ECe(i),i},oBe=()=>{sBe().mount("#app")};oBe();export{gF as $,SUe as A,uF as B,mze as C,a$ as D,bze as E,YSe as F,uze as G,Cze as H,is as I,Nn as J,cF as K,ixe as L,EC as M,o$ as N,sa as O,m5e as P,qM as Q,VCe as R,au as S,vze as T,cze as U,kCe as V,uo as W,ACe as X,JT as Y,uk as Z,pi as _,fb as a,o5e as a$,gBe as a0,mBe as a1,fa as a2,iV as a3,Om as a4,cHe as a5,om as a6,AIe as a7,gHe as a8,uu as a9,hHe as aA,eze as aB,gze as aC,QHe as aD,WHe as aE,KHe as aF,kp as aG,v9 as aH,K2 as aI,zHe as aJ,QF as aK,BHe as aL,pze as aM,Dte as aN,r$ as aO,s$ as aP,lte as aQ,ry as aR,Gc as aS,ize as aT,_Ue as aU,OM as aV,gf as aW,Md as aX,t$ as aY,i$ as aZ,u$ as a_,vHe as aa,kIe as ab,VV as ac,xr as ad,DCe as ae,JM as af,Xwe as ag,TC as ah,OCe as ai,xM as aj,bu as ak,xC as al,XT as am,Q0 as an,n$ as ao,DM as ap,cc as aq,oHe as ar,RCe as as,WTe as at,iHe as au,bHe as av,yHe as aw,aHe as ax,lHe as ay,YT as az,jTe as b,xge as b$,cn as b0,U0 as b1,$M as b2,Jh as b3,cd as b4,wBe as b5,$He as b6,sze as b7,nze as b8,_Be as b9,wv as bA,tN as bB,qa as bC,_ze as bD,gs as bE,HI as bF,iTe as bG,Wu as bH,vBe as bI,bBe as bJ,KD as bK,bb as bL,LT as bM,zpe as bN,Fpe as bO,F3 as bP,HD as bQ,Ope as bR,Rge as bS,vv as bT,Vge as bU,yh as bV,DE as bW,VE as bX,$W as bY,Oge as bZ,mb as b_,aze as ba,fze as bb,ZHe as bc,XHe as bd,cxe as be,qHe as bf,Nl as bg,Tu as bh,Fd as bi,rze as bj,CBe as bk,fh as bl,FHe as bm,$r as bn,HHe as bo,GHe as bp,UHe as bq,oze as br,JHe as bs,tze as bt,tye as bu,yBe as bv,SC as bw,KT as bx,VM as by,Cv as bz,TUe as c,Uge as c0,AT as c1,Kpe as c2,GD as c3,qme as c4,iye as c5,Npe as c6,Sv as c7,SQ as c8,Fve as c9,Zee as cA,Op as cB,_ee as cC,GE as cD,T9 as cE,YD as cF,Dme as cG,sm as cH,Iv as ca,HE as cb,IUe as cc,Cb as cd,yF as ce,mF as cf,mHe as cg,ac as ch,sHe as ci,rHe as cj,nHe as ck,pHe as cl,dHe as cm,vF as cn,uHe as co,fHe as cp,LBe as cq,U5 as cr,jHe as cs,dr as ct,oe as cu,gn as cv,XSe as cw,EUe as cx,pC as cy,YHe as cz,ud as d,Pb as e,nv as f,zTe as g,tTe as h,W5e as i,UE as j,e5 as k,RI as l,p5 as m,l_ as n,gEe as o,IM as p,ZI as q,hze as r,_b as s,wze as t,Ize as u,dze as v,tE as w,lze as x,yze as y,Eze as z};
//# sourceMappingURL=index-kdKfEdeI.js.map
