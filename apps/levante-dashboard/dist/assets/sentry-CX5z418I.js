import{g as Ut}from"./tanstack-CsBZeLmk.js";(function(){try{var t=typeof window<"u"?window:typeof Ut<"u"?Ut:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="37e6b254-c908-4e6b-aab9-b27985567b6e",t._sentryDebugIdIdentifier="sentry-dbid-37e6b254-c908-4e6b-aab9-b27985567b6e")}catch{}})();const Ca=Object.prototype.toString;function Pt(t){switch(Ca.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return qe(t,Error)}}function Jt(t,e){return Ca.call(t)===`[object ${e}]`}function ti(t){return Jt(t,"ErrorEvent")}function qi(t){return Jt(t,"DOMError")}function cl(t){return Jt(t,"DOMException")}function De(t){return Jt(t,"String")}function ni(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function ri(t){return t===null||ni(t)||typeof t!="object"&&typeof t!="function"}function Le(t){return Jt(t,"Object")}function Cr(t){return typeof Event<"u"&&qe(t,Event)}function ul(t){return typeof Element<"u"&&qe(t,Element)}function ll(t){return Jt(t,"RegExp")}function Pe(t){return!!(t&&t.then&&typeof t.then=="function")}function dl(t){return Le(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function xa(t){return typeof t=="number"&&t!==t}function qe(t,e){try{return t instanceof e}catch{return!1}}function Ra(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function ze(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function es(t,e){let n=t;const r=n.length;if(r<=150)return n;e>r&&(e=r);let s=Math.max(e-60,0);s<5&&(s=0);let i=Math.min(s+140,r);return i>r-5&&(i=r),i===r&&(s=Math.max(i-140,0)),n=n.slice(s,i),s>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function or(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{Ra(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function fl(t,e,n=!1){return De(t)?ll(e)?e.test(t):De(e)?n?t===e:t.includes(e):!1:!1}function Zt(t,e=[],n=!1){return e.some(r=>fl(t,r,n))}function pl(t,e,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!qe(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=hl(ys(t,e,s,o.originalException,r,i.exception.values,a,0),n))}function ys(t,e,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(qe(r[s],Error)){Wi(o,a);const u=t(e,r[s]),l=c.length;Gi(u,s,l,a),c=ys(t,e,n,r[s],s,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(qe(u,Error)){Wi(o,a);const d=t(e,u),p=c.length;Gi(d,`errors[${l}]`,p,a),c=ys(t,e,n,u,s,[d,...c],d,p)}}),c}function Wi(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function Gi(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function hl(t,e){return t.map(n=>(n.value&&(n.value=ze(n.value,e)),n))}function Fn(t){return t&&t.Math==Math?t:void 0}const k=typeof globalThis=="object"&&Fn(globalThis)||typeof window=="object"&&Fn(window)||typeof self=="object"&&Fn(self)||typeof Ut=="object"&&Fn(Ut)||function(){return this}()||{};function si(){return k}function it(t,e,n){const r=n||k,s=r.__SENTRY__=r.__SENTRY__||{};return s[t]||(s[t]=e())}const Ft=si(),ml=80;function st(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||ml;for(;n&&i++<r&&(u=gl(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function gl(t,e){const n=t,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";if(Ft.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&De(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)o=l[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function Ma(){try{return Ft.document.location.href}catch{return""}}function _l(t){return Ft.document&&Ft.document.querySelector?Ft.document.querySelector(t):null}function Aa(t){if(!Ft.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}const Qt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Sl="Sentry Logger ",ar=["debug","info","warn","error","log","assert","trace"],cr={};function me(t){if(!("console"in k))return t();const e=k.console,n={},r=Object.keys(cr);r.forEach(s=>{const i=cr[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}function yl(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Qt?ar.forEach(n=>{e[n]=(...r)=>{t&&me(()=>{k.console[n](`${Sl}[${n}]:`,...r)})}}):ar.forEach(n=>{e[n]=()=>{}}),e}const h=yl(),bl=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function El(t){return t==="http"||t==="https"}function en(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Tl(t){const e=bl.exec(t);if(!e){me(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,s="",i,o="",a]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return Na({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Na(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function vl(t){if(!Qt)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(o=>t[o]?!1:(h.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?El(r)?e&&isNaN(parseInt(e,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Il(t){const e=typeof t=="string"?Tl(t):Na(t);if(!(!e||!vl(e)))return e}class Ne extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function re(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);typeof s=="function"&&Oa(s,r),t[e]=s}function $e(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Qt&&h.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Oa(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,$e(t,"__sentry_original__",e)}catch{}}function ii(t){return t.__sentry_original__}function wl(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Da(t){if(Pt(t))return{message:t.message,name:t.name,stack:t.stack,...Vi(t)};if(Cr(t)){const e={type:t.type,target:Yi(t.target),currentTarget:Yi(t.currentTarget),...Vi(t)};return typeof CustomEvent<"u"&&qe(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Yi(t){try{return ul(t)?st(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Vi(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function kl(t,e=40){const n=Object.keys(Da(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return ze(n[0],e);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>e))return r===n.length?s:ze(s,e)}return""}function O(t){return bs(t,new Map)}function bs(t,e){if(Cl(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.keys(t))typeof t[s]<"u"&&(r[s]=bs(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(bs(s,e))}),r}return t}function Cl(t){if(!Le(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const La=50,Ki=/\(error: (.*)\)/,Xi=/captureMessage|captureException/;function $a(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const c=Ki.test(a)?a.replace(Ki,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of e){const l=u(c);if(l){s.push(l);break}}if(s.length>=La)break}}return Rl(s)}}function xl(t){return Array.isArray(t)?$a(...t):t}function Rl(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),Xi.test(e[e.length-1].function||"")&&(e.pop(),Xi.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,La).map(n=>({...n,filename:n.filename||e[e.length-1].filename,function:n.function||"?"}))}const ts="<anonymous>";function We(t){try{return!t||typeof t!="function"?ts:t.name||ts}catch{return ts}}const Zn={},Ji={};function bt(t,e){Zn[t]=Zn[t]||[],Zn[t].push(e)}function Et(t,e){Ji[t]||(e(),Ji[t]=!0)}function we(t,e){const n=t&&Zn[t];if(n)for(const r of n)try{r(e)}catch(s){Qt&&h.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${We(r)}
Error:`,s)}}function Pa(t){const e="console";bt(e,t),Et(e,Ml)}function Ml(){"console"in k&&ar.forEach(function(t){t in k.console&&re(k.console,t,function(e){return cr[t]=e,function(...n){we("console",{args:n,level:t});const s=cr[t];s&&s.apply(k.console,n)}})})}function v(){const t=k,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Fa(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Qe(t){const{message:e,event_id:n}=t;if(e)return e;const r=Fa(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Es(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}function gt(t,e){const n=Fa(t);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...e},e&&"data"in e){const i={...s&&s.data,...e.data};n.mechanism.data=i}}function Al(t,e,n=5){if(e.lineno===void 0)return;const r=t.length,s=Math.max(Math.min(r-1,e.lineno-1),0);e.pre_context=t.slice(Math.max(0,s-n),s).map(i=>es(i,0)),e.context_line=es(t[Math.min(r-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,r),s+1+n).map(i=>es(i,0))}function Zi(t){if(t&&t.__sentry_captured__)return!0;try{$e(t,"__sentry_captured__",!0)}catch{}return!1}function tn(t){return Array.isArray(t)?t:[t]}const Rt=k,Nl=1e3;let Qi,Ts,vs;function Ba(t){const e="dom";bt(e,t),Et(e,Ol)}function Ol(){if(!Rt.document)return;const t=we.bind(null,"dom"),e=eo(t,!0);Rt.document.addEventListener("click",e,!1),Rt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=Rt[n]&&Rt[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(re(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[i]=u[i]||{refCount:0};if(!l.handler){const d=eo(t);l.handler=d,s.call(this,i,d,a)}l.refCount++}catch{}return s.call(this,i,o,a)}}),re(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[i];l&&(l.refCount--,l.refCount<=0&&(s.call(this,i,l.handler,a),l.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}function Dl(t){if(t.type!==Ts)return!1;try{if(!t.target||t.target._sentryId!==vs)return!1}catch{}return!0}function Ll(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function eo(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=$l(n);if(Ll(n.type,r))return;$e(n,"_sentryCaptured",!0),r&&!r._sentryId&&$e(r,"_sentryId",v());const s=n.type==="keypress"?"input":n.type;Dl(n)||(t({event:n,name:s,global:e}),Ts=n.type,vs=r?r._sentryId:void 0),clearTimeout(Qi),Qi=Rt.setTimeout(()=>{vs=void 0,Ts=void 0},Nl)}}function $l(t){try{return t.target}catch{return null}}const Is=si();function Ha(){if(!("fetch"in Is))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function ws(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Pl(){if(typeof EdgeRuntime=="string")return!0;if(!Ha())return!1;if(ws(Is.fetch))return!0;let t=!1;const e=Is.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=ws(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Qt&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function oi(t){const e="fetch";bt(e,t),Et(e,Fl)}function Fl(){Pl()&&re(k,"fetch",function(t){return function(...e){const{method:n,url:r}=Bl(e),s={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return we("fetch",{...s}),t.apply(k,e).then(i=>{const o={...s,endTimestamp:Date.now(),response:i};return we("fetch",o),i},i=>{const o={...s,endTimestamp:Date.now(),error:i};throw we("fetch",o),i})}})}function ks(t,e){return!!t&&typeof t=="object"&&!!t[e]}function to(t){return typeof t=="string"?t:t?ks(t,"url")?t.url:t.toString?t.toString():"":""}function Bl(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:to(n),method:ks(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:to(e),method:ks(e,"method")?String(e.method).toUpperCase():"GET"}}let Bn=null;function Ua(t){const e="error";bt(e,t),Et(e,Hl)}function Hl(){Bn=k.onerror,k.onerror=function(t,e,n,r,s){return we("error",{column:r,error:s,line:n,msg:t,url:e}),Bn&&!Bn.__SENTRY_LOADER__?Bn.apply(this,arguments):!1},k.onerror.__SENTRY_INSTRUMENTED__=!0}let Hn=null;function ja(t){const e="unhandledrejection";bt(e,t),Et(e,Ul)}function Ul(){Hn=k.onunhandledrejection,k.onunhandledrejection=function(t){return we("unhandledrejection",t),Hn&&!Hn.__SENTRY_LOADER__?Hn.apply(this,arguments):!0},k.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Un=si();function jl(){const t=Un.chrome,e=t&&t.app&&t.app.runtime,n="history"in Un&&!!Un.history.pushState&&!!Un.history.replaceState;return!e&&n}const dn=k;let jn;function xr(t){const e="history";bt(e,t),Et(e,zl)}function zl(){if(!jl())return;const t=dn.onpopstate;dn.onpopstate=function(...n){const r=dn.location.href,s=jn;if(jn=r,we("history",{from:s,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=jn,o=String(s);jn=o,we("history",{from:i,to:o})}return n.apply(this,r)}}re(dn.history,"pushState",e),re(dn.history,"replaceState",e)}const ql=k,et="__sentry_xhr_v3__";function ai(t){const e="xhr";bt(e,t),Et(e,Wl)}function Wl(){if(!ql.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;re(t,"open",function(e){return function(...n){const r=Date.now(),s=De(n[0])?n[0].toUpperCase():void 0,i=Gl(n[1]);if(!s||!i)return e.apply(this,n);this[et]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[et];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};we("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?re(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),re(this,"setRequestHeader",function(a){return function(...c){const[u,l]=c,d=this[et];return d&&De(u)&&De(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),e.apply(this,n)}}),re(t,"send",function(e){return function(...n){const r=this[et];if(!r)return e.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return we("xhr",s),e.apply(this,n)}})}function Gl(t){if(De(t))return t;try{return t.toString()}catch{}}function Yl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var za={exports:{}},Q=za.exports={},Re,Me;function Cs(){throw new Error("setTimeout has not been defined")}function xs(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Re=setTimeout:Re=Cs}catch{Re=Cs}try{typeof clearTimeout=="function"?Me=clearTimeout:Me=xs}catch{Me=xs}})();function qa(t){if(Re===setTimeout)return setTimeout(t,0);if((Re===Cs||!Re)&&setTimeout)return Re=setTimeout,setTimeout(t,0);try{return Re(t,0)}catch{try{return Re.call(null,t,0)}catch{return Re.call(this,t,0)}}}function Vl(t){if(Me===clearTimeout)return clearTimeout(t);if((Me===xs||!Me)&&clearTimeout)return Me=clearTimeout,clearTimeout(t);try{return Me(t)}catch{try{return Me.call(null,t)}catch{return Me.call(this,t)}}}var Ue=[],Bt=!1,ft,Qn=-1;function Kl(){!Bt||!ft||(Bt=!1,ft.length?Ue=ft.concat(Ue):Qn=-1,Ue.length&&Wa())}function Wa(){if(!Bt){var t=qa(Kl);Bt=!0;for(var e=Ue.length;e;){for(ft=Ue,Ue=[];++Qn<e;)ft&&ft[Qn].run();Qn=-1,e=Ue.length}ft=null,Bt=!1,Vl(t)}}Q.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ue.push(new Ga(t,e)),Ue.length===1&&!Bt&&qa(Wa)};function Ga(t,e){this.fun=t,this.array=e}Ga.prototype.run=function(){this.fun.apply(null,this.array)};Q.title="browser";Q.browser=!0;Q.env={};Q.argv=[];Q.version="";Q.versions={};function Ge(){}Q.on=Ge;Q.addListener=Ge;Q.once=Ge;Q.off=Ge;Q.removeListener=Ge;Q.removeAllListeners=Ge;Q.emit=Ge;Q.prependListener=Ge;Q.prependOnceListener=Ge;Q.listeners=function(t){return[]};Q.binding=function(t){throw new Error("process.binding is not supported")};Q.cwd=function(){return"/"};Q.chdir=function(t){throw new Error("process.chdir is not supported")};Q.umask=function(){return 0};var Xl=za.exports;const no=Yl(Xl);function Jl(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Zl(){return"npm"}function Ql(){return!Jl()&&Object.prototype.toString.call(typeof no<"u"?no:0)==="[object process]"}function Rs(){return typeof window<"u"&&(!Ql()||ed())}function ed(){return k.process!==void 0&&k.process.type==="renderer"}function td(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(s){if(t)return e.has(s)?!0:(e.add(s),!1);for(let i=0;i<e.length;i++)if(e[i]===s)return!0;return e.push(s),!1}function r(s){if(t)e.delete(s);else for(let i=0;i<e.length;i++)if(e[i]===s){e.splice(i,1);break}}return[n,r]}function oe(t,e=100,n=1/0){try{return Ms("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Ya(t,e=3,n=100*1024){const r=oe(t,e);return id(r)>n?Ya(t,e-1,n):r}function Ms(t,e,n=1/0,r=1/0,s=td()){const[i,o]=s;if(e==null||["number","boolean","string"].includes(typeof e)&&!xa(e))return e;const a=nd(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return Ms("",f,c-1,r,s)}catch{}const l=Array.isArray(e)?[]:{};let d=0;const p=Da(e);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(d>=r){l[f]="[MaxProperties ~]";break}const m=p[f];l[f]=Ms(f,m,c-1,r,s),d++}return o(e),l}function nd(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof Ut<"u"&&e===Ut)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Ra(e))return"[VueViewModel]";if(dl(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${We(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=rd(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function rd(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function sd(t){return~-encodeURI(t).split(/%..|./).length}function id(t){return sd(JSON.stringify(t))}var Be;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(Be||(Be={}));function jt(t){return new ce(e=>{e(t)})}function ci(t){return new ce((e,n)=>{n(t)})}class ce{constructor(e){ce.prototype.__init.call(this),ce.prototype.__init2.call(this),ce.prototype.__init3.call(this),ce.prototype.__init4.call(this),this._state=Be.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new ce((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new ce((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,e&&e()},o=>{i=!0,s=o,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=e=>{this._setResult(Be.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Be.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===Be.PENDING){if(Pe(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Be.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Be.RESOLVED&&n[1](this._value),this._state===Be.REJECTED&&n[2](this._value),n[0]=!0)})}}}function od(t){const e=[];function n(){return t===void 0||e.length<t}function r(o){return e.splice(e.indexOf(o),1)[0]}function s(o){if(!n())return ci(new Ne("Not adding Promise because buffer limit was reached."));const a=o();return e.indexOf(a)===-1&&e.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new ce((a,c)=>{let u=e.length;if(!u)return a(!0);const l=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(d=>{jt(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:e,add:s,drain:i}}function ht(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function ad(t){return t.split(/[\?#]/,1)[0]}const cd=["fatal","error","warning","log","info","debug"];function Va(t){return t==="warn"?"warning":cd.includes(t)?t:"log"}const Ka=1e3;function ye(){return Date.now()/Ka}function ud(){const{performance:t}=k;if(!t||!t.now)return ye;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/Ka}const _e=ud(),ge=(()=>{const{performance:t}=k;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=s<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):e,u=c<e;return i||u?s<=c?t.timeOrigin:o:r})(),As="baggage",Xa="sentry-",ld=/^sentry-/,dd=8192;function fd(t){if(!De(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((r,s)=>{const i=ro(s);for(const o of Object.keys(i))r[o]=i[o];return r},{});else{if(!t)return;e=ro(t)}const n=Object.entries(e).reduce((r,[s,i])=>{if(s.match(ld)){const o=s.slice(Xa.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Ja(t){if(!t)return;const e=Object.entries(t).reduce((n,[r,s])=>(s&&(n[`${Xa}${r}`]=s),n),{});return pd(e)}function ro(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(e[n]=r,e),{})}function pd(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${e},${i}`;return o.length>dd?(Qt&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):o},"")}const hd=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function md(t){if(!t)return;const e=t.match(hd);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function gd(t,e){const n=md(t),r=fd(e),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||v(),parentSpanId:i||v().substring(16),spanId:v().substring(16),sampled:o,dsc:r||{}}:{traceId:s||v(),spanId:v().substring(16)}}function ui(t=v(),e=v().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function ot(t,e=[]){return[t,e]}function _d(t,e){const[n,r]=t;return[n,[...r,e]]}function so(t,e){const n=t[1];for(const r of n){const s=r[0].type;if(e(r,s))return!0}return!1}function Ns(t,e){return(e||new TextEncoder).encode(t)}function Sd(t,e){const[n,r]=t;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[Ns(s,e),o]:s.push(typeof o=="string"?Ns(o,e):o)}for(const o of r){const[a,c]=o;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(oe(c))}i(u)}}return typeof s=="string"?s:yd(s)}function yd(t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function bd(t,e){const n=typeof t.data=="string"?Ns(t.data,e):t.data;return[O({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const Ed={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function io(t){return Ed[t]}function li(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function Za(t,e,n,r){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:en(r)},...s&&{trace:O({...s})}}}function Td(t,e,n){const r=[{type:"client_report"},{timestamp:ye(),discarded_events:t}];return ot(e?{dsn:e}:{},[r])}const vd=60*1e3;function Id(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?vd:r-e}function wd(t,e){return t[e]||t.all||0}function Qa(t,e,n=Date.now()){return wd(t,e)>n}function ec(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),p=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+p;else for(const f of u.split(";"))f==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[f]=r+p):s[f]=r+p}else o?s.all=r+Id(o,r):e===429&&(s.all=r+60*1e3);return s}function kd(t,e){return t??e()}function ns(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}const W=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Rr="production";function di(){return it("globalEventProcessors",()=>[])}function Cd(t){di().push(t)}function ur(t,e,n,r=0){return new ce((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o({...e},n);W&&o.id&&a===null&&h.log(`Event processor "${o.id}" dropped event`),Pe(a)?a.then(c=>ur(t,c,n,r+1).then(s)).then(null,i):ur(t,a,n,r+1).then(s).then(null,i)}})}function tc(t){const e=_e(),n={sid:v(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>xd(n)};return t&&_t(n,t),n}function _t(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||_e(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:v()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function nc(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),_t(t,n)}function xd(t){return O({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Rd=1;function Md(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=zt(t);return O({data:r,op:s,parent_span_id:i,span_id:e,status:o,tags:a,trace_id:n,origin:c})}function Ad(t){return typeof t=="number"?oo(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?oo(t.getTime()):_e()}function oo(t){return t>9999999999?t/1e3:t}function zt(t){return Nd(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function Nd(t){return typeof t.getSpanJSON=="function"}function rc(t){const{traceFlags:e}=t.spanContext();return!!(e&Rd)}function sc(t,e,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||v(),timestamp:e.timestamp||ye()},u=n.integrations||t.integrations.map(S=>S.name);Od(c,t),$d(c,u),e.type===void 0&&Dd(c,t.stackParser);const l=Fd(r,n.captureContext);n.mechanism&&gt(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],p=Kd().getScopeData();if(i){const S=i.getScopeData();lo(p,S)}if(l){const S=l.getScopeData();lo(p,S)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),fc(c,p);const m=[...d,...di(),...p.eventProcessors];return ur(m,c,n).then(S=>(S&&Ld(S),typeof o=="number"&&o>0?Pd(S,o,a):S))}function Od(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:Rr),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=ze(t.message,i));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=ze(o.value,i));const a=t.request;a&&a.url&&(a.url=ze(a.url,i))}const ao=new WeakMap;function Dd(t,e){const n=k._sentryDebugIds;if(!n)return;let r;const s=ao.get(e);s?r=s:(r=new Map,ao.set(e,r));const i=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=e(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){const d=c[l];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function Ld(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function $d(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function Pd(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:oe(s.data,e,n)}}))},...t.user&&{user:oe(t.user,e,n)},...t.contexts&&{contexts:oe(t.contexts,e,n)},...t.extra&&{extra:oe(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=oe(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>{const i=zt(s).data;return i&&(s.data=oe(i,e,n)),s})),r}function Fd(t,e){if(!e)return t;const n=t?t.clone():new Tn;return n.update(e),n}function Bd(t){if(t)return Hd(t)?{captureContext:t}:jd(t)?{captureContext:t}:t}function Hd(t){return t instanceof Tn||typeof t=="function"}const Ud=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function jd(t){return Object.keys(t).some(e=>Ud.includes(e))}function fi(t,e){return be().captureException(t,Bd(e))}function ic(t,e){return be().captureEvent(t,e)}function St(t,e){be().addBreadcrumb(t,e)}function BE(t,e){be().setTag(t,e)}function HE(t){be().setUser(t)}function oc(...t){const e=be();if(t.length===2){const[n,r]=t;return n?e.withScope(()=>(e.getStackTop().scope=n,r(n))):e.withScope(r)}return e.withScope(t[0])}function ae(){return be().getClient()}function Ye(){return be().getScope()}function co(t){const e=ae(),n=nn(),r=Ye(),{release:s,environment:i=Rr}=e&&e.getOptions()||{},{userAgent:o}=k.navigator||{},a=tc({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession();return c&&c.status==="ok"&&_t(c,{status:"exited"}),ac(),n.setSession(a),r.setSession(a),a}function ac(){const t=nn(),e=Ye(),n=e.getSession()||t.getSession();n&&nc(n),cc(),t.setSession(),e.setSession()}function cc(){const t=nn(),e=Ye(),n=ae(),r=e.getSession()||t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function uo(t=!1){if(t){ac();return}cc()}function uc(t){return t.transaction}function lc(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=O({environment:r.environment||Rr,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function dc(t){const e=ae();if(!e)return{};const n=lc(zt(t).trace_id||"",e,Ye()),r=uc(t);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=zt(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(rc(r)),e.emit&&e.emit("createDsc",n),n}function fc(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;zd(t,e),r&&Gd(t,r),Yd(t,n),qd(t,s),Wd(t,i)}function lo(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:f,span:m}=e;fn(t,"extra",n),fn(t,"tags",r),fn(t,"user",s),fn(t,"contexts",i),fn(t,"sdkProcessingMetadata",a),o&&(t.level=o),f&&(t.transactionName=f),m&&(t.span=m),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...p}}function fn(t,e,n){if(n&&Object.keys(n).length){t[e]={...t[e]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[e][r]=n[r])}}function zd(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e,c=O(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const u=O(r);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const l=O(s);l&&Object.keys(l).length&&(t.user={...l,...t.user});const d=O(i);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts}),o&&(t.level=o),a&&(t.transaction=a)}function qd(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function Wd(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function Gd(t,e){t.contexts={trace:Md(e),...t.contexts};const n=uc(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:dc(e),...t.sdkProcessingMetadata};const r=zt(n).description;r&&(t.tags={transaction:r,...t.tags})}}function Yd(t,e){t.fingerprint=t.fingerprint?tn(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const Vd=100;let rs,Tn=class er{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=fo()}static clone(e){return e?e.clone():new er}clone(){const e=new er;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&_t(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof er){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Le(n)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=fo(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:Vd;if(r<=0)return this;const s={timestamp:ye(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:p,_span:f}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:p,span:f}}applyToEvent(e,n={},r=[]){fc(e,this.getScopeData());const s=[...r,...di(),...this._eventProcessors];return ur(s,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:v();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:v();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:v();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};function Kd(){return rs||(rs=new Tn),rs}function fo(){return{traceId:v(),spanId:v().substring(16)}}const vn="7.120.4",pc=parseFloat(vn),Xd=100;let hc=class{constructor(e,n,r,s=pc){this._version=s;let i;n?i=n:(i=new Tn,i.setClient(e));let o;r?o=r:(o=new Tn,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(s){throw this.popScope(),s}return Pe(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:v(),s=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureMessage(e,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:v(),i=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s}),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:v();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Xd}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:ye(),...e},u=i?me(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=po(this);try{e(this)}finally{po(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return W&&h.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return W&&!r&&(this.getClient()?h.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):h.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&nc(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Rr}=r&&r.getOptions()||{},{userAgent:o}=k.navigator||{},a=tc({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&_t(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const s=Mr().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);W&&h.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function Mr(){return k.__SENTRY__=k.__SENTRY__||{extensions:{},hub:void 0},k}function po(t){const e=Mr(),n=Os(e);return mc(e,t),n}function be(){const t=Mr();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return Jd(t)}function nn(){return be().getIsolationScope()}function Jd(t=Mr()){return(!Zd(t)||Os(t).isOlderThan(pc))&&mc(t,new hc),Os(t)}function Zd(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Os(t){return it("hub",()=>new hc,t)}function mc(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function pi(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=ae(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function ho(t){if(!pi())return;const e=ef(t),n=be(),r=t.scope?t.scope.getSpan():Ds();if(t.onlyIfParent&&!r)return;const o=(t.scope||Ye()).clone();return Qd(n,{parentSpan:r,spanContext:e,forceTransaction:t.forceTransaction,scope:o})}function Ds(){return Ye().getSpan()}function Qd(t,{parentSpan:e,spanContext:n,forceTransaction:r,scope:s}){if(!pi())return;const i=nn();let o;if(e&&!r)o=e.startChild(n);else if(e){const a=dc(e),{traceId:c,spanId:u}=e.spanContext(),l=rc(e);o=t.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...i.getPropagationContext(),...s.getPropagationContext()};o=t.startTransaction({traceId:a,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return s.setSpan(o),rf(o,s,i),o}function ef(t){if(t.startTime){const e={...t};return e.startTimestamp=Ad(t.startTime),delete e.startTime,e}return t}const tf="_sentryScope",nf="_sentryIsolationScope";function rf(t,e,n){t&&($e(t,nf,n),$e(t,tf,e))}const ss="sentry.source",mo="sentry.origin";function sf(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function of(t,e,n,r){const s=li(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:en(e)}},o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return ot(i,[o])}function gc(t,e,n,r){const s=li(n),i=t.type&&t.type!=="replay_event"?t.type:"event";sf(t,n&&n.sdk);const o=Za(t,s,r,e);return delete t.sdkProcessingMetadata,ot(o,[[{type:i},t]])}const af="7";function cf(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function uf(t){return`${cf(t)}${t.projectId}/envelope/`}function lf(t,e){return wl({sentry_key:t.publicKey,sentry_version:af,...e&&{sentry_client:`${e.name}/${e.version}`}})}function df(t,e={}){const n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${uf(t)}?${lf(t,r)}`}const go=[];function ff(t){const e={};return t.forEach(n=>{const{name:r}=n,s=e[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.keys(e).map(n=>e[n])}function pf(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...e,...n]:typeof n=="function"?r=tn(n(e)):r=e;const s=ff(r),i=mf(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function hf(t,e){const n={};return e.forEach(r=>{r&&_c(t,r,n)}),n}function _o(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function _c(t,e,n){if(n[e.name]){W&&h.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,go.indexOf(e.name)===-1&&(e.setupOnce(Cd,be),go.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),t.on&&typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>r(s,i,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=(i,o)=>r(i,o,t);s.id=e.name,t.addEventProcessor(s)}W&&h.log(`Integration installed: ${e.name}`)}function mf(t,e){for(let n=0;n<t.length;n++)if(e(t[n])===!0)return n;return-1}function gf(t){let e="";for(const n of t){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([i,o])=>`${i}:${o}`).join(",")}`:"";e+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return e}function _f(t,e,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&e&&(s.dsn=en(e));const i=Sf(t);return ot(s,[i])}function Sf(t){const e=gf(t);return[{type:"statsd",length:e.length},e]}const So="Not capturing exception because it's already been captured.";class yf{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Il(e.dsn):W&&h.warn("No DSN provided, client will not send events."),this._dsn){const n=df(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}}captureException(e,n,r){if(Zi(e)){W&&h.log(So);return}let s=n&&n.event_id;return this._process(this.eventFromException(e,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(e,n,r,s){let i=r&&r.event_id;const o=ni(e)?e:String(e),a=ri(e)?this.eventFromMessage(o,n,r):this.eventFromException(e,r);return this._process(a.then(c=>this._captureEvent(c,r,s)).then(c=>{i=c})),i}captureEvent(e,n,r){if(n&&n.originalException&&Zi(n.originalException)){W&&h.log(So);return}let s=n&&n.event_id;const o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,n,o||r).then(a=>{s=a})),s}captureSession(e){typeof e.release!="string"?W&&h.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),_t(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(s=>r&&s))):jt(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return W&&h.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const n=this._integrations[e.name];_c(this,e,this._integrations),n||_o(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=gc(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=_d(r,bd(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const n=of(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${e}:${n}`;W&&h.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}captureAggregateMetrics(e){W&&h.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const n=_f(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=hf(this,e),_o(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&r)&&(_t(e,{...r&&{status:"crashed"},errors:e.errors||Number(s||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ce(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,e&&r>=e&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r,s=nn()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",e,n),sc(i,e,n,r,this,s).then(a=>{if(a===null)return a;const c={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:l,spanId:d,parentSpanId:p,dsc:f}=c;a.contexts={trace:{trace_id:l,span_id:d,parent_span_id:p},...a.contexts};const m=f||lc(l,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:m,...a.sdkProcessingMetadata}}return a})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(s=>s.event_id,s=>{if(W){const i=s;i.logLevel==="log"?h.log(i.message):h.warn(i)}})}_processEvent(e,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=yc(e),a=Sc(e),c=e.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),ci(new Ne(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const l=c==="replay_event"?"replay":c,p=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,p).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",l,e),new Ne("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return f;const _=Ef(s,f,n);return bf(_,u)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",l,e),o){const g=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",g)}throw new Ne(`${u} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!o&&m&&this._updateSessionFromEvent(m,f),o){const S=f.sdkProcessingMetadata&&f.sdkProcessingMetadata.spanCountBeforeProcessing||0,g=f.spans?f.spans.length:0,y=S-g;y>0&&this.recordDroppedEvent("before_send","span",y)}const _=f.transaction_info;if(o&&_&&f.transaction!==e.transaction){const S="custom";f.transaction_info={..._,source:S}}return this.sendEvent(f,n),f}).then(null,f=>{throw f instanceof Ne?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new Ne(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,n=>{W&&h.error("Error while sending event:",n)});W&&h.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:e[n]}})}}function bf(t,e){const n=`${e} must return \`null\` or a valid event.`;if(Pe(t))return t.then(r=>{if(!Le(r)&&r!==null)throw new Ne(n);return r},r=>{throw new Ne(`${e} rejected with ${r}`)});if(!Le(t)&&t!==null)throw new Ne(n);return t}function Ef(t,e,n){const{beforeSend:r,beforeSendTransaction:s}=t;if(Sc(e)&&r)return r(e,n);if(yc(e)&&s){if(e.spans){const i=e.spans.length;e.sdkProcessingMetadata={...e.sdkProcessingMetadata,spanCountBeforeProcessing:i}}return s(e,n)}return e}function Sc(t){return t.type===void 0}function yc(t){return t.type==="transaction"}function Tf(t,e){e.debug===!0&&(W?h.enable():me(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ye().update(e.initialScope);const r=new t(e);vf(r),If(r)}function vf(t){const n=be().getStackTop();n.client=t,n.scope.setClient(t)}function If(t){t.init?t.init():t.setupIntegrations&&t.setupIntegrations()}const wf=30;function bc(t,e,n=od(t.bufferSize||wf)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(so(o,(d,p)=>{const f=io(p);if(Qa(r,f)){const m=yo(d,p);t.recordDroppedEvent("ratelimit_backoff",f,m)}else a.push(d)}),a.length===0)return jt();const c=ot(o[0],a),u=d=>{so(c,(p,f)=>{const m=yo(p,f);t.recordDroppedEvent(d,io(f),m)})},l=()=>e({body:Sd(c,t.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&W&&h.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=ec(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof Ne)return W&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),jt();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function yo(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}function kf(t,e,n=[e],r="npm"){const s=t._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${e}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:vn})),version:vn}),t._metadata=s}const Cf=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],xf=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Rf="InboundFilters",Mf=(t={})=>({name:Rf,setupOnce(){},processEvent(e,n,r){const s=r.getOptions(),i=Nf(t,s);return Of(e,i)?null:e}}),Af=Mf;function Nf(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Cf],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:xf],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function Of(t,e){return e.ignoreInternal&&Bf(t)?(W&&h.warn(`Event dropped due to being internal Sentry Error.
Event: ${Qe(t)}`),!0):Df(t,e.ignoreErrors)?(W&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Qe(t)}`),!0):Lf(t,e.ignoreTransactions)?(W&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Qe(t)}`),!0):$f(t,e.denyUrls)?(W&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Qe(t)}.
Url: ${lr(t)}`),!0):Pf(t,e.allowUrls)?!1:(W&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Qe(t)}.
Url: ${lr(t)}`),!0)}function Df(t,e){return t.type||!e||!e.length?!1:Ff(t).some(n=>Zt(n,e))}function Lf(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?Zt(n,e):!1}function $f(t,e){if(!e||!e.length)return!1;const n=lr(t);return n?Zt(n,e):!1}function Pf(t,e){if(!e||!e.length)return!0;const n=lr(t);return n?Zt(n,e):!0}function Ff(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch{}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),W&&e.length===0&&h.error(`Could not extract message for event ${Qe(t)}`),e}function Bf(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function Hf(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function lr(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Hf(e):null}catch{return W&&h.error(`Cannot extract url for event ${Qe(t)}`),null}}let bo;const Uf="FunctionToString",Eo=new WeakMap,jf=()=>({name:Uf,setupOnce(){bo=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=ii(this),n=Eo.has(ae())&&e!==void 0?e:this;return bo.apply(n,t)}}catch{}},setup(t){Eo.set(t,!0)}}),zf=jf,P=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ec="production";function qf(){return it("globalEventProcessors",()=>[])}function Ls(t,e,n,r=0){return new ce((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o({...e},n);P&&o.id&&a===null&&h.log(`Event processor "${o.id}" dropped event`),Pe(a)?a.then(c=>Ls(t,c,n,r+1).then(s)).then(null,i):Ls(t,a,n,r+1).then(s).then(null,i)}})}function Wf(t){const e=_e(),n={sid:v(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Yf(n)};return t&&Ar(n,t),n}function Ar(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||_e(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:v()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Gf(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Ar(t,n)}function Yf(t){return O({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Vf=0,Tc=1;function hi(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=se(t);return O({data:r,op:s,parent_span_id:i,span_id:e,status:o,tags:a,trace_id:n,origin:c})}function Nr(t){const{traceId:e,spanId:n}=t.spanContext(),r=mi(t);return ui(e,n,r)}function Or(t){return typeof t=="number"?To(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?To(t.getTime()):_e()}function To(t){return t>9999999999?t/1e3:t}function se(t){return Kf(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function Kf(t){return typeof t.getSpanJSON=="function"}function mi(t){const{traceFlags:e}=t.spanContext();return!!(e&Tc)}function rn(){return at().getClient()}function sn(){return at().getScope()}function dr(t){return t.transaction}function gi(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=O({environment:r.environment||Ec,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function qt(t){const e=rn();if(!e)return{};const n=gi(se(t).trace_id||"",e,sn()),r=dr(t);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=se(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(mi(r)),e.emit&&e.emit("createDsc",n),n}function Xf(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;Jf(t,e),r&&ep(t,r),tp(t,n),Zf(t,s),Qf(t,i)}function Jf(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e,c=O(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const u=O(r);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const l=O(s);l&&Object.keys(l).length&&(t.user={...l,...t.user});const d=O(i);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts}),o&&(t.level=o),a&&(t.transaction=a)}function Zf(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function Qf(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function ep(t,e){t.contexts={trace:hi(e),...t.contexts};const n=dr(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:qt(e),...t.sdkProcessingMetadata};const r=se(n).description;r&&(t.tags={transaction:r,...t.tags})}}function tp(t,e){t.fingerprint=t.fingerprint?tn(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const np=100;let vo=class tr{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Io()}static clone(e){return e?e.clone():new tr}clone(){const e=new tr;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Ar(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof tr){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Le(n)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Io(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:np;if(r<=0)return this;const s={timestamp:ye(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:p,_span:f}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:p,span:f}}applyToEvent(e,n={},r=[]){Xf(e,this.getScopeData());const s=[...r,...qf(),...this._eventProcessors];return Ls(s,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:v();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:v();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:v();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};function Io(){return{traceId:v(),spanId:v().substring(16)}}const rp="7.120.4",vc=parseFloat(rp),sp=100;let Ic=class{constructor(e,n,r,s=vc){this._version=s;let i;n?i=n:(i=new vo,i.setClient(e));let o;r?o=r:(o=new vo,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(s){throw this.popScope(),s}return Pe(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:v(),s=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureMessage(e,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:v(),i=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s}),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:v();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=sp}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:ye(),...e},u=i?me(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=wo(this);try{e(this)}finally{wo(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return P&&h.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return P&&!r&&(this.getClient()?h.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):h.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Gf(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Ec}=r&&r.getOptions()||{},{userAgent:o}=k.navigator||{},a=Wf({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&Ar(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const s=xn().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);P&&h.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function xn(){return k.__SENTRY__=k.__SENTRY__||{extensions:{},hub:void 0},k}function wo(t){const e=xn(),n=$s(e);return wc(e,t),n}function at(){const t=xn();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return ip(t)}function _i(){return at().getIsolationScope()}function ip(t=xn()){return(!op(t)||$s(t).isOlderThan(vc))&&wc(t,new Ic),$s(t)}function op(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function $s(t){return it("hub",()=>new Ic,t)}function wc(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function Tt(t){return at().getScope().getTransaction()}let ko=!1;function ap(){ko||(ko=!0,Ua(Ps),ja(Ps))}function Ps(){const t=Tt();if(t){const e="internal_error";P&&h.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Ps.tag="sentry_tracingErrorCallback";var Co;(function(t){const e="ok";t.Ok=e;const n="deadline_exceeded";t.DeadlineExceeded=n;const r="unauthenticated";t.Unauthenticated=r;const s="permission_denied";t.PermissionDenied=s;const i="not_found";t.NotFound=i;const o="resource_exhausted";t.ResourceExhausted=o;const a="invalid_argument";t.InvalidArgument=a;const c="unimplemented";t.Unimplemented=c;const u="unavailable";t.Unavailable=u;const l="internal_error";t.InternalError=l;const d="unknown_error";t.UnknownError=d;const p="cancelled";t.Cancelled=p;const f="already_exists";t.AlreadyExists=f;const m="failed_precondition";t.FailedPrecondition=m;const _="aborted";t.Aborted=_;const S="out_of_range";t.OutOfRange=S;const g="data_loss";t.DataLoss=g})(Co||(Co={}));function cp(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Si(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=cp(e);n!=="unknown_error"&&t.setStatus(n)}function on(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=rn(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function kc(t){if(!on())return;const e=lp(t),n=at(),r=t.scope?t.scope.getSpan():yi();if(t.onlyIfParent&&!r)return;const o=(t.scope||sn()).clone();return up(n,{parentSpan:r,spanContext:e,forceTransaction:t.forceTransaction,scope:o})}function yi(){return sn().getSpan()}function up(t,{parentSpan:e,spanContext:n,forceTransaction:r,scope:s}){if(!on())return;const i=_i();let o;if(e&&!r)o=e.startChild(n);else if(e){const a=qt(e),{traceId:c,spanId:u}=e.spanContext(),l=mi(e);o=t.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...i.getPropagationContext(),...s.getPropagationContext()};o=t.startTransaction({traceId:a,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return s.setSpan(o),dp(o,s,i),o}function lp(t){if(t.startTime){const e={...t};return e.startTimestamp=Or(t.startTime),delete e.startTime,e}return t}const Cc="_sentryScope",xc="_sentryIsolationScope";function dp(t,e,n){t&&($e(t,xc,n),$e(t,Cc,e))}function fp(t){return{scope:t[Cc],isolationScope:t[xc]}}const tt="sentry.source",At="sentry.sample_rate",zn="sentry.op",Nt="sentry.origin",pp="profile_id";class Rc{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Dr{constructor(e={}){this._traceId=e.traceId||v(),this._spanId=e.spanId||v().substring(16),this._startTime=e.startTimestamp||_e(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Nt]:e.origin||"manual",[zn]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[zn]}set op(e){this.setAttribute(zn,e)}get origin(){return this._attributes[Nt]}set origin(e){this.setAttribute(Nt,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?Tc:Vf}}startChild(e){const n=new Dr({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=dr(this);if(n.transaction=r,P&&r){const s=e&&e.op||"< unknown op >",i=se(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;h.log(a),this._logMessage=a}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return Si(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=dr(this);if(P&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&h.log(r.replace("Starting","Finishing"))}this._endTime=Or(e)}toTraceparent(){return Nr(this)}toContext(){return O({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return hi(this)}getSpanJSON(){return O({data:this._getData(),description:this._name,op:this._attributes[zn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Nt],_metrics_summary:void 0,profile_id:this._attributes[pp],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,r=Object.keys(e).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?{...e,...n}:r?e:n}}class Mc extends Dr{constructor(e,n){super(e),this._contexts={},this._hub=n||at(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[tt]&&{source:this._attributes[tt]},...this._attributes[At]&&{sampleRate:this._attributes[At]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(tt,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Rc(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,r=""){this._measurements[e]={value:n,unit:r}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=Or(e),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const e=super.toContext();return O({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return qt(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(P&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){P&&h.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&se(l).timestamp):[];if(this._trimEnd&&r.length>0){const l=r.map(d=>se(d).timestamp).filter(Boolean);this._endTime=l.reduce((d,p)=>d>p?d:p)}const{scope:s,isolationScope:i}=fp(this),{metadata:o}=this,{source:a}=o,c={contexts:{...this._contexts,trace:hi(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:s,capturedSpanIsolationScope:i,...O({dynamicSamplingContext:qt(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(P&&h.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),P&&h.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const nr={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},hp="finishReason",kt=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class mp extends Rc{constructor(e,n,r,s){super(s),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=r}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const n=e.end;e.end=(...r)=>(this._popActivity(e.spanContext().spanId),n.apply(e,r)),se(e).timestamp===void 0&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class gp extends Mc{constructor(e,n,r=nr.idleTimeout,s=nr.finalTimeout,i=nr.heartbeatInterval,o=!1,a=!1){super(e,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=kt[4],this._autoFinishAllowed=!a,o&&(P&&h.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=kt[3],this.end())},this._finalTimeout)}end(e){const n=Or(e);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(hp,this._finishReason),this.spanRecorder){P&&h.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;se(r).timestamp||(r.setStatus("cancelled"),r.end(n),P&&h.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:s,timestamp:i}=se(r),o=s&&s<n,a=(this._finalTimeout+this._idleTimeout)/1e3,c=i&&s&&i-s<a;if(P){const u=JSON.stringify(r,void 0,2);o?c||h.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):h.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return o&&c}),P&&h.log("[Tracing] flushing IdleTransaction")}else P&&h.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new mp(n,r,this.spanContext().spanId,e),P&&h.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=kt[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(P&&h.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=kt[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),P&&h.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,P&&h.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(P&&h.log(`[Tracing] popActivity ${e}`),delete this.activities[e],P&&h.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=_e();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=kt[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(P&&h.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=kt[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){P&&h.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Ac(t,e,n){if(!on(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(At,Number(t.sampled)),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setAttribute(At,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate<"u"?(r=e.tracesSampleRate,t.setAttribute(At,Number(r))):(r=1,t.setAttribute(At,r)),Nc(r)?r?(t.sampled=Math.random()<r,t.sampled?(P&&h.log(`[Tracing] starting ${t.op} transaction - ${se(t).description}`),t):(P&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(P&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(P&&h.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Nc(t){return xa(t)||!(typeof t=="number"||typeof t=="boolean")?(P&&h.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(P&&h.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function _p(){const e=this.getScope().getSpan();return e?{"sentry-trace":Nr(e)}:{}}function Sp(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=t.instrumenter||"sentry";s!==i&&(P&&h.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),t.sampled=!1);let o=new Mc(t,this);return o=Ac(o,r,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function Oc(t,e,n,r,s,i,o,a=!1){const c=t.getClient(),u=c&&c.getOptions()||{};let l=new gp(e,t,n,r,o,s,a);return l=Ac(l,u,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...i}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function yp(){const t=xn();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=Sp),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=_p),ap())}function bp(t,e,n){const r=Tt();r&&r.setMeasurement(t,e,n)}function Ep(t,e){const n={sent_at:new Date().toISOString()};e&&(n.dsn=en(e));const r=t.map(Tp);return ot(n,r)}function Tp(t){return[{type:"span"},t]}const V=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,x=k;function vp(){x.document?x.document.addEventListener("visibilitychange",()=>{const t=Tt();if(x.document.hidden&&t){const e="cancelled",{op:n,status:r}=se(t);V&&h.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}}):V&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Rn=(t,e,n)=>{let r,s;return i=>{e.value>=0&&(i||n)&&(s=e.value-(r||0),(s||r===void 0)&&(r=e.value,e.delta=s,t(e)))}},Ip=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,wp=()=>{const t=x.performance.timing,e=x.performance.navigation.type,n={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(const r in t)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(t[r]-t.navigationStart,0));return n},Lr=()=>x.__WEB_VITALS_POLYFILL__?x.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||wp()):x.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],bi=()=>{const t=Lr();return t&&t.activationStart||0},Mn=(t,e)=>{const n=Lr();let r="navigate";return n&&(x.document&&x.document.prerendering||bi()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:Ip(),navigationType:r}},an=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(s=>{e(s.getEntries())});return r.observe({type:t,buffered:!0,...n}),r}}catch{}},An=(t,e)=>{const n=r=>{(r.type==="pagehide"||x.document.visibilityState==="hidden")&&(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};x.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},kp=(t,e={})=>{const n=Mn("CLS",0);let r,s=0,i=[];const o=c=>{c.forEach(u=>{if(!u.hadRecentInput){const l=i[0],d=i[i.length-1];s&&i.length!==0&&u.startTime-d.startTime<1e3&&u.startTime-l.startTime<5e3?(s+=u.value,i.push(u)):(s=u.value,i=[u]),s>n.value&&(n.value=s,n.entries=i,r&&r())}})},a=an("layout-shift",o);if(a){r=Rn(t,n,e.reportAllChanges);const c=()=>{o(a.takeRecords()),r(!0)};return An(c),c}};let fr=-1;const Cp=()=>{x.document&&x.document.visibilityState&&(fr=x.document.visibilityState==="hidden"&&!x.document.prerendering?0:1/0)},xp=()=>{An(({timeStamp:t})=>{fr=t},!0)},Ei=()=>(fr<0&&(Cp(),xp()),{get firstHiddenTime(){return fr}}),Rp=t=>{const e=Ei(),n=Mn("FID");let r;const s=a=>{a.startTime<e.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=an("first-input",i);r=Rn(t,n),o&&An(()=>{i(o.takeRecords()),o.disconnect()},!0)};let Dc=0,is=1/0,qn=0;const Mp=t=>{t.forEach(e=>{e.interactionId&&(is=Math.min(is,e.interactionId),qn=Math.max(qn,e.interactionId),Dc=qn?(qn-is)/7+1:0)})};let Fs;const Ap=()=>Fs?Dc:performance.interactionCount||0,Np=()=>{"interactionCount"in performance||Fs||(Fs=an("event",Mp,{type:"event",buffered:!0,durationThreshold:0}))},Lc=()=>Ap(),xo=10,He=[],os={},Ro=t=>{const e=He[He.length-1],n=os[t.interactionId];if(n||He.length<xo||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{const r={id:t.interactionId,latency:t.duration,entries:[t]};os[r.id]=r,He.push(r)}He.sort((r,s)=>s.latency-r.latency),He.splice(xo).forEach(r=>{delete os[r.id]})}},Op=()=>{const t=Math.min(He.length-1,Math.floor(Lc()/50));return He[t]},Dp=(t,e)=>{e=e||{},Np();const n=Mn("INP");let r;const s=o=>{o.forEach(c=>{c.interactionId&&Ro(c),c.entryType==="first-input"&&!He.some(l=>l.entries.some(d=>c.duration===d.duration&&c.startTime===d.startTime))&&Ro(c)});const a=Op();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=an("event",s,{durationThreshold:e.durationThreshold||40});r=Rn(t,n,e.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),An(()=>{s(i.takeRecords()),n.value<0&&Lc()>0&&(n.value=0,n.entries=[]),r(!0)}))},Mo={},Lp=t=>{const e=Ei(),n=Mn("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-bi(),0);c<e.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=an("largest-contentful-paint",s);if(i){r=Rn(t,n);const o=()=>{Mo[n.id]||(s(i.takeRecords()),i.disconnect(),Mo[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{x.document&&addEventListener(a,o,{once:!0,capture:!0})}),An(o,!0),o}},Bs=t=>{x.document&&(x.document.prerendering?addEventListener("prerenderingchange",()=>Bs(t),!0):x.document.readyState!=="complete"?addEventListener("load",()=>Bs(t),!0):setTimeout(t,0))},$p=(t,e)=>{e=e||{};const n=Mn("TTFB"),r=Rn(t,n,e.reportAllChanges);Bs(()=>{const s=Lr();if(s){if(n.value=Math.max(s.responseStart-bi(),0),n.value<0||n.value>performance.now())return;n.entries=[s],r(!0)}})},gn={},pr={};let $c,Pc,Fc,Bc,Hc;function Pp(t,e=!1){return Nn("cls",t,Up,$c,e)}function Uc(t,e=!1){return Nn("lcp",t,zp,Fc,e)}function Fp(t){return Nn("ttfb",t,qp,Bc)}function Bp(t){return Nn("fid",t,jp,Pc)}function Hp(t){return Nn("inp",t,Wp,Hc)}function Wt(t,e){return jc(t,e),pr[t]||(Gp(t),pr[t]=!0),zc(t,e)}function cn(t,e){const n=gn[t];if(!(!n||!n.length))for(const r of n)try{r(e)}catch(s){V&&h.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${We(r)}
Error:`,s)}}function Up(){return kp(t=>{cn("cls",{metric:t}),$c=t},{reportAllChanges:!0})}function jp(){return Rp(t=>{cn("fid",{metric:t}),Pc=t})}function zp(){return Lp(t=>{cn("lcp",{metric:t}),Fc=t})}function qp(){return $p(t=>{cn("ttfb",{metric:t}),Bc=t})}function Wp(){return Dp(t=>{cn("inp",{metric:t}),Hc=t})}function Nn(t,e,n,r,s=!1){jc(t,e);let i;return pr[t]||(i=n(),pr[t]=!0),r&&e({metric:r}),zc(t,e,s?i:void 0)}function Gp(t){const e={};t==="event"&&(e.durationThreshold=0),an(t,n=>{cn(t,{entries:n})},e)}function jc(t,e){gn[t]=gn[t]||[],gn[t].push(e)}function zc(t,e,n){return()=>{n&&n();const r=gn[t];if(!r)return;const s=r.indexOf(e);s!==-1&&r.splice(s,1)}}function as(t){return typeof t=="number"&&isFinite(t)}function Gt(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}const Yp=2147483647;function ne(t){return t/1e3}function Ti(){return x&&x.addEventListener&&x.performance}let Ao=0,J={},xe,_n;function Vp(){const t=Ti();if(t&&ge){t.mark&&x.performance.mark("sentry-tracing-init");const e=eh(),n=Zp(),r=Qp(),s=th();return()=>{e(),n(),r(),s()}}return()=>{}}function Kp(){Wt("longtask",({entries:t})=>{for(const e of t){const n=Tt();if(!n)return;const r=ne(ge+e.startTime),s=ne(e.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function Xp(){Wt("event",({entries:t})=>{for(const e of t){const n=Tt();if(!n)return;if(e.name==="click"){const r=ne(ge+e.startTime),s=ne(e.duration),i={description:st(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=Aa(e.target);o&&(i.attributes={"ui.component_name":o}),n.startChild(i)}}})}function Jp(t,e){if(Ti()&&ge){const r=nh(t,e);return()=>{r()}}return()=>{}}function Zp(){return Pp(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(V&&h.log("[Measurements] Adding CLS"),J.cls={value:t.value,unit:""},_n=e)},!0)}function Qp(){return Uc(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(V&&h.log("[Measurements] Adding LCP"),J.lcp={value:t.value,unit:"millisecond"},xe=e)},!0)}function eh(){return Bp(({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=ne(ge),r=ne(e.startTime);V&&h.log("[Measurements] Adding FID"),J.fid={value:t.value,unit:"millisecond"},J["mark.fid"]={value:n+r,unit:"second"}})}function th(){return Fp(({metric:t})=>{t.entries[t.entries.length-1]&&(V&&h.log("[Measurements] Adding TTFB"),J.ttfb={value:t.value,unit:"millisecond"})})}const No={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function nh(t,e){return Hp(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(b=>b.duration===n.value&&No[b.name]!==void 0),s=rn();if(!r||!s)return;const i=No[r.name],o=s.getOptions(),a=ne(ge+r.startTime),c=ne(n.value),u=r.interactionId!==void 0?t[r.interactionId]:void 0;if(u===void 0)return;const{routeName:l,parentContext:d,activeTransaction:p,user:f,replayId:m}=u,_=f!==void 0?f.email||f.id||f.ip_address:void 0,S=p!==void 0?p.getProfileId():void 0,g=new Dr({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${i}`,name:st(r.target),attributes:{release:o.release,environment:o.environment,transaction:l,..._!==void 0&&_!==""?{user:_}:{},...S!==void 0?{profile_id:S}:{},...m!==void 0?{replay_id:m}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=dh(d,o,e);if(y&&Math.random()<y){const b=g?Ep([g],s.getDsn()):void 0,C=s&&s.getTransport();C&&b&&C.send(b).then(null,I=>{V&&h.error("Error while sending interaction:",I)});return}})}function rh(t){const e=Ti();if(!e||!x.performance.getEntries||!ge)return;V&&h.log("[Tracing] Adding & adjusting spans using Performance API");const n=ne(ge),r=e.getEntries(),{op:s,start_timestamp:i}=se(t);if(r.slice(Ao).forEach(o=>{const a=ne(o.startTime),c=ne(o.duration);if(!(t.op==="navigation"&&i&&n+a<i))switch(o.entryType){case"navigation":{ih(t,o,n);break}case"mark":case"paint":case"measure":{sh(t,o,a,c,n);const u=Ei(),l=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&l&&(V&&h.log("[Measurements] Adding FP"),J.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&(V&&h.log("[Measurements] Adding FCP"),J.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{ah(t,o,o.name,a,c,n);break}}}),Ao=Math.max(r.length-1,0),ch(t),s==="pageload"){lh(J),["fcp","fp","lcp"].forEach(a=>{if(!J[a]||!i||n>=i)return;const c=J[a].value,u=n+ne(c),l=Math.abs((u-i)*1e3),d=l-c;V&&h.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),J[a].value=l});const o=J["mark.fid"];o&&J.fid&&(Gt(t,{description:"first input delay",endTimestamp:o.value+ne(J.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete J["mark.fid"]),"fcp"in J||delete J.cls,Object.keys(J).forEach(a=>{bp(a,J[a].value,J[a].unit)}),uh(t)}xe=void 0,_n=void 0,J={}}function sh(t,e,n,r,s){const i=s+n,o=i+r;return Gt(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function ih(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Wn(t,e,r,n)}),Wn(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),Wn(t,e,"fetch",n,"cache","domainLookupStart"),Wn(t,e,"domainLookup",n,"DNS"),oh(t,e,n)}function Wn(t,e,n,r,s,i){const o=i?e[i]:e[`${n}End`],a=e[`${n}Start`];!a||!o||Gt(t,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+ne(a),endTimestamp:r+ne(o)})}function oh(t,e,n){e.responseEnd&&(Gt(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ne(e.requestStart),endTimestamp:n+ne(e.responseEnd)}),Gt(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ne(e.responseStart),endTimestamp:n+ne(e.responseEnd)}))}function ah(t,e,n,r,s,i){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const o=ht(n),a={};cs(a,e,"transferSize","http.response_transfer_size"),cs(a,e,"encodedBodySize","http.response_content_length"),cs(a,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(a["resource.render_blocking_status"]=e.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(x.location.origin);const c=i+r,u=c+s;Gt(t,{description:n.replace(x.location.origin,""),endTimestamp:u,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function ch(t){const e=x.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),as(n.rtt)&&(J["connection.rtt"]={value:n.rtt,unit:"millisecond"})),as(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),as(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function uh(t){xe&&(V&&h.log("[Measurements] Adding LCP Data"),xe.element&&t.setTag("lcp.element",st(xe.element)),xe.id&&t.setTag("lcp.id",xe.id),xe.url&&t.setTag("lcp.url",xe.url.trim().slice(0,200)),t.setTag("lcp.size",xe.size)),_n&&_n.sources&&(V&&h.log("[Measurements] Adding CLS Data"),_n.sources.forEach((e,n)=>t.setTag(`cls.source.${n+1}`,st(e.node))))}function cs(t,e,n,r){const s=e[n];s!=null&&s<Yp&&(t[r]=s)}function lh(t){const e=Lr();if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(V&&h.log("[Measurements] Adding TTFB Request Time"),t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function dh(t,e,n){if(!on(e))return!1;let r;return t!==void 0&&typeof e.tracesSampler=="function"?r=e.tracesSampler({transactionContext:t,name:t.name,parentSampled:t.parentSampled,attributes:{...t.data,...t.attributes},location:x.location}):t!==void 0&&t.sampled!==void 0?r=t.sampled:typeof e.tracesSampleRate<"u"?r=e.tracesSampleRate:r=1,Nc(r)?r===!0?n:r===!1?0:r*n:(V&&h.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function fh(t,e,n,r,s="auto.http.browser"){if(!on()||!t.fetchData)return;const i=e(t.fetchData.url);if(t.endTimestamp&&i){const f=t.fetchData.__span;if(!f)return;const m=r[f];m&&(mh(m,t),delete r[f]);return}const o=sn(),a=rn(),{method:c,url:u}=t.fetchData,l=hh(u),d=l?ht(l).host:void 0,p=i?kc({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":d,[Nt]:s},op:"http.client"}):void 0;if(p&&(t.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p),n(t.fetchData.url)&&a){const f=t.args[0];t.args[1]=t.args[1]||{};const m=t.args[1];m.headers=ph(f,a,o,m,p)}return p}function ph(t,e,n,r,s){const i=s||n.getSpan(),o=_i(),{traceId:a,spanId:c,sampled:u,dsc:l}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?Nr(i):ui(a,c,u),p=Ja(l||(i?qt(i):gi(a,e,n))),f=r.headers||(typeof Request<"u"&&qe(t,Request)?t.headers:void 0);if(f)if(typeof Headers<"u"&&qe(f,Headers)){const m=new Headers(f);return m.append("sentry-trace",d),p&&m.append(As,p),m}else if(Array.isArray(f)){const m=[...f,["sentry-trace",d]];return p&&m.push([As,p]),m}else{const m="baggage"in f?f.baggage:void 0,_=[];return Array.isArray(m)?_.push(...m):m&&_.push(m),p&&_.push(p),{...f,"sentry-trace":d,baggage:_.length>0?_.join(","):void 0}}else return{"sentry-trace":d,baggage:p}}function hh(t){try{return new URL(t).href}catch{return}}function mh(t,e){if(e.response){Si(t,e.response.status);const n=e.response&&e.response.headers&&e.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&t.setAttribute("http.response_content_length",r)}}else e.error&&t.setStatus("internal_error");t.end()}const Hs=["localhost",/^\/(?!\/)/],Us={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Hs,tracePropagationTargets:Hs};function gh(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:Us.traceFetch,traceXHR:Us.traceXHR,...t},a=typeof i=="function"?i:l=>!0,c=l=>bh(l,r||s),u={};e&&oi(l=>{const d=fh(l,a,c,u);if(d){const p=qc(l.fetchData.url),f=p?ht(p).host:void 0;d.setAttributes({"http.url":p,"server.address":f})}o&&d&&Oo(d)}),n&&ai(l=>{const d=Eh(l,a,c,u);o&&d&&Oo(d)})}function _h(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function Oo(t){const{url:e}=se(t).data||{};if(!e||typeof e!="string")return;const n=Wt("resource",({entries:r})=>{r.forEach(s=>{_h(s)&&s.name.endsWith(e)&&(yh(s).forEach(o=>t.setAttribute(...o)),setTimeout(n))})})}function Sh(t){let e="unknown",n="unknown",r="";for(const s of t){if(s==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(s))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=s}return r===t&&(e=r),{name:e,version:n}}function Ce(t=0){return((ge||performance.timeOrigin)+t)/1e3}function yh(t){const{name:e,version:n}=Sh(t.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",e]),ge?[...r,["http.request.redirect_start",Ce(t.redirectStart)],["http.request.fetch_start",Ce(t.fetchStart)],["http.request.domain_lookup_start",Ce(t.domainLookupStart)],["http.request.domain_lookup_end",Ce(t.domainLookupEnd)],["http.request.connect_start",Ce(t.connectStart)],["http.request.secure_connection_start",Ce(t.secureConnectionStart)],["http.request.connection_end",Ce(t.connectEnd)],["http.request.request_start",Ce(t.requestStart)],["http.request.response_start",Ce(t.responseStart)],["http.request.response_end",Ce(t.responseEnd)]]:r}function bh(t,e){return Zt(t,e||Hs)}function Eh(t,e,n,r){const s=t.xhr,i=s&&s[et];if(!on()||!s||s.__sentry_own_request__||!i)return;const o=e(i.url);if(t.endTimestamp&&o){const f=s.__sentry_xhr_span_id__;if(!f)return;const m=r[f];m&&i.status_code!==void 0&&(Si(m,i.status_code),m.end(),delete r[f]);return}const a=sn(),c=_i(),u=qc(i.url),l=u?ht(u).host:void 0,d=o?kc({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":l,[Nt]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const p=rn();if(s.setRequestHeader&&n(i.url)&&p){const{traceId:f,spanId:m,sampled:_,dsc:S}={...c.getPropagationContext(),...a.getPropagationContext()},g=d?Nr(d):ui(f,m,_),y=Ja(S||(d?qt(d):gi(f,p,a)));Th(s,g,y)}return d}function Th(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(As,n)}catch{}}function qc(t){try{return new URL(t,x.location.origin).href}catch{return}}const vh="BrowserTracing",Ih={...nr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Us},Do=(t={})=>{const e=V?!!(t.tracePropagationTargets||t.tracingOrigins):!1;yp(),!t.tracePropagationTargets&&t.tracingOrigins&&(t.tracePropagationTargets=t.tracingOrigins);const n={...Ih,...t},r=Vp(),s={};n.enableInp&&Jp(s,n.interactionsSampleRate),n.enableLongTask&&Kp(),n._experiments.enableInteractions&&Xp();const i={name:void 0,context:void 0};function o(a){const c=at(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:d,heartbeatInterval:p}=n,f=a.op==="pageload";let m;if(f){const y=f?Lo("sentry-trace"):"",b=f?Lo("baggage"):void 0,{traceId:C,dsc:I,parentSpanId:T,sampled:R}=gd(y,b);m={traceId:C,parentSpanId:T,parentSampled:R,...a,metadata:{...a.metadata,dynamicSamplingContext:I},trimEnd:!0}}else m={trimEnd:!0,...a};const _=u?u(m):m;_.metadata=_.name!==m.name?{..._.metadata,source:"custom"}:_.metadata,i.name=_.name,i.context=_,_.sampled===!1&&V&&h.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),V&&h.log(`[Tracing] Starting ${_.op} transaction on scope`);const{location:S}=x,g=Oc(c,_,l,d,!0,{location:S},p,f);return f&&x.document&&(x.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(x.document.readyState)&&g.sendAutoFinishSignal()}),["interactive","complete"].includes(x.document.readyState)&&g.sendAutoFinishSignal()),g.registerBeforeFinishCallback(y=>{r(),rh(y)}),g}return{name:vh,setupOnce:()=>{},afterAllSetup(a){const c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:p,enableHTTPTimings:f,_experiments:m}=n,_=c&&c.tracePropagationTargets,S=_||n.tracePropagationTargets;V&&e&&_&&h.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g,y=x.location&&x.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{g&&(V&&h.log(`[Tracing] Finishing current transaction with op: ${se(g).op}`),g.end()),g=o({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{g&&(V&&h.log(`[Tracing] Finishing current transaction with op: ${se(g).op}`),g.end()),g=o({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&x.location){const b={name:x.location.pathname,startTimestamp:ge?ge/1e3:void 0,origin:"auto.pageload.browser",attributes:{[tt]:"url"}};wh(a,b)}n.instrumentNavigation&&a.emit&&x.location&&xr(({to:b,from:C})=>{if(C===void 0&&y&&y.indexOf(b)!==-1){y=void 0;return}if(C!==b){y=void 0;const I={name:x.location.pathname,origin:"auto.navigation.browser",attributes:{[tt]:"url"}};Wc(a,I)}}),u&&vp(),m.enableInteractions&&kh(n,i),n.enableInp&&xh(s,i),gh({traceFetch:l,traceXHR:d,tracePropagationTargets:S,shouldCreateSpanForRequest:p,enableHTTPTimings:f})},options:n}};function wh(t,e){if(!t.emit)return;t.emit("startPageLoadSpan",e);const n=yi();return(n&&se(n).op)==="pageload"?n:void 0}function Wc(t,e){if(!t.emit)return;t.emit("startNavigationSpan",e);const n=yi();return(n&&se(n).op)==="navigation"?n:void 0}function Lo(t){const e=_l(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function kh(t,e){let n;const r=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=t,a="ui.action.click",c=Tt();if(c&&c.op&&["navigation","pageload"].includes(c.op)){V&&h.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!e.name){V&&h.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:u}=x,l={name:e.name,op:a,trimEnd:!0,data:{[tt]:e.context?Rh(e.context):"url"}};n=Oc(at(),l,s,i,!0,{location:u},o)};["click"].forEach(s=>{x.document&&addEventListener(s,r,{once:!1,capture:!0})})}function Ch(t){return"duration"in t}const $o=10;function xh(t,e){const n=({entries:r})=>{const s=rn(),i=s!==void 0&&s.getIntegrationByName!==void 0?s.getIntegrationByName("Replay"):void 0,o=i!==void 0?i.getReplayId():void 0,a=Tt(),c=sn(),u=c!==void 0?c.getUser():void 0;r.forEach(l=>{if(Ch(l)){const d=l.interactionId;if(d===void 0)return;const p=t[d],f=l.duration,m=l.startTime,_=Object.keys(t),S=_.length>0?_.reduce((g,y)=>t[g].duration<t[y].duration?g:y):void 0;if(l.entryType==="first-input"&&_.map(y=>t[y]).some(y=>y.duration===f&&y.startTime===m)||!d)return;if(p)p.duration=Math.max(p.duration,f);else if(_.length<$o||S===void 0||f>t[S].duration){const g=e.name,y=e.context;g&&y&&(S&&Object.keys(t).length>=$o&&delete t[S],t[d]={routeName:g,duration:f,parentContext:y,user:u,activeTransaction:a,replayId:o,startTime:m})}}})};Wt("event",n),Wt("first-input",n)}function Rh(t){const e=t.attributes&&t.attributes[tt],n=t.data&&t.data[tt],r=t.metadata&&t.metadata.source;return e||n||r}const U=k;let js=0;function Gc(){return js>0}function Mh(){js++,setTimeout(()=>{js--})}function Yt(t,e={},n){if(typeof t!="function")return t;try{const s=t.__sentry_wrapped__;if(s)return typeof s=="function"?s:t;if(ii(t))return t}catch{return t}const r=function(){const s=Array.prototype.slice.call(arguments);try{const i=s.map(o=>Yt(o,e));return t.apply(this,i)}catch(i){throw Mh(),oc(o=>{o.addEventProcessor(a=>(e.mechanism&&(Es(a,void 0),gt(a,e.mechanism)),a.extra={...a.extra,arguments:s},a)),fi(i)}),i}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch{}Oa(r,t),$e(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}const je=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Yc(t,e){const n=vi(t,e),r={type:e&&e.name,value:Dh(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Ah(t,e,n,r){const s=ae(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:Cr(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:Ph(e,{isUnhandledRejection:r})}]},extra:{__serialized__:Ya(e,i)}};if(n){const a=vi(t,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function us(t,e){return{exception:{values:[Yc(t,e)]}}}function vi(t,e){const n=e.stacktrace||e.stack||"",r=Oh(e);try{return t(n,r)}catch{}return[]}const Nh=/Minified React error #\d+;/i;function Oh(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Nh.test(t.message))return 1}return 0}function Dh(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Lh(t,e,n,r){const s=n&&n.syntheticException||void 0,i=Ii(t,e,s,r);return gt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),jt(i)}function $h(t,e,n="info",r,s){const i=r&&r.syntheticException||void 0,o=zs(t,e,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),jt(o)}function Ii(t,e,n,r,s){let i;if(ti(e)&&e.error)return us(t,e.error);if(qi(e)||cl(e)){const o=e;if("stack"in e)i=us(t,e);else{const a=o.name||(qi(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=zs(t,c,n,r),Es(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Pt(e)?us(t,e):Le(e)||Cr(e)?(i=Ah(t,e,n,s),gt(i,{synthetic:!0}),i):(i=zs(t,e,n,r),Es(i,`${e}`),gt(i,{synthetic:!0}),i)}function zs(t,e,n,r){const s={};if(r&&n){const i=vi(t,n);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]})}if(ni(e)){const{__sentry_template_string__:i,__sentry_template_values__:o}=e;return s.logentry={message:i,params:o},s}return s.message=e,s}function Ph(t,{isUnhandledRejection:e}){const n=kl(t),r=e?"promise rejection":"exception";return ti(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:Cr(t)?`Event \`${Fh(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Fh(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function Bh(t,{metadata:e,tunnel:n,dsn:r}){const s={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:en(r)}},i=Hh(t);return ot(s,[i])}function Hh(t){return[{type:"user_report"},t]}class Uh extends yf{constructor(e){const n=U.SENTRY_SDK_SOURCE||Zl();kf(e,"browser",["browser"],n),super(e),e.sendClientReports&&U.document&&U.document.addEventListener("visibilitychange",()=>{U.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return Lh(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return $h(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){je&&h.warn("SDK not enabled, will not capture user feedback.");return}const n=Bh(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){je&&h.log("No outcomes to send");return}if(!this._dsn){je&&h.log("No dsn provided, will not send outcomes");return}je&&h.log("Sending outcomes:",e);const n=Td(e,this._options.tunnel&&en(this._dsn));this._sendEnvelope(n)}}let mn;function jh(){if(mn)return mn;if(ws(U.fetch))return mn=U.fetch.bind(U);const t=U.document;let e=U.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){je&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return mn=e.bind(U)}function zh(){mn=void 0}function qh(t,e=jh()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{return e(t.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return zh(),n-=o,r--,ci(c)}}return bc(t,s)}const Wh=4;function Gh(t){function e(n){return new ce((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===Wh&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",t.url);for(const o in t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&i.setRequestHeader(o,t.headers[o]);i.send(n.body)})}return bc(t,e)}const $r="?",Yh=30,Vh=40,Kh=50;function wi(t,e,n,r){const s={filename:t,function:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Xh=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Jh=/\((\S*)(?::(\d+))(?::(\d+))\)/,Zh=t=>{const e=Xh.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const i=Jh.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}const[r,s]=Vc(e[1]||$r,e[2]);return wi(s,r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Qh=[Yh,Zh],em=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tm=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,nm=t=>{const e=em.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=tm.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],s=e[1]||$r;return[s,r]=Vc(s,r),wi(r,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},rm=[Kh,nm],sm=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,im=t=>{const e=sm.exec(t);return e?wi(e[2],e[1]||$r,+e[3],e[4]?+e[4]:void 0):void 0},om=[Vh,im],am=[Qh,rm,om],cm=$a(...am),Vc=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:$r,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Gn=1024,um="Breadcrumbs",lm=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:um,setupOnce(){},setup(n){e.console&&Pa(hm(n)),e.dom&&Ba(pm(n,e.dom)),e.xhr&&ai(mm(n)),e.fetch&&oi(gm(n)),e.history&&xr(_m(n)),e.sentry&&n.on&&n.on("beforeSendEvent",fm(n))}}},dm=lm;function fm(t){return function(n){ae()===t&&St({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Qe(n)},{event:n})}}function pm(t,e){return function(r){if(ae()!==t)return;let s,i,o=typeof e=="object"?e.serializeAttribute:void 0,a=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;a&&a>Gn&&(je&&h.warn(`\`dom.maxStringLength\` cannot exceed ${Gn}, but a value of ${a} was configured. Sentry will use ${Gn} instead.`),a=Gn),typeof o=="string"&&(o=[o]);try{const u=r.event,l=Sm(u)?u.target:u;s=st(l,{keyAttrs:o,maxStringLength:a}),i=Aa(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),St(c,{event:r.event,name:r.name,global:r.global})}}function hm(t){return function(n){if(ae()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Va(n.level),message:or(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${or(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;St(r,{input:n.args,level:n.level})}}function mm(t){return function(n){if(ae()!==t)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[et];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};St({category:"xhr",data:l,type:"http"},d)}}function gm(t){return function(n){if(ae()!==t)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};St({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s};St({category:"fetch",data:o,type:"http"},a)}}}function _m(t){return function(n){if(ae()!==t)return;let r=n.from,s=n.to;const i=ht(U.location.href);let o=r?ht(r):void 0;const a=ht(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),St({category:"navigation",data:{from:r,to:s}})}}function Sm(t){return!!t&&!!t.target}const ym="Dedupe",bm=()=>{let t;return{name:ym,setupOnce(){},processEvent(e){if(e.type)return e;try{if(Tm(e,t))return je&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},Em=bm;function Tm(t,e){return e?!!(vm(t,e)||Im(t,e)):!1}function vm(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Xc(t,e)||!Kc(t,e))}function Im(t,e){const n=Po(e),r=Po(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Xc(t,e)||!Kc(t,e))}function Kc(t,e){let n=Fo(t),r=Fo(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Xc(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Po(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Fo(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const wm="GlobalHandlers",km=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:wm,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(xm(n),Bo("onerror")),e.onunhandledrejection&&(Rm(n),Bo("onunhandledrejection"))}}},Cm=km;function xm(t){Ua(e=>{const{stackParser:n,attachStacktrace:r}=Zc();if(ae()!==t||Gc())return;const{msg:s,url:i,line:o,column:a,error:c}=e,u=c===void 0&&De(s)?Nm(s,i,o,a):Jc(Ii(n,c||s,void 0,r,!1),i,o,a);u.level="error",ic(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Rm(t){ja(e=>{const{stackParser:n,attachStacktrace:r}=Zc();if(ae()!==t||Gc())return;const s=Mm(e),i=ri(s)?Am(s):Ii(n,s,void 0,r,!0);i.level="error",ic(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Mm(t){if(ri(t))return t;const e=t;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return t}function Am(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function Nm(t,e,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=ti(t)?t.message:t,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),Jc({exception:{values:[{type:o,value:i}]}},e,n,r)}function Jc(t,e,n,r){const s=t.exception=t.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=De(e)&&e.length>0?e:Ma();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),t}function Bo(t){je&&h.log(`Global Handler attached: ${t}`)}function Zc(){const t=ae();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Om="HttpContext",Dm=()=>({name:Om,setupOnce(){},preprocessEvent(t){if(!U.navigator&&!U.location&&!U.document)return;const e=t.request&&t.request.url||U.location&&U.location.href,{referrer:n}=U.document||{},{userAgent:r}=U.navigator||{},s={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:s};t.request=i}}),Lm=Dm,$m="cause",Pm=5,Fm="LinkedErrors",Bm=(t={})=>{const e=t.limit||Pm,n=t.key||$m;return{name:Fm,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();pl(Yc,o.stackParser,o.maxValueLength,n,e,r,s)}}},Hm=Bm,Um=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],jm="TryCatch",zm=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:jm,setupOnce(){e.setTimeout&&re(U,"setTimeout",Ho),e.setInterval&&re(U,"setInterval",Ho),e.requestAnimationFrame&&re(U,"requestAnimationFrame",Wm),e.XMLHttpRequest&&"XMLHttpRequest"in U&&re(XMLHttpRequest.prototype,"send",Gm);const n=e.eventTarget;n&&(Array.isArray(n)?n:Um).forEach(Ym)}}},qm=zm;function Ho(t){return function(...e){const n=e[0];return e[0]=Yt(n,{mechanism:{data:{function:We(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Wm(t){return function(e){return t.apply(this,[Yt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:We(t)},handled:!1,type:"instrument"}})])}}function Gm(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&re(n,s,function(i){const o={mechanism:{data:{function:s,handler:We(i)},handled:!1,type:"instrument"}},a=ii(i);return a&&(o.mechanism.data.handler=We(a)),Yt(i,o)})}),t.apply(this,e)}}function Ym(t){const e=U,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(re(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Yt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:We(i),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Yt(i,{mechanism:{data:{function:"addEventListener",handler:We(i),target:t},handled:!1,type:"instrument"}}),o])}}),re(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,o)}catch{}return r.call(this,s,a,o)}}))}const Vm=[Af(),zf(),qm(),dm(),Cm(),Hm(),Em(),Lm()];function Qc(t){return[...Vm]}function Km(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=Qc()),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),U.SENTRY_RELEASE&&U.SENTRY_RELEASE.id&&(t.release=U.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e={...t,stackParser:xl(t.stackParser||cm),integrations:pf(t),transport:t.transport||(Ha()?qh:Gh)};Tf(Uh,e),t.autoSessionTracking&&Xm()}function Xm(){if(typeof U.document>"u"){je&&h.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}co({ignoreDuration:!0}),uo(),xr(({from:t,to:e})=>{t!==void 0&&t!==e&&(co({ignoreDuration:!0}),uo())})}const rr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ki="production";function eu(){return it("globalEventProcessors",()=>[])}function hr(t,e,n,r=0){return new ce((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o({...e},n);rr&&o.id&&a===null&&h.log(`Event processor "${o.id}" dropped event`),Pe(a)?a.then(c=>hr(t,c,n,r+1).then(s)).then(null,i):hr(t,a,n,r+1).then(s).then(null,i)}})}function Jm(t){const e=_e(),n={sid:v(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Qm(n)};return t&&Pr(n,t),n}function Pr(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||_e(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:v()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Zm(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Pr(t,n)}function Qm(t){return O({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const eg=1;function tg(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=yt(t);return O({data:r,op:s,parent_span_id:i,span_id:e,status:o,tags:a,trace_id:n,origin:c})}function yt(t){return ng(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function ng(t){return typeof t.getSpanJSON=="function"}function rg(t){const{traceFlags:e}=t.spanContext();return!!(e&eg)}function sg(t,e,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||v(),timestamp:e.timestamp||ye()},u=n.integrations||t.integrations.map(S=>S.name);ig(c,t),cg(c,u),e.type===void 0&&og(c,t.stackParser);const l=lg(r,n.captureContext);n.mechanism&&gt(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],p=Eg().getScopeData();if(i){const S=i.getScopeData();jo(p,S)}if(l){const S=l.getScopeData();jo(p,S)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),ru(c,p);const m=[...d,...eu(),...p.eventProcessors];return hr(m,c,n).then(S=>(S&&ag(S),typeof o=="number"&&o>0?ug(S,o,a):S))}function ig(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:ki),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=ze(t.message,i));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=ze(o.value,i));const a=t.request;a&&a.url&&(a.url=ze(a.url,i))}const Uo=new WeakMap;function og(t,e){const n=k._sentryDebugIds;if(!n)return;let r;const s=Uo.get(e);s?r=s:(r=new Map,Uo.set(e,r));const i=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=e(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){const d=c[l];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function ag(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function cg(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function ug(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:oe(s.data,e,n)}}))},...t.user&&{user:oe(t.user,e,n)},...t.contexts&&{contexts:oe(t.contexts,e,n)},...t.extra&&{extra:oe(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=oe(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>{const i=yt(s).data;return i&&(s.data=oe(i,e,n)),s})),r}function lg(t,e){if(!e)return t;const n=t?t.clone():new mr;return n.update(e),n}function tu(t,e){return un().captureException(t,void 0)}function dg(t,e){un().addBreadcrumb(t,e)}function fg(t,e){un().setContext(t,e)}function ke(){return un().getClient()}function Fr(){return un().getScope()}function nu(t){return t.transaction}function pg(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=O({environment:r.environment||ki,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function hg(t){const e=ke();if(!e)return{};const n=pg(yt(t).trace_id||"",e,Fr()),r=nu(t);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=yt(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(rg(r)),e.emit&&e.emit("createDsc",n),n}function ru(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;mg(t,e),r&&Sg(t,r),yg(t,n),gg(t,s),_g(t,i)}function jo(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:f,span:m}=e;pn(t,"extra",n),pn(t,"tags",r),pn(t,"user",s),pn(t,"contexts",i),pn(t,"sdkProcessingMetadata",a),o&&(t.level=o),f&&(t.transactionName=f),m&&(t.span=m),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...p}}function pn(t,e,n){if(n&&Object.keys(n).length){t[e]={...t[e]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[e][r]=n[r])}}function mg(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e,c=O(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const u=O(r);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const l=O(s);l&&Object.keys(l).length&&(t.user={...l,...t.user});const d=O(i);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts}),o&&(t.level=o),a&&(t.transaction=a)}function gg(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function _g(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function Sg(t,e){t.contexts={trace:tg(e),...t.contexts};const n=nu(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:hg(e),...t.sdkProcessingMetadata};const r=yt(n).description;r&&(t.tags={transaction:r,...t.tags})}}function yg(t,e){t.fingerprint=t.fingerprint?tn(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const bg=100;let ls,mr=class sr{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=zo()}static clone(e){return e?e.clone():new sr}clone(){const e=new sr;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Pr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof sr){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Le(n)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=zo(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:bg;if(r<=0)return this;const s={timestamp:ye(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:p,_span:f}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:p,span:f}}applyToEvent(e,n={},r=[]){ru(e,this.getScopeData());const s=[...r,...eu(),...this._eventProcessors];return hr(s,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:v();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:v();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:v();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};function Eg(){return ls||(ls=new mr),ls}function zo(){return{traceId:v(),spanId:v().substring(16)}}const Tg="7.120.4",su=parseFloat(Tg),vg=100;let iu=class{constructor(e,n,r,s=su){this._version=s;let i;n?i=n:(i=new mr,i.setClient(e));let o;r?o=r:(o=new mr,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(s){throw this.popScope(),s}return Pe(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:v(),s=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureMessage(e,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:v(),i=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s}),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:v();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=vg}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:ye(),...e},u=i?me(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=qo(this);try{e(this)}finally{qo(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return rr&&h.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return rr&&!r&&(this.getClient()?h.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):h.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Zm(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=ki}=r&&r.getOptions()||{},{userAgent:o}=k.navigator||{},a=Jm({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&Pr(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const s=Br().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);rr&&h.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function Br(){return k.__SENTRY__=k.__SENTRY__||{extensions:{},hub:void 0},k}function qo(t){const e=Br(),n=qs(e);return ou(e,t),n}function un(){const t=Br();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return wg(t)}function Ig(){return un().getIsolationScope()}function wg(t=Br()){return(!kg(t)||qs(t).isOlderThan(su))&&ou(t,new iu),qs(t)}function kg(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function qs(t){return it("hub",()=>new iu,t)}function ou(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}const Cg="sentry.source";function xg(t){const e=ke();!e||!e.addEventProcessor||e.addEventProcessor(t)}function Rg(t,e){const n=e&&Ng(e)?e.getClient():e,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return Ag(t,r)||Mg(t,s)}function Mg(t,e){return e?Wo(t)===Wo(e):!1}function Ag(t,e){return e?t.includes(e.host):!1}function Wo(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function Ng(t){return t.getClient!==void 0}const q=k,Ci="sentryReplaySession",Og="replay_event",xi="Unable to send Replay",Dg=3e5,Lg=9e5,$g=5e3,Pg=5500,Fg=6e4,Bg=5e3,Hg=3,Go=15e4,Yn=5e3,Ug=3e3,jg=300,Ri=2e7,zg=4999,qg=15e3,Yo=36e5;function Wg(t,e){return t??e()}function gr(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}var te;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(te||(te={}));function Gg(t){return t.nodeType===t.ELEMENT_NODE}function Sn(t){const e=gr([t,"optionalAccess",n=>n.host]);return gr([e,"optionalAccess",n=>n.shadowRoot])===t}function yn(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function Yg(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t}function Vg(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}function _r(t){try{const e=t.rules||t.cssRules;return e?Yg(Array.from(e,au).join("")):null}catch{return null}}function au(t){let e;if(Xg(t))try{e=_r(t.styleSheet)||Vg(t)}catch{}else if(Jg(t)&&t.selectorText.includes(":"))return Kg(t.cssText);return e||t.cssText}function Kg(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function Xg(t){return"styleSheet"in t}function Jg(t){return"selectorText"in t}class cu{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const n=gr([this,"access",r=>r.getMeta,"call",r=>r(e),"optionalAccess",r=>r.id]);return Wg(n,()=>-1)}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const r=n.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,n)}replace(e,n){const r=this.getNode(e);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Zg(){return new cu}function Hr({maskInputOptions:t,tagName:e,type:n}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||n&&t[n]||n==="password"||e==="INPUT"&&!n&&t.text)}function In({isMasked:t,element:e,value:n,maskInputFn:r}){let s=n||"";return t?(r&&(s=r(s,e)),"*".repeat(s.length)):s}function Vt(t){return t.toLowerCase()}function Ws(t){return t.toUpperCase()}const Vo="__rrweb_original__";function Qg(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let s=0;s<t.height;s+=n){const i=e.getImageData,o=Vo in i?i[Vo]:i;if(new Uint32Array(o.call(e,r,s,Math.min(n,t.width-r),Math.min(n,t.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Mi(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Vt(e):null}function Sr(t,e,n){return e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}let e_=1;const t_=new RegExp("[^a-z0-9-_:]"),wn=-2;function Ai(){return e_++}function n_(t){if(t instanceof HTMLFormElement)return"form";const e=Vt(t.tagName);return t_.test(e)?"div":e}function r_(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let Ct,Ko;const s_=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,i_=/^(?:[a-z+]+:)?\/\//i,o_=/^www\..*/i,a_=/^(data:)([^,]*),(.*)/i;function yr(t,e){return(t||"").replace(s_,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(i_.test(c)||o_.test(c))return`url(${u}${c}${u})`;if(a_.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${r_(e)+c}${u})`;const l=e.split("/"),d=c.split("/");l.pop();for(const p of d)p!=="."&&(p===".."?l.pop():l.push(p));return`url(${u}${l.join("/")}${u})`})}const c_=/^[^ \t\n\r\u000c]+/,u_=/^[, \t\n\r\u000c]+/;function l_(t,e){if(e.trim()==="")return e;let n=0;function r(i){let o;const a=i.exec(e.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(u_),!(n>=e.length);){let i=r(c_);if(i.slice(-1)===",")i=Ot(t,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Ot(t,i);let a=!1;for(;;){const c=e.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}function Ot(t,e){if(!e||e.trim()==="")return e;const n=t.createElement("a");return n.href=e,n.href}function d_(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Ni(){const t=document.createElement("a");return t.href="",t.href}function uu(t,e,n,r,s,i){return r&&(n==="src"||n==="href"&&!(e==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(e==="table"||e==="td"||e==="th")?Ot(t,r):n==="srcset"?l_(t,r):n==="style"?yr(r,Ni()):e==="object"&&n==="data"?Ot(t,r):typeof i=="function"?i(n,r,s):r)}function lu(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}function f_(t,e,n,r){try{if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let s=t.classList.length;s--;){const i=t.classList[s];if(e.test(i))return!0}if(n)return t.matches(n)}catch{}return!1}function p_(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}function pt(t,e,n=1/0,r=0){return!t||t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:pt(t.parentNode,e,n,r+1)}function Dt(t,e){return n=>{const r=n;if(r===null)return!1;try{if(t){if(typeof t=="string"){if(r.matches(`.${t}`))return!0}else if(p_(r,t))return!0}return!!(e&&r.matches(e))}catch{return!1}}}function Kt(t,e,n,r,s,i){try{const o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=pt(o,Dt(r,s)),c<0)return!0;a=pt(o,Dt(e,n),c>=0?c:1/0)}else{if(a=pt(o,Dt(e,n)),a<0)return!1;c=pt(o,Dt(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function h_(t,e,n){const r=t.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=setTimeout(()=>{s||(e(),s=!0)},n);t.addEventListener("load",()=>{clearTimeout(a),s=!0,e()});return}const o="about:blank";if(r.location.href!==o||t.src===o||t.src==="")return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function m_(t,e,n){let r=!1,s;try{s=t.sheet}catch{return}if(s)return;const i=setTimeout(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{clearTimeout(i),r=!0,e()})}function g_(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:m={},maskTextFn:_,maskInputFn:S,dataURLOptions:g={},inlineImages:y,recordCanvas:b,keepIframeSrcFn:C,newlyAddedElement:I=!1}=e,T=__(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:te.Document,childNodes:[],compatMode:t.compatMode}:{type:te.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:te.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:T};case t.ELEMENT_NODE:return y_(t,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:m,maskInputFn:S,dataURLOptions:g,inlineImages:y,recordCanvas:b,keepIframeSrcFn:C,newlyAddedElement:I,rootId:T,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p});case t.TEXT_NODE:return S_(t,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:_,maskInputOptions:m,maskInputFn:S,rootId:T});case t.CDATA_SECTION_NODE:return{type:te.CDATA,textContent:"",rootId:T};case t.COMMENT_NODE:return{type:te.Comment,textContent:t.textContent||"",rootId:T};default:return!1}}function __(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}function S_(t,e){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=e,d=t.parentNode&&t.parentNode.tagName;let p=t.textContent;const f=d==="STYLE"?!0:void 0,m=d==="SCRIPT"?!0:void 0,_=d==="TEXTAREA"?!0:void 0;if(f&&p){try{t.nextSibling||t.previousSibling||gr([t,"access",g=>g.parentNode,"access",g=>g.sheet,"optionalAccess",g=>g.cssRules])&&(p=_r(t.parentNode.sheet))}catch(g){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${g}`,t)}p=yr(p,Ni())}m&&(p="SCRIPT_PLACEHOLDER");const S=Kt(t,r,i,s,o,n);if(!f&&!m&&!_&&p&&S&&(p=a?a(p,t.parentElement):p.replace(/[\S]/g,"*")),_&&p&&(c.textarea||S)&&(p=u?u(p,t.parentNode):p.replace(/[\S]/g,"*")),d==="OPTION"&&p){const g=Hr({type:null,tagName:d,maskInputOptions:c});p=In({isMasked:Kt(t,r,i,s,o,g),element:t,value:p,maskInputFn:u})}return{type:te.Text,textContent:p||"",isStyle:f,rootId:l}}function y_(t,e){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:_,maskTextClass:S,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:b}=e,C=f_(t,r,s,i),I=n_(t);let T={};const R=t.attributes.length;for(let E=0;E<R;E++){const w=t.attributes[E];w.name&&!lu(I,w.name,w.value)&&(T[w.name]=uu(n,I,Vt(w.name),w.value,t,c))}if(I==="link"&&o){const E=Array.from(n.styleSheets).find(D=>D.href===t.href);let w=null;E&&(w=_r(E)),w&&(delete T.rel,delete T.href,T._cssText=yr(w,E.href))}if(I==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const E=_r(t.sheet);E&&(T._cssText=yr(E,Ni()))}if(I==="input"||I==="textarea"||I==="select"||I==="option"){const E=t,w=Mi(E),D=Sr(E,Ws(I),w),G=E.checked;if(w!=="submit"&&w!=="button"&&D){const ee=Kt(E,S,y,g,b,Hr({type:w,tagName:Ws(I),maskInputOptions:a}));T.value=In({isMasked:ee,element:E,value:D,maskInputFn:u})}G&&(T.checked=G)}if(I==="option"&&(t.selected&&!a.select?T.selected=!0:delete T.selected),I==="canvas"&&p){if(t.__context==="2d")Qg(t)||(T.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){const E=t.toDataURL(l.type,l.quality),w=document.createElement("canvas");w.width=t.width,w.height=t.height;const D=w.toDataURL(l.type,l.quality);E!==D&&(T.rr_dataURL=E)}}if(I==="img"&&d){Ct||(Ct=n.createElement("canvas"),Ko=Ct.getContext("2d"));const E=t,w=E.crossOrigin;E.crossOrigin="anonymous";const D=()=>{E.removeEventListener("load",D);try{Ct.width=E.naturalWidth,Ct.height=E.naturalHeight,Ko.drawImage(E,0,0),T.rr_dataURL=Ct.toDataURL(l.type,l.quality)}catch(G){console.warn(`Cannot inline img src=${E.currentSrc}! Error: ${G}`)}w?T.crossOrigin=w:E.removeAttribute("crossorigin")};E.complete&&E.naturalWidth!==0?D():E.addEventListener("load",D)}if((I==="audio"||I==="video")&&(T.rr_mediaState=t.paused?"paused":"played",T.rr_mediaCurrentTime=t.currentTime),m||(t.scrollLeft&&(T.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(T.rr_scrollTop=t.scrollTop)),C){const{width:E,height:w}=t.getBoundingClientRect();T={class:T.class,rr_width:`${E}px`,rr_height:`${w}px`}}I==="iframe"&&!f(T.src)&&(t.contentDocument||(T.rr_src=T.src),delete T.src);let M;try{customElements.get(I)&&(M=!0)}catch{}return{type:te.Element,tagName:I,attributes:T,childNodes:[],isSVG:d_(t)||void 0,needBlock:C,rootId:_,isCustom:M}}function z(t){return t==null?"":t.toLowerCase()}function b_(t,e){if(e.comment&&t.type===te.Comment)return!0;if(t.type===te.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(z(t.attributes.name).match(/^msapplication-tile(image|color)$/)||z(t.attributes.name)==="application-name"||z(t.attributes.rel)==="icon"||z(t.attributes.rel)==="apple-touch-icon"||z(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&z(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(z(t.attributes.property).match(/^(og|twitter|fb):/)||z(t.attributes.name).match(/^(og|twitter):/)||z(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(z(t.attributes.name)==="robots"||z(t.attributes.name)==="googlebot"||z(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(z(t.attributes.name)==="author"||z(t.attributes.name)==="generator"||z(t.attributes.name)==="framework"||z(t.attributes.name)==="publisher"||z(t.attributes.name)==="progid"||z(t.attributes.property).match(/^article:/)||z(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(z(t.attributes.name)==="google-site-verification"||z(t.attributes.name)==="yandex-verification"||z(t.attributes.name)==="csrf-token"||z(t.attributes.name)==="p:domain_verify"||z(t.attributes.name)==="verify-v1"||z(t.attributes.name)==="verification"||z(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Lt(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:m={},maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b={},inlineImages:C=!1,recordCanvas:I=!1,onSerialize:T,onIframeLoad:R,iframeLoadTimeout:M=5e3,onStylesheetLoad:E,stylesheetLoadTimeout:w=5e3,keepIframeSrcFn:D=()=>!1,newlyAddedElement:G=!1}=e;let{preserveWhiteSpace:ee=!0}=e;const ie=g_(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,dataURLOptions:b,inlineImages:C,recordCanvas:I,keepIframeSrcFn:D,newlyAddedElement:G});if(!ie)return console.warn(t,"not serialized"),null;let pe;r.hasNode(t)?pe=r.getId(t):b_(ie,y)||!ee&&ie.type===te.Text&&!ie.isStyle&&!ie.textContent.replace(/^\s+|\s+$/gm,"").length?pe=wn:pe=Ai();const H=Object.assign(ie,{id:pe});if(r.add(t,H),pe===wn)return null;T&&T(t);let Se=!p;if(H.type===te.Element){Se=Se&&!H.needBlock,delete H.needBlock;const Z=t.shadowRoot;Z&&yn(Z)&&(H.isShadowHost=!0)}if((H.type===te.Document||H.type===te.Element)&&Se){y.headWhitespace&&H.type===te.Element&&H.tagName==="head"&&(ee=!1);const Z={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:C,recordCanvas:I,preserveWhiteSpace:ee,onSerialize:T,onIframeLoad:R,iframeLoadTimeout:M,onStylesheetLoad:E,stylesheetLoadTimeout:w,keepIframeSrcFn:D};for(const fe of Array.from(t.childNodes)){const Ee=Lt(fe,Z);Ee&&H.childNodes.push(Ee)}if(Gg(t)&&t.shadowRoot)for(const fe of Array.from(t.shadowRoot.childNodes)){const Ee=Lt(fe,Z);Ee&&(yn(t.shadowRoot)&&(Ee.isShadow=!0),H.childNodes.push(Ee))}}return t.parentNode&&Sn(t.parentNode)&&yn(t.parentNode)&&(H.isShadow=!0),H.type===te.Element&&H.tagName==="iframe"&&h_(t,()=>{const Z=t.contentDocument;if(Z&&R){const fe=Lt(Z,{doc:Z,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:C,recordCanvas:I,preserveWhiteSpace:ee,onSerialize:T,onIframeLoad:R,iframeLoadTimeout:M,onStylesheetLoad:E,stylesheetLoadTimeout:w,keepIframeSrcFn:D});fe&&R(t,fe)}},M),H.type===te.Element&&H.tagName==="link"&&H.attributes.rel==="stylesheet"&&m_(t,()=>{if(E){const Z=Lt(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:C,recordCanvas:I,preserveWhiteSpace:ee,onSerialize:T,onIframeLoad:R,iframeLoadTimeout:M,onStylesheetLoad:E,stylesheetLoadTimeout:w,keepIframeSrcFn:D});Z&&E(t,Z)}},w),H}function E_(t,e){const{mirror:n=new cu,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:m=!1,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:C,onSerialize:I,onIframeLoad:T,iframeLoadTimeout:R,onStylesheetLoad:M,stylesheetLoadTimeout:E,keepIframeSrcFn:w=()=>!1}=e||{};return Lt(t,{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:y==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:y===!1?{}:y,dataURLOptions:b,inlineImages:p,recordCanvas:f,preserveWhiteSpace:C,onSerialize:I,onIframeLoad:T,iframeLoadTimeout:R,onStylesheetLoad:M,stylesheetLoadTimeout:E,keepIframeSrcFn:w,newlyAddedElement:!1})}function Ke(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}function de(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const Mt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Xo={map:{},getId(){return console.error(Mt),-1},getNode(){return console.error(Mt),null},removeNodeFromMap(){console.error(Mt)},has(){return console.error(Mt),!1},reset(){console.error(Mt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Xo=new Proxy(Xo,{get(t,e,n){return e==="map"&&console.error(Mt),Reflect.get(t,e,n)}}));function kn(t,e,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=e-(o-s),c=this;a<=0||a>e?(r&&(x_(r),r=null),s=o,t.apply(c,i)):!r&&n.trailing!==!1&&(r=Ur(()=>{s=n.leading===!1?0:Date.now(),r=null,t.apply(c,i)},a))}}function du(t,e,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,r?n:{set(o){Ur(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>du(t,e,i||{},!0)}function Oi(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=s,()=>{t[e]=r}}catch{return()=>{}}}let br=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(br=()=>new Date().getTime());function fu(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:Ke([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Ke([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Ke([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:Ke([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Ke([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Ke([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function pu(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function hu(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function mu(t){return t?t.nodeType===t.ELEMENT_NODE?t:t.parentElement:null}function Ie(t,e,n,r,s){if(!t)return!1;const i=mu(t);if(!i)return!1;const o=Dt(e,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=pt(i,o);let c=-1;return a<0?!1:(r&&(c=pt(i,Dt(null,r))),a>-1&&c<0?!0:a<c)}function T_(t,e){return e.getId(t)!==-1}function ds(t,e){return e.getId(t)===wn}function gu(t,e){if(Sn(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?gu(t.parentNode,e):!0:!0}function Gs(t){return!!t.changedTouches}function v_(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let n=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function _u(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function Su(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function Ys(t){return!!Ke([t,"optionalAccess",e=>e.shadowRoot])}class I_{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return kd(this.styleIDMap.get(e),()=>-1)}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function yu(t){let e=null;return Ke([t,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function w_(t){let e=t,n;for(;n=yu(e);)e=n;return e}function k_(t){const e=t.ownerDocument;if(!e)return!1;const n=w_(t);return e.contains(n)}function bu(t){const e=t.ownerDocument;return e?e.contains(t)||k_(t):!1}const Jo={};function Di(t){const e=Jo[t];if(e)return e;const n=window.document;let r=window[t];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(s)}catch{}return Jo[t]=r.bind(window)}function C_(...t){return Di("requestAnimationFrame")(...t)}function Ur(...t){return Di("setTimeout")(...t)}function x_(...t){return Di("clearTimeout")(...t)}var A=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(A||{}),N=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(N||{}),ue=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(ue||{}),Fe=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Fe||{});function R_(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}function Zo(t){return"__ln"in t}class M_{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=R_([n,"optionalAccess",s=>s.next])||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&Zo(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&Zo(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Qo=(t,e)=>`${t}@${e}`;class A_{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,r=new M_,s=c=>{let u=c,l=wn;for(;l===wn;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!bu(c))return;const u=Sn(c.parentNode)?this.mirror.getId(yu(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=Lt(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{_u(p,this.mirror)&&this.iframeManager.addIframe(p),Su(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Ys(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,f)=>{this.iframeManager.attachIframe(p,f),this.shadowDomManager.observeAttachShadow(p)},onStylesheetLoad:(p,f)=>{this.stylesheetManager.attachLinkElement(p,f)}});d&&(e.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)ea(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!ta(this.droppedSet,c)&&!ea(this.removes,c,this.mirror)||ta(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const f=l.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=f.parentNode.host;if(this.mirror.getId(m)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:e};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!ds(e.target,this.mirror))switch(e.type){case"characterData":{const n=e.target.textContent;!Ie(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==e.oldValue&&this.texts.push({value:Kt(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,mu(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,s=e.target.getAttribute(r);if(r==="value"){const o=Mi(n),a=n.tagName;s=Sr(n,a,o);const c=Hr({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=Kt(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=In({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Ie(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===e.oldValue)return;let i=this.attributeMap.get(e.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),r==="type"&&n.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!lu(n.tagName,r)&&(i.attributes[r]=uu(this.doc,Vt(n.tagName),Vt(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");e.oldValue&&o.setAttribute("style",e.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(Ie(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(n=>this.genAdds(n,e.target)),e.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Sn(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Ie(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ds(n,this.mirror)||!T_(n,this.mirror)||(this.addedSet.has(n)?(Vs(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(e.target)&&r===-1||gu(e.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Qo(r,s)]?Vs(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Sn(e.target)&&yn(e.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(ds(e,this.mirror))return;this.movedSet.add(e);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Qo(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Ie(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(r=>this.genAdds(r)),Ys(e)&&e.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Vs(t,e){t.delete(e),e.childNodes.forEach(n=>Vs(t,n))}function ea(t,e,n){return t.length===0?!1:Eu(t,e,n)}function Eu(t,e,n){const{parentNode:r}=e;if(!r)return!1;const s=n.getId(r);return t.some(i=>i.id===s)?!0:Eu(t,r,n)}function ta(t,e){return t.size===0?!1:Tu(t,e)}function Tu(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:Tu(t,n):!1}let bn;function N_(t){bn=t}function O_(){bn=void 0}const L=t=>bn?(...n)=>{try{return t(...n)}catch(r){if(bn&&bn(r)===!0)return()=>{};throw r}}:t;function Ae(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}const $t=[];function On(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function vu(t,e){const n=new A_;$t.push(n),n.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const s=Ae([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r(L(o=>{t.onMutation&&t.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return i.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function D_({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const s=typeof e.mousemove=="number"?e.mousemove:50,i=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let o=[],a;const c=kn(L(d=>{const p=Date.now()-a;t(o.map(f=>(f.timeOffset-=p,f)),d),o=[],a=null}),i),u=L(kn(L(d=>{const p=On(d),{clientX:f,clientY:m}=Gs(d)?d.changedTouches[0]:d;a||(a=br()),o.push({x:f,y:m,id:r.getId(p),timeOffset:br()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?N.Drag:d instanceof MouseEvent?N.MouseMove:N.TouchMove)}),s,{trailing:!1})),l=[de("mousemove",u,n),de("touchmove",u,n),de("drag",u,n)];return L(()=>{l.forEach(d=>d())})}function L_({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>p=>{const f=On(p);if(Ie(f,r,s,i,!0))return;let m=null,_=d;if("pointerType"in p){switch(p.pointerType){case"mouse":m=Fe.Mouse;break;case"touch":m=Fe.Touch;break;case"pen":m=Fe.Pen;break}m===Fe.Touch?ue[d]===ue.MouseDown?_="TouchStart":ue[d]===ue.MouseUp&&(_="TouchEnd"):Fe.Pen}else Gs(p)&&(m=Fe.Touch);m!==null?(u=m,(_.startsWith("Touch")&&m===Fe.Touch||_.startsWith("Mouse")&&m===Fe.Mouse)&&(m=null)):ue[d]===ue.Click&&(m=u,u=null);const S=Gs(p)?p.changedTouches[0]:p;if(!S)return;const g=n.getId(f),{clientX:y,clientY:b}=S;L(t)({type:ue[_],id:g,x:y,y:b,...m!==null&&{pointerType:m}})};return Object.keys(ue).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let p=Vt(d);const f=l(d);if(window.PointerEvent)switch(ue[d]){case ue.MouseDown:case ue.MouseUp:p=p.replace("mouse","pointer");break;case ue.TouchStart:case ue.TouchEnd:return}c.push(de(p,f,e))}),L(()=>{c.forEach(d=>d())})}function Iu({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=L(kn(L(c=>{const u=On(c);if(!u||Ie(u,r,s,i,!0))return;const l=n.getId(u);if(u===e&&e.defaultView){const d=fu(e.defaultView);t({id:l,x:d.left,y:d.top})}else t({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return de("scroll",a,e)}function $_({viewportResizeCb:t},{win:e}){let n=-1,r=-1;const s=L(kn(L(()=>{const i=pu(),o=hu();(n!==i||r!==o)&&(t({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return de("resize",s,e)}const P_=["INPUT","TEXTAREA","SELECT"],na=new WeakMap;function F_({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:_}){function S(R){let M=On(R);const E=R.isTrusted,w=M&&Ws(M.tagName);if(w==="OPTION"&&(M=M.parentElement),!M||!w||P_.indexOf(w)<0||Ie(M,r,s,i,!0))return;const D=M;if(D.classList.contains(o)||a&&D.matches(a))return;const G=Mi(M);let ee=Sr(D,w,G),ie=!1;const pe=Hr({maskInputOptions:c,tagName:w,type:G}),H=Kt(M,p,m,f,_,pe);(G==="radio"||G==="checkbox")&&(ie=M.checked),ee=In({isMasked:H,element:M,value:ee,maskInputFn:u}),g(M,d?{text:ee,isChecked:ie,userTriggered:E}:{text:ee,isChecked:ie});const Se=M.name;G==="radio"&&Se&&ie&&e.querySelectorAll(`input[type="radio"][name="${Se}"]`).forEach(Z=>{if(Z!==M){const fe=In({isMasked:H,element:Z,value:Sr(Z,w,G),maskInputFn:u});g(Z,d?{text:fe,isChecked:!ie,userTriggered:!1}:{text:fe,isChecked:!ie})}})}function g(R,M){const E=na.get(R);if(!E||E.text!==M.text||E.isChecked!==M.isChecked){na.set(R,M);const w=n.getId(R);L(t)({...M,id:w})}}const b=(l.input==="last"?["change"]:["input","change"]).map(R=>de(R,L(S),e)),C=e.defaultView;if(!C)return()=>{b.forEach(R=>R())};const I=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),T=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return I&&I.set&&b.push(...T.map(R=>du(R[0],R[1],{set(){L(S)({target:this,isTrusted:!1})}},!1,C))),L(()=>{b.forEach(R=>R())})}function Er(t){const e=[];function n(r,s){if(Vn("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Vn("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Vn("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Vn("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(t,e)}function Xe(t,e,n){let r,s;return t?(t.ownerNode?r=e.getId(t.ownerNode):s=n.getId(t),{styleId:s,id:r}):{}}function B_({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:L((l,d,p)=>{const[f,m]=p,{id:_,styleId:S}=Xe(d,e,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&t({id:_,styleId:S,adds:[{rule:f,index:m}]}),l.apply(d,p)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:L((l,d,p)=>{const[f]=p,{id:m,styleId:_}=Xe(d,e,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&t({id:m,styleId:_,removes:[{index:f}]}),l.apply(d,p)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:L((l,d,p)=>{const[f]=p,{id:m,styleId:_}=Xe(d,e,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&t({id:m,styleId:_,replace:f}),l.apply(d,p)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:L((l,d,p)=>{const[f]=p,{id:m,styleId:_}=Xe(d,e,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&t({id:m,styleId:_,replaceSync:f}),l.apply(d,p)})}));const c={};Kn("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Kn("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Kn("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Kn("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:L((p,f,m)=>{const[_,S]=m,{id:g,styleId:y}=Xe(f.parentStyleSheet,e,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&t({id:g,styleId:y,adds:[{rule:_,index:[...Er(f),S||0]}]}),p.apply(f,m)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:L((p,f,m)=>{const[_]=m,{id:S,styleId:g}=Xe(f.parentStyleSheet,e,n.styleMirror);return(S&&S!==-1||g&&g!==-1)&&t({id:S,styleId:g,removes:[{index:[...Er(f),_]}]}),p.apply(f,m)})})}),L(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function wu({mirror:t,stylesheetManager:e},n){let r=null;n.nodeName==="#document"?r=t.getId(n):r=t.getId(n.host);const s=n.nodeName==="#document"?Ae([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):Ae([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),i=Ae([s,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(Ae([s,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Ae([i,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=Ae([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,o)]);if(r!==null&&r!==-1)try{e.adoptStyleSheets(o,r)}catch{}return a}}),L(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function H_({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:L((a,c,u)=>{const[l,d,p]=u;if(n.has(l))return i.apply(c,[l,d,p]);const{id:f,styleId:m}=Xe(Ae([c,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),e,r.styleMirror);return(f&&f!==-1||m&&m!==-1)&&t({id:f,styleId:m,set:{property:l,value:d,priority:p},index:Er(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:L((a,c,u)=>{const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:p}=Xe(Ae([c,"access",f=>f.parentRule,"optionalAccess",f=>f.parentStyleSheet]),e,r.styleMirror);return(d&&d!==-1||p&&p!==-1)&&t({id:d,styleId:p,remove:{property:l},index:Er(c.parentRule)}),a.apply(c,u)})}),L(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function U_({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=L(u=>kn(L(l=>{const d=On(l);if(!d||Ie(d,e,n,r,!0))return;const{currentTime:p,volume:f,muted:m,playbackRate:_}=d;t({type:u,id:s.getId(d),currentTime:p,volume:f,muted:m,playbackRate:_})}),i.media||500)),c=[de("play",a(0),o),de("pause",a(1),o),de("seeked",a(2),o),de("volumechange",a(3),o),de("ratechange",a(4),o)];return L(()=>{c.forEach(u=>u())})}function j_({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=Oi(e.fonts,"add",function(a){return function(c){return Ur(L(()=>{const u=s.get(c);u&&(t(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),L(()=>{r.forEach(a=>a())})}function z_(t){const{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=t;let a=!0;const c=L(()=>{const u=e.getSelection();if(!u||a&&Ae([u,"optionalAccess",p=>p.isCollapsed]))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let p=0;p<d;p++){const f=u.getRangeAt(p),{startContainer:m,startOffset:_,endContainer:S,endOffset:g}=f;Ie(m,r,s,i,!0)||Ie(S,r,s,i,!0)||l.push({start:n.getId(m),startOffset:_,end:n.getId(S),endOffset:g})}o({ranges:l})});return c(),de("selectionchange",c)}function q_({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:Oi(n.customElements,"define",function(s){return function(i,o,a){try{e({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function W_(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};const r=vu(t,t.doc),s=D_(t),i=L_(t),o=Iu(t),a=$_(t,{win:n}),c=F_(t),u=U_(t),l=B_(t,{win:n}),d=wu(t,t.doc),p=H_(t,{win:n}),f=t.collectFonts?j_(t):()=>{},m=z_(t),_=q_(t),S=[];for(const g of t.plugins)S.push(g.observer(g.callback,n,g.options));return L(()=>{$t.forEach(g=>g.reset()),r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),p(),f(),m(),_(),S.forEach(g=>g())})}function Vn(t){return typeof window[t]<"u"}function Kn(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Ks{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,n,r,s){const i=r||this.getIdToRemoteIdMap(e),o=s||this.getRemoteIdToIdMap(e);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(e,n){const r=this.getIdToRemoteIdMap(e),s=this.getRemoteIdToIdMap(e);return n.map(i=>this.getId(e,i,r,s))}getRemoteId(e,n,r){const s=r||this.getRemoteIdToIdMap(e);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(e,n){const r=this.getRemoteIdToIdMap(e);return n.map(s=>this.getRemoteId(e,s,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}}function ra(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}class G_{constructor(){this.crossOriginIframeMirror=new Ks(Ai),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Y_{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ks(Ai),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ks(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),ra([this,"access",r=>r.loadListener,"optionalCall",r=>r(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!e.source)return;const s=this.crossOriginIframeMap.get(e.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(e,n){switch(n.type){case A.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:A.IncrementalSnapshot,data:{source:N.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case A.Meta:case A.Load:case A.DomContentLoaded:return!1;case A.Plugin:return n;case A.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case A.IncrementalSnapshot:switch(n.data.source){case N.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,e);const s=this.crossOriginIframeRootIdMap.get(e);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,e,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,e,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case N.Drag:case N.TouchMove:case N.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case N.ViewportResize:return!1;case N.MediaInteraction:case N.MouseInteraction:case N.Scroll:case N.CanvasMutation:case N.Input:return this.replaceIds(n.data,e,["id"]),n;case N.StyleSheetRule:case N.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case N.Font:return n;case N.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,e,["start","end"])}),n;case N.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),ra([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,e,["styleId"])})]),n}}return!1}replace(e,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=e.getIds(r,n[i]):n[i]=e.getId(r,n[i]));return n}replaceIds(e,n,r){return this.replace(this.crossOriginIframeMirror,e,n,r)}replaceStyleIds(e,n,r){return this.replace(this.crossOriginIframeStyleMirror,e,n,r)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(e,n){e.type!==te.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class V_{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class K_{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!yn(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const r=vu({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Iu({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Ur(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(wu({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,n){const r=this;this.restoreHandlers.push(Oi(e.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&bu(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class sa{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class X_{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new I_,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of e){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:au(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class J_{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){C_(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,n){const r=this.nodeMap.get(e);return r&&Array.from(r).some(s=>s!==n)}add(e,n){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let X,Tr;const ve=Zg();function nt(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:_,maskInputOptions:S,slimDOMOptions:g,maskAttributeFn:y,maskInputFn:b,maskTextFn:C,maxCanvasSize:I=null,packFn:T,sampling:R={},dataURLOptions:M={},mousemoveWait:E,recordCanvas:w=!1,recordCrossOriginIframes:D=!1,recordAfter:G=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:ee=!1,collectFonts:ie=!1,inlineImages:pe=!1,plugins:H,keepIframeSrcFn:Se=()=>!1,ignoreCSSAttributes:Z=new Set([]),errorHandler:fe,onMutation:Ee,getCanvasManager:Kr}=t;N_(fe);const It=D?window.parent===window:!0;let Ve=!1;if(!It)try{window.parent.document&&(Ve=!1)}catch{Ve=!0}if(It&&!e)throw new Error("emit function is required");E!==void 0&&R.mousemove===void 0&&(R.mousemove=E),ve.reset();const wt=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},ln=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};v_();let Xr,Jr=0;const Ui=F=>{for(const Te of H||[])Te.eventProcessor&&(F=Te.eventProcessor(F));return T&&!Ve&&(F=T(F)),F};X=(F,Te)=>{const $=F;if($.timestamp=br(),ns([$t,"access",K=>K[0],"optionalAccess",K=>K.isFrozen,"call",K=>K()])&&$.type!==A.FullSnapshot&&!($.type===A.IncrementalSnapshot&&$.data.source===N.Mutation)&&$t.forEach(K=>K.unfreeze()),It)ns([e,"optionalCall",K=>K(Ui($),Te)]);else if(Ve){const K={type:"rrweb",event:Ui($),origin:window.location.origin,isCheckout:Te};window.parent.postMessage(K,"*")}if($.type===A.FullSnapshot)Xr=$,Jr=0;else if($.type===A.IncrementalSnapshot){if($.data.source===N.Mutation&&$.data.isAttachIframe)return;Jr++;const K=r&&Jr>=r,B=n&&Xr&&$.timestamp-Xr.timestamp>n;(K||B)&&Qr(!0)}};const $n=F=>{X({type:A.IncrementalSnapshot,data:{source:N.Mutation,...F}})},ji=F=>X({type:A.IncrementalSnapshot,data:{source:N.Scroll,...F}}),il=F=>X({type:A.IncrementalSnapshot,data:{source:N.CanvasMutation,...F}}),ol=F=>X({type:A.IncrementalSnapshot,data:{source:N.AdoptedStyleSheet,...F}}),ct=new X_({mutationCb:$n,adoptedStyleSheetCb:ol}),ut=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new G_:new Y_({mirror:ve,mutationCb:$n,stylesheetManager:ct,recordCrossOriginIframes:D,wrappedEmit:X});for(const F of H||[])F.getMirror&&F.getMirror({nodeMirror:ve,crossOriginIframeMirror:ut.crossOriginIframeMirror,crossOriginIframeStyleMirror:ut.crossOriginIframeStyleMirror});const Zr=new J_,zi=Q_(Kr,{mirror:ve,win:window,mutationCb:F=>X({type:A.IncrementalSnapshot,data:{source:N.CanvasMutation,...F}}),recordCanvas:w,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:I,sampling:R.canvas,dataURLOptions:M,errorHandler:fe}),Pn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new V_:new K_({mutationCb:$n,scrollCb:ji,bypassOptions:{onMutation:Ee,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:wt,dataURLOptions:M,maskAttributeFn:y,maskTextFn:C,maskInputFn:b,recordCanvas:w,inlineImages:pe,sampling:R,slimDOMOptions:ln,iframeManager:ut,stylesheetManager:ct,canvasManager:zi,keepIframeSrcFn:Se,processedNodeManager:Zr},mirror:ve}),Qr=(F=!1)=>{X({type:A.Meta,data:{href:window.location.href,width:hu(),height:pu()}},F),ct.reset(),Pn.init(),$t.forEach($=>$.lock());const Te=E_(document,{mirror:ve,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:wt,maskAttributeFn:y,maskInputFn:b,maskTextFn:C,slimDOM:ln,dataURLOptions:M,recordCanvas:w,inlineImages:pe,onSerialize:$=>{_u($,ve)&&ut.addIframe($),Su($,ve)&&ct.trackLinkElement($),Ys($)&&Pn.addShadowRoot($.shadowRoot,document)},onIframeLoad:($,K)=>{ut.attachIframe($,K),Pn.observeAttachShadow($)},onStylesheetLoad:($,K)=>{ct.attachLinkElement($,K)},keepIframeSrcFn:Se});if(!Te)return console.warn("Failed to snapshot the document");X({type:A.FullSnapshot,data:{node:Te,initialOffset:fu(window)}}),$t.forEach($=>$.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ct.adoptStyleSheets(document.adoptedStyleSheets,ve.getId(document))};Tr=Qr;try{const F=[],Te=K=>L(W_)({onMutation:Ee,mutationCb:$n,mousemoveCb:(B,lt)=>X({type:A.IncrementalSnapshot,data:{source:lt,positions:B}}),mouseInteractionCb:B=>X({type:A.IncrementalSnapshot,data:{source:N.MouseInteraction,...B}}),scrollCb:ji,viewportResizeCb:B=>X({type:A.IncrementalSnapshot,data:{source:N.ViewportResize,...B}}),inputCb:B=>X({type:A.IncrementalSnapshot,data:{source:N.Input,...B}}),mediaInteractionCb:B=>X({type:A.IncrementalSnapshot,data:{source:N.MediaInteraction,...B}}),styleSheetRuleCb:B=>X({type:A.IncrementalSnapshot,data:{source:N.StyleSheetRule,...B}}),styleDeclarationCb:B=>X({type:A.IncrementalSnapshot,data:{source:N.StyleDeclaration,...B}}),canvasMutationCb:il,fontCb:B=>X({type:A.IncrementalSnapshot,data:{source:N.Font,...B}}),selectionCb:B=>{X({type:A.IncrementalSnapshot,data:{source:N.Selection,...B}})},customElementCb:B=>{X({type:A.IncrementalSnapshot,data:{source:N.CustomElement,...B}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:wt,inlineStylesheet:m,sampling:R,recordCanvas:w,inlineImages:pe,userTriggeredOnInput:ee,collectFonts:ie,doc:K,maskAttributeFn:y,maskInputFn:b,maskTextFn:C,keepIframeSrcFn:Se,blockSelector:i,unblockSelector:o,slimDOMOptions:ln,dataURLOptions:M,mirror:ve,iframeManager:ut,stylesheetManager:ct,shadowDomManager:Pn,processedNodeManager:Zr,canvasManager:zi,ignoreCSSAttributes:Z,plugins:ns([H,"optionalAccess",B=>B.filter,"call",B=>B(lt=>lt.observer),"optionalAccess",B=>B.map,"call",B=>B(lt=>({observer:lt.observer,options:lt.options,callback:al=>X({type:A.Plugin,data:{plugin:lt.name,payload:al}})}))])||[]},{});ut.addLoadListener(K=>{try{F.push(Te(K.contentDocument))}catch(B){console.warn(B)}});const $=()=>{Qr(),F.push(Te(document))};return document.readyState==="interactive"||document.readyState==="complete"?$():(F.push(de("DOMContentLoaded",()=>{X({type:A.DomContentLoaded,data:{}}),G==="DOMContentLoaded"&&$()})),F.push(de("load",()=>{X({type:A.Load,data:{}}),G==="load"&&$()},window))),()=>{F.forEach(K=>K()),Zr.destroy(),Tr=void 0,O_()}}catch(F){console.warn(F)}}function Z_(t){if(!Tr)throw new Error("please take full snapshot after start recording");Tr(t)}nt.mirror=ve;nt.takeFullSnapshot=Z_;function Q_(t,e){try{return t?t(e):new sa}catch{return console.warn("Unable to initialize CanvasManager"),new sa}}const eS=3,tS=5;function Li(t){return t>9999999999?t:t*1e3}function fs(t){return t>9999999999?t/1e3:t}function Dn(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:A.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:oe(e,10,1e3)}}),e.category==="console")))}const nS="button,a";function ku(t){return t.closest(nS)||t}function Cu(t){const e=xu(t);return!e||!(e instanceof Element)?e:ku(e)}function xu(t){return rS(t)?t.target:t}function rS(t){return typeof t=="object"&&!!t&&"target"in t}let Je;function sS(t){return Je||(Je=[],iS()),Je.push(t),()=>{const e=Je?Je.indexOf(t):-1;e>-1&&Je.splice(e,1)}}function iS(){re(q,"open",function(t){return function(...e){if(Je)try{Je.forEach(n=>n())}catch{}return t.apply(q,e)}})}function oS(t,e,n){t.handleClick(e,n)}class aS{constructor(e,n,r=Dn){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const e=sS(()=>{this._lastMutation=ia()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(uS(n,this._ignoreSelector)||!lS(e))return;const r={timestamp:fs(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=fs(e)}registerScroll(e=Date.now()){this._lastScroll=fs(e)}registerClick(e){const n=ku(e);this._handleMultiClick(n)}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=ia();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&e.push(r)});for(const r of e){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,s=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=e;if(i){const c=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:q.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:q.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const cS=["A","BUTTON","INPUT"];function uS(t,e){return!!(!cS.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function lS(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function ia(){return Date.now()/1e3}function dS(t,e){try{if(!fS(e))return;const{source:n}=e.data;if(n===N.Mutation&&t.registerMutation(e.timestamp),n===N.Scroll&&t.registerScroll(e.timestamp),pS(e)){const{type:r,id:s}=e.data,i=nt.mirror.getNode(s);i instanceof HTMLElement&&r===ue.Click&&t.registerClick(i)}}catch{}}function fS(t){return t.type===eS}function pS(t){return t.data.source===N.MouseInteraction}function Oe(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var vr;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(vr||(vr={}));const hS=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function mS(t){const e={};for(const n in t)if(hS.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),e[r]=t[n]}return e}const gS=t=>e=>{if(!t.isEnabled())return;const n=_S(e);if(!n)return;const r=e.name==="click",s=r?e.event:void 0;r&&t.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&oS(t.clickDetector,n,Cu(e.event)),Dn(t,n)};function Ru(t,e){const n=nt.mirror.getId(t),r=n&&nt.mirror.getNode(n),s=r&&nt.mirror.getMeta(r),i=s&&yS(s)?s:null;return{message:e,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===vr.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:mS(i.attributes)}}:{}}}function _S(t){const{target:e,message:n}=SS(t);return Oe({category:`ui.${t.name}`,...Ru(e,n)})}function SS(t){const e=t.name==="click";let n,r=null;try{r=e?Cu(t.event):xu(t.event),n=st(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function yS(t){return t.type===vr.Element}function bS(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=ES(e);n&&Dn(t,n)}function ES(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=t;if(!o||TS(o)||!i)return null;const a=e||r||s,c=i.length===1;if(!a&&c)return null;const u=st(o,{maxStringLength:200})||"<unknown>",l=Ru(o,u);return Oe({category:"ui.keyDown",message:u,data:{...l.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function TS(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const oa={resource:CS,paint:wS,navigation:kS};function vS(t){return t.map(IS).filter(Boolean)}function IS(t){return oa[t.entryType]?oa[t.entryType](t):null}function Xt(t){return((ge||q.performance.timeOrigin)+t)/1e3}function wS(t){const{duration:e,entryType:n,name:r,startTime:s}=t,i=Xt(s);return{type:n,name:r,start:i,end:i+e,data:void 0}}function kS(t){const{entryType:e,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:p,startTime:f,transferSize:m,type:_}=t;return s===0?null:{type:`${e}.${_}`,start:Xt(f),end:Xt(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:p}}}function CS(t){const{entryType:e,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:Xt(i),end:Xt(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function xS(t){const e=t.entries,n=e[e.length-1],r=n?n.element:void 0,s=t.value,i=Xt(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?nt.mirror.getId(r):void 0}}}function RS(t){function e(s){t.performanceEntries.includes(s)||t.performanceEntries.push(s)}function n({entries:s}){s.forEach(e)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Wt(s,n))}),r.push(Uc(({metric:s})=>{t.replayPerformanceEntries.push(xS(s))})),()=>{r.forEach(s=>s())}}const j=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,MS='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function AS(){const t=new Blob([MS]);return URL.createObjectURL(t)}function le(t,e){j&&(h.info(t),e&&Mu(t))}function Ht(t,e){j&&(h.info(t),e&&setTimeout(()=>{Mu(t)},0))}function Mu(t){dg({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class $i extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Ri}.`)}}class Au{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>Ri)throw new $i;this.events.push(e)}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?Li(e):null}}class NS{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){le("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===e&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){j&&h.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class OS{constructor(e){this._worker=new NS(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=Li(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>Ri?Promise.reject(new $i):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{j&&h.warn('[Replay] Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class DS{constructor(e){this._fallback=new Au,this._compression=new OS(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{le("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:n}=this._fallback,r=[];for(const s of e)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){j&&h.warn("[Replay] Failed to add events when switching buffers.",s)}}}function LS({useCompression:t,workerUrl:e}){if(t&&window.Worker){const n=$S(e);if(n)return n}return le("[Replay] Using simple buffer"),new Au}function $S(t){try{const e=t||PS();if(!e)return;le(`[Replay] Using compression worker${t?` from ${t}`:""}`);const n=new Worker(e);return new DS(n)}catch{le("[Replay] Failed to create compression worker")}}function PS(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?AS():""}function Pi(){try{return"sessionStorage"in q&&!!q.sessionStorage}catch{return!1}}function FS(t){BS(),t.session=void 0}function BS(){if(Pi())try{q.sessionStorage.removeItem(Ci)}catch{}}function Nu(t){return t===void 0?!1:Math.random()<t}function Ou(t){const e=Date.now(),n=t.id||v(),r=t.started||e,s=t.lastActivity||e,i=t.segmentId||0,o=t.sampled,a=t.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function Fi(t){if(Pi())try{q.sessionStorage.setItem(Ci,JSON.stringify(t))}catch{}}function HS(t,e){return Nu(t)?"session":e?"buffer":!1}function aa({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const s=HS(t,e),i=Ou({sampled:s,previousSessionId:r});return n&&Fi(i),i}function US(t){if(!Pi())return null;try{const e=q.sessionStorage.getItem(Ci);if(!e)return null;const n=JSON.parse(e);return Ht("[Replay] Loading existing session",t),Ou(n)}catch{return null}}function Xs(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function Du(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return Xs(t.started,e,r)||Xs(t.lastActivity,n,r)}function Lu(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!(!Du(t,{sessionIdleExpire:e,maxReplayDuration:n})||t.sampled==="buffer"&&t.segmentId===0)}function ps({traceInternals:t,sessionIdleExpire:e,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&US(t);return i?Lu(i,{sessionIdleExpire:e,maxReplayDuration:n})?(Ht("[Replay] Session in sessionStorage is expired, creating new one..."),aa(s,{previousSessionId:i.id})):i:(Ht("[Replay] Creating new session",t),aa(s,{previousSessionId:r}))}function jS(t){return t.type===A.Custom}function Bi(t,e,n){return Pu(t,e)?($u(t,e,n),!0):!1}function zS(t,e,n){return Pu(t,e)?$u(t,e,n):Promise.resolve(null)}async function $u(t,e,n){if(!t.eventBuffer)return null;try{n&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=t.getOptions(),s=qS(e,r.beforeAddRecordingEvent);return s?await t.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof $i?"addEventSizeExceeded":"addEvent";j&&h.error(r),await t.stop({reason:s});const i=ke();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function Pu(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=Li(e.timestamp);return n+t.timeouts.sessionIdlePause<Date.now()?!1:n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(le(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1):!0}function qS(t,e){try{if(typeof e=="function"&&jS(t))return e(t)}catch(n){return j&&h.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return t}function Hi(t){return!t.type}function Js(t){return t.type==="transaction"}function WS(t){return t.type==="replay_event"}function ca(t){return t.type==="feedback"}function Fu(t){const e=VS();return(n,r)=>{if(!t.isEnabled()||!Hi(n)&&!Js(n))return;const s=r&&r.statusCode;if(!(e&&(!s||s<200||s>=300))){if(Js(n)){GS(t,n);return}YS(t,n)}}}function GS(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}function YS(t,e){const n=t.getContext();if(e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();typeof r=="function"&&!r(e)||setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function VS(){const t=ke();if(!t)return!1;const e=t.getTransport();return e&&e.send.__sentry__baseTransport__||!1}function KS(t){return e=>{!t.isEnabled()||!Hi(e)||XS(t,e)}}function XS(t,e){const n=e.exception&&e.exception.values&&e.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Oe({category:"replay.hydrate-error"});Dn(t,r)}}function JS(t,e){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:!!(e.originalException&&e.originalException.__rrweb__)}function ZS(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:A.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function QS(t,e){return t.recordingMode!=="buffer"||e.message===xi||!e.exception||e.type?!1:Nu(t.getOptions().errorSampleRate)}function ey(t,e=!1){const n=e?Fu(t):void 0;return Object.assign((r,s)=>t.isEnabled()?WS(r)?(delete r.breadcrumbs,r):!Hi(r)&&!Js(r)&&!ca(r)||!t.checkAndHandleExpiredSession()?r:ca(r)?(t.flush(),r.contexts.feedback.replay_id=t.getSessionId(),ZS(t,r),r):JS(r,s)&&!t.getOptions()._experiments.captureExceptions?(j&&h.log("[Replay] Ignoring error from rrweb internals",r),null):((QS(t,r)||t.recordingMode==="session")&&(r.tags={...r.tags,replayId:t.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function jr(t,e){return e.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=t.throttledAddEvent({type:A.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function ty(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function ny(t){return e=>{if(!t.isEnabled())return;const n=ty(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(jr(t,[n]),!1)))}}function ry(t,e){return j&&t.getOptions()._experiments.traceInternals?!1:Rg(e,ke())}function zr(t,e){t.isEnabled()&&e!==null&&(ry(t,e.name)||t.addUpdate(()=>(jr(t,[e]),!0)))}function sy(t){const{startTimestamp:e,endTimestamp:n,fetchData:r,response:s}=t;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function iy(t){return e=>{if(!t.isEnabled())return;const n=sy(e);zr(t,n)}}function oy(t){const{startTimestamp:e,endTimestamp:n,xhr:r}=t,s=r[et];if(!e||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:e/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function ay(t){return e=>{if(!t.isEnabled())return;const n=oy(e);zr(t,n)}}function qr(t,e){if(t)try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=ju(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function Bu(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Hu(t){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[ju(t)];if(!t)return[void 0]}catch{return j&&h.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return j&&h.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ir(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function Uu(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=e;return{type:t,start:n/1e3,end:r/1e3,name:s,data:O({method:i,statusCode:o,request:a,response:c})}}function Cn(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function rt(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:s,warnings:i}=cy(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function Zs(t,e){return Object.keys(t).reduce((n,r)=>{const s=r.toLowerCase();return e.includes(s)&&t[r]&&(n[s]=t[r]),n},{})}function ju(t){return new URLSearchParams(t).toString()}function cy(t){if(!t||typeof t!="string")return{body:t};const e=t.length>Go,n=uy(t);if(e){const r=t.slice(0,Go);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch{}return{body:t}}function uy(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}function wr(t,e){const n=ly(t);return Zt(n,e)}function ly(t,e=q.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(q.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;return!t.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function dy(t,e,n){try{const r=await py(t,e,n),s=Uu("resource.fetch",r);zr(n.replay,s)}catch(r){j&&h.error("[Replay] Failed to capture fetch breadcrumb",r)}}function fy(t,e,n){const{input:r,response:s}=e,i=r?zu(r):void 0,o=qr(i,n.textEncoder),a=s?Bu(s.headers.get("content-length")):void 0;o!==void 0&&(t.data.request_body_size=o),a!==void 0&&(t.data.response_body_size=a)}async function py(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=e,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=t.data,d=wr(o,n.networkDetailAllowUrls)&&!wr(o,n.networkDetailDenyUrls),p=d?hy(n,e.input,u):Cn(u),f=await my(d,n,e.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:p,response:f}}function hy({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const s=n?Sy(n,e):{};if(!t)return rt(s,r,void 0);const i=zu(n),[o,a]=Hu(i),c=rt(s,r,o);return a?Ir(c,a):c}async function my(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:r},s,i){if(!t&&i!==void 0)return Cn(i);const o=s?qu(s.headers,r):{};if(!s||!e&&i!==void 0)return rt(o,i,void 0);const[a,c]=await _y(s),u=gy(a,{networkCaptureBodies:e,textEncoder:n,responseBodySize:i,captureDetails:t,headers:o});return c?Ir(u,c):u}function gy(t,{networkCaptureBodies:e,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=t&&t.length&&r===void 0?qr(t,n):r;return s?e?rt(i,o,t):rt(i,o,void 0):Cn(o)}catch(o){return j&&h.warn("[Replay] Failed to serialize response body",o),rt(i,r,void 0)}}async function _y(t){const e=yy(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await by(e)]}catch(n){return j&&h.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function zu(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function qu(t,e){const n={};return e.forEach(r=>{t.get(r)&&(n[r]=t.get(r))}),n}function Sy(t,e){return t.length===1&&typeof t[0]!="string"?ua(t[0],e):t.length===2?ua(t[1],e):{}}function ua(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?qu(n,e):Array.isArray(n)?{}:Zs(n,e):{}}function yy(t){try{return t.clone()}catch(e){j&&h.warn("[Replay] Failed to clone response body",e)}}function by(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);Ey(t).then(s=>e(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function Ey(t){return await t.text()}async function Ty(t,e,n){try{const r=Iy(t,e,n),s=Uu("resource.xhr",r);zr(n.replay,s)}catch(r){j&&h.error("[Replay] Failed to capture xhr breadcrumb",r)}}function vy(t,e,n){const{xhr:r,input:s}=e;if(!r)return;const i=qr(s,n.textEncoder),o=r.getResponseHeader("content-length")?Bu(r.getResponseHeader("content-length")):xy(r.response,r.responseType,n.textEncoder);i!==void 0&&(t.data.request_body_size=i),o!==void 0&&(t.data.response_body_size=o)}function Iy(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=e,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:p}=t.data;if(!c)return null;if(!a||!wr(c,n.networkDetailAllowUrls)||wr(c,n.networkDetailDenyUrls)){const T=Cn(d),R=Cn(p);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:T,response:R}}const f=a[et],m=f?Zs(f.request_headers,n.networkRequestHeaders):{},_=Zs(wy(a),n.networkResponseHeaders),[S,g]=n.networkCaptureBodies?Hu(o):[void 0],[y,b]=n.networkCaptureBodies?ky(a):[void 0],C=rt(m,d,S),I=rt(_,p,y);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:g?Ir(C,g):C,response:b?Ir(I,b):I}}function wy(t){const e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function ky(t){const e=[];try{return[t.responseText]}catch(n){e.push(n)}try{return Cy(t.response,t.responseType)}catch(n){e.push(n)}return j&&h.warn("[Replay] Failed to get xhr response body",...e),[void 0]}function Cy(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch{return j&&h.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return j&&h.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function xy(t,e,n){try{const r=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return qr(r,n)}catch{return}}function Ry(t){const e=ke();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=t.getOptions(),c={replay:t,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};e&&e.on?e.on("beforeAddBreadcrumb",(u,l)=>My(c,u,l)):(oi(iy(t)),ai(ay(t)))}catch{}}function My(t,e,n){if(e.data)try{Ay(e)&&Oy(n)&&(vy(e,n,t),Ty(e,n,t)),Ny(e)&&Dy(n)&&(fy(e,n,t),dy(e,n,t))}catch{j&&h.warn("Error when enriching network breadcrumb")}}function Ay(t){return t.category==="xhr"}function Ny(t){return t.category==="fetch"}function Oy(t){return t&&t.xhr}function Dy(t){return t&&t.response}let la=null;function Ly(t){return!!t.category}const $y=t=>e=>{if(!t.isEnabled())return;const n=Py(e);n&&Dn(t,n)};function Py(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();return la===e||!e||(la=e,!Ly(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))?null:e.category==="console"?Fy(e):Oe(e)}function Fy(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||e.length===0)return Oe(t);let n=!1;const r=e.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Yn?(n=!0,`${s.slice(0,Yn)}…`):s;if(typeof s=="object")try{const i=oe(s,7);return JSON.stringify(i).length>Yn?(n=!0,`${JSON.stringify(i,null,2).slice(0,Yn)}…`):i}catch{}return s});return Oe({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function By(t){const e=Fr(),n=ke();e.addScopeListener($y(t)),Ba(gS(t)),xr(ny(t)),Ry(t);const r=ey(t,!da(n));n&&n.addEventProcessor?n.addEventProcessor(r):xg(r),da(n)&&(n.on("beforeSendEvent",KS(t)),n.on("afterSendEvent",Fu(t)),n.on("createDsc",s=>{const i=t.getSessionId();i&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{t.lastTransaction=s}),n.on("finishTransaction",s=>{t.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=t.getSessionId();i&&i.includeReplay&&t.isEnabled()&&o&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o)}))}function da(t){return!!(t&&t.on)}async function Hy(t){try{return Promise.all(jr(t,[Uy(q.performance.memory)]))}catch{return[]}}function Uy(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function jy(t,e,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,e):0;function a(){return c(),r=t(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function l(){return s&&clearTimeout(s),s=setTimeout(a,e),o&&i===void 0&&(i=setTimeout(a,o)),r}return l.cancel=c,l.flush=u,l}function zy(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession()){j&&h.warn("[Replay] Received replay event after session expired.");return}const s=r||!e;e=!0,t.clickDetector&&dS(t.clickDetector,n),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&s&&t.setInitialState(),!Bi(t,n,s))return!0;if(!s)return!1;if(Wy(t,s),t.session&&t.session.previousSessionId)return!0;if(t.recordingMode==="buffer"&&t.session&&t.eventBuffer){const i=t.eventBuffer.getEarliestTimestamp();i&&(le(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,t.getOptions()._experiments.traceInternals),t.session.started=i,t.getOptions().stickySession&&Fi(t.session))}return t.recordingMode==="session"&&t.flush(),!0})}}function qy(t){const e=t.getOptions();return{type:A.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function Wy(t,e){!e||!t.session||t.session.segmentId!==0||Bi(t,qy(t),!1)}function Gy(t,e,n,r){return ot(Za(t,li(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function Yy({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+t.length),n.set(i),n.set(t,i.length)}return n}async function Vy({client:t,scope:e,replayId:n,event:r}){const s=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,i={event_id:n,integrations:s};t.emit&&t.emit("preprocessEvent",r,i);const o=await sg(t.getOptions(),r,i,e,t,Ig());if(!o)return null;o.platform=o.platform||"javascript";const a=t.getSdkMetadata&&t.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function Ky({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=Yy({recordingData:t,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=ke(),p=Fr(),f=d&&d.getTransport(),m=d&&d.getDsn();if(!d||!f||!m||!i.sampled)return;const _={type:Og,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:e,segment_id:n,replay_type:i.sampled},S=await Vy({scope:p,client:d,replayId:e,event:_});if(!S){d.recordDroppedEvent("event_processor","replay",_),le("An event processor returned `null`, will not send event.");return}delete S.sdkProcessingMetadata;const g=Gy(S,o,m,d.getOptions().tunnel);let y;try{y=await f.send(g)}catch(C){const I=new Error(xi);try{I.cause=C}catch{}throw I}if(!y)return y;if(typeof y.statusCode=="number"&&(y.statusCode<200||y.statusCode>=300))throw new Wu(y.statusCode);const b=ec({},y);if(Qa(b,"replay"))throw new Gu(b);return y}class Wu extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Gu extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function Yu(t,e={count:0,interval:Bg}){const{recordingData:n,options:r}=t;if(n.length)try{return await Ky(t),!0}catch(s){if(s instanceof Wu||s instanceof Gu)throw s;if(fg("Replays",{_retryCount:e.count}),j&&r._experiments&&r._experiments.captureExceptions&&tu(s),e.count>=Hg){const i=new Error(`${xi} - max retries exceeded`);try{i.cause=s}catch{}throw i}return e.interval*=++e.count,new Promise((i,o)=>{setTimeout(async()=>{try{await Yu(t,e),i(!0)}catch(a){o(a)}},e.interval)})}}const Vu="__THROTTLED",Xy="__SKIPPED";function Jy(t,e,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=e){const l=o;return o=!0,l?Xy:Vu}o=!1;const u=r.get(c)||0;return r.set(c,u+1),t(...a)}}class Ze{constructor({options:e,recordingOptions:n}){Ze.prototype.__init.call(this),Ze.prototype.__init2.call(this),Ze.prototype.__init3.call(this),Ze.prototype.__init4.call(this),Ze.prototype.__init5.call(this),Ze.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Dg,sessionIdleExpire:Lg},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=jy(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Jy((o,a)=>zS(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(Ug,r),timeout:r,scrollTimeout:jg,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new aS(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(e),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Ht(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Ht("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=ps({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Ht("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=ps({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=nt({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:Fg},emit:zy(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{le(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,FS(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),le("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),le("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();le("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!e||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const n=e();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Xs(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${q.location.pathname}${q.location.hash}${q.location.search}`,n=`${q.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const r=this._throttledAddEvent(e,n);if(r===Vu){const s=Oe({category:"replay.throttled"});this.addUpdate(()=>!Bi(this,{type:tS,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const e=this.lastTransaction||Fr().getTransaction(),r=(e&&yt(e).data||{})[Cg];if(!(!e||!r||!["route","custom"].includes(r)))return yt(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=LS({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){j&&h.error("[Replay]",e),j&&this._options._experiments&&this._options._experiments.captureExceptions&&tu(e)}_initializeSessionForSampling(e){const n=this._options.errorSampleRate>0,r=ps({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const e=this.session;return Lu(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{q.document.addEventListener("visibilitychange",this._handleVisibilityChange),q.addEventListener("blur",this._handleWindowBlur),q.addEventListener("focus",this._handleWindowFocus),q.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(By(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=RS(this)}_removeListeners(){try{q.document.removeEventListener("visibilitychange",this._handleVisibilityChange),q.removeEventListener("blur",this._handleWindowBlur),q.removeEventListener("focus",this._handleWindowFocus),q.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{q.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Oe({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Oe({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{bS(this,e)}}_doChangeToBackgroundTasks(e){!this.session||Du(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){le("[Replay] Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:A.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){const e=vS(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(jr(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||e.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){j&&h.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Hy(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await Yu({replayId:e,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=ke();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){j&&h.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){le(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&le("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){j&&h.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Fi(this.session)}__init6(){this._onMutationHandler=e=>{const n=e.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=Oe({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function hn(t,e,n,r){const s=typeof r=="string"?r.split(","):[],i=[...t,...s,...e];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),me(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function Zy({mask:t,unmask:e,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l=['base[href="/"]'],d=hn(t,[".sentry-mask","[data-sentry-mask]"],a,c),p=hn(e,[".sentry-unmask","[data-sentry-unmask]"]),f={maskTextSelector:d,unmaskTextSelector:p,blockSelector:hn(n,[".sentry-block","[data-sentry-block]",...l],i,o),unblockSelector:hn(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:hn(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(f.blockClass=i),a instanceof RegExp&&(f.maskTextClass=a),f}function Qy({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?i:n.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const fa='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',eb=["content-length","content-type","accept"];let pa=!1;const qE=t=>new Wr(t);class Wr{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=$g,flushMaxDelay:n=Pg,minReplayDuration:r=zg,maxReplayDuration:s=Yo,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:p=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:m=750,mutationLimit:_=1e4,slowClickTimeout:S=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:b=[],networkCaptureBodies:C=!0,networkRequestHeaders:I=[],networkResponseHeaders:T=[],mask:R=[],maskAttributes:M=["title","placeholder"],unmask:E=[],block:w=[],unblock:D=[],ignore:G=[],maskFn:ee,beforeAddRecordingEvent:ie,beforeErrorSampling:pe,blockClass:H,blockSelector:Se,maskInputOptions:Z,maskTextClass:fe,maskTextSelector:Ee,ignoreClass:Kr}={}){this.name=Wr.id;const It=Zy({mask:R,unmask:E,block:w,unblock:D,ignore:G,blockClass:H,blockSelector:Se,maskTextClass:fe,maskTextSelector:Ee,ignoreClass:Kr});if(this._recordingOptions={maskAllInputs:p,maskAllText:d,maskInputOptions:{...Z||{},password:!0},maskTextFn:ee,maskInputFn:ee,maskAttributeFn:(Ve,wt,ln)=>Qy({maskAttributes:M,maskAllText:d,privacyOptions:It,key:Ve,value:wt,el:ln}),...It,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Ve=>{try{Ve.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(r,qg),maxReplayDuration:Math.min(s,Yo),stickySession:i,sessionSampleRate:u,errorSampleRate:l,useCompression:o,workerUrl:a,blockAllMedia:f,maskAllInputs:p,maskAllText:d,mutationBreadcrumbLimit:m,mutationLimit:_,slowClickTimeout:S,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:b,networkCaptureBodies:C,networkRequestHeaders:ha(I),networkResponseHeaders:ha(T),beforeAddRecordingEvent:ie,beforeErrorSampling:pe,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${fa}`:fa),this._isInitialized&&Rs())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return pa}set _isInitialized(e){pa=e}setupOnce(){Rs()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(e)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=tb(this._initialOptions);this._replay=new Ze({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const n=ke().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}Wr.__initStatic();function tb(t){const e=ke(),n=e&&e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...O(t)};return n?(t.sessionSampleRate==null&&t.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&me(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(me(()=>{console.warn("SDK client is not available.")}),r)}function ha(t){return[...eb,...t.map(e=>e.toLowerCase())]}const vt=k,hs="#ffffff",ma="inherit",ms="rgba(108, 95, 199, 1)",ga={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:hs,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:ms,submitBorder:ms,submitOutlineFocus:"#29232f",submitForeground:hs,submitForegroundHover:hs,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:ma,inputForeground:ma,inputBorder:"var(--border)",inputOutlineFocus:ms,formBorderRadius:"20px",formContentBorderRadius:"6px"},_a={light:ga,dark:{...ga,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},nb="Report a Bug",rb="Cancel",sb="Send Bug Report",ib="Report a Bug",ob="your.email@example.org",ab="Email",cb="What's the bug? What did you expect?",ub="Description",lb="Your Name",db="Name",fb="(required)",pb="Thank you for your report!",Ku="widget",Xu="api";async function hb({client:t,scope:e,event:n}){const r={};t.emit&&t.emit("preprocessEvent",n,r);const s=await sc(t.getOptions(),n,r,e,t,nn());return s===null?(t.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}async function mb({feedback:{message:t,email:e,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const o=ae(),a=o&&o.getTransport(),c=o&&o.getDsn();if(!o||!a||!c)return;const u={contexts:{feedback:{contact_email:e,name:n,message:t,url:s,source:r}},type:"feedback"};return oc(async l=>{l.clearBreadcrumbs(),[Xu,Ku].includes(String(r))&&l.setLevel("info");const d=await hb({scope:l,client:o,event:u});if(!d)return;o.emit&&o.emit("beforeSendFeedback",d,{includeReplay:!!i});const p=gc(d,c,o.getOptions()._metadata,o.getOptions().tunnel);let f;try{f=await a.send(p)}catch(m){const _=new Error("Unable to send Feedback");try{_.cause=m}catch{}throw _}if(f){if(typeof f.statusCode=="number"&&(f.statusCode<200||f.statusCode>=300))throw new Error("Unable to send Feedback");return f}})}function gb({name:t,email:e,message:n,source:r=Xu,url:s=Ma()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return mb({feedback:{name:t,email:e,message:n,url:s,source:r}},i)}const dt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Sa(t,e){return{...t,...e,themeDark:{...t.themeDark,...e.themeDark},themeLight:{...t.themeLight,...e.themeLight}}}function _b(t){const e=t.createElement("style");return e.textContent=`
.widget__actor {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  line-height: 16px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

@media (max-width: 600px) {
  .widget__actor__text {
    display: none;
  }
}

.feedback-icon path {
  fill: var(--foreground);
}
`,e}function Sb(t){const e=t.createElement("style");return e.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,e}function ya(t){return`
  --background: ${t.background};
  --background-hover: ${t.backgroundHover};
  --foreground: ${t.foreground};
  --error: ${t.error};
  --success: ${t.success};
  --border: ${t.border};
  --border-radius: ${t.borderRadius};
  --box-shadow: ${t.boxShadow};

  --submit-background: ${t.submitBackground};
  --submit-background-hover: ${t.submitBackgroundHover};
  --submit-border: ${t.submitBorder};
  --submit-outline-focus: ${t.submitOutlineFocus};
  --submit-foreground: ${t.submitForeground};
  --submit-foreground-hover: ${t.submitForegroundHover};

  --cancel-background: ${t.cancelBackground};
  --cancel-background-hover: ${t.cancelBackgroundHover};
  --cancel-border: ${t.cancelBorder};
  --cancel-outline-focus: ${t.cancelOutlineFocus};
  --cancel-foreground: ${t.cancelForeground};
  --cancel-foreground-hover: ${t.cancelForegroundHover};

  --input-background: ${t.inputBackground};
  --input-foreground: ${t.inputForeground};
  --input-border: ${t.inputBorder};
  --input-outline-focus: ${t.inputOutlineFocus};

  --form-border-radius: ${t.formBorderRadius};
  --form-content-border-radius: ${t.formContentBorderRadius};
  `}function yb(t,e,n){const r=t.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${ya(e==="dark"?n.dark:n.light)}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${ya(n.dark)}
  }
}`:""}
}`,r}function bb({id:t,colorScheme:e,themeDark:n,themeLight:r}){try{const s=vt.document,i=s.createElement("div");i.id=t;const o=i.attachShadow({mode:"open"});return o.appendChild(yb(s,e,{dark:n,light:r})),o.appendChild(Sb(s)),{shadow:o,host:i}}catch{throw h.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Eb(t,e,n){if(!t)return;const r=()=>{t&&t.showError("There was a problem submitting feedback, please wait and try again.")};t.hideError();try{return await gb({...e,source:Ku},n)}catch(s){dt&&h.error(s),r()}}function he(t,e){return Object.entries(e).forEach(([n,r])=>{t.setAttributeNS(null,n,r)}),t}const xt=20,Tb="http://www.w3.org/2000/svg";function vb(){const t=a=>vt.document.createElementNS(Tb,a),e=he(t("svg"),{class:"feedback-icon",width:`${xt}`,height:`${xt}`,viewBox:`0 0 ${xt} ${xt}`,fill:"none"}),n=he(t("g"),{clipPath:"url(#clip0_57_80)"}),r=he(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(n).appendChild(r);const s=t("defs"),i=he(t("clipPath"),{id:"clip0_57_80"}),o=he(t("rect"),{width:`${xt}`,height:`${xt}`,fill:"white"});return i.appendChild(o),s.appendChild(i),e.appendChild(s).appendChild(i).appendChild(o),{get el(){return e}}}function Y(t,e,...n){const s=vt.document.createElement(t);e&&Object.entries(e).forEach(([i,o])=>{i==="className"&&typeof o=="string"?s.setAttribute("class",o):typeof o=="boolean"&&o?s.setAttribute(i,""):typeof o=="string"?s.setAttribute(i,o):i.startsWith("on")&&typeof o=="function"&&s.addEventListener(i.substring(2).toLowerCase(),o)});for(const i of n)Ju(s,i);return s}function Ju(t,e){const n=vt.document;if(!(typeof e>"u"||e===null))if(Array.isArray(e))for(const r of e)Ju(t,r);else e===!1||(typeof e=="string"?t.appendChild(n.createTextNode(e)):e instanceof Node?t.appendChild(e):t.appendChild(n.createTextNode(String(e))))}function Ib({buttonLabel:t,onClick:e}){function n(s){e&&e(s)}const r=Y("button",{type:"button",className:"widget__actor","aria-label":t,"aria-hidden":"false"},vb().el,t?Y("span",{className:"widget__actor__text"},t):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function wb({label:t}){return{el:Y("button",{type:"submit",className:"btn btn--primary","aria-label":t},t)}}function gs(t,e){const n=t.get(e);return typeof n=="string"?n.trim():""}function kb({nameLabel:t,namePlaceholder:e,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,isRequiredLabel:o,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:d,isEmailRequired:p,defaultName:f,defaultEmail:m,onCancel:_,onSubmit:S}){const{el:g}=wb({label:c});function y(D){if(D.preventDefault(),D.target instanceof HTMLFormElement)try{if(S){const G=new FormData(D.target),ee={name:gs(G,"name"),email:gs(G,"email"),message:gs(G,"message")};S(ee)}}catch{}}const b=Y("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function C(D){b.textContent=D,b.classList.remove("form__error-container--hidden"),b.setAttribute("aria-hidden","false")}function I(){b.textContent="",b.classList.add("form__error-container--hidden"),b.setAttribute("aria-hidden","true")}const T=Y("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:d,className:"form__input",placeholder:e,value:f}),R=Y("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:p,className:"form__input",placeholder:r,value:m}),M=Y("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),E=Y("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:D=>{_&&_(D)}},a),w=Y("form",{className:"form",onSubmit:y},[b,u&&Y("label",{htmlFor:"name",className:"form__label"},[Y("span",{className:"form__label__text"},t,d&&Y("span",{className:"form__label__text--required"},` ${o}`)),T]),!u&&T,l&&Y("label",{htmlFor:"email",className:"form__label"},[Y("span",{className:"form__label__text"},n,p&&Y("span",{className:"form__label__text--required"},` ${o}`)),R]),!l&&R,Y("label",{htmlFor:"message",className:"form__label"},[Y("span",{className:"form__label__text"},s,Y("span",{className:"form__label__text--required"},` ${o}`)),M]),Y("div",{className:"btn-group"},[g,E])]);return{get el(){return w},showError:C,hideError:I}}const Cb="http://www.w3.org/2000/svg";function xb({colorScheme:t}){const e=o=>vt.document.createElementNS(Cb,o),n=he(e("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=he(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=e("defs"),i=e("style");return i.textContent=`
    path {
      fill: ${t==="dark"?"#fff":"#362d59"};
    }`,t==="system"&&(i.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),s.append(i),n.append(s),{get el(){return n}}}function Rb({formTitle:t,showBranding:e,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...p}){let f=null;function m(){_(),u&&u()}function _(){f&&(f.open=!1)}function S(){f&&(f.open=!0)}function g(){return f&&f.open===!0||!1}const{el:y,showError:b,hideError:C}=kb({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...p});return f=Y("dialog",{className:"dialog",open:!0,onClick:m},Y("div",{className:"dialog__content",onClick:I=>{I.stopPropagation()}},Y("h2",{className:"dialog__header"},t,e&&Y("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},xb({colorScheme:o}).el)),y)),{get el(){return f},showError:b,hideError:C,open:S,close:_,checkIsOpen:g}}const Xn=16,ba=17,Mb="http://www.w3.org/2000/svg";function Ab(){const t=c=>vt.document.createElementNS(Mb,c),e=he(t("svg"),{class:"success-icon",width:`${Xn}`,height:`${ba}`,viewBox:`0 0 ${Xn} ${ba}`,fill:"none"}),n=he(t("g"),{clipPath:"url(#clip0_57_156)"}),r=he(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=he(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(n).append(s,r);const i=t("defs"),o=he(t("clipPath"),{id:"clip0_57_156"}),a=he(t("rect"),{width:`${Xn}`,height:`${Xn}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),i.appendChild(o),e.appendChild(i).appendChild(o).appendChild(a),{get el(){return e}}}function Nb({message:t,onRemove:e}){function n(){r&&(r.remove(),e&&e())}const r=Y("div",{className:"success-message",onClick:n},Ab().el,t);return{el:r,remove:n}}function Ea({shadow:t,options:{shouldCreateActor:e=!0,...n},attachTo:r}){let s,i,o=!1;function a(){if(t)try{const g=Nb({message:n.successMessageText,onRemove:()=>{y&&clearTimeout(y),l()}});if(!g.el)throw new Error("Unable to show success message");t.appendChild(g.el);const y=setTimeout(()=>{g&&g.remove()},5e3)}catch(g){h.error(g)}}async function c(g){if(!i)return;const y=[];if(n.isNameRequired&&!g.name&&y.push(n.nameLabel),n.isEmailRequired&&!g.email&&y.push(n.emailLabel),g.message||y.push(n.messageLabel),y.length>0){i.showError(`Please enter in the following required fields: ${y.join(", ")}`);return}if(!await Eb(i,g)){n.onSubmitError&&n.onSubmitError();return}_(),a(),n.onSubmitSuccess&&n.onSubmitSuccess()}function u(){const g=ae(),y=g&&g.getIntegrationByName&&g.getIntegrationByName("Replay");y&&y.flush().catch(b=>{dt&&h.error(b)})}function l(){s&&s.show()}function d(){s&&s.hide()}function p(){s&&s.el&&s.el.remove()}function f(){try{if(i){i.open(),o=!0,n.onFormOpen&&n.onFormOpen(),u();return}const g=n.useSentryUser,y=Ye(),b=y&&y.getUser();if(i=Rb({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:g&&b&&b[g.name]||"",defaultEmail:g&&b&&b[g.email]||"",onClosed:()=>{l(),o=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{m(),l()},onSubmit:c}),!i.el)throw new Error("Unable to open Feedback dialog");t.appendChild(i.el),d(),n.onFormOpen&&n.onFormOpen(),u()}catch(g){h.error(g)}}function m(){i&&(i.close(),o=!1,n.onFormClose&&n.onFormClose())}function _(){if(i){m();const g=i.el;g&&g.remove(),i=void 0}}function S(){o||f(),d()}return r?r.addEventListener("click",S):e&&(s=Ib({buttonLabel:n.buttonLabel,onClick:S}),s.el&&t.appendChild(s.el)),{get actor(){return s},get dialog(){return i},showActor:l,hideActor:d,removeActor:p,openDialog:f,closeDialog:m,removeDialog:_}}const Jn=vt.document,WE=t=>new Gr(t);class Gr{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:n="sentry-feedback",isEmailRequired:r=!1,isNameRequired:s=!1,showBranding:i=!0,showEmail:o=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:p=nb,cancelButtonLabel:f=rb,submitButtonLabel:m=sb,formTitle:_=ib,emailPlaceholder:S=ob,emailLabel:g=ab,messagePlaceholder:y=cb,messageLabel:b=ub,namePlaceholder:C=lb,nameLabel:I=db,isRequiredLabel:T=fb,successMessageText:R=pb,onFormClose:M,onFormOpen:E,onSubmitError:w,onSubmitSuccess:D}={}){this.name=Gr.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:i,id:n,isEmailRequired:r,isNameRequired:s,showEmail:o,showName:a,useSentryUser:c,colorScheme:d,themeDark:{..._a.dark,...u},themeLight:{..._a.light,...l},buttonLabel:p,cancelButtonLabel:f,submitButtonLabel:m,formTitle:_,emailLabel:g,emailPlaceholder:S,messageLabel:b,messagePlaceholder:y,nameLabel:I,namePlaceholder:C,isRequiredLabel:T,successMessageText:R,onFormClose:M,onFormOpen:E,onSubmitError:w,onSubmitSuccess:D}}setupOnce(){if(Rs())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){dt&&h.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,n){try{const r=Sa(this.options,n||{});return this._ensureShadowHost(r,({shadow:s})=>{const i=typeof e=="string"?Jn.querySelector(e):typeof e.addEventListener=="function"?e:null;if(!i)return dt&&h.error("[Feedback] Unable to attach to target element"),null;const o=Ea({shadow:s,options:r,attachTo:i});return this._widgets.add(o),this._widget||(this._widget=o),o})}catch(r){return dt&&h.error(r),null}}createWidget(e){try{return this._createWidget(Sa(this.options,e||{}))}catch(n){return dt&&h.error(n),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(n){dt&&h.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=Jn.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,({shadow:n})=>{const r=Ea({shadow:n,options:e});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(_b(Jn)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(e,n){let r=!1;if(!this._shadow||!this._host){const{id:i,colorScheme:o,themeLight:a,themeDark:c}=e,{shadow:u,host:l}=bb({id:i,colorScheme:o,themeLight:a,themeDark:c});this._shadow=u,this._host=l,r=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const s=n({shadow:this._shadow,host:this._host});return r&&Jn.body.appendChild(this._host),s}}Gr.__initStatic();const ir=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Zu="production";function Ob(){return it("globalEventProcessors",()=>[])}function Qs(t,e,n,r=0){return new ce((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o({...e},n);ir&&o.id&&a===null&&h.log(`Event processor "${o.id}" dropped event`),Pe(a)?a.then(c=>Qs(t,c,n,r+1).then(s)).then(null,i):Qs(t,a,n,r+1).then(s).then(null,i)}})}function Db(t){const e=_e(),n={sid:v(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>$b(n)};return t&&Yr(n,t),n}function Yr(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||_e(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:v()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Lb(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Yr(t,n)}function $b(t){return O({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Pb=1;function Fb(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=kr(t);return O({data:r,op:s,parent_span_id:i,span_id:e,status:o,tags:a,trace_id:n,origin:c})}function kr(t){return Bb(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function Bb(t){return typeof t.getSpanJSON=="function"}function Hb(t){const{traceFlags:e}=t.spanContext();return!!(e&Pb)}function Ub(t){if(t)return jb(t)?{captureContext:t}:qb(t)?{captureContext:t}:t}function jb(t){return t instanceof mt||typeof t=="function"}const zb=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function qb(t){return Object.keys(t).some(e=>zb.includes(e))}function Wb(t,e){return Ln().captureException(t,Ub(e))}function Ta(t,e){const n=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return Ln().captureMessage(t,n,r)}function Gb(...t){const e=Ln();if(t.length===2){const[n,r]=t;return n?e.withScope(()=>(e.getStackTop().scope=n,r(n))):e.withScope(r)}return e.withScope(t[0])}function Qu(){return Ln().getClient()}function Yb(){return Ln().getScope()}function el(t){return t.transaction}function Vb(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=O({environment:r.environment||Zu,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function Kb(t){const e=Qu();if(!e)return{};const n=Vb(kr(t).trace_id||"",e,Yb()),r=el(t);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=kr(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(Hb(r)),e.emit&&e.emit("createDsc",n),n}function Xb(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;Jb(t,e),r&&eE(t,r),tE(t,n),Zb(t,s),Qb(t,i)}function Jb(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e,c=O(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const u=O(r);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const l=O(s);l&&Object.keys(l).length&&(t.user={...l,...t.user});const d=O(i);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts}),o&&(t.level=o),a&&(t.transaction=a)}function Zb(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function Qb(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function eE(t,e){t.contexts={trace:Fb(e),...t.contexts};const n=el(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:Kb(e),...t.sdkProcessingMetadata};const r=kr(n).description;r&&(t.tags={transaction:r,...t.tags})}}function tE(t,e){t.fingerprint=t.fingerprint?tn(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const nE=100;class mt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=va()}static clone(e){return e?e.clone():new mt}clone(){const e=new mt;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Yr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof mt){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Le(n)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=va(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:nE;if(r<=0)return this;const s={timestamp:ye(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:p,_span:f}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:p,span:f}}applyToEvent(e,n={},r=[]){Xb(e,this.getScopeData());const s=[...r,...Ob(),...this._eventProcessors];return Qs(s,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:v();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:v();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:v();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function va(){return{traceId:v(),spanId:v().substring(16)}}const rE="7.120.4",tl=parseFloat(rE),sE=100;class nl{constructor(e,n,r,s=tl){this._version=s;let i;n?i=n:(i=new mt,i.setClient(e));let o;r?o=r:(o=new mt,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(s){throw this.popScope(),s}return Pe(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:v(),s=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureMessage(e,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:v(),i=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s}),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:v();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=sE}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:ye(),...e},u=i?me(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=Ia(this);try{e(this)}finally{Ia(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return ir&&h.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return ir&&!r&&(this.getClient()?h.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):h.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Lb(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Zu}=r&&r.getOptions()||{},{userAgent:o}=k.navigator||{},a=Db({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&Yr(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const s=Vr().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);ir&&h.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Vr(){return k.__SENTRY__=k.__SENTRY__||{extensions:{},hub:void 0},k}function Ia(t){const e=Vr(),n=ei(e);return rl(e,t),n}function Ln(){const t=Vr();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return iE(t)}function iE(t=Vr()){return(!oE(t)||ei(t).isOlderThan(tl))&&rl(t,new nl),ei(t)}function oE(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function ei(t){return it("hub",()=>new nl,t)}function rl(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}const aE="CaptureConsole",cE=(t={})=>{const e=t.levels||ar;return{name:aE,setupOnce(){},setup(n){"console"in k&&Pa(({args:r,level:s})=>{Qu()!==n||!e.includes(s)||uE(r,s)})}}},GE=cE;function uE(t,e){const n={level:Va(e),extra:{arguments:t}};Gb(r=>{if(r.addEventProcessor(o=>(o.logger="console",gt(o,{handled:!1,type:"console"}),o)),e==="assert"&&t[0]===!1){const o=`Assertion failed: ${or(t.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",t.slice(1)),Ta(o,n);return}const s=t.find(o=>o instanceof Error);if(e==="error"&&s){Wb(s,n);return}const i=or(t," ");Ta(i,n)})}const lE=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,dE="ExtraErrorData",fE=(t={})=>{const e=t.depth||3,n=t.captureErrorCause||!1;return{name:dE,setupOnce(){},processEvent(r,s){return pE(r,s,e,n)}}},YE=fE;function pE(t,e={},n,r){if(!e.originalException||!Pt(e.originalException))return t;const s=e.originalException.name||e.originalException.constructor.name,i=hE(e.originalException,r);if(i){const o={...t.contexts},a=oe(i,n);return Le(a)&&($e(a,"__sentry_skip_normalization__",!0),o[s]=a),{...t,contexts:o}}return t}function hE(t,e){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const s of Object.keys(t)){if(n.indexOf(s)!==-1)continue;const i=t[s];r[s]=Pt(i)?i.toString():i}if(e&&t.cause!==void 0&&(r.cause=Pt(t.cause)?t.cause.toString():t.cause),typeof t.toJSON=="function"){const s=t.toJSON();for(const i of Object.keys(s)){const o=s[i];r[i]=Pt(o)?o.toString():o}}return r}catch(n){lE&&h.error("Unable to extract extra data from the Error object:",n)}return null}const _s=k,mE=7,gE="ContextLines",_E=(t={})=>{const e=t.frameContextLines!=null?t.frameContextLines:mE;return{name:gE,setupOnce(){},processEvent(n){return SE(n,e)}}},VE=_E;function SE(t,e){const n=_s.document,r=_s.location&&ad(_s.location.href);if(!n||!r)return t;const s=t.exception&&t.exception.values;if(!s||!s.length)return t;const i=n.documentElement.innerHTML;if(!i)return t;const o=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>yE(u,o,r,e)))}),t}function yE(t,e,n,r){return t.filename!==n||!t.lineno||!e.length||Al(e,t,r),t}const sl=["activate","mount","update"],bE=/(?:^|[-_])(\w)/g,EE=t=>t.replace(bE,e=>e.toUpperCase()).replace(/[-_]/g,""),TE="<Root>",Ss="<Anonymous>",vE=(t,e)=>t.repeat?t.repeat(e):t,En=(t,e)=>{if(!t)return Ss;if(t.$root===t)return TE;if(!t.$options)return Ss;const n=t.$options;let r=n.name||n._componentTag;const s=n.__file;if(!r&&s){const i=s.match(/([^/\\]+)\.vue$/);i&&(r=i[1])}return(r?`<${EE(r)}>`:Ss)+(s&&e!==!1?` at ${s}`:"")},IE=t=>{if(t&&(t._isVue||t.__isVue)&&t.$parent){const e=[];let n=0;for(;t;){if(e.length>0){const s=e[e.length-1];if(s.constructor===t.constructor){n++,t=t.$parent;continue}else n>0&&(e[e.length-1]=[s,n],n=0)}e.push(t),t=t.$parent}return`

found in

${e.map((s,i)=>`${(i===0?"---> ":vE(" ",5+i*2))+(Array.isArray(s)?`${En(s[0])}... (${s[1]} recursive calls)`:En(s))}`).join(`
`)}`}return`

(found in ${En(t)})`},wE=(t,e)=>{const{errorHandler:n,warnHandler:r,silent:s}=t.config;t.config.errorHandler=(i,o,a)=>{const c=En(o,!1),u=o?IE(o):"",l={componentName:c,lifecycleHook:a,trace:u};if(e.attachProps&&o&&(o.$options&&o.$options.propsData?l.propsData=o.$options.propsData:o.$props&&(l.propsData=o.$props)),setTimeout(()=>{fi(i,{captureContext:{contexts:{vue:l}},mechanism:{handled:!1}})}),typeof n=="function"&&n.call(t,i,o,a),e.logErrors){const d=typeof console<"u",p=`Error in ${a}: "${i&&i.toString()}"`;r?r.call(null,p,o,u):d&&!s&&me(()=>{console.error(`[Vue warn]: ${p}${u}`)})}}},kE=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,wa="ui.vue",CE={activate:["activated","deactivated"],create:["beforeCreate","created"],unmount:["beforeUnmount","unmounted"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function xE(){return Ye().getTransaction()}function RE(t,e,n){t.$_sentryRootSpanTimer&&clearTimeout(t.$_sentryRootSpanTimer),t.$_sentryRootSpanTimer=setTimeout(()=>{t.$root&&t.$root.$_sentryRootSpan&&(t.$root.$_sentryRootSpan.end(e),t.$root.$_sentryRootSpan=void 0)},n)}const ME=t=>{const e=(t.hooks||[]).concat(sl).filter((r,s,i)=>i.indexOf(r)===s),n={};for(const r of e){const s=CE[r];if(!s){kE&&h.warn(`Unknown hook: ${r}`);continue}for(const i of s)n[i]=function(){const o=this.$root===this;o&&Ds()&&(this.$_sentryRootSpan=this.$_sentryRootSpan||ho({name:"Application Render",op:`${wa}.render`,origin:"auto.ui.vue"}));const a=En(this,!1),c=Array.isArray(t.trackComponents)?t.trackComponents.indexOf(a)>-1:t.trackComponents;if(!(!o&&!c))if(this.$_sentrySpans=this.$_sentrySpans||{},i==s[0]){if(this.$root&&this.$root.$_sentryRootSpan||Ds()){const l=this.$_sentrySpans[r];l&&l.end(),this.$_sentrySpans[r]=ho({name:`Vue <${a}>`,op:`${wa}.${r}`,origin:"auto.ui.vue"})}}else{const u=this.$_sentrySpans[r];if(!u)return;u.end(),RE(this,_e(),t.timeout)}}}return n},AE=k,NE={Vue:AE.Vue,attachProps:!0,logErrors:!0,hooks:sl,timeout:2e3,trackComponents:!1},OE="Vue",DE=(t={})=>({name:OE,setupOnce(){},setup(e){$E(e,t)}}),LE=DE;function $E(t,e){const n={...NE,...t.getOptions(),...e};if(!n.Vue&&!n.app){me(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")});return}n.app?tn(n.app).forEach(s=>ka(s,n)):n.Vue&&ka(n.Vue,n)}const ka=(t,e)=>{const n=t;(n._instance&&n._instance.isMounted)===!0&&me(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`.")}),wE(t,e),pi(e)&&t.mixin(ME({...e,...e.tracingOptions}))};function KE(t={}){const e={_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:vn}],version:vn}},defaultIntegrations:[...Qc(),LE()],...t};Km(e)}function PE(t,e,n){t.onError(r=>fi(r,{mechanism:{handled:!1}})),t.beforeEach((r,s,i)=>{const o=s.name==null&&s.matched.length===0,a={[mo]:"auto.navigation.vue"};for(const l of Object.keys(r.params))a[`params.${l}`]=r.params[l];for(const l of Object.keys(r.query)){const d=r.query[l];d&&(a[`query.${l}`]=d)}let c=r.path,u="url";if(r.name&&e.routeLabel!=="path"?(c=r.name.toString(),u="custom"):r.matched[0]&&r.matched[0].path&&(c=r.matched[0].path,u="route"),e.instrumentPageLoad&&o){const l=xE();l&&((zt(l).data||{})[ss]!=="custom"&&(l.updateName(c),l.setAttribute(ss,u)),l.setAttributes({...a,[mo]:"auto.pageload.vue"}))}e.instrumentNavigation&&!o&&(a[ss]=u,n({name:c,op:"navigation",attributes:a})),i&&i()})}function XE(t={}){if(!t.router)return Do(t);const e=Do({...t,instrumentNavigation:!1}),{router:n,instrumentNavigation:r=!0,instrumentPageLoad:s=!0,routeLabel:i="name"}=t;return{...e,afterAllSetup(o){e.afterAllSetup(o),PE(n,{routeLabel:i,instrumentNavigation:r,instrumentPageLoad:s},c=>{Wc(o,c)})}}}export{GE as a,XE as b,fi as c,VE as d,YE as e,WE as f,BE as g,KE as i,no as p,qE as r,HE as s};
//# sourceMappingURL=sentry-CX5z418I.js.map
