{"version":3,"file":"AdminProfile-CCQMFQ_u.js","sources":["../../src/pages/AdminProfile.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-row\" style=\"max-height: 100vh\">\n    <!-- Sidebar -->\n    <div :class=\"sidebarOpen ? 'sidebar-container-open' : 'sidebar-container-collapsed'\">\n      <div class=\"flex flex-column\">\n        <router-link v-if=\"!isLevante\" to=\"/profile\">\n          <div class=\"sidebar-button\">\n            <i class=\"pi pi-user\" /><span v-if=\"sidebarOpen\">Your Info</span>\n          </div></router-link\n        >\n        <router-link v-if=\"isAdmin\" to=\"/profile/password\"\n          ><div class=\"sidebar-button\">\n            <i class=\"pi pi-key\" /><span v-if=\"sidebarOpen\">{{\n              hasPassword ? 'Change Password' : 'Add Password'\n            }}</span>\n          </div></router-link\n        >\n        <router-link v-if=\"isAdmin\" to=\"/profile/accounts\"\n          ><div class=\"sidebar-button\">\n            <i class=\"pi pi-users\" /><span v-if=\"sidebarOpen\">Link Accounts</span>\n          </div></router-link\n        >\n        <router-link to=\"/profile/settings\"\n          ><div class=\"sidebar-button\">\n            <i class=\"pi pi-cog\" /><span v-if=\"sidebarOpen\">{{ t('profile.settings.settings') }}</span>\n          </div></router-link\n        >\n      </div>\n      <button\n        class=\"w-full border-none cursor-pointer h-3rem flex align-items-center\"\n        :class=\"sidebarOpen ? 'justify-content-end' : 'justify-content-center'\"\n        style=\"background-color: var(--surface-b)\"\n        @click=\"sidebarOpen = !sidebarOpen\"\n      >\n        <i\n          v-if=\"!sidebarOpen\"\n          class=\"pi text-2xl pi-angle-double-right text-grey-600\"\n          style=\"color: var(--surface-400)\"\n        ></i>\n        <i v-else class=\"pi text-2xl pi-angle-double-left mr-2 text-grey-600\" style=\"color: var(--surface-400)\"></i>\n      </button>\n    </div>\n    <!-- Main Page Content-->\n    <div class=\"page-container\">\n      <router-view />\n    </div>\n  </div>\n</template>\n<script setup>\nimport { ref, computed, onMounted } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport _isEmpty from 'lodash/isEmpty';\nimport _union from 'lodash/union';\nimport { useAuthStore } from '@/store/auth';\nimport useUserClaimsQuery from '@/composables/queries/useUserClaimsQuery';\nimport { isLevante } from '@/helpers';\nimport { useI18n } from 'vue-i18n';\n\nconst { t } = useI18n();\nconst authStore = useAuthStore();\nconst { roarfirekit } = storeToRefs(authStore);\nconst sidebarOpen = ref(true);\n\nconst providerIds = computed(() => {\n  const providerData = roarfirekit.value?.admin?.user?.providerData;\n  return providerData.map((provider) => {\n    return provider.providerId;\n  });\n});\n\nconst hasPassword = computed(() => {\n  return providerIds.value.includes('password');\n});\n\n// +-------------------------+\n// | Firekit Inititalization |\n// +-------------------------+\nconst initialized = ref(false);\nlet unsubscribe;\nconst init = () => {\n  if (unsubscribe) unsubscribe();\n  initialized.value = true;\n};\n\nunsubscribe = authStore.$subscribe(async (mutation, state) => {\n  if (state.roarfirekit.restConfig) init();\n});\n\nonMounted(() => {\n  if (roarfirekit.value.restConfig) init();\n});\n\nconst { data: userClaims } = useUserClaimsQuery({\n  enabled: initialized,\n});\n\n// Keep track of the user's type\nconst isAdmin = computed(() => {\n  if (userClaims.value?.claims?.super_admin) return true;\n  if (_isEmpty(_union(...Object.values(userClaims.value?.claims?.adminOrgs ?? {})))) return false;\n  return true;\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.sidebar-container-open {\n  background-color: var(--surface-b);\n  flex-basis: 25%;\n  width: 100%;\n  height: calc(100vh - 119px);\n  border-right: 2px solid var(--surface-d);\n  a {\n    color: black;\n    text-decoration: none;\n  }\n}\n.sidebar-button {\n  width: 100%;\n  background-color: var(--surface-d);\n  padding: 1rem;\n  color: black;\n  span {\n    padding-left: 0.5rem;\n    color: black;\n    font-weight: 500;\n  }\n}\n.sidebar-button:hover {\n  background-color: var(--surface-400);\n}\n.page-container {\n  flex-basis: 75%;\n  flex-grow: 1;\n  max-height: calc(100vh - 119px);\n  overflow: scroll;\n  padding: 1rem;\n  scroll-behavior: smooth;\n}\n.sidebar-container-collapsed {\n  display: flex;\n  flex-direction: column;\n  background-color: var(--surface-b);\n  flex-basis: 2rem;\n  height: calc(100vh - 119px);\n  border-right: 2px solid var(--surface-d);\n}\n</style>\n"],"names":["t","useI18n","authStore","useAuthStore","roarfirekit","storeToRefs","sidebarOpen","ref","providerIds","computed","_c","_b","_a","provider","hasPassword","initialized","unsubscribe","init","mutation","state","onMounted","userClaims","useUserClaimsQuery","isAdmin","_isEmpty","_union","_d","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_unref","isLevante","_createBlock","_component_router_link","_hoisted_3","_hoisted_5","_hoisted_7","_createVNode","_hoisted_9","_normalizeClass","_cache","$event","_hoisted_12","_hoisted_11","_hoisted_13","_component_router_view"],"mappings":"6oCA0DA,KAAM,CAAE,EAAAA,CAAC,EAAKC,EAAO,EACfC,EAAYC,EAAY,EACxB,CAAE,YAAAC,CAAW,EAAKC,EAAYH,CAAS,EACvCI,EAAcC,EAAI,EAAI,EAEtBC,EAAcC,EAAS,IAAM,WAEjC,QADqBC,GAAAC,GAAAC,EAAAR,EAAY,QAAZ,YAAAQ,EAAmB,QAAnB,YAAAD,EAA0B,OAA1B,YAAAD,EAAgC,cACjC,IAAKG,GAChBA,EAAS,UACjB,CACH,CAAC,EAEKC,EAAcL,EAAS,IACpBD,EAAY,MAAM,SAAS,UAAU,CAC7C,EAKKO,EAAcR,EAAI,EAAK,EAC7B,IAAIS,EACJ,MAAMC,EAAO,IAAM,CACbD,GAAaA,EAAW,EAC5BD,EAAY,MAAQ,EACtB,EAEAC,EAAcd,EAAU,WAAW,MAAOgB,EAAUC,IAAU,CACxDA,EAAM,YAAY,YAAYF,EAAI,CACxC,CAAC,EAEDG,EAAU,IAAM,CACVhB,EAAY,MAAM,YAAYa,EAAI,CACxC,CAAC,EAED,KAAM,CAAE,KAAMI,CAAU,EAAKC,EAAmB,CAC9C,QAASP,CACX,CAAC,EAGKQ,EAAUd,EAAS,IAAM,aAC7B,OAAIE,GAAAC,EAAAS,EAAW,QAAX,YAAAT,EAAkB,SAAlB,MAAAD,EAA0B,YAAoB,GAC9C,CAAAa,EAASC,EAAO,GAAG,OAAO,SAAOC,GAAAhB,EAAAW,EAAW,QAAX,YAAAX,EAAkB,SAAlB,YAAAgB,EAA0B,YAAa,CAAA,CAAE,CAAC,CAAC,CAElF,CAAC,4DApGC,OAAAC,EAAA,EAAAC,EA6CM,MA7CNC,EA6CM,CA3CJC,EAsCM,MAAA,CAtCA,QAAOxB,EAAA,MAAW,yBAAA,6BAAA,IACtBwB,EAuBM,MAvBNC,EAuBM,CAtBgBC,EAAAC,CAAA,gBAApBC,EAICC,EAAA,OAJ8B,GAAG,uBAChC,IAEM,CAFNL,EAEM,MAFNM,EAEM,aADJN,EAAwB,IAAA,CAArB,MAAM,YAAY,EAAA,KAAA,EAAA,GAAexB,EAAA,OAAZqB,EAAA,EAAAC,EAAyC,SAAhB,WAAS,uBAG3CL,EAAA,WAAnBW,EAMCC,EAAA,OAN2B,GAAG,gCAC5B,IAIK,CAJLL,EAIK,MAJLO,EAIK,aAHJP,EAAuB,IAAA,CAApB,MAAM,WAAW,EAAA,KAAA,EAAA,GAAexB,EAAA,OAAZqB,IAAAC,EAEd,WADPd,EAAA,MAAW,kBAAA,cAAA,EAAA,CAAA,gCAIES,EAAA,WAAnBW,EAICC,EAAA,OAJ2B,GAAG,gCAC5B,IAEK,CAFLL,EAEK,MAFLQ,EAEK,aADJR,EAAyB,IAAA,CAAtB,MAAM,aAAa,EAAA,KAAA,EAAA,GAAexB,EAAA,OAAZqB,EAAA,EAAAC,EAA6C,SAApB,eAAa,gCAGnEW,EAICJ,EAAA,CAJY,GAAG,mBAAmB,EAAA,WAChC,IAEK,CAFLL,EAEK,MAFLU,EAEK,aADJV,EAAuB,IAAA,CAApB,MAAM,WAAW,EAAA,KAAA,EAAA,GAAexB,EAAA,OAAZqB,IAAAC,EAAoE,WAAxCI,EAAAhC,CAAA,EAAC,2BAAA,CAAA,EAAA,CAAA,wBAI1D8B,EAYS,SAAA,CAXP,MAAKW,EAAA,CAAC,mEACEnC,EAAA,MAAW,sBAAA,wBAAA,CAAA,EACnB,MAAA,CAAA,mBAAA,kBAAA,EACC,QAAKoC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAErC,EAAA,MAAW,CAAIA,EAAA,SAGdA,EAAA,OAITqB,IAAAC,EAA4G,IAA5GgB,CAA4G,IAL5GjB,IAAAC,EAIK,IAJLiB,CAIK,WAKTf,EAEM,MAFNgB,EAEM,CADJP,EAAeQ,CAAA"}